(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32f179fc","fail"],{"004c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("page-layout",{attrs:{avatar:e.avatar}},[n("div",{attrs:{slot:"headerContent"},slot:"headerContent"},[n("div",{staticClass:"title"},[e._v(e._s(e.timeFix)+"，"+e._s(e.nickname())),n("span",{staticClass:"welcome-text"},[e._v("，"+e._s(e.welcome()))])]),n("div",[e._v("前端工程师 | 蚂蚁金服 - 某某某事业群 - VUE平台")])]),n("div",{attrs:{slot:"extra"},slot:"extra"},[n("a-row",{staticClass:"more-info"},[n("a-col",{attrs:{span:8}},[n("head-info",{attrs:{title:"项目数",content:"56",center:!1,bordered:!1}})],1),n("a-col",{attrs:{span:8}},[n("head-info",{attrs:{title:"团队排名",content:"8/24",center:!1,bordered:!1}})],1),n("a-col",{attrs:{span:8}},[n("head-info",{attrs:{title:"项目访问",content:"2,223",center:!1}})],1)],1)],1),n("div",[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{xl:16,lg:24,md:24,sm:24,xs:24}},[n("a-card",{staticClass:"project-list",staticStyle:{"margin-bottom":"24px"},attrs:{loading:e.loading,bordered:!1,title:"进行中的项目","body-style":{padding:0}}},[n("a",{attrs:{slot:"extra"},slot:"extra"},[e._v("全部项目")]),n("div",e._l(e.projects,(function(t,r){return n("a-card-grid",{key:r,staticClass:"project-card-grid"},[n("a-card",{attrs:{bordered:!1,"body-style":{padding:0}}},[n("a-card-meta",[n("div",{staticClass:"card-title",attrs:{slot:"title"},slot:"title"},[n("a-avatar",{attrs:{size:"small",src:t.cover}}),n("a",[e._v(e._s(t.title))])],1),n("div",{staticClass:"card-description",attrs:{slot:"description"},slot:"description"},[e._v("\n                    "+e._s(t.description)+"\n                  ")])]),n("div",{staticClass:"project-item"},[n("a",{attrs:{href:"/#/"}},[e._v("科学搬砖组")]),n("span",{staticClass:"datetime"},[e._v("9小时前")])])],1)],1)})),1)]),n("a-card",{attrs:{loading:e.loading,title:"动态",bordered:!1}},[n("a-list",e._l(e.activities,(function(t,r){return n("a-list-item",{key:r},[n("a-list-item-meta",[n("a-avatar",{attrs:{slot:"avatar",src:t.user.avatar},slot:"avatar"}),n("div",{attrs:{slot:"title"},slot:"title"},[n("span",[e._v(e._s(t.user.nickname))]),e._v(" \n                  在 "),n("a",{attrs:{href:"#"}},[e._v(e._s(t.project.name))]),e._v(" \n                  "),n("span",[e._v(e._s(t.project.action))]),e._v(" \n                  "),n("a",{attrs:{href:"#"}},[e._v(e._s(t.project.event))])]),n("div",{attrs:{slot:"description"},slot:"description"},[e._v(e._s(t.time))])],1)],1)})),1)],1)],1),n("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:8,lg:24,md:24,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a",[e._v("操作一")]),n("a",[e._v("操作二")]),n("a",[e._v("操作三")]),n("a",[e._v("操作四")]),n("a",[e._v("操作五")]),n("a",[e._v("操作六")]),n("a-button",{attrs:{size:"small",type:"primary",ghost:"",icon:"plus"}},[e._v("添加")])],1)]),n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"XX 指数",loading:e.radarLoading,bordered:!1,"body-style":{padding:0}}},[n("div",{staticStyle:{"min-height":"400px"}},[n("radar",{attrs:{data:e.radarData}})],1)]),n("a-card",{attrs:{loading:e.loading,title:"团队",bordered:!1}},[n("div",{staticClass:"members"},[n("a-row",e._l(e.teams,(function(t,r){return n("a-col",{key:r,attrs:{span:12}},[n("a",[n("a-avatar",{attrs:{size:"small",src:t.avatar}}),n("span",{staticClass:"member"},[e._v(e._s(t.name))])],1)])})),1)],1)])],1)],1)],1)])},o=[],i=n("ca00"),a=n("cf6b"),s=n("b445"),l=n("81d1"),u=n("3981"),c=n("0fea");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=n("b74e"),m={name:"Workplace",components:{PageLayout:s["default"],HeadInfo:l["default"],Radar:u["default"]},data:function(){return{timeFix:Object(i["g"])(),avatar:"",user:{},projects:[],loading:!0,radarLoading:!0,activities:[],teams:[],axis1Opts:{dataKey:"item",line:null,tickLine:null,grid:{lineStyle:{lineDash:null},hideFirstLine:!1}},axis2Opts:{dataKey:"score",line:null,tickLine:null,grid:{type:"polygon",lineStyle:{lineDash:null}}},scale:[{dataKey:"score",min:0,max:80}],axisData:[{item:"引用",a:70,b:30,c:40},{item:"口碑",a:60,b:70,c:40},{item:"产量",a:50,b:60,c:40},{item:"贡献",a:40,b:50,c:40},{item:"热度",a:60,b:70,c:40},{item:"引用",a:70,b:50,c:40}],radarData:[]}},computed:{userInfo:function(){return this.$store.getters.userInfo}},created:function(){this.user=this.userInfo,this.avatar=window._CONFIG["imgDomainURL"]+"/"+this.userInfo.avatar,Object(c["e"])().then((function(e){})),Object(c["f"])().then((function(e){}))},mounted:function(){this.getProjects(),this.getActivity(),this.getTeams(),this.initRadar()},methods:f(f({},Object(a["c"])(["nickname","welcome"])),{},{getProjects:function(){var e=this;this.$http.get("/api/list/search/projects").then((function(t){e.projects=t.result&&t.result.data,e.loading=!1}))},getActivity:function(){var e=this;this.$http.get("/api/workplace/activity").then((function(t){e.activities=t.result}))},getTeams:function(){var e=this;this.$http.get("/api/workplace/teams").then((function(t){e.teams=t.result}))},initRadar:function(){var e=this;this.radarLoading=!0,this.$http.get("/api/workplace/radar").then((function(t){var n=(new h.View).source(t.result);n.transform({type:"fold",fields:["个人","团队","部门"],key:"user",value:"score"}),e.radarData=n.rows,e.radarLoading=!1}))}})},g=m,v=(n("0108"),n("5d22")),y=Object(v["a"])(g,r,o,!1,null,"5fe3f1db",null);t["default"]=y.exports},"0108":function(e,t,n){"use strict";n("a71a")},"019b":function(e,t,n){"use strict";n("9c51")},"01c0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-row",{attrs:{gutter:10}},[n("a-col",{staticStyle:{"margin-bottom":"20px"},attrs:{md:e.leftColMd,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:12,sm:12}},[n("a-form-item",{attrs:{label:"角色名称",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[n("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.roleName,callback:function(t){e.$set(e.queryParam,"roleName",t)},expression:"queryParam.roleName"}})],1)],1),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:12,sm:24}},[n("a-button",{staticStyle:{"margin-left":"21px"},attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1)],1),n("div",{staticClass:"table-operator",staticStyle:{margin:"-8px 0 10px 2px"}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("角色录入")]),n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.handleEdit(e.model1)}}},[e._v("角色编辑")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:e.handleExportXls}},[e._v("导出")])],1),n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",[n("b",[e._v(e._s(e.selectedRowKeys1.length))])]),e._v("项\n        "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected1}},[e._v("清空")])]),n("div",{staticStyle:{"margin-top":"15px"}},[n("a-table",{ref:"table",staticStyle:{height:"500px"},attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys1,onChange:e.onSelectChange1,type:"radio"}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleOpen(r)}}},[e._v("用户")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete1(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1)])],1),n("a-col",{attrs:{md:e.rightColMd,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:12,sm:12}},[n("a-form-item",{attrs:{label:"用户账号"}},[n("a-input",{attrs:{placeholder:""},model:{value:e.queryParam2.username,callback:function(t){e.$set(e.queryParam2,"username",t)},expression:"queryParam2.username"}})],1)],1),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:9,sm:24}},[n("a-button",{staticStyle:{"margin-left":"21px"},attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery2}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset2}},[e._v("重置")])],1)],1)],1)],1)],1),n("div",{staticClass:"table-operator",staticStyle:{margin:"-25px 0px 10px 2px"},attrs:{md:24,sm:24}},[n("a-button",{staticStyle:{"margin-top":"16px"},attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd2}},[e._v("用户录入")]),n("a-button",{staticStyle:{"margin-top":"16px"},attrs:{type:"primary",icon:"plus"},on:{click:e.handleAddUserRole}},[e._v("添加已有用户")]),e.selectedRowKeys2.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel2}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n              删除\n            ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n            "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys2.length))]),e._v("项\n          "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected2}},[e._v("清空")])]),n("a-table",{ref:"table2",staticStyle:{height:"500px"},attrs:{bordered:"",size:"middle",rowKey:"id",columns:e.columns2,dataSource:e.dataSource2,pagination:e.ipagination2,loading:e.loading2,rowSelection:{selectedRowKeys:e.selectedRowKeys2,onChange:e.onSelectChange2}},on:{change:e.handleTableChange2},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit2(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete2(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("role-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("user-modal",{ref:"modalForm2",on:{ok:e.modalFormOk2}}),n("Select-User-Modal",{ref:"selectUserModal",on:{selectFinished:e.selectOK}})],1)],1)],1)},o=[],i=n("b65a"),a=n("0fea"),s=n("b3c4"),l=n("2a70"),u=n("418f"),c=n("ca00"),d={name:"RoleUserList",mixins:[i["a"]],components:{SelectUserModal:s["default"],RoleModal:l["default"],UserModal:u["default"]},data:function(){return{model1:{},model2:{},currentRoleId:"",queryParam1:{},queryParam2:{},dataSource1:[],dataSource2:[],ipagination1:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},ipagination2:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter1:{column:"createTime",order:"desc"},isorter2:{column:"createTime",order:"desc"},filters1:{},filters2:{},loading1:!1,loading2:!1,selectedRowKeys1:[],selectedRowKeys2:[],selectionRows1:[],selectionRows2:[],columns:[{title:"角色编码",align:"center",dataIndex:"roleCode"},{title:"角色名称",align:"center",dataIndex:"roleName"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],columns2:[{title:"用户账号",align:"center",dataIndex:"username",width:120},{title:"用户名称",align:"center",width:100,dataIndex:"realname"},{title:"状态",align:"center",width:80,dataIndex:"status_dictText"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center",width:120}],url:{list:"/sys/role/list",delete:"/sys/role/delete",list2:"/sys/user/userRoleList",addUserRole:"/sys/user/addSysUserRole",delete2:"/sys/user/deleteUserRole",deleteBatch2:"/sys/user/deleteUserRoleBatch",exportXlsUrl:"sys/role/exportXls",importExcelUrl:"sys/role/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)},leftColMd:function(){return 0===this.selectedRowKeys1.length?24:12},rightColMd:function(){return 0===this.selectedRowKeys1.length?0:12}},methods:{onSelectChange2:function(e,t){this.selectedRowKeys2=e,this.selectionRows2=t},onClearSelected2:function(){this.selectedRowKeys2=[],this.selectionRows2=[]},onClearSelected1:function(){this.selectedRowKeys1=[],this.selectionRows1=[]},onSelectChange1:function(e,t){this.selectedRowKeys1=e,this.selectionRows1=t,this.model1=Object.assign({},t[0]),this.currentRoleId=e[0],this.loadData2()},onClearSelected:function(){},getQueryParams2:function(){var e={};this.superQueryParams2&&(e["superQueryParams"]=encodeURI(this.superQueryParams2));var t=Object.assign(e,this.queryParam2,this.isorter2,this.filters2);return t.field=this.getQueryField2(),t.pageNo=this.ipagination2.current,t.pageSize=this.ipagination2.pageSize,Object(c["b"])(t)},getQueryField2:function(){var e="id,";return this.columns2.forEach((function(t){e+=","+t.dataIndex})),e},handleEdit2:function(e){this.$refs.modalForm2.edit(e),this.$refs.modalForm2.title="编辑"},handleAdd2:function(){""==this.currentRoleId?this.$message.error("请选择一个角色!"):(this.$refs.modalForm2.roleDisabled=!0,this.$refs.modalForm2.roleId=this.currentRoleId,this.$refs.modalForm2.add(),this.$refs.modalForm2.title="新增")},modalFormOk2:function(){this.loadData2()},loadData2:function(e){var t=this;if(this.url.list2){if(1===e&&(this.ipagination2.current=1),""!==this.currentRoleId){var n=this.getQueryParams2();n.roleId=this.currentRoleId,this.loading2=!0,Object(a["c"])(this.url.list2,n).then((function(e){e.success&&(t.dataSource2=e.result.records,t.ipagination2.total=e.result.total),t.loading2=!1}))}}else this.$message.error("请设置url.list2属性!")},handleDelete1:function(e){this.handleDelete(e),this.dataSource2=[],this.currentRoleId=""},handleDelete2:function(e){if(this.url.delete2){var t=this;Object(a["a"])(t.url.delete2,{roleId:this.currentRoleId,userId:e}).then((function(e){e.success?(t.$message.success(e.message),t.loadData2()):t.$message.warning(e.message)}))}else this.$message.error("请设置url.delete2属性!")},batchDel2:function(){if(this.url.deleteBatch2)if(this.selectedRowKeys2.length<=0)this.$message.warning("请选择一条记录！");else{for(var e="",t=0;t<this.selectedRowKeys2.length;t++)e+=this.selectedRowKeys2[t]+",";var n=this;this.$confirm({title:"确认删除",content:"是否删除选中数据?",onOk:function(){Object(a["a"])(n.url.deleteBatch2,{roleId:n.currentRoleId,userIds:e}).then((function(e){e.success?(n.$message.success(e.message),n.loadData2(),n.onClearSelected()):n.$message.warning(e.message)}))}})}else this.$message.error("请设置url.deleteBatch2属性!")},selectOK:function(e){var t=this,n={};n.roleId=this.currentRoleId,n.userIdList=[];for(var r=0;r<e.length;r++)n.userIdList.push(e[r]);Object(a["h"])(this.url.addUserRole,n).then((function(e){e.success?(t.loadData2(),t.$message.success(e.message)):t.$message.warning(e.message)}))},handleAddUserRole:function(){""==this.currentRoleId?this.$message.error("请选择一个角色!"):this.$refs.selectUserModal.visible=!0},handleOpen:function(e){this.selectedRowKeys1=[e.id],this.model1=Object.assign({},e),this.currentRoleId=e.id,this.onClearSelected2(),this.loadData2()},handleEdit:function(e){""==this.currentRoleId?this.$message.error("请选择一个角色!"):(this.$refs.modalForm.edit(e),this.$refs.modalForm.title="编辑")},searchQuery2:function(){this.loadData2(1)},searchReset2:function(){this.queryParam2={},this.loadData2(1)},handleTableChange2:function(e,t,n){Object.keys(n).length>0&&(this.isorter2.column=n.field,this.isorter2.order="ascend"==n.order?"asc":"desc"),this.ipagination2=e,this.loadData2()}}},f=d,p=(n("30cf"),n("5d22")),h=Object(p["a"])(f,r,o,!1,null,"39a14295",null);t["default"]=h.exports},"01d8":function(e,t,n){(function(e){e(n("fc0f"))})((function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}e.defineMode("css",(function(t,n){var r=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var o,i,a=t.indentUnit,s=n.tokenHooks,l=n.documentTypes||{},u=n.mediaTypes||{},c=n.mediaFeatures||{},d=n.mediaValueKeywords||{},f=n.propertyKeywords||{},p=n.nonStandardPropertyKeywords||{},h=n.fontProperties||{},m=n.counterDescriptors||{},g=n.colorKeywords||{},v=n.valueKeywords||{},y=n.allowNested,b=n.lineComment,x=!0===n.supportsAtComponent,w=!1!==t.highlightNonStandardPropertyKeywords;function _(e,t){return o=t,e}function C(e,t){var n=e.next();if(s[n]){var r=s[n](e,t);if(!1!==r)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),_("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?_(null,"compare"):'"'==n||"'"==n?(t.tokenize=S(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),_("atom","hash")):"!"==n?(e.match(/^\s*\w*/),_("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),_("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?_(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?_("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?_(null,n):e.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(e.current())&&(t.tokenize=k),_("variable callee","variable")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),_("property","word")):_(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),_("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?_("variable-2","variable-definition"):_("variable-2","variable")):e.match(/^\w+-/)?_("meta","meta"):void 0}function S(e){return function(t,n){var r,o=!1;while(null!=(r=t.next())){if(r==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==r}return(r==e||!o&&")"!=e)&&(n.tokenize=null),_("string","string")}}function k(e,t){return e.next(),e.match(/^\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=S(")"),_(null,"(")}function O(e,t,n){this.type=e,this.indent=t,this.prev=n}function T(e,t,n,r){return e.context=new O(n,t.indentation()+(!1===r?0:a),e.context),n}function M(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function D(e,t,n){return A[n.context.type](e,t,n)}function I(e,t,n,r){for(var o=r||1;o>0;o--)n.context=n.context.prev;return D(e,t,n)}function E(e){var t=e.current().toLowerCase();i=v.hasOwnProperty(t)?"atom":g.hasOwnProperty(t)?"keyword":"variable"}var A={top:function(e,t,n){if("{"==e)return T(n,t,"block");if("}"==e&&n.context.prev)return M(n);if(x&&/@component/i.test(e))return T(n,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return T(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return T(n,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return T(n,t,"at");if("hash"==e)i="builtin";else if("word"==e)i="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return T(n,t,"interpolation");if(":"==e)return"pseudo";if(y&&"("==e)return T(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return f.hasOwnProperty(r)?(i="property","maybeprop"):p.hasOwnProperty(r)?(i=w?"string-2":"property","maybeprop"):y?(i=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(i+=" error","maybeprop")}return"meta"==e?"block":y||"hash"!=e&&"qualifier"!=e?A.top(e,t,n):(i="error","block")},maybeprop:function(e,t,n){return":"==e?T(n,t,"prop"):D(e,t,n)},prop:function(e,t,n){if(";"==e)return M(n);if("{"==e&&y)return T(n,t,"propBlock");if("}"==e||"{"==e)return I(e,t,n);if("("==e)return T(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)E(t);else if("interpolation"==e)return T(n,t,"interpolation")}else i+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?M(n):"word"==e?(i="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?I(e,t,n):")"==e?M(n):"("==e?T(n,t,"parens"):"interpolation"==e?T(n,t,"interpolation"):("word"==e&&E(t),"parens")},pseudo:function(e,t,n){return"meta"==e?"pseudo":"word"==e?(i="variable-3",n.context.type):D(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&l.hasOwnProperty(t.current())?(i="tag",n.context.type):A.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return T(n,t,"atBlock_parens");if("}"==e||";"==e)return I(e,t,n);if("{"==e)return M(n)&&T(n,t,y?"block":"top");if("interpolation"==e)return T(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();i="only"==r||"not"==r||"and"==r||"or"==r?"keyword":u.hasOwnProperty(r)?"attribute":c.hasOwnProperty(r)?"property":d.hasOwnProperty(r)?"keyword":f.hasOwnProperty(r)?"property":p.hasOwnProperty(r)?w?"string-2":"property":v.hasOwnProperty(r)?"atom":g.hasOwnProperty(r)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?I(e,t,n):"{"==e?M(n)&&T(n,t,y?"block":"top",!1):("word"==e&&(i="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?M(n):"{"==e||"}"==e?I(e,t,n,2):A.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?T(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(i="variable","restricted_atBlock_before"):D(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,M(n)):"word"==e?(i="@font-face"==n.stateArg&&!h.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!m.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(i="variable","keyframes"):"{"==e?T(n,t,"top"):D(e,t,n)},at:function(e,t,n){return";"==e?M(n):"{"==e||"}"==e?I(e,t,n):("word"==e?i="tag":"hash"==e&&(i="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?M(n):"{"==e||";"==e?I(e,t,n):("word"==e?i="variable":"variable"!=e&&"("!=e&&")"!=e&&(i="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:r?"block":"top",stateArg:null,context:new O(r?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||C)(e,t);return n&&"object"==typeof n&&(o=n[1],n=n[0]),i=n,"comment"!=o&&(t.state=A[t.state](o,e,t)),i},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),o=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(o=Math.max(0,n.indent-a)):(n=n.prev,o=n.indent)),o},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:b,fold:"brace"}}));var n=["domain","regexp","url","url-prefix"],r=t(n),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],i=t(o),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],s=t(a),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],u=t(l),c=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],d=t(c),f=["border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],p=t(f),h=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],m=t(h),g=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],v=t(g),y=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],b=t(y),x=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],w=t(x),_=n.concat(o).concat(a).concat(l).concat(c).concat(f).concat(y).concat(x);function C(e,t){var n,r=!1;while(null!=(n=e.next())){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.registerHelper("hintWords","css",_),e.defineMIME("text/css",{documentTypes:r,mediaTypes:i,mediaFeatures:s,mediaValueKeywords:u,propertyKeywords:d,nonStandardPropertyKeywords:p,fontProperties:m,counterDescriptors:v,colorKeywords:b,valueKeywords:w,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=C,C(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:i,mediaFeatures:s,mediaValueKeywords:u,propertyKeywords:d,nonStandardPropertyKeywords:p,colorKeywords:b,valueKeywords:w,fontProperties:m,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=C,C(e,t)):["operator","operator"]},":":function(e){return!!e.match(/^\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:i,mediaFeatures:s,mediaValueKeywords:u,propertyKeywords:d,nonStandardPropertyKeywords:p,colorKeywords:b,valueKeywords:w,fontProperties:m,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=C,C(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:i,mediaFeatures:s,propertyKeywords:d,nonStandardPropertyKeywords:p,fontProperties:m,counterDescriptors:v,colorKeywords:b,valueKeywords:w,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=C,C(e,t))}},name:"css",helperType:"gss"})}))},"0355":function(e,t,n){},"042c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",[n("draggable",{staticStyle:{display:"inline-block"},attrs:{options:{animation:300}},on:{end:e.end},model:{value:e.dataSource,callback:function(t){e.dataSource=t},expression:"dataSource"}},[e._l(e.dataSource,(function(e,t){return[n("div",{key:t,staticStyle:{float:"left",width:"150px",height:"150px","margin-right":"10px",margin:"0 8px 8px 0"}},[n("div",{staticStyle:{width:"100%",height:"100%",position:"relative",padding:"8px",border:"1px solid #d9d9d9","border-radius":"4px"}},[n("img",{staticStyle:{width:"100%"},attrs:{src:e.filePath,preview:"index"}})])])]})),n("a-button",{staticStyle:{"margin-top":"115px"},attrs:{type:"primary"},on:{click:e.sureChange}},[e._v("确定")])],2),n("br"),n("a-row",[n("a-col",{attrs:{span:12}},[n("p",[e._v("拖拽前json数据：")]),n("textarea",{staticStyle:{width:"780px"},attrs:{rows:"25"}},[e._v(e._s(e.oldDateSource))])]),n("a-col",{attrs:{span:12}},[n("p",[e._v("拖拽后json数据：")]),n("textarea",{staticStyle:{width:"780px"},attrs:{rows:"25"}},[e._v(e._s(e.newDateSource))])])],1)],1)},o=[],i=n("3335"),a=n.n(i),s=n("cb0a"),l=n("14b1"),u={name:"ImgDragSort",components:{ACol:l["b"],ARow:s["a"],draggable:a.a},data:function(){return{description:"图片拖拽排序",spinning:!1,dataSource:[{id:"000",sort:0,filePath:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=2735633715,2749454924&fm=27&gp=0.jpg"},{id:"111",sort:1,filePath:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3967239004,1951414302&fm=27&gp=0.jpg"},{id:"222",sort:2,filePath:"https://ss0.bdstatic.com/6Ox1bjeh1BF3odCf/it/u=3660968530,985748925&fm=191&app=48&size=h300&n=0&g=4n&f=JPEG?sec=1853310920&t=5e64af964be378c6c2a3b0acc65dfe24"},{id:"333",sort:3,filePath:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=889120611,3801177793&fm=27&gp=0.jpg"},{id:"444",sort:4,filePath:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=2445468140,2491956848&fm=27&gp=0.jpg"}],oldDateSource:[],newDateSource:[]}},created:function(){this.oldDateSource=this.dataSource},methods:{end:function(e){},sureChange:function(){for(var e=0;e<this.dataSource.length;e++)this.dataSource[e].sort=e;this.newDateSource=this.dataSource}}},c=u,d=n("5d22"),f=Object(d["a"])(c,r,o,!1,null,"2933ffa3",null);t["default"]=f.exports},"0466":function(e,t,n){"use strict";n("c59f")},"0506":function(e,t,n){},"0581":function(e,t,n){n("6d30")},"05ed":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{loading:e.loading,"body-style":{padding:"20px 24px 8px"},bordered:!1}},[n("div",{staticClass:"chart-card-header"},[n("div",{staticClass:"meta"},[n("span",{staticClass:"chart-card-title"},[e._v(e._s(e.title))]),n("span",{staticClass:"chart-card-action"},[e._t("action")],2)]),n("div",{staticClass:"total"},[n("span",[e._v(e._s(e.total))])])]),n("div",{staticClass:"chart-card-content"},[n("div",{staticClass:"content-fix"},[e._t("default")],2)]),n("div",{staticClass:"chart-card-footer"},[n("div",{staticClass:"field"},[e._t("footer")],2)])])},o=[],i={name:"ChartCard",props:{title:{type:String,default:""},total:{type:String,default:""},loading:{type:Boolean,default:!1}}},a=i,s=(n("5d28"),n("5d22")),l=Object(s["a"])(a,r,o,!1,null,"a986c542",null);t["default"]=l.exports},"0673":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"exception"},[n("div",{staticClass:"img"},[n("img",{attrs:{src:e.config[e.type].img}})]),n("div",{staticClass:"content"},[n("h1",[e._v(e._s(e.config[e.type].title))]),n("div",{staticClass:"desc"},[e._v(e._s(e.config[e.type].desc))]),n("div",{staticClass:"action"},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleToHome}},[e._v("返回首页")])],1)])])},o=[],i={403:{img:"https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg",title:"403",desc:"抱歉，你无权访问该页面"},404:{img:"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg",title:"404",desc:"抱歉，你访问的页面不存在或仍在开发中"},500:{img:"https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg",title:"500",desc:"抱歉，服务器出错了"}},a=i,s={name:"Exception",props:{type:{type:String,default:"404"}},data:function(){return{config:a}},methods:{handleToHome:function(){this.$router.push({name:"dashboard"})}}},l=s,u=(n("62d6"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"48c3c2d3",null);t["default"]=c.exports},"06db":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{centered:"",title:e.title,width:1e3,visible:e.visible,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-row",{attrs:{gutter:18}},[n("a-col",{attrs:{span:16}},[n("a-card",{attrs:{title:"选择人员",bordered:!0}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:10}},[n("a-form-item",{attrs:{label:"姓名"}},[n("a-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),n("a-col",{attrs:{span:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",[n("a-table",{attrs:{size:"small",bordered:"",rowKey:"id",columns:e.columns1,dataSource:e.dataSource1,pagination:e.ipagination,loading:e.loading,scroll:{y:240},rowSelection:{selectedRowKeys:e.selectedRowKeys,onSelectAll:e.onSelectAll,onSelect:e.onSelect,onChange:e.onSelectChange}},on:{change:e.handleTableChange}})],1)])],1),n("a-col",{attrs:{span:8}},[n("a-card",{attrs:{title:"用户选择",bordered:!0}},[n("div",[n("a-table",{attrs:{size:"small",bordered:"",rowKey:"id",columns:e.columns2,dataSource:e.dataSource2,loading:e.loading,scroll:{y:240}},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a-button",{attrs:{type:"primary",size:"small",icon:"delete"},on:{click:function(t){return e.handleDelete(r)}}},[e._v("删除")])],1)}}])})],1)])],1)],1)],1)},o=[],i=n("ca00"),a=n("0fea"),s={name:"JSelectMultiUserModal",data:function(){return{title:"用户列表",names:[],visible:!1,placement:"right",description:"人员管理页面",queryParam:{},columns1:[{title:"#",dataIndex:"",key:"rowIndex",width:50,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"姓名",align:"center",width:113,dataIndex:"name"},{title:"年龄",align:"center",width:100,dataIndex:"age"},{title:"出生日期",align:"center",width:100,dataIndex:"birthday"}],columns2:[{title:"用户账号",align:"center",width:100,dataIndex:"name"},{title:"操作",dataIndex:"action",align:"center",width:100,scopedSlots:{customRender:"action"}}],dataSource1:[],dataSource2:[],ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},loading:!1,selectedRowKeys:[],selectedRows:[],url:{list:"/test/jeecgDemo/list"}}},created:function(){this.loadData()},methods:{searchQuery:function(){this.loadData(1)},searchReset:function(){this.queryParam={},this.loadData(1)},handleCancel:function(){this.visible=!1},handleOk:function(){this.$emit("selectFinished",this.dataSource2),this.visible=!1},add:function(){this.visible=!0},loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(a["c"])(this.url.list,n).then((function(e){e.success&&(t.dataSource1=e.result.records,t.ipagination.total=e.result.total)}))},getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(i["b"])(e)},getQueryField:function(){},onSelectAll:function(e,t,n){if(!0===e)for(var r=0;r<n.length;r++)this.dataSource2.push(n[r]);else for(var o=0;o<n.length;o++)this.dataSource2.splice(this.dataSource2.indexOf(n[o]),1)},onSelect:function(e,t){if(!0===t)this.dataSource2.push(e);else{var n=this.dataSource2.indexOf(e);n>=0&&this.dataSource2.splice(this.dataSource2.indexOf(e),1)}},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[]},handleDelete:function(e){this.dataSource2.splice(this.dataSource2.indexOf(e),1)},handleTableChange:function(e,t,n){Object.keys(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"==n.order?"asc":"desc"),this.ipagination=e,this.loadData()}}},l=s,u=(n("ebd36"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"3256a726",null);t["default"]=c.exports},"077e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,okText:"保存并安排任务",cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"任务类名",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobClassName",{rules:[{required:!0,message:"请输入任务类名!"}]}],expression:"['jobClassName', {rules: [{ required: true, message: '请输入任务类名!' }]}]"}],attrs:{placeholder:"请输入任务类名"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"cron表达式"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["cronExpression",{initialValue:"0/1 * * * * ?",rules:[{required:!0,message:"请输入任务类名!"}]}],expression:"['cronExpression', {'initialValue':'0/1 * * * * ?',rules: [{ required: true, message: '请输入任务类名!' }]}]"}],attrs:{placeholder:"请输入cron表达式"}}),n("a",{attrs:{target:"_blank",href:"http://cron.qqe2.com/"}},[n("a-icon",{attrs:{type:"share-alt"}}),e._v("\n          在线cron表达式生成\n        ")],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"参数",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["parameter",{}],expression:"['parameter', {}]"}],attrs:{placeholder:"请输入参数"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{}],expression:"['description', {}]"}],attrs:{placeholder:"请输入描述"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:0}],expression:"[ 'status', {'initialValue':0}]"}],attrs:{buttonStyle:"solid"}},[n("a-radio-button",{attrs:{value:0}},[e._v("正常")]),n("a-radio-button",{attrs:{value:-1}},[e._v("停止")])],1)],1)],1)],1)],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=(n("caaf"),{name:"QuartzJobModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/sys/quartzJob/add",edit:"/sys/quartzJob/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"jobClassName","cronExpression","parameter","description","status"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}}),u=l,c=n("5d22"),d=Object(c["a"])(u,r,o,!1,null,"e3ad297e",null);t["default"]=d.exports},"084b":function(e,t,n){},"0923":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rank"},[n("h4",{staticClass:"title"},[e._v(e._s(e.title))]),n("ul",{staticClass:"list",style:{height:e.height?e.height+"px":"auto",overflow:"auto"}},e._l(e.list,(function(t,r){return n("li",{key:r},[n("span",{class:r<3?"active":null},[e._v(e._s(r+1))]),n("span",[e._v(e._s(t.name))]),n("span",[e._v(e._s(t.total))])])})),0)])},o=[],i={name:"RankList",props:{title:{type:String,default:""},list:{type:Array,default:null},height:{type:Number,default:null}}},a=i,s=(n("49a9"),n("5d22")),l=Object(s["a"])(a,r,o,!1,null,"0869b61a",null);t["default"]=l.exports},"0960":function(e,t,n){},"0b38":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"操作",width:800,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"唯一识别码",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id",{rules:[]}],expression:"[ 'id', {rules: []} ]"}],attrs:{placeholder:"唯一识别码",disabled:"disabled"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"角色名称",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"不起一个名字吗？"}]}],expression:"[ 'name', {rules: [{ required: true, message: '不起一个名字吗？' }] }]"}],attrs:{placeholder:"起一个名字"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态",hasFeedback:""}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{rules:[]}],expression:"[ 'status', {rules: []} ]"}]},[n("a-select-option",{attrs:{value:1}},[e._v("正常")]),n("a-select-option",{attrs:{value:2}},[e._v("禁用")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述",hasFeedback:""}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["describe",{rules:[]}],expression:"[ 'describe', { rules: [] } ]"}],attrs:{rows:5,placeholder:"..."}})],1),n("a-divider"),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"拥有权限",hasFeedback:""}},e._l(e.permissions,(function(t,r){return n("a-row",{key:r,attrs:{gutter:16}},[n("a-col",{attrs:{span:4}},[e._v("\n            "+e._s(t.name)+"：\n          ")]),n("a-col",{attrs:{span:20}},[t.actionsOptions.length>0?n("a-checkbox",{attrs:{indeterminate:t.indeterminate,checked:t.checkedAll},on:{change:function(n){return e.onChangeCheckAll(n,t)}}},[e._v("\n              全选\n            ")]):e._e(),n("a-checkbox-group",{attrs:{options:t.actionsOptions},on:{change:function(n){return e.onChangeCheck(t)}},model:{value:t.selected,callback:function(n){e.$set(t,"selected",n)},expression:"permission.selected"}})],1)],1)})),1)],1)],1)],1)},o=[],i=n("0fea");function a(e){try{return JSON.parse(e)}catch(t){}return[]}var s=n("85ee"),l=n.n(s),u={name:"RoleModal",data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},visible:!1,confirmLoading:!1,mdl:{},form:this.$form.createForm(this),permissions:[]}},created:function(){this.loadPermissions()},methods:{add:function(){this.edit({id:0})},edit:function(e){var t=this;if(this.mdl=Object.assign({},e),this.visible=!0,this.mdl.permissions&&this.permissions){var n={};this.mdl.permissions.forEach((function(e){n[e.permissionId]=e.actionEntitySet.map((function(e){return e.action}))})),this.permissions.forEach((function(e){e.selected=n[e.id]}))}this.$nextTick((function(){t.form.setFieldsValue(l()(t.mdl,"id","name","status","describe"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this;this.form.validateFields((function(t,n){t||(e.confirmLoading=!0,new Promise((function(e){setTimeout((function(){return e()}),2e3)})).then((function(){e.$message.success("保存成功"),e.$emit("ok")})).catch((function(){})).finally((function(){e.confirmLoading=!1,e.close()})))}))},handleCancel:function(){this.close()},onChangeCheck:function(e){e.indeterminate=!!e.selected.length&&e.selected.length<e.actionsOptions.length,e.checkedAll=e.selected.length===e.actionsOptions.length},onChangeCheckAll:function(e,t){Object.assign(t,{selected:e.target.checked?t.actionsOptions.map((function(e){return e.value})):[],indeterminate:!1,checkedAll:e.target.checked})},loadPermissions:function(){var e=this;Object(i["d"])().then((function(t){var n=t.result;e.permissions=n.map((function(e){var t=a(e.actionData);return e.checkedAll=!1,e.selected=[],e.indeterminate=!1,e.actionsOptions=t.map((function(e){return{label:e.describe,value:e.action}})),e}))}))}}},c=u,d=n("5d22"),f=Object(d["a"])(c,r,o,!1,null,"98a9c9d0",null);t["default"]=f.exports},"0b56":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  Monitor\n")])},o=[],i={name:"Monitor"},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,"262f850e",null);t["default"]=l.exports},"0bc3":function(e,t,n){(function(e){e(n("fc0f"),n("01d8"))})((function(e){"use strict";e.defineMode("sass",(function(t){var n=e.mimeModes["text/css"],r=n.propertyKeywords||{},o=n.colorKeywords||{},i=n.valueKeywords||{},a=n.fontProperties||{};function s(e){return new RegExp("^"+e.join("|"))}var l,u=["true","false","null","auto"],c=new RegExp("^"+u.join("|")),d=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"],f=s(d),p=/^::?[a-zA-Z_][\w\-]*/;function h(e){return!e.peek()||e.match(/\s+$/,!1)}function m(e,t){var n=e.peek();return")"===n?(e.next(),t.tokenizer=w,"operator"):"("===n?(e.next(),e.eatSpace(),"operator"):"'"===n||'"'===n?(t.tokenizer=v(e.next()),"string"):(t.tokenizer=v(")",!1),"string")}function g(e,t){return function(n,r){return n.sol()&&n.indentation()<=e?(r.tokenizer=w,w(n,r)):(t&&n.skipTo("*/")?(n.next(),n.next(),r.tokenizer=w):n.skipToEnd(),"comment")}}function v(e,t){function n(r,o){var i=r.next(),a=r.peek(),s=r.string.charAt(r.pos-2),l="\\"!==i&&a===e||i===e&&"\\"!==s;return l?(i!==e&&t&&r.next(),h(r)&&(o.cursorHalf=0),o.tokenizer=w,"string"):"#"===i&&"{"===a?(o.tokenizer=y(n),r.next(),"operator"):"string"}return null==t&&(t=!0),n}function y(e){return function(t,n){return"}"===t.peek()?(t.next(),n.tokenizer=e,"operator"):w(t,n)}}function b(e){if(0==e.indentCount){e.indentCount++;var n=e.scopes[0].offset,r=n+t.indentUnit;e.scopes.unshift({offset:r})}}function x(e){1!=e.scopes.length&&e.scopes.shift()}function w(e,t){var n=e.peek();if(e.match("/*"))return t.tokenizer=g(e.indentation(),!0),t.tokenizer(e,t);if(e.match("//"))return t.tokenizer=g(e.indentation(),!1),t.tokenizer(e,t);if(e.match("#{"))return t.tokenizer=y(w),"operator";if('"'===n||"'"===n)return e.next(),t.tokenizer=v(n),"string";if(t.cursorHalf){if("#"===n&&(e.next(),e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)))return h(e)&&(t.cursorHalf=0),"number";if(e.match(/^-?[0-9\.]+/))return h(e)&&(t.cursorHalf=0),"number";if(e.match(/^(px|em|in)\b/))return h(e)&&(t.cursorHalf=0),"unit";if(e.match(c))return h(e)&&(t.cursorHalf=0),"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=m,h(e)&&(t.cursorHalf=0),"atom";if("$"===n)return e.next(),e.eatWhile(/[\w-]/),h(e)&&(t.cursorHalf=0),"variable-2";if("!"===n)return e.next(),t.cursorHalf=0,e.match(/^[\w]+/)?"keyword":"operator";if(e.match(f))return h(e)&&(t.cursorHalf=0),"operator";if(e.eatWhile(/[\w-]/))return h(e)&&(t.cursorHalf=0),l=e.current().toLowerCase(),i.hasOwnProperty(l)?"atom":o.hasOwnProperty(l)?"keyword":r.hasOwnProperty(l)?(t.prevProp=e.current().toLowerCase(),"property"):"tag";if(h(e))return t.cursorHalf=0,null}else{if("-"===n&&e.match(/^-\w+-/))return"meta";if("."===n){if(e.next(),e.match(/^[\w-]+/))return b(t),"qualifier";if("#"===e.peek())return b(t),"tag"}if("#"===n){if(e.next(),e.match(/^[\w-]+/))return b(t),"builtin";if("#"===e.peek())return b(t),"tag"}if("$"===n)return e.next(),e.eatWhile(/[\w-]/),"variable-2";if(e.match(/^-?[0-9\.]+/))return"number";if(e.match(/^(px|em|in)\b/))return"unit";if(e.match(c))return"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=m,"atom";if("="===n&&e.match(/^=[\w-]+/))return b(t),"meta";if("+"===n&&e.match(/^\+[\w-]+/))return"variable-3";if("@"===n&&e.match("@extend")&&(e.match(/\s*[\w]/)||x(t)),e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return b(t),"def";if("@"===n)return e.next(),e.eatWhile(/[\w-]/),"def";if(e.eatWhile(/[\w-]/)){if(e.match(/ *: *[\w-\+\$#!\("']/,!1)){l=e.current().toLowerCase();var s=t.prevProp+"-"+l;return r.hasOwnProperty(s)?"property":r.hasOwnProperty(l)?(t.prevProp=l,"property"):a.hasOwnProperty(l)?"property":"tag"}return e.match(/ *:/,!1)?(b(t),t.cursorHalf=1,t.prevProp=e.current().toLowerCase(),"property"):(e.match(/ *,/,!1)||b(t),"tag")}if(":"===n)return e.match(p)?"variable-3":(e.next(),t.cursorHalf=1,"operator")}return e.match(f)?"operator":(e.next(),null)}function _(e,n){e.sol()&&(n.indentCount=0);var r=n.tokenizer(e,n),o=e.current();if("@return"!==o&&"}"!==o||x(n),null!==r){for(var i=e.pos-o.length,a=i+t.indentUnit*n.indentCount,s=[],l=0;l<n.scopes.length;l++){var u=n.scopes[l];u.offset<=a&&s.push(u)}n.scopes=s}return r}return{startState:function(){return{tokenizer:w,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(e,t){var n=_(e,t);return t.lastToken={style:n,content:e.current()},n},indent:function(e){return e.scopes[0].offset}}}),"css"),e.defineMIME("text/x-sass","sass")}))},"0bd7":function(e,t,n){"use strict";n("1187")},"0c3f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-list",{attrs:{itemLayout:"horizontal",dataSource:e.data}})},o=[],i={data:function(){return{data:[]}},methods:{}},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,"2019a4fb",null);t["default"]=l.exports},"0c85":function(e,t,n){(function(e){e(n("fc0f"))})((function(e){"use strict";e.defineMode("shell",(function(){var t={};function n(e,n){for(var r=0;r<n.length;r++)t[n[r]]=e}var r=["true","false"],o=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],i=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];function a(e,n){if(e.eatSpace())return null;var r=e.sol(),o=e.next();if("\\"===o)return e.next(),null;if("'"===o||'"'===o||"`"===o)return n.tokens.unshift(s(o,"`"===o?"quote":"string")),d(e,n);if("#"===o)return r&&e.eat("!")?(e.skipToEnd(),"meta"):(e.skipToEnd(),"comment");if("$"===o)return n.tokens.unshift(u),d(e,n);if("+"===o||"="===o)return"operator";if("-"===o)return e.eat("-"),e.eatWhile(/\w/),"attribute";if("<"==o){if(e.match("<<"))return"operator";var i=e.match(/^<-?\s*['"]?([^'"]*)['"]?/);if(i)return n.tokens.unshift(c(i[1])),"string-2"}if(/\d/.test(o)&&(e.eatWhile(/\d/),e.eol()||!/\w/.test(e.peek())))return"number";e.eatWhile(/[\w-]/);var a=e.current();return"="===e.peek()&&/\w+/.test(a)?"def":t.hasOwnProperty(a)?t[a]:null}function s(e,t){var n="("==e?")":"{"==e?"}":e;return function(r,o){var i,a=!1;while(null!=(i=r.next())){if(i===n&&!a){o.tokens.shift();break}if("$"===i&&!a&&"'"!==e&&r.peek()!=n){a=!0,r.backUp(1),o.tokens.unshift(u);break}if(!a&&e!==n&&i===e)return o.tokens.unshift(s(e,t)),d(r,o);if(!a&&/['"]/.test(i)&&!/['"]/.test(e)){o.tokens.unshift(l(i,"string")),r.backUp(1);break}a=!a&&"\\"===i}return t}}function l(e,t){return function(n,r){return r.tokens[0]=s(e,t),n.next(),d(n,r)}}e.registerHelper("hintWords","shell",r.concat(o,i)),n("atom",r),n("keyword",o),n("builtin",i);var u=function(e,t){t.tokens.length>1&&e.eat("$");var n=e.next();return/['"({]/.test(n)?(t.tokens[0]=s(n,"("==n?"quote":"{"==n?"def":"string"),d(e,t)):(/\d/.test(n)||e.eatWhile(/\w/),t.tokens.shift(),"def")};function c(e){return function(t,n){return t.sol()&&t.string==e&&n.tokens.shift(),t.skipToEnd(),"string-2"}}function d(e,t){return(t.tokens[0]||a)(e,t)}return{startState:function(){return{tokens:[]}},token:function(e,t){return d(e,t)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}})),e.defineMIME("text/x-sh","shell"),e.defineMIME("application/x-sh","shell")}))},"0cb1":function(e,t,n){},"0d4b":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:12}},[n("a-form-item",{attrs:{label:"账号"}},[n("a-input",{attrs:{placeholder:"请输入账号查询"},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"性别"}},[n("a-select",{attrs:{placeholder:"请选择性别查询"},model:{value:e.queryParam.sex,callback:function(t){e.$set(e.queryParam,"sex",t)},expression:"queryParam.sex"}},[n("a-select-option",{attrs:{value:""}},[e._v("请选择性别查询")]),n("a-select-option",{attrs:{value:"1"}},[e._v("男性")]),n("a-select-option",{attrs:{value:"2"}},[e._v("女性")])],1)],1)],1),e.toggleSearchStatus?[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"邮箱"}},[n("a-input",{attrs:{placeholder:"请输入邮箱查询"},model:{value:e.queryParam.email,callback:function(t){e.$set(e.queryParam,"email",t)},expression:"queryParam.email"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"手机号码"}},[n("a-input",{attrs:{placeholder:"请输入手机号码查询"},model:{value:e.queryParam.phone,callback:function(t){e.$set(e.queryParam,"phone",t)},expression:"queryParam.phone"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"状态"}},[n("a-select",{attrs:{placeholder:"请选择用户状态查询"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[n("a-select-option",{attrs:{value:""}},[e._v("请选择用户状态")]),n("a-select-option",{attrs:{value:"1"}},[e._v("正常")]),n("a-select-option",{attrs:{value:"2"}},[e._v("解冻")])],1)],1)],1)]:e._e(),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n              "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)])],2)],1)],1),n("div",{staticClass:"table-operator",staticStyle:{"border-top":"5px"}},[n("a-button",{directives:[{name:"has",rawName:"v-has",value:"user:add",expression:"'user:add'"}],attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("添加用户")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("用户信息")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},on:{click:e.handleMenuClick},slot:"overlay"},[n("a-menu-item",{key:"1"},[n("a-icon",{attrs:{type:"delete"},on:{click:e.batchDel}}),e._v("\n          删除\n        ")],1),n("a-menu-item",{key:"2"},[n("a-icon",{attrs:{type:"lock"},on:{click:function(t){return e.batchFrozen("2")}}}),e._v("\n          冻结\n        ")],1),n("a-menu-item",{key:"3"},[n("a-icon",{attrs:{type:"unlock"},on:{click:function(t){return e.batchFrozen("1")}}}),e._v("\n          解冻\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("\n        批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v("已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项  \n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{bordered:"",size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"avatarslot",fn:function(t,r,o){return[n("div",{staticClass:"anty-img-wrap"},[n("a-avatar",{attrs:{shape:"square",src:e.getAvatarView(r.avatar),icon:"user"}})],1)]}},{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleChangePassword(r.username)}}},[e._v("密码")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1),1==r.status?n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定冻结吗?"},on:{confirm:function(){return e.handleFrozen(r.id,2)}}},[n("a",[e._v("冻结")])])],1):e._e(),2==r.status?n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定解冻吗?"},on:{confirm:function(){return e.handleFrozen(r.id,1)}}},[n("a",[e._v("解冻")])])],1):e._e(),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleAgentSettings(r.username)}}},[e._v("代理人")])])],1)],1)],1)}}])})],1),n("user-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("password-modal",{ref:"passwordmodal",on:{ok:e.passwordModalOk}}),n("sys-user-agent-modal",{ref:"sysUserAgentModal"})],1)},o=[],i=n("418f"),a=n("ddf9"),s=(n("0fea"),n("4ec3")),l=n("b65a"),u=n("74c6"),c={name:"UserList",mixins:[l["a"]],components:{SysUserAgentModal:u["default"],UserModal:i["default"],PasswordModal:a["default"]},data:function(){return{description:"这是用户管理页面",queryParam:{},columns:[{title:"用户账号",align:"center",dataIndex:"username",width:120},{title:"真实姓名",align:"center",width:100,dataIndex:"realname"},{title:"头像",align:"center",width:120,dataIndex:"avatar",scopedSlots:{customRender:"avatarslot"}},{title:"性别",align:"center",width:80,dataIndex:"sex_dictText"},{title:"生日",align:"center",width:180,dataIndex:"birthday"},{title:"手机号码",align:"center",width:100,dataIndex:"phone"},{title:"邮箱",align:"center",dataIndex:"email"},{title:"状态",align:"center",width:80,dataIndex:"status_dictText"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center",width:170}],url:{imgerver:window._CONFIG["domianURL"]+"/sys/common/view",syncUser:"/process/extActProcess/doSyncUser",list:"/sys/user/list",delete:"/sys/user/delete",deleteBatch:"/sys/user/deleteBatch",exportXlsUrl:"/sys/user/exportXls",importExcelUrl:"sys/user/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{getAvatarView:function(e){return this.url.imgerver+"/"+e},batchFrozen:function(e){if(this.selectedRowKeys.length<=0)return this.$message.warning("请选择一条记录！"),!1;var t="",n=this;n.selectedRowKeys.forEach((function(e){t+=e+","})),n.$confirm({title:"确认操作",content:"是否"+(1==e?"解冻":"冻结")+"选中账号?",onOk:function(){Object(s["s"])({ids:t,status:e}).then((function(e){e.success?(n.$message.success(e.message),n.loadData(),n.onClearSelected()):n.$message.warning(e.message)}))}})},handleMenuClick:function(e){1==e.key?this.batchDel():2==e.key?this.batchFrozen(2):3==e.key&&this.batchFrozen(1)},handleFrozen:function(e,t){var n=this;Object(s["s"])({ids:e,status:t}).then((function(e){e.success?(n.$message.success(e.message),n.loadData()):n.$message.warning(e.message)}))},handleChangePassword:function(e){this.$refs.passwordmodal.show(e)},handleAgentSettings:function(e){this.$refs.sysUserAgentModal.agentSettings(e),this.$refs.sysUserAgentModal.title="用户代理人设置"},passwordModalOk:function(){}}},d=c,f=(n("c5dc"),n("5d22")),p=Object(f["a"])(d,r,o,!1,null,"0d9c1cfe",null);t["default"]=p.exports},"0d7e":function(e,t,n){"use strict";n("d0df")},"0ed5":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"corn表达式",width:e.modalWidth,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleSubmit,cancel:e.close}},[n("div",{staticClass:"card-container"},[n("a-tabs",{attrs:{type:"card"}},[n("a-tab-pane",{key:"1",attrs:{type:"card"}},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v(" 秒")],1),n("a-radio-group",{model:{value:e.result.second.cronEvery,callback:function(t){e.$set(e.result.second,"cronEvery",t)},expression:"result.second.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一秒钟")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n              "),n("a-input-number",{attrs:{size:"small",min:1,max:60},model:{value:e.result.second.incrementIncrement,callback:function(t){e.$set(e.result.second,"incrementIncrement",t)},expression:"result.second.incrementIncrement"}}),e._v("\n              秒执行 从\n              "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.second.incrementStart,callback:function(t){e.$set(e.result.second,"incrementStart",t)},expression:"result.second.incrementStart"}}),e._v("\n              秒开始\n            ")],1)],1),n("a-row",[n("a-radio",{attrs:{value:"3"}},[e._v("具体秒数(可多选)")]),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.second.specificSpecific,callback:function(t){e.$set(e.result.second,"specificSpecific",t)},expression:"result.second.specificSpecific"}},e._l(60,(function(t,r){return n("a-select-option",{key:r,attrs:{value:r}},[e._v(e._s(r))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("周期从\n              "),n("a-input-number",{attrs:{size:"small",min:1,max:60},model:{value:e.result.second.rangeStart,callback:function(t){e.$set(e.result.second,"rangeStart",t)},expression:"result.second.rangeStart"}}),e._v("\n              到\n              "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.second.rangeEnd,callback:function(t){e.$set(e.result.second,"rangeEnd",t)},expression:"result.second.rangeEnd"}}),e._v("\n              秒\n            ")],1)],1)],1)],1),n("a-tab-pane",{key:"2"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v("分")],1),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.minute.cronEvery,callback:function(t){e.$set(e.result.minute,"cronEvery",t)},expression:"result.minute.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一分钟")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:60},model:{value:e.result.minute.incrementIncrement,callback:function(t){e.$set(e.result.minute,"incrementIncrement",t)},expression:"result.minute.incrementIncrement"}}),e._v("\n                分执行 从\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.minute.incrementStart,callback:function(t){e.$set(e.result.minute,"incrementStart",t)},expression:"result.minute.incrementStart"}}),e._v("\n                分开始\n              ")],1)],1),n("a-row",[n("a-radio",{attrs:{value:"3"}},[e._v("具体分钟数(可多选)")]),n("a-select",{staticStyle:{width:"340px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.minute.specificSpecific,callback:function(t){e.$set(e.result.minute,"specificSpecific",t)},expression:"result.minute.specificSpecific"}},e._l(Array(60),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r}},[e._v(" "+e._s(r))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("周期从\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:60},model:{value:e.result.minute.rangeStart,callback:function(t){e.$set(e.result.minute,"rangeStart",t)},expression:"result.minute.rangeStart"}}),e._v("\n                到\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:59},model:{value:e.result.minute.rangeEnd,callback:function(t){e.$set(e.result.minute,"rangeEnd",t)},expression:"result.minute.rangeEnd"}}),e._v("\n                分\n              ")],1)],1)],1)],1)]),n("a-tab-pane",{key:"3"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v(" 时")],1),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.hour.cronEvery,callback:function(t){e.$set(e.result.hour,"cronEvery",t)},expression:"result.hour.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一小时")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.incrementIncrement,callback:function(t){e.$set(e.result.hour,"incrementIncrement",t)},expression:"result.hour.incrementIncrement"}}),e._v("\n                小时执行 从\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.incrementStart,callback:function(t){e.$set(e.result.hour,"incrementStart",t)},expression:"result.hour.incrementStart"}}),e._v("\n                小时开始\n              ")],1)],1),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"3"}},[e._v("具体小时数(可多选)")]),n("a-select",{staticStyle:{width:"340px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.hour.specificSpecific,callback:function(t){e.$set(e.result.hour,"specificSpecific",t)},expression:"result.hour.specificSpecific"}},e._l(Array(24),(function(t,r){return n("a-select-option",{key:r},[e._v(e._s(r))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("周期从\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.rangeStart,callback:function(t){e.$set(e.result.hour,"rangeStart",t)},expression:"result.hour.rangeStart"}}),e._v("\n                到\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:23},model:{value:e.result.hour.rangeEnd,callback:function(t){e.$set(e.result.hour,"rangeEnd",t)},expression:"result.hour.rangeEnd"}}),e._v("\n                小时\n              ")],1)],1)],1)],1)]),n("a-tab-pane",{key:"4"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v("  天")],1),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.day.cronEvery,callback:function(t){e.$set(e.result.day,"cronEvery",t)},expression:"result.day.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一天")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:7},model:{value:e.result.week.incrementIncrement,callback:function(t){e.$set(e.result.week,"incrementIncrement",t)},expression:"result.week.incrementIncrement"}}),e._v("\n                周执行 从\n                "),n("a-select",{attrs:{size:"small"},model:{value:e.result.week.incrementStart,callback:function(t){e.$set(e.result.week,"incrementStart",t)},expression:"result.week.incrementStart"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(e.weekDays[r]))])})),1),e._v("\n                开始\n              ")],1)],1),n("a-row",[n("a-radio",{attrs:{value:"3"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.incrementIncrement,callback:function(t){e.$set(e.result.day,"incrementIncrement",t)},expression:"result.day.incrementIncrement"}}),e._v("\n                天执行 从\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.incrementStart,callback:function(t){e.$set(e.result.day,"incrementStart",t)},expression:"result.day.incrementStart"}}),e._v("\n                天开始\n              ")],1)],1),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"4"}},[e._v("具体星期几(可多选)")]),n("a-select",{staticStyle:{width:"340px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.week.specificSpecific,callback:function(t){e.$set(e.result.week,"specificSpecific",t)},expression:"result.week.specificSpecific"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(e.weekDays[r]))])})),1)],1),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"5"}},[e._v("具体天数(可多选)")]),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",mode:"multiple"},model:{value:e.result.day.specificSpecific,callback:function(t){e.$set(e.result.day,"specificSpecific",t)},expression:"result.day.specificSpecific"}},e._l(Array(31),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(r+1))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"6"}},[e._v("在这个月的最后一天")])],1),n("a-row",[n("a-radio",{attrs:{value:"7"}},[e._v("在这个月的最后一个工作日")])],1),n("a-row",[n("a-radio",{attrs:{value:"8"}},[e._v("在这个月的最后一个\n                "),n("a-select",{attrs:{size:"small"},model:{value:e.result.day.cronLastSpecificDomDay,callback:function(t){e.$set(e.result.day,"cronLastSpecificDomDay",t)},expression:"result.day.cronLastSpecificDomDay"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(e.weekDays[r]))])})),1)],1)],1),n("a-row",[n("a-radio",{attrs:{value:"9"}},[e._v("\n                在本月底前\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.cronDaysBeforeEomMinus,callback:function(t){e.$set(e.result.day,"cronDaysBeforeEomMinus",t)},expression:"result.day.cronDaysBeforeEomMinus"}}),e._v("\n                天\n              ")],1)],1),n("a-row",[n("a-radio",{attrs:{value:"10"}},[e._v("最近的工作日（周一至周五）至本月\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:31},model:{value:e.result.day.cronDaysNearestWeekday,callback:function(t){e.$set(e.result.day,"cronDaysNearestWeekday",t)},expression:"result.day.cronDaysNearestWeekday"}}),e._v("\n                日\n              ")],1)],1),n("a-row",[n("a-radio",{attrs:{value:"11"}},[e._v("在这个月的第\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:5},model:{value:e.result.week.cronNthDayNth,callback:function(t){e.$set(e.result.week,"cronNthDayNth",t)},expression:"result.week.cronNthDayNth"}}),e._v("\n                个\n                "),n("a-select",{attrs:{size:"small"},model:{value:e.result.week.cronNthDayDay,callback:function(t){e.$set(e.result.week,"cronNthDayDay",t)},expression:"result.week.cronNthDayDay"}},e._l(Array(7),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(e.weekDays[r]))])})),1)],1)],1)],1)],1)]),n("a-tab-pane",{key:"5"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v(" 月")],1),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.month.cronEvery,callback:function(t){e.$set(e.result.month,"cronEvery",t)},expression:"result.month.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一月")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:12},model:{value:e.result.month.incrementIncrement,callback:function(t){e.$set(e.result.month,"incrementIncrement",t)},expression:"result.month.incrementIncrement"}}),e._v("\n                月执行 从\n                "),n("a-input-number",{attrs:{size:"small",min:0,max:12},model:{value:e.result.month.incrementStart,callback:function(t){e.$set(e.result.month,"incrementStart",t)},expression:"result.month.incrementStart"}}),e._v("\n                月开始\n              ")],1)],1),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"3"}},[e._v("具体月数(可多选)")]),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",filterable:"",mode:"multiple"},model:{value:e.result.month.specificSpecific,callback:function(t){e.$set(e.result.month,"specificSpecific",t)},expression:"result.month.specificSpecific"}},e._l(Array(12),(function(t,r){return n("a-select-option",{key:r,attrs:{value:r+1}},[e._v(e._s(r+1))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("从\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:12},model:{value:e.result.month.rangeStart,callback:function(t){e.$set(e.result.month,"rangeStart",t)},expression:"result.month.rangeStart"}}),e._v("\n                到\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:12},model:{value:e.result.month.rangeEnd,callback:function(t){e.$set(e.result.month,"rangeEnd",t)},expression:"result.month.rangeEnd"}}),e._v("\n                月之间的每个月\n              ")],1)],1)],1)],1)]),n("a-tab-pane",{key:"6"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"schedule"}}),e._v(" 年")],1),n("div",{staticClass:"tabBody"},[n("a-radio-group",{model:{value:e.result.year.cronEvery,callback:function(t){e.$set(e.result.year,"cronEvery",t)},expression:"result.year.cronEvery"}},[n("a-row",[n("a-radio",{attrs:{value:"1"}},[e._v("每一年")])],1),n("a-row",[n("a-radio",{attrs:{value:"2"}},[e._v("每隔\n                "),n("a-input-number",{attrs:{size:"small",min:1,max:99},model:{value:e.result.year.incrementIncrement,callback:function(t){e.$set(e.result.year,"incrementIncrement",t)},expression:"result.year.incrementIncrement"}}),e._v("\n                年执行 从\n                "),n("a-input-number",{attrs:{size:"small",min:2019,max:2119},model:{value:e.result.year.incrementStart,callback:function(t){e.$set(e.result.year,"incrementStart",t)},expression:"result.year.incrementStart"}}),e._v("\n                年开始\n              ")],1)],1),n("a-row",[n("a-radio",{staticClass:"long",attrs:{value:"3"}},[e._v("具体年份(可多选)")]),n("a-select",{staticStyle:{width:"354px"},attrs:{size:"small",filterable:"",mode:"multiple"},model:{value:e.result.year.specificSpecific,callback:function(t){e.$set(e.result.year,"specificSpecific",t)},expression:"result.year.specificSpecific"}},e._l(Array(100),(function(t,r){return n("a-select-option",{key:r,attrs:{value:2019+r}},[e._v(e._s(2019+r))])})),1)],1),n("a-row",[n("a-radio",{attrs:{value:"4"}},[e._v("从\n                "),n("a-input-number",{attrs:{size:"small",min:2019,max:2119},model:{value:e.result.year.rangeStart,callback:function(t){e.$set(e.result.year,"rangeStart",t)},expression:"result.year.rangeStart"}}),e._v("\n                到\n                "),n("a-input-number",{attrs:{size:"small",min:2019,max:2119},model:{value:e.result.year.rangeEnd,callback:function(t){e.$set(e.result.year,"rangeEnd",t)},expression:"result.year.rangeEnd"}}),e._v("\n                年之间的每一年\n              ")],1)],1)],1)],1)])],1),n("div",{staticClass:"bottom"},[n("span",{staticClass:"value"},[e._v(e._s(this.cron))])])],1)])},o=[],i={name:"VueCron",props:["data"],data:function(){return{visible:!1,confirmLoading:!1,size:"large",weekDays:["天","一","二","三","四","五","六"].map((function(e){return"星期"+e})),result:{second:{},minute:{},hour:{},day:{},week:{},month:{},year:{}},defaultValue:{second:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:0,specificSpecific:[]},minute:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:"0",specificSpecific:[]},hour:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:"0",rangeEnd:"0",specificSpecific:[]},day:{cronEvery:"",incrementStart:1,incrementIncrement:"1",rangeStart:"",rangeEnd:"",specificSpecific:[],cronLastSpecificDomDay:1,cronDaysBeforeEomMinus:1,cronDaysNearestWeekday:1},week:{cronEvery:"",incrementStart:1,incrementIncrement:1,specificSpecific:[],cronNthDayDay:1,cronNthDayNth:1},month:{cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:1,specificSpecific:[]},year:{cronEvery:"",incrementStart:2017,incrementIncrement:1,rangeStart:2019,rangeEnd:2019,specificSpecific:[]},label:""}}},computed:{modalWidth:function(){return 608},secondsText:function(){var e="",t=this.result.second.cronEvery||"";switch(t.toString()){case"1":e="*";break;case"2":e=this.result.second.incrementStart+"/"+this.result.second.incrementIncrement;break;case"3":this.result.second.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.second.rangeStart+"-"+this.result.second.rangeEnd;break}return e},minutesText:function(){var e="",t=this.result.minute.cronEvery||"";switch(t.toString()){case"1":e="*";break;case"2":e=this.result.minute.incrementStart+"/"+this.result.minute.incrementIncrement;break;case"3":this.result.minute.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.minute.rangeStart+"-"+this.result.minute.rangeEnd;break}return e},hoursText:function(){var e="",t=this.result.hour.cronEvery||"";switch(t.toString()){case"1":e="*";break;case"2":e=this.result.hour.incrementStart+"/"+this.result.hour.incrementIncrement;break;case"3":this.result.hour.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.hour.rangeStart+"-"+this.result.hour.rangeEnd;break}return e},daysText:function(){var e="",t=this.result.day.cronEvery||"";switch(t.toString()){case"1":break;case"2":case"4":case"11":e="?";break;case"3":e=this.result.day.incrementStart+"/"+this.result.day.incrementIncrement;break;case"5":this.result.day.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"6":e="L";break;case"7":e="LW";break;case"8":e=this.result.day.cronLastSpecificDomDay+"L";break;case"9":e="L-"+this.result.day.cronDaysBeforeEomMinus;break;case"10":e=this.result.day.cronDaysNearestWeekday+"W";break}return e},weeksText:function(){var e="",t=this.result.day.cronEvery||"";switch(t.toString()){case"1":case"3":case"5":e="?";break;case"2":e=this.result.week.incrementStart+"/"+this.result.week.incrementIncrement;break;case"4":this.result.week.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"6":case"7":case"8":case"9":case"10":e="?";break;case"11":e=this.result.week.cronNthDayDay+"#"+this.result.week.cronNthDayNth;break}return e},monthsText:function(){var e="",t=this.result.month.cronEvery||"";switch(t.toString()){case"1":e="*";break;case"2":e=this.result.month.incrementStart+"/"+this.result.month.incrementIncrement;break;case"3":this.result.month.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.month.rangeStart+"-"+this.result.month.rangeEnd;break}return e},yearsText:function(){var e="",t=this.result.year.cronEvery||"";switch(t.toString()){case"1":e="*";break;case"2":e=this.result.year.incrementStart+"/"+this.result.year.incrementIncrement;break;case"3":this.result.year.specificSpecific.map((function(t){e+=t+","})),e=e.slice(0,-1);break;case"4":e=this.result.year.rangeStart+"-"+this.result.year.rangeEnd;break}return e},cron:function(){return"".concat(this.secondsText||"*"," ").concat(this.minutesText||"*"," ").concat(this.hoursText||"*"," ").concat(this.daysText||"*"," ").concat(this.monthsText||"*"," ").concat(this.weeksText||"?"," ").concat(this.yearsText||"*")}},watch:{visible:{handler:function(){var e=this.data;e?(this.secondsReverseExp(e),this.minutesReverseExp(e),this.hoursReverseExp(e),this.daysReverseExp(e),this.daysReverseExp(e),this.monthsReverseExp(e),this.yearReverseExp(e),JSON.parse(JSON.stringify(e))):this.result=JSON.parse(JSON.stringify(this.defaultValue))}}},methods:{show:function(){this.visible=!0},handleSubmit:function(){this.$emit("ok",this.cron),this.close(),this.visible=!1},close:function(){this.visible=!1},secondsReverseExp:function(e){var t=e.split(" ")[0],n={cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:0,specificSpecific:[]};switch(!0){case t.includes("*"):n.cronEvery="1";break;case t.includes("/"):n.cronEvery="2",n.incrementStart=t.split("/")[0],n.incrementIncrement=t.split("/")[1];break;case t.includes(","):n.cronEvery="3",n.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("-"):n.cronEvery="4",n.rangeStart=t.split("-")[0],n.rangeEnd=t.split("-")[1];break;default:n.cronEvery="1"}this.result.second=n},minutesReverseExp:function(e){var t=e.split(" ")[1],n={cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:0,specificSpecific:[]};switch(!0){case t.includes("*"):n.cronEvery="1";break;case t.includes("/"):n.cronEvery="2",n.incrementStart=t.split("/")[0],n.incrementIncrement=t.split("/")[1];break;case t.includes(","):n.cronEvery="3",n.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("-"):n.cronEvery="4",n.rangeStart=t.split("-")[0],n.rangeEnd=t.split("-")[1];break;default:n.cronEvery="1"}this.result.minute=n},hoursReverseExp:function(e){var t=e.split(" ")[2],n={cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:"0",specificSpecific:[]};switch(!0){case t.includes("*"):n.cronEvery="1";break;case t.includes("/"):n.cronEvery="2",n.incrementStart=t.split("/")[0],n.incrementIncrement=t.split("/")[1];break;case t.includes(","):n.cronEvery="3",n.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("-"):n.cronEvery="4",n.rangeStart=t.split("-")[0],n.rangeEnd=t.split("-")[1];break;default:n.cronEvery="1"}this.result.hour=n},daysReverseExp:function(e){var t=e.split(" ")[3],n=e.split(" ")[5],r={cronEvery:"",incrementStart:1,incrementIncrement:1,rangeStart:1,rangeEnd:1,specificSpecific:[],cronLastSpecificDomDay:1,cronDaysBeforeEomMinus:1,cronDaysNearestWeekday:1},o={cronEvery:"",incrementStart:1,incrementIncrement:1,specificSpecific:[],cronNthDayDay:1,cronNthDayNth:"1"};if(t.includes("?"))switch(!0){case n.includes("/"):r.cronEvery="2",o.incrementStart=n.split("/")[0],o.incrementIncrement=n.split("/")[1];break;case n.includes(","):r.cronEvery="4",o.specificSpecific=n.split(",").map(Number).sort();break;case"#":r.cronEvery="11",o.cronNthDayDay=n.split("#")[0],o.cronNthDayNth=n.split("#")[1];break;default:r.cronEvery="1",o.cronEvery="1"}else switch(!0){case t.includes("*"):r.cronEvery="1";break;case t.includes("?"):break;case t.includes("/"):r.cronEvery="3",r.incrementStart=t.split("/")[0],r.incrementIncrement=t.split("/")[1];break;case t.includes(","):r.cronEvery="5",r.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("LW"):r.cronEvery="7";break;case t.includes("L-"):r.cronEvery="9",r.cronDaysBeforeEomMinus=t.split("L-")[1];break;case t.includes("L"):1==t.len?(r.cronEvery="6",r.cronLastSpecificDomDay="1"):(r.cronEvery="8",r.cronLastSpecificDomDay=Number(t.split("L")[0]));break;case t.includes("W"):r.cronEvery="10",r.cronDaysNearestWeekday=t.split("W")[0];break;default:r.cronEvery="1"}this.result.day=r,this.result.week=o},monthsReverseExp:function(e){var t=e.split(" ")[4],n={cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:1,rangeEnd:1,specificSpecific:[]};switch(!0){case t.includes("*"):n.cronEvery="1";break;case t.includes("/"):n.cronEvery="2",n.incrementStart=t.split("/")[0],n.incrementIncrement=t.split("/")[1];break;case t.includes(","):n.cronEvery="3",n.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("-"):n.cronEvery="4",n.rangeStart=t.split("-")[0],n.rangeEnd=t.split("-")[1];break;default:n.cronEvery="1"}this.result.month=n},yearReverseExp:function(e){var t=e.split(" ")[6],n={cronEvery:"",incrementStart:3,incrementIncrement:5,rangeStart:2019,rangeEnd:2019,specificSpecific:[]};switch(!0){case t.includes("*"):n.cronEvery="1";break;case t.includes("/"):n.cronEvery="2",n.incrementStart=t.split("/")[0],n.incrementIncrement=t.split("/")[1];break;case t.includes(","):n.cronEvery="3",n.specificSpecific=t.split(",").map(Number).sort();break;case t.includes("-"):n.cronEvery="4",n.rangeStart=t.split("-")[0],n.rangeEnd=t.split("-")[1];break;default:n.cronEvery="1"}this.result.year=n}}},a=i,s=(n("2e44"),n("bd48"),n("5d22")),l=Object(s["a"])(a,r,o,!1,null,"30474588",null);t["default"]=l.exports},"0f9d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"}},[n("a-select",{staticStyle:{width:"calc(100% - 178px)"},attrs:{mode:"multiple",placeholder:"Please select",value:e.nameList}}),n("span",{staticStyle:{display:"inline-block",width:"170px",float:"right",overflow:"hidden"}},[n("a-button",{staticStyle:{width:"81px"},attrs:{type:"primary",icon:"search"},on:{click:e.handleSelect}},[e._v("选择")]),n("a-button",{staticStyle:{"margin-left":"8px",width:"81px"},attrs:{type:"primary",icon:"reload"},on:{click:e.selectReset}},[e._v("清空")])],1),n("j-select-multi-user-modal",{ref:"selectModal",on:{selectFinished:e.selectOK}})],1)},o=[],i=n("06db"),a={name:"JSelectMultiUser",components:{JSelectMultiUserModal:i["default"]},props:{value:{type:String,required:!1}},data:function(){return{selectList:[]}},computed:{nameList:function(){for(var e=[],t=0;t<this.selectList.length;t++)e.push(this.selectList[t].name);var n="";return e.length>0&&(n=e.join(",")),this.$emit("change",n),e}},model:{prop:"value",event:"change"},methods:{handleSelect:function(){this.$refs.selectModal.add()},selectReset:function(){this.selectList=[]},selectOK:function(e){this.selectList=e}}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,null,null);t["default"]=u.exports},"0fe2":function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");function t(){e.add("colorpicker",(function(){}))}t()})()},"106f":function(e,t,n){"use strict";n("8d67")},"10f5":function(e,t,n){n("74b0")},1187:function(e,t,n){},"11cb":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{width:900,keyboard:!1,closable:!1,centered:!0,maskClosable:!1,mask:!1,okText:"确认",cancelText:"取消"},on:{ok:e.ok,cancel:e.cancel},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("a-tabs",[n("a-tab-pane",{key:"1",attrs:{tab:"方向性图标"}},[n("ul",e._l(e.icons.directionIcons,(function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)})),0)]),n("a-tab-pane",{key:"2",attrs:{tab:"指示性图标"}},[n("ul",e._l(e.icons.suggestionIcons,(function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)})),0)]),n("a-tab-pane",{key:"3",attrs:{tab:"编辑类图标"}},[n("ul",e._l(e.icons.editIcons,(function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)})),0)]),n("a-tab-pane",{key:"4",attrs:{tab:"数据类图标"}},[n("ul",e._l(e.icons.dataIcons,(function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)})),0)]),n("a-tab-pane",{key:"5",attrs:{tab:"网站通用图标"}},[n("ul",e._l(e.icons.webIcons,(function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)})),0)]),n("a-tab-pane",{key:"6",attrs:{tab:"品牌和标识"}},[n("ul",e._l(e.icons.logoIcons,(function(t){return n("li",{key:t},[n("a-icon",{class:{active:e.activeIndex===t},attrs:{type:t,title:t},on:{click:function(n){return e.chooseIcon(t)}}})],1)})),0)])],1)],1)},o=[],i=["step-backward","step-forward","fast-backward","fast-forward","shrink","arrows-alt","down","up","left","right","caret-up","caret-down","caret-left","caret-right","up-circle","down-circle","left-circle","right-circle","up-circle-o","down-circle-o","right-circle-o","left-circle-o","double-right","double-left","vertical-left","vertical-right","forward","backward","rollback","enter","retweet","swap","swap-left","swap-right","arrow-up","arrow-down","arrow-left","arrow-right","play-circle","play-circle-o","up-square","down-square","left-square","right-square","up-square-o","down-square-o","left-square-o","right-square-o","login","logout","menu-fold","menu-unfold","border-bottom","border-horizontal","border-inner","border-left","border-right","border-top","border-verticle","pic-center","pic-left","pic-right","radius-bottomleft","radius-bottomright","radius-upleft","radius-upright","fullscreen","fullscreen-exit"],a=["question","question-circle","plus","plus-circle","pause","pause-circle","minus","minus-circle","plus-square","minus-square","info","info-circle","exclamation","exclamation-circle","close","close-circle","close-square","check","check-circle","check-square","clock-circle","warning","issues-close","stop"],s=["edit","form","copy","scissor","delete","snippets","diff","highlight","align-center","align-left","align-right","bg-colors","bold","italic","underline","strikethrough","redo","undo","zoom-in","zoom-out","font-colors","font-size","line-height","colum-height","dash","small-dash","sort-ascending","sort-descending","drag","ordered-list","radius-setting"],l=["area-chart","pie-chart","bar-chart","dot-chart","line-chart","radar-chart","heat-map","fall","rise","stock","box-plot","fund","sliders"],u=["lock","unlock","bars","book","calendar","cloud","cloud-download","code","copy","credit-card","delete","desktop","download","ellipsis","file","file-text","file-unknown","file-pdf","file-word","file-excel","file-jpg","file-ppt","file-markdown","file-add","folder","folder-open","folder-add","hdd","frown","meh","smile","inbox","laptop","appstore","link","mail","mobile","notification","paper-clip","picture","poweroff","reload","search","setting","share-alt","shopping-cart","tablet","tag","tags","to-top","upload","user","video-camera","home","loading","loading-3-quarters","cloud-upload","star","heart","environment","eye","camera","save","team","solution","phone","filter","exception","export","customer-service","qrcode","scan","like","dislike","message","pay-circle","calculator","pushpin","bulb","select","switcher","rocket","bell","disconnect","database","compass","barcode","hourglass","key","flag","layout","printer","sound","usb","skin","tool","sync","wifi","car","schedule","user-add","user-delete","usergroup-add","usergroup-delete","man","woman","shop","gift","idcard","medicine-box","red-envelope","coffee","copyright","trademark","safety","wallet","bank","trophy","contacts","global","shake","api","fork","dashboard","table","profile","alert","audit","branches","build","border","crown","experiment","fire","money-collect","property-safety","read","reconciliation","rest","security-scan","insurance","interation","safety-certificate","project","thunderbolt","block","cluster","deployment-unit","dollar","euro","pound","file-done","file-exclamation","file-protect","file-search","file-sync","gateway","gold","robot","shopping"],c=["android","apple","windows","ie","chrome","github","aliwangwang","dingding","weibo-square","weibo-circle","taobao-circle","html5","weibo","twitter","wechat","youtube","alipay-circle","taobao","skype","qq","medium-workmark","gitlab","medium","linkedin","google-plus","dropbox","facebook","codepen","amazon","google","codepen-circle","alipay","ant-design","aliyun","zhihu","slack","slack-square","behance","behance-square","dribbble","dribbble-square","instagram","yuque","alibaba","yahoo"],d={name:"Icons",props:{iconChooseVisible:{default:!1}},data:function(){return{icons:{directionIcons:i,suggestionIcons:a,editIcons:s,dataIcons:l,webIcons:u,logoIcons:c},choosedIcon:"",activeIndex:""}},computed:{show:{get:function(){return this.iconChooseVisible},set:function(){}}},methods:{reset:function(){this.activeIndex=""},chooseIcon:function(e){this.activeIndex=e,this.choosedIcon=e,this.$message.success("选中 ".concat(e))},ok:function(){""!==this.choosedIcon?(this.reset(),this.$emit("choose",this.choosedIcon)):this.$message.warning("尚未选择任何图标")},cancel:function(){this.reset(),this.$emit("close")}}},f=d,p=(n("3ab1"),n("5d22")),h=Object(p["a"])(f,r,o,!1,null,"ea6fbdbc",null);t["default"]=h.exports},1293:function(e,t,n){"use strict";n("2a67")},"12b9":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:280,visible:e.visible,confirmLoading:e.confirmLoading,bodyStyle:e.bodyStyle,mask:!1,destroyOnClose:"",footer:null,cancelText:"关闭"},on:{cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("div",{staticStyle:{height:"300px",overflow:"hidden","overflow-y":"auto","overflow-x":"auto"}},[e._l(e.nodeInfos,(function(t,r,o){return[n("table",{staticClass:"gridtable"},[n("tbody",[n("tr",[n("th",{attrs:{width:"90"}},[e._v("任务名称")]),n("td",{attrs:{width:"150"}},[e._v(e._s(t.taskName))])]),n("tr",[n("th",{attrs:{width:"90"}},[e._v("执行人")]),n("td",{attrs:{width:"150"}},[e._v(e._s(t.taskAssigneeId))])]),n("tr",[n("th",{attrs:{width:"90"}},[e._v("开始时间")]),n("td",{attrs:{width:"150"}},[e._v(e._s(t.taskBeginTime))])]),n("tr",[n("th",{attrs:{width:"90"}},[e._v("结束时间")]),n("td",{attrs:{width:"150"}},[e._v(e._s(t.taskEndTime))])]),n("tr",[n("th",{attrs:{width:"90"}},[e._v("耗时")]),n("td",{attrs:{width:"150"}},[e._v(e._s(t.durationStr))])]),n("tr",[n("th",{attrs:{width:"90"}},[e._v("意见")]),n("td",{attrs:{width:"150"}},[e._v(e._s(t.remarks))])])])])]}))],2)])],1)},o=[];n("0fea"),n("85ee");function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l={name:"ProcNodeInfoModel",data:function(){return{title:"任务审批详情",visible:!1,bodyStyle:{padding:"0"},confirmLoading:!1,validatorRules:{},nodeInfos:[]}},created:function(){},methods:{showInfo:function(e,t){this.nodeInfos=[];var n,r=i(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.taskId==t&&this.nodeInfos.push(o)}}catch(a){r.e(a)}finally{r.f()}this.visible=!0},close:function(){this.nodeInfos=[],this.visible=!1},handleCancel:function(){this.nodeInfos=[],this.visible=!1}}},u=l,c=(n("5654"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"476ec9cb",null);t["default"]=d.exports},1316:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)},n=function(){},r=function(e){return function(){return e}},o=r(!1),i=r(!0),a=function(){return s},s=function(){var e=function(e){return e.isNone()},t=function(e){return e()},s=function(e){return e},l={fold:function(e,t){return e()},is:o,isSome:o,isNone:i,getOr:s,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:s,orThunk:t,map:a,each:n,bind:a,exists:o,forall:i,filter:a,equals:e,equals_:e,toArray:function(){return[]},toString:r("none()")};return l}(),l=function(e){var t=r(e),n=function(){return u},a=function(t){return t(e)},u={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:i,isNone:o,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return l(t(e))},each:function(t){t(e)},bind:a,exists:a,forall:a,filter:function(t){return t(e)?u:s},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(o,(function(t){return n(e,t)}))}};return u},u=function(e){return null===e||void 0===e?s:l(e)},c={some:l,none:a,from:u},d=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},f=function(e){return function(t){return d(t)===e}},p=f("string"),h=f("object"),m=f("array"),g=Array.prototype.push,v=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},y=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!m(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);g.apply(t,e[n])}return t},b=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},x=Object.keys,w=Object.hasOwnProperty,_=function(e,t){for(var n=x(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i)}},C=function(e,t){return S(e,t)?c.from(e[t]):c.none()},S=function(e,t){return w.call(e,t)},k=function(e){return e.getParam("media_scripts")},O=function(e){return e.getParam("audio_template_callback")},T=function(e){return e.getParam("video_template_callback")},M=function(e){return e.getParam("media_live_embeds",!0)},D=function(e){return e.getParam("media_filter_html",!0)},I=function(e){return e.getParam("media_url_resolver")},E=function(e){return e.getParam("media_alt_source",!0)},A=function(e){return e.getParam("media_poster",!0)},L=function(e){return e.getParam("media_dimensions",!0)},j=tinymce.util.Tools.resolve("tinymce.util.Tools"),N=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),P=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),R=function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]},B=N.DOM,F=function(e){return e.replace(/px$/,"")},z=function(e){var t=e.map.style,n=t?B.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.map["data-ephox-embed-iri"],altsource:"",poster:"",width:C(n,"max-width").map(F).getOr(""),height:C(n,"max-height").map(F).getOr("")}},V=function(e,t){var n=b(!1),r={};return P({validate:!1,allow_conditional_comments:!0,start:function(t,o){if(n.get());else if(S(o.map,"data-ephox-embed-iri"))n.set(!0),r=z(o);else{if(r.source||"param"!==t||(r.source=o.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(r.type||(r.type=t),r=j.extend(o.map,r)),"script"===t){var i=R(e,o.map.src);if(!i)return;r={type:"script",source:o.map.src,width:String(i.width),height:String(i.height)}}"source"===t&&(r.source?r.altsource||(r.altsource=o.map.src):r.source=o.map.src),"img"!==t||r.poster||(r.poster=o.map.src)}}}).parse(t),r.source=r.source||r.src||r.data,r.altsource=r.altsource||"",r.poster=r.poster||"",r},H=function(e){var t={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n=e.toLowerCase().split(".").pop(),r=t[n];return r||""},U=tinymce.util.Tools.resolve("tinymce.html.Schema"),$=tinymce.util.Tools.resolve("tinymce.html.Writer"),q=N.DOM,W=function(e){return/^[0-9.]+$/.test(e)?e+"px":e},G=function(e,t){_(t,(function(t,n){var r=""+t;if(e.map[n]){var o=e.length;while(o--){var i=e[o];i.name===n&&(r?(e.map[n]=r,i.value=r):(delete e.map[n],e.splice(o,1)))}}else r&&(e.push({name:n,value:r}),e.map[n]=r)}))},Y=function(e,t){var n=t.map.style,r=n?q.parseStyle(n):{};r["max-width"]=W(e.width),r["max-height"]=W(e.height),G(t,{style:q.serializeStyle(r)})},K=["source","altsource"],X=function(e,t,n){var r,o=$(),i=b(!1),a=0;return P({validate:!1,allow_conditional_comments:!0,comment:function(e){o.comment(e)},cdata:function(e){o.cdata(e)},text:function(e,t){o.text(e,t)},start:function(e,s,l){if(i.get());else if(S(s.map,"data-ephox-embed-iri"))i.set(!0),Y(t,s);else{switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&G(s,{width:t.width,height:t.height});break}if(n)switch(e){case"video":G(s,{poster:t.poster,src:""}),t.altsource&&G(s,{src:""});break;case"iframe":G(s,{src:t.source});break;case"source":if(a<2&&(G(s,{src:t[K[a]],type:t[K[a]+"mime"]}),!t[K[a]]))return;a++;break;case"img":if(!t.poster)return;r=!0;break}}o.start(e,s,l)},end:function(e){if(!i.get()){if("video"===e&&n)for(var s=0;s<2;s++)if(t[K[s]]){var l=[];l.map={},a<=s&&(G(l,{src:t[K[s]],type:t[K[s]+"mime"]}),o.start("source",l,!0))}if(t.poster&&"object"===e&&n&&!r){var u=[];u.map={},G(u,{src:t.poster,width:t.width,height:t.height}),o.start("img",u,!0)}}o.end(e)}},U({})).parse(e),o.getContent()},J=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Z=function(e){var t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"},Q=function(e,t){for(var n=Z(t),r=e.regex.exec(t),o=n+e.url,i=function(e){o=o.replace("$"+e,(function(){return r[e]?r[e]:""}))},a=0;a<r.length;a++)i(a);return o.replace(/\?$/,"")},ee=function(e){var t=J.filter((function(t){return t.regex.test(e)}));return t.length>0?j.extend({},t[0],{url:Q(t[0],e)}):null},te=function(e){var t=e.allowFullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"},ne=function(e){var t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t},re=function(e,t){return t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>"},oe=function(e,t){return t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>"},ie=function(e){return'<script src="'+e.source+'"><\/script>'},ae=function(e,t){var n=j.extend({},t);if(!n.source&&(j.extend(n,V(k(e),n.embed)),!n.source))return"";n.altsource||(n.altsource=""),n.poster||(n.poster=""),n.source=e.convertURL(n.source,"source"),n.altsource=e.convertURL(n.altsource,"source"),n.sourcemime=H(n.source),n.altsourcemime=H(n.altsource),n.poster=e.convertURL(n.poster,"poster");var r=ee(n.source);if(r&&(n.source=r.url,n.type=r.type,n.allowFullscreen=r.allowFullscreen,n.width=n.width||String(r.w),n.height=n.height||String(r.h)),n.embed)return X(n.embed,n,!0);var o=R(k(e),n.source);o&&(n.type="script",n.width=String(o.width),n.height=String(o.height));var i=O(e),a=T(e);return n.width=n.width||"300",n.height=n.height||"150",j.each(n,(function(t,r){n[r]=e.dom.encode(""+t)})),"iframe"===n.type?te(n):"application/x-shockwave-flash"===n.sourcemime?ne(n):-1!==n.sourcemime.indexOf("audio")?re(n,i):"script"===n.type?ie(n):oe(n,a)},se=tinymce.util.Tools.resolve("tinymce.util.Promise"),le={},ue=function(e,t,n){return new se((function(r,o){var i=function(n){return n.html&&(le[e.source]=n),r({url:e.source,html:n.html?n.html:t(e)})};le[e.source]?i(le[e.source]):n({url:e.source},i,o)}))},ce=function(e,t){return new se((function(n){n({html:t(e),url:e.source})}))},de=function(e){return function(t){return ae(e,t)}},fe=function(e,t){var n=I(e);return n?ue(t,de(e),n):ce(t,de(e))},pe=function(e){return le.hasOwnProperty(e)},he=function(e,t){return C(t,e).bind((function(e){return C(e,"meta")}))},me=function(e,t,n){return function(r){var o,i=function(){return C(e,r)},a=function(){return C(t,r)},s=function(e){return C(e,"value").bind((function(e){return e.length>0?c.some(e):c.none()}))},l=function(){return i().bind((function(e){return h(e)?s(e).orThunk(a):a().orThunk((function(){return c.from(e)}))}))},u=function(){return a().orThunk((function(){return i().bind((function(e){return h(e)?s(e):c.from(e)}))}))};return o={},o[r]=(r===n?l():u()).getOr(""),o}},ge=function(e,t){var n={};return C(e,"dimensions").each((function(e){v(["width","height"],(function(r){C(t,r).orThunk((function(){return C(e,r)})).each((function(e){return n[r]=e}))}))})),n},ve=function(e,n){var r=n?he(n,e).getOr({}):{},o=me(e,r,n);return t(t(t(t(t({},o("source")),o("altsource")),o("poster")),o("embed")),ge(e,r))},ye=function(e){var n=t(t({},e),{source:{value:C(e,"source").getOr("")},altsource:{value:C(e,"altsource").getOr("")},poster:{value:C(e,"poster").getOr("")}});return v(["width","height"],(function(t){C(e,t).each((function(e){var r=n.dimensions||{};r[t]=e,n.dimensions=r}))})),n},be=function(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})}},xe=function(e,t){return V(k(e),t)},we=function(e){return e.getAttribute("data-mce-object")||e.getAttribute("data-ephox-embed-iri")},_e=function(e){var n=e.selection.getNode(),r=we(n)?e.serializer.serialize(n,{selection:!0}):"";return t({embed:r},V(k(e),r))},Ce=function(e,n){return function(r){if(p(r.url)&&r.url.trim().length>0){var o=r.html,i=xe(n,o),a=t(t({},i),{source:r.url,embed:o});e.setData(ye(a))}}},Se=function(e,t){for(var n=e.dom.select("img[data-mce-object]"),r=0;r<t.length;r++)for(var o=n.length-1;o>=0;o--)t[r]===n[o]&&n.splice(o,1);e.selection.select(n[0])},ke=function(e,t){var n=e.dom.select("img[data-mce-object]");e.insertContent(t),Se(e,n),e.nodeChanged()},Oe=function(e,t,n){t.embed=X(t.embed,t),t.embed&&(e.source===t.source||pe(t.source))?ke(n,t.embed):fe(n,t).then((function(e){ke(n,e.html)})).catch(be(n))},Te=function(e){var n=_e(e),r=b(n),o=ye(n),i=function(t,n){var r=ve(n.getData(),"source");t.source!==r.source&&(Ce(v,e)({url:r.source,html:""}),fe(e,r).then(Ce(v,e)).catch(be(e)))},a=function(t){var n=ve(t.getData()),r=xe(e,n.embed);t.setData(ye(r))},s=function(n,r){var o=ve(n.getData(),r),i=ae(e,o);n.setData(ye(t(t({},o),{embed:i})))},l=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],u=L(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],c={title:"General",name:"general",items:y([l,u])},d={type:"textarea",name:"embed",label:"Paste your embed code below:"},f={title:"Embed",items:[d]},p=[];E(e)&&p.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),A(e)&&p.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var h={title:"Advanced",name:"advanced",items:p},m=[c,f];p.length>0&&m.push(h);var g={type:"tabpanel",tabs:m},v=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:g,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var n=ve(t.getData());Oe(r.get(),n,e),t.close()},onChange:function(e,t){switch(t.name){case"source":i(r.get(),e);break;case"embed":a(e);break;case"dimensions":case"altsource":case"poster":s(e,t.name);break}r.set(ve(e.getData()))},initialData:o})},Me=function(e){var t=function(){Te(e)};return{showDialog:t}},De=function(e){var t=function(){Te(e)};e.addCommand("mceMedia",t)},Ie=tinymce.util.Tools.resolve("tinymce.html.Node"),Ee=tinymce.util.Tools.resolve("tinymce.Env"),Ae=function(e,t){if(!1===D(e))return t;var n,r=$();return P({validate:!1,allow_conditional_comments:!1,comment:function(e){r.comment(e)},cdata:function(e){r.cdata(e)},text:function(e,t){r.text(e,t)},start:function(t,o,i){if(n=!0,"script"!==t&&"noscript"!==t&&"svg"!==t){for(var a=o.length-1;a>=0;a--){var s=o[a].name;0===s.indexOf("on")&&(delete o.map[s],o.splice(a,1)),"style"===s&&(o[a].value=e.dom.serializeStyle(e.dom.parseStyle(o[a].value),t))}r.start(t,o,i),n=!1}},end:function(e){n||r.end(e)}},U({})).parse(t),r.getContent()},Le=function(e,t){var n=t.name,r=new Ie("img",1);return r.shortEnded=!0,Ne(e,t,r),r.attr({width:t.attr("width")||"300",height:t.attr("height")||("audio"===n?"30":"150"),style:t.attr("style"),src:Ee.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),r},je=function(e,t){var n=t.name,r=new Ie("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n}),Ne(e,t,r);var o=new Ie(n,1);o.attr({src:t.attr("src"),allowfullscreen:t.attr("allowfullscreen"),style:t.attr("style"),class:t.attr("class"),width:t.attr("width"),height:t.attr("height"),frameborder:"0"});var i=new Ie("span",1);return i.attr("class","mce-shim"),r.append(o),r.append(i),r},Ne=function(e,t,n){var r,o,i,a=t.attributes;i=a.length;while(i--)r=a[i].name,o=a[i].value,"width"!==r&&"height"!==r&&"style"!==r&&("data"!==r&&"src"!==r||(o=e.convertURL(o,r)),n.attr("data-mce-p-"+r,o));var s=t.firstChild&&t.firstChild.value;s&&(n.attr("data-mce-html",escape(Ae(e,s))),n.firstChild=null)},Pe=function(e){var t=e.attr("class");return t&&/\btiny-pageembed\b/.test(t)},Re=function(e){while(e=e.parent)if(e.attr("data-ephox-embed-iri")||Pe(e))return!0;return!1},Be=function(e){return function(t){var n,r,o=t.length;while(o--)n=t[o],n.parent&&(n.parent.attr("data-mce-object")||("script"!==n.name||(r=R(k(e),n.attr("src")),r))&&(r&&(r.width&&n.attr("width",r.width.toString()),r.height&&n.attr("height",r.height.toString())),"iframe"===n.name&&M(e)&&Ee.ceFalse?Re(n)||n.replace(je(e,n)):Re(n)||n.replace(Le(e,n))))}},Fe=function(e){e.on("preInit",(function(){var t=e.schema.getSpecialElements();j.each("video audio iframe object".split(" "),(function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")}));var n=e.schema.getBoolAttrs();j.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(e){n[e]={}})),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",Be(e)),e.serializer.addAttributeFilter("data-mce-object",(function(t,n){var r,o,i,a,s,l,u,c,d=t.length;while(d--)if(r=t[d],r.parent){u=r.attr(n),o=new Ie(u,1),"audio"!==u&&"script"!==u&&(c=r.attr("class"),c&&-1!==c.indexOf("mce-preview-object")?o.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):o.attr({width:r.attr("width"),height:r.attr("height")})),o.attr({style:r.attr("style")}),a=r.attributes,i=a.length;while(i--){var f=a[i].name;0===f.indexOf("data-mce-p-")&&o.attr(f.substr(11),a[i].value)}"script"===u&&o.attr("type","text/javascript"),s=r.attr("data-mce-html"),s&&(l=new Ie("#text",3),l.raw=!0,l.value=Ae(e,unescape(s)),o.append(l)),r.replace(o)}}))})),e.on("SetContent",(function(){e.$("span.mce-preview-object").each((function(t,n){var r=e.$(n);0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')}))}))},ze=function(e){e.on("ResolveName",(function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))},Ve=function(e){e.on("click keyup touchend",(function(){var t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectSelected",(function(e){var t=e.target.getAttribute("data-mce-object");"audio"!==t&&"script"!==t||e.preventDefault()})),e.on("ObjectResized",(function(e){var t,n=e.target;n.getAttribute("data-mce-object")&&(t=n.getAttribute("data-mce-html"),t&&(t=unescape(t),n.setAttribute("data-mce-html",escape(X(t,{width:String(e.width),height:String(e.height)})))))}))},He=function(e,t){return function(n){return e.selection.selectorChangedWithUnbind(t.join(","),n.setActive).unbind}},Ue=function(e){e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){e.execCommand("mceMedia")},onSetup:He(e,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){e.execCommand("mceMedia")}})};function $e(){e.add("media",(function(e){return De(e),Ue(e),ze(e),Fe(e),Ve(e),Me(e)}))}$e()})()},"13d2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-select",{attrs:{value:e.arrayValue,mode:"multiple",placeholder:e.placeholder},on:{change:e.onChange}},e._l(e.options,(function(t,r){return n("a-select-option",{key:r,attrs:{value:t.value}},[e._v("\n    "+e._s(t.text||t.label)+"\n  ")])})),1)},o=[],i={name:"JSelectMultiple",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},readOnly:{type:Boolean,required:!1,default:!1},options:{type:Array,required:!0},triggerChange:{type:Boolean,required:!1,default:!1}},data:function(){return{arrayValue:this.value?this.value.split(","):[]}},watch:{value:function(e){this.arrayValue=e?this.value.split(","):[]}},methods:{onChange:function(e){this.triggerChange?this.$emit("change",e.join(",")):this.$emit("input",e.join(","))}}},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,null,null);t["default"]=l.exports},1422:function(e,t,n){(function(t){(function(){"use strict";var n=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},r=function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)},o=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},i=function(e,t){return a((function(n,r){return e.eq(t(n),t(r))}))},a=function(e){return{eq:e}},s=a((function(e,t){return e===t})),l=s,u=function(e){return a((function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e.eq(t[o],n[o]))return!1;return!0}))},c=function(e,t){return i(u(e),(function(e){return o(e,t)}))},d=function(e){return a((function(t,n){var r=Object.keys(t),o=Object.keys(n);if(!c(l).eq(r,o))return!1;for(var i=r.length,a=0;a<i;a++){var s=r[a];if(!e.eq(t[s],n[s]))return!1}return!0}))},f=a((function(e,t){if(e===t)return!0;var o=n(e),i=n(t);return o===i&&(r(o)?e===t:"array"===o?u(f).eq(e,t):"object"===o&&d(f).eq(e,t))})),p=function(){},h=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},m=function(e,t){return function(n){return e(t(n))}},g=function(e){return function(){return e}},v=function(e){return e};function y(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var b=function(e){return function(t){return!e(t)}},x=function(e){return function(){throw new Error(e)}},w=function(e){e()},C=g(!1),S=g(!0),k=function(){return O},O=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:C,isSome:C,isNone:S,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:g(null),getOrUndefined:g(void 0),or:n,orThunk:t,map:k,each:p,bind:k,exists:C,forall:S,filter:k,equals:e,equals_:e,toArray:function(){return[]},toString:g("none()")};return r}(),T=function(e){var t=g(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:S,isNone:C,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return T(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:O},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(C,(function(t){return n(e,t)}))}};return o},M=function(e){return null===e||void 0===e?O:T(e)},D={some:T,none:k,from:M},I=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},E=function(e){return function(t){return I(t)===e}},A=function(e){return function(t){return typeof t===e}},L=function(e){return function(t){return e===t}},j=E("string"),N=E("object"),P=E("array"),R=L(null),B=A("boolean"),F=L(void 0),z=function(e){return null===e||void 0===e},V=function(e){return!z(e)},H=A("function"),U=A("number"),$=Array.prototype.slice,q=Array.prototype.indexOf,W=Array.prototype.push,G=function(e,t){return q.call(e,t)},Y=function(e,t){var n=G(e,t);return-1===n?D.none():D.some(n)},K=function(e,t){return G(e,t)>-1},X=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return!0}return!1},J=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},Z=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},Q=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},ee=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o],s=t(a,o)?n:r;s.push(a)}return{pass:n,fail:r}},te=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},ne=function(e,t,n){return Q(e,(function(e){n=t(n,e)})),n},re=function(e,t,n){return Z(e,(function(e){n=t(n,e)})),n},oe=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return D.some(i);if(n(i,r))break}return D.none()},ie=function(e,t){return oe(e,t,C)},ae=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return D.some(n)}return D.none()},se=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!P(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);W.apply(t,e[n])}return t},le=function(e,t){return se(J(e,t))},ue=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(!0!==t(o,n))return!1}return!0},ce=function(e){var t=$.call(e,0);return t.reverse(),t},de=function(e,t){return te(e,(function(e){return!K(t,e)}))},fe=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},pe=function(e,t){var n=$.call(e,0);return n.sort(t),n},he=function(e,t){return t>=0&&t<e.length?D.some(e[t]):D.none()},me=function(e){return he(e,0)},ge=function(e){return he(e,e.length-1)},ve=H(Array.from)?Array.from:function(e){return $.call(e)},ye=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return D.none()},be=Object.keys,xe=Object.hasOwnProperty,we=function(e,t){for(var n=be(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i)}},_e=function(e,t){return Ce(e,(function(e,n){return{k:n,v:t(e,n)}}))},Ce=function(e,t){var n={};return we(e,(function(e,r){var o=t(e,r);n[o.k]=o.v})),n},Se=function(e){return function(t,n){e[n]=t}},ke=function(e,t,n,r){var o={};return we(e,(function(e,o){(t(e,o)?n:r)(e,o)})),o},Oe=function(e,t){var n={},r={};return ke(e,t,Se(n),Se(r)),{t:n,f:r}},Te=function(e,t){var n={};return ke(e,t,Se(n),p),n},Me=function(e,t){var n=[];return we(e,(function(e,r){n.push(t(e,r))})),n},De=function(e){return Me(e,(function(e){return e}))},Ie=function(e,t){return Ee(e,t)?D.from(e[t]):D.none()},Ee=function(e,t){return xe.call(e,t)},Ae=function(e,t){return Ee(e,t)&&void 0!==e[t]&&null!==e[t]},Le=function(e,t,n){return void 0===n&&(n=f),d(n).eq(e,t)},je=Array.isArray,Ne=function(e){if(je(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},Pe=function(e,t,n){var r,o;if(!e)return!1;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return!1;return!0},Re=function(e,t){var n=[];return Pe(e,(function(r,o){n.push(t(r,o,e))})),n},Be=function(e,t){var n=[];return Pe(e,(function(r,o){t&&!t(r,o,e)||n.push(r)})),n},Fe=function(e,t){if(e)for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},ze=function(e,t,n,r){for(var o=F(n)?e[0]:n,i=0;i<e.length;i++)o=t.call(r,o,e[i],i);return o},Ve=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},He=function(e){return e[e.length-1]},Ue=function(){return Ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ue.apply(this,arguments)};function $e(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function qe(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var We=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},Ge=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),s=a||r("(pointer:coarse)"),l=o||!i&&a&&r("(min-device-width:768px)"),u=i||a&&!l,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!u&&!l&&!c;return{isiPad:g(o),isiPhone:g(i),isTablet:g(l),isPhone:g(u),isTouch:g(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:g(c),isDesktop:g(d)}},Ye=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Ke=function(e,t){var n=Ye(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Ze(r(1),r(2))},Xe=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Je():Ke(e,n)},Je=function(){return Ze(0,0)},Ze=function(e,t){return{major:e,minor:t}},Qe={nu:Ze,detect:Xe,unknown:Je},et=function(e,t){var n=String(t).toLowerCase();return ie(e,(function(e){return e.search(n)}))},tt=function(e,t){return et(e,t).map((function(e){var n=Qe.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},nt=function(e,t){return et(e,t).map((function(e){var n=Qe.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},rt={detectBrowser:tt,detectOs:nt},ot=function(e,t){return e.substring(t)},it=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},at=function(e,t){return lt(e,t)?ot(e,t.length):e},st=function(e,t){return-1!==e.indexOf(t)},lt=function(e,t){return it(e,t,0)},ut=function(e){return function(t){return t.replace(e,"")}},ct=ut(/^\s+|\s+$/g),dt=ut(/^\s+/g),ft=ut(/\s+$/g),pt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ht=function(e){return function(t){return st(t,e)}},mt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return st(e,"edge/")&&st(e,"chrome")&&st(e,"safari")&&st(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,pt],search:function(e){return st(e,"chrome")&&!st(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return st(e,"msie")||st(e,"trident")}},{name:"Opera",versionRegexes:[pt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ht("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ht("firefox")},{name:"Safari",versionRegexes:[pt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(st(e,"safari")||st(e,"mobile/"))&&st(e,"applewebkit")}}],gt=[{name:"Windows",search:ht("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return st(e,"iphone")||st(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ht("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ht("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ht("linux"),versionRegexes:[]},{name:"Solaris",search:ht("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ht("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ht("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],vt={browsers:g(mt),oses:g(gt)},yt="Edge",bt="Chrome",xt="IE",wt="Opera",_t="Firefox",Ct="Safari",St=function(){return kt({current:void 0,version:Qe.unknown()})},kt=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(yt),isChrome:r(bt),isIE:r(xt),isOpera:r(wt),isFirefox:r(_t),isSafari:r(Ct)}},Ot={unknown:St,nu:kt,edge:g(yt),chrome:g(bt),ie:g(xt),opera:g(wt),firefox:g(_t),safari:g(Ct)},Tt="Windows",Mt="iOS",Dt="Android",It="Linux",Et="OSX",At="Solaris",Lt="FreeBSD",jt="ChromeOS",Nt=function(){return Pt({current:void 0,version:Qe.unknown()})},Pt=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(Tt),isiOS:r(Mt),isAndroid:r(Dt),isOSX:r(Et),isLinux:r(It),isSolaris:r(At),isFreeBSD:r(Lt),isChromeOS:r(jt)}},Rt={unknown:Nt,nu:Pt,windows:g(Tt),ios:g(Mt),android:g(Dt),linux:g(It),osx:g(Et),solaris:g(At),freebsd:g(Lt),chromeos:g(jt)},Bt=function(e,t){var n=vt.browsers(),r=vt.oses(),o=rt.detectBrowser(n,e).fold(Ot.unknown,Ot.nu),i=rt.detectOs(r,e).fold(Rt.unknown,Rt.nu),a=Ge(i,o,e,t);return{browser:o,os:i,deviceType:a}},Ft={detect:Bt},zt=function(e){return window.matchMedia(e).matches},Vt=We((function(){return Ft.detect(navigator.userAgent,zt)})),Ht=function(){return Vt()},Ut=navigator.userAgent,$t=Ht(),qt=$t.browser,Wt=$t.os,Gt=$t.deviceType,Yt=/WebKit/.test(Ut)&&!qt.isEdge(),Kt="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Xt=-1!==Ut.indexOf("Windows Phone"),Jt={opera:qt.isOpera(),webkit:Yt,ie:!(!qt.isIE()&&!qt.isEdge())&&qt.version.major,gecko:qt.isFirefox(),mac:Wt.isOSX()||Wt.isiOS(),iOS:Gt.isiPad()||Gt.isiPhone(),android:Wt.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:qt.isIE()?document.documentMode||7:10,fileApi:Kt,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!qt.isIE(),desktop:Gt.isDesktop(),windowsPhone:Xt,browser:{current:qt.current,version:qt.version,isChrome:qt.isChrome,isEdge:qt.isEdge,isFirefox:qt.isFirefox,isIE:qt.isIE,isOpera:qt.isOpera,isSafari:qt.isSafari},os:{current:Wt.current,version:Wt.version,isAndroid:Wt.isAndroid,isChromeOS:Wt.isChromeOS,isFreeBSD:Wt.isFreeBSD,isiOS:Wt.isiOS,isLinux:Wt.isLinux,isOSX:Wt.isOSX,isSolaris:Wt.isSolaris,isWindows:Wt.isWindows},deviceType:{isDesktop:Gt.isDesktop,isiPad:Gt.isiPad,isiPhone:Gt.isiPhone,isPhone:Gt.isPhone,isTablet:Gt.isTablet,isTouch:Gt.isTouch,isWebView:Gt.isWebView}},Zt=/^\s*|\s*$/g,Qt=function(e){return null===e||void 0===e?"":(""+e).replace(Zt,"")},en=function(e,t){return t?!("array"!==t||!je(e))||typeof e===t:void 0!==e},tn=function(e,t,n){var r;e=e||[],t=t||",","string"===typeof e&&(e=e.split(t)),n=n||{},r=e.length;while(r--)n[e[r]]={};return n},nn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},rn=function(e,t,n){var r,o,i,a=this,s=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var l=e[3].match(/(^|\.)(\w+)$/i)[2],u=a.createNS(e[3].replace(/\.\w+$/,""),n);if(!u[l]){if("static"===e[2])return u[l]=t,void(this.onCreate&&this.onCreate(e[2],e[3],u[l]));t[l]||(t[l]=function(){},s=1),u[l]=t[l],a.extend(u[l].prototype,t),e[5]&&(r=a.resolve(e[5]).prototype,o=e[5].match(/\.(\w+)$/i)[1],i=u[l],u[l]=s?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},u[l].prototype[l]=u[l],a.each(r,(function(e,t){u[l].prototype[t]=r[t]})),a.each(t,(function(e,t){r[t]?u[l].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==l&&(u[l].prototype[t]=e)}))),a.each(t.static,(function(e,t){u[l][t]=e}))}},on=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];void 0!==a&&(e[i]=a)}}return e},an=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),Pe(e,(function(e,o){if(!1===t.call(r,e,o,n))return!1;an(e,t,n,r)})))},sn=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)r=e[n],t[r]||(t[r]={}),t=t[r];return t},ln=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0,r=e.length;n<r;n++)if(t=t[e[n]],!t)break;return t},un=function(e,t){return!e||en(e,"array")?e:Re(e.split(t||","),Qt)},cn=function(e){var t=Jt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e},dn={trim:Qt,isArray:je,is:en,toArray:Ne,makeMap:tn,each:Pe,map:Re,grep:Be,inArray:Fe,hasOwn:nn,extend:on,create:rn,walk:an,createNS:sn,resolve:ln,explode:un,_addCacheSuffix:cn},fn=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw new Error("HTML must have a single root node");return mn(r.childNodes[0])},pn=function(e,t){var n=t||document,r=n.createElement(e);return mn(r)},hn=function(e,t){var n=t||document,r=n.createTextNode(e);return mn(r)},mn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},gn=function(e,t,n){return D.from(e.dom.elementFromPoint(t,n)).map(mn)},vn={fromHtml:fn,fromTag:pn,fromText:hn,fromDom:mn,fromPoint:gn},yn=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n},bn=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},xn=function(e,t){return bn(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},wn=8,_n=9,Cn=11,Sn=1,kn=3,On=function(e,t){var n=e.dom;if(n.nodeType!==Sn)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Tn=function(e){return e.nodeType!==Sn&&e.nodeType!==_n&&e.nodeType!==Cn||0===e.childElementCount},Mn=function(e,t){var n=void 0===t?document:t.dom;return Tn(n)?[]:J(n.querySelectorAll(e),vn.fromDom)},Dn=function(e,t){var n=void 0===t?document:t.dom;return Tn(n)?D.none():D.from(n.querySelector(e)).map(vn.fromDom)},In=function(e,t){return e.dom===t.dom},En=function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)},An=function(e,t){return xn(e.dom,t.dom)},Ln=function(e,t){return Ht().browser.isIE()?An(e,t):En(e,t)},jn=("undefined"!==typeof window?window:Function("return this;")(),function(e){var t=e.dom.nodeName;return t.toLowerCase()}),Nn=function(e){return e.dom.nodeType},Pn=function(e){return function(t){return Nn(t)===e}},Rn=function(e){return Nn(e)===wn||"#comment"===jn(e)},Bn=Pn(Sn),Fn=Pn(kn),zn=Pn(_n),Vn=Pn(Cn),Hn=function(e){return vn.fromDom(e.dom.ownerDocument)},Un=function(e){return zn(e)?e:Hn(e)},$n=function(e){return vn.fromDom(Un(e).dom.documentElement)},qn=function(e){return vn.fromDom(Un(e).dom.defaultView)},Wn=function(e){return D.from(e.dom.parentNode).map(vn.fromDom)},Gn=function(e,t){var n=H(t)?t:C,r=e.dom,o=[];while(null!==r.parentNode&&void 0!==r.parentNode){var i=r.parentNode,a=vn.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},Yn=function(e){var t=function(t){return te(t,(function(t){return!In(e,t)}))};return Wn(e).map(Qn).map(t).getOr([])},Kn=function(e){return D.from(e.dom.previousSibling).map(vn.fromDom)},Xn=function(e){return D.from(e.dom.nextSibling).map(vn.fromDom)},Jn=function(e){return ce(yn(e,Kn))},Zn=function(e){return yn(e,Xn)},Qn=function(e){return J(e.dom.childNodes,vn.fromDom)},er=function(e,t){var n=e.dom.childNodes;return D.from(n[t]).map(vn.fromDom)},tr=function(e){return er(e,0)},nr=function(e){return er(e,e.dom.childNodes.length-1)},rr=function(e){return e.dom.childNodes.length},or=function(e){var t=e.dom.head;if(null===t||void 0===t)throw new Error("Head is not available yet");return vn.fromDom(t)},ir=function(e){return Vn(e)},ar=H(Element.prototype.attachShadow)&&H(Node.prototype.getRootNode),sr=g(ar),lr=ar?function(e){return vn.fromDom(e.dom.getRootNode())}:Un,ur=function(e){return ir(e)?e:or(Un(e))},cr=function(e){var t=lr(e);return ir(t)?D.some(t):D.none()},dr=function(e){return vn.fromDom(e.dom.host)},fr=function(e){if(sr()&&V(e.target)){var t=vn.fromDom(e.target);if(Bn(t)&&pr(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return me(n)}}return D.from(e.target)},pr=function(e){return V(e.dom.shadowRoot)},hr=function(e,t){var n=Wn(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},mr=function(e,t){var n=Xn(e);n.fold((function(){var n=Wn(e);n.each((function(e){vr(e,t)}))}),(function(e){hr(e,t)}))},gr=function(e,t){var n=tr(e);n.fold((function(){vr(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},vr=function(e,t){e.dom.appendChild(t.dom)},yr=function(e,t){hr(e,t),vr(t,e)},br=function(e,t){Z(t,(function(t){hr(e,t)}))},xr=function(e,t){Z(t,(function(t){vr(e,t)}))},wr=function(e){e.dom.textContent="",Z(Qn(e),(function(e){_r(e)}))},_r=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Cr=function(e){var t=Qn(e);t.length>0&&br(e,t),_r(e)},Sr=function(e){var t=Fn(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;var n=t.ownerDocument;return cr(vn.fromDom(t)).fold((function(){return n.body.contains(t)}),m(Sr,dr))},kr=function(e,t){var n=function(n,r){return kr(e+n,t+r)};return{left:e,top:t,translate:n}},Or=kr,Tr=function(e){var t=e.getBoundingClientRect();return Or(t.left,t.top)},Mr=function(e,t){return void 0!==e?e:void 0!==t?t:0},Dr=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return Or(n.offsetLeft,n.offsetTop);var i=Mr(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop),a=Mr(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft),s=Mr(o.clientTop,n.clientTop),l=Mr(o.clientLeft,n.clientLeft);return Ir(e).translate(a-l,i-s)},Ir=function(e){var t=e.dom,n=t.ownerDocument,r=n.body;return r===t?Or(r.offsetLeft,r.offsetTop):Sr(e)?Tr(t):Or(0,0)},Er=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Or(n,r)},Ar=function(e,t,n){var r=void 0!==n?n.dom:document,o=r.defaultView;o&&o.scrollTo(e,t)},Lr=function(e,t){var n=Ht().browser.isSafari();n&&H(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},jr=function(e){var t=void 0===e?window:e;return D.from(t["visualViewport"])},Nr=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},Pr=function(e){var t=void 0===e?window:e,n=t.document,r=Er(vn.fromDom(n));return jr(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,o=e.clientHeight;return Nr(r.left,r.top,n,o)}),(function(e){return Nr(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))},Rr=function(e){return function(t){return!!t&&t.nodeType===e}},Br=function(e){return!!e&&!Object.getPrototypeOf(e)},Fr=Rr(1),zr=function(e){var t=e.map((function(e){return e.toLowerCase()}));return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase();return K(t,n)}return!1}},Vr=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r,o;if(Fr(t))for(r=0;r<n.length;r++){var i=t.ownerDocument.defaultView.getComputedStyle(t,null);if(o=i?i.getPropertyValue(e):null,o===n[r])return!0}return!1}},Hr=function(e){return function(t){return Fr(t)&&t.hasAttribute(e)}},Ur=function(e,t){return function(n){return Fr(n)&&n.getAttribute(e)===t}},$r=function(e){return Fr(e)&&e.hasAttribute("data-mce-bogus")},qr=function(e){return Fr(e)&&"all"===e.getAttribute("data-mce-bogus")},Wr=function(e){return Fr(e)&&"TABLE"===e.tagName},Gr=function(e){return function(t){if(Fr(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Yr=zr(["textarea","input"]),Kr=Rr(3),Xr=Rr(8),Jr=Rr(9),Zr=Rr(11),Qr=zr(["br"]),eo=zr(["img"]),to=Gr("true"),no=Gr("false"),ro=zr(["td","th"]),oo=zr(["video","audio","object","embed"]),io=function(e){return void 0!==e.style&&H(e.style.getPropertyValue)},ao=function(e,t,n){if(!(j(n)||B(n)||U(n)))throw new Error("Attribute value was not simple");e.setAttribute(t,n+"")},so=function(e,t,n){ao(e.dom,t,n)},lo=function(e,t){var n=e.dom;we(t,(function(e,t){ao(n,t,e)}))},uo=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},co=function(e,t){return D.from(uo(e,t))},fo=function(e,t){var n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},po=function(e,t){e.dom.removeAttribute(t)},ho=function(e){return re(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})},mo=function(e,t,n){if(!j(n))throw new Error("CSS value must be a string: "+n);io(e)&&e.style.setProperty(t,n)},go=function(e,t){var n=e.dom;we(t,(function(e,t){mo(n,t,e)}))},vo=function(e,t){var n=e.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(t);return""!==o||Sr(e)?o:yo(n,t)},yo=function(e,t){return io(e)?e.style.getPropertyValue(t):""},bo=function(e,t){var n=e.dom,r=yo(n,t);return D.from(r).filter((function(e){return e.length>0}))},xo=function(e){var t={},n=e.dom;if(io(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},wo=function(e){return e.dom.offsetWidth},_o=Ht().browser,Co=function(e){return ie(e,Bn)},So=function(e){return _o.isFirefox()&&"table"===jn(e)?Co(Qn(e)).filter((function(e){return"caption"===jn(e)})).bind((function(e){return Co(Zn(e)).map((function(t){var n=t.dom.offsetTop,r=e.dom.offsetTop,o=e.dom.offsetHeight;return n<=r?-o:0}))})).getOr(0):0},ko=function(e,t){return e.children&&K(e.children,t)},Oo=function(e,t,n){var r,o,i=0,a=0,s=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===vo(vn.fromDom(e),"position"))return o=t.getBoundingClientRect(),i=o.left+(s.documentElement.scrollLeft||e.scrollLeft)-s.documentElement.clientLeft,a=o.top+(s.documentElement.scrollTop||e.scrollTop)-s.documentElement.clientTop,{x:i,y:a};r=t;while(r&&r!==n&&r.nodeType&&!ko(r,n))i+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;r=t.parentNode;while(r&&r!==n&&r.nodeType&&!ko(r,n))i-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=So(vn.fromDom(t))}return{x:i,y:a}},To={},Mo={exports:To};(function(e,n,r,o){(function(o){if("object"===typeof n&&"undefined"!==typeof r)r.exports=o();else if("function"===typeof e&&e.amd)e([],o);else{var i;i="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:this,i.EphoxContactWrapper=o()}})((function(){return function(){function e(t,n,r){function i(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof o&&o;if(!l&&u)return u(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};t[s][0].call(d.exports,(function(e){var n=t[s][1][e];return i(n||e)}),d,d.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof o&&o,s=0;s<r.length;s++)i(r[s]);return i}return e}()({1:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"===typeof clearTimeout?clearTimeout:s}catch(e){o=s}})();var c,d=[],f=!1,p=-1;function h(){f&&c&&(f=!1,c.length?d=c.concat(d):p=-1,d.length&&m())}function m(){if(!f){var e=l(h);f=!0;var t=d.length;while(t){c=d,d=[];while(++p<t)c&&c[p].run();p=-1,t=d.length}c=null,f=!1,u(e)}}function g(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new g(e,t)),1!==d.length||f||l(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){(function(n){var r=setTimeout;function o(){}function i(e,t){return function(){e.apply(t,arguments)}}function a(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function s(e,t){while(3===e._state)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void u(t.promise,o)}l(t.promise,r)}else(1===e._state?l:u)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void c(e);if("function"===typeof n)return void f(i(n,t),e)}e._state=1,e._value=t,c(e)}catch(r){u(e,r)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(r){if(n)return;n=!0,u(t,r)}}a.prototype["catch"]=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(o);return s(this,new d(e,t,n)),n},a.all=function(e){var t=Array.prototype.slice.call(e);return new a((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(e){o(i,e)}),n)}t[i]=a,0===--r&&e(t)}catch(l){n(l)}}for(var i=0;i<t.length;i++)o(i,t[i])}))},a.resolve=function(e){return e&&"object"===typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},a._immediateFn="function"===typeof e?function(t){e(t)}:function(e){r(e,0)},a._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console},a._setImmediateFn=function(e){a._immediateFn=e},a._setUnhandledRejectionFn=function(e){a._unhandledRejectionFn=e},"undefined"!==typeof t&&t.exports?t.exports=a:n.Promise||(n.Promise=a)})(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,s={},l=0;function u(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new u(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new u(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"===typeof t?t:function(e){var t=l++,r=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,o((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"===typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o=function(){return"undefined"!==typeof window?window:Function("return this;")()}();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,To,Mo,void 0);var Do=Mo.exports.boltExport,Io=function(e){var t=D.none(),n=[],r=function(e){return Io((function(t){o((function(n){t(e(n))}))}))},o=function(e){a()?l(e):n.push(e)},i=function(e){a()||(t=D.some(e),s(n),n=[])},a=function(){return t.isSome()},s=function(e){Z(e,l)},l=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))};return e(i),{get:o,map:r,isReady:a}},Eo=function(e){return Io((function(t){t(e)}))},Ao={nu:Io,pure:Eo},Lo=function(e){setTimeout((function(){throw e}),0)},jo=function(e){var t=function(t){e().then(t,Lo)},n=function(t){return jo((function(){return e().then(t)}))},r=function(t){return jo((function(){return e().then((function(e){return t(e).toPromise()}))}))},o=function(t){return jo((function(){return e().then((function(){return t.toPromise()}))}))},i=function(){return Ao.nu(t)},a=function(){var t=null;return jo((function(){return null===t&&(t=e()),t}))},s=e;return{map:n,bind:r,anonBind:o,toLazy:i,toCached:a,toPromise:s,get:t}},No=function(e){return jo((function(){return new Do(e)}))},Po=function(e){return jo((function(){return Do.resolve(e)}))},Ro={nu:No,pure:Po},Bo=function(e,t){return t((function(t){var n=[],r=0,o=function(o){return function(i){n[o]=i,r++,r>=e.length&&t(n)}};0===e.length?t([]):Z(e,(function(e,t){e.get(o(t))}))}))},Fo=function(e){return Bo(e,Ro.nu)},zo=function(e){var t=function(t){return e===t},n=function(t){return zo(e)},r=function(t){return zo(e)},o=function(t){return zo(t(e))},i=function(t){return zo(e)},a=function(t){t(e)},s=function(t){return t(e)},l=function(t,n){return n(e)},u=function(t){return t(e)},c=function(t){return t(e)},d=function(){return D.some(e)};return{is:t,isValue:S,isError:C,getOr:g(e),getOrThunk:g(e),getOrDie:g(e),or:n,orThunk:r,fold:l,map:o,mapError:i,each:a,bind:s,exists:u,forall:c,toOptional:d}},Vo=function(e){var t=function(e){return e()},n=function(){return x(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return Vo(e)},a=function(t){return Vo(t(e))},s=function(t){return Vo(e)},l=function(t,n){return t(e)};return{is:C,isValue:C,isError:S,getOr:v,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:l,map:i,mapError:a,each:p,bind:s,exists:C,forall:S,toOptional:D.none}},Ho=function(e,t){return e.fold((function(){return Vo(t)}),zo)},Uo={value:zo,error:Vo,fromOption:Ho},$o=function(e){if(!P(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return Z(e,(function(r,o){var i=be(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],s=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!P(s))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){var n=arguments.length;if(n!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];var l=function(e){var n=be(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));var o=ue(t,(function(e){return K(n,e)}));if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,r)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[o];return t.apply(null,r)},match:l,log:function(e){}}}})),n},qo={generate:$o},Wo=(qo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){return e.fold(v,v)});function Go(e,t,n,r,o){return e(n,r)?D.some(n):H(o)&&o(n)?D.none():t(n,r,o)}var Yo,Ko=function(e,t,n){var r=e.dom,o=H(n)?n:C;while(r.parentNode){r=r.parentNode;var i=vn.fromDom(r);if(t(i))return D.some(i);if(o(i))break}return D.none()},Xo=function(e,t,n){var r=function(e,t){return t(e)};return Go(r,Ko,e,t,n)},Jo=function(e,t){var n=e.dom;return n.parentNode?Zo(vn.fromDom(n.parentNode),(function(n){return!In(e,n)&&t(n)})):D.none()},Zo=function(e,t){var n=function(e){return t(vn.fromDom(e))},r=ie(e.dom.childNodes,n);return r.map(vn.fromDom)},Qo=function(e,t,n){return Ko(e,(function(e){return On(e,t)}),n)},ei=function(e,t){return Dn(t,e)},ti=function(e,t,n){var r=function(e,t){return On(e,t)};return Go(r,Qo,e,t,n)},ni=function(){function e(e,t){return function(){e.apply(t,arguments)}}var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=function(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,e(i,this),e(a,this))},r=n.immediateFn||"function"===typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)};function o(e){var t=this;null!==this._state?r((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(o){return void e.reject(o)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if("function"===typeof n)return void u(e(n,t),e(i,this),e(a,this))}this._state=!0,this._value=t,s.call(this)}catch(r){a.call(this,r)}}function a(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;e<t;e++)o.call(this,this._deferreds[e]);this._deferreds=null}function l(e,t,n,r){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=r}function u(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(o){if(r)return;r=!0,n(o)}}return n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var r=this;return new n((function(n,i){o.call(r,new l(e,t,n,i))}))},n.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&t(arguments[0])?arguments[0]:arguments);return new n((function(t,n){if(0===e.length)return t([]);var r=e.length;function o(i,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(e){o(i,e)}),n)}e[i]=a,0===--r&&t(e)}catch(l){n(l)}}for(var i=0;i<e.length;i++)o(i,e[i])}))},n.resolve=function(e){return e&&"object"===typeof e&&e.constructor===n?e:new n((function(t){t(e)}))},n.reject=function(e){return new n((function(t,n){n(e)}))},n.race=function(e){return new n((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},n},ri=window.Promise?window.Promise:ni(),oi=function(e,t){var n,r=window.requestAnimationFrame,o=["ms","moz","webkit"],i=function(e){window.setTimeout(e,0)};for(n=0;n<o.length&&!r;n++)r=window[o[n]+"RequestAnimationFrame"];r||(r=i),r(e,t)},ii=function(e,t){return"number"!==typeof t&&(t=0),setTimeout(e,t)},ai=function(e,t){return"number"!==typeof t&&(t=1),setInterval(e,t)},si=function(e){return clearTimeout(e)},li=function(e){return clearInterval(e)},ui=function(e,t){var n,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(n),n=ii((function(){e.apply(this,r)}),t)};return r.stop=function(){clearTimeout(n)},r},ci={requestAnimationFrame:function(e,t){Yo?Yo.then(e):Yo=new ri((function(e){t||(t=document.body),oi(e,t)})).then(e)},setTimeout:ii,setInterval:ai,setEditorTimeout:function(e,t,n){return ii((function(){e.removed||t()}),n)},setEditorInterval:function(e,t,n){var r=ai((function(){e.removed?clearInterval(r):t()}),n);return r},debounce:ui,throttle:ui,clearInterval:li,clearTimeout:si};function di(e,t){void 0===t&&(t={});var n=0,r={},o=vn.fromDom(e),i=Un(o),a=t.maxLoadTime||5e3,s=function(e){t.referrerPolicy=e},l=function(e){vr(ur(o),e)},u=function(e){var t=ur(o);ei(t,"#"+e).each(_r)},c=function(e){return Ie(r,e).getOrThunk((function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}}))},d=function(n,o,s){var u,d=dn._addCacheSuffix(n),f=c(d);r[d]=f,f.count++;var p=function(e,t){var n=e.length;while(n--)e[n]();f.status=t,f.passed=[],f.failed=[],u&&(u.onload=null,u.onerror=null,u=null)},h=function(){return p(f.passed,2)},m=function(){return p(f.failed,3)},g=function(e,t){e()||(Date.now()-b<a?ci.setTimeout(t):m())},v=function(){g((function(){var t=e.styleSheets,n=t.length;while(n--){var r=t[n],o=r.ownerNode;if(o&&o.id===u.id)return h(),!0}return!1}),v)};if(o&&f.passed.push(o),s&&f.failed.push(s),1!==f.status)if(2!==f.status)if(3!==f.status){f.status=1;var y=vn.fromTag("link",i.dom);lo(y,{rel:"stylesheet",type:"text/css",id:f.id});var b=Date.now();t.contentCssCors&&so(y,"crossOrigin","anonymous"),t.referrerPolicy&&so(y,"referrerpolicy",t.referrerPolicy),u=y.dom,u.onload=v,u.onerror=m,l(y),so(y,"href",d)}else m();else h()},f=function(e){return Ro.nu((function(t){d(e,h(t,g(Uo.value(e))),h(t,g(Uo.error(e))))}))},p=function(e,t,n){Fo(J(e,f)).get((function(e){var r=ee(e,(function(e){return e.isValue()}));r.fail.length>0?n(r.fail.map(Wo)):t(r.pass.map(Wo))}))},m=function(e){var t=dn._addCacheSuffix(e);Ie(r,t).each((function(e){var n=--e.count;0===n&&(delete r[t],u(e.id))}))},v=function(e){Z(e,(function(e){m(e)}))};return{load:d,loadAll:p,unload:m,unloadAll:v,_setReferrerPolicy:s}}var fi=function(){var e=new WeakMap,t=function(t,n){var r=lr(t),o=r.dom;return D.from(e.get(o)).getOrThunk((function(){var t=di(o,n);return e.set(o,t),t}))};return{forElement:t}},pi=fi(),hi=function(){function e(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},e.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},e.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},e.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n],o)return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n],o)return o}}},e.prototype.findPreviousNode=function(e,t,n,r){var o,i,a;if(e){if(o=e[n],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[t];a;a=a[t])if(!a[t])return a;return o}if(i=e.parentNode,i&&i!==this.rootNode)return i}},e}(),mi=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],gi=["td","th"],vi=["thead","tbody","tfoot"],yi=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],bi=["h1","h2","h3","h4","h5","h6"],xi=["li","dd","dt"],wi=["ul","ol","dl"],_i=["pre","script","textarea","style"],Ci=function(e){var t;return function(n){return t=t||fe(e,S),t.hasOwnProperty(jn(n))}},Si=Ci(bi),ki=Ci(mi),Oi=function(e){return"table"===jn(e)},Ti=function(e){return Bn(e)&&!ki(e)},Mi=function(e){return Bn(e)&&"br"===jn(e)},Di=Ci(yi),Ii=Ci(wi),Ei=Ci(xi),Ai=Ci(vi),Li=Ci(gi),ji=Ci(_i),Ni=function(e,t,n){return Qo(e,t,n).isSome()},Pi="\ufeff",Ri=" ",Bi=function(e){return e===Pi},Fi=function(e){return e.replace(/\uFEFF/g,"")},zi=Pi,Vi=Bi,Hi=Fi,Ui=Fr,$i=Kr,qi=function(e){return $i(e)&&(e=e.parentNode),Ui(e)&&e.hasAttribute("data-mce-caret")},Wi=function(e){return $i(e)&&Vi(e.data)},Gi=function(e){return qi(e)||Wi(e)},Yi=function(e){return e.firstChild!==e.lastChild||!Qr(e.firstChild)},Ki=function(e,t){var n,r=e.ownerDocument,o=r.createTextNode(zi),i=e.parentNode;if(t){if(n=e.previousSibling,$i(n)){if(Gi(n))return n;if(ta(n))return n.splitText(n.data.length-1)}i.insertBefore(o,e)}else{if(n=e.nextSibling,$i(n)){if(Gi(n))return n;if(ea(n))return n.splitText(1),n}e.nextSibling?i.insertBefore(o,e.nextSibling):i.appendChild(o)}return o},Xi=function(e){var t=e.container();return!!Kr(t)&&(t.data.charAt(e.offset())===zi||e.isAtStart()&&Wi(t.previousSibling))},Ji=function(e){var t=e.container();return!!Kr(t)&&(t.data.charAt(e.offset()-1)===zi||e.isAtEnd()&&Wi(t.nextSibling))},Zi=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},Qi=function(e,t,n){var r=t.ownerDocument,o=r.createElement(e);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(Zi());var i=t.parentNode;return n?i.insertBefore(o,t):t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o),o},ea=function(e){return $i(e)&&e.data[0]===zi},ta=function(e){return $i(e)&&e.data[e.data.length-1]===zi},na=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];$r(n)&&n.parentNode.removeChild(n)},ra=function(e){return e&&e.hasAttribute("data-mce-caret")?(na(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},oa=function(e){return qi(e.startContainer)},ia=to,aa=no,sa=Qr,la=Kr,ua=zr(["script","style","textarea"]),ca=zr(["img","input","textarea","hr","iframe","video","audio","object","embed"]),da=zr(["table"]),fa=Gi,pa=function(e){return!fa(e)&&(la(e)?!ua(e.parentNode):ca(e)||sa(e)||da(e)||ma(e))},ha=function(e){return Fr(e)&&"true"===e.getAttribute("unselectable")},ma=function(e){return!1===ha(e)&&aa(e)},ga=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(ma(e))return!1;if(ia(e))return!0}return!0},va=function(e){return!!ma(e)&&!0!==re(ve(e.getElementsByTagName("*")),(function(e,t){return e||ia(t)}),!1)},ya=function(e){return ca(e)||va(e)},ba=function(e,t){return pa(e)&&ga(e,t)},xa=/^[ \t\r\n]*$/,wa=function(e){return xa.test(e)},_a=function(e,t){var n=vn.fromDom(t),r=vn.fromDom(e);return Ni(r,"pre,code",y(In,n))},Ca=function(e,t){return Kr(e)&&wa(e.data)&&!1===_a(e,t)},Sa=function(e){return Fr(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},ka=function(e,t){return pa(e)&&!1===Ca(e,t)||Sa(e)||Oa(e)},Oa=Hr("data-mce-bookmark"),Ta=Hr("data-mce-bogus"),Ma=Ur("data-mce-bogus","all"),Da=function(e,t){var n,r=0;if(ka(e,e))return!1;if(n=e.firstChild,!n)return!0;var o=new hi(n,e);do{if(t){if(Ma(n)){n=o.next(!0);continue}if(Ta(n)){n=o.next();continue}}if(Qr(n))r++,n=o.next();else{if(ka(n,e))return!1;n=o.next()}}while(n);return r<=1},Ia=function(e,t){return void 0===t&&(t=!0),Da(e.dom,t)},Ea=function(e){return"span"===e.nodeName.toLowerCase()},Aa=function(e,t){return V(e)&&(ka(e,t)||Ti(vn.fromDom(e)))},La=function(e,t){var n=new hi(e,t).prev(!1),r=new hi(e,t).next(!1),o=F(n)||Aa(n,t),i=F(r)||Aa(r,t);return o&&i},ja=function(e){return Ea(e)&&"bookmark"===e.getAttribute("data-mce-type")},Na=function(e,t){return Kr(e)&&e.data.length>0&&La(e,t)},Pa=function(e){return!!Fr(e)&&e.childNodes.length>0},Ra=function(e){return Zr(e)||Jr(e)},Ba=function(e,t,n){var r=n||t;if(Fr(t)&&ja(t))return t;for(var o=t.childNodes,i=o.length-1;i>=0;i--)Ba(e,o[i],r);if(Fr(t)){var a=t.childNodes;1===a.length&&ja(a[0])&&t.parentNode.insertBefore(a[0],t)}return Ra(t)||ka(t,r)||Pa(t)||Na(t,r)||e.remove(t),t},Fa=dn.makeMap,za=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Va=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ha=/[<>&\"\']/g,Ua=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,$a={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},qa={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Wa={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Ga=function(e){var t=vn.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Ya=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),qa[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}},Ka=Ya("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Xa=function(e,t){return e.replace(t?za:Va,(function(e){return qa[e]||e}))},Ja=function(e){return(""+e).replace(Ha,(function(e){return qa[e]||e}))},Za=function(e,t){return e.replace(t?za:Va,(function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":qa[e]||"&#"+e.charCodeAt(0)+";"}))},Qa=function(e,t,n){return n=n||Ka,e.replace(t?za:Va,(function(e){return qa[e]||n[e]||e}))},es=function(e,t){var n=Ya(t)||Ka,r=function(e,t){return e.replace(t?za:Va,(function(e){return void 0!==qa[e]?qa[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"}))},o=function(e,t){return Qa(e,t,n)},i=Fa(e.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?t?o:Qa:i.numeric?Za:Xa},ts=function(e){return e.replace(Ua,(function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):$a[t]||String.fromCharCode(t)):Wa[e]||Ka[e]||Ga(e)}))},ns={encodeRaw:Xa,encodeAllRaw:Ja,encodeNumeric:Za,encodeNamed:Qa,getEncodeFunc:es,decode:ts},rs={},os={},is=dn.makeMap,as=dn.each,ss=dn.extend,ls=dn.explode,us=dn.inArray,cs=function(e,t){return e=dn.trim(e),e?e.split(t||" "):[]},ds=function(e){var t,n,r,o,i,a,s={},l=function(e,n,r){var o,i,a,l=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};r=r||[],n=n||"","string"===typeof r&&(r=cs(r));var u=cs(e);o=u.length;while(o--)i=cs([t,n].join(" ")),a={attributes:l(i),attributesOrder:i,children:l(r,os)},s[u[o]]=a},u=function(e,t){var n,r,o,i,a=cs(e);n=a.length;var l=cs(t);while(n--)for(r=s[a[n]],o=0,i=l.length;o<i;o++)r.attributes[l[o]]={},r.attributesOrder.push(l[o])};return rs[e]?rs[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",a="acronym applet basefont big font strike tt",r=[r,a].join(" "),as(cs(a),(function(e){l(e,"",r)})),i="center dir isindex noframes",n=[n,i].join(" "),o=[n,r].join(" "),as(cs(i),(function(e){l(e,"",o)}))),o=o||[n,r].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),l("address dt dd div caption","",o),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),l("blockquote","cite",o),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",o),l("dl","","dt dd"),l("a","href target rel media hreflang type",r),l("q","cite",r),l("ins del","cite datetime",o),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",o),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),l("param","name value"),l("map","name",[o,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",o),l("th","colspan rowspan headers scope abbr",o),l("form","accept-charset action autocomplete enctype method name novalidate target",o),l("fieldset","disabled form name",[o,"legend"].join(" ")),l("label","form for",r),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[o,"li"].join(" ")),l("noscript","",o),"html4"!==e&&(l("wbr"),l("ruby","",[r,"rt rp"].join(" ")),l("figcaption","",o),l("mark rt rp summary bdi","",r),l("canvas","width height",o),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[r,"option"].join(" ")),l("article section nav aside main header footer","",o),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[o,"figcaption"].join(" ")),l("time","datetime",r),l("dialog","open",o),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",r),l("progress","value max",r),l("meter","value min max low high optimum",r),l("details","open",[o,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),"html4"!==e&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("img","loading"),u("iframe","sandbox seamless allowfullscreen loading")),as(cs("a form meter progress dfn"),(function(e){s[e]&&delete s[e].children[e]})),delete s.caption.children.table,delete s.script,rs[e]=s,s)},fs=function(e,t){var n;return e&&(n={},"string"===typeof e&&(e={"*":e}),as(e,(function(e,r){n[r]=n[r.toUpperCase()]="map"===t?is(e,/[, ]/):ls(e,/[, ]/)}))),n};function ps(e){var t={},n={},r=[],o={},i={},a=function(t,n,r){var o=e[t];return o?o=is(o,/[, ]/,is(o.toUpperCase(),/[, ]/)):(o=rs[t],o||(o=is(n," ",is(n.toUpperCase()," ")),o=ss(o,r),rs[t]=o)),o};e=e||{};var s=ds(e.schema);!1===e.verify_html&&(e.valid_elements="*[*]");var l=fs(e.valid_styles),u=fs(e.invalid_styles,"map"),c=fs(e.valid_classes,"map"),d=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),f=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),p=a("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),h=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),m="td th iframe video audio object script code",g=a("non_empty_elements",m+" pre",p),v=a("move_caret_before_on_enter_elements",m+" table",p),y=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),b=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",y),x=a("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");as((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),(function(e){i[e]=new RegExp("</"+e+"[^>]*>","gi")}));var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},_=function(e){var n,o,i,a,s,l,u,c,d,f,p,h,m,g,v,y,b,x,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,C=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(e){var k=cs(e,",");for(t["@"]&&(y=t["@"].attributes,b=t["@"].attributesOrder),n=0,o=k.length;n<o;n++)if(s=_.exec(k[n]),s){if(g=s[1],d=s[2],v=s[3],c=s[5],h={},m=[],l={attributes:h,attributesOrder:m},"#"===g&&(l.paddEmpty=!0),"-"===g&&(l.removeEmpty=!0),"!"===s[4]&&(l.removeEmptyAttrs=!0),y&&(we(y,(function(e,t){h[t]=e})),m.push.apply(m,b)),c)for(c=cs(c,"|"),i=0,a=c.length;i<a;i++)if(s=C.exec(c[i]),s){if(u={},p=s[1],f=s[2].replace(/[\\:]:/g,":"),g=s[3],x=s[4],"!"===p&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(f),u.required=!0),"-"===p){delete h[f],m.splice(us(m,f),1);continue}g&&("="===g&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:f,value:x}),u.defaultValue=x),":"===g&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:f,value:x}),u.forcedValue=x),"<"===g&&(u.validValues=is(x,"?"))),S.test(f)?(l.attributePatterns=l.attributePatterns||[],u.pattern=w(f),l.attributePatterns.push(u)):(h[f]||m.push(f),h[f]=u)}y||"@"!==d||(y=h,b=m),v&&(l.outputName=d,t[v]=l),S.test(d)?(l.pattern=w(d),r.push(l)):t[d]=l}}},C=function(e){t={},r=[],_(e),as(s,(function(e,t){n[t]=e.children}))},S=function(e){var r=/^(~)?(.+)$/;e&&(rs.text_block_elements=rs.block_elements=null,as(cs(e,","),(function(e){var i=r.exec(e),a="~"===i[1],s=a?"span":"div",l=i[2];if(n[l]=n[s],o[l]=s,a||(b[l.toUpperCase()]={},b[l]={}),!t[l]){var u=t[s];u=ss({},u),delete u.removeEmptyAttrs,delete u.removeEmpty,t[l]=u}as(n,(function(e,t){e[s]&&(n[t]=e=ss({},n[t]),e[l]=e[s])}))})))},k=function(t){var r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;rs[e.schema]=null,t&&as(cs(t,","),(function(e){var t,o,i=r.exec(e);i&&(o=i[1],t=o?n[i[2]]:n[i[2]]={"#comment":{}},t=n[i[2]],as(cs(i[3],"|"),(function(e){"-"===o?delete t[e]:t[e]={}})))}))},O=function(e){var n,o=t[e];if(o)return o;n=r.length;while(n--)if(o=r[n],o.pattern.test(e))return o};e.valid_elements?C(e.valid_elements):(as(s,(function(e,r){t[r]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[r]=e.children})),"html5"!==e.schema&&as(cs("strong/b em/i"),(function(e){var n=cs(e,"/");t[n[1]].outputName=n[0]})),as(cs("ol ul sub sup blockquote span font a table tbody strong em b i"),(function(e){t[e]&&(t[e].removeEmpty=!0)})),as(cs("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){t[e].paddEmpty=!0})),as(cs("span"),(function(e){t[e].removeEmptyAttrs=!0}))),S(e.custom_elements),k(e.valid_children),_(e.extended_valid_elements),k("+ol[ul|ol],+ul[ul|ol]"),as({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,n){t[n]&&(t[n].parentsRequired=cs(e))})),e.invalid_elements&&as(ls(e.invalid_elements),(function(e){t[e]&&delete t[e]})),O("span")||_("span[!data-mce-type|*]");var T=function(){return l},M=function(){return u},D=function(){return c},I=function(){return h},E=function(){return b},A=function(){return y},L=function(){return x},j=function(){return p},N=function(){return f},P=function(){return g},R=function(){return v},B=function(){return d},F=function(){return i},z=function(e,t){var r=n[e.toLowerCase()];return!(!r||!r[t.toLowerCase()])},V=function(e,t){var n,r,o=O(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns,n){r=n.length;while(r--)if(n[r].pattern.test(e))return!0}}return!1},H=function(){return o};return{children:n,elements:t,getValidStyles:T,getValidClasses:D,getBlockElements:E,getInvalidStyles:M,getShortEndedElements:j,getTextBlockElements:A,getTextInlineElements:L,getBoolAttrs:I,getElementRule:O,getSelfClosingElements:N,getNonEmptyElements:P,getMoveCaretBeforeOnEnterElements:R,getWhiteSpaceElements:B,getSpecialElements:F,isValidChild:z,isValid:V,getCustomElements:H,addValidElements:_,setValidElements:C,addCustomElements:S,addValidChildren:k}}var hs,ms,gs,vs,ys,bs,xs,ws,_s,Cs,Ss,ks,Os,Ts,Ms,Ds,Is,Es,As=function(e,t,n,r){var o=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)},Ls=function(e,t){var n,r,o,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,u={},c=Pi;e=e||{},t&&(r=t.getValidStyles(),o=t.getInvalidStyles());var d=("\\\" \\' \\; \\: ; : "+c).split(" ");for(n=0;n<d.length;n++)u[d[n]]=c+n,u[c+n]=d[n];return{toHex:function(e){return e.replace(i,As)},parse:function(t){var r,o,d,f,p={},h=e.url_converter,m=e.url_converter_scope||this,g=function(e,t,r){var o=p[e+"-top"+t];if(o){var i=p[e+"-right"+t];if(i){var a=p[e+"-bottom"+t];if(a){var s=p[e+"-left"+t];if(s){var l=[o,i,a,s];n=l.length-1;while(n--)if(l[n]!==l[n+1])break;n>-1&&r||(p[e+t]=-1===n?l[0]:l.join(" "),delete p[e+"-top"+t],delete p[e+"-right"+t],delete p[e+"-bottom"+t],delete p[e+"-left"+t])}}}}},v=function(e){var t,n=p[e];if(n){n=n.split(" "),t=n.length;while(t--)if(n[t]!==n[0])return!1;return p[e]=n[0],!0}},y=function(e,t,n,r){v(t)&&v(n)&&v(r)&&(p[e]=p[t]+" "+p[n]+" "+p[r],delete p[t],delete p[n],delete p[r])},b=function(e){return f=!0,u[e]},x=function(e,t){return f&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return u[e]}))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},w=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},_=function(e){return e.replace(/\\[0-9a-f]+/gi,w)},C=function(t,n,r,o,i,a){if(i=i||a,i)return i=x(i),"'"+i.replace(/\'/g,"\\'")+"'";if(n=x(n||r||o),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return h&&(n=h.call(m,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,b).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,b)}));while(r=s.exec(t))if(s.lastIndex=r.index+r[0].length,o=r[1].replace(l,"").toLowerCase(),d=r[2].replace(l,""),o&&d){if(o=_(o),d=_(d),-1!==o.indexOf(c)||-1!==o.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(d)))continue;"font-weight"===o&&"700"===d?d="bold":"color"!==o&&"background-color"!==o||(d=d.toLowerCase()),d=d.replace(i,As),d=d.replace(a,C),p[o]=f?x(d,!0):d}g("border","",!0),g("border","-width"),g("border","-color"),g("border","-style"),g("padding",""),g("margin",""),y("border","border-width","border-style","border-color"),"medium none"===p.border&&delete p.border,"none"===p["border-image"]&&delete p["border-image"]}return p},serialize:function(e,t){var n="",i=function(t){var o,i=r[t];if(i)for(var a=0,s=i.length;a<s;a++)t=i[a],o=e[t],o&&(n+=(n.length>0?" ":"")+t+": "+o+";")},a=function(e,t){var n=o["*"];return(!n||!n[e])&&(n=o[t],!(n&&n[e]))};return t&&r?(i("*"),i(t)):we(e,(function(e,r){!e||o&&!a(r,t)||(n+=(n.length>0?" ":"")+r+": "+e+";")})),n}}},js="mce-data-",Ns=/^(?:mouse|contextmenu)|click/,Ps={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Rs=function(e){return e.isDefaultPrevented===Fs||e.isDefaultPrevented===Bs},Bs=function(){return!1},Fs=function(){return!0},zs=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Vs=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Hs=function(e){return Ns.test(e.type)},Us=function(e,t){var n,r=t||{};for(n in e)Ps[n]||(r[n]=e[n]);if(r.target||(r.target=r.srcElement||document),r.composedPath&&(r.composedPath=function(){return e.composedPath()}),e&&Hs(e)&&void 0===e.pageX&&void 0!==e.clientX){var o=r.target.ownerDocument||document,i=o.documentElement,a=o.body;r.pageX=e.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),r.pageY=e.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)}return r.preventDefault=function(){r.isDefaultPrevented=Fs,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},r.stopPropagation=function(){r.isPropagationStopped=Fs,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=Fs,r.stopPropagation()},!1===Rs(r)&&(r.isDefaultPrevented=Bs,r.isPropagationStopped=Bs,r.isImmediatePropagationStopped=Bs),"undefined"===typeof r.metaKey&&(r.metaKey=!1),r},$s=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)t(o);else{var i=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},a=function(){Vs(e,"DOMContentLoaded",a),Vs(e,"load",a),n.domLoaded||(n.domLoaded=!0,t(o)),e=null};i()?a():zs(e,"DOMContentLoaded",a),n.domLoaded||zs(e,"load",a)}},qs=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=js+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(e,t,n,r){var o,i,a,s,l,u,c,d=this,f=window,p=function(e){d.executeHandlers(Us(e||f.event),o)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[d.expando]?o=e[d.expando]:(o=d.count++,e[d.expando]=o,d.events[o]={}),r=r||e;var h=t.split(" ");a=h.length;while(a--)s=h[a],u=p,l=c=!1,"DOMContentLoaded"===s&&(s="ready"),d.domLoaded&&"ready"===s&&"complete"===e.readyState?n.call(r,Us({type:s})):(d.hasMouseEnterLeave||(l=d.mouseEnterLeave[s],l&&(u=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else while(n&&n!==t)n=n.parentNode;n||(e=Us(e||f.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,d.executeHandlers(e,o))})),d.hasFocusIn||"focusin"!==s&&"focusout"!==s||(c=!0,l="focusin"===s?"focus":"blur",u=function(e){e=Us(e||f.event),e.type="focus"===e.type?"focusin":"focusout",d.executeHandlers(e,o)}),i=d.events[o][s],i?"ready"===s&&d.domLoaded?n(Us({type:s})):i.push({func:n,scope:r}):(d.events[o][s]=i=[{func:n,scope:r}],i.fakeName=l,i.capture=c,i.nativeHandler=u,"ready"===s?$s(e,u,d):zs(e,l||s,u,c)));return e=i=null,n}},e.prototype.unbind=function(e,t,n){var r,o,i,a,s;if(!e||3===e.nodeType||8===e.nodeType)return this;var l=e[this.expando];if(l){if(s=this.events[l],t){var u=t.split(" ");o=u.length;while(o--)if(a=u[o],r=s[a],r){if(n){i=r.length;while(i--)if(r[i].func===n){var c=r.nativeHandler,d=r.fakeName,f=r.capture;r=r.slice(0,i).concat(r.slice(i+1)),r.nativeHandler=c,r.fakeName=d,r.capture=f,s[a]=r}}n&&0!==r.length||(delete s[a],Vs(e,r.fakeName||a,r.nativeHandler,r.capture))}}else we(s,(function(t,n){Vs(e,t.fakeName||n,t.nativeHandler,t.capture)})),s={};for(a in s)if(Ee(s,a))return this;delete this.events[l];try{delete e[this.expando]}catch(p){e[this.expando]=null}}return this},e.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;var o=Us(null,n);o.type=t,o.target=e;do{r=e[this.expando],r&&this.executeHandlers(o,r),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this},e.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e),n=e.getElementsByTagName("*"),t=n.length;while(t--)e=n[t],e[this.expando]&&this.unbind(e)}return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(e,t){var n=this.events[t],r=n&&n[e.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},e.Event=new e,e}(),Ws="sizzle"+-new Date,Gs=window.document,Ys=0,Ks=0,Xs=Il(),Js=Il(),Zs=Il(),Qs=function(e,t){return e===t&&(Cs=!0),0},el="undefined",tl=1<<31,nl={}.hasOwnProperty,rl=[],ol=rl.pop,il=rl.push,al=rl.push,sl=rl.slice,ll=rl.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ul="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",cl="[\\x20\\t\\r\\n\\f]",dl="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fl="\\["+cl+"*("+dl+")(?:"+cl+"*([*^$|!~]?=)"+cl+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+dl+"))|)"+cl+"*\\]",pl=":("+dl+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fl+")*)|.*)\\)|)",hl=new RegExp("^"+cl+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cl+"+$","g"),ml=new RegExp("^"+cl+"*,"+cl+"*"),gl=new RegExp("^"+cl+"*([>+~]|"+cl+")"+cl+"*"),vl=new RegExp("="+cl+"*([^\\]'\"]*?)"+cl+"*\\]","g"),yl=new RegExp(pl),bl=new RegExp("^"+dl+"$"),xl={ID:new RegExp("^#("+dl+")"),CLASS:new RegExp("^\\.("+dl+")"),TAG:new RegExp("^("+dl+"|[*])"),ATTR:new RegExp("^"+fl),PSEUDO:new RegExp("^"+pl),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cl+"*(even|odd|(([+-]|)(\\d*)n|)"+cl+"*(?:([+-]|)"+cl+"*(\\d+)|))"+cl+"*\\)|)","i"),bool:new RegExp("^(?:"+ul+")$","i"),needsContext:new RegExp("^"+cl+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cl+"*((?:-\\d)?\\d*)"+cl+"*\\)|)(?=[^-]|$)","i")},wl=/^(?:input|select|textarea|button)$/i,_l=/^h\d$/i,Cl=/^[^{]+\{\s*\[native \w/,Sl=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,kl=/[+~]/,Ol=/'|\\/g,Tl=new RegExp("\\\\([\\da-f]{1,6}"+cl+"?|("+cl+")|.)","ig"),Ml=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{al.apply(rl=sl.call(Gs.childNodes),Gs.childNodes),rl[Gs.childNodes.length].nodeType}catch(vz){al={apply:rl.length?function(e,t){il.apply(e,sl.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}var Dl=function(e,t,n,r){var o,i,a,s,l,u,c,d,f,p;if((t?t.ownerDocument||t:Gs)!==ks&&Ss(t),t=t||ks,n=n||[],!e||"string"!==typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(Ts&&!r){if(o=Sl.exec(e))if(a=o[1]){if(9===s){if(i=t.getElementById(a),!i||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&Es(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return al.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&hs.getElementsByClassName)return al.apply(n,t.getElementsByClassName(a)),n}if(hs.qsa&&(!Ms||!Ms.test(e))){if(d=c=Ws,f=t,p=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){u=ys(e),(c=t.getAttribute("id"))?d=c.replace(Ol,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;while(l--)u[l]=d+Bl(u[l]);f=kl.test(e)&&Pl(t.parentNode)||t,p=u.join(",")}if(p)try{return al.apply(n,f.querySelectorAll(p)),n}catch(h){}finally{c||t.removeAttribute("id")}}}return xs(e.replace(hl,"$1"),t,n,r)};function Il(){var e=[];function t(n,r){return e.push(n+" ")>ms.cacheLength&&delete t[e.shift()],t[n+" "]=r}return t}function El(e){return e[Ws]=!0,e}function Al(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||tl)-(~e.sourceIndex||tl);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function Ll(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function jl(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function Nl(e){return El((function(t){return t=+t,El((function(n,r){var o,i=e([],n.length,t),a=i.length;while(a--)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function Pl(e){return e&&typeof e.getElementsByTagName!==el&&e}function Rl(){}function Bl(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function Fl(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=Ks++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,l,u=[Ys,i];if(a){while(t=t[r])if((1===t.nodeType||o)&&e(t,n,a))return!0}else while(t=t[r])if(1===t.nodeType||o){if(l=t[Ws]||(t[Ws]={}),(s=l[r])&&s[0]===Ys&&s[1]===i)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function zl(e){return e.length>1?function(t,n,r){var o=e.length;while(o--)if(!e[o](t,n,r))return!1;return!0}:e[0]}function Vl(e,t,n){for(var r=0,o=t.length;r<o;r++)Dl(e,t[r],n);return n}function Hl(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),u&&t.push(s)));return a}function Ul(e,t,n,r,o,i){return r&&!r[Ws]&&(r=Ul(r)),o&&!o[Ws]&&(o=Ul(o,i)),El((function(i,a,s,l){var u,c,d,f=[],p=[],h=a.length,m=i||Vl(t||"*",s.nodeType?[s]:s,[]),g=!e||!i&&t?m:Hl(m,f,e,s,l),v=n?o||(i?e:h||r)?[]:a:g;if(n&&n(g,v,s,l),r){u=Hl(v,p),r(u,[],s,l),c=u.length;while(c--)(d=u[c])&&(v[p[c]]=!(g[p[c]]=d))}if(i){if(o||e){if(o){u=[],c=v.length;while(c--)(d=v[c])&&u.push(g[c]=d);o(null,v=[],u,l)}c=v.length;while(c--)(d=v[c])&&(u=o?ll.call(i,d):f[c])>-1&&(i[u]=!(a[u]=d))}}else v=Hl(v===a?v.splice(h,v.length):v),o?o(null,a,v,l):al.apply(a,v)}))}function $l(e){for(var t,n,r,o=e.length,i=ms.relative[e[0].type],a=i||ms.relative[" "],s=i?1:0,l=Fl((function(e){return e===t}),a,!0),u=Fl((function(e){return ll.call(t,e)>-1}),a,!0),c=[function(e,n,r){return!i&&(r||n!==ws)||((t=n).nodeType?l(e,n,r):u(e,n,r))}];s<o;s++)if(n=ms.relative[e[s].type])c=[Fl(zl(c),n)];else{if(n=ms.filter[e[s].type].apply(null,e[s].matches),n[Ws]){for(r=++s;r<o;r++)if(ms.relative[e[r].type])break;return Ul(s>1&&zl(c),s>1&&Bl(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(hl,"$1"),n,s<r&&$l(e.slice(s,r)),r<o&&$l(e=e.slice(r)),r<o&&Bl(e))}c.push(n)}return zl(c)}function ql(e,t){var n=t.length>0,r=e.length>0,o=function(o,i,a,s,l){var u,c,d,f=0,p="0",h=o&&[],m=[],g=ws,v=o||r&&ms.find.TAG("*",l),y=Ys+=null==g?1:Math.random()||.1,b=v.length;for(l&&(ws=i!==ks&&i);p!==b&&null!=(u=v[p]);p++){if(r&&u){c=0;while(d=e[c++])if(d(u,i,a)){s.push(u);break}l&&(Ys=y)}n&&((u=!d&&u)&&f--,o&&h.push(u))}if(f+=p,n&&p!==f){c=0;while(d=t[c++])d(h,m,i,a);if(o){if(f>0)while(p--)h[p]||m[p]||(m[p]=ol.call(s));m=Hl(m)}al.apply(s,m),l&&!o&&m.length>0&&f+t.length>1&&Dl.uniqueSort(s)}return l&&(Ys=y,ws=g),h};return n?El(o):o}hs=Dl.support={},vs=Dl.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},Ss=Dl.setDocument=function(e){var t,n=e?e.ownerDocument||e:Gs,r=n.defaultView;function o(e){try{return e.top}catch(t){}return null}return n!==ks&&9===n.nodeType&&n.documentElement?(ks=n,Os=n.documentElement,Ts=!vs(n),r&&r!==o(r)&&(r.addEventListener?r.addEventListener("unload",(function(){Ss()}),!1):r.attachEvent&&r.attachEvent("onunload",(function(){Ss()}))),hs.attributes=!0,hs.getElementsByTagName=!0,hs.getElementsByClassName=Cl.test(n.getElementsByClassName),hs.getById=!0,ms.find.ID=function(e,t){if(typeof t.getElementById!==el&&Ts){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},ms.filter.ID=function(e){var t=e.replace(Tl,Ml);return function(e){return e.getAttribute("id")===t}},ms.find.TAG=hs.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==el)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){while(n=i[o++])1===n.nodeType&&r.push(n);return r}return i},ms.find.CLASS=hs.getElementsByClassName&&function(e,t){if(Ts)return t.getElementsByClassName(e)},Ds=[],Ms=[],hs.disconnectedMatch=!0,Ms=Ms.length&&new RegExp(Ms.join("|")),Ds=Ds.length&&new RegExp(Ds.join("|")),t=Cl.test(Os.compareDocumentPosition),Es=t||Cl.test(Os.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},Qs=t?function(e,t){if(e===t)return Cs=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!hs.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===Gs&&Es(Gs,e)?-1:t===n||t.ownerDocument===Gs&&Es(Gs,t)?1:_s?ll.call(_s,e)-ll.call(_s,t):0:4&r?-1:1)}:function(e,t){if(e===t)return Cs=!0,0;var r,o=0,i=e.parentNode,a=t.parentNode,s=[e],l=[t];if(!i||!a)return e===n?-1:t===n?1:i?-1:a?1:_s?ll.call(_s,e)-ll.call(_s,t):0;if(i===a)return Al(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[o]===l[o])o++;return o?Al(s[o],l[o]):s[o]===Gs?-1:l[o]===Gs?1:0},n):ks},Dl.matches=function(e,t){return Dl(e,null,null,t)},Dl.matchesSelector=function(e,t){if((e.ownerDocument||e)!==ks&&Ss(e),t=t.replace(vl,"='$1']"),hs.matchesSelector&&Ts&&(!Ds||!Ds.test(t))&&(!Ms||!Ms.test(t)))try{var n=Is.call(e,t);if(n||hs.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(vz){}return Dl(t,ks,null,[e]).length>0},Dl.contains=function(e,t){return(e.ownerDocument||e)!==ks&&Ss(e),Es(e,t)},Dl.attr=function(e,t){(e.ownerDocument||e)!==ks&&Ss(e);var n=ms.attrHandle[t.toLowerCase()],r=n&&nl.call(ms.attrHandle,t.toLowerCase())?n(e,t,!Ts):void 0;return void 0!==r?r:hs.attributes||!Ts?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},Dl.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Dl.uniqueSort=function(e){var t,n=[],r=0,o=0;if(Cs=!hs.detectDuplicates,_s=!hs.sortStable&&e.slice(0),e.sort(Qs),Cs){while(t=e[o++])t===e[o]&&(r=n.push(o));while(r--)e.splice(n[r],1)}return _s=null,e},gs=Dl.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=gs(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=gs(t);return n},ms=Dl.selectors={cacheLength:50,createPseudo:El,match:xl,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Tl,Ml),e[3]=(e[3]||e[4]||e[5]||"").replace(Tl,Ml),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Dl.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Dl.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return xl.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&yl.test(n)&&(t=ys(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Tl,Ml).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Xs[e+" "];return t||(t=new RegExp("(^|"+cl+")"+e+"("+cl+"|$)"))&&Xs(e,(function(e){return t.test("string"===typeof e.className&&e.className||typeof e.getAttribute!==el&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=Dl.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,p,h,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(i){while(m){d=t;while(d=d[m])if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){c=g[Ws]||(g[Ws]={}),u=c[e]||[],p=u[0]===Ys&&u[1],f=u[0]===Ys&&u[2],d=p&&g.childNodes[p];while(d=++p&&d&&d[m]||(f=p=0)||h.pop())if(1===d.nodeType&&++f&&d===t){c[e]=[Ys,p,f];break}}else if(y&&(u=(t[Ws]||(t[Ws]={}))[e])&&u[0]===Ys)f=u[1];else while(d=++p&&d&&d[m]||(f=p=0)||h.pop())if((s?d.nodeName.toLowerCase()===v:1===d.nodeType)&&++f&&(y&&((d[Ws]||(d[Ws]={}))[e]=[Ys,f]),d===t))break;return f-=o,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,t){var n,r=ms.pseudos[e]||ms.setFilters[e.toLowerCase()]||Dl.error("unsupported pseudo: "+e);return r[Ws]?r(t):r.length>1?(n=[e,e,"",t],ms.setFilters.hasOwnProperty(e.toLowerCase())?El((function(e,n){var o,i=r(e,t),a=i.length;while(a--)o=ll.call(e,i[a]),e[o]=!(n[o]=i[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:El((function(e){var t=[],n=[],r=bs(e.replace(hl,"$1"));return r[Ws]?El((function(e,t,n,o){var i,a=r(e,null,o,[]),s=e.length;while(s--)(i=a[s])&&(e[s]=!(t[s]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),!n.pop()}})),has:El((function(e){return function(t){return Dl(e,t).length>0}})),contains:El((function(e){return e=e.replace(Tl,Ml),function(t){return(t.textContent||t.innerText||gs(t)).indexOf(e)>-1}})),lang:El((function(e){return bl.test(e||"")||Dl.error("unsupported lang: "+e),e=e.replace(Tl,Ml).toLowerCase(),function(t){var n;do{if(n=Ts?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===Os},focus:function(e){return e===ks.activeElement&&(!ks.hasFocus||ks.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!ms.pseudos.empty(e)},header:function(e){return _l.test(e.nodeName)},input:function(e){return wl.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:Nl((function(){return[0]})),last:Nl((function(e,t){return[t-1]})),eq:Nl((function(e,t,n){return[n<0?n+t:n]})),even:Nl((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:Nl((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:Nl((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:Nl((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},ms.pseudos.nth=ms.pseudos.eq,Z(["radio","checkbox","file","password","image"],(function(e){ms.pseudos[e]=Ll(e)})),Z(["submit","reset"],(function(e){ms.pseudos[e]=jl(e)})),Rl.prototype=ms.filters=ms.pseudos,ms.setFilters=new Rl,ys=Dl.tokenize=function(e,t){var n,r,o,i,a,s,l,u=Js[e+" "];if(u)return t?0:u.slice(0);a=e,s=[],l=ms.preFilter;while(a){for(i in n&&!(r=ml.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),n=!1,(r=gl.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(hl," ")}),a=a.slice(n.length)),ms.filter)ms.filter.hasOwnProperty(i)&&(!(r=xl[i].exec(a))||l[i]&&!(r=l[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?Dl.error(e):Js(e,s).slice(0)},bs=Dl.compile=function(e,t){var n,r=[],o=[],i=Zs[e+" "];if(!i){t||(t=ys(e)),n=t.length;while(n--)i=$l(t[n]),i[Ws]?r.push(i):o.push(i);i=Zs(e,ql(o,r)),i.selector=e}return i},xs=Dl.select=function(e,t,n,r){var o,i,a,s,l,u="function"===typeof e&&e,c=!r&&ys(e=u.selector||e);if(n=n||[],1===c.length){if(i=c[0]=c[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&hs.getById&&9===t.nodeType&&Ts&&ms.relative[i[1].type]){if(t=(ms.find.ID(a.matches[0].replace(Tl,Ml),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(i.shift().value.length)}o=xl.needsContext.test(e)?0:i.length;while(o--){if(a=i[o],ms.relative[s=a.type])break;if((l=ms.find[s])&&(r=l(a.matches[0].replace(Tl,Ml),kl.test(i[0].type)&&Pl(t.parentNode)||t))){if(i.splice(o,1),e=r.length&&Bl(i),!e)return al.apply(n,r),n;break}}}return(u||bs(e,c))(r,t,!Ts,n,kl.test(e)&&Pl(t.parentNode)||t),n},hs.sortStable=Ws.split("").sort(Qs).join("")===Ws,hs.detectDuplicates=!!Cs,Ss(),hs.sortDetached=!0;var Wl=document,Gl=Array.prototype.push,Yl=Array.prototype.slice,Kl=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Xl=qs.Event,Jl=dn.makeMap("children,contents,next,prev"),Zl=function(e){return"undefined"!==typeof e},Ql=function(e){return"string"===typeof e},eu=function(e){return e&&e===e.window},tu=function(e,t){t=t||Wl;var n,r=t.createElement("div"),o=t.createDocumentFragment();r.innerHTML=e;while(n=r.firstChild)o.appendChild(n);return o},nu=function(e,t,n,r){var o;if(Ql(t))t=tu(t,vu(e[0]));else if(t.length&&!t.nodeType){if(t=wu.makeArray(t),r)for(o=t.length-1;o>=0;o--)nu(e,t[o],n,r);else for(o=0;o<t.length;o++)nu(e,t[o],n,r);return e}if(t.nodeType){o=e.length;while(o--)n.call(e[o],t)}return e},ru=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},ou=function(e,t,n){var r,o;return t=wu(t)[0],e.each((function(){var e=this;n&&r===e.parentNode||(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e)),o.appendChild(e)})),e},iu=dn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),au=dn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),su={for:"htmlFor",class:"className",readonly:"readOnly"},lu={float:"cssFloat"},uu={},cu={},du=function(e,t){return new wu.fn.init(e,t)},fu=function(e,t){var n;if(t.indexOf)return t.indexOf(e);n=t.length;while(n--)if(t[n]===e)return n;return-1},pu=/^\s*|\s*$/g,hu=function(e){return null===e||void 0===e?"":(""+e).replace(pu,"")},mu=function(e,t){var n,r,o,i;if(e)if(n=e.length,void 0===n){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n;o++)if(i=e[o],!1===t.call(i,o,i))break;return e},gu=function(e,t){var n=[];return mu(e,(function(e,r){t(r,e)&&n.push(r)})),n},vu=function(e){return e?9===e.nodeType?e:e.ownerDocument:Wl};du.fn=du.prototype={constructor:du,selector:"",context:null,length:0,init:function(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return wu(e).attr(t);o.context=t=document}if(Ql(e)){if(o.selector=e,n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Kl.exec(e),!n)return wu(t).find(e);if(n[1]){r=tu(e,vu(t)).firstChild;while(r)Gl.call(o,r),r=r.nextSibling}else{if(r=vu(t).getElementById(n[2]),!r)return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return dn.toArray(this)},add:function(e,t){var n,r,o=this;if(Ql(e))return o.add(wu(e));if(!1!==t)for(n=wu.unique(o.toArray().concat(wu.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else Gl.apply(o,wu.makeArray(e));return o},attr:function(e,t){var n,r=this;if("object"===typeof e)mu(e,(function(e,t){r.attr(e,t)}));else{if(!Zl(t)){if(r[0]&&1===r[0].nodeType){if(n=uu[e],n&&n.get)return n.get(r[0],e);if(au[e])return r.prop(e)?e:void 0;t=r[0].getAttribute(e,2),null===t&&(t=void 0)}return t}this.each((function(){var n;if(1===this.nodeType){if(n=uu[e],n&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}}))}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=su[e]||e,"object"===typeof e)mu(e,(function(e,t){n.prop(e,t)}));else{if(!Zl(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each((function(){1===this.nodeType&&(this[e]=t)}))}return n},css:function(e,t){var n,r,o=this,i=function(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))},a=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))};if("object"===typeof e)mu(e,(function(e,t){o.css(e,t)}));else if(Zl(t))e=i(e),"number"!==typeof t||iu[e]||(t=t.toString()+"px"),o.each((function(){var n=this.style;if(r=cu[e],r&&r.set)r.set(this,t);else{try{this.style[lu[e]||e]=t}catch(o){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))}}));else{if(n=o[0],r=cu[e],r&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(s){return}}return o},remove:function(){var e,t=this,n=this.length;while(n--)e=t[n],Xl.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){var e,t=this,n=this.length;while(n--){e=t[n];while(e.firstChild)e.removeChild(e.firstChild)}return this},html:function(e){var t,n=this;if(Zl(e)){t=n.length;try{while(t--)n[t].innerHTML=e}catch(r){wu(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(Zl(e)){t=n.length;while(t--)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return nu(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return nu(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?nu(e,arguments,(function(e){this.parentNode.insertBefore(e,this)})):e},after:function(){var e=this;return e[0]&&e[0].parentNode?nu(e,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),!0):e},appendTo:function(e){return wu(e).append(this),this},prependTo:function(e){return wu(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return ou(this,e)},wrapAll:function(e){return ou(this,e,!0)},wrapInner:function(e){return this.each((function(){wu(this).contents().wrapAll(e)})),this},unwrap:function(){return this.parent().each((function(){wu(this).replaceWith(this.childNodes)}))},clone:function(){var e=[];return this.each((function(){e.push(this.cloneNode(!0))})),wu(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!==typeof e||(-1!==e.indexOf(" ")?mu(e.split(" "),(function(){n.toggleClass(this,t)})):n.each((function(n,r){var o=ru(r,e);if(o!==t){var i=r.className;o?r.className=hu((" "+i+" ").replace(" "+e+" "," ")):r.className+=i?" "+e:e}}))),n},hasClass:function(e){return ru(this[0],e)},each:function(e){return mu(this,e)},on:function(e,t){return this.each((function(){Xl.bind(this,e,t)}))},off:function(e,t){return this.each((function(){Xl.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"===typeof e?Xl.fire(this,e.type,e):Xl.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new wu(Yl.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)wu.find(e,this[t],r);return wu(r)},filter:function(e){return wu("function"===typeof e?gu(this.toArray(),(function(t,n){return e(n,t)})):wu.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof wu&&(e=e[0]),this.each((function(n,r){while(r){if("string"===typeof e&&wu(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}})),wu(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(o=t.getBoundingClientRect(),i=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Gl,sort:Array.prototype.sort,splice:Array.prototype.splice},dn.extend(du,{extend:dn.extend,makeArray:function(e){return eu(e)||e.nodeType?[e]:dn.toArray(e)},inArray:fu,isArray:dn.isArray,each:mu,trim:hu,grep:gu,find:Dl,expr:Dl.selectors,unique:Dl.uniqueSort,text:Dl.getText,contains:Dl.contains,filter:function(e,t,n){var r=t.length;n&&(e=":not("+e+")");while(r--)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?wu.find.matchesSelector(t[0],e)?[t[0]]:[]:wu.find.matches(e,t),t}});var yu=function(e,t,n){var r=[],o=e[t];"string"!==typeof n&&n instanceof wu&&(n=n[0]);while(o&&9!==o.nodeType){if(void 0!==n){if(o===n)break;if("string"===typeof n&&wu(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},bu=function(e,t,n,r){var o=[];for(r instanceof wu&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"===typeof r&&wu(e).is(r))break}o.push(e)}return o},xu=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};mu({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return yu(e,"parentNode")},next:function(e){return xu(e,"nextSibling",1)},prev:function(e){return xu(e,"previousSibling",1)},children:function(e){return bu(e.firstChild,"nextSibling",1)},contents:function(e){return dn.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){du.fn[e]=function(n){var r=this,o=[];r.each((function(){var e=t.call(o,this,n,o);e&&(wu.isArray(e)?o.push.apply(o,e):o.push(e))})),this.length>1&&(Jl[e]||(o=wu.unique(o)),0===e.indexOf("parents")&&(o=o.reverse()));var i=wu(o);return n?i.filter(n):i}})),mu({parentsUntil:function(e,t){return yu(e,"parentNode",t)},nextUntil:function(e,t){return bu(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return bu(e,"previousSibling",1,t).slice(1)}},(function(e,t){du.fn[e]=function(n,r){var o=this,i=[];o.each((function(){var e=t.call(i,this,n,i);e&&(wu.isArray(e)?i.push.apply(i,e):i.push(e))})),this.length>1&&(i=wu.unique(i),0!==e.indexOf("parents")&&"prevUntil"!==e||(i=i.reverse()));var a=wu(i);return r?a.filter(r):a}})),du.fn.is=function(e){return!!e&&this.filter(e).length>0},du.fn.init.prototype=du.fn,du.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return wu.extend(n,this),n},du.attrHooks=uu,du.cssHooks=cu;var wu=du,_u=dn.each,Cu=dn.grep,Su=Jt.ie,ku=/^([a-z0-9],?)+$/i,Ou=function(e,t,n){var r=t.keep_values,o={set:function(e,r,o){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,o,e[0])),e.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},i={style:{set:function(t,n){null===n||"object"!==typeof n?(r&&t.attr("data-mce-style",n),null!==n&&"string"===typeof n?(t.removeAttr("style"),t.css(e.parse(n))):t.attr("style",n)):t.css(n)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName),n}}};return r&&(i.href=i.src=o),i},Tu=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},Mu=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o};function Du(e,t){var n=this;void 0===t&&(t={});var r={},o=window,i={},a=0,s=!0,l=!0,u=pi.forElement(vn.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),c=[],d=t.schema?t.schema:ps({}),f=Ls({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),h=t.ownEvents?new qs:qs.Event,m=d.getBlockElements(),g=wu.overrideDefaults((function(){return{context:e,element:Ee.getRoot()}})),v=function(e){if("string"===typeof e)return!!m[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!m[e.nodeName])}return!1},y=function(t){return t&&e&&j(t)?e.getElementById(t):t},b=function(e){return g("string"===typeof e?y(e):e)},x=function(e,t,n){var r,o,i=b(e);return i.length&&(r=Ae[t],o=r&&r.get?r.get(i,t):i.attr(t)),"undefined"===typeof o&&(o=n||""),o},w=function(e){var t=y(e);return t?t.attributes:[]},_=function(e,n,r){""===r&&(r=null);var o=b(e),i=o.attr(n);if(o.length){var a=Ae[n];a&&a.set?a.set(o,r,n):o.attr(n,r),i!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:o,attrName:n,attrValue:r})}},C=function(t,n){if(!Su||1!==t.nodeType||n)return t.cloneNode(n);var r=e.createElement(t.nodeName);return _u(w(t),(function(e){_(r,e.nodeName,x(t,e.nodeName))})),r},S=function(){return t.root_element||e.body},k=function(e){var t=Pr(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},O=function(t,n){return Oo(e.body,y(t),n)},T=function(e,n,r){var o=j(n)?b(e).css(n,r):b(e).css(n);t.update_styles&&Tu(f,o)},M=function(e,n){var r=b(e).css(n);t.update_styles&&Tu(f,r)},D=function(e,t,n){var r=b(e);return n?r.css(t):(t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()})),"float"===t&&(t=Jt.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},I=function(e){var t,n;return e=y(e),t=D(e,"width"),n=D(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},E=function(e){e=y(e);var t=O(e),n=I(e);return{x:t.x,y:t.y,w:n.w,h:n.h}},A=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(ku.test(t)){var r=t.toLowerCase().split(/,/),o=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var i=Array.isArray(e)?e:[e];return Dl(t,i[0].ownerDocument||i[0],null,i).length>0},L=function(e,t,n,r){var o,i=[],a=y(e);r=void 0===r,n=n||("BODY"!==S().nodeName?S().parentNode:null),dn.is(t,"string")&&(o=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return A(e,o)});while(a){if(a===n||z(a.nodeType)||Jr(a)||Zr(a))break;if(!t||"function"===typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},N=function(e,t,n){var r=L(e,t,n,!1);return r&&r.length>0?r[0]:null},P=function(e,t,n){var r=t;if(e)for("string"===typeof t&&(r=function(e){return A(e,t)}),e=e[n];e;e=e[n])if("function"===typeof r&&r(e))return e;return null},R=function(e,t){return P(e,t,"nextSibling")},B=function(e,t){return P(e,t,"previousSibling")},F=function(n,r){return Dl(n,y(r)||t.root_element||e,[])},V=function(e,t,r){var o,i="string"===typeof e?y(e):e;if(!i)return!1;if(dn.isArray(i)&&(i.length||0===i.length))return o=[],_u(i,(function(e,n){e&&o.push(t.call(r,"string"===typeof e?y(e):e,n))})),o;var a=r||n;return t.call(a,i)},H=function(e,t){b(e).each((function(e,n){_u(t,(function(e,t){_(n,t,e)}))}))},U=function(e,t){var n=b(e);Su?n.each((function(e,n){if(!1!==n.canHaveHTML){while(n.firstChild)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(r){wu("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}})):n.html(t)},$=function(t,n,r,o,i){return V(t,(function(t){var a="string"===typeof n?e.createElement(n):n;return H(a,r),o&&("string"!==typeof o&&o.nodeType?a.appendChild(o):"string"===typeof o&&U(a,o)),i?a:t.appendChild(a)}))},q=function(t,n,r){return $(e.createElement(t),t,n,r,!0)},W=ns.decode,G=ns.encodeAllRaw,Y=function(e,t,n){var r,o="";for(r in o+="<"+e,t)t.hasOwnProperty(r)&&null!==t[r]&&"undefined"!==typeof t[r]&&(o+=" "+r+'="'+G(t[r])+'"');return"undefined"!==typeof n?o+">"+n+"</"+e+">":o+" />"},K=function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();o.appendChild(r),t&&(r.innerHTML=t);while(n=r.firstChild)o.appendChild(n);return o.removeChild(r),o},X=function(e,t){var n=b(e);return t?n.each((function(){var e;while(e=this.firstChild)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})).remove():n.remove(),n.length>1?n.toArray():n[0]},J=function(e){return V(e,(function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))}))},Q=function(e){return f.parse(e)},ee=function(e,t){return f.serialize(e,t)},te=function(t){var n,o;if(Ee!==Du.DOM&&e===document){if(r[t])return;r[t]=!0}o=e.getElementById("mceDefaultStyles"),o||(o=e.createElement("style"),o.id="mceDefaultStyles",o.type="text/css",n=e.getElementsByTagName("head")[0],n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},ne=function(e){e||(e=""),Z(e.split(","),(function(e){i[e]=!0,u.load(e,p)}))},re=function(e,t,n){b(e).toggleClass(t,n).each((function(){""===this.className&&wu(this).attr("class",null)}))},oe=function(e,t){b(e).addClass(t)},ie=function(e,t){re(e,t,!1)},ae=function(e,t){return b(e).hasClass(t)},se=function(e){b(e).show()},le=function(e){b(e).hide()},ue=function(e){return"none"===b(e).css("display")},ce=function(e){return(e||"mce_")+a++},de=function(e){var t="string"===typeof e?y(e):e;return Fr(t)?t.outerHTML:wu("<div></div>").append(wu(t).clone()).html()},fe=function(e,t){b(e).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}X(wu(this).html(t),!0)}))},pe=function(e,t){var n=y(t);return V(e,(function(e){var t=n.parentNode,r=n.nextSibling;return r?t.insertBefore(e,r):t.appendChild(e),e}))},he=function(e,t,n){return V(t,(function(t){return dn.is(t,"array")&&(e=e.cloneNode(!0)),n&&_u(Cu(t.childNodes),(function(t){e.appendChild(t)})),t.parentNode.replaceChild(e,t)}))},me=function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=q(t),_u(w(e),(function(t){_(n,t.nodeName,x(e,t.nodeName))})),he(n,e,!0)),n||e},ge=function(e,t){var n,r=e;while(r){n=t;while(n&&r!==n)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},ve=function(e){return f.toHex(dn.trim(e))},ye=function(e){if(Fr(e)){var t="a"===e.nodeName.toLowerCase()&&!x(e,"href")&&x(e,"id");if(x(e,"name")||x(e,"data-mce-bookmark")||t)return!0}return!1},be=function(e,t){var n,r,o=0;if(ye(e))return!1;if(e=e.firstChild,e){var i=new hi(e,e.parentNode),a=d?d.getWhiteSpaceElements():{};t=t||(d?d.getNonEmptyElements():null);do{if(n=e.nodeType,Fr(e)){var s=e.getAttribute("data-mce-bogus");if(s){e=i.next("all"===s);continue}if(r=e.nodeName.toLowerCase(),t&&t[r]){if("br"===r){o++,e=i.next();continue}return!1}if(ye(e))return!1}if(8===n)return!1;if(3===n&&!wa(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&wa(e.nodeValue))return!1;e=i.next()}while(e)}return o<=1},xe=function(){return e.createRange()},_e=function(e,t,n){var r,o,i,a=xe();if(e&&t)return a.setStart(e.parentNode,Mu(e)),a.setEnd(t.parentNode,Mu(t)),r=a.extractContents(),a=xe(),a.setStart(t.parentNode,Mu(t)+1),a.setEnd(e.parentNode,Mu(e)+1),o=a.extractContents(),i=e.parentNode,i.insertBefore(Ba(Ee,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(Ba(Ee,o),e),X(e),n||t},Ce=function(n,r,i,a){if(dn.isArray(n)){var s=n.length,l=[];while(s--)l[s]=Ce(n[s],r,i,a);return l}!t.collect||n!==e&&n!==o||c.push([n,r,i,a]);var u=h.bind(n,r,i,a||Ee);return u},Se=function(t,n,r){if(dn.isArray(t)){var i=t.length,a=[];while(i--)a[i]=Se(t[i],n,r);return a}if(c.length>0&&(t===e||t===o)){i=c.length;while(i--){var s=c[i];t!==s[0]||n&&n!==s[1]||r&&r!==s[2]||h.unbind(s[0],s[1],s[2])}}return h.unbind(t,n,r)},ke=function(e,t,n){return h.fire(e,t,n)},Oe=function(e){if(e&&Fr(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},Te=function(e){for(var t=S(),n=null;e&&e!==t;e=e.parentNode)if(n=Oe(e),null!==n)break;return n},Me=function(){if(c.length>0){var e=c.length;while(e--){var t=c[e];h.unbind(t[0],t[1],t[2])}}we(i,(function(e,t){u.unload(t),delete i[t]})),Dl.setDocument&&Dl.setDocument()},De=function(e,t){while(e){if(t===e)return!0;e=e.parentNode}return!1},Ie=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},Ee={doc:e,settings:t,win:o,files:i,stdMode:s,boxModel:l,styleSheetLoader:u,boundEvents:c,styles:f,schema:d,events:h,isBlock:v,$:g,$$:b,root:null,clone:C,getRoot:S,getViewPort:k,getRect:E,getSize:I,getParent:N,getParents:L,get:y,getNext:R,getPrev:B,select:F,is:A,add:$,create:q,createHTML:Y,createFragment:K,remove:X,setStyle:T,getStyle:D,setStyles:M,removeAllAttribs:J,setAttrib:_,setAttribs:H,getAttrib:x,getPos:O,parseStyle:Q,serializeStyle:ee,addStyle:te,loadCSS:ne,addClass:oe,removeClass:ie,hasClass:ae,toggleClass:re,show:se,hide:le,isHidden:ue,uniqueId:ce,setHTML:U,getOuterHTML:de,setOuterHTML:fe,decode:W,encode:G,insertAfter:pe,replace:he,rename:me,findCommonAncestor:ge,toHex:ve,run:V,getAttribs:w,isEmpty:be,createRng:xe,nodeIndex:Mu,split:_e,bind:Ce,unbind:Se,fire:ke,getContentEditable:Oe,getContentEditableParent:Te,destroy:Me,isChildOf:De,dumpRng:Ie},Ae=Ou(f,t,(function(){return Ee}));return Ee}(function(e){e.DOM=e(document),e.nodeIndex=Mu})(Du||(Du={}));var Iu=Du,Eu=Iu.DOM,Au=dn.each,Lu=dn.grep,ju=0,Nu=1,Pu=2,Ru=3,Bu=function(){function e(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}return e.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},e.prototype.loadScript=function(e,t,n){var r,o=Eu,i=function(){o.remove(l),r&&(r.onerror=r.onload=r=null)},a=function(){i(),t()},s=function(){i(),H(n)?n():"undefined"!==typeof console&&console.log},l=o.uniqueId();r=document.createElement("script"),r.id=l,r.type="text/javascript",r.src=dn._addCacheSuffix(e),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=a,r.onerror=s,(document.getElementsByTagName("head")[0]||document.body).appendChild(r)},e.prototype.isDone=function(e){return this.states[e]===Pu},e.prototype.markDone=function(e){this.states[e]=Pu},e.prototype.add=function(e,t,n,r){var o=this.states[e];this.queue.push(e),void 0===o&&(this.states[e]=ju),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},e.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},e.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},e.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},e.prototype.loadScripts=function(e,t,n,r){var o=this,i=[],a=function(e,t){Au(o.scriptLoadedCallbacks[t],(function(t){H(t[e])&&t[e].call(t.scope)})),o.scriptLoadedCallbacks[t]=void 0};o.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this});var s=function(){var t=Lu(e);if(e.length=0,Au(t,(function(e){o.states[e]!==Pu?o.states[e]!==Ru?o.states[e]!==Nu&&(o.states[e]=Nu,o.loading++,o.loadScript(e,(function(){o.states[e]=Pu,o.loading--,a("success",e),s()}),(function(){o.states[e]=Ru,o.loading--,i.push(e),a("failure",e),s()}))):a("failure",e):a("success",e)})),!o.loading){var n=o.queueLoadedCallbacks.slice(0);o.queueLoadedCallbacks.length=0,Au(n,(function(e){0===i.length?H(e.success)&&e.success.call(e.scope):H(e.failure)&&e.failure.call(e.scope,i)}))}};s()},e.ScriptLoader=new e,e}(),Fu=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},zu=function(e){return N(e)&&Ee(e,"raw")},Vu=function(e){return P(e)&&e.length>1},Hu={},Uu=Fu("en"),$u=function(){return Ie(Hu,Uu.get())},qu=function(){return _e(Hu,(function(e){return Ue({},e)}))},Wu=function(e){e&&Uu.set(e)},Gu=function(){return Uu.get()},Yu=function(e,t){var n=Hu[e];n||(Hu[e]=n={}),we(t,(function(e,t){n[t.toLowerCase()]=e}))},Ku=function(e){var t=$u().getOr({}),n=function(e){return H(e)?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||void 0===e},o=function(e){var r=n(e);return Ie(t,r.toLowerCase()).map(n).getOr(r)},i=function(e){return e.replace(/{context:\w+}$/,"")};if(r(e))return"";if(zu(e))return n(e.raw);if(Vu(e)){var a=e.slice(1),s=o(e[0]).replace(/\{([0-9]+)\}/g,(function(e,t){return Ee(a,t)?n(a[t]):e}));return i(s)}return i(o(e))},Xu=function(){return $u().bind((function(e){return Ie(e,"_dir")})).exists((function(e){return"rtl"===e}))},Ju=function(e){return Ee(Hu,e)},Zu={getData:qu,setCode:Wu,getCode:Gu,add:Yu,translate:Ku,isRtl:Xu,hasCode:Ju};function Qu(){var e=this,t=[],n={},r={},o=[],i=function(e,t){var n=te(o,(function(n){return n.name===e&&n.state===t}));Z(n,(function(e){return e.callback()}))},a=function(e){if(r[e])return r[e].instance},s=function(e){var t;return r[e]&&(t=r[e].dependencies),t||[]},l=function(e,t){!1!==Qu.languageLoad&&m(e,(function(){var r=Zu.getCode(),o=","+(t||"")+",";!r||t&&-1===o.indexOf(","+r+",")||Bu.ScriptLoader.add(n[e]+"/langs/"+r+".js")}),"loaded")},u=function(e,n,o){var a=n;return t.push(a),r[e]={instance:a,dependencies:o},i(e,"added"),a},c=function(e){delete n[e],delete r[e]},d=function(e,t){return"object"===typeof t?t:"string"===typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},f=function(t,n){var r=e.urls[t];Z(n,(function(e){Bu.ScriptLoader.add(r+"/"+e)}))},p=function(e,t,n,r){var o=s(e);Z(o,(function(e){var n=d(t,e);h(n.resource,n,void 0,void 0)})),n&&(r?n.call(r):n.call(Bu))},h=function(e,t,o,a,s){if(!n[e]){var l="string"===typeof t?t:t.prefix+t.resource+t.suffix;0!==l.indexOf("/")&&-1===l.indexOf("://")&&(l=Qu.baseURL+"/"+l),n[e]=l.substring(0,l.lastIndexOf("/"));var u=function(){i(e,"loaded"),p(e,t,o,a)};r[e]?u():Bu.ScriptLoader.add(l,u,a,s)}},m=function(e,t,i){void 0===i&&(i="added"),Ee(r,e)&&"added"===i||Ee(n,e)&&"loaded"===i?t():o.push({name:e,state:i,callback:t})};return{items:t,urls:n,lookup:r,_listeners:o,get:a,dependencies:s,requireLangPack:l,add:u,remove:c,createUrl:d,addComponents:f,load:h,waitFor:m}}(function(e){e.PluginManager=e(),e.ThemeManager=e()})(Qu||(Qu={}));var ec=Qu,tc=function(e,t){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null===n&&(n=setTimeout((function(){e.apply(null,r),n=null}),t))};return{cancel:r,throttle:o}},nc=function(e,t){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout((function(){e.apply(null,r),n=null}),t)};return{cancel:r,throttle:o}},rc=function(e,t){var n=uo(e,t);return void 0===n||""===n?[]:n.split(" ")},oc=function(e,t,n){var r=rc(e,t),o=r.concat([n]);return so(e,t,o.join(" ")),!0},ic=function(e,t,n){var r=te(rc(e,t),(function(e){return e!==n}));return r.length>0?so(e,t,r.join(" ")):po(e,t),!1},ac=function(e){return void 0!==e.dom.classList},sc=function(e){return rc(e,"class")},lc=function(e,t){return oc(e,"class",t)},uc=function(e,t){return ic(e,"class",t)},cc=function(e,t){ac(e)?e.dom.classList.add(t):lc(e,t)},dc=function(e){var t=ac(e)?e.dom.classList:sc(e);0===t.length&&po(e,"class")},fc=function(e,t){if(ac(e)){var n=e.dom.classList;n.remove(t)}else uc(e,t);dc(e)},pc=function(e,t){return ac(e)&&e.dom.classList.contains(t)},hc=function(e,t){var n=[];return Z(Qn(e),(function(e){t(e)&&(n=n.concat([e])),n=n.concat(hc(e,t))})),n},mc=function(e,t){return Mn(t,e)},gc=g("mce-annotation"),vc=g("data-mce-annotation"),yc=g("data-mce-annotation-uid"),bc=function(e,t){var n=e.selection.getRng(),r=vn.fromDom(n.startContainer),o=vn.fromDom(e.getBody()),i=t.fold((function(){return"."+gc()}),(function(e){return"["+vc()+'="'+e+'"]'})),a=er(r,n.startOffset).getOr(r),s=ti(a,i,(function(e){return In(e,o)})),l=function(e,t){return fo(e,t)?D.some(uo(e,t)):D.none()};return s.bind((function(t){return l(t,""+yc()).bind((function(n){return l(t,""+vc()).map((function(t){var r=wc(e,n);return{uid:n,name:t,elements:r}}))}))}))},xc=function(e){return Bn(e)&&pc(e,gc())},wc=function(e,t){var n=vn.fromDom(e.getBody());return mc(n,"["+yc()+'="'+t+'"]')},_c=function(e,t){var n=vn.fromDom(e.getBody()),r=mc(n,"["+vc()+'="'+t+'"]'),o={};return Z(r,(function(e){var t=uo(e,yc()),n=o.hasOwnProperty(t)?o[t]:[];o[t]=n.concat([e])})),o},Cc=function(e,t){var n=Fu({}),r=function(){return{listeners:[],previous:Fu(D.none())}},o=function(e,t){i(e,(function(e){return t(e),e}))},i=function(e,t){var o=n.get(),i=o.hasOwnProperty(e)?o[e]:r(),a=t(i);o[e]=a,n.set(o)},a=function(e,t,n){o(e,(function(r){Z(r.listeners,(function(r){return r(!0,e,{uid:t,nodes:J(n,(function(e){return e.dom}))})}))}))},s=function(e){o(e,(function(t){Z(t.listeners,(function(t){return t(!1,e)}))}))},l=nc((function(){var t=n.get(),r=pe(be(t));Z(r,(function(t){i(t,(function(n){var r=n.previous.get();return bc(e,D.some(t)).fold((function(){r.isSome()&&(s(t),n.previous.set(D.none()))}),(function(e){var t=e.uid,o=e.name,i=e.elements;r.is(t)||(a(o,t,i),n.previous.set(D.some(t)))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);e.on("remove",(function(){l.cancel()})),e.on("NodeChange",(function(){l.throttle()}));var u=function(e,t){i(e,(function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}}))};return{addListener:u}},Sc=function(e,t){var n=function(e){return D.from(e.attr(vc())).bind(t.lookup)};e.on("init",(function(){e.serializer.addNodeFilter("span",(function(e){Z(e,(function(e){n(e).each((function(t){!1===t.persistent&&e.unwrap()}))}))}))}))},kc=function(){var e={},t=function(t,n){e[t]={name:t,settings:n}},n=function(t){return e.hasOwnProperty(t)?D.from(e[t]).map((function(e){return e.settings})):D.none()};return{register:t,lookup:n}},Oc=0,Tc=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return Oc++,e+"_"+r+Oc+String(n)},Mc=function(e,t){Z(t,(function(t){cc(e,t)}))},Dc=function(e,t){var n=t||document,r=n.createElement("div");return r.innerHTML=e,Qn(vn.fromDom(r))},Ic=function(e){return e.dom.innerHTML},Ec=function(e,t){var n=Hn(e),r=n.dom,o=vn.fromDom(r.createDocumentFragment()),i=Dc(t,r);xr(o,i),wr(e),vr(e,o)},Ac=function(e,t){return vn.fromDom(e.dom.cloneNode(t))},Lc=function(e){return Ac(e,!1)},jc=function(e){return Ac(e,!0)},Nc=function(e,t,n){void 0===n&&(n=C);var r=new hi(e,t),o=function(e){var t;do{t=r[e]()}while(t&&!Kr(t)&&!n(t));return D.from(t).filter(Kr)};return{current:function(){return D.from(r.current()).filter(Kr)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},Pc=function(e,t){var n=t||function(t){return e.isBlock(t)||Qr(t)||no(t)},r=function(e,t,n,o){if(Kr(e)){var i=o(e,t,e.data);if(-1!==i)return D.some({container:e,offset:i})}return n().bind((function(e){return r(e.container,e.offset,n,o)}))},o=function(e,t,o,i){var a=Nc(e,i,n);return r(e,t,(function(){return a.prev().map((function(e){return{container:e,offset:e.length}}))}),o).getOrNull()},i=function(e,t,o,i){var a=Nc(e,i,n);return r(e,t,(function(){return a.next().map((function(e){return{container:e,offset:0}}))}),o).getOrNull()};return{backwards:o,forwards:i}},Rc=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Bc=function(e,t,n){return e.isSome()&&t.isSome()?D.some(n(e.getOrDie(),t.getOrDie())):D.none()},Fc=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?D.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):D.none()},zc=function(e,t){return e?D.some(t):D.none()},Vc=Math.round,Hc=function(e){return e?{left:Vc(e.left),top:Vc(e.top),bottom:Vc(e.bottom),right:Vc(e.right),width:Vc(e.width),height:Vc(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Uc=function(e,t){return e=Hc(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},$c=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},qc=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},Wc=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&qc(t.top-e.bottom,e,t)},Gc=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&qc(t.bottom-e.top,e,t)},Yc=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Kc=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Xc=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Jc=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Zc=function(e){return"string"===typeof e&&e.charCodeAt(0)>=768&&Jc.test(e)},Qc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}},ed=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}},td=Fr,nd=pa,rd=Vr("display","block table"),od=Vr("float","left right"),id=ed(td,nd,b(od)),ad=b(Vr("white-space","pre pre-line pre-wrap")),sd=Kr,ld=Qr,ud=Iu.nodeIndex,cd=Xc,dd=function(e){return"createRange"in e?e.createRange():Iu.DOM.createRng()},fd=function(e){return e&&/[\r\n\t ]/.test(e)},pd=function(e){return!!e.setStart&&!!e.setEnd},hd=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(fd(e.toString())&&ad(n.parentNode)&&Kr(n)&&(t=n.data,fd(t[r-1])||fd(t[r+1])))},md=function(e){var t=e.ownerDocument,n=dd(t),r=t.createTextNode(Ri),o=e.parentNode;o.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var i=Hc(n.getBoundingClientRect());return o.removeChild(r),i},gd=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&Kr(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),yd(i)}return null},vd=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},yd=function(e){var t,n=e.getClientRects();return t=n.length>0?Hc(n[0]):Hc(e.getBoundingClientRect()),!pd(e)&&ld(e)&&vd(t)?md(e):vd(t)&&pd(e)?gd(e):t},bd=function(e,t){var n=Uc(e,t);return n.width=1,n.right=n.left+1,n},xd=function(e){var t,n,r=[],o=function(e){0!==e.height&&(r.length>0&&$c(e,r[r.length-1])||r.push(e))},i=function(e,t){var n=dd(e.ownerDocument);if(t<e.data.length){if(Zc(e.data[t]))return r;if(Zc(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!hd(n)))return o(bd(yd(n),!1)),r}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),hd(n)||o(bd(yd(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),hd(n)||o(bd(yd(n),!0)))};if(sd(e.container()))return i(e.container(),e.offset()),r;if(td(e.container()))if(e.isAtEnd())n=cd(e.container(),e.offset()),sd(n)&&i(n,n.data.length),id(n)&&!ld(n)&&o(bd(yd(n),!1));else{if(n=cd(e.container(),e.offset()),sd(n)&&i(n,0),id(n)&&e.isAtEnd())return o(bd(yd(n),!1)),r;t=cd(e.container(),e.offset()-1),id(t)&&!ld(t)&&(rd(t)||rd(n)||!id(n))&&o(bd(yd(t),!1)),id(n)&&o(bd(yd(n),!0))}return r};function wd(e,t,n){var r=function(){return sd(e),0===t},o=function(){return sd(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var n=dd(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},a=function(){return n||(n=xd(wd(e,t))),n},s=function(){return a().length>0},l=function(n){return n&&e===n.container()&&t===n.offset()},u=function(n){return cd(e,n?t-1:t)};return{container:g(e),offset:g(t),toRange:i,getClientRects:a,isVisible:s,isAtStart:r,isAtEnd:o,isEqual:l,getNode:u}}(function(e){e.fromRangeStart=function(t){return e(t.startContainer,t.startOffset)},e.fromRangeEnd=function(t){return e(t.endContainer,t.endOffset)},e.after=function(t){return e(t.parentNode,ud(t)+1)},e.before=function(t){return e(t.parentNode,ud(t))},e.isAbove=function(e,t){return Bc(me(t.getClientRects()),ge(e.getClientRects()),Wc).getOr(!1)},e.isBelow=function(e,t){return Bc(ge(t.getClientRects()),me(e.getClientRects()),Gc).getOr(!1)},e.isAtStart=function(e){return!!e&&e.isAtStart()},e.isAtEnd=function(e){return!!e&&e.isAtEnd()},e.isTextPosition=function(e){return!!e&&Kr(e.container())},e.isElementPosition=function(t){return!1===e.isTextPosition(t)}})(wd||(wd={}));var _d,Cd=wd,Sd=function(e,t){Kr(t)&&0===t.data.length&&e.remove(t)},kd=function(e,t,n){t.insertNode(n),Sd(e,n.previousSibling),Sd(e,n.nextSibling)},Od=function(e,t,n){var r=D.from(n.firstChild),o=D.from(n.lastChild);t.insertNode(n),r.each((function(t){return Sd(e,t.previousSibling)})),o.each((function(t){return Sd(e,t.nextSibling)}))},Td=function(e,t,n){Zr(n)?Od(e,t,n):kd(e,t,n)},Md=Kr,Dd=$r,Id=Iu.nodeIndex,Ed=function(e){var t=e.parentNode;return Dd(t)?Ed(t):t},Ad=function(e){return e?ze(e.childNodes,(function(e,t){return Dd(t)&&"BR"!==t.nodeName?e=e.concat(Ad(t)):e.push(t),e}),[]):[]},Ld=function(e,t){while(e=e.previousSibling){if(!Md(e))break;t+=e.data.length}return t},jd=function(e){return function(t){return e===t}},Nd=function(e){var t,n;t=Ad(Ed(e)),n=Ve(t,jd(e),e),t=t.slice(0,n+1);var r=ze(t,(function(e,n,r){return Md(n)&&Md(t[r-1])&&e++,e}),0);return t=Be(t,zr([e.nodeName])),n=Ve(t,jd(e),e),n-r},Pd=function(e){var t;return t=Md(e)?"text()":e.nodeName.toLowerCase(),t+"["+Nd(e)+"]"},Rd=function(e,t,n){var r=[];for(t=t.parentNode;t!==e;t=t.parentNode){if(n&&n(t))break;r.push(t)}return r},Bd=function(e,t){var n,r,o,i,a,s=[];return n=t.container(),r=t.offset(),Md(n)?o=Ld(n,r):(i=n.childNodes,r>=i.length?(o="after",r=i.length-1):o="before",n=i[r]),s.push(Pd(n)),a=Rd(e,n),a=Be(a,b($r)),s=s.concat(Re(a,(function(e){return Pd(e)}))),s.reverse().join("/")+","+o},Fd=function(e,t,n){var r=Ad(e);return r=Be(r,(function(e,t){return!Md(e)||!Md(r[t-1])})),r=Be(r,zr([t])),r[n]},zd=function(e,t){var n,r=e,o=0;while(Md(r)){if(n=r.data.length,t>=o&&t<=o+n){e=r,t-=o;break}if(!Md(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return Md(e)&&t>e.data.length&&(t=e.data.length),Cd(e,t)},Vd=function(e,t){var n;if(!t)return null;var r=t.split(","),o=r[0].split("/");n=r.length>1?r[1]:"before";var i=ze(o,(function(e,t){var n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),Fd(e,n[1],parseInt(n[2],10))):null}),e);return i?Md(i)?zd(i,parseInt(n,10)):(n="after"===n?Id(i)+1:Id(i),Cd(i.parentNode,n)):null},Hd=no,Ud=function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&Kr(r);r=r.previousSibling)o+=e(r.data).length;return o},$d=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],s=r[o?"startOffset":"endOffset"],l=[],u=0,c=e.getRoot();for(Kr(a)?l.push(n?Ud(t,a,s):s):(i=a.childNodes,s>=i.length&&i.length&&(u=1,s=Math.max(0,i.length-1)),l.push(e.nodeIndex(i[s],n)+u));a&&a!==c;a=a.parentNode)l.push(e.nodeIndex(a,n));return l},qd=function(e,t,n,r){var o=t.dom,i={};return i.start=$d(o,e,n,r,!0),t.isCollapsed()||(i.end=$d(o,e,n,r,!1)),i},Wd=function(e,t,n){var r=0;return dn.each(e.select(t),(function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++})),r},Gd=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],Fr(n)&&"TR"===n.nodeName&&(o=n.childNodes,n=o[Math.min(t?r:r-1,o.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},Yd=function(e){return Gd(e,!0),Gd(e,!1),e},Kd=function(e,t){var n;if(Fr(e)&&(e=Xc(e,t),Hd(e)))return e;if(Gi(e)){if(Kr(e)&&qi(e)&&(e=e.parentNode),n=e.previousSibling,Hd(n))return n;if(n=e.nextSibling,Hd(n))return n}},Xd=function(e){return Kd(e.startContainer,e.startOffset)||Kd(e.endContainer,e.endOffset)},Jd=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(Hd(r)||"IMG"===o)return{name:o,index:Wd(n.dom,o,r)};var a=Xd(i);return a?(o=a.tagName,{name:o,index:Wd(n.dom,o,a)}):qd(e,n,t,i)},Zd=function(e){var t=e.getRng();return{start:Bd(e.dom.getRoot(),Cd.fromRangeStart(t)),end:Bd(e.dom.getRoot(),Cd.fromRangeEnd(t))}},Qd=function(e){return{rng:e.getRng()}},ef=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},tf=function(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:Wd(n,s,a)};var l=Yd(r.cloneRange());if(!i){l.collapse(!1);var u=ef(n,o+"_end",t);Td(n,l,u)}r=Yd(r),r.collapse(!0);var c=ef(n,o+"_start",t);return Td(n,r,c),e.moveToBookmark({id:o,keep:!0}),{id:o}},nf=function(e,t,n){return 2===t?Jd(Hi,n,e):3===t?Zd(e):t?Qd(e):tf(e,!1)},rf=y(Jd,v,!0),of=Iu.DOM,af="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",sf=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r},lf=function(e){return e.getParam("iframe_attrs",{})},uf=function(e){return e.getParam("doctype","<!DOCTYPE html>")},cf=function(e){return e.getParam("document_base_url","")},df=function(e){return sf(e,"body_id","tinymce")},ff=function(e){return sf(e,"body_class","")},pf=function(e){return e.getParam("content_security_policy","")},hf=function(e){return e.getParam("br_in_pre",!0)},mf=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},gf=function(e){return e.getParam("forced_root_block_attrs",{})},vf=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},yf=function(e){return e.getParam("no_newline_selector","")},bf=function(e){return e.getParam("keep_styles",!0)},xf=function(e){return e.getParam("end_container_on_empty_block",!1)},wf=function(e){return dn.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},_f=function(e){return dn.explode(e.getParam("font_size_classes",""))},Cf=function(e){return e.getParam("images_dataimg_filter",S,"function")},Sf=function(e){return e.getParam("automatic_uploads",!0,"boolean")},kf=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},Of=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Tf=function(e){return e.getParam("icons","","string")},Mf=function(e){return e.getParam("icons_url","","string")},Df=function(e){return e.getParam("images_upload_url","","string")},If=function(e){return e.getParam("images_upload_base_path","","string")},Ef=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},Af=function(e){return e.getParam("images_upload_handler",null,"function")},Lf=function(e){return e.getParam("content_css_cors",!1,"boolean")},jf=function(e){return e.getParam("referrer_policy","","string")},Nf=function(e){return e.getParam("language","en","string")},Pf=function(e){return e.getParam("language_url","","string")},Rf=function(e){return e.getParam("indent_use_margin",!1)},Bf=function(e){return e.getParam("indentation","40px","string")},Ff=function(e){var t=e.getParam("content_css");return j(t)?J(t.split(","),ct):P(t)?t:!1===t||e.inline?[]:["default"]},zf=function(e){return e.getParam("directionality",Zu.isRtl()?"rtl":void 0)},Vf=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Hf=function(e){var t=e.getParam("object_resizing");return!1!==t&&!Jt.iOS&&(j(t)?t:"table,img,figure.image,div")},Uf=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},$f=function(e){return e.getParam("placeholder",of.getAttrib(e.getElement(),"placeholder"),"string")},qf=function(e){return e.getParam("event_root")},Wf=function(e){return e.getParam("service_message")},Gf=function(e){return e.getParam("theme")},Yf=function(e){return e.getParam("validate")},Kf=function(e){return!1!==e.getParam("inline_boundaries")},Xf=function(e){return e.getParam("formats")},Jf=function(e){var t=e.getParam("preview_styles",af);return j(t)?t:""},Zf=function(e){return e.getParam("format_empty_lines",!1,"boolean")},Qf=function(e){return e.getParam("custom_ui_selector","","string")},ep=function(e){return e.getParam("theme_url")},tp=function(e){return e.getParam("inline")},np=function(e){return e.getParam("hidden_input")},rp=function(e){return e.getParam("submit_patch")},op=function(e){return"xml"===e.getParam("encoding")},ip=function(e){return e.getParam("add_form_submit_trigger")},ap=function(e){return e.getParam("add_unload_trigger")},sp=function(e){return""!==mf(e)},lp=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},up=function(e){return e.getParam("disable_nodechange")},cp=function(e){return e.getParam("readonly")},dp=function(e){return e.getParam("content_css_cors")},fp=function(e){return e.getParam("plugins","","string")},pp=function(e){return e.getParam("external_plugins")},hp=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},mp=function(e){return e.getParam("visual",!0,"boolean")},gp=function(e){return e.getParam("visual_table_class","mce-item-table","string")},vp=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},yp=Fr,bp=Kr,xp=function(e){var t=e.parentNode;t&&t.removeChild(e)},wp=function(e){var t=Hi(e);return{count:e.length-t.length,text:t}},_p=function(e){var t;while(-1!==(t=e.data.lastIndexOf(zi)))e.deleteData(t,1)},Cp=function(e,t){return Dp(e),t},Sp=function(e,t){var n=wp(e.data.substr(0,t.offset())),r=wp(e.data.substr(t.offset())),o=n.text+r.text;return o.length>0?(_p(e),Cd(e,t.offset()-n.count)):t},kp=function(e,t){var n=t.container(),r=Y(ve(n.childNodes),e).map((function(e){return e<t.offset()?Cd(n,t.offset()-1):t})).getOr(t);return Dp(e),r},Op=function(e,t){return bp(e)&&t.container()===e?Sp(e,t):Cp(e,t)},Tp=function(e,t){return t.container()===e.parentNode?kp(e,t):Cp(e,t)},Mp=function(e,t){return Cd.isTextPosition(t)?Op(e,t):Tp(e,t)},Dp=function(e){yp(e)&&Gi(e)&&(Yi(e)?e.removeAttribute("data-mce-caret"):xp(e)),bp(e)&&(_p(e),0===e.data.length&&xp(e))},Ip=Ht().browser,Ep=no,Ap=oo,Lp=ro,jp="*[contentEditable=false],video,audio,embed,object",Np=function(e,t,n){var r,o,i,a,s,l=Uc(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,i=e.scrollTop||r.scrollTop):(s=e.getBoundingClientRect(),o=e.scrollLeft-s.left,i=e.scrollTop-s.top),l.left+=o,l.right+=o,l.top+=i,l.bottom+=i,l.width=1,a=t.offsetWidth-t.clientWidth,a>0&&(n&&(a*=-1),l.left+=a,l.right+=a),l},Pp=function(e){for(var t=mc(vn.fromDom(e),jp),n=0;n<t.length;n++){var r=t[n].dom,o=r.previousSibling;if(ta(o)){var i=o.data;1===i.length?o.parentNode.removeChild(o):o.deleteData(i.length-1,1)}if(o=r.nextSibling,ea(o)){i=o.data;1===i.length?o.parentNode.removeChild(o):o.deleteData(0,1)}}},Rp=function(e,t,n,r){var o,i,a=Fu(D.none()),s=mf(e),l=s.length>0?s:"p",u=function(e,r){var o,s;if(c(),Lp(r))return null;if(!n(r))return i=Ki(r,e),s=r.ownerDocument.createRange(),Fp(i.nextSibling)?(s.setStart(i,0),s.setEnd(i,0)):(s.setStart(i,1),s.setEnd(i,1)),s;i=Qi(l,r,e),o=Np(t,r,e),wu(i).css("top",o.top);var u=wu('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(o).appendTo(t)[0];return a.set(D.some({caret:u,element:r,before:e})),a.get().each((function(t){e&&wu(t.caret).addClass("mce-visual-caret-before")})),d(),s=r.ownerDocument.createRange(),s.setStart(i,0),s.setEnd(i,0),s},c=function(){Pp(t),i&&(Dp(i),i=null),a.get().each((function(e){wu(e.caret).remove(),a.set(D.none())})),o&&(ci.clearInterval(o),o=null)},d=function(){o=ci.setInterval((function(){r()?wu("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):wu("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")}),500)},f=function(){a.get().each((function(e){var n=Np(t,e.element,e.before);wu(e.caret).css(Ue({},n))}))},p=function(){return ci.clearInterval(o)},h=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:u,hide:c,getCss:h,reposition:f,destroy:p}},Bp=function(){return Ip.isIE()||Ip.isEdge()||Ip.isFirefox()},Fp=function(e){return Ep(e)||Ap(e)},zp=function(e){return Fp(e)||Wr(e)&&Bp()},Vp=no,Hp=oo,Up=Vr("display","block table table-cell table-caption list-item"),$p=Gi,qp=qi,Wp=Fr,Gp=pa,Yp=function(e){return e>0},Kp=function(e){return e<0},Xp=function(e,t){var n;while(n=e(t))if(!qp(n))return n;return null},Jp=function(e,t,n,r,o){var i=new hi(e,r),a=Vp(e)||qp(e);if(Kp(t)){if(a&&(e=Xp(i.prev,!0),n(e)))return e;while(e=Xp(i.prev,o))if(n(e))return e}if(Yp(t)){if(a&&(e=Xp(i.next,!0),n(e)))return e;while(e=Xp(i.next,o))if(n(e))return e}return null},Zp=function(e,t){while(e&&e!==t){if(Up(e))return e;e=e.parentNode}return null},Qp=function(e,t,n){return Zp(e.container(),n)===Zp(t.container(),n)},eh=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return Wp(n)?n.childNodes[r+e]:null},th=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},nh=function(e,t,n){return Zp(t,e)===Zp(n,e)},rh=function(e,t,n){var r,o;o=e?"previousSibling":"nextSibling";while(n&&n!==t){if(r=n[o],$p(r)&&(r=r[o]),Vp(r)||Hp(r)){if(nh(t,r,n))return r;break}if(Gp(r))break;n=n.parentNode}return null},oh=y(th,!0),ih=y(th,!1),ah=function(e,t,n){var r,o,i,a=y(rh,!0,t),s=y(rh,!1,t);o=n.startContainer;var l=n.startOffset;if(qi(o)){if(Wp(o)||(o=o.parentNode),i=o.getAttribute("data-mce-caret"),"before"===i&&(r=o.nextSibling,zp(r)))return oh(r);if("after"===i&&(r=o.previousSibling,zp(r)))return ih(r)}if(!n.collapsed)return n;if(Kr(o)){if($p(o)){if(1===e){if(r=s(o),r)return oh(r);if(r=a(o),r)return ih(r)}if(-1===e){if(r=a(o),r)return ih(r);if(r=s(o),r)return oh(r)}return n}if(ta(o)&&l>=o.data.length-1)return 1===e&&(r=s(o),r)?oh(r):n;if(ea(o)&&l<=1)return-1===e&&(r=a(o),r)?ih(r):n;if(l===o.data.length)return r=s(o),r?oh(r):n;if(0===l)return r=a(o),r?ih(r):n}return n},sh=function(e,t){return D.from(eh(e?0:-1,t)).filter(Vp)},lh=function(e,t,n){var r=ah(e,t,n);return-1===e?wd.fromRangeStart(r):wd.fromRangeEnd(r)},uh=function(e){return D.from(e.getNode()).map(vn.fromDom)},ch=function(e){return D.from(e.getNode(!0)).map(vn.fromDom)},dh=function(e,t){while(t=e(t))if(t.isVisible())return t;return t},fh=function(e,t){var n=Qp(e,t);return!(n||!Qr(e.getNode()))||n};(function(e){e[e["Backwards"]=-1]="Backwards",e[e["Forwards"]=1]="Forwards"})(_d||(_d={}));var ph=no,hh=Kr,mh=Fr,gh=Qr,vh=pa,yh=ya,bh=ba,xh=function(e,t){var n=[];while(e&&e!==t)n.push(e),e=e.parentNode;return n},wh=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},_h=function(e,t){if(Yp(e)){if(vh(t.previousSibling)&&!hh(t.previousSibling))return Cd.before(t);if(hh(t))return Cd(t,0)}if(Kp(e)){if(vh(t.nextSibling)&&!hh(t.nextSibling))return Cd.after(t);if(hh(t))return Cd(t,t.data.length)}return Kp(e)?gh(t)?Cd.before(t):Cd.after(t):Cd.before(t)},Ch=function(e,t){var n=t.nextSibling;return n&&vh(n)?hh(n)?Cd(n,0):Cd.before(n):Sh(_d.Forwards,Cd.after(t),e)},Sh=function(e,t,n){var r,o,i,a;if(!mh(n)||!t)return null;if(t.isEqual(Cd.after(n))&&n.lastChild){if(a=Cd.after(n.lastChild),Kp(e)&&vh(n.lastChild)&&mh(n.lastChild))return gh(n.lastChild)?Cd.before(n.lastChild):a}else a=t;var s=a.container(),l=a.offset();if(hh(s)){if(Kp(e)&&l>0)return Cd(s,--l);if(Yp(e)&&l<s.length)return Cd(s,++l);r=s}else{if(Kp(e)&&l>0&&(o=wh(s,l-1),vh(o)))return!yh(o)&&(i=Jp(o,e,bh,o),i)?hh(i)?Cd(i,i.data.length):Cd.after(i):hh(o)?Cd(o,o.data.length):Cd.before(o);if(Yp(e)&&l<s.childNodes.length&&(o=wh(s,l),vh(o)))return gh(o)?Ch(n,o):!yh(o)&&(i=Jp(o,e,bh,o),i)?hh(i)?Cd(i,0):Cd.before(i):hh(o)?Cd(o,0):Cd.after(o);r=o||a.getNode()}if((Yp(e)&&a.isAtEnd()||Kp(e)&&a.isAtStart())&&(r=Jp(r,e,S,n,!0),bh(r,n)))return _h(e,r);o=Jp(r,e,bh,n);var u=He(te(xh(s,n),ph));return!u||o&&u.contains(o)?o?_h(e,o):null:(a=Yp(e)?Cd.after(u):Cd.before(u),a)},kh=function(e){return{next:function(t){return Sh(_d.Forwards,t,e)},prev:function(t){return Sh(_d.Backwards,t,e)}}},Oh=function(e,t,n){var r=e?Cd.before(n):Cd.after(n);return Lh(e,t,r)},Th=function(e){return Qr(e)?Cd.before(e):Cd.after(e)},Mh=function(e){return Cd.isTextPosition(e)?0===e.offset():pa(e.getNode())},Dh=function(e){if(Cd.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return pa(e.getNode(!0))},Ih=function(e,t){return!Cd.isTextPosition(e)&&!Cd.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Eh=function(e){return!Cd.isTextPosition(e)&&Qr(e.getNode())},Ah=function(e,t,n){return e?!Ih(t,n)&&!Eh(t)&&Dh(t)&&Mh(n):!Ih(n,t)&&Mh(t)&&Dh(n)},Lh=function(e,t,n){var r=kh(t);return D.from(e?r.next(n):r.prev(n))},jh=function(e,t,n){return Lh(e,t,n).bind((function(r){return Qp(n,r,t)&&Ah(e,n,r)?Lh(e,t,r):D.some(r)}))},Nh=function(e,t,n,r){return jh(e,t,n).bind((function(n){return r(n)?Nh(e,t,n,r):D.some(n)}))},Ph=function(e,t){var n=e?t.firstChild:t.lastChild;return Kr(n)?D.some(Cd(n,e?0:n.data.length)):n?pa(n)?D.some(e?Cd.before(n):Th(n)):Oh(e,t,n):D.none()},Rh=y(Lh,!0),Bh=y(Lh,!1),Fh=y(Ph,!0),zh=y(Ph,!1),Vh="_mce_caret",Hh=function(e){return Fr(e)&&e.id===Vh},Uh=function(e,t){while(t&&t!==e){if(t.id===Vh)return t;t=t.parentNode}return null},$h=function(e){return"string"===typeof e.start},qh=function(e){return e.hasOwnProperty("rng")},Wh=function(e){return e.hasOwnProperty("id")},Gh=function(e){return e.hasOwnProperty("name")},Yh=function(e){return dn.isArray(e.start)},Kh=function(e,t){return Fr(t)&&e.isBlock(t)&&!t.innerHTML&&!Jt.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},Xh=function(e,t){var n,r=e.createRng();return n=Vd(e.getRoot(),t.start),r.setStart(n.container(),n.offset()),n=Vd(e.getRoot(),t.end),r.setEnd(n.container(),n.offset()),r},Jh=function(e,t){var n=e.ownerDocument.createTextNode(zi);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},Zh=function(e){return!1===e.hasChildNodes()},Qh=function(e,t){return zh(e).fold((function(){return!1}),(function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0}))},em=function(e,t,n){return!(!Zh(t)||!Uh(e,t))&&(Jh(t,n),!0)},tm=function(e,t,n,r){var o,i,a,s,l=n[t?"start":"end"],u=e.getRoot();if(l){for(a=l[0],i=u,o=l.length-1;o>=1;o--){if(s=i.childNodes,em(u,i,r))return!0;if(l[o]>s.length-1)return!!em(u,i,r)||Qh(i,r);i=s[l[o]]}3===i.nodeType&&(a=Math.min(l[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(l[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},nm=function(e){return Kr(e)&&e.data.length>0},rm=function(e,t,n){var r,o,i,a,s,l,u=e.get(n.id+"_"+t),c=n.keep;if(u){if(r=u.parentNode,"start"===t?(c?u.hasChildNodes()?(r=u.firstChild,o=1):nm(u.nextSibling)?(r=u.nextSibling,o=0):nm(u.previousSibling)?(r=u.previousSibling,o=u.previousSibling.data.length):(r=u.parentNode,o=e.nodeIndex(u)+1):o=e.nodeIndex(u),s=r,l=o):(c?u.hasChildNodes()?(r=u.firstChild,o=1):nm(u.previousSibling)?(r=u.previousSibling,o=u.previousSibling.data.length):(r=u.parentNode,o=e.nodeIndex(u)):o=e.nodeIndex(u),s=r,l=o),!c){a=u.previousSibling,i=u.nextSibling,dn.each(dn.grep(u.childNodes),(function(e){Kr(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}));while(u=e.get(n.id+"_"+t))e.remove(u,!0);a&&i&&a.nodeType===i.nodeType&&Kr(a)&&!Jt.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),s=a,l=o)}return D.some(Cd(s,l))}return D.none()},om=function(e,t){var n=e.createRng();return tm(e,!0,t,n)&&tm(e,!1,t,n)?D.some(n):D.none()},im=function(e,t){var n=rm(e,"start",t),r=rm(e,"end",t);return Bc(n,r.or(n),(function(t,n){var r=e.createRng();return r.setStart(Kh(e,t.container()),t.offset()),r.setEnd(Kh(e,n.container()),n.offset()),r}))},am=function(e,t){return D.from(e.select(t.name)[t.index]).map((function(t){var n=e.createRng();return n.selectNode(t),n}))},sm=function(e,t){var n=e.dom;if(t){if(Yh(t))return om(n,t);if($h(t))return D.some(Xh(n,t));if(Wh(t))return im(n,t);if(Gh(t))return am(n,t);if(qh(t))return D.some(t.rng)}return D.none()},lm=function(e,t,n){return nf(e,t,n)},um=function(e,t){sm(e,t).each((function(t){e.setRng(t)}))},cm=function(e){return Fr(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},dm=function(e){return function(t){return e===t}},fm=dm(Ri),pm=function(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)},hm=function(e){return!pm(e)&&!fm(e)},mm=function(e){return!!e.nodeType},gm=function(e){return e&&/^(IMG)$/.test(e.nodeName)},vm=function(e,t,n){var r,o,i,a=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!gm(n.startContainer.childNodes[n.startOffset]))&&1===s.nodeType)for(i=s.childNodes,a<i.length?(s=i[a],r=new hi(s,e.getParent(s,e.isBlock))):(s=i[i.length-1],r=new hi(s,e.getParent(s,e.isBlock)),r.next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!wm(o))return n.setStart(o,0),void t.setRng(n)},ym=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(1===e.nodeType||!wm(e))return e}},bm=function(e,t){return mm(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},xm=function(e,t,n){return e.schema.isValidChild(t,n)},wm=function(e,t){if(void 0===t&&(t=!1),V(e)&&Kr(e)){var n=t?e.data.replace(/ /g," "):e.data;return wa(n)}return!1},_m=function(e){return V(e)&&Kr(e)&&0===e.length},Cm=function(e,t){return"string"!==typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e}))),e},Sm=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},km=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},Om=function(e,t,n){return km(e,e.getStyle(t,n),n)},Tm=function(e,t){var n;return e.getParent(t,(function(t){return n=e.getStyle(t,"text-decoration"),n&&"none"!==n})),n},Mm=function(e,t,n){return e.getParents(t,n,e.getRoot())},Dm=function(e,t){var n=function(e){var t=function(e){return e.length>1&&"%"===e.charAt(0)};return X(["styles","attributes"],(function(n){return Ie(e,n).exists((function(e){var n=P(e)?e:De(e);return X(n,t)}))}))};return X(e.formatter.get(t),n)},Im=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"],o=function(e){return Te(e,(function(e,t){return X(r,(function(e){return e===t}))}))};return X(e.formatter.get(t),(function(t){var r=o(t);return X(e.formatter.get(n),(function(e){var t=o(e);return Le(r,t)}))}))},Em=function(e){return Ae(e,"block")},Am=function(e){return Ae(e,"selector")},Lm=function(e){return Ae(e,"inline")},jm=cm,Nm=Mm,Pm=wm,Rm=bm,Bm=function(e){return Qr(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Fm=function(e,t){var n=t;while(n){if(Fr(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},zm=function(e,t,n,r){for(var o=t.data,i=n;e?i>=0:i<o.length;e?i--:i++)if(r(o.charAt(i)))return e?i+1:i;return-1},Vm=function(e,t,n){return zm(e,t,n,(function(e){return fm(e)||pm(e)}))},Hm=function(e,t,n){return zm(e,t,n,hm)},Um=function(e,t,n,r,o,i){var a,s=e.getParent(n,e.isBlock)||t,l=function(t,n,r){var i=Pc(e),l=o?i.backwards:i.forwards;return D.from(l(t,n,(function(e,t){return jm(e.parentNode)?-1:(a=e,r(o,e,t))}),s))},u=l(n,r,Vm);return u.bind((function(e){return i?l(e.container,e.offset+(o?-1:0),Hm):D.some(e)})).orThunk((function(){return a?D.some({container:a,offset:o?0:a.length}):D.none()}))},$m=function(e,t,n,r,o){Kr(r)&&0===r.nodeValue.length&&r[o]&&(r=r[o]);for(var i=Nm(e,r),a=0;a<i.length;a++)for(var s=0;s<t.length;s++){var l=t[s];if((!("collapsed"in l)||l.collapsed===n.collapsed)&&e.is(i[a],l.selector))return i[a]}return r},qm=function(e,t,n,r){var o,i=e.dom,a=i.getRoot();if(t[0].wrapper||(o=i.getParent(n,t[0].block,a)),!o){var s=i.getParent(n,"LI,TD,TH");o=i.getParent(Kr(n)?n.parentNode:n,(function(t){return t!==a&&Rm(e,t)}),s)}if(o&&t[0].wrapper&&(o=Nm(i,o,"ul,ol").reverse()[0]||o),!o){o=n;while(o[r]&&!i.isBlock(o[r]))if(o=o[r],Sm(o,"br"))break}return o||n},Wm=function(e,t,n,r){var o=n.parentNode;return!V(n[r])&&(!(o!==t&&!z(o)&&!e.isBlock(o))||Wm(e,t,o,r))},Gm=function(e,t,n,r,o){var i,a=n,s=o?"previousSibling":"nextSibling",l=e.getRoot();if(Kr(n)&&!Pm(n)&&(o?r>0:r<n.data.length))return n;while(1){if(!t[0].block_expand&&e.isBlock(a))return a;for(i=a[s];i;i=i[s]){var u=Kr(i)&&!Wm(e,l,i,s);if(!jm(i)&&!Bm(i)&&!Pm(i,u))return a}if(a===l||a.parentNode===l){n=a;break}a=a.parentNode}return n},Ym=function(e){return jm(e.parentNode)||jm(e)},Km=function(e,t,n,r){void 0===r&&(r=!1);var o=t.startContainer,i=t.startOffset,a=t.endContainer,s=t.endOffset,l=e.dom;if(Fr(o)&&o.hasChildNodes()&&(o=Xc(o,i),Kr(o)&&(i=0)),Fr(a)&&a.hasChildNodes()&&(a=Xc(a,t.collapsed?s:s-1),Kr(a)&&(s=a.nodeValue.length)),o=Fm(l,o),a=Fm(l,a),Ym(o)&&(o=jm(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,Kr(o)&&(i=t.collapsed?o.length:0)),Ym(a)&&(a=jm(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,Kr(a)&&(s=t.collapsed?0:a.length)),t.collapsed){var u=Um(l,e.getBody(),o,i,!0,r);u.each((function(e){var t=e.container,n=e.offset;o=t,i=n}));var c=Um(l,e.getBody(),a,s,!1,r);c.each((function(e){var t=e.container,n=e.offset;a=t,s=n}))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&Kr(o)&&0!==i||(o=Gm(l,n,o,i,!0)),n[0].inline&&Kr(a)&&s!==a.nodeValue.length||(a=Gm(l,n,a,s,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=$m(l,n,t,o,"previousSibling"),a=$m(l,n,t,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=qm(e,n,o,"previousSibling"),a=qm(e,n,a,"nextSibling"),n[0].block&&(l.isBlock(o)||(o=Gm(l,n,o,i,!0)),l.isBlock(a)||(a=Gm(l,n,a,s,!1)))),Fr(o)&&(i=l.nodeIndex(o),o=o.parentNode),Fr(a)&&(s=l.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:s}},Xm=function(e,t){var n=e.childNodes;return t>=n.length?t=n.length-1:t<0&&(t=0),n[t]||e},Jm=function(e,t){return Xm(e,t-1)},Zm=function(e,t,n){var r=t.startContainer,o=t.startOffset,i=t.endContainer,a=t.endOffset,s=function(e){var t;return t=e[0],3===t.nodeType&&t===r&&o>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===a&&e.length>0&&t===i&&3===t.nodeType&&e.splice(e.length-1,1),e},l=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},u=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},c=function(e,t,r){for(var o=r?"nextSibling":"previousSibling",i=e,a=i.parentNode;i&&i!==t;i=a){a=i.parentNode;var u=l(i===e?i:i[o],o);u.length&&(r||u.reverse(),n(s(u)))}};if(1===r.nodeType&&r.hasChildNodes()&&(r=Xm(r,o)),1===i.nodeType&&i.hasChildNodes()&&(i=Jm(i,a)),r===i)return n(s([r]));for(var d=e.findCommonAncestor(r,i),f=r;f;f=f.parentNode){if(f===i)return c(r,d,!0);if(f===d)break}for(f=i;f;f=f.parentNode){if(f===r)return c(i,d);if(f===d)break}var p=u(r,d)||r,h=u(i,d)||i;c(r,p,!0);var m=l(p===r?p:p.nextSibling,"nextSibling",h===i?h.nextSibling:h);m.length&&n(s(m)),c(i,h)},Qm=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},eg=function(e){return le(e,(function(e){var t=Kc(e);return t?[vn.fromDom(t)]:[]}))},tg=function(e){return Qm(e).length>1},ng=function(e){return te(eg(e),Li)},rg=function(e){return mc(e,"td[data-mce-selected],th[data-mce-selected]")},og=function(e,t){var n=rg(t);return n.length>0?n:ng(e)},ig=function(e){return og(Qm(e.selection.getSel()),vn.fromDom(e.getBody()))},ag=function(e){var t=e.startContainer,n=e.startOffset;return Kr(t)?0===n?D.some(vn.fromDom(t)):D.none():D.from(t.childNodes[n]).map(vn.fromDom)},sg=function(e){var t=e.endContainer,n=e.endOffset;return Kr(t)?n===t.data.length?D.some(vn.fromDom(t)):D.none():D.from(t.childNodes[n-1]).map(vn.fromDom)},lg=function(e){return tr(e).fold(g([e]),(function(t){return[e].concat(lg(t))}))},ug=function(e){return nr(e).fold(g([e]),(function(t){return"br"===jn(t)?Kn(t).map((function(t){return[e].concat(ug(t))})).getOr([]):[e].concat(ug(t))}))},cg=function(e,t){return Bc(ag(t),sg(t),(function(t,n){var r=ie(lg(e),y(In,t)),o=ie(ug(e),y(In,n));return r.isSome()&&o.isSome()})).getOr(!1)},dg=function(e,t,n,r){var o=n,i=new hi(n,o),a=Te(e.schema.getMoveCaretBeforeOnEnterElements(),(function(e,t){return!K(["td","th","table"],t.toLowerCase())}));do{if(Kr(n)&&0!==dn.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName])return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},fg=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},pg=function(e,t){var n=ig(e);n.length>0?Z(n,(function(n){var r=n.dom,o=e.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),t(o,!0)})):t(e.selection.getRng(),!1)},hg=function(e,t,n){var r=tf(e,t);n(r),e.moveToBookmark(r)};function mg(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?D.from(t.dom.nodeValue):D.none()},o=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:o}}var gg=mg(Fn,"text"),vg=function(e){return gg.get(e)},yg=function(e){return Fn(e)&&vg(e)===zi},bg=function(e,t,n,r){return Wn(t).fold((function(){return"skipping"}),(function(o){return"br"===r||yg(t)?"valid":xc(t)?"existing":Hh(t.dom)?"caret":xm(e,n,r)&&xm(e,jn(o),n)?"valid":"invalid-child"}))},xg=function(e,t){var n=Km(e,t,[{inline:!0}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},wg=function(e,t,n,r){var o=t.uid,i=void 0===o?Tc("mce-annotation"):o,a=$e(t,["uid"]),s=vn.fromTag("span",e);cc(s,gc()),so(s,""+yc(),i),so(s,""+vc(),n);var l=r(i,a),u=l.attributes,c=void 0===u?{}:u,d=l.classes,f=void 0===d?[]:d;return lo(s,c),Mc(s,f),s},_g=function(e,t,n,r,o){var i=[],a=wg(e.getDoc(),o,n,r),s=Fu(D.none()),l=function(){s.set(D.none())},u=function(){return s.get().getOrThunk((function(){var e=Lc(a);return i.push(e),s.set(D.some(e)),e}))},c=function(e){Z(e,d)},d=function(t){var n=bg(e,t,"span",jn(t));switch(n){case"invalid-child":l();var r=Qn(t);c(r),l();break;case"valid":var o=u();yr(t,o);break}},f=function(e){var t=J(e,vn.fromDom);c(t)};return Zm(e.dom,t,(function(e){l(),f(e)})),i},Cg=function(e,t,n,r){e.undoManager.transact((function(){var o=e.selection,i=o.getRng(),a=ig(e).length>0;if(i.collapsed&&!a&&xg(e,i),o.getRng().collapsed&&!a){var s=wg(e.getDoc(),r,t,n.decorate);Ec(s,Ri),o.getRng().insertNode(s.dom),o.select(s.dom)}else hg(o,!1,(function(){pg(e,(function(o){_g(e,o,t,n.decorate,r)}))}))}))},Sg=function(e){var t=kc();Sc(e,t);var n=Cc(e);return{register:function(e,n){t.register(e,n)},annotate:function(n,r){t.lookup(n).each((function(t){Cg(e,n,t,r)}))},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){bc(e,D.some(t)).each((function(e){var t=e.elements;Z(t,Cr)}))},getAll:function(t){var n=_c(e,t);return _e(n,(function(e){return J(e,(function(e){return e.dom}))}))}}};function kg(e){return{getBookmark:y(lm,e),moveToBookmark:y(um,e)}}(function(e){e.isBookmarkNode=cm})(kg||(kg={}));var Og=kg,Tg=function(e,t){while(t&&t!==e){if(to(t)||no(t))return t;t=t.parentNode}return null},Mg=function(e,t,n){if(n.collapsed)return!1;if(Jt.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(Fr(r))return X(r.getClientRects(),(function(n){return Yc(n,e,t)}))}return X(n.getClientRects(),(function(n){return Yc(n,e,t)}))},Dg=function(e,t){return e.fire("PreProcess",t)},Ig=function(e,t){return e.fire("PostProcess",t)},Eg=function(e){return e.fire("remove")},Ag=function(e){return e.fire("detach")},Lg=function(e,t){return e.fire("SwitchMode",{mode:t})},jg=function(e,t,n,r,o){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:o})},Ng=function(e,t,n,r,o){e.fire("ObjectResized",{target:t,width:n,height:r,origin:o})},Pg=function(e){return e.fire("PreInit")},Rg=function(e){return e.fire("PostRender")},Bg=function(e){return e.fire("Init")},Fg=function(e,t){return e.fire("PlaceholderToggle",{state:t})},zg=function(e,t,n){return e.fire(t,n)},Vg={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return Jt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Hg=no,Ug=function(e,t){var n,r,o,i,a,s,l,u,c,d,f,p,h,m,g,v,y=t.dom,b=dn.each,x=t.getDoc(),w=document,_=Math.abs,C=Math.round,S=t.getBody(),k={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},O=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},T=function(e,t){if("longpress"===e.type||0===e.type.indexOf("touch")){var n=e.touches[0];return O(e.target)&&!Mg(n.clientX,n.clientY,t)}return O(e.target)&&!Mg(e.clientX,e.clientY,t)},M=function(e){var n=e.target;T(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},D=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e},I=function(e){var n=Hf(t);return!!n&&("false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&On(vn.fromDom(e),n)))},E=function(e,t,n){y.setStyles(D(e),{width:t,height:n})},A=function(e){var b,x,w,k,T;b=e.screenX-a,x=e.screenY-s,h=b*i[2]+c,m=x*i[3]+d,h=h<5?5:h,m=m<5?5:m,w=O(n)&&!1!==Uf(t)?!Vg.modifierPressed(e):Vg.modifierPressed(e),w&&(_(b)>_(x)?(m=C(h*f),h=C(m/f)):(h=C(m/f),m=C(h*f))),E(r,h,m),k=i.startPos.x+b,T=i.startPos.y+x,k=k>0?k:0,T=T>0?T:0,y.setStyles(o,{left:k,top:T,display:"block"}),o.innerHTML=h+" &times; "+m,i[2]<0&&r.clientWidth<=h&&y.setStyle(r,"left",l+(c-h)),i[3]<0&&r.clientHeight<=m&&y.setStyle(r,"top",u+(d-m)),b=S.scrollWidth-g,x=S.scrollHeight-v,b+x!==0&&y.setStyles(o,{left:k-b,top:T-x}),p||(jg(t,n,c,d,"corner-"+i.name),p=!0)},L=function(){var e=p;p=!1;var a=function(e,r){r&&(n.style[e]||!t.schema.isValid(n.nodeName.toLowerCase(),e)?y.setStyle(D(n),e,r):y.setAttrib(D(n),e,""+r))};e&&(a("width",h),a("height",m)),y.unbind(x,"mousemove",A),y.unbind(x,"mouseup",L),w!==x&&(y.unbind(w,"mousemove",A),y.unbind(w,"mouseup",L)),y.remove(r),y.remove(o),j(n),e&&(Ng(t,n,h,m,"corner-"+i.name),y.setAttrib(n,"style",y.getAttrib(n,"style"))),t.nodeChanged()},j=function(e){N(),B();var l=y.getPos(e,S),u=l.x,p=l.y,_=e.getBoundingClientRect(),C=_.width||_.right-_.left,O=_.height||_.bottom-_.top;n!==e&&(n=e,h=m=0);var T=t.fire("ObjectSelected",{target:e});I(e)&&!T.isDefaultPrevented()?b(k,(function(e,t){var l,h=function(l){a=l.screenX,s=l.screenY,c=D(n).clientWidth,d=D(n).clientHeight,f=d/c,i=e,i.name=t,i.startPos={x:C*e[0]+u,y:O*e[1]+p},g=S.scrollWidth,v=S.scrollHeight,r=n.cloneNode(!0),y.addClass(r,"mce-clonedresizable"),y.setAttrib(r,"data-mce-bogus","all"),r.contentEditable=!1,r.unSelectabe=!0,y.setStyles(r,{left:u,top:p,margin:0}),E(r,C,O),r.removeAttribute("data-mce-selected"),S.appendChild(r),y.bind(x,"mousemove",A),y.bind(x,"mouseup",L),w!==x&&(y.bind(w,"mousemove",A),y.bind(w,"mouseup",L)),o=y.add(S,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},c+" &times; "+d)};l=y.get("mceResizeHandle"+t),l&&y.remove(l),l=y.add(S,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===Jt.ie&&(l.contentEditable=!1),y.bind(l,"mousedown",(function(e){e.stopImmediatePropagation(),e.preventDefault(),h(e)})),e.elm=l,y.setStyles(l,{left:C*e[0]+u-l.offsetWidth/2,top:O*e[1]+p-l.offsetHeight/2})})):N(),n.setAttribute("data-mce-selected","1")},N=function(){B(),n&&n.removeAttribute("data-mce-selected"),we(k,(function(e,t){var n=y.get("mceResizeHandle"+t);n&&(y.unbind(n),y.remove(n))}))},P=function(n){var r,o,i=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};p||t.removed||(b(y.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute("data-mce-selected")})),o="mousedown"===n.type?n.target:e.getNode(),o=y.$(o).closest("table,img,figure.image,hr")[0],i(o,S)&&(F(),r=e.getStart(!0),i(r,o)&&i(e.getEnd(!0),o))?j(o):N())},R=function(e){return Hg(Tg(t.getBody(),e))},B=function(){we(k,(function(e){e.elm&&(y.unbind(e.elm),delete e.elm)}))},F=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};t.on("init",(function(){if(F(),Jt.browser.isIE()||Jt.browser.isEdge()){t.on("mousedown click",(function(e){var n=e.target,r=n.nodeName;p||!/^(TABLE|IMG|HR)$/.test(r)||R(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())}));var e=function(e){var n=function(e){ci.setEditorTimeout(t,(function(){return t.selection.select(e)}))};if(R(e.target)||oo(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))};y.bind(S,"mscontrolselect",e),t.on("remove",(function(){return y.unbind(S,"mscontrolselect",e)}))}var r=ci.throttle((function(e){t.composing||P(e)}));t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",r),t.on("keyup compositionend",(function(e){n&&"TABLE"===n.nodeName&&r(e)})),t.on("hide blur",N),t.on("contextmenu longpress",M,!0)})),t.on("remove",B);var z=function(){n=r=null};return{isResizable:I,showResizeRect:j,hideResizeRect:N,updateResizeRect:P,destroy:z}},$g=function(e){return to(e)||no(e)},qg=function(e,t,n){while(e&&e!==t){if(n(e))return e;e=e.parentNode}return null},Wg=function(e,t,n){var r,o=n.elementFromPoint(e,t),i=n.body.createTextRange();if(o&&"HTML"!==o.tagName||(o=n.body),i.moveToElementText(o),r=dn.toArray(i.getClientRects()),r=r.sort((function(e,n){return e=Math.abs(Math.max(e.top-t,e.bottom-t)),n=Math.abs(Math.max(n.top-t,n.bottom-t)),e-n})),r.length>0){t=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(e,t),i.collapse(!0),i}catch(a){}}return null},Gg=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return no(qg(n,t,$g))?null:e},Yg=function(e,t,n){var r,o,i=n;if(i.caretPositionFromPoint)o=i.caretPositionFromPoint(e,t),o&&(r=n.createRange(),r.setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(a){r=Wg(e,t,n)}return Gg(r,n.body)}return r},Kg=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},Xg=function(e,t,n){while(e&&e!==t){if(n(e))return e;e=e.parentNode}return null},Jg=function(e,t,n){return null!==Xg(e,t,n)},Zg=function(e,t,n){return Jg(e,t,(function(e){return e.nodeName===n}))},Qg=function(e){return e&&"TABLE"===e.nodeName},ev=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},tv=function(e,t){return Gi(e)&&!1===Jg(e,t,Hh)},nv=function(e,t,n){var r=new hi(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());while(t=r[n?"prev":"next"]())if(Qr(t))return!0},rv=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},ov=function(e,t){while(t&&t!==e){if(no(t))return!0;t=t.parentNode}return!1},iv=function(e,t,n,r,o){var i,a,s=e.getRoot(),l=e.schema.getNonEmptyElements(),u=e.getParent(o.parentNode,e.isBlock)||s;if(r&&Qr(o)&&t&&e.isEmpty(u))return D.some(wd(o.parentNode,e.nodeIndex(o)));var c=new hi(o,u);while(a=c[r?"prev":"next"]()){if("false"===e.getContentEditableParent(a)||tv(a,s))return D.none();if(Kr(a)&&a.nodeValue.length>0)return!1===Zg(a,s,"A")?D.some(wd(a,r?a.nodeValue.length:0)):D.none();if(e.isBlock(a)||l[a.nodeName.toLowerCase()])return D.none();i=a}return n&&i?D.some(wd(i,0)):D.none()},av=function(e,t,n,r){var o,i,a,s,l=e.getRoot(),u=!1;o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"];var c=Fr(o)&&i===o.childNodes.length,d=e.schema.getNonEmptyElements();if(s=n,Gi(o))return D.none();if(Fr(o)&&i>o.childNodes.length-1&&(s=!1),Jr(o)&&(o=l,i=0),o===l){if(s&&(a=o.childNodes[i>0?i-1:0],a)){if(Gi(a))return D.none();if(d[a.nodeName]||Qg(a))return D.none()}if(o.hasChildNodes()){if(i=Math.min(!s&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=Kr(o)&&c?o.data.length:0,!t&&o===l.lastChild&&Qg(o))return D.none();if(ov(l,o)||Gi(o))return D.none();if(o.hasChildNodes()&&!1===Qg(o)){a=o;var f=new hi(o,l);do{if(no(a)||Gi(a)){u=!1;break}if(Kr(a)&&a.nodeValue.length>0){i=s?0:a.nodeValue.length,o=a,u=!0;break}if(d[a.nodeName.toLowerCase()]&&!ev(a)){i=e.nodeIndex(a),o=a.parentNode,s||i++,u=!0;break}}while(a=s?f.next():f.prev())}}}return t&&(Kr(o)&&0===i&&iv(e,c,t,!0,o).each((function(e){o=e.container(),i=e.offset(),u=!0})),Fr(o)&&(a=o.childNodes[i],a||(a=o.childNodes[i-1]),!a||!Qr(a)||rv(a,"A")||nv(e,a,!1)||nv(e,a,!0)||iv(e,c,t,!0,a).each((function(e){o=e.container(),i=e.offset(),u=!0})))),s&&!t&&Kr(o)&&i===o.nodeValue.length&&iv(e,c,t,!1,o).each((function(e){o=e.container(),i=e.offset(),u=!0})),u?D.some(wd(o,i)):D.none()},sv=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=wd.fromRangeStart(t);return av(e,n,!0,r).each((function(e){n&&wd.isAbove(o,e)||r.setStart(e.container(),e.offset())})),n||av(e,n,!1,r).each((function(e){r.setEnd(e.container(),e.offset())})),n&&r.collapse(!0),Kg(t,r)?D.none():D.some(r)},lv=function(e,t){return e.splitText(t)},uv=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&Kr(t)?n>0&&n<t.nodeValue.length&&(r=lv(t,n),t=r.previousSibling,o>n?(o-=n,t=r=lv(r,o).previousSibling,o=r.nodeValue.length,n=0):o=0):(Kr(t)&&n>0&&n<t.nodeValue.length&&(t=lv(t,n),n=0),Kr(r)&&o>0&&o<r.nodeValue.length&&(r=lv(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}};function cv(e){var t=function(t,n){return Zm(e,t,n)},n=uv,r=function(t){return sv(e,t).fold(C,(function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0}))};return{walk:t,split:n,normalize:r}}(function(e){e.compareRanges=Kg,e.getCaretRangeFromPoint=Yg,e.getSelectedNode=Kc,e.getNode=Xc})(cv||(cv={}));var dv=cv;function fv(e,t){var n=function(t,n){if(!U(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom;io(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=vo(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return re(t,(function(t,n){var r=vo(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)},a=function(e,t,n){var r=i(e,n),o=t>r?t-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:a}}var pv,hv=fv("height",(function(e){var t=e.dom;return Sr(e)?t.getBoundingClientRect().height:t.offsetHeight})),mv=function(e){return hv.get(e)},gv=function(e,t){var n=e.view(t);return n.fold(g([]),(function(t){var n=e.owner(t),r=gv(e,n);return[t].concat(r)}))},vv=function(e,t){var n=t.owner(e);return gv(t,n)},yv=function(e){var t,n=e.dom===document?D.none():D.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement);return n.map(vn.fromDom)},bv=function(e){return Un(e)},xv=Object.freeze({__proto__:null,view:yv,owner:bv}),wv=function(e){var t=vn.fromDom(document),n=Er(t),r=vv(e,xv),o=Ir(e),i=ne(r,(function(e,t){var n=Ir(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Or(i.left+o.left+n.left,i.top+o.top+n.top)},_v=function(e){return"textarea"===jn(e)},Cv=function(e,t){var n=e.fire("ScrollIntoView",t);return n.isDefaultPrevented()},Sv=function(e,t){e.fire("AfterScrollIntoView",t)},kv=function(e,t){var n=Qn(e);if(0===n.length||_v(e))return{element:e,offset:t};if(t<n.length&&!_v(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return _v(r)?{element:e,offset:t}:"img"===jn(r)?{element:r,offset:1}:Fn(r)?{element:r,offset:vg(r).length}:{element:r,offset:Qn(r).length}},Ov=function(e,t){var n=Dr(e),r=mv(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},Tv=function(e,t){var n=kv(e,t),r=vn.fromHtml('<span data-mce-bogus="all">'+zi+"</span>");return hr(n.element,r),Ov(r,(function(){return _r(r)}))},Mv=function(e){return Ov(vn.fromDom(e),p)},Dv=function(e,t,n,r){Lv(e,(function(o,i){return Ev(e,t,n,r)}),n)},Iv=function(e,t,n,r,o){var i={elm:r.element.dom,alignToTop:o};if(!Cv(e,i)){var a=Er(t).top;n(t,a,r,o),Sv(e,i)}},Ev=function(e,t,n,r){var o=vn.fromDom(e.getBody()),i=vn.fromDom(e.getDoc());wo(o);var a=Tv(vn.fromDom(n.startContainer),n.startOffset);Iv(e,i,t,a,r),a.cleanup()},Av=function(e,t,n,r){var o=vn.fromDom(e.getDoc());Iv(e,o,n,Mv(t),r)},Lv=function(e,t,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;t(vn.fromDom(r),vn.fromDom(i));var s=e.dom.createRng();s.setStart(r,o),s.setEnd(i,a),e.selection.setRng(n)},jv=function(e,t,n,r){var o=e.pos;if(n)Ar(o.left,o.top,r);else{var i=o.top-t+e.height;Ar(o.left,i,r)}},Nv=function(e,t,n,r,o){var i=n+t,a=r.pos.top,s=r.bottom,l=s-a>=n;if(a<t)jv(r,n,!1!==o,e);else if(a>i){var u=l?!1!==o:!0===o;jv(r,n,u,e)}else s>i&&!l&&jv(r,n,!0===o,e)},Pv=function(e,t,n,r){var o=e.dom.defaultView.innerHeight;Nv(e,t,o,n,r)},Rv=function(e,t,n,r){var o=e.dom.defaultView.innerHeight;Nv(e,t,o,n,r);var i=wv(n.element),a=Pr(window);i.top<a.y?Lr(n.element,!1!==r):i.top>a.bottom&&Lr(n.element,!0===r)},Bv=function(e,t,n){return Dv(e,Pv,t,n)},Fv=function(e,t,n){return Av(e,t,Pv,n)},zv=function(e,t,n){return Dv(e,Rv,t,n)},Vv=function(e,t,n){return Av(e,t,Rv,n)},Hv=function(e,t,n){var r=e.inline?Fv:Vv;r(e,t,n)},Uv=function(e,t,n){var r=e.inline?Bv:zv;r(e,t,n)},$v=function(){return vn.fromDom(document)},qv=function(e){return e.dom.focus()},Wv=function(e){var t=lr(e).dom;return e.dom===t.activeElement},Gv=function(e){return void 0===e&&(e=$v()),D.from(e.dom.activeElement).map(vn.fromDom)},Yv=function(e){return Gv(lr(e)).filter((function(t){return e.dom.contains(t.dom)}))},Kv=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},Xv={create:Kv},Jv=qo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Zv=function(e,t,n,r){return e.fold(t,n,r)},Qv=function(e){return e.fold(v,v,v)},ey=Jv.before,ty=Jv.on,ny=Jv.after,ry={before:ey,on:ty,after:ny,cata:Zv,getStart:Qv},oy=qo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),iy=function(e){return oy.exact(e.start,e.soffset,e.finish,e.foffset)},ay=function(e){return e.match({domRange:function(e){return vn.fromDom(e.startContainer)},relative:function(e,t){return ry.getStart(e)},exact:function(e,t,n,r){return e}})},sy=oy.domRange,ly=oy.relative,uy=oy.exact,cy=function(e){var t=ay(e);return qn(t)},dy=Xv.create,fy={domRange:sy,relative:ly,exact:uy,exactFromRange:iy,getWin:cy,range:dy},py=Ht().browser,hy=function(e,t){var n=Fn(t)?vg(t).length:Qn(t).length+1;return e>n?n:e<0?0:e},my=function(e){return fy.range(e.start,hy(e.soffset,e.start),e.finish,hy(e.foffset,e.finish))},gy=function(e,t){return!Br(t.dom)&&(Ln(e,t)||In(e,t))},vy=function(e){return function(t){return gy(e,t.start)&&gy(e,t.finish)}},yy=function(e){return!0===e.inline||py.isIE()},by=function(e){return fy.range(vn.fromDom(e.startContainer),e.startOffset,vn.fromDom(e.endContainer),e.endOffset)},xy=function(e){var t=e.getSelection(),n=t&&0!==t.rangeCount?D.from(t.getRangeAt(0)):D.none();return n.map(by)},wy=function(e){var t=qn(e);return xy(t.dom).filter(vy(e))},_y=function(e,t){return D.from(t).filter(vy(e)).map(my)},Cy=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),D.some(t)}catch(_){return D.none()}},Sy=function(e){var t=yy(e)?wy(vn.fromDom(e.getBody())):D.none();e.bookmark=t.isSome()?t:e.bookmark},ky=function(e,t){var n=vn.fromDom(e.getBody()),r=yy(e)?D.from(t):D.none(),o=r.map(by).filter(vy(n));e.bookmark=o.isSome()?o:e.bookmark},Oy=function(e){var t=e.bookmark?e.bookmark:D.none();return t.bind((function(t){return _y(vn.fromDom(e.getBody()),t)})).bind(Cy)},Ty=function(e){Oy(e).each((function(t){return e.selection.setRng(t)}))},My=function(e){var t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")},Dy={isEditorUIElement:My},Iy=function(e){return"nodechange"===e.type&&e.selectionChange},Ey=function(e,t){var n=function(){t.throttle()};Iu.DOM.bind(document,"mouseup",n),e.on("remove",(function(){Iu.DOM.unbind(document,"mouseup",n)}))},Ay=function(e){e.on("focusout",(function(){Sy(e)}))},Ly=function(e,t){e.on("mouseup touchend",(function(e){t.throttle()}))},jy=function(e,t){var n=Ht().browser;n.isIE()?Ay(e):Ly(e,t),e.on("keyup NodeChange",(function(t){Iy(t)||Sy(e)}))},Ny=function(e){var t=tc((function(){Sy(e)}),0);e.on("init",(function(){e.inline&&Ey(e,t),jy(e,t)})),e.on("remove",(function(){t.cancel()}))},Py=Iu.DOM,Ry=function(e){return Dy.isEditorUIElement(e)},By=function(e){var t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},Fy=function(e,t){var n=Qf(e),r=Py.getParent(t,(function(t){return Ry(t)||!!n&&e.dom.is(t,n)}));return null!==r},zy=function(e){try{var t=lr(vn.fromDom(e.getElement()));return Gv(t).fold((function(){return document.body}),(function(e){return e.dom}))}catch(n){return document.body}},Vy=function(e,t){var n=t.editor;Ny(n),n.on("focusin",(function(){var t=this,n=e.focusedEditor;n!==t&&(n&&n.fire("blur",{focusedEditor:t}),e.setActive(t),e.focusedEditor=t,t.fire("focus",{blurredEditor:n}),t.focus(!0))})),n.on("focusout",(function(){var t=this;ci.setEditorTimeout(t,(function(){var n=e.focusedEditor;Fy(t,zy(t))||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),pv||(pv=function(t){var n=e.activeEditor;n&&fr(t).each((function(t){t.ownerDocument===document&&(t===document.body||Fy(n,t)||e.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null))}))},Py.bind(document,"focusin",pv))},Hy=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Py.unbind(document,"focusin",pv),pv=null)},Uy=function(e){e.on("AddEditor",y(Vy,e)),e.on("RemoveEditor",y(Hy,e))},$y=function(e,t){return e.dom.getParent(t,(function(t){return"true"===e.dom.getContentEditable(t)}))},qy=function(e){return e.collapsed?D.from(Xc(e.startContainer,e.startOffset)).map(vn.fromDom):D.none()},Wy=function(e,t){return qy(t).bind((function(t){return Ai(t)?D.some(t):!1===Ln(e,t)?D.some(e):D.none()}))},Gy=function(e,t){Wy(vn.fromDom(e.getBody()),t).bind((function(e){return Fh(e.dom)})).fold((function(){e.selection.normalize()}),(function(t){return e.selection.setRng(t.toRange())}))},Yy=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Ky=function(e){return Wv(e)||Yv(e).isSome()},Xy=function(e){return e.iframeElement&&Wv(vn.fromDom(e.iframeElement))},Jy=function(e){var t=e.getBody();return t&&Ky(vn.fromDom(t))},Zy=function(e){return Gv().filter((function(t){return!By(t.dom)&&Fy(e,t.dom)})).isSome()},Qy=function(e){return e.inline?Jy(e):Xy(e)},eb=function(e){return Qy(e)||Zy(e)},tb=function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===Qy(e)&&Oy(e).each((function(t){e.selection.setRng(t),r=t}));var o=$y(e,t.getNode());if(e.$.contains(n,o))return Yy(o),Gy(e,r),void nb(e);e.inline||(Jt.opera||Yy(n),e.getWin().focus()),(Jt.gecko||e.inline)&&(Yy(n),Gy(e,r)),nb(e)},nb=function(e){return e.editorManager.setActive(e)},rb=function(e,t){e.removed||(t?nb(e):tb(e))},ob=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return D.from(i).map(vn.fromDom).map((function(e){return r&&t.collapsed?e:er(e,o(e,a)).getOr(e)})).bind((function(e){return Bn(e)?D.some(e):Wn(e).filter(Bn)})).map((function(e){return e.dom})).getOr(e)},ib=function(e,t,n){return ob(e,t,!0,n,(function(e,t){return Math.min(rr(e),t)}))},ab=function(e,t,n){return ob(e,t,!1,n,(function(e,t){return t>0?t-1:t}))},sb=function(e,t){var n=e;while(e&&Kr(e)&&0===e.length)e=t?e.nextSibling:e.previousSibling;return e||n},lb=function(e,t){var n,r,o;if(!t)return e;r=t.startContainer,o=t.endContainer;var i=t.startOffset,a=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?sb(r.nextSibling,!0):r.parentNode,o=0===a?sb(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n},ub=function(e,t,n,r){var o,i=[],a=e.getRoot();if(n=e.getParent(n||ib(a,t,t.collapsed),e.isBlock),r=e.getParent(r||ab(a,t,t.collapsed),e.isBlock),n&&n!==a&&i.push(n),n&&r&&n!==r){o=n;var s=new hi(n,a);while((o=s.next())&&o!==r)e.isBlock(o)&&i.push(o)}return r&&n!==r&&r!==a&&i.push(r),i},cb=function(e,t,n){return D.from(t).map((function(t){var r=e.nodeIndex(t),o=e.createRng();return o.setStart(t.parentNode,r),o.setEnd(t.parentNode,r+1),n&&(dg(e,o,t,!0),dg(e,o,t,!1)),o}))},db=function(e,t){return J(t,(function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t}))},fb=function(e){return H(e)?e:C},pb=function(e,t,n){var r=e.dom,o=fb(n);while(r.parentNode){r=r.parentNode;var i=vn.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return D.none()},hb=function(e,t,n){var r=t(e),o=fb(n);return r.orThunk((function(){return o(e)?D.none():pb(e,t,o)}))},mb=Sm,gb=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;return!1},vb=function(e,t,n,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,(function(t){return!!gb(e,t,n)||(t.parentNode===o||!!xb(e,t,n,r,!0))})),xb(e,t,n,r))},yb=function(e,t,n){return!!mb(t,n.inline)||(!!mb(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},bb=function(e,t,n,r,o,i){var a,s,l,u=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(u)if("undefined"===typeof u.length){for(a in u)if(u.hasOwnProperty(a)){if(s="attributes"===r?e.getAttrib(t,a):Om(e,t,a),o&&!s&&!n.exact)return;if((!o||n.exact)&&!mb(s,km(e,Cm(u[a],i),a)))return}}else for(l=0;l<u.length;l++)if("attributes"===r?e.getAttrib(t,u[l]):Om(e,t,u[l]))return n;return n},xb=function(e,t,n,r,o){var i,a,s,l,u=e.formatter.get(n),c=e.dom;if(u&&t)for(a=0;a<u.length;a++)if(i=u[a],yb(e.dom,t,i)&&bb(c,t,i,"attributes",o,r)&&bb(c,t,i,"styles",o,r)){if(l=i.classes)for(s=0;s<l.length;s++)if(!e.dom.hasClass(t,l[s]))return;return i}},wb=function(e,t,n,r){if(r)return vb(e,r,t,n);if(r=e.selection.getNode(),vb(e,r,t,n))return!0;var o=e.selection.getStart();return!(o===r||!vb(e,o,t,n))},_b=function(e,t,n){var r=[],o={},i=e.selection.getStart();return e.dom.getParent(i,(function(i){for(var a=0;a<t.length;a++){var s=t[a];!o[s]&&xb(e,i,s,n)&&(o[s]=!0,r.push(s))}}),e.dom.getRoot()),r},Cb=function(e,t){var n=function(t){return In(t,vn.fromDom(e.getBody()))},r=function(t,n){return xb(e,t.dom,n)?D.some(n):D.none()};return D.from(e.selection.getStart(!0)).bind((function(e){return hb(vn.fromDom(e),(function(e){return ye(t,(function(t){return r(e,t)}))}),n)})).getOrNull()},Sb=function(e,t){var n,r,o,i,a,s=e.formatter.get(t),l=e.dom;if(s)for(n=e.selection.getStart(),r=Mm(l,n),i=s.length-1;i>=0;i--){if(a=s[i].selector,!a||s[i].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(l.is(r[o],a))return!0}return!1},kb=function(e,t,n){return re(n,(function(n,r){var o=Dm(e,r);return e.formatter.matchNode(t,r,{},o)?n.concat([r]):n}),[])},Ob={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Tb=function(e,t,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o],i)return i}},Mb=function(e){if(!wa(e.value))return!1;var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)},Db=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},Ib=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,Ob[t]||1);return n&&we(n,(function(e,t){r.attr(t,e)})),r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r=this;if("string"!==typeof e)return void 0!==e&&null!==e&&we(e,(function(e,t){r.attr(t,e)})),r;if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e];var o=n.length;while(o--)if(n[o].name===e)return n.splice(o,1),r}return r}if(e in n.map){o=n.length;while(o--)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},e.prototype.clone=function(){var t,n=this,r=new e(n.name,n.type);if(t=n.attributes){var o=[];o.map={};for(var i=0,a=t.length;i<a;i++){var s=t[i];"id"!==s.name&&(o[o.length]={name:s.name,value:s.value},o.map[s.name]=s.value)}r.attributes=o}return r.value=n.value,r.shortEnded=n.shortEnded,r},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){for(var e=this,t=e.firstChild;t;){var n=t.next;e.insert(t,e,!0),t=n}e.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t=this;e.parent&&e.remove();var n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},e.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){for(var t=this,n=[],r=t.firstChild;r;r=Tb(r,t))r.name===e&&n.push(r);return n},e.prototype.empty=function(){var e=this;if(e.firstChild){for(var t=[],n=e.firstChild;n;n=Tb(n,e))t.push(n);var r=t.length;while(r--){n=t[r];n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return e.firstChild=e.lastChild=null,e},e.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this,o=r.firstChild;if(Db(r))return!1;if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue;if(e[o.name])return!1;if(Db(o))return!1}if(8===o.type)return!1;if(3===o.type&&!Mb(o))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&wa(o.value))return!1;if(n&&n(o))return!1}while(o=Tb(o,r));return!0},e.prototype.walk=function(e){return Tb(this,null,e)},e}(),Eb=dn.makeMap,Ab=function(e){var t=[];e=e||{};var n=e.indent,r=Eb(e.indent_before||""),o=Eb(e.indent_after||""),i=ns.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"===e.element_format;return{start:function(e,s,l){var u,c,d,f;if(n&&r[e]&&t.length>0&&(f=t[t.length-1],f.length>0&&"\n"!==f&&t.push("\n")),t.push("<",e),s)for(u=0,c=s.length;u<c;u++)d=s[u],t.push(" ",d.name,'="',i(d.value,!0),'"');t[t.length]=!l||a?">":" />",l&&n&&o[e]&&t.length>0&&(f=t[t.length-1],f.length>0&&"\n"!==f&&t.push("\n"))},end:function(e){var r;t.push("</",e,">"),n&&o[e]&&t.length>0&&(r=t[t.length-1],r.length>0&&"\n"!==r&&t.push("\n"))},text:function(e,n){e.length>0&&(t[t.length]=n?e:i(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,r){r?t.push("<?",e," ",i(r),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},Lb=function(e,t){void 0===t&&(t=ps());var n=Ab(e);e=e||{},e.validate=!("validate"in e)||e.validate;var r=function(r){var o=e.validate,i={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}};n.reset();var a=function(e){var r,s,l,u,c,d,f,p,h,m=i[e.type];if(m)m(e);else{if(r=e.name,s=e.shortEnded,l=e.attributes,o&&l&&l.length>1&&(d=[],d.map={},h=t.getElementRule(e.name),h)){for(f=0,p=h.attributesOrder.length;f<p;f++)u=h.attributesOrder[f],u in l.map&&(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));for(f=0,p=l.length;f<p;f++)u=l[f].name,u in d.map||(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));l=d}if(n.start(e.name,l,s),!s){if(e=e.firstChild)do{a(e)}while(e=e.next);n.end(r)}}};return 1!==r.type||e.inner?i[11](r):a(r),n.getContent()};return{serialize:r}},jb=function(e){var t,n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,r=[],o={},i=Tc("img"),a=0,s=0;while(t=n.exec(e)){var l=t[0],u=i+"_"+s++;o[u]=l,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(u),a=t.index+l.length}return 0===a?{prefix:i,uris:o,html:e}:(a<e.length&&r.push(e.substr(a)),{prefix:i,uris:o,html:r.join("")})},Nb=function(e,t){return e.replace(new RegExp(t.prefix+"_[0-9]+","g"),(function(e){return Ie(t.uris,e).getOr(e)}))},Pb=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?D.some({type:t[1],data:decodeURIComponent(t[2])}):D.none()},Rb=["img","video"],Bb=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},Fb=function(e,t){var n=z(e)?K(Rb,t):e;return!n},zb=function(e,t,n){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?Fb(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},Vb=function(e,t,n){var r,o,i=1,a=e.getShortEndedElements(),s=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;s.lastIndex=r=n;while(o=s.exec(t)){if(r=s.lastIndex,"/"===o[1])i--;else if(!o[1]){if(o[2]in a)continue;i++}if(0===i)break}return r},Hb=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},Ub=function(e,t,n){void 0===n&&(n=0);var r=e.toLowerCase();if(-1!==r.indexOf("[if ",n)&&Hb(r,n)){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(t){var i=r.indexOf(">",n);return-1!==i?i:r.length}var a=/--!?>/;a.lastIndex=n;var s=a.exec(e);return s?s.index+s[0].length:r.length},$b=function(e,t){var n=e.exec(t);if(n){var r=n[1],o=n[2];return"string"===typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null};function qb(e,t){void 0===t&&(t=ps());var n=function(){};e=e||{},!1!==e.fix_self_closing&&(e.fix_self_closing=!0);var r=e.comment?e.comment:n,o=e.cdata?e.cdata:n,i=e.text?e.text:n,a=e.start?e.start:n,s=e.end?e.end:n,l=e.pi?e.pi:n,u=e.doctype?e.doctype:n,c=function(n,c){void 0===c&&(c="html");var d,f,p,h,m,g,v,y,b,x,w,_,C,S,k,O,T,M,D,I,E=n.html,A=0,L=[],j=0,N=ns.decode,P=dn.makeMap("src,href,data,background,formaction,poster,xlink:href"),R=/((java|vb)script|mhtml):/i,B="html"===c?0:1,F=function(e){var t,n;t=L.length;while(t--)if(L[t].name===e)break;if(t>=0){for(n=L.length-1;n>=t;n--)e=L[n],e.valid&&s(e.name);L.length=t}},z=function(e,t){return i(Nb(e,n),t)},V=function(t){""!==t&&(">"===t.charAt(0)&&(t=" "+t),e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),r(Nb(t,n)))},H=function(e){return Ie(n.uris,e).getOr(e)},U=function(e,t){var n=e||"",r=!lt(n,"--"),o=Ub(E,r,t);return e=E.substr(t,o-t),V(r?n+e:e),o+1},$=function(t,n,r,o,i){var a,s,l=/[\s\u0000-\u001F]+/g;if(n=n.toLowerCase(),r=H(n in K?n:N(r||o||i||"")),X&&!y&&!1===Bb(n)){if(a=S[n],!a&&k){s=k.length;while(s--)if(a=k[s],a.pattern.test(n))break;-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(P[n]&&!e.allow_script_urls){var u=r.replace(l,"");try{u=decodeURIComponent(u)}catch(c){u=unescape(u)}if(R.test(u))return;if(zb(e,u,t))return}y&&(n in P||0===n.indexOf("on"))||(h.map[n]=r,h.push({name:n,value:r}))},q=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),W=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,G=t.getShortEndedElements(),Y=e.self_closing_elements||t.getSelfClosingElements(),K=t.getBoolAttrs(),X=e.validate,J=e.remove_internals,Z=e.fix_self_closing,Q=t.getSpecialElements(),ee=E+">";while(d=q.exec(ee)){var te=d[0];if(A<d.index&&z(N(E.substr(A,d.index-A))),f=d[7])f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),F(f);else if(f=d[8]){if(d.index+te.length>E.length){z(N(E.substr(d.index))),A=d.index+te.length;continue}f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),b=f in G,Z&&Y[f]&&L.length>0&&L[L.length-1].name===f&&F(f);var ne=$b(W,d[9]);if(null!==ne){if("all"===ne){A=Vb(t,E,q.lastIndex),q.lastIndex=A;continue}w=!1}if(!X||(x=t.getElementRule(f))){if(w=!0,X&&(S=x.attributes,k=x.attributePatterns),(C=d[9])?(y=-1!==C.indexOf("data-mce-type"),y&&J&&(w=!1),h=[],h.map={},C.replace(W,(function(e,t,n,r,o){return $(f,t,n,r,o),""}))):(h=[],h.map={}),X&&!y){if(O=x.attributesRequired,T=x.attributesDefault,M=x.attributesForced,D=x.removeEmptyAttrs,D&&!h.length&&(w=!1),M){m=M.length;while(m--)_=M[m],v=_.name,I=_.value,"{$uid}"===I&&(I="mce_"+j++),h.map[v]=I,h.push({name:v,value:I})}if(T){m=T.length;while(m--)_=T[m],v=_.name,v in h.map||(I=_.value,"{$uid}"===I&&(I="mce_"+j++),h.map[v]=I,h.push({name:v,value:I}))}if(O){m=O.length;while(m--)if(O[m]in h.map)break;-1===m&&(w=!1)}if(_=h.map["data-mce-bogus"]){if("all"===_){A=Vb(t,E,q.lastIndex),q.lastIndex=A;continue}w=!1}}w&&a(f,h,b)}else w=!1;if(p=Q[f]){p.lastIndex=A=d.index+te.length,(d=p.exec(E))?(w&&(g=E.substr(A,d.index-A)),A=d.index+d[0].length):(g=E.substr(A),A=E.length),w&&(g.length>0&&z(g,!0),s(f)),q.lastIndex=A;continue}b||(C&&C.indexOf("/")===C.length-1?w&&s(f):L.push({name:f,valid:w}))}else if(f=d[1])V(f);else if(f=d[2]){var re=1===B||e.preserve_cdata||L.length>0&&t.isValidChild(L[L.length-1].name,"#cdata");if(!re){A=U("",d.index+2),q.lastIndex=A;continue}o(f)}else if(f=d[3])u(f);else{if((f=d[4])||"<!"===te){A=U(f,d.index+te.length),q.lastIndex=A;continue}if(f=d[5]){if(1!==B){A=U("?",d.index+2),q.lastIndex=A;continue}l(f,d[6])}}A=d.index+te.length}for(A<E.length&&z(N(E.substr(A))),m=L.length-1;m>=0;m--)f=L[m],f.valid&&s(f.name)},d=function(e,t){void 0===t&&(t="html"),c(jb(e),t)};return{parse:d}}(function(e){e.findEndTag=Vb})(qb||(qb={}));var Wb=qb,Gb=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},Yb=function(e,t){var n,r,o,i,a=t,s=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,l=e.schema;a=Gb(e.getTempAttrs(),a);var u=l.getShortEndedElements();while(i=s.exec(a))r=s.lastIndex,o=i[0].length,n=u[i[1]]?r:Wb.findEndTag(l,a,r),a=a.substring(0,r-o)+a.substring(n),s.lastIndex=r-o;return Hi(a)},Kb=Yb,Xb=function(e,t){var n=mf(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")},Jb=function(e,t,n,r){var o;return t.format=n,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),o="raw"===t.format?dn.trim(Kb(e.serializer,r.innerHTML)):"text"===t.format?e.dom.isEmpty(r)?"":Hi(r.innerText||r.textContent):"tree"===t.format?e.serializer.serialize(r,t):Xb(e,e.serializer.serialize(r,t)),K(["text","tree"],t.format)||ji(vn.fromDom(r))?t.content=o:t.content=dn.trim(o),t.no_events||e.fire("GetContent",t),t.content},Zb=function(e,t,n){return D.from(e.getBody()).fold(g("tree"===t.format?new Ib("body",11):""),(function(r){return Jb(e,t,n,r)}))},Qb=dn.each,ex=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return Qb(e.getAttribs(t),(function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))})),n},o=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(n=t[r],"undefined"===typeof n)return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!!o(r(t),r(n))&&(!!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!cm(t)&&!cm(n)))}},tx=function(e,t,n){return D.from(n.container()).filter(Kr).exists((function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))}))},nx=y(tx,!0,pm),rx=y(tx,!1,pm),ox=function(e){var t=e.container();return Kr(t)&&(0===t.data.length||Vi(t.data)&&Og.isBookmarkNode(t.parentNode))},ix=function(e,t){return function(n){return D.from(eh(e?0:-1,n)).filter(t).isSome()}},ax=function(e){return eo(e)&&"block"===vo(vn.fromDom(e),"display")},sx=function(e){return no(e)&&!qr(e)},lx=ix(!0,ax),ux=ix(!1,ax),cx=ix(!0,oo),dx=ix(!1,oo),fx=ix(!0,Wr),px=ix(!1,Wr),hx=ix(!0,sx),mx=ix(!1,sx),gx=function(e){var t=[],n=e.dom;while(n)t.push(vn.fromDom(n)),n=n.lastChild;return t},vx=function(e){var t=mc(e,"br"),n=te(gx(e).slice(-1),Mi);t.length===n.length&&Z(n,_r)},yx=function(e){wr(e),vr(e,vn.fromHtml('<br data-mce-bogus="1">'))},bx=function(e){nr(e).each((function(t){Kn(t).each((function(n){ki(e)&&Mi(t)&&ki(n)&&_r(t)}))}))},xx=function(e){return e.slice(0,-1)},wx=function(e,t,n){return Ln(t,e)?xx(Gn(e,(function(e){return n(e)||In(e,t)}))):[]},_x=function(e,t){return wx(e,t,C)},Cx=function(e,t){return[e].concat(_x(e,t))},Sx=function(e,t,n){return Nh(e,t,n,ox)},kx=function(e,t){return ie(Cx(vn.fromDom(t.container()),e),ki)},Ox=function(e,t,n){return Sx(e,t.dom,n).forall((function(e){return kx(t,n).fold((function(){return!1===Qp(e,n,t.dom)}),(function(r){return!1===Qp(e,n,t.dom)&&Ln(r,vn.fromDom(e.container()))}))}))},Tx=function(e,t,n){return kx(t,n).fold((function(){return Sx(e,t.dom,n).forall((function(e){return!1===Qp(e,n,t.dom)}))}),(function(t){return Sx(e,t.dom,n).isNone()}))},Mx=y(Tx,!1),Dx=y(Tx,!0),Ix=y(Ox,!1),Ex=y(Ox,!0),Ax=function(e){return uh(e).exists(Mi)},Lx=function(e,t,n){var r=te(Cx(vn.fromDom(n.container()),t),ki),o=me(r).getOr(t);return Lh(e,o.dom,n).filter(Ax)},jx=function(e,t){return uh(t).exists(Mi)||Lx(!0,e,t).isSome()},Nx=function(e,t){return ch(t).exists(Mi)||Lx(!1,e,t).isSome()},Px=y(Lx,!1),Rx=y(Lx,!0),Bx=function(e){return wd.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},Fx=function(e,t){var n=te(Cx(vn.fromDom(t.container()),e),ki);return me(n).getOr(e)},zx=function(e,t){return Bx(t)?rx(t):rx(t)||Bh(Fx(e,t).dom,t).exists(rx)},Vx=function(e,t){return Bx(t)?nx(t):nx(t)||Rh(Fx(e,t).dom,t).exists(nx)},Hx=function(e){return K(["pre","pre-wrap"],e)},Ux=function(e){return uh(e).bind((function(e){return Xo(e,Bn)})).exists((function(e){return Hx(vo(e,"white-space"))}))},$x=function(e,t){return Bh(e.dom,t).isNone()},qx=function(e,t){return Rh(e.dom,t).isNone()},Wx=function(e,t){return $x(e,t)||qx(e,t)||Mx(e,t)||Dx(e,t)||Nx(e,t)||jx(e,t)},Gx=function(e,t){return!Ux(t)&&(Wx(e,t)||zx(e,t)||Vx(e,t))},Yx=function(e,t){return!Ux(t)&&(Mx(e,t)||Ix(e,t)||Nx(e,t)||zx(e,t))},Kx=function(e){var t=e.container(),n=e.offset();return Kr(t)&&n<t.data.length?wd(t,n+1):e},Xx=function(e,t){return!Ux(t)&&(Dx(e,t)||Ex(e,t)||jx(e,t)||Vx(e,t))},Jx=function(e,t){return Yx(e,t)||Xx(e,Kx(t))},Zx=function(e,t){return fm(e.charAt(t))},Qx=function(e){var t=e.container();return Kr(t)&&st(t.data,Ri)},ew=function(e){var t=e.split("");return J(t,(function(e,n){return fm(e)&&n>0&&n<t.length-1&&hm(t[n-1])&&hm(t[n+1])?" ":e})).join("")},tw=function(e,t){var n=t.data,r=wd(t,0);return!(!Zx(n,0)||Jx(e,r))&&(t.data=" "+n.slice(1),!0)},nw=function(e){var t=e.data,n=ew(t);return n!==t&&(e.data=n,!0)},rw=function(e,t){var n=t.data,r=wd(t,n.length-1);return!(!Zx(n,n.length-1)||Jx(e,r))&&(t.data=n.slice(0,-1)+" ",!0)},ow=function(e,t){return D.some(t).filter(Qx).bind((function(t){var n=t.container(),r=tw(e,n)||nw(n)||rw(e,n);return r?D.some(t):D.none()}))},iw=function(e){var t=vn.fromDom(e.getBody());e.selection.isCollapsed()&&ow(t,wd.fromRangeStart(e.selection.getRng())).each((function(t){e.selection.setRng(t.toRange())}))},aw=function(e,t,n){var r=re(e,(function(r,o){return pm(o)||fm(o)?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:r.str+Ri}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}}),{previousCharIsSpace:!1,str:""});return r.str},sw=function(e,t,n){if(0!==n){var r=vn.fromDom(e),o=Ko(r,ki).getOr(r),i=e.data.slice(t,t+n),a=t+n>=e.data.length&&Xx(o,Cd(e,e.data.length)),s=0===t&&Yx(o,Cd(e,0));e.replaceData(t,n,aw(i,s,a))}},lw=function(e,t){var n=e.data.slice(t),r=n.length-dt(n).length;return sw(e,t,r)},uw=function(e,t){var n=e.data.slice(0,t),r=n.length-ft(n).length;return sw(e,t-r,r)},cw=function(e,t,n,r){void 0===r&&(r=!0);var o=ft(e.data).length,i=r?e:t,a=r?t:e;return r?i.appendData(a.data):i.insertData(0,a.data),_r(vn.fromDom(a)),n&&lw(i,o),i},dw=function(e,t){var n=e.container(),r=e.offset();return!1===Cd.isTextPosition(e)&&n===t.parentNode&&r>Cd.before(t).offset()},fw=function(e,t){return dw(t,e)?Cd(t.container(),t.offset()-1):t},pw=function(e){return Kr(e)?Cd(e,0):Cd.before(e)},hw=function(e){return Kr(e)?Cd(e,e.data.length):Cd.after(e)},mw=function(e){return pa(e.previousSibling)?D.some(hw(e.previousSibling)):e.previousSibling?zh(e.previousSibling):D.none()},gw=function(e){return pa(e.nextSibling)?D.some(pw(e.nextSibling)):e.nextSibling?Fh(e.nextSibling):D.none()},vw=function(e,t){var n=Cd.before(t.previousSibling?t.previousSibling:t.parentNode);return Bh(e,n).fold((function(){return Rh(e,Cd.after(t))}),D.some)},yw=function(e,t){return Rh(e,Cd.after(t)).fold((function(){return Bh(e,Cd.before(t))}),D.some)},bw=function(e,t){return mw(t).orThunk((function(){return gw(t)})).orThunk((function(){return vw(e,t)}))},xw=function(e,t){return gw(t).orThunk((function(){return mw(t)})).orThunk((function(){return yw(e,t)}))},ww=function(e,t,n){return e?xw(t,n):bw(t,n)},_w=function(e,t,n){return ww(e,t,n).map(y(fw,n))},Cw=function(e,t,n){n.fold((function(){e.focus()}),(function(n){e.selection.setRng(n.toRange(),t)}))},Sw=function(e){return function(t){return t.dom===e}},kw=function(e,t){return t&&Ee(e.schema.getBlockElements(),jn(t))},Ow=function(e){if(Ia(e)){var t=vn.fromHtml('<br data-mce-bogus="1">');return wr(e),vr(e,t),D.some(Cd.before(t.dom))}return D.none()},Tw=function(e,t,n){var r=Kn(e).filter(Fn),o=Xn(e).filter(Fn);return _r(e),Fc(r,o,t,(function(e,t,r){var o=e.dom,i=t.dom,a=o.data.length;return cw(o,i,n),r.container()===i?Cd(o,a):r})).orThunk((function(){return n&&(r.each((function(e){return uw(e.dom,e.dom.length)})),o.each((function(e){return lw(e.dom,0)}))),t}))},Mw=function(e,t){return Ee(e.schema.getTextInlineElements(),jn(t))},Dw=function(e,t,n,r){void 0===r&&(r=!0);var o=_w(t,e.getBody(),n.dom),i=Ko(n,y(kw,e),Sw(e.getBody())),a=Tw(n,o,Mw(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(Ow).fold((function(){r&&Cw(e,t,a)}),(function(n){r&&Cw(e,t,D.some(n))}))},Iw=function(e,t){return{start:e,end:t}},Ew=function(e,t,n){return{rng:e,table:t,cells:n}},Aw=qo.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),Lw=function(e){return function(t){return In(e,t)}},jw=function(e,t){return ti(vn.fromDom(e),"td,th",t)},Nw=function(e,t){return Qo(e,"table",t)},Pw=function(e){return!In(e.start,e.end)},Rw=function(e,t){return Nw(e.start,t).bind((function(n){return Nw(e.end,t).bind((function(e){return zc(In(n,e),n)}))}))},Bw=function(e,t){return!Pw(e)&&Rw(e,t).exists((function(e){var t=e.dom.rows;return 1===t.length&&1===t[0].cells.length}))},Fw=function(e){return mc(e,"td,th")},zw=function(e,t){var n=jw(e.startContainer,t),r=jw(e.endContainer,t);return Bc(n,r,Iw)},Vw=function(e,t){return Nw(e.start,t).bind((function(t){return ge(Fw(t)).map((function(t){return Iw(e.start,t)}))}))},Hw=function(e,t){var n=jw(t.startContainer,e),r=jw(t.endContainer,e);return t.collapsed?D.none():Bc(n,r,Iw).fold((function(){return n.fold((function(){return r.bind((function(t){return Nw(t,e).bind((function(e){return me(Fw(e)).map((function(e){return Iw(e,t)}))}))}))}),(function(t){return Nw(t,e).bind((function(e){return ge(Fw(e)).map((function(e){return Iw(t,e)}))}))}))}),(function(t){return Uw(e,t)?D.none():Vw(t,e)}))},Uw=function(e,t){return Rw(t,e).isSome()},$w=function(e,t){return Rw(e,t).map((function(t){return Ew(e,t,Fw(t))}))},qw=function(e,t,n){return e.filter((function(e){return Pw(e)&&Uw(n,e)})).orThunk((function(){return Hw(n,t)})).bind((function(e){return $w(e,n)}))},Ww=function(e,t){return ae(e,(function(e){return In(e,t)}))},Gw=function(e){return Bc(Ww(e.cells,e.rng.start),Ww(e.cells,e.rng.end),(function(t,n){return e.cells.slice(t,n+1)}))},Yw=function(e,t,n){return e.filter((function(e){return Bw(e,n)&&cg(e.start,t)})).map((function(e){return e.start}))},Kw=function(e){return Gw(e).map((function(t){var n=e.cells;return t.length===n.length?Aw.removeTable(e.table):Aw.emptyCells(t)}))},Xw=function(e,t){var n=Lw(e),r=zw(t,n);return Yw(r,t,n).map((function(e){return Aw.deleteCellSelection(t,e)})).orThunk((function(){return qw(r,t,n).bind(Kw)}))},Jw=function(e){var t=Rn(e)?Kn(e):nr(e);return t.bind(Jw).orThunk((function(){return D.some(e)}))},Zw=function(e,t){return Z(t,yx),e.selection.setCursorLocation(t[0].dom,0),!0},Qw=function(e,t,n){t.deleteContents();var r=Jw(n).getOr(n),o=vn.fromDom(e.dom.getParent(r.dom,e.dom.isBlock));if(Ia(o)&&(yx(o),e.selection.setCursorLocation(o.dom,0)),!In(n,o)){var i=Wn(o).is(n)?[]:Yn(o);Z(i.concat(Qn(n)),(function(e){In(e,o)||Ln(e,o)||_r(e)}))}return!0},e_=function(e,t){return Dw(e,!1,t),!0},t_=function(e,t,n){return Xw(t,n).map((function(t){return t.fold(y(e_,e),y(Zw,e),y(Qw,e))}))},n_=function(e,t){return l_(e,t)},r_=function(e,t,n,r){return a_(t,r).fold((function(){return t_(e,t,n)}),(function(t){return n_(e,t)})).getOr(!1)},o_=function(e,t){var n=vn.fromDom(e.getBody()),r=e.selection.getRng(),o=ig(e);return 0!==o.length?Zw(e,o):r_(e,n,r,t)},i_=function(e,t){return ie(Cx(t,e),Li)},a_=function(e,t){return ie(Cx(t,e),(function(e){return"caption"===jn(e)}))},s_=function(e,t,n,r,o){return jh(n,e.getBody(),o).bind((function(e){return i_(t,vn.fromDom(e.getNode())).map((function(e){return!1===In(e,r)}))}))},l_=function(e,t){return yx(t),e.selection.setCursorLocation(t.dom,0),D.some(!0)},u_=function(e,t,n,r){return Fh(e.dom).bind((function(o){return zh(e.dom).map((function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)}))})).getOr(!0)},c_=function(e,t){return l_(e,t)},d_=function(e,t,n){return a_(e,vn.fromDom(n.getNode())).map((function(e){return!1===In(e,t)}))},f_=function(e,t,n,r,o){return jh(n,e.getBody(),o).bind((function(i){return u_(r,n,o,i)?c_(e,r):d_(t,r,i)})).or(D.some(!0))},p_=function(e,t,n,r){var o=Cd.fromRangeStart(e.selection.getRng());return i_(n,r).bind((function(r){return Ia(r)?l_(e,r):s_(e,n,t,r,o)})).getOr(!1)},h_=function(e,t,n,r){var o=Cd.fromRangeStart(e.selection.getRng());return Ia(r)?l_(e,r):f_(e,n,t,r,o)},m_=function(e,t){return e?fx(t):px(t)},g_=function(e,t){var n=Cd.fromRangeStart(e.selection.getRng());return m_(t,n)||Lh(t,e.getBody(),n).exists((function(e){return m_(t,e)}))},v_=function(e,t,n){var r=vn.fromDom(e.getBody());return a_(r,n).fold((function(){return p_(e,t,r,n)||g_(e,t)}),(function(n){return h_(e,t,r,n).getOr(!1)}))},y_=function(e,t){var n=vn.fromDom(e.selection.getStart(!0)),r=ig(e);return e.selection.isCollapsed()&&0===r.length?v_(e,t,n):o_(e,n)},b_=function(e,t,n,r){var o=document.createRange();return o.setStart(e,t),o.setEnd(n,r),o},x_=function(e){var t=Cd.fromRangeStart(e),n=Cd.fromRangeEnd(e),r=e.commonAncestorContainer;return Lh(!1,r,n).map((function(o){return!Qp(t,n,r)&&Qp(t,o,r)?b_(t.container(),t.offset(),o.container(),o.offset()):e})).getOr(e)},w_=function(e){return e.collapsed?e:x_(e)},__=function(e){return e.firstChild&&e.firstChild===e.lastChild},C_=function(e){return"br"===e.name||e.value===Ri},S_=function(e,t){var n=e.getBlockElements();return n[t.name]&&__(t)&&C_(t.firstChild)},k_=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||S_(e,t))},O_=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),k_(e,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},T_=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},M_=function(e,t,n){var r=t.serialize(n),o=e.createFragment(r);return T_(o)},D_=function(e){return dn.grep(e.childNodes,(function(e){return"LI"===e.nodeName}))},I_=function(e){return e.data===Ri||Qr(e)},E_=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&I_(e.firstChild)},A_=function(e){return!e.firstChild||E_(e)},L_=function(e){return e.length>0&&A_(e[e.length-1])?e.slice(0,-1):e},j_=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},N_=function(e,t){return!!j_(e,t)},P_=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},R_=function(e,t){var n=Cd.before(e),r=kh(t),o=r.next(n);return o?o.toRange():null},B_=function(e,t){var n=Cd.after(e),r=kh(t),o=r.prev(n);return o?o.toRange():null},F_=function(e,t,n,r){var o=P_(e,r),i=e.parentNode;return i.insertBefore(o[0],e),dn.each(t,(function(t){i.insertBefore(t,e)})),i.insertBefore(o[1],e),i.removeChild(e),B_(t[t.length-1],n)},z_=function(e,t,n){var r=e.parentNode;return dn.each(t,(function(t){r.insertBefore(t,e)})),R_(e,n)},V_=function(e,t,n,r){return r.insertAfter(t.reverse(),e),B_(t[0],n)},H_=function(e,t,n,r){var o=M_(t,e,r),i=j_(t,n.startContainer),a=L_(D_(o.firstChild)),s=1,l=2,u=t.getRoot(),c=function(e){var r=Cd.fromRangeStart(n),o=kh(t.getRoot()),a=e===s?o.prev(r):o.next(r);return!a||j_(t,a.getNode())!==i};return c(s)?z_(i,a,u):c(l)?V_(i,a,u,t):F_(i,a,u,n)},U_=function(e,t,n){var r=vn.fromDom(e.getRoot());return n=Yx(r,Cd.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),n=Xx(r,Cd.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},$_=ro,q_=function(e,t,n){if(null!==n){var r=e.getParent(t.endContainer,$_);return n===r&&cg(vn.fromDom(n),t)}return!1},W_=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}},G_=function(e,t){D.from(e.getParent(t,"td,th")).map(vn.fromDom).each(bx)},Y_=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var o=e.getBody(),i=new ex(r);dn.each(r.select("*[data-mce-fragment]"),(function(e){for(var t=e.parentNode;t&&t!==o;t=t.parentNode)n[e.nodeName.toLowerCase()]&&i.compare(t,e)&&r.remove(e,!0)}))}},K_=function(e){var t=e;while(t=t.walk())1===t.type&&t.attr("data-mce-fragment","1")},X_=function(e){dn.each(e.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")}))},J_=function(e){return!!e.getAttribute("data-mce-fragment")},Z_=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},Q_=function(e,t){var n,r,o=e.dom,i=e.selection,a=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===o.getContentEditable(t))return t;return null};if(t){i.scrollIntoView(t);var s=a(t);if(s)return o.remove(t),void i.select(s);var l=o.createRng(),u=t.previousSibling;u&&3===u.nodeType?(l.setStart(u,u.nodeValue.length),Jt.ie||(r=t.nextSibling,r&&3===r.nodeType&&(u.appendData(r.data),r.parentNode.removeChild(r)))):(l.setStartBefore(t),l.setEndBefore(t));var c=function(t){var n=Cd.fromRangeStart(t),r=kh(e.getBody());if(n=r.next(n),n)return n.toRange()},d=o.getParent(t,o.isBlock);o.remove(t),d&&o.isEmpty(d)&&(e.$(d).empty(),l.setStart(d,0),l.setEnd(d,0),$_(d)||J_(d)||!(n=c(l))?o.add(d,o.create("br",{"data-mce-bogus":"1"})):(l=n,o.remove(d))),i.setRng(l)}},eC=function(e){var t=e.dom,n=w_(e.selection.getRng());e.selection.setRng(n);var r=t.getParent(n.startContainer,$_);q_(t,n,r)?Qw(e,n,vn.fromDom(r)):e.getDoc().execCommand("Delete",!1,null)},tC=function(e,t,n){var r,o,i,a,s,l,u=e.selection,c=e.dom;/^ | $/.test(t)&&(t=U_(c,u.getRng(),t));var d=e.parser,f=n.merge,p=Lb({validate:Yf(e)},e.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(i={content:t,format:"html",selection:!0,paste:n.paste},i=e.fire("BeforeSetContent",i),i.isDefaultPrevented())e.fire("SetContent",{content:i.content,format:"html",selection:!0,paste:n.paste});else{t=i.content,-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,h),s=u.getRng();var m=s.startContainer||(s.parentElement?s.parentElement():null),g=e.getBody();m===g&&u.isCollapsed()&&c.isBlock(g.firstChild)&&Z_(e,g.firstChild)&&c.isEmpty(g.firstChild)&&(s=c.createRng(),s.setStart(g.firstChild,0),s.setEnd(g.firstChild,0),u.setRng(s)),u.isCollapsed()||eC(e),r=u.getNode();var v={context:r.nodeName.toLowerCase(),data:n.data,insert:!0},y=d.parse(t,v);if(!0===n.paste&&O_(e.schema,y)&&N_(c,r))return s=H_(p,c,u.getRng(),y),u.setRng(s),void e.fire("SetContent",i);if(K_(y),l=y.lastChild,"mce_marker"===l.attr("id"))for(a=l,l=l.prev;l;l=l.walk(!0))if(3===l.type||!c.isBlock(l.name)){e.schema.isValidChild(l.parent.name,"span")&&l.parent.insert(a,l,"br"===l.name);break}if(e._selectionOverrides.showBlockCaretContainer(r),v.invalid){e.selection.setContent(h),r=u.getNode(),o=e.getBody(),9===r.nodeType?r=l=o:l=r;while(l!==o)r=l,l=l.parentNode;t=r===o?o.innerHTML:c.getOuterHTML(r),t=p.serialize(d.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return p.serialize(y)})))),r===o?c.setHTML(o,t):c.setOuterHTML(r,t)}else t=p.serialize(y),W_(e,t,r);Y_(e,f),Q_(e,c.get("mce_marker")),X_(e.getBody()),G_(c,u.getStart()),e.fire("SetContent",i),e.addVisual()}},nC=function(e,t){t(e),e.firstChild&&nC(e.firstChild,t),e.next&&nC(e.next,t)},rC=function(e,t,n){var r={},o={},i=[];for(var a in n.firstChild&&nC(n.firstChild,(function(n){Z(e,(function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})})),Z(t,(function(e){"string"===typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})}))})),r)r.hasOwnProperty(a)&&i.push(r[a]);for(var s in o)o.hasOwnProperty(s)&&i.push(o[s]);return i},oC=function(e,t,n){var r=rC(e,t,n);Z(r,(function(e){Z(e.filter.callbacks,(function(t){t(e.nodes,e.filter.name,{})}))}))},iC="html",aC=function(e){return e instanceof Ib},sC=function(e){Qy(e)&&Fh(e.getBody()).each((function(t){var n=t.getNode(),r=Wr(n)?Fh(n).getOr(t):t;e.selection.setRng(r.toRange())}))},lC=function(e,t){e.dom.setHTML(e.getBody(),t),sC(e)},uC=function(e,t,n,r){var o,i;return 0===n.length||/^\s+$/.test(n)?(i='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>"),o=mf(e),o&&e.schema.isValidChild(t.nodeName.toLowerCase(),o.toLowerCase())?(n=i,n=e.dom.createHTML(o,gf(e),n)):n||(n='<br data-mce-bogus="1">'),lC(e,n),e.fire("SetContent",r)):("raw"!==r.format&&(n=Lb({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=ji(vn.fromDom(t))?n:dn.trim(n),lC(e,r.content),r.no_events||e.fire("SetContent",r)),r.content},cC=function(e,t,n,r){oC(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=Lb({validate:e.validate},e.schema).serialize(n);return r.content=ji(vn.fromDom(t))?o:dn.trim(o),lC(e,r.content),r.no_events||e.fire("SetContent",r),n},dC=function(e,t,n){return n.format=n.format?n.format:iC,n.set=!0,n.content=aC(t)?"":t,n.no_events||e.fire("BeforeSetContent",n),aC(t)||(t=n.content),D.from(e.getBody()).fold(g(t),(function(r){return aC(t)?cC(e,r,t,n):uC(e,r,t,n)}))},fC=function(e,t){var n=e.dom,r=V(t)?t:e.getBody();F(e.hasVisual)&&(e.hasVisual=mp(e)),Z(n.select("table,a",r),(function(t){switch(t.nodeName){case"TABLE":var r=gp(e),o=n.getAttrib(t,"border");o&&"0"!==o||!e.hasVisual?n.removeClass(t,r):n.addClass(t,r);break;case"A":if(!n.getAttrib(t,"href")){var i=n.getAttrib(t,"name")||t.id,a=vp(e);i&&e.hasVisual?n.addClass(t,a):n.removeClass(t,a)}break}})),e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})},pC=function(e,t){return Jo(e,t).isSome()},hC=zi,mC="_mce_caret",gC=function(e,t){return e.importNode(t,!0)},vC=function(e){var t=[];while(e){if(3===e.nodeType&&e.nodeValue!==hC||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},yC=function(e){return vC(e).length>0},bC=function(e){if(e){var t=new hi(e,e);for(e=t.current();e;e=t.next())if(Kr(e))return e}return null},xC=function(e){var t=vn.fromTag("span");return lo(t,{id:mC,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&vr(t,vn.fromText(hC)),t},wC=function(e){var t=bC(e);return t&&t.nodeValue.charAt(0)===hC&&t.deleteData(0,1),t},_C=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(yC(t))Dw(e,!1,vn.fromDom(t),n);else{var i=o.getRng(),a=r.getParent(t,r.isBlock),s=i.startContainer,l=i.startOffset,u=i.endContainer,c=i.endOffset,d=wC(t);r.remove(t,!0),s===d&&l>0&&i.setStart(d,l-1),u===d&&c>0&&i.setEnd(d,c-1),a&&r.isEmpty(a)&&yx(vn.fromDom(a)),o.setRng(i)}},CC=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)_C(e,t,n);else if(t=Uh(e.getBody(),o.getStart()),!t)while(t=r.get(mC))_C(e,t,!1)},SC=function(e,t,n){var r=e.dom,o=r.getParent(n,y(bm,e));o&&r.isEmpty(o)?n.parentNode.replaceChild(t,n):(vx(vn.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},kC=function(e,t){return e.appendChild(t),t},OC=function(e,t){var n=ne(e,(function(e,t){return kC(e,t.cloneNode(!1))}),t);return kC(n,n.ownerDocument.createTextNode(hC))},TC=function(e,t,n,r,o,i){var a=e.formatter,s=e.dom,l=te(be(a.get()),(function(e){return e!==r&&!st(e,"removeformat")})),u=kb(e,n,l),c=te(u,(function(t){return!Im(e,t,r)}));if(c.length>0){var d=n.cloneNode(!1);return s.add(t,d),a.remove(r,o,d,i),s.remove(d),D.some(d)}return D.none()},MC=function(e,t,n){var r,o,i=e.selection,a=i.getRng(),s=a.startOffset,l=a.startContainer,u=l.nodeValue;r=Uh(e.getBody(),i.getStart()),r&&(o=bC(r));var c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(u&&s>0&&s<u.length&&c.test(u.charAt(s))&&c.test(u.charAt(s-1))){var d=i.getBookmark();a.collapse(!0);var f=Km(e,a,e.formatter.get(t));f=uv(f),e.formatter.apply(t,n,f),i.moveToBookmark(d)}else r&&o.nodeValue===hC||(r=gC(e.getDoc(),xC(!0).dom),o=r.firstChild,a.insertNode(r),s=1),e.formatter.apply(t,n,r),i.setCursorLocation(o,s)},DC=function(e,t,n,r){var o,i,a,s=e.dom,l=e.selection,u=[],c=l.getRng(),d=c.startContainer,f=c.startOffset;i=d,3===d.nodeType&&(f!==d.nodeValue.length&&(o=!0),i=i.parentNode);while(i){if(xb(e,i,t,n,r)){a=i;break}i.nextSibling&&(o=!0),u.push(i),i=i.parentNode}if(a)if(o){var p=l.getBookmark();c.collapse(!0);var h=Km(e,c,e.formatter.get(t),!0);h=uv(h),e.formatter.remove(t,n,h,r),l.moveToBookmark(p)}else{var m=Uh(e.getBody(),a),g=xC(!1).dom;SC(e,g,null!==m?m:a);var v=TC(e,g,a,t,n,r),y=OC(u.concat(v.toArray()),g);_C(e,m,!1),l.setCursorLocation(y,1),s.isEmpty(a)&&s.remove(a)}},IC=function(e,t){var n=e.selection,r=e.getBody();CC(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==hC||CC(e,Uh(r,n.getStart())),37!==t&&39!==t||CC(e,Uh(r,n.getStart()))},EC=function(e){e.on("mouseup keydown",(function(t){IC(e,t.keyCode)}))},AC=function(e,t){var n=xC(!1),r=OC(t,n.dom);return hr(vn.fromDom(e),n),_r(vn.fromDom(e)),Cd(r,0)},LC=function(e,t){var n=e.schema.getTextInlineElements();return n.hasOwnProperty(jn(t))&&!Hh(t.dom)&&!$r(t.dom)},jC=function(e){return Hh(e.dom)&&yC(e.dom)},NC={},PC=Be,RC=Pe,BC=function(e,t){var n=NC[e];n||(NC[e]=[]),NC[e].push(t)},FC=function(e,t){RC(NC[e],(function(e){e(t)}))};BC("pre",(function(e){var t,n=e.selection.getRng(),r=function(e){return i(e.previousSibling)&&-1!==Fe(t,e.previousSibling)},o=function(e,t){wu(t).remove(),wu(e).append("<br><br>").append(t.childNodes)},i=zr(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),RC(PC(PC(t,i),r),(function(e){o(e.previousSibling,e)})))}));var zC=dn.each,VC=function(e){return Fr(e)&&!cm(e)&&!Hh(e)&&!$r(e)},HC=function(e,t){var n;for(n=e;n;n=n[t]){if(Kr(n)&&0!==n.nodeValue.length)return e;if(Fr(n)&&!cm(n))return n}return e},UC=function(e,t,n){var r,o,i=new ex(e);if(t&&n&&(t=HC(t,"previousSibling"),n=HC(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)o=r,r=r.nextSibling,t.appendChild(o);return e.remove(n),dn.each(dn.grep(n.childNodes),(function(e){t.appendChild(e)})),t}return n},$C=function(e,t,n,r){if(r&&!1!==t.merge_siblings){var o=UC(e,ym(r),r);UC(e,o,ym(o,!0))}},qC=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";zC(e.select(r,n),(function(n){VC(n)&&zC(t.styles,(function(t,r){e.setStyle(n,r,"")}))}))}},WC=function(e,t,n){zC(e.childNodes,(function(e){VC(e)&&(t(e)&&n(e),e.hasChildNodes()&&WC(e,t,n))}))},GC=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},YC=function(e,t){return function(n){return!(!n||!Om(e,n,t))}},KC=function(e,t,n){return function(r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),GC(e,r)}},XC=qo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),JC=/^(src|href|style)$/,ZC=dn.each,QC=Sm,eS=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},tS=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},nS=function(e,t,n){var r,o;if(r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],Fr(r)){var i=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>i?i:o]}return Kr(r)&&n&&o>=r.nodeValue.length&&(r=new hi(r,e.getBody()).next()||r),Kr(r)&&!n&&0===o&&(r=new hi(r,e.getBody()).prev()||r),r},rS=function(e,t){var n=t?"firstChild":"lastChild";if(eS(e)&&e[n]){var r=e[n];return"TR"===e.nodeName&&r[n]||r}return e},oS=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},iS=function(e,t,n,r,o){var i=vn.fromDom(t),a=vn.fromDom(e.create(r,o)),s=n?Zn(i):Jn(i);return xr(a,s),n?(hr(i,a),gr(a,i)):(mr(i,a),vr(a,i)),a.dom},aS=function(e,t,n){return!!QC(t,n.inline)||(!!QC(t,n.block)||(n.selector?Fr(t)&&e.is(t,n.selector):void 0))},sS=function(e,t){return t.links&&"A"===e.nodeName},lS=function(e,t,n,r){return t=ym(t,n,r),!t||"BR"===t.nodeName||e.isBlock(t)},uS=function(e,t,n){var r,o=t.parentNode,i=e.dom,a=mf(e);n.block&&(a?o===i.getRoot()&&(n.list_block&&QC(t,n.list_block)||Z(ve(t.childNodes),(function(t){xm(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=oS(i,t,a),i.setAttribs(r,e.settings.forced_root_block_attrs)):r=0}))):i.isBlock(t)&&!i.isBlock(o)&&(lS(i,t,!1)||lS(i,t.firstChild,!0,!0)||t.insertBefore(i.create("br"),t.firstChild),lS(i,t,!0)||lS(i,t.lastChild,!1,!0)||t.appendChild(i.create("br")))),n.selector&&n.inline&&!QC(n.inline,t)||i.remove(t,!0)},cS=function(e,t,n,r,o){var i,a=e.dom;if(!aS(a,r,t)&&!sS(r,t))return XC.keep();var s=r;if(t.inline&&"all"===t.remove&&P(t.preserve_attributes)){var l=te(a.getAttribs(s),(function(e){return K(t.preserve_attributes,e.name.toLowerCase())}));if(a.removeAllAttribs(s),Z(l,(function(e){return a.setAttrib(s,e.name,e.value)})),l.length>0)return XC.rename("span")}if("all"!==t.remove){ZC(t.styles,(function(e,r){e=km(a,Cm(e,n),r+""),U(r)&&(r=e,o=null),(t.remove_similar||!o||QC(Om(a,o,r),e))&&a.setStyle(s,r,""),i=!0})),i&&""===a.getAttrib(s,"style")&&(s.removeAttribute("style"),s.removeAttribute("data-mce-style")),ZC(t.attributes,(function(e,r){var i;if(e=Cm(e,n),U(r)&&(r=e,o=null),t.remove_similar||!o||QC(a.getAttrib(o,r),e)){if("class"===r&&(e=a.getAttrib(s,r),e&&(i="",Z(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)})),i)))return void a.setAttrib(s,r,i);"class"===r&&s.removeAttribute("className"),JC.test(r)&&s.removeAttribute("data-mce-"+r),s.removeAttribute(r)}})),ZC(t.classes,(function(e){e=Cm(e,n),o&&!a.hasClass(o,e)||a.removeClass(s,e)}));for(var u=a.getAttribs(s),c=0;c<u.length;c++){var d=u[c].nodeName;if(0!==d.indexOf("_")&&0!==d.indexOf("data-"))return XC.keep()}}return"none"!==t.remove?(uS(e,s,t),XC.removed()):XC.keep()},dS=function(e,t,n,r,o){return cS(e,t,n,r,o).fold(C,(function(t){return e.dom.rename(r,t),!0}),S)},fS=function(e,t,n,r,o){var i;return Z(Mm(e.dom,t.parentNode).reverse(),(function(t){if(!i&&"_start"!==t.id&&"_end"!==t.id){var a=xb(e,t,n,r,o);a&&!1!==a.split&&(i=t)}})),i},pS=function(e,t,n,r){return cS(e,t,n,r,r).fold(g(r),(function(t){var n=e.dom.createFragment();return n.appendChild(r),e.dom.rename(r,t)}),g(null))},hS=function(e,t,n,r,o,i,a,s){var l,u,c,d=e.dom;if(n){for(var f=n.parentNode,p=r.parentNode;p&&p!==f;p=p.parentNode){l=d.clone(p,!1);for(var h=0;h<t.length;h++)if(l=pS(e,t[h],s,l),null===l)break;l&&(u&&l.appendChild(u),c||(c=l),u=l)}!i||a.mixed&&d.isBlock(n)||(r=d.split(n,r)),u&&(o.parentNode.insertBefore(u,o),c.appendChild(o),a.inline&&$C(d,a,s,u))}return r},mS=function(e,t,n,r,o){var i=e.formatter.get(t),a=i[0],s=!0,l=e.dom,u=e.selection,c=function(r){var s=fS(e,r,t,n,o);return hS(e,i,s,r,r,!0,a,n)},d=function(e){return cm(e)&&Fr(e)&&("_start"===e.id||"_end"===e.id)},f=function(t){var r,o;Fr(t)&&l.getContentEditable(t)&&(r=s,s="true"===l.getContentEditable(t),o=!0);var u=ve(t.childNodes);if(s&&!o)for(var c=0;c<i.length;c++)if(dS(e,i[c],n,t,t))break;if(a.deep&&u.length){for(c=0;c<u.length;c++)f(u[c]);o&&(s=r)}},p=function(e){var t=l.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return d(n)&&(n=n[e?"firstChild":"lastChild"]),Kr(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),l.remove(t,!0),n},h=function(t){var n,r,o=Km(e,t,i,t.collapsed);if(a.split){if(o=uv(o),n=nS(e,o,!0),r=nS(e,o),n!==r){if(n=rS(n,!0),r=rS(r,!1),tS(l,n,r)){var s=D.from(n.firstChild).getOr(n);return c(iS(l,s,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void p(!0)}if(tS(l,r,n)){s=D.from(r.lastChild).getOr(r);return c(iS(l,s,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void p(!1)}n=oS(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=oS(l,r,"span",{id:"_end","data-mce-type":"bookmark"});var u=l.createRng();u.setStartAfter(n),u.setEndBefore(r),Zm(l,u,(function(e){Z(e,(function(e){cm(e)||cm(e.parentNode)||c(e)}))})),c(n),c(r),n=p(!0),r=p()}else n=r=c(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=l.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=l.nodeIndex(r)+1}Zm(l,o,(function(t){Z(t,(function(t){f(t);var n=["underline","line-through","overline"];Z(n,(function(n){Fr(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&Tm(l,t.parentNode)===n&&dS(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,t)}))}))}))};if(r)if(mm(r)){var m=l.createRng();m.setStartBefore(r),m.setEndAfter(r),h(m)}else h(r);else if("false"!==l.getContentEditable(u.getNode()))u.isCollapsed()&&a.inline&&!ig(e).length?DC(e,t,n,o):(hg(u,!0,(function(){pg(e,h)})),a.inline&&wb(e,t,n,u.getStart())&&vm(l,u,u.getRng()),e.nodeChanged());else{r=u.getNode();for(var g=0;g<i.length;g++)if(i[g].ceFalseOverride&&dS(e,i[g],n,r,r))break}},gS=dn.each,vS=function(e,t,n,r){var o=function(t){if(1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType){var n=Tm(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(dn.walk(r,o,"childNodes"),o(r))},yS=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&WC(r,YC(e,"fontSize"),KC(e,"backgroundColor",Cm(t.styles.backgroundColor,n)))},bS=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(WC(r,YC(e,"fontSize"),KC(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},xS=function(e,t,n,r){gS(t,(function(t){gS(e.dom.select(t.inline,r),(function(r){VC(r)&&dS(e,t,n,r,t.exact?r:null)})),qC(e.dom,t,r)}))},wS=function(e,t,n,r,o){xb(e,o.parentNode,n,r)&&dS(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,(function(i){if(xb(e,i,n,r))return dS(e,t,r,o),!0}))},_S=dn.each,CS=function(e,t){return Ae(e,t)},SS=function(e){return e&&1===e.nodeType&&!cm(e)&&!Hh(e)&&!$r(e)},kS=function(e,t,n,r){if(Zf(e)&&Lm(t)){var o=Ue(Ue({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),i=pC(vn.fromDom(n),(function(e){return Hh(e.dom)}));return Ae(o,r)&&Ia(vn.fromDom(n.parentNode),!1)&&!i}return!1},OS=function(e,t,n,r){var o=e.formatter.get(t),i=o[0],a=!r&&e.selection.isCollapsed(),s=e.dom,l=e.selection,u=function(e,t){if(t=t||i,e){if(t.onformat&&t.onformat(e,t,n,r),_S(t.styles,(function(t,r){s.setStyle(e,r,Cm(t,n))})),t.styles){var o=s.getAttrib(e,"style");o&&s.setAttrib(e,"data-mce-style",o)}_S(t.attributes,(function(t,r){s.setAttrib(e,r,Cm(t,n))})),_S(t.classes,(function(t){t=Cm(t,n),s.hasClass(e,t)||s.addClass(e,t)}))}},c=function(e,t){var n=!1;return!!Am(i)&&(_S(e,(function(e){if(!("collapsed"in e)||e.collapsed===a)return s.is(t,e.selector)&&!Hh(t)?(u(t,e),n=!0,!1):void 0})),n)},d=function(r,a,s,l){var d=[],f=!0,p=i.inline||i.block,h=r.create(p);u(h),Zm(r,a,(function(a){var s,m=function(a){var g=!1,v=f,y=a.nodeName.toLowerCase(),b=a.parentNode.nodeName.toLowerCase();if(Fr(a)&&r.getContentEditable(a)&&(v=f,f="true"===r.getContentEditable(a),g=!0),Qr(a)&&!kS(e,i,a,b))return s=null,void(Em(i)&&r.remove(a));if(i.wrapper&&xb(e,a,t,n))s=null;else{if(f&&!g&&Em(i)&&!i.wrapper&&bm(e,y)&&xm(e,b,p)){var x=r.rename(a,p);return u(x),d.push(x),void(s=null)}if(Am(i)){var w=c(o,a);if(!CS(i,"inline")||w)return void(s=null)}!f||g||!xm(e,p,y)||!xm(e,b,p)||!l&&3===a.nodeType&&1===a.nodeValue.length&&65279===a.nodeValue.charCodeAt(0)||Hh(a)||CS(i,"inline")&&r.isBlock(a)?(s=null,_S(dn.grep(a.childNodes),m),g&&(f=v),s=null):(s||(s=r.clone(h,!1),a.parentNode.insertBefore(s,a),d.push(s)),s.appendChild(a))}};_S(a,m)})),!0===i.links&&_S(d,(function(e){var t=function(e){"A"===e.nodeName&&u(e,i),_S(dn.grep(e.childNodes),t)};t(e)})),_S(d,(function(a){var s=function(e){var t=0;return _S(e.childNodes,(function(e){_m(e)||cm(e)||t++})),t},l=function(e){var t=!1;return _S(e.childNodes,(function(e){if(SS(e))return t=e,!1})),t},c=function(e){var t,n=l(e);return n&&!cm(n)&&yb(r,n,i)&&(t=r.clone(n,!1),u(t),r.replace(t,e,!0),r.remove(n,!0)),t||e},f=s(a);!(d.length>1)&&r.isBlock(a)||0!==f?(Lm(i)||i.wrapper)&&(i.exact||1!==f||(a=c(a)),xS(e,o,n,a),wS(e,i,t,n,a),yS(r,i,n,a),vS(r,i,n,a),bS(r,i,n,a),$C(r,i,n,a)):r.remove(a,!0)}))};if("false"!==s.getContentEditable(l.getNode())){if(i){if(r)if(mm(r)){if(!c(o,r)){var f=s.createRng();f.setStartBefore(r),f.setEndAfter(r),d(s,Km(e,f,o),null,!0)}}else d(s,r,null,!0);else if(a&&Lm(i)&&!ig(e).length)MC(e,t,n);else{var p=l.getNode(),h=o[0];e.settings.forced_root_block||!h.defaultBlock||s.getParent(p,s.isBlock)||OS(e,h.defaultBlock),l.setRng(w_(l.getRng())),hg(l,!0,(function(t){pg(e,(function(t,n){var r=n?t:Km(e,t,o);d(s,r)}))})),vm(s,l,l.getRng()),e.nodeChanged()}FC(t,e)}}else{r=l.getNode();for(var m=0,g=o.length;m<g;m++){var v=o[m];if(v.ceFalseOverride&&Am(v)&&s.is(r,v.selector))return void u(r,v)}}},TS=function(e,t){var n=Fu({});e.set({}),t.on("NodeChange",(function(r){MS(t,r.element,n,e.get())}))},MS=function(e,t,n,r){var o=be(n.get()),i={},a={},s=te(Mm(e.dom,t),(function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}));we(r,(function(t,n){dn.each(s,(function(r){return e.formatter.matchNode(r,n,{},t.similar)?(-1===o.indexOf(n)&&(Z(t.callbacks,(function(e){e(!0,{node:r,format:n,parents:s})})),i[n]=t.callbacks),a[n]=t.callbacks,!1):!gb(e,r,n)&&void 0}))}));var l=DS(n.get(),a,t,s);n.set(Ue(Ue({},i),l))},DS=function(e,t,n,r){return Oe(e,(function(e,o){return!!Ee(t,o)||(Z(e,(function(e){e(!1,{node:n,format:o,parents:r})})),!1)})).t},IS=function(e,t,n,r){var o=e.get();Z(t.split(","),(function(e){o[e]||(o[e]={similar:r,callbacks:[]}),o[e].callbacks.push(n)})),e.set(o)},ES=function(e,t,n){var r=e.get();Z(t.split(","),(function(e){r[e].callbacks=te(r[e].callbacks,(function(e){return e!==n})),0===r[e].callbacks.length&&delete r[e]})),e.set(r)},AS=function(e,t,n,r,o){return null===t.get()&&TS(t,e),IS(t,n,r,o),{unbind:function(){return ES(t,n,r)}}},LS=function(e,t,n,r){var o=e.formatter.get(t);!wb(e,t,n,r)||"toggle"in o[0]&&!o[0].toggle?OS(e,t,n,r):mS(e,t,n,r)},jS=function(e,t){var n=t||document,r=n.createDocumentFragment();return Z(e,(function(e){r.appendChild(e.dom)})),vn.fromDom(r)},NS=function(e,t,n){return{element:e,width:t,rows:n}},PS=function(e,t){return{element:e,cells:t}},RS=function(e,t){return{x:e,y:t}},BS=function(e,t){var n=parseInt(uo(e,t),10);return isNaN(n)?1:n},FS=function(e,t,n,r,o){for(var i=BS(o,"rowspan"),a=BS(o,"colspan"),s=e.rows,l=n;l<n+i;l++){s[l]||(s[l]=PS(jc(r),[]));for(var u=t;u<t+a;u++){var c=s[l].cells;c[u]=l===n&&u===t?o:Lc(o)}}},zS=function(e,t,n){var r=e.rows,o=r[n]?r[n].cells:[];return!!o[t]},VS=function(e,t,n){while(zS(e,t,n))t++;return t},HS=function(e){return re(e,(function(e,t){return t.cells.length>e?t.cells.length:e}),0)},US=function(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(In(o[i],t))return D.some(RS(i,r));return D.none()},$S=function(e,t,n,r,o){for(var i=[],a=e.rows,s=n;s<=o;s++){var l=a[s].cells,u=t<r?l.slice(t,r+1):l.slice(r,t+1);i.push(PS(a[s].element,u))}return i},qS=function(e,t,n){var r=t.x,o=t.y,i=n.x,a=n.y,s=o<a?$S(e,r,o,i,a):$S(e,r,a,i,o);return NS(e.element,HS(s),s)},WS=function(e,t){var n=Lc(e.element),r=vn.fromTag("tbody");return xr(r,t),vr(n,r),n},GS=function(e){return J(e.rows,(function(e){var t=J(e.cells,(function(e){var t=jc(e);return po(t,"colspan"),po(t,"rowspan"),t})),n=Lc(e.element);return xr(n,t),n}))},YS=function(e){var t=NS(Lc(e),0,[]);return Z(mc(e,"tr"),(function(e,n){Z(mc(e,"td,th"),(function(r,o){FS(t,VS(t,o,n),n,e,r)}))})),NS(t.element,HS(t.rows),t.rows)},KS=function(e){return WS(e,GS(e))},XS=function(e,t,n){return US(e,t).bind((function(t){return US(e,n).map((function(n){return qS(e,t,n)}))}))},JS=function(e){return ie(e,(function(e){return"ul"===jn(e)||"ol"===jn(e)}))},ZS=function(e,t){return ie(e,(function(e){return"li"===jn(e)&&cg(e,t)})).fold(g([]),(function(t){return JS(e).map((function(e){var t=vn.fromTag(jn(e)),n=Te(xo(e),(function(e,t){return lt(t,"list-style")}));return go(t,n),[vn.fromTag("li"),t]})).getOr([])}))},QS=function(e,t){var n=re(t,(function(e,t){return vr(t,e),t}),e);return t.length>0?jS([n]):n},ek=function(e){return Ei(e)?Wn(e).filter(Ii).fold(g([]),(function(t){return[e,t]})):Ii(e)?[e]:[]},tk=function(e,t){var n=vn.fromDom(t.commonAncestorContainer),r=Cx(n,e),o=te(r,(function(e){return Ti(e)||Si(e)})),i=ZS(r,t),a=o.concat(i.length?i:ek(n));return J(a,Lc)},nk=function(){return jS([])},rk=function(e,t){return QS(vn.fromDom(t.cloneContents()),tk(e,t))},ok=function(e,t){return Qo(t,"table",y(In,e))},ik=function(e,t){return ok(e,t[0]).bind((function(e){var n=t[0],r=t[t.length-1],o=YS(e);return XS(o,n,r).map((function(e){return jS([KS(e)])}))})).getOrThunk(nk)},ak=function(e,t){return t.length>0&&t[0].collapsed?nk():rk(e,t[0])},sk=function(e,t){var n=og(t,e);return n.length>0?ik(e,n):ak(e,t)},lk=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},uk=function(e,t){return t>=0&&t<e.length&&pm(e.charAt(t))},ck=function(e,t){var n=Hi(e.innerText);return t?lk(n):n},dk=function(e){return e.map((function(e){return e.nodeName})).getOr("div").toLowerCase()},fk=function(e){return D.from(e.selection.getRng()).map((function(t){var n=D.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),o=dk(n),i=Jt.browser.isIE()&&"pre"!==o,a=e.dom.add(r,o,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),s=ck(a,i),l=Hi(a.textContent);if(e.dom.remove(a),uk(l,0)||uk(l,l.length-1)){var u=n.getOr(r),c=ck(u,i),d=c.indexOf(s);if(-1===d)return s;var f=uk(c,d-1),p=uk(c,d+s.length);return(f?" ":"")+s+(p?" ":"")}return s})).getOr("")},pk=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body"),o=e.selection.getSel(),i=db(e,Qm(o)),a=t.contextual?sk(vn.fromDom(e.getBody()),i).dom:n.cloneContents();return a&&r.appendChild(a),e.selection.serializer.serialize(r,t)},hk=function(e,t,n){if(void 0===n&&(n={}),n.get=!0,n.format=t,n.selection=!0,n=e.fire("BeforeGetContent",n),n.isDefaultPrevented())return e.fire("GetContent",n),n.content;if("text"===n.format)return fk(e);n.getInner=!0;var r=pk(e,n);return"tree"===n.format?r:(n.content=e.selection.isCollapsed()?"":r,e.fire("GetContent",n),n.content)},mk=0,gk=1,vk=2,yk=function(e,t){var n=e.length+t.length+2,r=new Array(n),o=new Array(n),i=function(e,t,n){return{start:e,end:t,diag:n}},a=function(n,r,o,i,s){var u=l(n,r,o,i);if(null===u||u.start===r&&u.diag===r-i||u.end===n&&u.diag===n-o){var c=n,d=o;while(c<r||d<i)c<r&&d<i&&e[c]===t[d]?(s.push([mk,e[c]]),++c,++d):r-n>i-o?(s.push([vk,e[c]]),++c):(s.push([gk,t[d]]),++d)}else{a(n,u.start,o,u.start-u.diag,s);for(var f=u.start;f<u.end;++f)s.push([mk,e[f]]);a(u.end,r,u.end-u.diag,i,s)}},s=function(n,r,o,a){var s=n;while(s-r<a&&s<o&&e[s]===t[s-r])++s;return i(n,s,r)},l=function(n,i,a,l){var u=i-n,c=l-a;if(0===u||0===c)return null;var d,f,p,h,m,g=u-c,v=c+u,y=(v%2===0?v:v+1)/2;for(r[1+y]=n,o[1+y]=i+1,d=0;d<=y;++d){for(f=-d;f<=d;f+=2){p=f+y,f===-d||f!==d&&r[p-1]<r[p+1]?r[p]=r[p+1]:r[p]=r[p-1]+1,h=r[p],m=h-n+a-f;while(h<i&&m<l&&e[h]===t[m])r[p]=++h,++m;if(g%2!==0&&g-d<=f&&f<=g+d&&o[p-g]<=r[p])return s(o[p-g],f+n-a,i,l)}for(f=g-d;f<=g+d;f+=2){p=f+y-g,f===g-d||f!==g+d&&o[p+1]<=o[p-1]?o[p]=o[p+1]-1:o[p]=o[p-1],h=o[p]-1,m=h-n+a-f;while(h>=n&&m>=a&&e[h]===t[m])o[p]=h--,m--;if(g%2===0&&-d<=f&&f<=d&&o[p]<=r[p+g])return s(o[p],f+n-a,i,l)}}},u=[];return a(0,e.length,0,t.length,u),u},bk=function(e){return Fr(e)?e.outerHTML:Kr(e)?ns.encodeRaw(e.data,!1):Xr(e)?"\x3c!--"+e.data+"--\x3e":""},xk=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();e&&(n.innerHTML=e);while(t=n.firstChild)r.appendChild(t);return r},wk=function(e,t,n){var r=xk(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},_k=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},Ck=function(e,t){var n=0;Z(e,(function(e){e[0]===mk?n++:e[0]===gk?(wk(t,e[1],n),n++):e[0]===vk&&_k(t,n)}))},Sk=function(e){return te(J(ve(e.childNodes),bk),(function(e){return e.length>0}))},kk=function(e,t){var n=J(ve(t.childNodes),bk);return Ck(yk(n,e),t),t},Ok=Fu(D.none()),Tk=function(){return Ok.get().getOrThunk((function(){var e=document.implementation.createHTMLDocument("undo");return Ok.set(D.some(e)),e}))},Mk=function(e){return-1!==e.indexOf("</iframe>")},Dk=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},Ik=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Ek=function(e){var t=Sk(e.getBody()),n=le(t,(function(t){var n=Yb(e.serializer,t);return n.length>0?[n]:[]})),r=n.join("");return Mk(r)?Dk(n):Ik(r)},Ak=function(e,t,n){"fragmented"===t.type?kk(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},Lk=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},jk=function(e){var t=vn.fromTag("body",Tk());return Ec(t,Lk(e)),Z(mc(t,"*[data-mce-bogus]"),Cr),Ic(t)},Nk=function(e,t){return Lk(e)===Lk(t)},Pk=function(e,t){return jk(e)===jk(t)},Rk=function(e,t){return!(!e||!t)&&(!!Nk(e,t)||Pk(e,t))},Bk=function(e){return 0===e.get()},Fk=function(e,t,n){Bk(n)&&(e.typing=t)},zk=function(e,t){e.typing&&(Fk(e,!1,t),e.add())},Vk=function(e){e.typing&&(e.typing=!1,e.add())},Hk=function(e,t,n){Bk(t)&&n.set(D.some(rf(e.selection)))},Uk=function(e,t,n,r,o,i,a){var s=Ek(e);if(i=i||{},i=dn.extend(i,s),!1===Bk(r)||e.removed)return null;var l=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:i,lastLevel:l,originalEvent:a}).isDefaultPrevented())return null;if(l&&Rk(l,i))return null;t.data[n.get()]&&o.get().each((function(e){t.data[n.get()].beforeBookmark=e}));var u=lp(e);if(u&&t.data.length>u){for(var c=0;c<t.data.length-1;c++)t.data[c]=t.data[c+1];t.data.length--,n.set(t.data.length)}i.bookmark=rf(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var d={level:i,lastLevel:l,originalEvent:a};return n.get()>0?(e.setDirty(!0),e.fire("AddUndo",d),e.fire("change",d)):e.fire("AddUndo",d),i},$k=function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")},qk=function(e,t,n,r,o){if(t.transact(r)){var i=t.data[n.get()].bookmark,a=t.data[n.get()-1];Ak(e,a,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=i)}},Wk=function(e,t,n){var r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],Ak(e,r,!1),e.setDirty(!0),e.fire("Redo",{level:r})),r},Gk=function(e,t,n,r){var o;return t.typing&&(t.add(),t.typing=!1,Fk(t,!1,n)),r.get()>0&&(r.set(r.get()-1),o=t.data[r.get()],Ak(e,o,!0),e.setDirty(!0),e.fire("Undo",{level:o})),o},Yk=function(e){e.clear(),e.add()},Kk=function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!Rk(Ek(e),t.data[0])},Xk=function(e,t){return t.get()<e.data.length-1&&!e.typing},Jk=function(e,t,n){return zk(e,t),e.beforeChange(),e.ignore(n),e.add()},Zk=function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},Qk=function(e){return e instanceof Ib},eO=function(e,t){oC(e.serializer.getNodeFilters(),e.serializer.getAttributeFilters(),t)},tO=function(e){return D.from(e.selection.getStart(!0)).map((function(e){return e.nodeName.toLowerCase()}))},nO=function(){return{type:"complete",fragments:[],content:"",bookmark:null,beforeBookmark:null}},rO=function(e){return{undoManager:{beforeChange:function(t,n){return Hk(e,t,n)},addUndoLevel:function(t,n,r,o,i,a){return Uk(e,t,n,r,o,i,a)},undo:function(t,n,r){return Gk(e,t,n,r)},redo:function(t,n){return Wk(e,t,n)},clear:function(t,n){return $k(e,t,n)},reset:function(e){return Yk(e)},hasUndo:function(t,n){return Kk(e,t,n)},hasRedo:function(e,t){return Xk(e,t)},transact:function(e,t,n){return Jk(e,t,n)},ignore:function(e,t){return Zk(e,t)},extra:function(t,n,r,o){return qk(e,t,n,r,o)}},formatter:{match:function(t,n,r){return wb(e,t,n,r)},matchAll:function(t,n){return _b(e,t,n)},matchNode:function(t,n,r,o){return xb(e,t,n,r,o)},canApply:function(t){return Sb(e,t)},closest:function(t){return Cb(e,t)},apply:function(t,n,r){return OS(e,t,n,r)},remove:function(t,n,r,o){return mS(e,t,n,r,o)},toggle:function(t,n,r){return LS(e,t,n,r)},formatChanged:function(t,n,r,o){return AS(e,t,n,r,o)}},editor:{getContent:function(t,n){return Zb(e,t,n)},setContent:function(t,n){return dC(e,t,n)},insertContent:function(t,n){return tC(e,t,n)},addVisual:function(t){return fC(e,t)}},selection:{getContent:function(t,n){return hk(e,t,n)}},raw:{getModel:function(){return D.none()}}}},oO=function(e,t){var n=function(e){return N(e)?e:{}},r=x("Unimplemented feature for rtc"),o=p;return{undoManager:{beforeChange:o,addUndoLevel:r,undo:function(){return t.undo(),nO()},redo:function(){return t.redo(),nO()},clear:r,reset:r,hasUndo:function(){return t.hasUndo()},hasRedo:function(){return t.hasRedo()},transact:function(e,n,r){return t.transact(r),nO()},ignore:r,extra:r},formatter:{match:function(e,r,o){return t.matchFormat(e,n(r))},matchAll:r,matchNode:r,canApply:function(e){return t.canApplyFormat(e)},closest:function(e){return t.closestFormat(e)},apply:function(e,r,o){return t.applyFormat(e,n(r))},remove:function(e,r,o,i){return t.removeFormat(e,n(r))},toggle:function(e,r,o){return t.toggleFormat(e,n(r))},formatChanged:function(e,n,r,o){return t.formatChanged(n,r,o)}},editor:{getContent:function(n,r){if("html"===r||"tree"===r){var o=t.getContent(),i=Lb({inner:!0});return eO(e,o),"tree"===r?o:i.serialize(o)}return rO(e).editor.getContent(n,r)},setContent:function(n,r){var o=Qk(n)?n:e.parser.parse(n,{isRootContent:!0,insert:!0});return t.setContent(o),n},insertContent:function(n,r){var o=tO(e).fold((function(){return{}}),(function(e){return{context:e}})),i=Qk(n)?n:e.parser.parse(n,Ue(Ue({},o),{insert:!0}));t.insertContent(i)},addVisual:function(e){}},selection:{getContent:function(n,r){if("html"===n||"tree"===n){var o=t.getSelectedContent(),i=Lb({});return eO(e,o),"tree"===n?o:i.serialize(o)}return rO(e).selection.getContent(n,r)}},raw:{getModel:function(){return D.some(t.getRawModel())}}}},iO=function(e){return Ee(e.plugins,"rtc")},aO=function(e){var t=e;return Ie(e.plugins,"rtc").fold((function(){return t.rtcInstance=rO(e),D.none()}),(function(n){return D.some(n.setup().then((function(n){return t.rtcInstance=oO(e,n),n.isRemote})))}))},sO=function(e){return e.rtcInstance?e.rtcInstance:rO(e)},lO=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},uO=function(e,t,n){lO(e).undoManager.beforeChange(t,n)},cO=function(e,t,n,r,o,i,a){return lO(e).undoManager.addUndoLevel(t,n,r,o,i,a)},dO=function(e,t,n,r){return lO(e).undoManager.undo(t,n,r)},fO=function(e,t,n){return lO(e).undoManager.redo(t,n)},pO=function(e,t,n){lO(e).undoManager.clear(t,n)},hO=function(e,t){lO(e).undoManager.reset(t)},mO=function(e,t,n){return lO(e).undoManager.hasUndo(t,n)},gO=function(e,t,n){return lO(e).undoManager.hasRedo(t,n)},vO=function(e,t,n,r){return lO(e).undoManager.transact(t,n,r)},yO=function(e,t,n){lO(e).undoManager.ignore(t,n)},bO=function(e,t,n,r,o){lO(e).undoManager.extra(t,n,r,o)},xO=function(e,t,n,r){return lO(e).formatter.match(t,n,r)},wO=function(e,t,n){return lO(e).formatter.matchAll(t,n)},_O=function(e,t,n,r,o){return lO(e).formatter.matchNode(t,n,r,o)},CO=function(e,t){return lO(e).formatter.canApply(t)},SO=function(e,t){return lO(e).formatter.closest(t)},kO=function(e,t,n,r){lO(e).formatter.apply(t,n,r)},OO=function(e,t,n,r,o){lO(e).formatter.remove(t,n,r,o)},TO=function(e,t,n,r){lO(e).formatter.toggle(t,n,r)},MO=function(e,t,n,r,o){return void 0===o&&(o=!1),lO(e).formatter.formatChanged(t,n,r,o)},DO=function(e,t,n){return sO(e).editor.getContent(t,n)},IO=function(e,t,n){return sO(e).editor.setContent(t,n)},EO=function(e,t,n){return sO(e).editor.insertContent(t,n)},AO=function(e,t,n){return lO(e).selection.getContent(t,n)},LO=function(e,t){return lO(e).editor.addVisual(t)},jO=function(e,t){void 0===t&&(t={});var n=t.format?t.format:"html";return AO(e,n,t)},NO=function(e){return 0===e.dom.length?(_r(e),D.none()):D.some(e)},PO=function(e,t){return e.filter((function(e){return Og.isBookmarkNode(e.dom)})).bind(t?Xn:Kn)},RO=function(e,t,n,r){var o=e.dom,i=t.dom,a=r?o.length:i.length;r?(cw(o,i,!1,!r),n.setStart(i,a)):(cw(i,o,!1,!r),n.setEnd(i,a))},BO=function(e,t){Wn(e).each((function(n){var r=e.dom;t&&Yx(n,Cd(r,0))?lw(r,0):!t&&Xx(n,Cd(r,r.length))&&uw(r,r.length)}))},FO=function(e,t,n,r){e.bind((function(e){var o=r?uw:lw;return o(e.dom,r?e.dom.length:0),t.filter(Fn).map((function(t){return RO(e,t,n,r)}))})).orThunk((function(){var e=PO(t,r).or(t).filter(Fn);return e.map((function(e){return BO(e,r)}))}))},zO=function(e,t){var n=D.from(t.firstChild).map(vn.fromDom),r=D.from(t.lastChild).map(vn.fromDom);e.deleteContents(),e.insertNode(t);var o=n.bind(Kn).filter(Fn).bind(NO),i=r.bind(Xn).filter(Fn).bind(NO);FO(o,n,e,!0),FO(i,r,e,!1),e.collapse(!1)},VO=function(e,t){return Ue(Ue({format:"html"},e),{set:!0,selection:!0,content:t})},HO=function(e,t){if("raw"!==t.format){var n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),o=r?{context:r.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,Ue(Ue({isRootContent:!0,forced_root_block:!1},o),t));return Lb({validate:e.validate},e.schema).serialize(i)}return t.content},UO=function(e,t,n){void 0===n&&(n={});var r=VO(n,t);if(r.no_events||(r=e.fire("BeforeSetContent",r),!r.isDefaultPrevented())){n.content=HO(e,r);var o=e.selection.getRng();zO(o,o.createContextualFragment(n.content)),e.selection.setRng(o),Uv(e,o),r.no_events||e.fire("SetContent",r)}else e.fire("SetContent",r)},$O=function(e,t,n){if(e&&e.hasOwnProperty(t)){var r=te(e[t],(function(e){return e!==n}));0===r.length?delete e[t]:e[t]=r}};function qO(e,t){var n,r;return{selectorChangedWithUnbind:function(o,i){return n||(n={},r={},t.on("NodeChange",(function(t){var o=t.element,i=e.getParents(o,null,e.getRoot()),a={};dn.each(n,(function(t,n){dn.each(i,(function(o){if(e.is(o,n))return r[n]||(dn.each(t,(function(e){e(!0,{node:o,selector:n,parents:i})})),r[n]=t),a[n]=t,!1}))})),dn.each(r,(function(e,t){a[t]||(delete r[t],dn.each(e,(function(e){e(!1,{node:o,selector:t,parents:i})})))}))}))),n[o]||(n[o]=[]),n[o].push(i),{unbind:function(){$O(n,o,i),$O(r,o,i)}}}}}var WO=function(e){return!!e.select},GO=function(e){return!(!e||!e.ownerDocument)&&Ln(vn.fromDom(e.ownerDocument),vn.fromDom(e))},YO=function(e){return!!e&&(!!WO(e)||GO(e.startContainer)&&GO(e.endContainer))},KO=function(e,t,n,r){var o,i,a=qO(e,r).selectorChangedWithUnbind,s=function(t,n){var o=e.createRng();t?(o.setStart(t,n),o.setEnd(t,n),b(o),g(!1)):(dg(e,o,r.getBody(),!0),b(o))},l=function(e){return jO(r,e)},u=function(e,t){return UO(r,e,t)},c=function(e){return ib(r.getBody(),y(),e)},d=function(e){return ab(r.getBody(),y(),e)},f=function(e,t){return A.getBookmark(e,t)},p=function(e){return A.moveToBookmark(e)},h=function(t,n){return cb(e,t,n).each(b),t},m=function(){var e=y(),t=v();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},g=function(e){var t=y();t.collapse(!!e),b(t)},v=function(){return t.getSelection?t.getSelection():t.document.selection},y=function(){var n,a,s,l=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}};if(!t)return null;var u=t.document;if("undefined"===typeof u||null===u)return null;if(void 0!==r.bookmark&&!1===Qy(r)){var c=Oy(r);if(c.isSome())return c.map((function(e){return db(r,[e])[0]})).getOr(u.createRange())}try{(n=v())&&!Br(n.anchorNode)&&(a=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():u.createRange(),a=db(r,[a])[0])}catch(d){}return a||(a=u.createRange?u.createRange():u.body.createTextRange()),a.setStart&&9===a.startContainer.nodeType&&a.collapsed&&(s=e.getRoot(),a.setStart(s,0),a.setEnd(s,0)),o&&i&&(0===l(a.START_TO_START,a,o)&&0===l(a.END_TO_END,a,o)?a=i:(o=null,i=null)),a},b=function(e,t){var n;if(YO(e)){var a=WO(e)?e:null;if(a){i=null;try{a.select()}catch(u){}}else{var s=v(),l=r.fire("SetSelectionRange",{range:e,forward:t});if(e=l.range,s){i=e;try{s.removeAllRanges(),s.addRange(e)}catch(u){}!1===t&&s.extend&&(s.collapse(e.endContainer,e.endOffset),s.extend(e.startContainer,e.startOffset)),o=s.rangeCount>0?s.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!s.setBaseAndExtent||Jt.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset],n&&"IMG"===n.tagName&&(s.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),s.anchorNode===e.startContainer&&s.focusNode===e.endContainer||s.setBaseAndExtent(n,0,n,1))),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},x=function(t){return u(e.getOuterHTML(t)),t},w=function(){return lb(r.getBody(),y())},_=function(t,n){return ub(e,y(),t,n)},C=function(){var t=v(),n=null===t||void 0===t?void 0:t.anchorNode,r=null===t||void 0===t?void 0:t.focusNode;if(!t||!n||!r||Br(n)||Br(r))return!0;var o=e.createRng();o.setStart(n,t.anchorOffset),o.collapse(!0);var i=e.createRng();return i.setStart(r,t.focusOffset),i.collapse(!0),o.compareBoundaryPoints(o.START_TO_START,i)<=0},S=function(){var t=y(),n=v();if(!tg(n)&&fg(r)){var o=sv(e,t);return o.each((function(e){b(e,C())})),o.getOr(t)}return t},k=function(e,t){return a(e,t),E},O=function(){var t,n=e.getRoot();while(n&&"BODY"!==n.nodeName){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},T=function(e,t){return Hv(r,e,t)},M=function(e,t){return b(Yg(e,t,r.getDoc()))},D=function(){var e=y();return e.collapsed?Cd.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},I=function(){t=o=i=null,L.destroy()},E={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:g,setCursorLocation:s,getContent:l,setContent:u,getBookmark:f,moveToBookmark:p,select:h,isCollapsed:m,isForward:C,setNode:x,getNode:w,getSel:v,setRng:b,getRng:y,getStart:c,getEnd:d,getSelectedBlocks:_,normalize:S,selectorChanged:k,selectorChangedWithUnbind:a,getScrollContainer:O,scrollIntoView:T,placeCaretAt:M,getBoundingClientRect:D,destroy:I},A=Og(E),L=Ug(E,r);return E.bookmarkManager=A,E.controlSelection=L,E},XO=function(e,t){Z(t,(function(t){e.attr(t,null)}))},JO=function(e,t,n){e.addNodeFilter("font",(function(e){Z(e,(function(e){var r=t.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),a=e.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),XO(e,["color","face","size"])}))}))},ZO=function(e,t){e.addNodeFilter("strike",(function(e){Z(e,(function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))}))}))},QO=function(e,t){var n=Ls();t.convert_fonts_to_spans&&JO(e,n,dn.explode(t.font_size_legacy_values)),ZO(e,n)},eT=function(e,t){t.inline_styles&&QO(e,t)},tT=function(e){return new ri((function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.onload=function(){200===this.status?t(this.response):r()},o.onerror=r,o.send()}catch(i){r()}}))},nT=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},rT=function(e,t){var n;try{n=atob(t)}catch(vz){return D.none()}for(var r=new Uint8Array(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);return D.some(new Blob([r],{type:e}))},oT=function(e){return new ri((function(t){var n=nT(e),r=n.type,o=n.data;rT(r,o).fold((function(){return t(new Blob([]))}),t)}))},iT=function(e){return 0===e.indexOf("blob:")?tT(e):0===e.indexOf("data:")?oT(e):null},aT=function(e){return new ri((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))},sT=0,lT=function(e){return(e||"blobid")+sT++},uT=function(e,t,n,r){var o,i;if(0===t.src.indexOf("blob:"))return i=e.getByUri(t.src),void(i?n({image:t,blobInfo:i}):iT(t.src).then((function(r){aT(r).then((function(a){o=nT(a).data,i=e.create(lT(),r,o),e.add(i),n({image:t,blobInfo:i})}))}),(function(e){r(e)})));var a=nT(t.src),s=a.data,l=a.type;o=s,i=e.getByData(o,l),i?n({image:t,blobInfo:i}):iT(t.src).then((function(r){i=e.create(lT(),r,o),e.add(i),n({image:t,blobInfo:i})}),(function(e){r(e)}))},cT=function(e){return e?ve(e.getElementsByTagName("img")):[]};function dT(e,t){var n={},r=function(r,o){o||(o=S);var i=te(cT(r),(function(t){var n=t.src;return!!Jt.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===Jt.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&o(t):0===n.indexOf("data:")&&o(t)))))})),a=J(i,(function(e){if(void 0!==n[e.src])return new ri((function(t){n[e.src].then((function(n){if("string"===typeof n)return n;t({image:e,blobInfo:n.blobInfo})}))}));var r=new ri((function(n,r){uT(t,e,n,r)})).then((function(e){return delete n[e.image.src],e})).catch((function(t){return delete n[e.src],t}));return n[e.src]=r,r}));return ri.all(a)};return{findAll:r}}var fT=function(e,t,n,r){var o=e.padd_empty_with_br||t.insert;o&&n[r.name]?r.empty().append(new Ib("br",1)).shortEnded=!0:r.empty().append(new Ib("#text",3)).value=Ri},pT=function(e){return hT(e,"#text")&&e.firstChild.value===Ri},hT=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},mT=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},gT=function(e,t,n,r){return r.isEmpty(t,n,(function(t){return mT(e,t)}))},vT=function(e,t){return e&&(t[e.name]||"br"===e.name)},yT=function(e){return e.attr("data-mce-bogus")},bT=function(e){return e.attr("src")===Jt.transparentSrc||e.attr("data-mce-placeholder")},xT=function(e,t){if(t.images_dataimg_filter){var n=new Image;return n.src=e.attr("src"),we(e.attributes.map,(function(e,t){n.setAttribute(t,e)})),t.images_dataimg_filter(n)}return!0},wT=function(e,t){var n=t.blob_cache,r=function(e){var r=e.attr("src");bT(e)||yT(e)||Pb(r).filter((function(){return xT(e,t)})).bind((function(e){var t=e.type,r=e.data;return D.from(n.getByData(r,t)).orThunk((function(){return rT(t,r).map((function(e){var t=n.create(lT(),e,r);return n.add(t),t}))}))})).each((function(t){e.attr("src",t.blobUri())}))};n&&e.addAttributeFilter("src",(function(e){return Z(e,r)}))},_T=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(function(e,r,o){var i,a,s,l,u,c,d,f,p=e.length,h=dn.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getWhiteSpaceElements();for(h.body=1,i=0;i<p;i++)if(a=e[i],s=a.parent,h[a.parent.name]&&a===s.lastChild){u=a.prev;while(u){if(c=u.name,"span"!==c||"bookmark"!==u.attr("data-mce-type")){"br"===c&&(a=null);break}u=u.prev}a&&(a.remove(),gT(n,m,g,s)&&(d=n.getElementRule(s.name),d&&(d.removeEmpty?s.remove():d.paddEmpty&&fT(t,o,h,s))))}else{l=a;while(s&&s.firstChild===l&&s.lastChild===l){if(l=s,h[s.name])break;s=s.parent}l===s&&!0!==t.padd_empty_with_br&&(f=new Ib("#text",3),f.value=Ri,a.replace(f))}})),e.addAttributeFilter("href",(function(e){var n=e.length,r=function(e){var t=e.split(" ").filter((function(e){return e.length>0}));return t.concat(["noopener"]).sort().join(" ")},o=function(e){var t=e?dn.trim(e):"";return/\b(noopener)\b/g.test(t)?t:r(t)};if(!t.allow_unsafe_link_target)while(n--){var i=e[n];"a"===i.name&&"_blank"===i.attr("target")&&i.attr("rel",o(i.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(function(e){var t,n,r,o,i=e.length;while(i--)if(o=e[i],"a"===o.name&&o.firstChild&&!o.attr("href")){r=o.parent,t=o.lastChild;do{n=t.prev,r.insert(t,o),t=n}while(t)}})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(function(e){var t,n,r=e.length;while(r--)if(t=e[r],n=t.parent,"ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new Ib("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}})),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",(function(e){var t,r,o,i,a,s,l,u=e.length,c=n.getValidClasses();while(u--){for(t=e[u],r=t.attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],l=!1,s=c["*"],s&&s[i]&&(l=!0),s=c[t.name],!l&&s&&s[i]&&(l=!0),l&&(a&&(a+=" "),a+=i);a.length||(a=null),t.attr("class",a)}})),wT(e,t)},CT=dn.makeMap,ST=dn.each,kT=dn.explode,OT=dn.extend,TT=function(e,t){void 0===t&&(t=ps());var n={},r=[],o={},i={};e=e||{},e.validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a=function(e){var n,r,o,i,a,l,u,c,d,f,p,h=CT("tr,td,th,tbody,thead,tfoot,table"),m=t.getNonEmptyElements(),g=t.getWhiteSpaceElements(),v=t.getTextBlockElements(),y=t.getSpecialElements();for(n=0;n<e.length;n++)if(r=e[n],r.parent&&!r.fixed)if(v[r.name]&&"li"===r.parent.name){f=r.next;while(f){if(!v[f.name])break;f.name="li",f.fixed=!0,r.parent.insert(f,r.parent),f=f.next}r.unwrap(r)}else{for(i=[r],o=r.parent;o&&!t.isValidChild(o.name,r.name)&&!h[o.name];o=o.parent)i.push(o);if(o&&i.length>1){for(i.reverse(),a=l=s(i[0].clone()),d=0;d<i.length-1;d++){for(t.isValidChild(l.name,i[d].name)?(u=s(i[d].clone()),l.append(u)):u=l,c=i[d].firstChild;c&&c!==i[d+1];)p=c.next,u.append(c),c=p;l=u}gT(t,m,g,a)?o.insert(r,i[0],!0):(o.insert(a,i[0],!0),o.insert(r,a)),o=i[0],(gT(t,m,g,o)||hT(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if(f=r.prev,f&&("ul"===f.name||"ol"===f.name)){f.append(r);continue}if(f=r.next,f&&("ul"===f.name||"ol"===f.name)){f.insert(r,f.firstChild,!0);continue}r.wrap(s(new Ib("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(s(new Ib("div",1))):y[r.name]?r.empty().remove():r.unwrap()}}},s=function(e){var t,a,s;a=e.name,a in n&&(s=o[a],s?s.push(e):o[a]=[e]),t=r.length;while(t--)a=r[t].name,a in e.attributes.map&&(s=i[a],s?s.push(e):i[a]=[e]);return e},l=function(e,t){ST(kT(e),(function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)}))},u=function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},c=function(e,t){ST(kT(e),(function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})}))},d=function(){return[].concat(r)},f=function(s,l){var u,c,d,f,p,h,m,g,v,y=[],b=function(e){return!1===e?"":!0===e?"p":e};l=l||{},o={},i={};var x=OT(CT("script,style,head,html,body,title,meta,param"),t.getBlockElements()),w=t.getNonEmptyElements(),_=t.children,C=e.validate,S="forced_root_block"in l?l.forced_root_block:e.forced_root_block,k=b(S),O=t.getWhiteSpaceElements(),T=/^[ \t\r\n]+/,M=/[ \t\r\n]+$/,D=/[ \t\r\n]+/g,I=/^[ \t\r\n]+$/;g=O.hasOwnProperty(l.context)||O.hasOwnProperty(e.root_name);var E=function(){var n,r,o=P.firstChild,i=function(e){e&&(o=e.firstChild,o&&3===o.type&&(o.value=o.value.replace(T,"")),o=e.lastChild,o&&3===o.type&&(o.value=o.value.replace(M,"")))};if(t.isValidChild(P.name,k.toLowerCase())){while(o)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!x[o.name]&&!o.attr("data-mce-type")?(r||(r=A(k,1),r.attr(e.forced_root_block_attrs),P.insert(r,o)),r.append(o)):(i(r),r=null),o=n;i(r)}},A=function(e,t){var r,i=new Ib(e,t);return e in n&&(r=o[e],r?r.push(i):o[e]=[i]),i},L=function(e){var n,r,o,i,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(o=n.value.replace(M,""),o.length>0)return void(n.value=o);if(r=n.next,r){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}},j=function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n},N=Wb({validate:C,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:j(t.getSelfClosingElements()),cdata:function(e){v.append(A("#cdata",4)).value=e},text:function(e,t){var n;g||(e=e.replace(D," "),vT(v.lastChild,x)&&(e=e.replace(T,""))),0!==e.length&&(n=A("#text",3),n.raw=!!t,v.append(n).value=e)},comment:function(e){v.append(A("#comment",8)).value=e},pi:function(e,t){v.append(A(e,7)).value=t,L(v)},doctype:function(e){var t=v.append(A("#doctype",10));t.value=e,L(v)},start:function(e,n,o){var a,s,l,u,c=C?t.getElementRule(e):{};if(c){a=A(c.outputName||e,1),a.attributes=n,a.shortEnded=o,v.append(a),u=_[v.name],u&&_[a.name]&&!u[a.name]&&y.push(a),s=r.length;while(s--)l=r[s].name,l in n.map&&(h=i[l],h?h.push(a):i[l]=[a]);x[e]&&L(a),o||(v=a),!g&&O[e]&&(g=!0)}},end:function(n){var r,o,i,a,s=C?t.getElementRule(n):{};if(s){if(x[n]&&!g){if(r=v.firstChild,r&&3===r.type)if(o=r.value.replace(T,""),o.length>0)r.value=o,r=r.next;else{i=r.next,r.remove(),r=i;while(r&&3===r.type)o=r.value,i=r.next,(0===o.length||I.test(o))&&(r.remove(),r=i),r=i}if(r=v.lastChild,r&&3===r.type)if(o=r.value.replace(M,""),o.length>0)r.value=o,r=r.prev;else{i=r.prev,r.remove(),r=i;while(r&&3===r.type)o=r.value,i=r.prev,(0===o.length||I.test(o))&&(r.remove(),r=i),r=i}}if(g&&O[n]&&(g=!1),s.removeEmpty&&gT(t,w,O,v))return a=v.parent,x[v.name]?v.empty().remove():v.unwrap(),void(v=a);s.paddEmpty&&(pT(v)||gT(t,w,O,v))&&fT(e,l,x,v),v=v.parent}}},t),P=v=new Ib(l.context||e.root_name,11);if(N.parse(s,l.format),C&&y.length&&(l.context?l.invalid=!0:a(y)),k&&("body"===P.name||l.isRootContent)&&E(),!l.invalid){for(m in o)if(o.hasOwnProperty(m)){h=n[m],u=o[m],f=u.length;while(f--)u[f].parent||u.splice(f,1);for(c=0,d=h.length;c<d;c++)h[c](u,m,l)}for(c=0,d=r.length;c<d;c++)if(h=r[c],h.name in i){u=i[h.name],f=u.length;while(f--)u[f].parent||u.splice(f,1);for(f=0,p=h.callbacks.length;f<p;f++)h.callbacks[f](u,h.name,l)}}return P},p={schema:t,addAttributeFilter:c,getAttributeFilters:d,addNodeFilter:l,getNodeFilters:u,filterNode:s,parse:f};return _T(p,e),eT(p,e),p},MT=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",(function(e,t){var n,r=e.length;while(r--)n=e[r],n.attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)})),e.addAttributeFilter("src,href,style",(function(e,r){var o,i,a=e.length,s="data-mce-"+r,l=t.url_converter,u=t.url_converter_scope;while(a--)o=e[a],i=o.attr(s),void 0!==i?(o.attr(r,i.length>0?i:null),o.attr(s,null)):(i=o.attr(r),"style"===r?i=n.serializeStyle(n.parseStyle(i),o.name):l&&(i=l.call(u,i,r,o.name)),o.attr(r,i.length>0?i:null))})),e.addAttributeFilter("class",(function(e){var t,n,r=e.length;while(r--)t=e[r],n=t.attr("class"),n&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))})),e.addAttributeFilter("data-mce-type",(function(e,t,n){var r,o=e.length;while(o--)if(r=e[o],"bookmark"===r.attr("data-mce-type")&&!n.cleanup){var i=D.from(r.firstChild).exists((function(e){return!Vi(e.value)}));i?r.unwrap():r.remove()}})),e.addNodeFilter("noscript",(function(e){var t,n=e.length;while(n--)t=e[n].firstChild,t&&(t.value=ns.decode(t.value))})),e.addNodeFilter("script,style",(function(e,n){var r,o,i,a=e.length,s=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};while(a--)r=e[a],o=r.firstChild?r.firstChild.value:"","script"===n?(i=r.attr("type"),i&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+s(o)+"\n// ]]>")):"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="\x3c!--\n"+s(o)+"\n--\x3e")})),e.addNodeFilter("#comment",(function(e){var r,o=e.length;while(o--)r=e[o],t.preserve_cdata&&0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=n.decode(r.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))})),e.addNodeFilter("xml:namespace,input",(function(e,t){var n,r=e.length;while(r--)n=e[r],7===n.type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))})),e.addAttributeFilter("data-mce-type",(function(t){Z(t,(function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(e,t){var n=e.length;while(n--)e[n].attr(t,null)}))},DT=function(e){var t=function(e){return e&&"br"===e.name},n=e.lastChild;if(t(n)){var r=n.prev;t(r)&&(n.remove(),r.remove())}},IT=function(e,t,n){var r,o,i=e.dom;t=t.cloneNode(!0);var a=document.implementation;return a.createHTMLDocument&&(r=a.createHTMLDocument(""),dn.each("BODY"===t.nodeName?t.childNodes:[t],(function(e){r.body.appendChild(r.importNode(e,!0))})),t="BODY"!==t.nodeName?r.body.firstChild:r.body,o=i.doc,i.doc=r),Dg(e,Ue(Ue({},n),{node:t})),o&&(i.doc=o),t},ET=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},AT=function(e,t,n){return ET(e,n)?IT(e,t,n):t},LT=function(e,t,n){-1===dn.inArray(t,n)&&(e.addAttributeFilter(n,(function(e,t){var n=e.length;while(n--)e[n].attr(t,null)})),t.push(n))},jT=function(e,t,n){if(!t.no_events&&e){var r=Ig(e,Ue(Ue({},t),{content:n}));return r.content}return n},NT=function(e,t,n){var r=Hi(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||ji(vn.fromDom(t))?r:dn.trim(r)},PT=function(e,t,n){var r=n.selection?Ue({forced_root_block:!1},n):n,o=e.parse(t,r);return DT(o),o},RT=function(e,t,n){var r=Lb(e,t);return r.serialize(n)},BT=function(e,t,n,r,o){var i=RT(t,n,r);return jT(e,o,i)},FT=function(e,t){var n=["data-mce-selected"],r=t&&t.dom?t.dom:Iu.DOM,o=t&&t.schema?t.schema:ps(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;var i=TT(e,o);MT(i,e,r);var a=function(n,a){void 0===a&&(a={});var s=Ue({format:"html"},a),l=AT(t,n,s),u=NT(r,l,s),c=PT(i,u,s);return"tree"===s.format?c:BT(t,e,o,c,s)};return{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:a,addRules:function(e){o.addValidElements(e)},setRules:function(e){o.setValidElements(e)},addTempAttr:y(LT,i,n),getTempAttrs:function(){return n},getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}},zT=function(e,t){var n=FT(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},VT="html",HT=function(e,t){void 0===t&&(t={});var n=t.format?t.format:VT;return DO(e,t,n)},UT=function(e,t,n){return void 0===n&&(n={}),IO(e,t,n)},$T=Iu.DOM,qT=function(e){$T.setStyle(e.id,"display",e.orgDisplay)},WT=function(e){return D.from(e).each((function(e){return e.destroy()}))},GT=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},YT=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),$T.unbind(t,"submit reset",e.formEventDelegate))},KT=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&$T.remove(o.nextSibling),Eg(e),e.editorManager.remove(e),!e.inline&&r&&qT(e),Ag(e),$T.remove(e.getContainer()),WT(t),WT(n),e.destroy()}},XT=function(e,t){var n=e.selection,r=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),WT(n),WT(r)),YT(e),GT(e),e.destroyed=!0):e.remove())},JT=Object.prototype.hasOwnProperty,ZT=function(e,t){var n=N(e)&&N(t);return n?eM(e,t):t},QT=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)JT.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}},eM=QT(ZT),tM=function(e,t){return{sections:g(e),settings:g(t)}},nM=Ht().deviceType,rM=nM.isTouch(),oM=nM.isPhone(),iM=nM.isTablet(),aM=["lists","autolink","autosave"],sM={table_grid:!1,object_resizing:!1,resize:!1},lM=function(e){var t=P(e)?e.join(" "):e,n=J(j(t)?t.split(" "):[],ct);return te(n,(function(e){return e.length>0}))},uM=function(e){return te(e,y(K,aM))},cM=function(e,t){var n=Oe(t,(function(t,n){return K(e,n)}));return tM(n.t,n.f)},dM=function(e,t,n){void 0===n&&(n={});var r=e.sections(),o=r.hasOwnProperty(t)?r[t]:{};return dn.extend({},n,o)},fM=function(e,t){return e.sections().hasOwnProperty(t)},pM=function(e,t,n){var r=e.sections();return fM(e,t)&&r[t].theme===n},hM=function(e,t){return fM(e,t)?e.sections()[t]:{}},mM=function(e,t){return Ie(e,"toolbar_mode").orThunk((function(){return Ie(e,"toolbar_drawer").map((function(e){return!1===e?"wrap":e}))})).getOr(t)},gM=function(e,t,n,r,o){var i={id:t,theme:"silver",toolbar_mode:mM(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o};return Ue(Ue({},i),r?sM:{})},vM=function(e,t){var n={resize:!1,toolbar_mode:mM(e,"scrolling"),toolbar_sticky:!1},r={menubar:!1};return Ue(Ue(Ue({},sM),n),t?r:{})},yM=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?dn.extend({},e.external_plugins,n):n},bM=function(e,t){return[].concat(lM(e)).concat(lM(t))},xM=function(e,t,n,r){return e&&pM(t,"mobile","mobile")?uM(r):e&&fM(t,"mobile")?r:n},wM=function(e,t,n,r){var o=lM(n.forced_plugins),i=lM(r.plugins),a=hM(t,"mobile"),s=a.plugins?lM(a.plugins):i,l=xM(e,t,i,s),u=bM(o,l);if(Jt.browser.isIE()&&K(u,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return dn.extend(r,{plugins:u.join(" ")})},_M=function(e,t){return e&&fM(t,"mobile")},CM=function(e,t,n,r,o){var i=e?{mobile:vM(o.mobile||{},t)}:{},a=cM(["mobile"],eM(i,o)),s=dn.extend(n,r,a.settings(),_M(e,a)?dM(a,"mobile"):{},{validate:!0,external_plugins:yM(r,a.settings())});return wM(e,a,r,s)},SM=function(e,t,n,r,o){var i=gM(o,t,n,rM,e);return CM(oM||iM,oM,i,r,o)},kM=function(e,t,n){return D.from(t.settings[n]).filter(e)},OM=function(e){var t={};return"string"===typeof e?Z(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),(function(e){var n=e.split("=");n.length>1?t[dn.trim(n[0])]=dn.trim(n[1]):t[dn.trim(n[0])]=dn.trim(n[0])})):t=e,t},TM=function(e){return function(t){return P(t)&&ue(t,e)}},MM=function(e,t,n,r){var o=t in e.settings?e.settings[t]:n;return"hash"===r?OM(o):"string"===r?kM(j,e,t).getOr(n):"number"===r?kM(U,e,t).getOr(n):"boolean"===r?kM(B,e,t).getOr(n):"object"===r?kM(N,e,t).getOr(n):"array"===r?kM(P,e,t).getOr(n):"string[]"===r?kM(TM(j),e,t).getOr(n):"function"===r?kM(H,e,t).getOr(n):o},DM=function(){var e={},t=function(t,n){e[t]=n},n=function(t){return e[t]?e[t]:{icons:{}}},r=function(t){return Ee(e,t)};return{add:t,get:n,has:r}},IM=DM(),EM=function(e,t){var n=t.dom;return n[e]},AM=function(e,t){return parseInt(vo(t,e),10)},LM=y(EM,"clientWidth"),jM=y(EM,"clientHeight"),NM=y(AM,"margin-top"),PM=y(AM,"margin-left"),RM=function(e){return e.dom.getBoundingClientRect()},BM=function(e,t,n){var r=LM(e),o=jM(e);return t>=0&&n>=0&&t<=r&&n<=o},FM=function(e,t,n,r){var o=RM(t),i=e?o.left+t.dom.clientLeft+PM(t):0,a=e?o.top+t.dom.clientTop+NM(t):0,s=n-i,l=r-a;return{x:s,y:l}},zM=function(e,t,n){var r=vn.fromDom(e.getBody()),o=e.inline?r:$n(r),i=FM(e.inline,o,t,n);return BM(o,i.x,i.y)},VM=function(e){return D.from(e).map(vn.fromDom)},HM=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return VM(t).map(Sr).getOr(!1)};function UM(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}function $M(e){var t=[],n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():UM()},r=function(){return D.from(t[0])},o=function(e,t){return e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout},i=function(){t.length>0&&n().reposition(t)},a=function(e){t.push(e)},s=function(e){ae(t,(function(t){return t===e})).each((function(e){t.splice(e,1)}))},l=function(l,u){if(void 0===u&&(u=!0),!e.removed&&HM(e))return u&&e.fire("BeforeOpenNotification",{notification:l}),ie(t,(function(e){return o(n().getArgs(e),l)})).getOrThunk((function(){e.editorManager.setActive(e);var t=n().open(l,(function(){s(t),i(),r().fold((function(){return e.focus()}),(function(e){return qv(vn.fromDom(e.getEl()))}))}));return a(t),i(),e.fire("OpenNotification",Ue({},t)),t}))},u=function(){r().each((function(e){n().close(e),s(e),i()}))},c=function(){return t},d=function(e){e.on("SkinLoaded",(function(){var t=Wf(e);t&&l({text:t,type:"warning",timeout:0},!1)})),e.on("ResizeEditor ResizeWindow NodeChange",(function(){ci.requestAnimationFrame(i)})),e.on("remove",(function(){Z(t.slice(),(function(e){n().close(e)}))}))};return d(e),{open:l,close:u,getNotifications:c}}var qM=ec.PluginManager,WM=ec.ThemeManager;function GM(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var YM=function(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():GM()},r=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},o=function(t){e.fire("OpenWindow",{dialog:t})},i=function(t){e.fire("CloseWindow",{dialog:t})},a=function(e){t.push(e),o(e)},s=function(n){i(n),t=te(t,(function(e){return e!==n})),0===t.length&&e.focus()},l=function(){return D.from(t[t.length-1])},u=function(t){e.editorManager.setActive(e),Sy(e);var n=t();return a(n),n},c=function(e,t){return u((function(){return n().open(e,t,s)}))},d=function(e){return u((function(){return n().openUrl(e,s)}))},f=function(e,t,o){n().alert(e,r(o||this,t))},p=function(e,t,o){n().confirm(e,r(o||this,t))},h=function(){l().each((function(e){n().close(e),s(e)}))};return e.on("remove",(function(){Z(t,(function(e){n().close(e)}))})),{open:c,openUrl:d,alert:f,confirm:p,close:h}},KM=function(e,t){e.notificationManager.open({type:"error",text:t})},XM=function(e,t){e._skinLoaded?KM(e,t):e.on("SkinLoaded",(function(){KM(e,t)}))},JM=function(e,t){XM(e,Zu.translate(["Failed to upload image: {0}",t]))},ZM=function(e,t,n){zg(e,t,{message:n})},QM=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},eD=function(e,t,n){ZM(e,"PluginLoadError",QM("plugin",t,n))},tD=function(e,t,n){ZM(e,"IconsLoadError",QM("icons",t,n))},nD=function(e,t,n){ZM(e,"LanguageLoadError",QM("language",t,n))},rD=function(e,t,n){var r=Zu.translate(["Failed to initialize plugin: {0}",t]);oD(r,n),XM(e,r)},oD=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,qe([e],t)):r.log.apply(r,qe([e],t)))},iD=function(e){return/^[a-z0-9\-]+$/i.test(e)},aD=function(e){var t=Ff(e),n=e.editorManager.baseURL+"/skins/content",r=e.editorManager.suffix,o="content"+r+".css",i=!0===e.inline;return J(t,(function(t){return iD(t)&&!i?n+"/"+t+"/"+o:e.documentBaseURI.toAbsolute(t)}))},sD=function(e){e.contentCSS=e.contentCSS.concat(aD(e))};function lD(e,t){var n={},r=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},o=function(e,n,o,i){var a=new XMLHttpRequest;a.open("POST",t.url),a.withCredentials=t.credentials,a.upload.onprogress=function(e){i(e.loaded/e.total*100)},a.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){if(a.status<200||a.status>=300)o("HTTP Error: "+a.status);else{var e=JSON.parse(a.responseText);e&&"string"===typeof e.location?n(r(t.basePath,e.location)):o("Invalid JSON: "+a.responseText)}};var s=new FormData;s.append("file",e.blob(),e.filename()),a.send(s)},i=function(){return new ri((function(e){e([])}))},a=function(e,t){return{url:t,blobInfo:e,status:!0}},s=function(e,t,n){return{url:"",blobInfo:e,status:!1,error:{message:t,options:n}}},l=function(e,t){dn.each(n[e],(function(e){e(t)})),delete n[e]},u=function(t,n,r){return e.markPending(t.blobUri()),new ri((function(o){var i,u,c=function(){};try{var d=function(){i&&(i.close(),u=c)},f=function(n){d(),e.markUploaded(t.blobUri(),n),l(t.blobUri(),a(t,n)),o(a(t,n))},p=function(n,r){var i=r||{};d(),e.removeFailed(t.blobUri()),l(t.blobUri(),s(t,n,i)),o(s(t,n,i))};u=function(e){e<0||e>100||(i||(i=r()),i.progressBar.value(e))},n(t,f,p,u)}catch(h){o(s(t,h.message,{}))}}))},c=function(e){return e===o},d=function(e){var t=e.blobUri();return new ri((function(e){n[t]=n[t]||[],n[t].push(e)}))},f=function(n,r){return n=dn.grep(n,(function(t){return!e.isUploaded(t.blobUri())})),ri.all(dn.map(n,(function(n){return e.isPending(n.blobUri())?d(n):u(n,t.handler,r)})))},p=function(e,n){return!t.url&&c(t.handler)?i():f(e,n)};return!1===H(t.handler)&&(t.handler=o),{upload:p}}function uD(){var e=1,t=2,n={},r=function(e,t){return{status:e,resultUri:t}},o=function(e){return e in n},i=function(e){var t=n[e];return t?t.resultUri:null},a=function(t){return!!o(t)&&n[t].status===e},s=function(e){return!!o(e)&&n[e].status===t},l=function(t){n[t]=r(e,null)},u=function(e,o){n[e]=r(t,o)},c=function(e){delete n[e]},d=function(){n={}};return{hasBlobUri:o,getResultUri:i,isPending:a,isUploaded:s,markPending:l,markUploaded:u,removeFailed:c,destroy:d}}var cD=0,dD=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)},t=(new Date).getTime();return"s"+t.toString(36)+e()+e()+e()},fD=function(e){return e+cD+++dD()},pD=function(){var e=[],t=function(e){var t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return t[e.toLowerCase()]||"dat"},n=function(e,t,n,o,i){if(j(e)){var a=e;return r({id:a,name:o,filename:i,blob:t,base64:n})}if(N(e))return r(e);throw new Error("Unknown input type")},r=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var n=e.id||fD("blobid"),r=e.name||n,o=e.blob;return{id:g(n),name:g(r),filename:g(e.filename||r+"."+t(o.type)),blob:g(o),base64:g(e.base64),blobUri:g(e.blobUri||URL.createObjectURL(o)),uri:g(e.uri)}},o=function(t){a(t.id())||e.push(t)},i=function(t){return ie(e,t).getOrUndefined()},a=function(e){return i((function(t){return t.id()===e}))},s=function(e){return i((function(t){return t.blobUri()===e}))},l=function(e,t){return i((function(n){return n.base64()===e&&n.blob().type===t}))},u=function(t){e=te(e,(function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)}))},c=function(){Z(e,(function(e){URL.revokeObjectURL(e.blobUri())})),e=[]};return{create:n,add:o,get:a,getByUri:s,getByData:l,findFirst:i,removeByUri:u,destroy:c}},hD=function(e){var t=Fu(null);e.on("change AddUndo",(function(e){t.set(Ue({},e.level))}));var n=function(){var n=e.undoManager.data;ge(n).filter((function(e){return!Rk(t.get(),e)})).each((function(t){e.setDirty(!0),e.fire("change",{level:t,lastLevel:he(n,n.length-2).getOrNull()})}))};return{fireIfChanged:n}},mD=function(e){var t,n,r=pD(),o=uD(),i=[],a=hD(e),s=function(t){return function(n){return e.selection?t(n):[]}},l=function(e){return e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime()},u=function(e,t,n){var r=0;do{r=e.indexOf(t,r),-1!==r&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},c=function(e,t,n){var r='src="'+n+'"'+(n===Jt.transparentSrc?' data-mce-placeholder="1"':"");return e=u(e,'src="'+t+'"',r),e=u(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"'),e},d=function(t,n){Z(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=J(e.fragments,(function(e){return c(e,t,n)})):e.content=c(e.content,t,n)}))},f=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},p=function(t,n){var r=e.convertURL(n,"src");d(t.src,n),e.$(t).attr({src:kf(e)?l(n):n,"data-mce-src":r})},h=function(n){return t||(t=lD(o,{url:Df(e),basePath:If(e),credentials:Ef(e),handler:Af(e)})),y().then(s((function(o){var i=J(o,(function(e){return e.blobInfo}));return t.upload(i,f).then(s((function(t){var i=[],s=J(t,(function(t,n){var a=o[n].blobInfo,s=o[n].image;return t.status&&Of(e)?(r.removeByUri(s.src),p(s,t.url)):t.error&&(t.error.options.remove&&(d(s.getAttribute("src"),Jt.transparentSrc),i.push(s)),JM(e,t.error.message)),{element:s,status:t.status,uploadUri:t.url,blobInfo:a}}));return s.length>0&&a.fireIfChanged(),i.length>0&&(iO(e)||e.undoManager.transact((function(){Z(i,(function(t){e.dom.remove(t),r.removeByUri(t.src)}))}))),n&&n(s),s})))})))},m=function(t){if(Sf(e))return h(t)},g=function(t){if(!1===ue(i,(function(e){return e(t)})))return!1;if(0===t.getAttribute("src").indexOf("data:")){var n=Cf(e);return n(t)}return!0},v=function(e){i.push(e)},y=function(){return n||(n=dT(o,r)),n.findAll(e.getBody(),g).then(s((function(t){return t=te(t,(function(t){return"string"!==typeof t||(XM(e,t),!1)})),Z(t,(function(e){d(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),t})))},b=function(){r.destroy(),o.destroy(),n=t=null},x=function(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var i=o.getResultUri(n);if(i)return'src="'+i+'"';var a=r.getByUri(n);if(a||(a=re(e.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)}),null)),a){var s=a.blob();return'src="data:'+s.type+";base64,"+a.base64()+'"'}return t}))};return e.on("SetContent",(function(){Sf(e)?m():y()})),e.on("RawSaveContent",(function(e){e.content=x(e.content)})),e.on("GetContent",(function(e){e.source_view||"raw"===e.format||"tree"===e.format||(e.content=x(e.content))})),e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(e){Z(e,(function(e){var t=e.attr("src");if(!r.getByUri(t)){var n=o.getResultUri(t);n&&e.attr("src",n)}}))}))})),{blobCache:r,addFilter:v,uploadImages:h,uploadImagesAuto:m,scanForImages:y,destroy:b}},gD=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(e,t,n){return Fr(e)&&e.hasAttribute("href")},onformat:function(t,n,r){dn.each(r,(function(n,r){e.setAttrib(t,r,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return dn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(e){t[e]={block:e,remove:"all"}})),t};function vD(e){var t={},n=function(e){return e?t[e]:t},r=function(e){return Ee(t,e)},o=function(e,n){e&&("string"!==typeof e?dn.each(e,(function(e,t){o(t,e)})):(P(n)||(n=[n]),dn.each(n,(function(e){"undefined"===typeof e.deep&&(e.deep=!e.selector),"undefined"===typeof e.split&&(e.split=!e.selector||e.inline),"undefined"===typeof e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"===typeof e.classes&&(e.classes=e.classes.split(/\s+/))})),t[e]=n))},i=function(e){return e&&t[e]&&delete t[e],t};return o(gD(e.dom)),o(Xf(e)),{get:n,has:r,register:o,unregister:i}}var yD,bD=dn.each,xD=Iu.DOM,wD=function(e,t){var n,r,o,i=t&&t.schema||ps({}),a=function(e,t){t.classes.length&&xD.addClass(e,t.classes.join(" ")),xD.setAttribs(e,t.attrs)},s=function(e){r="string"===typeof e?{name:e,classes:[],attrs:{}}:e;var t=xD.create(r.name);return a(t,r),t},l=function(e,t){var n="string"!==typeof e?e.nodeName.toLowerCase():e,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(t&&-1!==dn.inArray(o,t)?t:o[0])},u=function(e,t,n){var r,o,i=t.length>0&&t[0],a=i&&i.name,c=l(e,a);if(c)a===c?(o=t[0],t=t.slice(1)):o=c;else if(i)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=s(o),r.appendChild(e)),n&&(r||(r=xD.create("div"),r.appendChild(e)),dn.each(n,(function(t){var n=s(t);r.insertBefore(n,e)}))),u(r,t,o&&o.siblings)};return e&&e.length?(r=e[0],n=s(r),o=xD.create("div"),o.appendChild(u(n,e.slice(1),r.siblings)),o):""},_D=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=dn.trim(e),"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==dn.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r);break}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""}))),n.name=t||"div",n},CD=function(e){return e&&"string"===typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),dn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var t=dn.map(e.split(/(?:~\+|~|\+)/),_D),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[]},SD=function(e,t){var n,r,o,i="",a=Jf(e);if(""===a)return"";var s=function(e){return e.replace(/%(\w+)/g,"")};if("string"===typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}if("preview"in t){var l=Ie(t,"preview");if(l.is(!1))return"";a=l.getOr(a)}n=t.block||t.inline||"span";var u=CD(t.selector);u.length?(u[0].name||(u[0].name=n),n=t.selector,r=wD(u,e)):r=wD([n],e);var c=xD.select(n,r)[0]||r.firstChild;return bD(t.styles,(function(e,t){var n=s(e);n&&xD.setStyle(c,t,n)})),bD(t.attributes,(function(e,t){var n=s(e);n&&xD.setAttrib(c,t,n)})),bD(t.classes,(function(e){var t=s(e);xD.hasClass(c,t)||xD.addClass(c,t)})),e.fire("PreviewFormats"),xD.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),o=xD.getStyle(e.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,bD(a.split(" "),(function(t){var n=xD.getStyle(c,t,!0);if(("background-color"!==t||!/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)||(n=xD.getStyle(e.getBody(),t,!0),"#ffffff"!==xD.toHex(n).toLowerCase()))&&("color"!==t||"#000000"!==xD.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===o)return;var r=parseFloat(n)/(/%$/.test(n)?100:1);n=r*o+"px"}"border"===t&&n&&(i+="padding:0 2px;"),i+=t+":"+n+";"}})),e.fire("AfterPreviewFormats"),xD.remove(r),i},kD=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},OD=function(e){var t=vD(e),n=Fu(null);return kD(e),EC(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(t,n,r){kO(e,t,n,r)},remove:function(t,n,r,o){OO(e,t,n,r,o)},toggle:function(t,n,r){TO(e,t,n,r)},match:function(t,n,r){return xO(e,t,n,r)},closest:function(t){return SO(e,t)},matchAll:function(t,n){return wO(e,t,n)},matchNode:function(t,n,r,o){return _O(e,t,n,r,o)},canApply:function(t){return CO(e,t)},formatChanged:function(t,r,o){return MO(e,n,t,r,o)},getCssText:y(SD,e)}},TD=function(e,t,n){var r=Fu(!1),o=function(e){Fk(t,!1,n),t.add({},e)};e.on("init",(function(){t.add()})),e.on("BeforeExecCommand",(function(e){var r=e.command.toLowerCase();"undo"!==r&&"redo"!==r&&"mcerepaint"!==r&&(zk(t,n),t.beforeChange())})),e.on("ExecCommand",(function(e){var t=e.command.toLowerCase();"undo"!==t&&"redo"!==t&&"mcerepaint"!==t&&o(e)})),e.on("ObjectResizeStart cut",(function(){t.beforeChange()})),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",(function(n){var i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(o(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),r.get()&&t.typing&&!1===Rk(Ek(e),t.data[0])&&(!1===e.isDirty()&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))})),e.on("keydown",(function(e){var i=e.keyCode;if(!e.isDefaultPrevented())if(i>=33&&i<=36||i>=37&&i<=40||45===i)t.typing&&o(e);else{var a=e.ctrlKey&&!e.altKey||e.metaKey;!(i<16||i>20)||224===i||91===i||t.typing||a||(t.beforeChange(),Fk(t,!0,n),t.add({},e),r.set(!0))}})),e.on("mousedown",(function(e){t.typing&&o(e)}));var i=function(e){return"insertReplacementText"===e.inputType},a=function(e){return"insertText"===e.inputType&&null===e.data},s=function(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType};e.on("input",(function(e){e.inputType&&(i(e)||a(e)||s(e))&&o(e)})),e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()}))},MD=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},DD=function(e){var t=Fu(D.none()),n=Fu(0),r=Fu(0),o={data:[],typing:!1,beforeChange:function(){uO(e,n,t)},add:function(i,a){return cO(e,o,r,n,t,i,a)},undo:function(){return dO(e,o,n,r)},redo:function(){return fO(e,r,o.data)},clear:function(){pO(e,o,r)},reset:function(){hO(e,o)},hasUndo:function(){return mO(e,o,r)},hasRedo:function(){return gO(e,o,r)},transact:function(t){return vO(e,o,n,t)},ignore:function(t){yO(e,n,t)},extra:function(t,n){bO(e,o,r,t,n)}};return iO(e)||TD(e,o,n),MD(e),o},ID=[9,27,Vg.HOME,Vg.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Vg.DOWN,Vg.UP,Vg.LEFT,Vg.RIGHT].concat(Jt.browser.isFirefox()?[224]:[]),ED="data-mce-placeholder",AD=function(e){return"keydown"===e.type||"keyup"===e.type},LD=function(e){var t=e.keyCode;return t===Vg.BACKSPACE||t===Vg.DELETE},jD=function(e){if(AD(e)){var t=e.keyCode;return!LD(e)&&(Vg.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||K(ID,t))}return!1},ND=function(e){return AD(e)&&!(LD(e)||"keyup"===e.type&&229===e.keyCode)},PD=function(e,t,n){if(Ia(vn.fromDom(t),!1)){var r=""===n,o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(r?!e.isBlock(o):n===o.nodeName.toLowerCase())}return!1},RD=function(e){var t=e.dom,n=mf(e),r=$f(e),o=function(i,a){if(!jD(i)){var s=e.getBody(),l=!ND(i)&&PD(t,s,n),u=""!==t.getAttrib(s,ED);(u!==l||a)&&(t.setAttrib(s,ED,l?r:null),t.setAttrib(s,"aria-placeholder",l?r:null),Fg(e,l),e.on(l?"keydown":"keyup",o),e.off(l?"keyup":"keydown",o))}};r&&e.on("init",(function(t){o(t,!0),e.on("change SetContent ExecCommand",o),e.on("paste",(function(t){return ci.setEditorTimeout(e,(function(){return o(t)}))}))}))},BD=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,FD=function(e){return BD.test(e)},zD=function(e,t){return On(vn.fromDom(t),Vf(e))},VD=function(e){return"rtl"===Iu.DOM.getStyle(e,"direction",!0)||FD(e.textContent)},HD=function(e,t,n){return te(Iu.DOM.getParents(n.container(),"*",t),e)},UD=function(e,t,n){var r=HD(e,t,n);return D.from(r[r.length-1])},$D=function(e,t,n){var r=Zp(t,e),o=Zp(n,e);return r&&r===o},qD=function(e){return Xi(e)||Ji(e)},WD=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?Wi(n)?Kr(n.nextSibling)?Cd(n.nextSibling,0):Cd.after(n):Xi(t)?Cd(n,r+1):t:Wi(n)?Kr(n.previousSibling)?Cd(n.previousSibling,n.previousSibling.data.length):Cd.before(n):Ji(t)?Cd(n,r-1):t},GD=y(WD,!0),YD=y(WD,!1),KD=function(e){return function(t){return In(e,vn.fromDom(t.dom.parentNode))}},XD=function(e,t){return Ln(e,t)?Xo(t,(function(e){return Di(e)||Ei(e)}),KD(e)):D.none()},JD=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},ZD=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),JD(e))},QD=function(e,t,n){return Bc(Fh(n),zh(n),(function(r,o){var i=WD(!0,r),a=WD(!1,o),s=WD(!1,t);return e?Rh(n,s).exists((function(e){return e.isEqual(a)&&t.isEqual(i)})):Bh(n,s).exists((function(e){return e.isEqual(i)&&t.isEqual(a)}))})).getOr(!0)},eI=function(e,t){return{block:e,position:t}},tI=function(e,t){return{from:e,to:t}},nI=function(e,t){var n=vn.fromDom(e),r=vn.fromDom(t.container());return XD(n,r).map((function(e){return eI(e,t)}))},rI=function(e){return!1===In(e.from.block,e.to.block)},oI=function(e){return Wn(e.from.block).bind((function(t){return Wn(e.to.block).filter((function(e){return In(t,e)}))})).isSome()},iI=function(e){return!1===no(e.from.block.dom)&&!1===no(e.to.block.dom)},aI=function(e,t,n){return Qr(n.position.getNode())&&!1===Ia(n.block)?Ph(!1,n.block.dom).bind((function(r){return r.isEqual(n.position)?Lh(t,e,r).bind((function(t){return nI(e,t)})):D.some(n)})).getOr(n):n},sI=function(e,t,n){var r=nI(e,Cd.fromRangeStart(n)),o=r.bind((function(n){return Lh(t,e,n.position).bind((function(n){return nI(e,n).map((function(n){return aI(e,t,n)}))}))}));return Bc(r,o,tI).filter((function(e){return rI(e)&&oI(e)&&iI(e)}))},lI=function(e,t,n){return n.collapsed?sI(e,t,n):D.none()},uI=function(e){var t=Qn(e);return ae(t,ki).fold((function(){return t}),(function(e){return t.slice(0,e)}))},cI=function(e){var t=uI(e);return Z(t,_r),t},dI=function(e,t){var n=Cx(t,e);return ie(n.reverse(),(function(e){return Ia(e)})).each(_r)},fI=function(e){return 0===te(Jn(e),(function(e){return!Ia(e)})).length},pI=function(e,t,n,r){if(Ia(n))return yx(n),Fh(n.dom);fI(r)&&Ia(t)&&hr(r,vn.fromTag("br"));var o=Bh(n.dom,Cd.before(r.dom));return Z(cI(t),(function(e){hr(r,e)})),dI(e,t),o},hI=function(e,t,n){if(Ia(n))return _r(n),Ia(t)&&yx(t),Fh(t.dom);var r=zh(n.dom);return Z(cI(t),(function(e){vr(n,e)})),dI(e,t),r},mI=function(e,t){var n=Cx(t,e);return D.from(n[n.length-1])},gI=function(e,t){return Ln(t,e)?mI(t,e):D.none()},vI=function(e,t){Ph(e,t.dom).map((function(e){return e.getNode()})).map(vn.fromDom).filter(Mi).each(_r)},yI=function(e,t,n){return vI(!0,t),vI(!1,n),gI(t,n).fold(y(hI,e,t,n),y(pI,e,t,n))},bI=function(e,t,n,r){return t?yI(e,r,n):yI(e,n,r)},xI=function(e,t){var n=vn.fromDom(e.getBody()),r=lI(n.dom,t,e.selection.getRng()).bind((function(e){return bI(n,t,e.from.block,e.to.block)}));return r.each((function(t){e.selection.setRng(t.toRange())})),r.isSome()},wI=function(e,t){var n=t.getRng();return Bc(XD(e,vn.fromDom(n.startContainer)),XD(e,vn.fromDom(n.endContainer)),(function(r,o){return!1===In(r,o)&&(n.deleteContents(),bI(e,!0,r,o).each((function(e){t.setRng(e.toRange())})),!0)})).getOr(!1)},_I=function(e,t){var n=vn.fromDom(t),r=y(In,e);return Ko(n,Li,r).isSome()},CI=function(e,t){return _I(e,t.startContainer)||_I(e,t.endContainer)},SI=function(e,t){var n=Bh(e.dom,Cd.fromRangeStart(t)).isNone(),r=Rh(e.dom,Cd.fromRangeEnd(t)).isNone();return!CI(e,t)&&n&&r},kI=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},OI=function(e){var t=vn.fromDom(e.getBody()),n=e.selection.getRng();return SI(t,n)?kI(e):wI(t,e.selection)},TI=function(e,t){return!e.selection.isCollapsed()&&OI(e)},MI=to,DI=no,II=function(e,t,n,r,o){return D.from(t._selectionOverrides.showCaret(e,n,r,o))},EI=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},AI=function(e,t){var n=e.fire("BeforeObjectSelected",{target:t});return n.isDefaultPrevented()?D.none():D.some(EI(t))},LI=function(e,t,n){var r=ah(1,e.getBody(),t),o=Cd.fromRangeStart(r),i=o.getNode();if(Fp(i))return II(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(Fp(a))return II(1,e,a,!1,!1);var s=e.dom.getParent(o.getNode(),(function(e){return DI(e)||MI(e)}));return Fp(s)?II(1,e,s,!1,n):D.none()},jI=function(e,t,n){return t.collapsed?LI(e,t,n).getOr(t):t},NI=function(e){return hx(e)||cx(e)},PI=function(e){return mx(e)||dx(e)},RI=function(e,t){Kr(t)&&0===t.data.length&&e.remove(t)},BI=function(e,t,n,r,o,i){return II(r,e,i.getNode(!o),o,!0).each((function(n){if(t.collapsed){var r=t.cloneRange();o?r.setEnd(n.startContainer,n.startOffset):r.setStart(n.endContainer,n.endOffset),r.deleteContents()}else t.deleteContents();e.selection.setRng(n)})),RI(e.dom,n),!0},FI=function(e,t){var n=e.selection.getRng();if(!Kr(n.commonAncestorContainer))return!1;var r=t?_d.Forwards:_d.Backwards,o=kh(e.getBody()),i=y(dh,t?o.next:o.prev),a=t?NI:PI,s=lh(r,e.getBody(),n),l=WD(t,i(s));if(!l||!fh(s,l))return!1;if(a(l))return BI(e,n,s.getNode(),r,t,l);var u=i(l);return!!(u&&a(u)&&fh(l,u))&&BI(e,n,s.getNode(),r,t,u)},zI=function(e,t){return FI(e,t)},VI=function(e){return Li(vn.fromDom(e))||Ei(vn.fromDom(e))},HI=qo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),UI=function(e,t){var n=t.getNode(!1===e),r=e?"after":"before";return Fr(n)&&n.getAttribute("data-mce-caret")===r},$I=function(e,t,n,r){var o=function(t){return Ti(vn.fromDom(t))&&!Qp(n,r,e)};return sh(!t,n).fold((function(){return sh(t,r).fold(C,o)}),o)},qI=function(e,t,n,r){var o=r.getNode(!1===t);return XD(vn.fromDom(e),vn.fromDom(n.getNode())).map((function(e){return Ia(e)?HI.remove(e.dom):HI.moveToElement(o)})).orThunk((function(){return D.some(HI.moveToElement(o))}))},WI=function(e,t,n){return Lh(t,e,n).bind((function(r){return VI(r.getNode())||$I(e,t,n,r)?D.none():t&&no(r.getNode())||!1===t&&no(r.getNode(!0))?qI(e,t,n,r):t&&mx(n)||!1===t&&hx(n)?D.some(HI.moveToPosition(r)):D.none()}))},GI=function(e,t){return e&&no(t.nextSibling)?D.some(HI.moveToElement(t.nextSibling)):!1===e&&no(t.previousSibling)?D.some(HI.moveToElement(t.previousSibling)):D.none()},YI=function(e,t,n){return n.fold((function(e){return D.some(HI.remove(e))}),(function(e){return D.some(HI.moveToElement(e))}),(function(n){return Qp(t,n,e)?D.none():D.some(HI.moveToPosition(n))}))},KI=function(e,t,n){return UI(t,n)?GI(t,n.getNode(!1===t)).fold((function(){return WI(e,t,n)}),D.some):WI(e,t,n).bind((function(t){return YI(e,n,t)}))},XI=function(e,t,n){var r=ah(t?1:-1,e,n),o=Cd.fromRangeStart(r),i=vn.fromDom(e);return!1===t&&mx(o)?D.some(HI.remove(o.getNode(!0))):t&&hx(o)?D.some(HI.remove(o.getNode())):!1===t&&hx(o)&&Nx(i,o)?Px(i,o).map((function(e){return HI.remove(e.getNode())})):t&&mx(o)&&jx(i,o)?Rx(i,o).map((function(e){return HI.remove(e.getNode())})):KI(e,t,o)},JI=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),Dw(e,t,vn.fromDom(n)),!0}},ZI=function(e,t){return function(n){var r=t?Cd.before(n):Cd.after(n);return e.selection.setRng(r.toRange()),!0}},QI=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},eE=function(e,t){return D.from(Tg(e.getBody(),t))},tE=function(e,t){var n=e.selection.getNode();return eE(e,n).filter(no).fold((function(){return XI(e.getBody(),t,e.selection.getRng()).exists((function(n){return n.fold(JI(e,t),ZI(e,t),QI(e))}))}),S)},nE=function(e){Z(mc(e,".mce-offscreen-selection"),_r)},rE=function(e,t){var n=e.selection.getNode();if(no(n)){var r=eE(e,n.parentNode).filter(no);return r.fold((function(){return nE(vn.fromDom(e.getBody())),Dw(e,t,vn.fromDom(e.selection.getNode())),ZD(e),!0}),(function(){return!0}))}return!1},oE=function(e){var t=e.dom,n=e.selection,r=Tg(e.getBody(),n.getNode());if(to(r)&&t.isBlock(r)&&t.isEmpty(r)){var o=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(o),n.setRng(Cd.before(o).toRange())}return!0},iE=function(e,t){return e.selection.isCollapsed()?tE(e,t):rE(e,t)},aE=function(e,t){var n=Cd.fromRangeStart(e.selection.getRng());return Lh(t,e.getBody(),n).filter((function(e){return t?lx(e):ux(e)})).bind((function(e){return D.from(eh(t?0:-1,e))})).exists((function(t){return e.selection.select(t),!0}))},sE=function(e,t){return!!e.selection.isCollapsed()&&aE(e,t)},lE=Kr,uE=function(e){return lE(e)&&e.data[0]===zi},cE=function(e){return lE(e)&&e.data[e.data.length-1]===zi},dE=function(e){return e.ownerDocument.createTextNode(zi)},fE=function(e){if(lE(e.previousSibling))return cE(e.previousSibling)||e.previousSibling.appendData(zi),e.previousSibling;if(lE(e))return uE(e)||e.insertData(0,zi),e;var t=dE(e);return e.parentNode.insertBefore(t,e),t},pE=function(e){if(lE(e.nextSibling))return uE(e.nextSibling)||e.nextSibling.insertData(0,zi),e.nextSibling;if(lE(e))return cE(e)||e.appendData(zi),e;var t=dE(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},hE=function(e,t){return e?fE(t):pE(t)},mE=y(hE,!0),gE=y(hE,!1),vE=function(e,t){return Kr(e.container())?hE(t,e.container()):hE(t,e.getNode())},yE=function(e,t){var n=t.get();return n&&e.container()===n&&Wi(n)},bE=function(e,t){return t.fold((function(t){Dp(e.get());var n=mE(t);return e.set(n),D.some(Cd(n,n.length-1))}),(function(t){return Fh(t).map((function(t){if(yE(t,e))return Cd(e.get(),1);Dp(e.get());var n=vE(t,!0);return e.set(n),Cd(n,1)}))}),(function(t){return zh(t).map((function(t){if(yE(t,e))return Cd(e.get(),e.get().length-1);Dp(e.get());var n=vE(t,!1);return e.set(n),Cd(n,n.length-1)}))}),(function(t){Dp(e.get());var n=gE(t);return e.set(n),D.some(Cd(n,1))}))},xE=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return D.none()},wE=qo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),_E=function(e,t){var n=Zp(t,e);return n||e},CE=function(e,t,n){var r=GD(n),o=_E(t,r.container());return UD(e,o,r).fold((function(){return Rh(o,r).bind(y(UD,e,o)).map((function(e){return wE.before(e)}))}),D.none)},SE=function(e,t){return null===Uh(e,t)},kE=function(e,t,n){return UD(e,t,n).filter(y(SE,t))},OE=function(e,t,n){var r=YD(n);return kE(e,t,r).bind((function(e){var t=Bh(e,r);return t.isNone()?D.some(wE.start(e)):D.none()}))},TE=function(e,t,n){var r=GD(n);return kE(e,t,r).bind((function(e){var t=Rh(e,r);return t.isNone()?D.some(wE.end(e)):D.none()}))},ME=function(e,t,n){var r=YD(n),o=_E(t,r.container());return UD(e,o,r).fold((function(){return Bh(o,r).bind(y(UD,e,o)).map((function(e){return wE.after(e)}))}),D.none)},DE=function(e){return!1===VD(EE(e))},IE=function(e,t,n){var r=xE([CE,OE,TE,ME],[e,t,n]);return r.filter(DE)},EE=function(e){return e.fold(v,v,v,v)},AE=function(e){return e.fold(g("before"),g("start"),g("end"),g("after"))},LE=function(e){return e.fold(wE.before,wE.before,wE.after,wE.after)},jE=function(e){return e.fold(wE.start,wE.start,wE.end,wE.end)},NE=function(e,t){return AE(e)===AE(t)&&EE(e)===EE(t)},PE=function(e,t,n,r,o,i){return Bc(UD(t,n,r),UD(t,n,o),(function(t,r){return t!==r&&$D(n,t,r)?wE.after(e?t:r):i})).getOr(i)},RE=function(e,t){return e.fold(S,(function(e){return!NE(e,t)}))},BE=function(e,t,n,r,o){var i=WD(e,o),a=Lh(e,n,i).map(y(WD,e)),s=a.fold((function(){return r.map(LE)}),(function(o){return IE(t,n,o).map(y(PE,e,t,n,i,o)).filter(y(RE,r))}));return s.filter(DE)},FE=function(e,t){return e?t.fold(h(D.some,wE.start),D.none,h(D.some,wE.after),D.none):t.fold(D.none,h(D.some,wE.before),D.none,h(D.some,wE.end))},zE=function(e,t,n,r){var o=WD(e,r),i=IE(t,n,o);return IE(t,n,o).bind(y(FE,e)).orThunk((function(){return BE(e,t,n,i,r)}))},VE=(y(zE,!1),y(zE,!0),function(e){return H(e.selection.getSel().modify)}),HE=function(e,t,n){var r=e?1:-1;return t.setRng(Cd(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},UE=function(e,t){var n=t.selection.getRng(),r=e?Cd.fromRangeEnd(n):Cd.fromRangeStart(n);return!!VE(t)&&(e&&Xi(r)?HE(!0,t.selection,r):!(e||!Ji(r))&&HE(!1,t.selection,r))},$E=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},qE=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},WE=function(e,t,n){return bE(t,n).map((function(t){return $E(e,t),n}))},GE=function(e,t,n){var r=e.getBody(),o=Cd.fromRangeStart(e.selection.getRng()),i=y(zD,e),a=zE(n,i,r,o);return a.bind((function(n){return WE(e,t,n)}))},YE=function(e,t,n){var r=J(mc(vn.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(e){return e.dom})),o=te(r,e),i=te(n,e);Z(de(o,i),y(qE,!1)),Z(de(i,o),y(qE,!0))},KE=function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=Cd.fromRangeStart(e.selection.getRng());Cd.isTextPosition(n)&&!1===qD(n)&&($E(e,Mp(t.get(),n)),t.set(null))}},XE=function(e,t,n,r){if(t.selection.isCollapsed()){var o=te(r,e);Z(o,(function(r){var o=Cd.fromRangeStart(t.selection.getRng());IE(e,t.getBody(),o).bind((function(e){return WE(t,n,e)}))}))}},JE=function(e,t,n){return!!Kf(e)&&GE(e,t,n).isSome()},ZE=function(e,t,n){return!!Kf(t)&&UE(e,t)},QE=function(e){var t=Fu(null),n=y(zD,e);return e.on("NodeChange",(function(r){!Kf(e)||Jt.browser.isIE()&&r.initial||(YE(n,e.dom,r.parents),KE(e,t),XE(n,e,t,r.parents))})),t},eA=y(ZE,!0),tA=y(ZE,!1),nA=function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},rA=function(e){return Bc(Fh(e),zh(e),(function(t,n){var r=WD(!0,t),o=WD(!1,n);return Rh(e,r).forall((function(e){return e.isEqual(o)}))})).getOr(!0)},oA=function(e,t){return function(n){return bE(t,n).exists((function(t){return $E(e,t),!0}))}},iA=function(e,t,n,r){var o=e.getBody(),i=y(zD,e);e.undoManager.ignore((function(){e.selection.setRng(nA(n,r)),e.execCommand("Delete"),IE(i,o,Cd.fromRangeStart(e.selection.getRng())).map(jE).map(oA(e,t))})),e.nodeChanged()},aA=function(e,t){var n=Zp(t,e);return n||e},sA=function(e,t,n,r){var o=aA(e.getBody(),r.container()),i=y(zD,e),a=IE(i,o,r);return a.bind((function(e){return n?e.fold(g(D.some(jE(e))),D.none,g(D.some(LE(e))),D.none):e.fold(D.none,g(D.some(LE(e))),D.none,g(D.some(jE(e))))})).map(oA(e,t)).getOrThunk((function(){var s=jh(n,o,r),l=s.bind((function(e){return IE(i,o,e)}));return Bc(a,l,(function(){return UD(i,o,r).exists((function(t){return!!rA(t)&&(Dw(e,n,vn.fromDom(t)),!0)}))})).orThunk((function(){return l.bind((function(o){return s.map((function(o){return n?iA(e,t,r,o):iA(e,t,o,r),!0}))}))})).getOr(!1)}))},lA=function(e,t,n){if(e.selection.isCollapsed()&&Kf(e)){var r=Cd.fromRangeStart(e.selection.getRng());return sA(e,t,n,r)}return!1},uA=function(e,t){var n=Cx(t,e);return ae(n,ki).fold(g(n),(function(e){return n.slice(0,e)}))},cA=function(e){return 1===Qn(e).length},dA=function(e,t,n,r){var o=y(LC,t),i=J(te(r,o),(function(e){return e.dom}));if(0===i.length)Dw(t,e,n);else{var a=AC(n.dom,i);t.selection.setRng(a.toRange())}},fA=function(e,t){var n=vn.fromDom(e.getBody()),r=vn.fromDom(e.selection.getStart()),o=te(uA(n,r),cA);return ge(o).exists((function(n){var r=Cd.fromRangeStart(e.selection.getRng());return!(!QD(t,r,n.dom)||jC(n))&&(dA(t,e,n,o),!0)}))},pA=function(e,t){return!!e.selection.isCollapsed()&&fA(e,t)},hA=function(e,t,n){return e._selectionOverrides.hideFakeCaret(),Dw(e,t,vn.fromDom(n)),!0},mA=function(e,t){var n=t?cx:dx,r=t?_d.Forwards:_d.Backwards,o=lh(r,e.getBody(),e.selection.getRng());return n(o)?hA(e,t,o.getNode(!t)):D.from(WD(t,o)).filter((function(e){return n(e)&&fh(o,e)})).exists((function(n){return hA(e,t,n.getNode(!t))}))},gA=function(e,t){var n=e.selection.getNode();return!!oo(n)&&hA(e,t,n)},vA=function(e,t){return e.selection.isCollapsed()?mA(e,t):gA(e,t)},yA=function(e){return Xo(e,(function(e){return to(e.dom)||no(e.dom)})).exists((function(e){return to(e.dom)}))},bA=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},xA=function(e,t){var n=e||Oi(t)?"margin":"padding",r="rtl"===vo(t,"direction")?"-right":"-left";return n+r},wA=function(e,t,n,r,o,i){var a=xA(n,vn.fromDom(i));if("outdent"===t){var s=Math.max(0,bA(i.style[a])-r);e.setStyle(i,a,s?s+o:"")}else{s=bA(i.style[a])+r+o;e.setStyle(i,a,s)}},_A=function(e,t){return ue(t,(function(t){var n=xA(Rf(e),t),r=bo(t,n).map(bA).getOr(0),o=e.dom.getContentEditable(t.dom);return"false"!==o&&r>0}))},CA=function(e){var t=OA(e);return!e.mode.isReadOnly()&&(t.length>1||_A(e,t))},SA=function(e){return Ii(e)||Ei(e)},kA=function(e){return Wn(e).map(SA).getOr(!1)},OA=function(e){return te(J(e.selection.getSelectedBlocks(),vn.fromDom),(function(e){return!SA(e)&&!kA(e)&&yA(e)}))},TA=function(e,t){var n=e.dom,r=e.selection,o=e.formatter,i=Bf(e),a=/[a-z%]+$/i.exec(i)[0],s=parseInt(i,10),l=Rf(e),u=mf(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==u||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),Z(OA(e),(function(e){wA(n,t,l,s,a,e.dom)}))},MA=function(e,t){if(e.selection.isCollapsed()&&CA(e)){var n=e.dom,r=e.selection.getRng(),o=Cd.fromRangeStart(r),i=n.getParent(r.startContainer,n.isBlock);if(null!==i&&Mx(vn.fromDom(i),o))return TA(e,"outdent"),!0}return!1},DA=function(e,t){e.getDoc().execCommand(t,!1,null)},IA=function(e,t){MA(e)||iE(e,!1)||zI(e,!1)||lA(e,t,!1)||xI(e,!1)||y_(e)||sE(e,!1)||vA(e,!1)||TI(e)||pA(e,!1)||(DA(e,"Delete"),ZD(e))},EA=function(e,t){iE(e,!0)||zI(e,!0)||lA(e,t,!0)||xI(e,!0)||y_(e)||sE(e,!0)||vA(e,!0)||TI(e)||pA(e,!0)||DA(e,"ForwardDelete")},AA=function(e,t){e.addCommand("delete",(function(){IA(e,t)})),e.addCommand("forwardDelete",(function(){EA(e,t)}))},LA=5,jA=400,NA=function(e){return void 0===e.touches||1!==e.touches.length?D.none():D.some(e.touches[0])},PA=function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>LA||r>LA},RA=function(e){var t=Fu(D.none()),n=Fu(!1),r=nc((function(t){e.fire("longpress",Ue(Ue({},t),{type:"longpress"})),n.set(!0)}),jA);e.on("touchstart",(function(e){NA(e).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:e.target};r.throttle(e),n.set(!1),t.set(D.some(i))}))}),!0),e.on("touchmove",(function(o){r.cancel(),NA(o).each((function(r){t.get().each((function(o){PA(r,o)&&(t.set(D.none()),n.set(!1),e.fire("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(function(o){r.cancel(),"touchcancel"!==o.type&&t.get().filter((function(e){return e.target.isEqualNode(o.target)})).each((function(){n.get()?o.preventDefault():e.fire("tap",Ue(Ue({},o),{type:"tap"}))}))}),!0)},BA=function(e,t){return e.hasOwnProperty(t.nodeName)},FA=function(e,t){return!!Kr(t)||!!Fr(t)&&(!BA(e,t)&&!cm(t))},zA=function(e,t,n){return X(_x(vn.fromDom(n),vn.fromDom(t)),(function(t){return BA(e,t.dom)}))},VA=function(e,t){if(Kr(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||BA(e,t.nextSibling)))return!0}return!1},HA=function(e){var t,n,r,o=e.dom,i=e.selection,a=e.schema,s=a.getBlockElements(),l=i.getStart(),u=e.getBody(),c=mf(e);if(l&&Fr(l)&&c){var d=u.nodeName.toLowerCase();if(a.isValidChild(d,c.toLowerCase())&&!zA(s,u,l)){var f=i.getRng(),p=f.startContainer,h=f.startOffset,m=f.endContainer,g=f.endOffset,v=Qy(e);l=u.firstChild;while(l)if(FA(s,l)){if(VA(s,l)){n=l,l=l.nextSibling,o.remove(n);continue}t||(t=o.create(c,gf(e)),l.parentNode.insertBefore(t,l),r=!0),n=l,l=l.nextSibling,t.appendChild(n)}else t=null,l=l.nextSibling;r&&v&&(f.setStart(p,h),f.setEnd(m,g),i.setRng(f),e.nodeChanged())}}},UA=function(e){mf(e)&&e.on("NodeChange",y(HA,e))},$A=function(e){return ei(vn.fromDom(e.getBody()),"*[data-mce-caret]").fold(g(null),(function(e){return e.dom}))},qA=function(e){e.selection.setRng(e.selection.getRng())},WA=function(e,t){t.hasAttribute("data-mce-caret")&&(ra(t),qA(e),e.selection.scrollIntoView(t))},GA=function(e,t){var n=$A(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void WA(e,n)):void(Yi(n)&&(WA(e,n),e.undoManager.add()))},YA=function(e){e.on("keyup compositionstart",y(GA,e))};(function(e){e[e["Br"]=0]="Br",e[e["Block"]=1]="Block",e[e["Wrap"]=2]="Wrap",e[e["Eol"]=3]="Eol"})(yD||(yD={}));var KA,XA=function(e,t){return e===_d.Backwards?ce(t):t},JA=function(e,t,n){return e===_d.Forwards?t.next(n):t.prev(n)},ZA=function(e,t,n,r){return Qr(r.getNode(t===_d.Forwards))?yD.Br:!1===Qp(n,r)?yD.Block:yD.Wrap},QA=function(e,t,n,r){var o,i=kh(n),a=r,s=[];while(a){if(o=JA(t,i,a),!o)break;if(Qr(o.getNode(!1)))return t===_d.Forwards?{positions:XA(t,s).concat([o]),breakType:yD.Br,breakAt:D.some(o)}:{positions:XA(t,s),breakType:yD.Br,breakAt:D.some(o)};if(o.isVisible()){if(e(a,o)){var l=ZA(n,t,a,o);return{positions:XA(t,s),breakType:l,breakAt:D.some(o)}}s.push(o),a=o}else a=o}return{positions:XA(t,s),breakType:yD.Eol,breakAt:D.none()}},eL=function(e,t,n,r){return t(n,r).breakAt.map((function(r){var o=t(n,r).positions;return e===_d.Backwards?o.concat(r):[r].concat(o)})).getOr([])},tL=function(e,t){return re(e,(function(e,n){return e.fold((function(){return D.some(n)}),(function(r){return Bc(me(r.getClientRects()),me(n.getClientRects()),(function(e,o){var i=Math.abs(t-e.left),a=Math.abs(t-o.left);return a<=i?n:r})).or(e)}))}),D.none())},nL=function(e,t){return me(t.getClientRects()).bind((function(t){return tL(e,t.left)}))},rL=y(QA,wd.isAbove,-1),oL=y(QA,wd.isBelow,1),iL=function(e,t){return rL(e,t).breakAt.isNone()},aL=function(e,t){return oL(e,t).breakAt.isNone()},sL=y(eL,-1,rL),lL=y(eL,1,oL),uL=function(e){return Fh(e).map((function(t){return[t].concat(oL(e,t).positions)})).getOr([])},cL=function(e){return zh(e).map((function(t){return rL(e,t).positions.concat(t)})).getOr([])},dL=function(e){var t=function(t){return J(t,(function(t){return t=Hc(t),t.node=e,t}))};if(Fr(e))return t(e.getClientRects());if(Kr(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},fL=function(e){return le(e,dL)};(function(e){e[e["Up"]=-1]="Up",e[e["Down"]=1]="Down"})(KA||(KA={}));var pL,hL,mL=function(e,t,n,r){while(r=Jp(r,e,ba,t))if(n(r))return},gL=function(e,t,n,r,o,i){var a=0,s=[],l=function(r){var i,l,c;for(c=fL([r]),-1===e&&(c=c.reverse()),i=0;i<c.length;i++)if(l=c[i],!n(l,u)){if(s.length>0&&t(l,He(s))&&a++,l.line=a,o(l))return!0;s.push(l)}},u=He(i.getClientRects());if(!u)return s;var c=i.getNode();return l(c),mL(e,r,l,c),s},vL=function(e,t){return t.line>e},yL=function(e,t){return t.line===e},bL=y(gL,KA.Up,Wc,Gc),xL=y(gL,KA.Down,Gc,Wc),wL=function(e,t,n,r){var o,i,a,s,l,u=kh(t),c=[],d=0,f=function(e){return He(e.getClientRects())};1===e?(o=u.next,i=Gc,a=Wc,s=Cd.after(r)):(o=u.prev,i=Wc,a=Gc,s=Cd.before(r));var p=f(s);do{if(s.isVisible()&&(l=f(s),!a(l,p))){if(c.length>0&&i(l,He(c))&&d++,l=Hc(l),l.position=s,l.line=d,n(l))return c;c.push(l)}}while(s=o(s));return c},_L=function(e){return function(t){return vL(e,t)}},CL=function(e){return function(t){return yL(e,t)}},SL=no,kL=Jp,OL=function(e,t){return Math.abs(e.left-t)},TL=function(e,t){return Math.abs(e.right-t)},ML=function(e,t){return e>=t.left&&e<=t.right},DL=function(e,t){return e>=t.top&&e<=t.bottom},IL=function(e,t){return ze(e,(function(e,n){var r=Math.min(OL(e,t),TL(e,t)),o=Math.min(OL(n,t),TL(n,t));return ML(t,n)?n:ML(t,e)?e:o===r&&SL(n.node)||o<r?n:e}))},EL=function(e,t,n,r,o){var i=kL(r,e,ba,t,!o);do{if(!i||n(i))return}while(i=kL(i,e,ba,t))},AL=function(e,t,n){void 0===n&&(n=!0);var r=[],o=function(e,n){var o=te(fL([n]),(function(n){return!e(n,t)}));return r=r.concat(o),0===o.length};return r.push(t),EL(KA.Up,e,y(o,Wc),t.node,n),EL(KA.Down,e,y(o,Gc),t.node,n),r},LL=function(e){return te(ve(e.getElementsByTagName("*")),zp)},jL=function(e,t){return{node:e.node,before:OL(e,t)<TL(e,t)}},NL=function(e,t,n){var r=fL(LL(e)),o=te(r,y(DL,n)),i=IL(o,t);if(i){var a=!Wr(i.node)&&!oo(i.node);if(i=IL(AL(e,i,a),t),i&&zp(i.node))return jL(i,t)}return null},PL=function(e,t){e.selection.setRng(t),Uv(e,e.selection.getRng())},RL=function(e,t,n){return D.some(jI(e,t,n))},BL=function(e,t,n,r,o,i){var a=t===_d.Forwards,s=kh(e.getBody()),l=y(dh,a?s.next:s.prev),u=a?r:o;if(!n.collapsed){var c=Kc(n);if(i(c))return II(t,e,c,t===_d.Backwards,!1)}var d=lh(t,e.getBody(),n);if(u(d))return AI(e,d.getNode(!a));var f=WD(a,l(d)),p=oa(n);if(!f)return p?D.some(n):D.none();if(u(f))return II(t,e,f.getNode(!a),a,!1);var h=l(f);return h&&u(h)&&fh(f,h)?II(t,e,h.getNode(!a),a,!1):p?RL(e,f.toRange(),!1):D.none()},FL=function(e,t,n,r,o,i){var a=lh(t,e.getBody(),n),s=He(a.getClientRects()),l=t===KA.Down;if(!s)return D.none();var u,c=l?xL:bL,d=c(e.getBody(),_L(1),a),f=te(d,CL(1)),p=s.left,h=IL(f,p);if(h&&i(h.node)){var m=Math.abs(p-h.left),g=Math.abs(p-h.right);return II(t,e,h.node,m<g,!1)}if(u=r(a)?a.getNode():o(a)?a.getNode(!0):Kc(n),u){var v=wL(t,e.getBody(),_L(1),u),y=IL(te(v,CL(1)),p);if(y)return RL(e,y.position.toRange(),!1);if(y=He(te(v,CL(0))),y)return RL(e,y.position.toRange(),!1)}return 0===f.length?zL(e,l).filter(l?o:r).map((function(t){return jI(e,t.toRange(),!1)})):D.none()},zL=function(e,t){var n=e.selection.getRng(),r=e.getBody();if(t){var o=Cd.fromRangeEnd(n),i=oL(r,o);return ge(i.positions)}o=Cd.fromRangeStart(n),i=rL(r,o);return me(i.positions)},VL=function(e,t,n){return zL(e,t).filter(n).exists((function(t){return e.selection.setRng(t.toRange()),!0}))},HL=no,UL=function(e,t,n){return BL(t,e,n,hx,mx,HL)},$L=function(e,t,n){var r=function(e){return hx(e)||fx(e)},o=function(e){return mx(e)||px(e)};return FL(t,e,n,r,o,HL)},qL=function(e){var t=e.dom.create(mf(e));return(!Jt.ie||Jt.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},WL=function(e,t,n){var r=kh(e.getBody()),o=y(dh,1===t?r.next:r.prev);if(n.collapsed&&sp(e)){var i=e.dom.getParent(n.startContainer,"PRE");if(!i)return;var a=o(Cd.fromRangeStart(n));if(!a){var s=qL(e);1===t?e.$(i).after(s):e.$(i).before(s),e.selection.select(s,!0),e.selection.collapse()}}},GL=function(e,t){var n=t?_d.Forwards:_d.Backwards,r=e.selection.getRng();return UL(n,e,r).orThunk((function(){return WL(e,n,r),D.none()}))},YL=function(e,t){var n=t?1:-1,r=e.selection.getRng();return $L(n,e,r).orThunk((function(){return WL(e,n,r),D.none()}))},KL=function(e,t){return GL(e,t).exists((function(t){return PL(e,t),!0}))},XL=function(e,t){return YL(e,t).exists((function(t){return PL(e,t),!0}))},JL=function(e,t){var n=t?mx:hx;return VL(e,t,n)},ZL=function(e){return K(["figcaption"],jn(e))},QL=function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t},ej=function(e,t,n){n?vr(e,t):gr(e,t)},tj=function(e,t){var n=vn.fromTag("br");return ej(e,n,t),QL(n)},nj=function(e,t,n,r){var o=vn.fromTag(n),i=vn.fromTag("br");return lo(o,r),vr(o,i),ej(e,o,t),QL(i)},rj=function(e,t,n,r){return""===t?tj(e,r):nj(e,r,t,n)},oj=function(e,t){var n=y(In,t);return Xo(vn.fromDom(e.container()),ki,n).filter(ZL)},ij=function(e,t,n){return t?aL(e.dom,n):iL(e.dom,n)},aj=function(e,t){var n=vn.fromDom(e.getBody()),r=Cd.fromRangeStart(e.selection.getRng()),o=mf(e),i=gf(e);return oj(r,n).exists((function(){if(ij(n,t,r)){var a=rj(n,o,i,t);return e.selection.setRng(a),!0}return!1}))},sj=function(e,t){return!!e.selection.isCollapsed()&&aj(e,t)},lj=function(e){return J(e,(function(e){return Ue({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:p},e)}))},uj=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},cj=function(e,t){return le(lj(e),(function(e){return uj(e,t)?[e]:[]}))},dj=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},fj=function(e,t){return ie(cj(e,t),(function(e){return e.action()}))},pj=function(e,t){var n=t?_d.Forwards:_d.Backwards,r=e.selection.getRng();return BL(e,n,r,cx,dx,oo).exists((function(t){return PL(e,t),!0}))},hj=function(e,t){var n=t?1:-1,r=e.selection.getRng();return FL(e,n,r,cx,dx,oo).exists((function(t){return PL(e,t),!0}))},mj=function(e,t){var n=t?dx:cx;return VL(e,t,n)},gj=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},vj=function(e,t){return le(t,(function(t){var n=gj(Hc(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]}))},yj=function(e,t,n){return re(e,(function(e,r){return e.fold((function(){return D.some(r)}),(function(e){var o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return D.some(i<o?r:e)}))}),D.none())},bj=function(e,t,n,r,o){var i=mc(vn.fromDom(n),"td,th,caption").map((function(e){return e.dom})),a=te(vj(e,i),(function(e){return t(e,o)}));return yj(a,r,o).map((function(e){return e.cell}))},xj=function(e){return e.bottom},wj=function(e){return e.top},_j=function(e,t){return e.y<t},Cj=function(e,t){return e.y>t},Sj=y(bj,xj,_j),kj=y(bj,wj,Cj),Oj=function(e,t){return me(t.getClientRects()).bind((function(t){return Sj(e,t.left,t.top)})).bind((function(e){return nL(cL(e),t)}))},Tj=function(e,t){return ge(t.getClientRects()).bind((function(t){return kj(e,t.left,t.top)})).bind((function(e){return nL(uL(e),t)}))},Mj=function(e,t,n){return n.breakAt.exists((function(n){return e(t,n).breakAt.isSome()}))},Dj=function(e){return e.breakType===yD.Wrap&&0===e.positions.length},Ij=function(e){return e.breakType===yD.Br&&1===e.positions.length},Ej=function(e,t,n){var r=e(t,n);return Dj(r)||!Qr(n.getNode())&&Ij(r)?!Mj(e,t,r):r.breakAt.isNone()},Aj=y(Ej,rL),Lj=y(Ej,oL),jj=function(e,t,n){var r=Cd.fromRangeStart(t);return Ph(!e,n).exists((function(e){return e.isEqual(r)}))},Nj=function(e,t,n,r){var o=e.selection.getRng(),i=t?1:-1;return!(!Bp()||!jj(t,o,n))&&(II(i,e,n,!t,!1).each((function(t){PL(e,t)})),!0)},Pj=function(e,t,n){return Oj(t,n).orThunk((function(){return me(n.getClientRects()).bind((function(n){return tL(sL(e,Cd.before(t)),n.left)}))})).getOr(Cd.before(t))},Rj=function(e,t,n){return Tj(t,n).orThunk((function(){return me(n.getClientRects()).bind((function(n){return tL(lL(e,Cd.after(t)),n.left)}))})).getOr(Cd.after(t))},Bj=function(e,t){var n=t.getNode(e);return Fr(n)&&"TABLE"===n.nodeName?D.some(n):D.none()},Fj=function(e,t,n,r){var o=mf(t);o?t.undoManager.transact((function(){var r=vn.fromTag(o);lo(r,gf(t)),vr(r,vn.fromTag("br")),e?mr(vn.fromDom(n),r):hr(vn.fromDom(n),r);var i=t.dom.createRng();i.setStart(r.dom,0),i.setEnd(r.dom,0),PL(t,i)})):PL(t,r.toRange())},zj=function(e,t,n){var r=Bj(!!t,n),o=!1===t;r.fold((function(){return PL(e,n.toRange())}),(function(r){return Ph(o,e.getBody()).filter((function(e){return e.isEqual(n)})).fold((function(){return PL(e,n.toRange())}),(function(o){return Fj(t,e,r,n)}))}))},Vj=function(e,t,n,r){var o=e.selection.getRng(),i=Cd.fromRangeStart(o),a=e.getBody();if(!t&&Aj(r,i)){var s=Pj(a,n,i);return zj(e,t,s),!0}if(t&&Lj(r,i)){s=Rj(a,n,i);return zj(e,t,s),!0}return!1},Hj=function(e,t,n){return D.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(r){return D.from(e.dom.getParent(r,"table")).map((function(o){return n(e,t,o,r)}))})).getOr(!1)},Uj=function(e,t){return Hj(e,t,Nj)},$j=function(e,t){return Hj(e,t,Vj)},qj=function(e,t,n){var r=Ht().os;fj([{keyCode:Vg.RIGHT,action:dj(KL,e,!0)},{keyCode:Vg.LEFT,action:dj(KL,e,!1)},{keyCode:Vg.UP,action:dj(XL,e,!1)},{keyCode:Vg.DOWN,action:dj(XL,e,!0)},{keyCode:Vg.RIGHT,action:dj(Uj,e,!0)},{keyCode:Vg.LEFT,action:dj(Uj,e,!1)},{keyCode:Vg.UP,action:dj($j,e,!1)},{keyCode:Vg.DOWN,action:dj($j,e,!0)},{keyCode:Vg.RIGHT,action:dj(pj,e,!0)},{keyCode:Vg.LEFT,action:dj(pj,e,!1)},{keyCode:Vg.UP,action:dj(hj,e,!1)},{keyCode:Vg.DOWN,action:dj(hj,e,!0)},{keyCode:Vg.RIGHT,action:dj(JE,e,t,!0)},{keyCode:Vg.LEFT,action:dj(JE,e,t,!1)},{keyCode:Vg.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:dj(eA,e,t)},{keyCode:Vg.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:dj(tA,e,t)},{keyCode:Vg.UP,action:dj(sj,e,!1)},{keyCode:Vg.DOWN,action:dj(sj,e,!0)}],n).each((function(e){n.preventDefault()}))},Wj=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&qj(e,t,n)}))},Gj=function(e,t,n){fj([{keyCode:Vg.BACKSPACE,action:dj(MA,e,!1)},{keyCode:Vg.BACKSPACE,action:dj(iE,e,!1)},{keyCode:Vg.DELETE,action:dj(iE,e,!0)},{keyCode:Vg.BACKSPACE,action:dj(zI,e,!1)},{keyCode:Vg.DELETE,action:dj(zI,e,!0)},{keyCode:Vg.BACKSPACE,action:dj(lA,e,t,!1)},{keyCode:Vg.DELETE,action:dj(lA,e,t,!0)},{keyCode:Vg.BACKSPACE,action:dj(y_,e,!1)},{keyCode:Vg.DELETE,action:dj(y_,e,!0)},{keyCode:Vg.BACKSPACE,action:dj(sE,e,!1)},{keyCode:Vg.DELETE,action:dj(sE,e,!0)},{keyCode:Vg.BACKSPACE,action:dj(vA,e,!1)},{keyCode:Vg.DELETE,action:dj(vA,e,!0)},{keyCode:Vg.BACKSPACE,action:dj(TI,e,!1)},{keyCode:Vg.DELETE,action:dj(TI,e,!0)},{keyCode:Vg.BACKSPACE,action:dj(xI,e,!1)},{keyCode:Vg.DELETE,action:dj(xI,e,!0)},{keyCode:Vg.BACKSPACE,action:dj(pA,e,!1)},{keyCode:Vg.DELETE,action:dj(pA,e,!0)}],n).each((function(e){n.preventDefault()}))},Yj=function(e,t){fj([{keyCode:Vg.BACKSPACE,action:dj(oE,e)},{keyCode:Vg.DELETE,action:dj(oE,e)}],t)},Kj=function(e,t){e.on("keydown",(function(n){!1===n.isDefaultPrevented()&&Gj(e,t,n)})),e.on("keyup",(function(t){!1===t.isDefaultPrevented()&&Yj(e,t)}))},Xj=function(e){while(e){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Jj=function(e,t){var n,r=t,o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var a=Xj(t.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(o.doc.createTextNode(Ri),t.firstChild)}var s=o.createRng();if(t.normalize(),t.hasChildNodes()){var l=new hi(t,t);while(n=l.current()){if(Kr(n)){s.setStart(n,0),s.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){s.setStartBefore(n),s.setEndBefore(n);break}r=n,n=l.next()}n||(s.setStart(r,0),s.setEnd(r,0))}else Qr(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)):(s.setStart(t,0),s.setEnd(t,0));e.selection.setRng(s),Uv(e,s)}},Zj=function(e,t){var n,r,o=e.getRoot();n=t;while(n!==o&&"false"!==e.getContentEditable(n))"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},Qj=function(e){return D.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},eN=function(e){return Qj(e).fold(g(""),(function(e){return e.nodeName.toUpperCase()}))},tN=function(e){return Qj(e).filter((function(e){return Ei(vn.fromDom(e))})).isSome()},nN=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},rN=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},oN=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},iN=function(e){return oN(e)&&oN(e.parentNode)},aN=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},sN=function(e,t,n){var r=e[n?"firstChild":"lastChild"];while(r){if(Fr(r))break;r=r[n?"nextSibling":"previousSibling"]}return r===t},lN=function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){iN(n)&&(o="LI");var s=o?t(o):i.create("BR");if(sN(n,r,!0)&&sN(n,r,!1))rN(n,"LI")?i.insertAfter(s,aN(n)):i.replace(s,n);else if(sN(n,r,!0))rN(n,"LI")?(i.insertAfter(s,aN(n)),s.appendChild(i.doc.createTextNode(" ")),s.appendChild(n)):n.parentNode.insertBefore(s,n);else if(sN(n,r,!1))i.insertAfter(s,aN(n));else{n=aN(n);var l=a.cloneRange();l.setStartAfter(r),l.setEndAfter(n);var u=l.extractContents();"LI"===o&&nN(u,"LI")?(s=u.firstChild,i.insertAfter(u,n)):(i.insertAfter(u,n),i.insertAfter(s,n))}i.remove(r),Jj(e,s)}},uN=function(e){Z(hc(vn.fromDom(e),Fn),(function(e){var t=e.dom;t.nodeValue=Hi(t.nodeValue)}))},cN=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},dN=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},fN=function(e){e.innerHTML='<br data-mce-bogus="1">'},pN=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},hN=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},mN=function(e,t,n){var r,o=n,i=[];if(o){while(o=o.firstChild){if(e.isBlock(o))return;Fr(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}r=i.length;while(r--)o=i[r],(!o.hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue||cN(e,o))&&e.remove(o)}},gN=function(e,t,n){return!1===Kr(t)?n:e?1===n&&t.data.charAt(n-1)===zi?0:n:n===t.data.length-1&&t.data.charAt(n)===zi?t.data.length:n},vN=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,gN(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,gN(!1,e.endContainer,e.endOffset)),t},yN=function(e){do{Kr(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)},bN=function(e,t){var n,r,o=e.getRoot();n=t;while(n!==o&&"false"!==e.getContentEditable(n))"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},xN=function(e,t,n){var r=e.dom;D.from(n.style).map(r.parseStyle).each((function(e){var n=xo(vn.fromDom(t)),o=Ue(Ue({},n),e);r.setStyles(t,o)}));var o=D.from(n.class).map((function(e){return e.split(/\s+/)})),i=D.from(t.className).map((function(e){return te(e.split(/\s+/),(function(e){return""!==e}))}));Bc(o,i,(function(e,n){var o=te(n,(function(t){return!K(e,t)})),i=qe(e,o);r.setAttrib(t,"class",i.join(" "))}));var a=["style","class"],s=Te(n,(function(e,t){return!K(a,t)}));r.setAttribs(t,s)},wN=function(e,t){var n=mf(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=gf(e);xN(e,t,r)}},_N=function(e,t,n,r,o){var i,a,s,l,u,c,d=t||"P",f=e.dom,p=bN(f,r);if(a=f.getParent(r,f.isBlock),!a||!hN(f,a)){if(a=a||p,c=a===e.getBody()||dN(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=f.create(d),wN(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;l=r;while(l.parentNode!==a)l=l.parentNode;while(l&&!f.isBlock(l))s=l,l=l.previousSibling;if(s&&e.schema.isValidChild(c,d.toLowerCase())){i=f.create(d),wN(e,i),s.parentNode.insertBefore(i,s),l=s;while(l&&!f.isBlock(l))u=l.nextSibling,i.appendChild(l),l=u;n.setStart(r,o),n.setEnd(r,o)}}return r},CN=function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},SN=function(e,t){var n,r,o,i,a,s,l,u,c,d,f=e.dom,p=e.schema,h=p.getNonEmptyElements(),m=e.selection.getRng(),g=function(t){var n,o,a,s=r,l=p.getTextInlineElements();if(n=t||"TABLE"===u||"HR"===u?f.create(t||c):i.cloneNode(!1),a=n,!1===bf(e))f.setAttrib(n,"style",null),f.setAttrib(n,"class",null);else do{if(l[s.nodeName]){if(Hh(s)||cm(s))continue;o=s.cloneNode(!1),f.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((s=s.parentNode)&&s!==w);return wN(e,n),fN(a),n},v=function(e){var t,n,a=gN(e,r,o);if(Kr(r)&&(e?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===i&&d&&!e)return!0;if(e&&Fr(r)&&r===i.firstChild)return!0;if(pN(r,"TABLE")||pN(r,"HR"))return d&&!e||!d&&e;var s=new hi(r,i);Kr(r)&&(e&&0===a?s.prev():e||a!==r.nodeValue.length||s.next());while(t=s.current()){if(Fr(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),h[n]&&"br"!==n))return!1}else if(Kr(t)&&!wa(t.nodeValue))return!1;e?s.prev():s.next()}return!0},y=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(u)&&"HGROUP"!==_?g(c):g(),xf(e)&&hN(f,l)&&f.isEmpty(i)?a=f.split(l,i):f.insertAfter(a,i),Jj(e,a)};sv(f,m).each((function(e){m.setStart(e.startContainer,e.startOffset),m.setEnd(e.endContainer,e.endOffset)})),r=m.startContainer,o=m.startOffset,c=mf(e);var b=!(!t||!t.shiftKey),x=!(!t||!t.ctrlKey);Fr(r)&&r.hasChildNodes()&&(d=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=d&&Kr(r)?r.nodeValue.length:0);var w=bN(f,r);if(w){(c&&!b||!c&&b)&&(r=_N(e,c,m,r,o)),i=f.getParent(r,f.isBlock),l=i?f.getParent(i.parentNode,f.isBlock):null,u=i?i.nodeName.toUpperCase():"";var _=l?l.nodeName.toUpperCase():"";"LI"!==_||x||(i=l,l=l.parentNode,u=_),/^(LI|DT|DD)$/.test(u)&&f.isEmpty(i)?lN(e,g,l,i,c):c&&i===e.getBody()||(c=c||"P",qi(i)?(a=ra(i),f.isEmpty(i)&&fN(i),wN(e,a),Jj(e,a)):v()?y():v(!0)?(a=i.parentNode.insertBefore(g(),i),Jj(e,pN(i,"HR")?a:i)):(n=vN(m).cloneRange(),n.setEndAfter(i),s=n.extractContents(),uN(s),yN(s),a=s.firstChild,f.insertAfter(s,i),mN(f,h,a),CN(f,i),f.isEmpty(i)&&fN(i),a.normalize(),f.isEmpty(a)?(f.remove(a),y()):(wN(e,a),Jj(e,a))),f.setAttrib(a,"id",""),e.fire("NewBlock",{newBlock:a}))}},kN=function(e,t,n){var r,o=new hi(t,n),i=e.getNonEmptyElements();while(r=o.next())if(i[r.nodeName.toLowerCase()]||r.length>0)return!0},ON=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},TN=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},MN=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();sv(i,a).each((function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)}));var s=a.startOffset,l=a.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var u=s>l.childNodes.length-1;l=l.childNodes[Math.min(s,l.childNodes.length-1)]||l,s=u&&3===l.nodeType?l.nodeValue.length:0}var c=i.getParent(l,i.isBlock),d=c?i.getParent(c.parentNode,i.isBlock):null,f=d?d.nodeName.toUpperCase():"",p=!(!t||!t.ctrlKey);"LI"!==f||p||(c=d),l&&3===l.nodeType&&s>=l.nodeValue.length&&(kN(e.schema,l,c)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),Td(i,a,n),ON(i,o,n),TN(i,o,n,r),e.undoManager.add()},DN=function(e,t){var n=vn.fromTag("br");hr(vn.fromDom(t),n),e.undoManager.add()},IN=function(e,t){AN(e.getBody(),t)||mr(vn.fromDom(t),vn.fromTag("br"));var n=vn.fromTag("br");mr(vn.fromDom(t),n),ON(e.dom,e.selection,n.dom),TN(e.dom,e.selection,n.dom,!1),e.undoManager.add()},EN=function(e){return Qr(e.getNode())},AN=function(e,t){return!!EN(Cd.after(t))||Rh(e,Cd.after(t)).map((function(e){return Qr(e.getNode())})).getOr(!1)},LN=function(e){return e&&"A"===e.nodeName&&"href"in e},jN=function(e){return e.fold(C,LN,LN,C)},NN=function(e){var t=y(zD,e),n=Cd.fromRangeStart(e.selection.getRng());return IE(t,e.getBody(),n).filter(jN)},PN=function(e,t){t.fold(p,y(DN,e),y(IN,e),p)},RN=function(e,t){var n=NN(e);n.isSome()?n.each(y(PN,e)):MN(e,t)},BN=function(e,t){return Qj(e).filter((function(e){return t.length>0&&On(vn.fromDom(e),t)})).isSome()},FN=function(e){return BN(e,vf(e))},zN=function(e){return BN(e,yf(e))},VN=qo.generate([{br:[]},{block:[]},{none:[]}]),HN=function(e,t){return zN(e)},UN=function(e){return function(t,n){var r=""===mf(t);return r===e}},$N=function(e){return function(t,n){return tN(t)===e}},qN=function(e,t){return function(n,r){var o=eN(n)===e.toUpperCase();return o===t}},WN=function(e){return qN("pre",e)},GN=function(){return qN("summary",!0)},YN=function(e){return function(t,n){return hf(t)===e}},KN=function(e,t){return FN(e)},XN=function(e,t){return t},JN=function(e){var t=mf(e),n=Zj(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},ZN=function(e,t){return function(n,r){var o=re(e,(function(e,t){return e&&t(n,r)}),!0);return o?D.some(t):D.none()}},QN=function(e,t){return xE([ZN([HN],VN.none()),ZN([GN()],VN.br()),ZN([WN(!0),YN(!1),XN],VN.br()),ZN([WN(!0),YN(!1)],VN.block()),ZN([WN(!0),YN(!0),XN],VN.block()),ZN([WN(!0),YN(!0)],VN.br()),ZN([$N(!0),XN],VN.br()),ZN([$N(!0)],VN.block()),ZN([UN(!0),XN,JN],VN.block()),ZN([UN(!0)],VN.br()),ZN([KN],VN.br()),ZN([UN(!1),XN],VN.br()),ZN([JN],VN.block())],[e,!(!t||!t.shiftKey)]).getOr(VN.none())},eP=function(e,t){QN(e,t).fold((function(){RN(e,t)}),(function(){SN(e,t)}),p)},tP=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),Vk(e.undoManager),e.undoManager.transact((function(){!1===e.selection.isCollapsed()&&e.execCommand("Delete"),eP(e,t)})))},nP=function(e){e.on("keydown",(function(t){t.keyCode===Vg.ENTER&&tP(e,t)}))},rP=function(e,t){fj([{keyCode:Vg.END,action:dj(JL,e,!0)},{keyCode:Vg.HOME,action:dj(JL,e,!1)},{keyCode:Vg.END,action:dj(mj,e,!0)},{keyCode:Vg.HOME,action:dj(mj,e,!1)}],t).each((function(e){t.preventDefault()}))},oP=function(e){e.on("keydown",(function(t){!1===t.isDefaultPrevented()&&rP(e,t)}))},iP=Ht().browser,aP=function(e){var t=tc((function(){e.composing||iw(e)}),0);iP.isIE()&&(e.on("keypress",(function(e){t.throttle()})),e.on("remove",(function(e){t.cancel()})))},sP=function(e){aP(e),e.on("input",(function(t){!1===t.isComposing&&iw(e)}))},lP=function(e,t){var n=t.container(),r=t.offset();return Kr(n)?(n.insertData(r,e),D.some(wd(n,r+e.length))):uh(t).map((function(n){var r=vn.fromText(e);return t.isAtEnd()?mr(n,r):hr(n,r),wd(r.dom,e.length)}))},uP=y(lP,Ri),cP=y(lP," "),dP=function(e){return function(t){return t.fold((function(t){return Bh(e.dom,Cd.before(t))}),(function(e){return Fh(e)}),(function(e){return zh(e)}),(function(t){return Rh(e.dom,Cd.after(t))}))}},fP=function(e,t){return function(n){return Gx(e,n)?uP(t):cP(t)}},pP=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},hP=function(e){var t=Cd.fromRangeStart(e.selection.getRng()),n=vn.fromDom(e.getBody());if(e.selection.isCollapsed()){var r=y(zD,e),o=Cd.fromRangeStart(e.selection.getRng());return IE(r,e.getBody(),o).bind(dP(n)).bind(fP(n,t)).exists(pP(e))}return!1},mP=function(e,t){fj([{keyCode:Vg.SPACEBAR,action:dj(hP,e)}],t).each((function(e){t.preventDefault()}))},gP=function(e){e.on("keydown",(function(t){!1===t.isDefaultPrevented()&&mP(e,t)}))},vP=function(e){var t=QE(e);return YA(e),Wj(e,t),Kj(e,t),nP(e),gP(e),sP(e),oP(e),t},yP=function(e){return iO(e)?Fu(null):vP(e)},bP=function(){function e(e){var t;this.lastPath=[],this.editor=e;var n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(function(n){var r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&Kg(o,t)||e.fire("SelectionChange"),t=o})),e.on("contextmenu",(function(){e.fire("SelectionChange")})),e.on("SelectionChange",(function(){var t=e.selection.getStart(!0);!t||!Jt.range&&e.selection.isCollapsed()||fg(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(function(t){!t.isDefaultPrevented()&&fg(e)&&("IMG"===e.selection.getNode().nodeName?ci.setEditorTimeout(e,(function(){e.nodeChanged()})):e.nodeChanged())}))}return e.prototype.nodeChanged=function(e){var t,n,r,o=this.editor.selection;this.editor.initialized&&o&&!up(this.editor)&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),t=o.getStart(!0)||r,t.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r),n=[],this.editor.dom.getParent(t,(function(e){if(e===r)return!0;n.push(e)})),e=e||{},e.element=t,e.parents=n,this.editor.fire("NodeChange",e))},e.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;t>=0;t--)if(n[t]!==this.lastPath[t])break;if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},e}(),xP=function(e){e.on("click",(function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()}))},wP=function(e){e.parser.addNodeFilter("details",(function(e){Z(e,(function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(function(e){Z(e,(function(e){var t=e.attr("data-mce-open");e.attr("open",j(t)?t:null),e.attr("data-mce-open",null)}))}))},_P=function(e){xP(e),wP(e)},CP=function(e){return Fr(e)&&Di(vn.fromDom(e))},SP=function(e){var t=e.selection.getRng(),n=wd.fromRangeStart(t),r=wd.fromRangeEnd(t);if(wd.isElementPosition(n)){var o=n.container();CP(o)&&Fh(o).each((function(e){return t.setStart(e.container(),e.offset())}))}if(wd.isElementPosition(r)){o=n.container();CP(o)&&zh(o).each((function(e){return t.setEnd(e.container(),e.offset())}))}e.selection.setRng(w_(t))},kP=function(e){e.on("click",(function(t){t.detail>=3&&SP(e)}))},OP=function(){var e=Fu(D.none()),t=function(){return e.set(D.none())},n=function(t){return e.set(D.some(t))},r=function(){return e.get().isSome()},o=function(t){return e.get().each(t)};return{clear:t,set:n,isSet:r,on:o}},TP=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+o.pageYOffset-r.clientTop,left:t.left+o.pageXOffset-r.clientLeft}},MP=function(e){return e.inline?TP(e.getBody()):{left:0,top:0}},DP=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},IP=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o},EP=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=TP(e.getContentAreaContainer()),r=IP(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},AP=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},LP=function(e,t){return AP(MP(e),DP(e),EP(e,t))},jP=no,NP=to,PP=function(e,t){return jP(t)&&t!==e},RP=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!jP(t)},BP=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},FP=function(e,t,n,r){var o=e.dom,i=t.cloneNode(!0);o.setStyles(i,{width:n,height:r}),o.setAttrib(i,"data-mce-selected",null);var a=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),o.setStyles(i,{margin:0,boxSizing:"border-box"}),a.appendChild(i),a},zP=function(e,t){e.parentNode!==t&&t.appendChild(e)},VP=function(e,t,n,r,o,i){var a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(a=t.pageX+n-o),t.pageY+r>i&&(s=t.pageY+r-i),e.style.width=n-a+"px",e.style.height=r-s+"px"},HP=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},UP=function(e){return 0===e.button},$P=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},qP=function(e,t){return function(n){if(UP(n)){var r=ie(t.dom.getParents(n.target),Qc(jP,NP)).getOr(null);if(PP(t.getBody(),r)){var o=t.dom.getPos(r),i=t.getBody(),a=t.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:a.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:r.offsetWidth,height:r.offsetHeight,ghost:FP(t,r,r.offsetWidth,r.offsetHeight)})}}}},WP=function(e,t){var n=ci.throttle((function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)}),0);return t.on("remove",n.stop),function(r){return e.on((function(e){var o=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(!e.dragging&&o>10){var i=t.fire("dragstart",{target:e.element});if(i.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var a=$P(e,LP(t,r));zP(e.ghost,t.getBody()),VP(e.ghost,a,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}))}},GP=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},YP=function(e,t){return function(n){e.on((function(e){if(e.dragging&&RP(t,GP(t.selection),e.element)){var r=BP(e.element),o=t.fire("drop",{clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||t.undoManager.transact((function(){HP(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}})),XP(e)}},KP=function(e,t){return function(){e.on((function(e){e.dragging&&t.fire("dragend")})),XP(e)}},XP=function(e){e.on((function(e){HP(e.ghost)})),e.clear()},JP=function(e){var t=OP(),n=Iu.DOM,r=document,o=qP(t,e),i=WP(t,e),a=YP(t,e),s=KP(t,e);e.on("mousedown",o),e.on("mousemove",i),e.on("mouseup",a),n.bind(r,"mousemove",i),n.bind(r,"mouseup",s),e.on("remove",(function(){n.unbind(r,"mousemove",i),n.unbind(r,"mouseup",s)}))},ZP=function(e){e.on("drop",(function(t){var n="undefined"!==typeof t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(jP(n)||"false"===e.dom.getContentEditableParent(n))&&t.preventDefault()}))},QP=function(e){var t=function(t){if(!t.defaultPrevented){var n=t.dataTransfer;n&&(K(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&XM(e,"Dropped file type is not supported"))}},n=function(n){Fy(e,n.target)&&t(n)},r=function(){var r=Iu.DOM,o=e.dom,i=document,a=e.inline?e.getBody():e.getDoc(),s=["drop","dragover"];Z(s,(function(e){r.bind(i,e,n),o.bind(a,e,t)})),e.on("remove",(function(){Z(s,(function(e){r.unbind(i,e,n),o.unbind(a,e,t)}))}))};e.on("init",(function(){ci.setEditorTimeout(e,r,0)}))},eR=function(e){JP(e),ZP(e),hp(e)&&QP(e)},tR=function(e){var t=tc((function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var t=e.selection.getRng();if(t.collapsed){var n=jI(e,t,!1);e.selection.setRng(n)}}}),0);e.on("focus",(function(){t.throttle()})),e.on("blur",(function(){t.cancel()}))},nR=function(e){e.on("init",(function(){e.on("focusin",(function(t){var n=t.target;if(oo(n)){var r=Tg(e.getBody(),n),o=no(r)?r:n;e.selection.getNode()!==o&&AI(e,o).each((function(t){return e.selection.setRng(t)}))}}))}))},rR=to,oR=no,iR=function(e,t){return Tg(e.getBody(),t)},aR=function(e){var t,n=e.selection,r=e.dom,o=r.isBlock,i=e.getBody(),a=Rp(e,i,o,(function(){return Qy(e)})),s="sel-"+r.uniqueId(),l="data-mce-selected",u=function(e){return r.hasClass(e,"mce-offscreen-selection")},c=function(e){return e!==i&&(oR(e)||oo(e))&&r.isChildOf(e,i)},d=function(e){return hx(e)||mx(e)||cx(e)||dx(e)},f=function(){var e=r.get(s);return e?e.getElementsByTagName("*")[0]:e},p=function(e){e&&n.setRng(e)},h=n.getRng,m=function(t,r,o,i){void 0===i&&(i=!0);var s=e.fire("ShowCaret",{target:r,direction:t,before:o});return s.isDefaultPrevented()?null:(i&&n.scrollIntoView(r,-1===t),a.show(o,r))},g=function(e){e.hasAttribute("data-mce-caret")&&(ra(e),p(h()),n.scrollIntoView(e))},v=function(){e.on("mouseup",(function(t){var n=h();n.collapsed&&zM(e,t.clientX,t.clientY)&&LI(e,n,!1).each(p)})),e.on("click",(function(t){var o=iR(e,t.target);o&&(oR(o)&&(t.preventDefault(),e.focus()),rR(o)&&r.isChildOf(o,n.getNode())&&S())})),e.on("blur NewBlock",S),e.on("ResizeWindow FullscreenStateChanged",a.reposition);var s=function(e){var t=kh(e);if(!e.firstChild)return!1;var n=Cd.before(e.firstChild),r=t.next(n);return r&&!d(r)},l=function(e,t){var n=r.getParent(e,o),i=r.getParent(t,o);return n===i},g=function(t,n){var i=r.getParent(t,o),a=r.getParent(n,o);return!(!i||t===a||!r.isChildOf(i,a)||!1!==oR(iR(e,i)))||i&&!l(i,a)&&s(i)};e.on("tap",(function(t){var n=t.target,r=iR(e,n);oR(r)?(t.preventDefault(),AI(e,r).each(C)):c(n)&&AI(e,n).each(C)}),!0),e.on("mousedown",(function(t){var o=t.target;if((o===i||"HTML"===o.nodeName||r.isChildOf(o,i))&&!1!==zM(e,t.clientX,t.clientY)){var a=iR(e,o);if(a)oR(a)?(t.preventDefault(),AI(e,a).each(C)):(S(),rR(a)&&t.shiftKey||Mg(t.clientX,t.clientY,n.getRng())||(O(),n.placeCaretAt(t.clientX,t.clientY)));else if(c(o))AI(e,o).each(C);else if(!1===zp(o)){S(),O();var s=NL(i,t.clientX,t.clientY);if(s&&!g(o,s.node)){t.preventDefault();var l=m(1,s.node,s.before,!1);e.getBody().focus(),p(l)}}}})),e.on("keypress",(function(e){Vg.modifierPressed(e)||oR(n.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);n=n.cloneRange(),n.selectNode(t),e.range=n}})),e.on("SetSelectionRange",(function(e){e.range=x(e.range);var t=C(e.range,e.forward);t&&(e.range=t)}));var v=function(e){return"mcepastebin"===e.id};e.on("AfterSetSelectionRange",(function(e){var t=e.range,n=t.startContainer.parentNode;b(t)||v(n)||O(),u(n)||S()})),e.on("copy",(function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!Jt.ie){var n=f();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText||n.innerText))}})),eR(e),tR(e),nR(e)},y=function(e){return Gi(e)||ea(e)||ta(e)},b=function(e){return y(e.startContainer)||y(e.endContainer)},x=function(t){var n=e.schema.getShortEndedElements(),o=r.createRng(),i=t.startContainer,a=t.startOffset,s=t.endContainer,l=t.endOffset;return Ee(n,i.nodeName.toLowerCase())?0===a?o.setStartBefore(i):o.setStartAfter(i):o.setStart(i,a),Ee(n,s.nodeName.toLowerCase())?0===l?o.setEndBefore(s):o.setEndAfter(s):o.setEnd(s,l),o},w=function(t,o,i){var a=e.$,l=ei(vn.fromDom(e.getBody()),"#"+s).fold((function(){return a([])}),(function(e){return a([e.dom])}));0===l.length&&(l=a('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",s),l.appendTo(e.getBody()));var u=r.createRng();o===i&&Jt.ie?(l.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(o),u.setStartAfter(l[0].firstChild.firstChild),u.setEndAfter(o)):(l.empty().append(Ri).append(o).append(Ri),u.setStart(l[0].firstChild,1),u.setEnd(l[0].lastChild,0)),l.css({top:r.getPos(t,e.getBody()).y}),l[0].focus();var c=n.getSel();return c.removeAllRanges(),c.addRange(u),u},_=function(n){var o=n.cloneNode(!0),i=e.fire("ObjectSelected",{target:n,targetClone:o});if(i.isDefaultPrevented())return null;var a=w(n,i.targetClone,o),s=vn.fromDom(n);return Z(mc(vn.fromDom(e.getBody()),"*[data-mce-selected]"),(function(e){In(s,e)||po(e,l)})),r.getAttrib(n,l)||n.setAttribute(l,"1"),t=n,O(),a},C=function(e,t){if(!e)return null;if(e.collapsed){if(!b(e)){var n=t?1:-1,o=lh(n,i,e),a=o.getNode(!t);if(zp(a))return m(n,a,!!t&&!o.isAtEnd(),!1);var s=o.getNode(t);if(zp(s))return m(n,s,!t&&!o.isAtEnd(),!1)}return null}var l=e.startContainer,u=e.startOffset,d=e.endOffset;if(3===l.nodeType&&0===u&&oR(l.parentNode)&&(l=l.parentNode,u=r.nodeIndex(l),l=l.parentNode),1!==l.nodeType)return null;if(d===u+1&&l===e.endContainer){var f=l.childNodes[u];if(c(f))return _(f)}return null},S=function(){t&&t.removeAttribute(l),ei(vn.fromDom(e.getBody()),"#"+s).each(_r),t=null},k=function(){a.destroy(),t=null},O=function(){a.hide()};return Jt.ceFalse&&v(),{showCaret:m,showBlockCaretContainer:g,hideFakeCaret:O,destroy:k}},sR=function(e){var t=dn.each,n=Vg.BACKSPACE,r=Vg.DELETE,o=e.dom,i=e.selection,a=e.parser,s=Jt.gecko,l=Jt.ie,u=Jt.webkit,c="data:text/mce-internal,",d=l?"Text":"URL",f=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}},p=function(e){return e.isDefaultPrevented()},h=function(t){var n,r;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&i.select(t.target),n=e.selection.getContent(),n.length>0&&(r=c+escape(e.id)+","+escape(n),t.dataTransfer.setData(d,r)))},m=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(d),t&&t.indexOf(c)>=0)?(t=t.substr(c.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null},g=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:n}):e.execCommand("mceInsertContent",!1,t)},v=function(){var t=function(e){var t=o.create("body"),n=e.cloneContents();return t.appendChild(n),i.serializer.serialize(t,{format:"html"})},a=function(n){var r=t(n),i=o.createRng();i.selectNode(e.getBody());var a=t(i);return r===a};e.on("keydown",(function(t){var i,s,l=t.keyCode;if(!p(t)&&(l===r||l===n)){if(i=e.selection.isCollapsed(),s=e.getBody(),i&&!o.isEmpty(s))return;if(!i&&!a(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),s.firstChild&&o.isBlock(s.firstChild)?e.selection.setCursorLocation(s.firstChild,0):e.selection.setCursorLocation(s,0),e.nodeChanged()}}))},y=function(){e.shortcuts.add("meta+a",null,"SelectAll")},b=function(){e.inline||o.bind(e.getDoc(),"mousedown mouseup",(function(t){var n;if(t.target===e.getDoc().documentElement)if(n=i.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Gi(n.startContainer))return;i.placeCaretAt(t.clientX,t.clientY)}else i.setRng(n)}))},x=function(){e.on("keydown",(function(t){if(!p(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){var r=i.getNode(),a=r.previousSibling;if("HR"===r.nodeName)return o.remove(r),void t.preventDefault();a&&a.nodeName&&"hr"===a.nodeName.toLowerCase()&&(o.remove(a),t.preventDefault())}}}))},w=function(){Range.prototype.getClientRects||e.on("mousedown",(function(t){if(!p(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),ci.setEditorTimeout(e,(function(){n.focus()}))}}))},_=function(){e.on("click",(function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==o.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&o.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),i.select(n))}))},C=function(){var n=function(){var n=o.getAttribs(i.getStart().cloneNode(!1));return function(){var r=i.getStart();r!==e.getBody()&&(o.setAttrib(r,"style",null),t(n,(function(e){r.setAttributeNode(e.cloneNode(!0))})))}},r=function(){return!i.isCollapsed()&&o.getParent(i.getStart(),o.isBlock)!==o.getParent(i.getEnd(),o.isBlock)};e.on("keypress",(function(t){var o;if(!p(t)&&(8===t.keyCode||46===t.keyCode)&&r())return o=n(),e.getDoc().execCommand("delete",!1,null),o(),t.preventDefault(),!1})),o.bind(e.getDoc(),"cut",(function(t){var o;!p(t)&&r()&&(o=n(),ci.setEditorTimeout(e,(function(){o()})))}))},S=function(){e.on("keydown",(function(e){if(!p(e)&&e.keyCode===n&&i.isCollapsed()&&0===i.getRng().startOffset){var t=i.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}}))},k=function(){e.on("keydown",(function(t){var n,r;if(!p(t)&&t.keyCode===Vg.BACKSPACE){n=i.getRng();var a=n.startContainer,s=n.startOffset,l=o.getRoot();if(r=a,n.collapsed&&0===s){while(r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==l)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(e.formatter.toggle("blockquote",null,r),n=o.createRng(),n.setStart(a,0),n.setEnd(a,0),i.setRng(n))}}}))},O=function(){var t=function(){f("StyleWithCSS",!1),f("enableInlineTableEditing",!1),Hf(e)||f("enableObjectResizing",!1)};cp(e)||e.on("BeforeExecCommand mousedown",t)},T=function(){var n=function(){t(o.select("a"),(function(e){var t=e.parentNode,n=o.getRoot();if(t.lastChild===e){while(t&&!o.isBlock(t)){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}o.add(t,"br",{"data-mce-bogus":1})}}))};e.on("SetContent ExecCommand",(function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||n()}))},M=function(){mf(e)&&e.on("init",(function(){f("DefaultParagraphSeparator",mf(e))}))},D=function(){e.on("keyup focusin mouseup",(function(e){Vg.modifierPressed(e)||i.normalize()}),!0)},I=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},E=function(){e.inline||e.on("keydown",(function(){document.activeElement===document.body&&e.getWin().focus()}))},A=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(function(t){var n;if("HTML"===t.target.nodeName){if(Jt.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}})))},L=function(){Jt.mac&&e.on("keydown",(function(t){if(Vg.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault();var n=e.selection.getSel();n.modify("move",37===t.keyCode?"backward":"forward","lineboundary")}}))},j=function(){f("AutoUrlDetect",!1)},N=function(){e.on("click",(function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},P=function(){e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(e){e.preventDefault()}))}))},R=function(){a.addNodeFilter("br",(function(e){var t=e.length;while(t--)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}))},B=function(){e.on("dragstart",(function(e){h(e)})),e.on("drop",(function(t){if(!p(t)){var n=m(t);if(n&&n.id!==e.id){t.preventDefault();var r=Yg(t.x,t.y,e.getDoc());i.setRng(r),g(n.html,!0)}}}))},F=function(){},z=function(){if(!s||e.removed)return!1;var t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount};return k(),v(),Jt.windowsPhone||D(),u&&(b(),_(),M(),P(),S(),R(),Jt.iOS?(E(),A(),N()):y()),Jt.ie>=11&&(A(),S()),Jt.ie&&(y(),j(),B()),s&&(x(),w(),C(),O(),T(),I(),L(),S()),{refreshContentEditable:F,isHidden:z}},lR=Iu.DOM,uR=function(e,t){var n=vn.fromDom(e.getBody()),r=ur(lr(n)),o=vn.fromTag("style");so(o,"type","text/css"),vr(o,vn.fromText(t)),vr(r,o),e.on("remove",(function(){_r(o)}))},cR=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},dR=function(e){return Te(e,(function(e){return!1===F(e)}))},fR=function(e){var t=e.settings,n=e.editorUpload.blobCache;return dR({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:cR(e),validate:!0,blob_cache:n,images_dataimg_filter:t.images_dataimg_filter})},pR=function(e){var t=e.settings;return Ue(Ue({},fR(e)),dR({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))},hR=function(e){var t=TT(fR(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(function(t,n){var r,o,i=t.length,a=e.dom,s="data-mce-"+n;while(i--)if(r=t[i],o=r.attr(n),o&&!r.attr(s)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?(o=a.serializeStyle(a.parseStyle(o),r.name),o.length||(o=null),r.attr(s,o),r.attr(n,o)):"tabindex"===n?(r.attr(s,o),r.attr(n,null)):r.attr(s,e.convertURL(o,n,r.name))}})),t.addNodeFilter("script",(function(e){var t=e.length;while(t--){var n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}})),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",(function(t){var n=t.length;while(n--){var r=t[n];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode(r.value)+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(t){var n=t.length,r=e.schema.getNonEmptyElements();while(n--){var o=t[n];o.isEmpty(r)&&0===o.getAll("br").length&&(o.append(new Ib("br",1)).shortEnded=!0)}})),t},mR=function(e){e.settings.auto_focus&&ci.setEditorTimeout(e,(function(){var t;t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()}),100)},gR=function(e){var t=e.dom.getRoot();e.inline||fg(e)&&e.selection.getStart(!0)!==t||Fh(t).each((function(t){var n=t.getNode(),r=Wr(n)?Fh(n).getOr(t):t;Jt.browser.isIE()?ky(e,r.toRange()):e.selection.setRng(r.toRange())}))},vR=function(e){e.bindPendingEventDelegates(),e.initialized=!0,Bg(e),e.focus(!0),gR(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),mR(e)},yR=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},bR=function(e,t){var n=yR(e),r=function(){e.on("remove",(function(){return n.unloadAll(t)})),vR(e)};n.loadAll(t,r,r)},xR=function(e,t){var n=e.settings,r=e.getDoc(),o=e.getBody();n.browser_spellcheck||n.gecko_spellcheck||(r.body.spellcheck=!1,lR.setAttrib(o,"spellcheck","false")),e.quirks=sR(e),Rg(e);var i=zf(e);if(void 0!==i&&(o.dir=i),n.protect&&e.on("BeforeSetContent",(function(e){dn.each(n.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))})),e.on("SetContent",(function(){e.addVisual(e.getBody())})),!1===t&&e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type})),e.contentStyles.length>0){var a="";dn.each(e.contentStyles,(function(e){a+=e+"\r\n"})),e.dom.addStyle(a)}bR(e,e.contentCSS),n.content_style&&uR(e,n.content_style)},wR=function(e,t){var n=e.settings,r=e.getElement(),o=e.getDoc();n.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline||(o.open(),o.write(e.iframeHTML),o.close()),e.inline&&(lR.addClass(r,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=r,e.contentAreaContainer=r);var i=e.getBody();i.disabled=!0,e.readonly=!!n.readonly,e.readonly||(e.inline&&"static"===lR.getStyle(i,"position",!0)&&(i.style.position="relative"),i.contentEditable=e.getParam("content_editable_state",!0)),i.disabled=!1,e.editorUpload=mD(e),e.schema=ps(n),e.dom=Iu(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:Lf(e),referrerPolicy:jf(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=hR(e),e.serializer=zT(pR(e),e),e.selection=KO(e.dom,e.getWin(),e.serializer,e),e.annotator=Sg(e),e.formatter=OD(e),e.undoManager=DD(e),e._nodeChangeDispatcher=new bP(e),e._selectionOverrides=aR(e),RA(e),_P(e),iO(e)||kP(e);var a=yP(e);AA(e,a),UA(e),RD(e),Pg(e),aO(e).fold((function(){xR(e,!1)}),(function(t){e.setProgressState(!0),t.then((function(t){e.setProgressState(!1),xR(e,t)}))}))},_R=Iu.DOM,CR=function(e,t){if(document.domain!==window.location.hostname&&Jt.browser.isIE()){var n=fD("mce");e[n]=function(){wR(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return _R.setAttrib(t,"src",r),!0}return!1},SR=function(e,t,n,r){var o=vn.fromTag("iframe");return lo(o,r),lo(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),cc(o,"tox-edit-area__iframe"),o},kR=function(e){var t=uf(e)+"<html><head>";cf(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=df(e),r=ff(e);return pf(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+pf(e)+'" />'),t+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'"><br></body></html>',t},OR=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),r=SR(e.id,n,t.height,lf(e)).dom;r.onload=function(){r.onload=null,e.fire("load")};var o=CR(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=kR(e),_R.add(t.iframeContainer,r),o},TR=function(e,t){var n=OR(e,t);t.editorContainer&&(_R.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=_R.isHidden(t.editorContainer)),e.getElement().style.display="none",_R.setAttrib(e.id,"aria-hidden","true"),n||wR(e)},MR=Iu.DOM,DR=function(e,t,n){var r=qM.get(n),o=qM.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=dn.trim(n),r&&-1===dn.inArray(t,n)){if(dn.each(qM.dependencies(n),(function(n){DR(e,t,n)})),e.plugins[n])return;try{var i=new r(e,o,e.$);e.plugins[n]=i,i.init&&(i.init(e,o),t.push(n))}catch(vz){rD(e,n,vz)}}},IR=function(e){return e.replace(/^\-/,"")},ER=function(e){var t=[];dn.each(fp(e).split(/[ ,]/),(function(n){DR(e,t,IR(n))}))},AR=function(e){var t=dn.trim(Tf(e)),n=e.ui.registry.getAll().icons,r=Ue(Ue({},IM.get("default").icons),IM.get(t).icons);we(r,(function(t,r){Ee(n,r)||e.ui.registry.addIcon(r,t)}))},LR=function(e){var t=Gf(e);if(j(t)){e.settings.theme=IR(t);var n=WM.get(t);e.theme=new n(e,WM.urls[t]),e.theme.init&&e.theme.init(e,WM.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},jR=function(e){return e.theme.renderUI()},NR=function(e){var t=e.getElement(),n=Gf(e),r=n(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},PR=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},RR=function(e){var t=MR.create("div");return MR.insertAfter(t,e),PR(t)},BR=function(e){var t=e.getElement();return e.inline?PR(null):RR(t)},FR=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,j(Gf(e))?jR(e):H(Gf(e))?NR(e):BR(e)},zR=function(e,t){var n={show:D.from(t.show).getOr(p),hide:D.from(t.hide).getOr(p),disable:D.from(t.disable).getOr(p),isDisabled:D.from(t.isDisabled).getOr(C),enable:function(){e.mode.isReadOnly()||D.from(t.enable).map(w)}};e.ui=Ue(Ue({},e.ui),n)},VR=function(e){e.fire("ScriptsLoaded"),AR(e),LR(e),ER(e);var t=FR(e);zR(e,D.from(t.api).getOr({}));var n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=n.editorContainer?n.editorContainer:null,sD(e),e.inline?wR(e):TR(e,n)},HR=Iu.DOM,UR=function(e){return"-"===e.charAt(0)},$R=function(e,t){var n=Nf(t),r=Pf(t);if(!1===Zu.hasCode(n)&&"en"!==n){var o=""!==r?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(o,p,void 0,(function(){nD(t,o,n)}))}},qR=function(e,t,n,r){var o=Gf(t);if(j(o)){if(!UR(o)&&!WM.urls.hasOwnProperty(o)){var i=ep(t);i?WM.load(o,t.documentBaseURI.toAbsolute(i)):WM.load(o,"themes/"+o+"/theme"+n+".js")}e.loadQueue((function(){WM.waitFor(o,r)}))}else r()},WR=function(e){return D.from(Mf(e)).filter((function(e){return e.length>0})).map((function(e){return{url:e,name:D.none()}}))},GR=function(e,t,n){return D.from(t).filter((function(e){return e.length>0&&!IM.has(e)})).map((function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+n+".js",name:D.some(t)}}))},YR=function(e,t,n){var r=GR(t,"default",n),o=WR(t).orThunk((function(){return GR(t,Tf(t),"")}));Z(Rc([r,o]),(function(n){e.add(n.url,p,void 0,(function(){tD(t,n.url,n.name.getOrUndefined())}))}))},KR=function(e,t){dn.each(pp(e),(function(t,n){qM.load(n,t,p,void 0,(function(){eD(e,t,n)})),e.settings.plugins+=" "+n})),dn.each(fp(e).split(/[ ,]/),(function(n){if(n=dn.trim(n),n&&!qM.urls[n])if(UR(n)){n=n.substr(1,n.length);var r=qM.dependencies(n);dn.each(r,(function(n){var r={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"},o=qM.createUrl(r,n);qM.load(o.resource,o,p,void 0,(function(){eD(e,o.prefix+o.resource+o.suffix,o.resource)}))}))}else{var o={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};qM.load(n,o,p,void 0,(function(){eD(e,o.prefix+o.resource+o.suffix,n)}))}}))},XR=function(e,t){var n=Bu.ScriptLoader;qR(n,e,t,(function(){$R(n,e),YR(n,e,t),KR(e,t),n.loadQueue((function(){e.removed||VR(e)}),e,(function(){e.removed||VR(e)}))}))},JR=function(e,t){return pi.forElement(e,{contentCssCors:dp(t),referrerPolicy:jf(t)})},ZR=function(e){var t=e.id;Zu.setCode(Nf(e));var n=function(){HR.unbind(window,"ready",n),e.render()};if(qs.Event.domLoaded){if(e.getElement()&&Jt.contentEditable){var r=vn.fromDom(e.getElement()),o=ho(r);e.on("remove",(function(){Q(r.dom.attributes,(function(e){return po(r,e.name)})),lo(r,o)})),e.ui.styleSheetLoader=JR(r,e),tp(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var i=e.getElement().form||HR.getParent(t,"form");i&&(e.formElement=i,np(e)&&!Yr(e.getElement())&&(HR.insertAfter(HR.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},HR.bind(i,"submit reset",e.formEventDelegate),e.on("reset",(function(){e.resetContent()})),!rp(e)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=YM(e),e.notificationManager=$M(e),op(e)&&e.on("GetContent",(function(e){e.save&&(e.content=HR.encode(e.content))})),ip(e)&&e.on("submit",(function(){e.initialized&&e.save()})),ap(e)&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),XR(e,e.suffix)}}else HR.bind(window,"ready",n)},QR=function(e,t){return LO(e,t)},eB={"font-size":"size","font-family":"face"},tB=function(e,t,n){var r=function(t){return bo(t,e).orThunk((function(){return"font"===jn(t)?Ie(eB,e).bind((function(e){return co(t,e)})):D.none()}))},o=function(e){return In(vn.fromDom(t),e)};return hb(vn.fromDom(n),(function(e){return r(e)}),o)},nB=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},rB=function(e,t){return D.from(Iu.DOM.getStyle(t,e,!0))},oB=function(e){return function(t,n){return D.from(n).map(vn.fromDom).filter(Bn).bind((function(n){return tB(e,t,n.dom).or(rB(e,n.dom))})).getOr("")}},iB=oB("font-size"),aB=h(nB,oB("font-family")),sB=function(e){return Fh(e.getBody()).map((function(e){var t=e.container();return Kr(t)?t.parentNode:t}))},lB=function(e){return D.from(e.selection.getRng()).bind((function(t){var n=e.getBody(),r=t.startContainer===n&&0===t.startOffset;return r?D.none():D.from(e.selection.getStart(!0))}))},uB=function(e,t){return lB(e).orThunk(y(sB,e)).map(vn.fromDom).filter(Bn).map(t)},cB=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=wf(e),o=_f(e);return o?o[n-1]||t:r[n-1]||t}return t}return t},dB=function(e){var t=e.split(/\s*,\s*/);return J(t,(function(e){return-1===e.indexOf(" ")||lt(e,'"')||lt(e,"'")?e:"'"+e+"'"})).join(",")},fB=function(e,t){var n=cB(e,t);e.formatter.toggle("fontname",{value:dB(n)}),e.nodeChanged()},pB=function(e){return uB(e,(function(t){return aB(e.getBody(),t.dom)})).getOr("")},hB=function(e,t){e.formatter.toggle("fontsize",{value:cB(e,t)}),e.nodeChanged()},mB=function(e){return uB(e,(function(t){return iB(e.getBody(),t.dom)})).getOr("")},gB=function(e){return uB(e,(function(t){var n=vn.fromDom(e.getBody()),r=hb(t,(function(e){return bo(e,"line-height")}),y(In,n)),o=function(){var e=parseFloat(vo(t,"line-height")),n=parseFloat(vo(t,"font-size"));return String(e/n)};return r.getOrThunk(o)})).getOr("")},vB=function(e,t){e.undoManager.transact((function(){e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()}))},yB=function(e){var t;return"string"!==typeof e?(t=dn.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},bB=function(e,t){var n=yB(t);EO(e,n.content,n.details)},xB=dn.each,wB=dn.map,_B=dn.inArray,CB=function(){function e(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}return e.prototype.execCommand=function(e,t,n,r){var o,i=!1,a=this;if(!a.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?Ty(a.editor):a.editor.focus(),r=a.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n}),r.isDefaultPrevented())return!1;var s=e.toLowerCase();if(o=a.commands.exec[s])return o(s,t,n),a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(xB(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),i=!0,!1})),i)return i;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{i=a.editor.getDoc().execCommand(e,t,n)}catch(l){}return!!i&&(a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},e.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(n){}return!1}},e.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(n){}}},e.prototype.addCommands=function(e,t){void 0===t&&(t="exec");var n=this;xB(e,(function(e,r){xB(r.toLowerCase().split(","),(function(r){n.commands[t][r]=e}))}))},e.prototype.addCommand=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,o,i,a){return t.call(n||r.editor,o,i,a)}},e.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(t){}return!1},e.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},e.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},e.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},e.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0),this.editor.nodeChanged()},e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(e){var t=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(n){var r,o=e.getDoc();try{t.execNativeCommand(n)}catch(a){r=!0}if("paste"!==n||o.queryCommandEnabled(n)||(r=!0),r||!o.queryCommandSupported(n)){var i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Jt.mac&&(i=i.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),xB("left,center,right,justify".split(","),(function(t){r!==t&&e.formatter.remove("align"+t)})),"none"!==r&&t.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r;t.execNativeCommand(n);var o=e.dom.getParent(e.selection.getNode(),"ol,ul");o&&(r=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(t.storeSelection(),e.dom.split(r,o),t.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,r){t.toggleFormat(e,r)},FontName:function(t,n,r){fB(e,r)},FontSize:function(t,n,r){hB(e,r)},LineHeight:function(t,n,r){vB(e,r)},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,r){return t.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},mceRemoveNode:function(n,r,o){var i=o||e.selection.getNode();i!==e.getBody()&&(t.storeSelection(),e.dom.remove(i,!0),t.restoreSelection())},mceSelectNodeDepth:function(t,n,r){var o=0;e.dom.getParent(e.selection.getNode(),(function(t){if(1===t.nodeType&&o++===r)return e.selection.select(t),!1}),e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){bB(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(t,n,r){eP(e,r)},mceToggleFormat:function(e,n,r){t.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){TA(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){"string"===typeof r&&(r={href:r});var o=e.dom.getParent(e.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),o&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,o)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),to);if(t){var n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return RN(e,r),!0}});var n=function(t){return function(){var n=e.selection,r=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks(),o=wB(r,(function(n){return!!e.formatter.matchNode(n,t)}));return-1!==_B(o,!0)}};t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return CA(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state"),t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),t.addQueryValueHandler("FontName",(function(){return pB(e)}),this),t.addQueryValueHandler("FontSize",(function(){return mB(e)}),this),t.addQueryValueHandler("LineHeight",(function(){return gB(e)}),this)},e}(),SB="data-mce-contenteditable",kB=function(e,t,n){pc(e,t)&&!1===n?fc(e,t):n&&cc(e,t)},OB=function(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch(r){}},TB=function(e,t){e.dom.contentEditable=t?"true":"false"},MB=function(e){Z(mc(e,'*[contenteditable="true"]'),(function(e){so(e,SB,"true"),TB(e,!1)}))},DB=function(e){Z(mc(e,"*["+SB+'="true"]'),(function(e){po(e,SB),TB(e,!0)}))},IB=function(e){D.from(e.selection.getNode()).each((function(e){e.removeAttribute("data-mce-selected")}))},EB=function(e){e.selection.setRng(e.selection.getRng())},AB=function(e,t){var n=vn.fromDom(e.getBody());kB(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),IB(e),e.readonly=!0,TB(n,!1),MB(n)):(e.readonly=!1,TB(n,!0),DB(n),OB(e,"StyleWithCSS",!1),OB(e,"enableInlineTableEditing",!1),OB(e,"enableObjectResizing",!1),eb(e)&&e.focus(),EB(e),e.nodeChanged())},LB=function(e){return e.readonly},jB=function(e){e.parser.addAttributeFilter("contenteditable",(function(t){LB(e)&&Z(t,(function(e){e.attr(SB,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(SB,(function(t){LB(e)&&Z(t,(function(e){e.attr("contenteditable",e.attr(SB))}))})),e.serializer.addTempAttr(SB)},NB=function(e){e.serializer?jB(e):e.on("PreInit",(function(){jB(e)}))},PB=function(e){return"click"===e.type},RB=function(e,t){var n=function(t){return In(t,vn.fromDom(e.getBody()))};return ti(t,"a",n).bind((function(e){return co(e,"href")}))},BB=function(e,t){if(PB(t)&&!Vg.metaKeyPressed(t)){var n=vn.fromDom(t.target);RB(e,n).each((function(n){if(t.preventDefault(),/^#/.test(n)){var r=e.dom.select(n+',[name="'+at(n,"#")+'"]');r.length&&e.selection.scrollIntoView(r[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}},FB=function(e){e.on("ShowCaret",(function(t){LB(e)&&t.preventDefault()})),e.on("ObjectSelected",(function(t){LB(e)&&t.preventDefault()}))},zB=dn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),VB=function(){function e(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||C}return e.isNative=function(e){return!!zB[e.toLowerCase()]},e.prototype.fire=function(e,t){var n=e.toLowerCase(),r=t||{};r.type=n,r.target||(r.target=this.scope),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=S},r.stopPropagation=function(){r.isPropagationStopped=S},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=S},r.isDefaultPrevented=C,r.isPropagationStopped=C,r.isImmediatePropagationStopped=C),this.settings.beforeFire&&this.settings.beforeFire(r);var o=this.bindings[n];if(o)for(var i=0,a=o.length;i<a;i++){var s=o[i];if(s.once&&this.off(n,s.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===s.func.call(this.scope,r))return r.preventDefault(),r}return r},e.prototype.on=function(e,t,n,r){if(!1===t&&(t=C),t){var o={func:t};r&&dn.extend(o,r);var i=e.toLowerCase().split(" "),a=i.length;while(a--){var s=i[a],l=this.bindings[s];l||(l=this.bindings[s]=[],this.toggleEvent(s,!0)),n?l.unshift(o):l.push(o)}}return this},e.prototype.off=function(e,t){var n=this;if(e){var r=e.toLowerCase().split(" "),o=r.length;while(o--){var i=r[o],a=this.bindings[i];if(!i)return we(this.bindings,(function(e,t){n.toggleEvent(t,!1),delete n.bindings[t]})),this;if(a){if(t){var s=a.length;while(s--)a[s].func===t&&(a=a.slice(0,s).concat(a.slice(s+1)),this.bindings[i]=a)}else a.length=0;a.length||(this.toggleEvent(e,!1),delete this.bindings[i])}}}else we(this.bindings,(function(e,t){n.toggleEvent(t,!1)})),this.bindings={};return this},e.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},e.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},e}(),HB=function(e){return e._eventDispatcher||(e._eventDispatcher=new VB({scope:e,toggleEvent:function(t,n){VB.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},UB={fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return t;var o=HB(r).fire(e,t);if(!1!==n&&r.parent){var i=r.parent();while(i&&!o.isPropagationStopped())i.fire(e,o,!1),i=i.parent()}return o},on:function(e,t,n){return HB(this).on(e,t,n)},off:function(e,t){return HB(this).off(e,t)},once:function(e,t){return HB(this).once(e,t)},hasEventListeners:function(e){return HB(this).has(e)}},$B=Iu.DOM,qB=function(e,t){if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=qf(e);return n?(e.eventRoot||(e.eventRoot=$B.select(n)[0]),e.eventRoot):e.getBody()},WB=function(e){return!e.hidden&&!LB(e)},GB=function(e,t,n){WB(e)?e.fire(t,n):LB(e)&&BB(e,n)},YB=function(e,t){var n;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed){var r=qB(e,t);if(qf(e)){if(pL||(pL={},e.editorManager.on("removeEditor",(function(){e.editorManager.activeEditor||pL&&(we(pL,(function(t,n){e.dom.unbind(qB(e,n))})),pL=null)}))),pL[t])return;n=function(n){var r=n.target,o=e.editorManager.get(),i=o.length;while(i--){var a=o[i].getBody();(a===r||$B.isChildOf(r,a))&&GB(o[i],t,n)}},pL[t]=n,$B.bind(r,t,n)}else n=function(n){GB(e,t,n)},$B.bind(r,t,n),e.delegates[t]=n}},KB=Ue(Ue({},UB),{bindPendingEventDelegates:function(){var e=this;dn.each(e._pendingNativeEvents,(function(t){YB(e,t)}))},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?YB(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(qB(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(we(e.delegates,(function(t,n){e.dom.unbind(qB(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),XB=["design","readonly"],JB=function(e,t,n,r){var o=n[t.get()],i=n[r];try{i.activate()}catch(vz){return}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&AB(e,i.editorReadOnly),t.set(r),Lg(e,r)},ZB=function(e,t,n,r){if(r!==n.get()){if(!Ee(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?JB(e,n,t,r):e.on("init",(function(){return JB(e,n,t,r)}))}},QB=function(e,t,n){var r;if(K(XB,t))throw new Error("Cannot override default mode "+t);return Ue(Ue({},e),(r={},r[t]=Ue(Ue({},n),{deactivate:function(){try{n.deactivate()}catch(vz){}}}),r))},eF=function(e){var t=Fu("design"),n=Fu({design:{activate:p,deactivate:p,editorReadOnly:!1},readonly:{activate:p,deactivate:p,editorReadOnly:!0}});return NB(e),FB(e),{isReadOnly:function(){return LB(e)},set:function(r){return ZB(e,n.get(),t,r)},get:function(){return t.get()},register:function(e,t){n.set(QB(n.get(),e,t))}}},tF=dn.each,nF=dn.explode,rF={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},oF=dn.makeMap("alt,ctrl,shift,meta,access"),iF=function(){function e(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var t=this;e.on("keyup keypress keydown",(function(e){!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(tF(t.shortcuts,(function(n){if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}return e.prototype.add=function(e,t,n,r){var o=this,i=o.normalizeCommandFunc(n);return tF(nF(dn.trim(e)),(function(e){var n=o.createShortcut(e,t,i,r);o.shortcuts[n.id]=n})),!0},e.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},e.prototype.normalizeCommandFunc=function(e){var t=this,n=e;return"string"===typeof n?function(){t.editor.execCommand(n,!1,null)}:dn.isArray(n)?function(){t.editor.execCommand(n[0],n[1],n[2])}:n},e.prototype.parseShortcut=function(e){var t,n={};tF(nF(e.toLowerCase(),"+"),(function(e){e in oF?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=rF[e]||e.toUpperCase().charCodeAt(0))}));var r=[n.keyCode];for(t in oF)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,Jt.mac?n.ctrl=!0:n.shift=!0),n.meta&&(Jt.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},e.prototype.createShortcut=function(e,t,n,r){var o=dn.map(nF(e,">"),this.parseShortcut);return o[o.length-1]=dn.extend(o[o.length-1],{func:n,scope:r||this.editor}),dn.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})},e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},e.prototype.isFunctionKey=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},e.prototype.matchShortcut=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},e}(),aF=function(){var e={},t={},n={},r={},o={},i={},a={},s=function(e,t){return function(n,r){return e[n.toLowerCase()]=Ue(Ue({},r),{type:t})}},l=function(e,t){return r[e.toLowerCase()]=t};return{addButton:s(e,"button"),addGroupToolbarButton:s(e,"grouptoolbarbutton"),addToggleButton:s(e,"togglebutton"),addMenuButton:s(e,"menubutton"),addSplitButton:s(e,"splitbutton"),addMenuItem:s(t,"menuitem"),addNestedMenuItem:s(t,"nestedmenuitem"),addToggleMenuItem:s(t,"togglemenuitem"),addAutocompleter:s(n,"autocompleter"),addContextMenu:s(o,"contextmenu"),addContextToolbar:s(i,"contexttoolbar"),addContextForm:s(i,"contextform"),addSidebar:s(a,"sidebar"),addIcon:l,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a}}}},sF=function(){var e=aF();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},lF=dn.each,uF=dn.trim,cF="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),dF={ftp:21,http:80,https:443,mailto:25},fF=function(){function e(t,n){t=uF(t),this.settings=n||{};var r=this.settings.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))o.source=t;else{var i=0===t.indexOf("//");if(0!==t.indexOf("/")||i||(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var a=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+o.toAbsPath(a,t);else{var s=/([^#?]*)([#?]?.*)/.exec(t);t=(r&&r.protocol||"http")+"://mce_host"+o.toAbsPath(a,s[1])+s[2]}}t=t.replace(/@@/g,"(mce_at)");var l=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);lF(cF,(function(e,t){var n=l[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[e]=n})),r&&(o.protocol||(o.protocol=r.protocol),o.userInfo||(o.userInfo=r.userInfo),o.port||"mce_host"!==o.host||(o.port=r.port),o.host&&"mce_host"!==o.host||(o.host=r.host),o.source=""),i&&(o.protocol="")}}return e.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},e.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},e.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if("./"===t)return t;var r=new e(t,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var o=this.getURI(),i=r.getURI();return o===i||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===i?o:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=dF[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},e.prototype.toRelPath=function(e,t){var n,r,o=0,i="",a=e.substring(0,e.lastIndexOf("/")).split("/"),s=t.split("/");if(a.length>=s.length)for(n=0,r=a.length;n<r;n++)if(n>=s.length||a[n]!==s[n]){o=n+1;break}if(a.length<s.length)for(n=0,r=s.length;n<r;n++)if(n>=a.length||a[n]!==s[n]){o=n+1;break}if(1===o)return t;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=s.length;n<r;n++)i+=n!==o-1?"/"+s[n]:s[n];return i},e.prototype.toAbsPath=function(e,t){var n,r,o=0,i=[],a=/\/$/.test(t)?"/":"",s=e.split("/"),l=t.split("/");for(lF(s,(function(e){e&&i.push(e)})),s=i,n=l.length-1,i=[];n>=0;n--)0!==l[n].length&&"."!==l[n]&&(".."!==l[n]?o>0?o--:i.push(l[n]):o++);return n=s.length-o,r=n<=0?ce(i).join("/"):s.slice(0,n).join("/")+"/"+ce(i).join("/"),0!==r.indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},e.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},e}(),pF=Iu.DOM,hF=dn.extend,mF=dn.each,gF=dn.resolve,vF=Jt.ie,yF=function(){function e(e,t,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,hF(this,KB),this.settings=SM(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Bu.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Iu.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),ec.languageLoad=this.settings.language_load,ec.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new fF(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new iF(this),this.editorCommands=new CB(this),this.settings.cache_suffix&&(Jt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:sF(),styleSheetLoader:void 0,show:p,hide:p,enable:p,disable:p,isDisabled:C};var o=this,i=eF(o);this.mode=i,this.setMode=i.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=wu.overrideDefaults((function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}}))}return e.prototype.render=function(){ZR(this)},e.prototype.focus=function(e){rb(this,e)},e.prototype.hasFocus=function(){return Qy(this)},e.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this,i=o.settings[e];if(i)return o.callbackLookup&&(r=o.callbackLookup[e])&&(i=r.func,r=r.scope),"string"===typeof i&&(r=i.replace(/\.\w+$/,""),r=r?gF(r):0,i=gF(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[e]={func:i,scope:r}),i.apply(r||o,t)},e.prototype.translate=function(e){return Zu.translate(e)},e.prototype.getParam=function(e,t,n){return MM(this,e,t,n)},e.prototype.hasPlugin=function(e,t){var n=K(fp(this).split(/[ ,]/),e);return!!n&&(!t||void 0!==qM.get(e))},e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},e.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},e.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},e.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},e.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},e.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},e.prototype.show=function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(pF.show(e.getContainer()),pF.hide(e.id)),e.load(),e.fire("show"))},e.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(vF&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(pF.hide(e.getContainer()),pF.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},e.prototype.load=function(e){var t,n=this,r=n.getElement();if(n.removed)return"";if(r){e=e||{},e.load=!0;var o=Yr(r)?r.value:r.innerHTML;return t=n.setContent(o,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t}},e.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return e=e||{},e.save=!0,e.element=o,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,Yr(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=pF.getParent(r.id,"form"))&&mF(n.elements,(function(e){if(e.name===r.id)return e.value=t,!1}))),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},e.prototype.setContent=function(e,t){return UT(this,e,t)},e.prototype.getContent=function(e){return HT(this,e)},e.prototype.insertContent=function(e,t){t&&(e=hF({content:e},t)),this.execCommand("mceInsertContent",!1,e)},e.prototype.resetContent=function(e){void 0===e?UT(this,this.startContent,{format:"raw"}):UT(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},e.prototype.getContainer=function(){var e=this;return e.container||(e.container=pF.get(e.editorContainer||e.id+"_parent")),e.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=pF.get(this.id)),this.targetElm},e.prototype.getWin=function(){var e,t=this;return t.contentWindow||(e=t.iframeElement,e&&(t.contentWindow=e.contentWindow)),t.contentWindow},e.prototype.getDoc=function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},e.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},e.prototype.convertURL=function(e,t,n){var r=this,o=r.settings;return o.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!o.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:o.relative_urls?r.documentBaseURI.toRelative(e):(e=r.documentBaseURI.toAbsolute(e,o.remove_script_host),e)},e.prototype.addVisual=function(e){QR(this,e)},e.prototype.remove=function(){KT(this)},e.prototype.destroy=function(e){XT(this,e)},e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),bF=Iu.DOM,xF=dn.explode,wF=dn.each,_F=dn.extend,CF=0,SF=!1,kF=[],OF=[],TF=function(e){return"length"!==e},MF=function(e){var t=e.type;wF(LF.get(),(function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e);break}}))},DF=function(e){e!==SF&&(e?wu(window).on("resize scroll",MF):wu(window).off("resize scroll",MF),SF=e)},IF=function(e){var t=OF;delete kF[e.id];for(var n=0;n<kF.length;n++)if(kF[n]===e){kF.splice(n,1);break}return OF=te(OF,(function(t){return e!==t})),LF.activeEditor===e&&(LF.activeEditor=OF.length>0?OF[0]:null),LF.focusedEditor===e&&(LF.focusedEditor=null),t.length!==OF.length},EF=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(IF(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},AF="CSS1Compat"!==document.compatMode,LF=Ue(Ue({},UB),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:wu,majorVersion:"5",minorVersion:"6.2",releaseDate:"2020-12-08",editors:kF,i18n:Zu,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t,n=this,r="";t=fF.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"));var o=window.tinymce||window.tinyMCEPreInit;if(o)e=o.base||o.baseURL,r=o.suffix;else{for(var i=document.getElementsByTagName("script"),a=0;a<i.length;a++){var s=i[a].src||"";if(""!==s){var l=s.substring(s.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(s)){-1!==l.indexOf(".min")&&(r=".min"),e=s.substring(0,s.lastIndexOf("/"));break}}}if(!e&&document.currentScript){s=document.currentScript.src;-1!==s.indexOf(".min")&&(r=".min"),e=s.substring(0,s.lastIndexOf("/"))}}n.baseURL=new fF(t).toAbsolute(e),n.documentBaseURL=t,n.baseURI=new fF(n.baseURL),n.suffix=r,Uy(n)},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;void 0!==r&&we(r,(function(e,t){ec.PluginManager.urls[t]=e}))},init:function(e){var t,n=this,r=dn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=function(e,t){return e.inline&&t.tagName.toLowerCase()in r},i=function(e){var t=e.id;return t||(t=Ie(e,"name").filter((function(e){return!bF.get(e)})).getOrThunk(bF.uniqueId),e.setAttribute("id",t)),t},a=function(t){var r=e[t];if(r)return r.apply(n,Array.prototype.slice.call(arguments,2))},s=function(e,t){return t.constructor===RegExp?t.test(e.className):bF.hasClass(e,t)},l=function(e){var t=[];if(Jt.browser.isIE()&&Jt.browser.version.major<11)return oD("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(AF)return oD("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return wF(e.types,(function(e){t=t.concat(bF.select(e.selector))})),t;if(e.selector)return bF.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":var n=e.elements||"";n.length>0&&wF(xF(n),(function(e){var n=bF.get(e);n?t.push(n):wF(document.forms,(function(n){wF(n.elements,(function(n){n.name===e&&(e="mce_editor_"+CF++,bF.setAttrib(n,"id",e),t.push(n))}))}))}));break;case"textareas":case"specific_textareas":wF(bF.select("textarea"),(function(n){e.editor_deselector&&s(n,e.editor_deselector)||e.editor_selector&&!s(n,e.editor_selector)||t.push(n)}));break}return t},u=function(e){t=e},c=function(){var t,r=0,s=[],d=function(e,o,i){var a=new yF(e,o,n);s.push(a),a.on("init",(function(){++r===t.length&&u(s)})),a.targetElm=a.targetElm||i,a.render()};bF.unbind(window,"ready",c),a("onpageload"),t=wu.unique(l(e)),e.types?wF(e.types,(function(n){dn.each(t,(function(t){return!bF.is(t,n.selector)||(d(i(t),_F({},e,n),t),!1)}))})):(dn.each(t,(function(e){EF(n.get(e.id))})),t=dn.grep(t,(function(e){return!n.get(e.id)})),0===t.length?u([]):wF(t,(function(t){o(e,t)?oD("Could not initialize inline editor on invalid inline target element",t):d(i(t),e,t)})))};return n.settings=e,bF.bind(window,"ready",c),new ri((function(e){t?e(t):u=function(t){e(t)}}))},get:function(e){return 0===arguments.length?OF.slice(0):j(e)?ie(OF,(function(t){return t.id===e})).getOr(null):U(e)&&OF[e]?OF[e]:null},add:function(e){var t=this,n=kF[e.id];return n===e||(null===t.get(e.id)&&(TF(e.id)&&(kF[e.id]=e),kF.push(e),OF.push(e)),DF(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),hL||(hL=function(e){var n=t.fire("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",hL))),e},createEditor:function(e,t){return this.add(new yF(e,t,this))},remove:function(e){var t,n,r=this;if(e){if(!j(e))return n=e,R(r.get(n.id))?null:(IF(n)&&r.fire("RemoveEditor",{editor:n}),0===OF.length&&window.removeEventListener("beforeunload",hL),n.remove(),DF(OF.length>0),n);wF(bF.select(e),(function(e){n=r.get(e.id),n&&r.remove(n)}))}else for(t=OF.length-1;t>=0;t--)r.remove(OF[t])},execCommand:function(e,t,n){var r=this,o=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new yF(n,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){wF(OF,(function(e){e.save()}))},addI18n:function(e,t){Zu.add(e,t)},translate:function(e){return Zu.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new fF(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new fF(this.baseURL)}});LF.setup();var jF,NF,PF=Math.min,RF=Math.max,BF=Math.round,FF=function(e,t,n){var r=t.x,o=t.y,i=e.w,a=e.h,s=t.w,l=t.h,u=(n||"").split("");return"b"===u[0]&&(o+=l),"r"===u[1]&&(r+=s),"c"===u[0]&&(o+=BF(l/2)),"c"===u[1]&&(r+=BF(s/2)),"b"===u[3]&&(o-=a),"r"===u[4]&&(r-=i),"c"===u[3]&&(o-=BF(a/2)),"c"===u[4]&&(r-=BF(i/2)),$F(r,o,i,a)},zF=function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if(o=FF(e,t,r[i]),o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},VF=function(e,t,n){return $F(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},HF=function(e,t){var n=RF(e.x,t.x),r=RF(e.y,t.y),o=PF(e.x+e.w,t.x+t.w),i=PF(e.y+e.h,t.y+t.h);return o-n<0||i-r<0?null:$F(n,r,o-n,i-r)},UF=function(e,t,n){var r=e.x,o=e.y,i=e.x+e.w,a=e.y+e.h,s=t.x+t.w,l=t.y+t.h,u=RF(0,t.x-r),c=RF(0,t.y-o),d=RF(0,i-s),f=RF(0,a-l);return r+=u,o+=c,n&&(i+=u,a+=c,r-=d,o-=f),i-=d,a-=f,$F(r,o,i-r,a-o)},$F=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},qF=function(e){return $F(e.left,e.top,e.width,e.height)},WF={inflate:VF,relativePosition:FF,findBestRelativePosition:zF,intersect:HF,clamp:UF,create:$F,fromClientRect:qF},GF=function(e,t,n){void 0===n&&(n=1e3);var r=!1,o=null,i=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r||(r=!0,null!==o&&(clearTimeout(o),o=null),e.apply(null,t))}},a=i(e),s=i(t),l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r||null!==o||(o=setTimeout((function(){return s.apply(null,e)}),n))};return{start:l,resolve:a,reject:s}},YF=function(){var e={},t={},n=function(n,r){var o='Script at URL "'+r+'" failed to load',i='Script at URL "'+r+"\" did not call `tinymce.Resource.add('"+n+"', data)` within 1 second";if(void 0!==e[n])return e[n];var a=new ri((function(e,a){var s=GF(e,a);t[n]=s.resolve,Bu.ScriptLoader.loadScript(r,(function(){return s.start(i)}),(function(){return s.reject(o)}))}));return e[n]=a,a},r=function(n,r){void 0!==t[n]&&(t[n](r),delete t[n]),e[n]=ri.resolve(r)};return{load:n,add:r}},KF=YF(),XF=dn.each,JF=dn.extend,ZF=function(){};ZF.extend=jF=function(e){var t=this,n=t.prototype,r=function(){var e,t,n,r=this;if(!NF&&(r.init&&r.init.apply(r,arguments),t=r.Mixins,t)){e=t.length;while(e--)n=t[e],n.init&&n.init.apply(r,arguments)}},o=function(){return this},i=function(e,t){return function(){var r=this,o=r._super;r._super=n[e];var i=t.apply(r,arguments);return r._super=o,i}};NF=!0;var a=new t;return NF=!1,e.Mixins&&(XF(e.Mixins,(function(t){for(var n in t)"init"!==n&&(e[n]=t[n])})),n.Mixins&&(e.Mixins=n.Mixins.concat(e.Mixins))),e.Methods&&XF(e.Methods.split(","),(function(t){e[t]=o})),e.Properties&&XF(e.Properties.split(","),(function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}})),e.Statics&&XF(e.Statics,(function(e,t){r[t]=e})),e.Defaults&&n.Defaults&&(e.Defaults=JF({},n.Defaults,e.Defaults)),we(e,(function(e,t){"function"===typeof e&&n[t]?a[t]=i(t,e):a[t]=e})),r.prototype=a,r.constructor=r,r.extend=jF,r};var QF,ez=Math.min,tz=Math.max,nz=Math.round,rz=function(e){var t={},n=0,r=0,o=0,i=function(e,t,n){var r,o,i;r=0,o=0,i=0,e/=255,t/=255,n/=255;var a=ez(e,ez(t,n)),s=tz(e,tz(t,n));if(a===s)return i=a,{h:0,s:0,v:100*i};var l=e===a?t-n:n===a?e-t:n-e;return r=e===a?3:n===a?1:5,r=60*(r-l/(s-a)),o=(s-a)/s,i=s,{h:nz(r),s:nz(100*o),v:nz(100*i)}},a=function(e,t,i){if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,i=parseInt(i,10)/100,t=tz(0,ez(t,1)),i=tz(0,ez(i,1)),0!==t){var a=e/60,s=i*t,l=s*(1-Math.abs(a%2-1)),u=i-s;switch(Math.floor(a)){case 0:n=s,r=l,o=0;break;case 1:n=l,r=s,o=0;break;case 2:n=0,r=s,o=l;break;case 3:n=0,r=l,o=s;break;case 4:n=l,r=0,o=s;break;case 5:n=s,r=0,o=l;break;default:n=r=o=0}n=nz(255*(n+u)),r=nz(255*(r+u)),o=nz(255*(o+u))}else n=r=o=nz(255*i)},s=function(){var e=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+e(n)+e(r)+e(o)},l=function(){return{r:n,g:r,b:o}},u=function(){return i(n,r,o)},c=function(e){var i;return"object"===typeof e?"r"in e?(n=e.r,r=e.g,o=e.b):"v"in e&&a(e.h,e.s,e.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,t};return e&&c(e),t.toRgb=l,t.toHsv=u,t.toHex=s,t.parse=c,t},oz=function(e){var t=JSON.stringify(e);return j(t)?t.replace(/[\u0080-\uFFFF]/g,(function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t})):t},iz={serialize:oz,parse:function(e){try{return JSON.parse(e)}catch(t){}}},az={callbacks:{},count:0,send:function(e){var t=this,n=Iu.DOM,r=void 0!==e.count?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},sz=Ue(Ue({},UB),{send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||n++>1e4?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):ci.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",sz.fire("beforeInitialize",{settings:e}),t=new XMLHttpRequest,t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&dn.each(e.requestheaders,(function(e){t.setRequestHeader(e.key,e.value)})),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=sz.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return r();ci.setTimeout(r,10)}}),lz=dn.extend,uz=function(){function e(e){this.settings=lz({},e),this.count=0}return e.sendRPC=function(t){return(new e).send(t)},e.prototype.send=function(e){var t=e.error,n=e.success,r=lz(this.settings,e);r.success=function(e,o){e=iz.parse(e),"undefined"===typeof e&&(e={error:"JSON Parse error."}),e.error?t.call(r.error_scope||r.scope,e.error,o):n.call(r.success_scope||r.scope,e.result)},r.error=function(e,n){t&&t.call(r.error_scope||r.scope,e,n)},r.data=iz.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),r.content_type="application/json",sz.send(r)},e}(),cz=function(){return function(){var e={},t=[],n={getItem:function(t){var n=e[t];return n||null},setItem:function(n,r){t.push(n),e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter((function(e){return e===n})),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()};try{var dz="__storage_test__";QF=window.localStorage,QF.setItem(dz,dz),QF.removeItem(dz)}catch(vz){QF=cz()}var fz=QF,pz={geom:{Rect:WF},util:{Promise:ri,Delay:ci,Tools:dn,VK:Vg,URI:fF,Class:ZF,EventDispatcher:VB,Observable:UB,I18n:Zu,XHR:sz,JSON:iz,JSONRequest:uz,JSONP:az,LocalStorage:fz,Color:rz},dom:{EventUtils:qs,Sizzle:Dl,DomQuery:wu,TreeWalker:hi,TextSeeker:Pc,DOMUtils:Iu,ScriptLoader:Bu,RangeUtils:dv,Serializer:zT,StyleSheetLoader:di,ControlSelection:Ug,BookmarkManager:Og,Selection:KO,Event:qs.Event},html:{Styles:Ls,Entities:ns,Node:Ib,Schema:ps,SaxParser:Wb,DomParser:TT,Writer:Ab,Serializer:Lb},Env:Jt,AddOnManager:ec,Annotator:Sg,Formatter:OD,UndoManager:DD,EditorCommands:CB,WindowManager:YM,NotificationManager:$M,EditorObservable:KB,Shortcuts:iF,Editor:yF,FocusManager:Dy,EditorManager:LF,DOM:Iu.DOM,ScriptLoader:Bu.ScriptLoader,PluginManager:qM,ThemeManager:WM,IconManager:IM,Resource:KF,trim:dn.trim,isArray:dn.isArray,is:dn.is,toArray:dn.toArray,makeMap:dn.makeMap,each:dn.each,map:dn.map,grep:dn.grep,inArray:dn.inArray,extend:dn.extend,create:dn.create,walk:dn.walk,createNS:dn.createNS,resolve:dn.resolve,explode:dn.explode,_addCacheSuffix:dn._addCacheSuffix,isOpera:Jt.opera,isWebKit:Jt.webkit,isIE:Jt.ie,isGecko:Jt.gecko,isMac:Jt.mac},hz=dn.extend(LF,pz),mz=function(t){try{e.exports=t}catch(_){}},gz=function(e){window.tinymce=e,window.tinyMCE=e};gz(hz),mz(hz)})()}).call(this,n("2409"))},"14db":function(e,t,n){"use strict";n("7837")},"14eb":function(e,t,n){"use strict";n("d5d2")},"15dc":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"名称"}},[n("a-input",{attrs:{placeholder:"请输入名称查询"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"年龄"}},[n("a-input",{attrs:{placeholder:"请输入名称查询"},model:{value:e.queryParam.age,callback:function(t){e.$set(e.queryParam,"age",t)},expression:"queryParam.age"}})],1)],1),e.toggleSearchStatus?[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"字典下拉"}},[n("j-dict-select-tag",{attrs:{placeholder:"请选择用户名称",dictCode:"sex"},model:{value:e.queryParam.sex,callback:function(t){e.$set(e.queryParam,"sex",t)},expression:"queryParam.sex"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"字典表下拉"}},[n("j-dict-select-tag",{attrs:{placeholder:"请选择用户",dictCode:"sys_user,realname,id"},model:{value:e.queryParam.realname,callback:function(t){e.$set(e.queryParam,"realname",t)},expression:"queryParam.realname"}})],1)],1)]:e._e(),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)],1),n("a-col",{attrs:{md:6,sm:24}},[e.superQueryFlag?[n("a-tooltip",{attrs:{title:"已有高级查询条件生效!"}},[n("button",{staticClass:"ant-btn ant-btn-primary",attrs:{disabled:!1},on:{click:e.superQuery}},[n("a-icon",{attrs:{type:"appstore",theme:"twoTone",spin:"true"}}),n("span",[e._v("高级查询")])],1)])]:n("a-button",{attrs:{type:"primary",icon:"filter"},on:{click:e.superQuery}},[e._v("高级查询")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n            "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n            "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],2)],2)],1)],1),n("div",{staticClass:"table-operator",staticStyle:{"margin-top":"5px"}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.jump}},[e._v("创建单据")]),n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.onetomany}},[e._v("一对多")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("demo")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("jeecgDemo-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("JeecgDemoTabsModal",{ref:"jeecgDemoTabsModal",on:{ok:e.modalFormOk}}),n("j-super-query",{ref:"superQueryModal",attrs:{fieldList:e.fieldList},on:{handleSuperQuery:e.handleSuperQuery}})],1)},o=[],i=n("c943"),a=n("8c6e"),s=n("33357"),l=n("89f2"),u=n("b65a"),c=[{type:"date",value:"birthday",text:"生日"},{type:"string",value:"name",text:"用户名"},{type:"int",value:"age",text:"年龄"}],d={name:"JeecgDemoList",mixins:[u["a"]],components:{JeecgDemoModal:i["default"],JSuperQuery:a["default"],JeecgDemoTabsModal:s["default"]},data:function(){var e=this;return{description:"用户管理页面",sexDictOptions:[],importExcelUrl:"".concat(window._CONFIG["domianURL"],"/test/jeecgDemo/importExcel"),columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"姓名",align:"center",dataIndex:"name"},{title:"关键词",align:"center",dataIndex:"keyWord"},{title:"打卡时间",align:"center",dataIndex:"punchTime"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(t){return Object(l["a"])(e.sexDictOptions,t)}},{title:"年龄",align:"center",dataIndex:"age"},{title:"生日",align:"center",dataIndex:"birthday"},{title:"邮箱",align:"center",dataIndex:"email"},{title:"个人简介",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/test/jeecgDemo/list",delete:"/test/jeecgDemo/delete",deleteBatch:"/test/jeecgDemo/deleteBatch",exportXlsUrl:"/test/jeecgDemo/exportXls"},fieldList:c}},methods:{initDictConfig:function(){var e=this;Object(l["b"])("sex").then((function(t){t.success&&(e.sexDictOptions=t.result)}))},onetomany:function(){this.$refs.jeecgDemoTabsModal.add(),this.$refs.jeecgDemoTabsModal.title="编辑"},jump:function(){this.$router.push({path:"/jeecg/helloworld"})}}},f=d,p=(n("bb32"),n("5d22")),h=Object(p["a"])(f,r,o,!1,null,"0300b44e",null);t["default"]=h.exports},"163d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属应用"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["appcode",e.validatorRules.appcode],expression:"['appcode', validatorRules.appcode ]"}],attrs:{placeholder:"所属应用"}},[n("a-select-option",{attrs:{value:"office"}},[e._v("掌上办公")]),n("a-select-option",{attrs:{value:"estate"}},[e._v("掌上物业")]),n("a-select-option",{attrs:{value:"shequyijia"}},[e._v("社区e家")]),n("a-select-option",{attrs:{value:"chat"}},[e._v("网页聊天室")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"显示昵称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nickname",{}],expression:"['nickname', {}]"}],attrs:{placeholder:"请输入显示昵称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"登录名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{}],expression:"['username', {}]"}],attrs:{placeholder:"请输入登录名"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"显示头像"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["portrait",{}],expression:"['portrait', {}]"}],attrs:{placeholder:"请输入显示头像"}})],1)],1)],1)],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=(n("caaf"),{name:"AppUserModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{appcode:{rules:[{required:!0,message:"请输入所属app!"}]}},url:{add:"/message/appUser/add",edit:"/message/appUser/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"appcode","nickname","username","portrait"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}}),u=l,c=n("5d22"),d=Object(c["a"])(u,r,o,!1,null,"38abf5b4",null);t["default"]=d.exports},"16bd":function(e,t,n){},"187b":function(e,t,n){"use strict";n("2fb9")},"19c0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-card",{attrs:{bordered:!1}},[r("a-col",{staticClass:"clName",attrs:{span:4}},[r("a-tree",{staticStyle:{height:"500px","overflow-y":"auto"},attrs:{treeData:e.treeData,defaultExpandAll:e.defaultExpandAll},on:{select:this.onSelect}})],1),r("a-col",{attrs:{span:2}}),r("a-col",{attrs:{span:18}},[r("a-spin",{attrs:{tip:"Loading...",spinning:e.spinning}},e._l(e.dataSource,(function(t,o){return r("div",{key:o},[r("a-row",[r("a-col",{attrs:{span:24}},[r("p",[r("a-divider",{attrs:{orientation:"left"}},[e._v(e._s(t.fileName))])],1)]),r("a-col",{attrs:{span:24}},[t.filePdfPath?[r("div",{staticStyle:{float:"left",width:"104px",height:"104px","margin-right":"10px",margin:"0 8px 8px 0"}},[r("div",{staticStyle:{width:"100%",height:"100%",position:"relative",padding:"8px"},on:{click:function(n){return e.pdfPreview(t.title)}}},[r("img",{staticStyle:{width:"100%"},attrs:{src:n("c6cf")}})])])]:[e._v('\n              (暂无材料，点击右侧"选择文件"或"扫描上传"上传文件)\n            ')]],2)],1)],1)})),0)],1),r("pdf-preview-modal",{ref:"pdfmodal"})],1)},o=[],i=n("0fea"),a=n("9fb0"),s=n("a593"),l=n("588f"),u=[{id:"1",key:"1",title:"实例.pdf",fileCode:"shili",fileName:"实例",filePdfPath:"实例"}],c={name:"JeecgPdfView",components:{PdfPreviewModal:l["default"]},data:function(){return{description:"PDF预览页面",treeData:[{title:"所有PDF电子档",key:"0-0",children:u}],dataSource:u,allData:u,defaultExpandAll:!0,spinning:!1,url:{pdfList:"/api/pdfList"}}},created:function(){},methods:{loadData:function(){var e=this;this.spinning=!1,Object(i["c"])(this.url.pdfList).then((function(t){t.length>0&&(e.allData=t,e.dataSource=t,e.treeData[0].children=t),e.spinning=!1}))},pdfPreview:function(e){var t=s["default"].ls.get(a["a"]);this.headers={"X-Access-Token":t},this.$refs.pdfmodal.previewFiles(e,t)},onSelect:function(e,t){this.dataSource=[],void 0===e[0]||"0-0"===e[0]?this.dataSource=this.allData:this.dataSource.push(t.node._props.dataRef)},modalFormOk:function(){this.loadData()}}},d=c,f=(n("3769"),n("5d22")),p=Object(f["a"])(d,r,o,!1,null,"22c5458d",null);t["default"]=p.exports},"1a5d":function(e,t,n){var r={"./404.vue":"8cdbc","./Home.vue":"bb51","./account/center/Index.vue":"f2f0","./account/center/page/App.vue":"2f5e","./account/center/page/Article.vue":"b8ea","./account/center/page/Project.vue":"b8c5","./account/settings/AvatarModal.vue":"8d90","./account/settings/BaseSetting.vue":"33e6","./account/settings/Binding.vue":"91be","./account/settings/Custom.vue":"55c3","./account/settings/Index.vue":"cd07","./account/settings/Notification.vue":"0c3f","./account/settings/Security.vue":"a9a9","./dashboard/Analysis.vue":"2f3a","./dashboard/Monitor.vue":"0b56","./dashboard/Workplace.vue":"004c","./exception/403.vue":"e409","./exception/404.vue":"cc89","./exception/500.vue":"6c05","./exception/ExceptionPage.vue":"0673","./form/BasicForm.vue":"62391","./form/advancedForm/AdvancedForm.vue":"70d7","./form/advancedForm/RepositoryForm.vue":"cd43","./form/advancedForm/TaskForm.vue":"8dd6","./form/stepForm/Step1.vue":"82ef","./form/stepForm/Step2.vue":"f4a3","./form/stepForm/Step3.vue":"a462","./form/stepForm/StepForm.vue":"f311","./jeecg/ImagPreview.vue":"8629","./jeecg/ImgDragSort.vue":"042c","./jeecg/ImgTurnPage.vue":"4874","./jeecg/InterfaceTest.vue":"ff2a","./jeecg/JeecgDemoList.vue":"15dc","./jeecg/JeecgEditableTableExample.vue":"b020","./jeecg/JeecgOrderMainList.vue":"9b15","./jeecg/JeecgOrderMainListForJEditableTable.vue":"b2da","./jeecg/JeecgPdfView.vue":"19c0","./jeecg/JeecgTreeTable.vue":"da9b","./jeecg/JoaDemoList.vue":"3574","./jeecg/PrintDemo.vue":"91b6","./jeecg/RowspanTable.vue":"3826","./jeecg/SelectDemo.vue":"b2b7","./jeecg/SplitPanel.vue":"7896","./jeecg/TableExpandeSub.vue":"8428","./jeecg/helloworld.vue":"33b1","./jeecg/helloworld2.vue":"2f9b","./jeecg/modules/JeecgDemoModal.vue":"c943","./jeecg/modules/JeecgDemoTabsModal.vue":"33357","./jeecg/modules/JeecgOrderMainModal.vue":"8a45","./jeecg/modules/JeecgOrderModalForJEditableTable.vue":"b8ad","./jeecg/modules/JoaDemoForm.vue":"ec65","./jeecg/modules/PdfPreviewModal.vue":"588f","./jeecg/modules/SplitPanelA.vue":"54d3","./jeecg/modules/SplitPanelB.vue":"9606","./jeecg/modules/SplitPanelModal.vue":"5d1e","./jeecg/modules/SuperQueryModal.vue":"f534","./jeecg/report/Analysis.vue":"617d","./jeecg/report/ArchivesStatisticst.vue":"2832","./jeecg/report/ViserChartDemo.vue":"5139","./jeecg/tablist/JeecgOrderCustomerList.vue":"d544","./jeecg/tablist/JeecgOrderDMainList.vue":"6620","./jeecg/tablist/JeecgOrderTicketList.vue":"8c22","./jeecg/tablist/form/JeecgOrderCustomerModal.vue":"39a5","./jeecg/tablist/form/JeecgOrderDMainModal.vue":"dd9d","./jeecg/tablist/form/JeecgOrderTicketModal.vue":"aa8e","./list/CardList.vue":"d039","./list/PermissionList.vue":"5aa8","./list/RoleList.vue":"4002","./list/StandardList.vue":"2d51","./list/TableInnerEditList.vue":"5831","./list/TableList.vue":"f5eb","./list/UserList.vue":"5eda","./list/modules/RoleModal.vue":"0b38","./list/search/SearchLayout.vue":"9cbf","./modules/ecollege/SystemHelp.vue":"60ca","./modules/goods/PmsProductList.vue":"cae5","./modules/goods/modules/PmsProductAdvanced.vue":"d4df","./modules/goods/modules/PmsProductModal.vue":"6e41","./modules/goods/modules/PmsProductModal__Style#Drawer.vue":"cb6e","./modules/goods/modules/ProductVerifyModal.vue":"aee5","./modules/message/AppConfigList.vue":"9038","./modules/message/AppRegisterList.vue":"578b","./modules/message/AppTemplateList.vue":"a85e","./modules/message/AppUserList.vue":"98bb2","./modules/message/modules/AppConfigModal.vue":"a2fc","./modules/message/modules/AppConfigModal__Style#Drawer.vue":"4765","./modules/message/modules/AppRegisterModal.vue":"8359","./modules/message/modules/AppRegisterModal__Style#Drawer.vue":"d58e","./modules/message/modules/AppTemplateModal.vue":"a78d","./modules/message/modules/AppTemplateModal__Style#Drawer.vue":"b64b","./modules/message/modules/AppUserModal.vue":"163d","./modules/message/modules/AppUserModal__Style#Drawer.vue":"bc7f","./modules/pay/ShopAccountWithdrawCashHistoryList.vue":"46fd","./modules/pay/modules/DrawCrashVerifyModal.vue":"70ae","./modules/pay/modules/ShopAccountWithdrawCashHistoryModal.vue":"2921","./modules/pay/modules/ShopAccountWithdrawCashHistoryModal__Style#Drawer.vue":"cdf0","./modules/trade/OmsOrderList.vue":"7fff","./modules/trade/OmsOrderSetting.vue":"9445","./modules/trade/modules/OmsOrderModal.vue":"79c3","./modules/trade/modules/OmsOrderModal__Style#Drawer.vue":"2bd98","./profile/advanced/Advanced.vue":"b644","./profile/basic/Index.vue":"df55","./result/Error.vue":"f32b","./result/Result.vue":"9a3d","./result/Success.vue":"3ada","./system/DataLogList.vue":"4867","./system/DepartList.vue":"c9c2","./system/DepartList2.vue":"444c","./system/DepartUserList.vue":"806e","./system/DictItemList.vue":"59a0","./system/DictList.vue":"b4e3","./system/LogList.vue":"2977","./system/PermissionDataRuleList.vue":"56cd","./system/PermissionList.vue":"25f0","./system/QuartzJobList.vue":"7a9d","./system/RoleList.vue":"4fa6","./system/RoleUserList.vue":"01c0","./system/SysAnnouncementList.vue":"1dc5","./system/SysCategoryList.vue":"ddf2","./system/SysModulesList.vue":"c779","./system/UserAnnouncementList.vue":"bb70","./system/UserList.vue":"0d4b","./system/modules/DataLogCompareModal.vue":"fcbc","./system/modules/DataLogModal.vue":"b469","./system/modules/DepartModal.vue":"c1af","./system/modules/DepartWindow.vue":"c63e","./system/modules/DeptBaseInfo.vue":"e326","./system/modules/DeptUserInfo.vue":"5859","./system/modules/DictItemModal.vue":"8144","./system/modules/DictModal.vue":"57ed","./system/modules/PasswordModal.vue":"ddf9","./system/modules/PermissionDataRuleModal.vue":"7c33","./system/modules/PermissionModal.vue":"b90e","./system/modules/QuartzJobModal.vue":"077e","./system/modules/RoleDataruleModal.vue":"2285","./system/modules/RoleModal.vue":"2a70","./system/modules/SelectUserListModal.vue":"ed2a","./system/modules/SelectUserModal.vue":"b3c4","./system/modules/SysAnnouncementModal.vue":"4647","./system/modules/SysCategoryModal.vue":"f1cf","./system/modules/SysModulesModal.vue":"88f4","./system/modules/SysModulesModal__Style#Drawer.vue":"73e6","./system/modules/SysUserAgentModal.vue":"74c6","./system/modules/UserModal.vue":"418f","./system/modules/UserRoleModal.vue":"ee18","./system/modules/icon/Icons.vue":"11cb","./user/Alteration.vue":"ffc3","./user/Login.vue":"ac2a","./user/Register.vue":"1348","./user/RegisterResult.vue":"1037","./user/Step1.vue":"f14a","./user/Step2.vue":"ba6d","./user/Step3.vue":"f6d9","./user/Step4.vue":"8e46"};function o(e){return Promise.resolve().then((function(){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var o=r[e];return n(o)}))}o.keys=function(){return Object.keys(r)},o.id="1a5d",e.exports=o},"1b51":function(e,t,n){"use strict";n("f498")},"1bc3":function(e,t,n){"use strict";n("56ae")},"1cf5":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{attrs:{height:e.height,data:e.data,scale:e.scale,forceFit:!0,padding:["auto","auto","40","50"]}},[n("v-tooltip"),n("v-axis"),n("v-bar",{attrs:{position:"x*y"}})],1)],1)},o=[],i={name:"Bar",props:{title:{type:String,default:""},x:{type:String,default:"x"},y:{type:String,default:"y"},data:{type:Array,default:function(){return[]}},height:{type:Number,default:254}},data:function(){return{}},computed:{scale:function(){return[{dataKey:"x",title:this.x,alias:this.x},{dataKey:"y",title:this.y,alias:this.y}]}},created:function(){},methods:{}},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,null,null);t["default"]=l.exports},"1d20":function(e,t,n){},"1d43":function(e,t,n){"use strict";n.r(t);for(var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"antv-chart-mini"},[n("div",{staticClass:"chart-wrapper",style:{height:46}},[n("v-chart",{attrs:{"force-fit":!0,height:e.height,data:e.data,scale:e.scale,padding:[36,0,18,0]}},[n("v-tooltip"),n("v-smooth-area",{attrs:{position:"x*y"}})],1)],1)])},o=[],i=n("a397"),a=n.n(i),s=[],l=(new Date).getTime(),u=0;u<10;u++)s.push({x:a()(new Date(l+864e5*u)).format("YYYY-MM-DD"),y:Math.round(10*Math.random())});var c={name:"MiniArea",props:{dataSource:{type:Array,default:function(){return[]}},x:{type:String,default:"x"},y:{type:String,default:"y"}},data:function(){return{data:[],height:100}},computed:{scale:function(){return[{dataKey:"x",title:this.x,alias:this.x},{dataKey:"y",title:this.y,alias:this.y}]}},created:function(){0===this.dataSource.length?this.data=s:this.data=this.dataSource}},d=c,f=(n("8cbe"),n("5d22")),p=Object(f["a"])(d,r,o,!1,null,"1aa6f46a",null);t["default"]=p.exports},"1dc5":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"标题"}},[n("a-input",{attrs:{placeholder:"请输入标题"},model:{value:e.queryParam.titile,callback:function(t){e.$set(e.queryParam,"titile",t)},expression:"queryParam.titile"}})],1)],1),n("a-col",{attrs:{span:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("系统通告")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1),0==r.sendStatus?n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定发布吗?"},on:{confirm:function(){return e.releaseData(r.id)}}},[n("a",[e._v("发布")])])],1):e._e(),1==r.sendStatus?n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定撤销吗?"},on:{confirm:function(){return e.reovkeData(r.id)}}},[n("a",[e._v("撤销")])])],1):e._e()],1)],1)],1)}}])})],1),n("sysAnnouncement-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("4647"),a=n("4ec3"),s=n("b65a"),l={name:"SysAnnouncementList",mixins:[s["a"]],components:{SysAnnouncementModal:i["default"]},data:function(){return{description:"系统通告表管理页面",queryParam:{},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"标题",align:"center",dataIndex:"titile"},{title:"消息类型",align:"center",dataIndex:"msgCategory",customRender:function(e){return"1"==e?"通知公告":"2"==e?"系统消息":e}},{title:"发布人",align:"center",dataIndex:"sender"},{title:"优先级",align:"center",dataIndex:"priority",customRender:function(e){return"L"==e?"低":"M"==e?"中":"H"==e?"高":e}},{title:"通告对象",align:"center",dataIndex:"msgType",customRender:function(e){return"USER"==e?"指定用户":"ALL"==e?"全体用户":e}},{title:"发布状态",align:"center",dataIndex:"sendStatus",customRender:function(e){return 0==e?"未发布":1==e?"已发布":2==e?"已撤销":e}},{title:"发布时间",align:"center",dataIndex:"sendTime"},{title:"撤销时间",align:"center",dataIndex:"cancelTime"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/sys/annountCement/list",delete:"/sys/annountCement/delete",deleteBatch:"/sys/annountCement/deleteBatch",releaseDataUrl:"/sys/annountCement/doReleaseData",reovkeDataUrl:"sys/annountCement/doReovkeData",exportXlsUrl:"sys/annountCement/exportXls",importExcelUrl:"sys/annountCement/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{releaseData:function(e){var t=this;Object(a["k"])({id:e}).then((function(e){e.success?(t.$message.success(e.message),t.loadData(1)):t.$message.warning(e.message)}))},reovkeData:function(e){var t=this;Object(a["l"])({id:e}).then((function(e){e.success?(t.$message.success(e.message),t.loadData(1)):t.$message.warning(e.message)}))}}},u=l,c=(n("93d8"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"c19ac842",null);t["default"]=d.exports},"1e29":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"components-input-demo-presuffix"},[n("a-input",{attrs:{placeholder:"corn表达式"},on:{click:e.openModal,change:e.handleOK},model:{value:e.cron,callback:function(t){e.cron=t},expression:"cron"}},[n("a-icon",{attrs:{slot:"prefix",type:"schedule",title:"corn控件"},slot:"prefix"}),e.cron?n("a-icon",{attrs:{slot:"suffix",type:"close-circle",title:"清空"},on:{click:e.handleEmpty},slot:"suffix"}):e._e()],1),n("JCronModal",{ref:"innerVueCron",attrs:{data:e.cron},on:{ok:e.handleOK}})],1)},o=[],i=n("0ed5"),a={name:"JCron",components:{JCronModal:i["default"]},props:{value:{required:!1,type:String,default:function(){return"* * * * * ? *"}}},data:function(){return{cron:this.value}},watch:{value:function(e){this.cron=e}},methods:{openModal:function(){this.$refs.innerVueCron.show()},handleOK:function(e){this.cron=e,this.$emit("change",this.cron)},handleEmpty:function(){this.handleOK("")}},model:{prop:"value",event:"change"}},s=a,l=(n("2df2"),n("5d22")),u=Object(l["a"])(s,r,o,!1,null,"1766d8da",null);t["default"]=u.exports},"1e71":function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=7)}([function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){e.exports=function(e,t,n,r){var o,i=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(o=e,i=e.default);var s="function"==typeof i?i.options:i;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),n&&(s._scopeId=n),r){var l=Object.create(s.computed||null);Object.keys(r).forEach((function(e){var t=r[e];l[e]=function(){return t}})),s.computed=l}return{esModule:o,exports:i,options:s}}},function(e,t,n){function r(e){for(var t=0;t<e.length;t++){var n=e[t],r=c[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(i(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(i(n.parts[o]));c[n.id]={id:n.id,refs:1,parts:a}}}}function o(){var e=document.createElement("style");return e.type="text/css",d.appendChild(e),e}function i(e){var t,n,r=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(r){if(h)return m;r.parentNode.removeChild(r)}if(g){var i=p++;r=f||(f=o()),t=a.bind(null,r,i,!1),n=a.bind(null,r,i,!0)}else r=o(),t=s.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function a(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function s(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u=n(19),c={},d=l&&(document.head||document.getElementsByTagName("head")[0]),f=null,p=0,h=!1,m=function(){},g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n){h=n;var o=u(e,t);return r(o),function(t){for(var n=[],i=0;i<o.length;i++){var a=o[i],s=c[a.id];s.refs--,n.push(s)}t?(o=u(e,t),r(o)):o=[];for(i=0;i<n.length;i++){s=n[i];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete c[s.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){n(17);var r=n(1)(n(4),n(14),"data-v-566a42b8",null);e.exports=r.exports},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),i=r(o),a=n(11),s=r(a);t.default={name:"splitPane",components:{Resizer:i.default,Pane:s.default},props:{minPercent:{type:Number,default:10},defaultPercent:{type:Number,default:50},split:{validator:function(e){return["vertical","horizontal"].indexOf(e)>=0},required:!0},className:String},computed:{userSelect:function(){return this.active?"none":""},cursor:function(){return this.active?"vertical"===this.split?"col-resize":"row-resize":""}},watch:{defaultPercent:function(e,t){this.percent=e}},data:function(){return{active:!1,hasMoved:!1,height:null,percent:this.defaultPercent,type:"vertical"===this.split?"width":"height",resizeType:"vertical"===this.split?"left":"top"}},methods:{onClick:function(){this.hasMoved||(this.percent=50,this.$emit("resize",this.percent))},onMouseDown:function(){this.active=!0,this.hasMoved=!1},onMouseUp:function(){this.active=!1},onMouseMove:function(e){if(0!==e.buttons&&0!==e.which||(this.active=!1),this.active){var t=0,n=e.currentTarget;if("vertical"===this.split)for(;n;)t+=n.offsetLeft,n=n.offsetParent;else for(;n;)t+=n.offsetTop,n=n.offsetParent;var r="vertical"===this.split?e.pageX:e.pageY,o="vertical"===this.split?e.currentTarget.offsetWidth:e.currentTarget.offsetHeight,i=Math.floor((r-t)/o*1e4)/100;i>this.minPercent&&i<100-this.minPercent&&(this.percent=i),this.$emit("resize",this.percent),this.hasMoved=!0}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Pane",props:{className:String},data:function(){return{classes:[this.$parent.split,this.className].join(" "),percent:50}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{split:{validator:function(e){return["vertical","horizontal"].indexOf(e)>=0},required:!0},className:String},computed:{classes:function(){return["splitter-pane-resizer",this.split,this.className].join(" ")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("split-pane",o.default)},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,".splitter-pane-resizer[data-v-212fa2a4]{box-sizing:border-box;background:#000;position:absolute;opacity:.2;z-index:1;background-clip:padding-box}.splitter-pane-resizer.horizontal[data-v-212fa2a4]{height:11px;margin:-5px 0;border-top:5px solid hsla(0,0%,100%,0);border-bottom:5px solid hsla(0,0%,100%,0);cursor:row-resize;width:100%}.splitter-pane-resizer.vertical[data-v-212fa2a4]{width:11px;height:100%;margin-left:-5px;border-left:5px solid hsla(0,0%,100%,0);border-right:5px solid hsla(0,0%,100%,0);cursor:col-resize}",""])},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,'.clearfix[data-v-566a42b8]:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.vue-splitter-container[data-v-566a42b8]{height:100%;position:relative}.vue-splitter-container-mask[data-v-566a42b8]{z-index:9999;width:100%;height:100%;position:absolute;top:0;left:0}',""])},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,".splitter-pane.vertical.splitter-paneL[data-v-815c801c]{position:absolute;left:0;height:100%;padding-right:3px}.splitter-pane.vertical.splitter-paneR[data-v-815c801c]{position:absolute;right:0;height:100%;padding-left:3px}.splitter-pane.horizontal.splitter-paneL[data-v-815c801c]{position:absolute;top:0;width:100%}.splitter-pane.horizontal.splitter-paneR[data-v-815c801c]{position:absolute;bottom:0;width:100%;padding-top:3px}",""])},function(e,t,n){n(18);var r=n(1)(n(5),n(15),"data-v-815c801c",null);e.exports=r.exports},function(e,t,n){n(16);var r=n(1)(n(6),n(13),"data-v-212fa2a4",null);e.exports=r.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.classes})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e,t,n,r=this,o=r.$createElement,i=r._self._c||o;return i("div",{staticClass:"vue-splitter-container clearfix",style:{cursor:r.cursor,userSelect:r.userSelect},on:{mouseup:r.onMouseUp,mousemove:r.onMouseMove}},[i("pane",{staticClass:"splitter-pane splitter-paneL",style:(e={},e[r.type]=r.percent+"%",e),attrs:{split:r.split}},[r._t("paneL")],2),r._v(" "),i("resizer",{style:(t={},t[r.resizeType]=r.percent+"%",t),attrs:{className:r.className,split:r.split},nativeOn:{mousedown:function(e){return r.onMouseDown(e)},click:function(e){return r.onClick(e)}}}),r._v(" "),i("pane",{staticClass:"splitter-pane splitter-paneR",style:(n={},n[r.type]=100-r.percent+"%",n),attrs:{split:r.split}},[r._t("paneR")],2),r._v(" "),r.active?i("div",{staticClass:"vue-splitter-container-mask"}):r._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.classes},[e._t("default")],2)},staticRenderFns:[]}},function(e,t,n){var r=n(8);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(2)("a82a4610",r,!0)},function(e,t,n){var r=n(9);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(2)("033d59ad",r,!0)},function(e,t,n){var r=n(10);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),n(2)("6816c93c",r,!0)},function(e,t){e.exports=function(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],s=i[1],l=i[2],u=i[3],c={id:e+":"+o,css:s,media:l,sourceMap:u};r[a]?r[a].parts.push(c):n.push(r[a]={id:a,parts:[c]})}return n}}])}))},"1e83":function(e,t,n){"use strict";n("efeb")},"1f42":function(e,t,n){},"1f7c":function(e,t,n){"use strict";n.r(t);var r,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"50px"},attrs:{title:e.title,width:900,visible:e.visible,confirmLoading:e.confirmLoading,bodyStyle:e.bodyStyle,destroyOnClose:"",footer:null,cancelText:"关闭"},on:{cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("img",{attrs:{src:e.picUrl,alt:"流程图",usemap:"#planetmap"}}),n("map",{attrs:{name:"planetmap"}},[e._l(e.nodePositionInfo.positionList,(function(t,r,o){return[n("area",{attrs:{shape:"rect",coords:t.coords,title:"Venus"},on:{mouseover:function(n){return e.showNodeInfo(e.nodePositionInfo.hisTasks,t.id)}}})]}))],2)]),n("proc-node-info-model",{ref:"nodeInfoModel"})],1)},i=[],a=n("0fea"),s=n("fed1"),l=n.n(s),u=n("12b9");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={components:{ProcNodeInfoModel:u["default"]},name:"ProcessInstPicModal",data:function(){return{title:"操作",visible:!1,nodePositionInfo:{},model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},bodyStyle:{"overflow-y":"auto","overflow-x":"auto",height:window.innerHeight-280+"px"},confirmLoading:!1,picUrl:"",url:{getProcessInfo:"/process/extActFlowData/getProcessInfo",getNodePositionInfo:"/act/task/getNodePositionInfo"}}},created:function(){},methods:(r={preview:function(e,t){var n=this;this.visible=!0;var r={flowCode:e,dataId:t};this.confirmLoading=!0,Object(a["c"])(this.url.getProcessInfo,r).then((function(e){if(e.success){var t=e.result.processInstanceId;n.picUrl=n.getResourceURL(t),n.getNodePositionInfoData(t)}else n.$message.warning(e.message)})).catch((function(e){})).then((function(){n.confirmLoading=!1}))},close:function(){this.$emit("close"),this.visible=!1},handleCancel:function(){this.close()},getResourceURL:function(e){var t=l.a.stringify({_t:Date.parse(new Date)/1e3,processInstanceId:e});return"".concat(window._CONFIG["domianURL"],"/act/process/processPic?").concat(t)}},c(r,"getResourceURL",(function(e){var t=l.a.stringify({_t:Date.parse(new Date)/1e3,processInstanceId:e});return"".concat(window._CONFIG["domianURL"],"/act/process/processPic?").concat(t)})),c(r,"getNodePositionInfoData",(function(e){var t=this,n={processInstanceId:e};Object(a["c"])(this.url.getNodePositionInfo,n).then((function(e){e.success&&(t.nodePositionInfo=e.result)})).catch((function(e){})).then((function(){}))})),c(r,"showNodeInfo",(function(e,t){this.$refs.nodeInfoModel.close(),this.$refs.nodeInfoModel.showInfo(e,t)})),r)},f=d,p=n("5d22"),h=Object(p["a"])(f,o,i,!1,null,"023e9eaa",null);t["default"]=h.exports},"20d0":function(e,t,n){"use strict";var r=n("7b05"),o=n("aaf3"),i=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,l=Array.prototype.push,u=function(e,t){l.apply(e,s(t)?t:[t])},c=Date.prototype.toISOString,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,formatter:o.formatters[o["default"]],indices:!1,serializeDate:function(e){return c.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(t,n,o,i,a,l,c,f,p,h,m,g,v){var y=t;if("function"===typeof c?y=c(n,y):y instanceof Date?y=h(y):"comma"===o&&s(y)&&(y=y.join(",")),null===y){if(i)return l&&!g?l(n,d.encoder,v):n;y=""}if("string"===typeof y||"number"===typeof y||"boolean"===typeof y||r.isBuffer(y)){if(l){var b=g?n:l(n,d.encoder,v);return[m(b)+"="+m(l(y,d.encoder,v))]}return[m(n)+"="+m(String(y))]}var x,w=[];if("undefined"===typeof y)return w;if(s(c))x=c;else{var _=Object.keys(y);x=f?_.sort(f):_}for(var C=0;C<x.length;++C){var S=x[C];a&&null===y[S]||(s(y)?u(w,e(y[S],"function"===typeof o?o(n,S):n,o,i,a,l,c,f,p,h,m,g,v)):u(w,e(y[S],n+(p?"."+S:"["+S+"]"),o,i,a,l,c,f,p,h,m,g,v)))}return w},p=function(e){if(!e)return d;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o["default"];if("undefined"!==typeof e.format){if(!i.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=o.formatters[n],a=d.filter;return("function"===typeof e.filter||s(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?d.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?d.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:d.encode,encoder:"function"===typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:a,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}};e.exports=function(e,t){var n,r,o=e,i=p(t);"function"===typeof i.filter?(r=i.filter,o=r("",o)):s(i.filter)&&(r=i.filter,n=r);var l,c=[];if("object"!==typeof o||null===o)return"";l=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var d=a[l];n||(n=Object.keys(o)),i.sort&&n.sort(i.sort);for(var h=0;h<n.length;++h){var m=n[h];i.skipNulls&&null===o[m]||u(c,f(o[m],m,d,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.formatter,i.encodeValuesOnly,i.charset))}var g=c.join(i.delimiter),v=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),g.length>0?v+g:""}},2124:function(e,t,n){"use strict";n("b19f")},2191:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"setting-drawer"},[n("a-drawer",{style:{},attrs:{width:"300",placement:"right",closable:!1,visible:e.visible},on:{close:e.onClose}},[n("div",{staticClass:"setting-drawer-index-content"},[n("div",{style:{marginBottom:"24px"}},[n("h3",{staticClass:"setting-drawer-index-title"},[e._v("整体风格设置")]),n("div",{staticClass:"setting-drawer-index-blockChecbox"},[n("a-tooltip",[n("template",{slot:"title"},[e._v("\n                暗色菜单风格\n              ")]),n("div",{staticClass:"setting-drawer-index-item",on:{click:function(t){return e.handleMenuTheme("dark")}}},[n("img",{attrs:{src:"https://gw.alipayobjects.com/zos/rmsportal/LCkqqYNmvBEbokSDscrm.svg",alt:"dark"}}),"dark"===e.navTheme?n("div",{staticClass:"setting-drawer-index-selectIcon"},[n("a-icon",{attrs:{type:"check"}})],1):e._e()])],2),n("a-tooltip",[n("template",{slot:"title"},[e._v("\n                亮色菜单风格\n              ")]),n("div",{staticClass:"setting-drawer-index-item",on:{click:function(t){return e.handleMenuTheme("light")}}},[n("img",{attrs:{src:"https://gw.alipayobjects.com/zos/rmsportal/jpRkZQMyYRryryPNtyIC.svg",alt:"light"}}),"dark"!==e.navTheme?n("div",{staticClass:"setting-drawer-index-selectIcon"},[n("a-icon",{attrs:{type:"check"}})],1):e._e()])],2)],1)]),n("div",{style:{marginBottom:"24px"}},[n("h3",{staticClass:"setting-drawer-index-title"},[e._v("主题色")]),n("div",{staticStyle:{height:"20px"}},e._l(e.colorList,(function(t,r){return n("a-tooltip",{key:r,staticClass:"setting-drawer-theme-color-colorBlock"},[n("template",{slot:"title"},[e._v("\n                "+e._s(t.key)+"\n              ")]),n("a-tag",{attrs:{color:t.color},on:{click:function(n){return e.changeColor(t.color)}}},[t.color===e.primaryColor?n("a-icon",{attrs:{type:"check"}}):e._e()],1)],2)})),1)]),n("a-divider"),n("div",{style:{marginBottom:"24px"}},[n("h3",{staticClass:"setting-drawer-index-title"},[e._v("导航模式")]),n("div",{staticClass:"setting-drawer-index-blockChecbox"},[n("a-tooltip",[n("template",{slot:"title"},[e._v("\n                侧边栏导航\n              ")]),n("div",{staticClass:"setting-drawer-index-item",on:{click:function(t){return e.handleLayout("sidemenu")}}},[n("img",{attrs:{src:"https://gw.alipayobjects.com/zos/rmsportal/JopDzEhOqwOjeNTXkoje.svg",alt:"sidemenu"}}),"sidemenu"===e.layoutMode?n("div",{staticClass:"setting-drawer-index-selectIcon"},[n("a-icon",{attrs:{type:"check"}})],1):e._e()])],2),n("a-tooltip",[n("template",{slot:"title"},[e._v("\n                顶部栏导航\n              ")]),n("div",{staticClass:"setting-drawer-index-item",on:{click:function(t){return e.handleLayout("topmenu")}}},[n("img",{attrs:{src:"https://gw.alipayobjects.com/zos/rmsportal/KDNDBbriJhLwuqMoxcAr.svg",alt:"topmenu"}}),"sidemenu"!==e.layoutMode?n("div",{staticClass:"setting-drawer-index-selectIcon"},[n("a-icon",{attrs:{type:"check"}})],1):e._e()])],2)],1),n("div",{style:{marginTop:"24px"}},[n("a-list",{attrs:{split:!1}},[n("a-list-item",[n("a-tooltip",{attrs:{slot:"actions"},slot:"actions"},[n("template",{slot:"title"},[e._v("\n                    该设定仅 [顶部栏导航] 时有效\n                  ")]),n("a-select",{staticStyle:{width:"80px"},attrs:{size:"small",defaultValue:e.contentWidth},on:{change:e.handleContentWidthChange}},[n("a-select-option",{attrs:{value:"Fixed"}},[e._v("固定")]),"sidemenu"!==e.layoutMode?n("a-select-option",{attrs:{value:"Fluid"}},[e._v("流式")]):e._e()],1)],2),n("a-list-item-meta",[n("div",{attrs:{slot:"title"},slot:"title"},[e._v("内容区域宽度")])])],1),n("a-list-item",[n("a-switch",{attrs:{slot:"actions",size:"small",defaultChecked:e.fixedHeader},on:{change:e.handleFixedHeader},slot:"actions"}),n("a-list-item-meta",[n("div",{attrs:{slot:"title"},slot:"title"},[e._v("固定 Header")])])],1),n("a-list-item",[n("a-switch",{attrs:{slot:"actions",size:"small",disabled:!e.fixedHeader,defaultChecked:e.autoHideHeader},on:{change:e.handleFixedHeaderHidden},slot:"actions"}),n("a-list-item-meta",[n("div",{style:{textDecoration:e.fixedHeader?"unset":"line-through"},attrs:{slot:"title"},slot:"title"},[e._v("下滑时隐藏 Header")])])],1),n("a-list-item",[n("a-switch",{attrs:{slot:"actions",size:"small",disabled:"topmenu"===e.layoutMode,checked:e.dataFixSiderbar},on:{change:e.handleFixSiderbar},slot:"actions"}),n("a-list-item-meta",[n("div",{style:{textDecoration:"topmenu"===e.layoutMode?"line-through":"unset"},attrs:{slot:"title"},slot:"title"},[e._v("固定侧边菜单")])])],1)],1)],1)]),n("a-divider"),n("div",{style:{marginBottom:"24px"}},[n("h3",{staticClass:"setting-drawer-index-title"},[e._v("其他设置")]),n("div",[n("a-list",{attrs:{split:!1}},[n("a-list-item",[n("a-switch",{attrs:{slot:"actions",size:"small",defaultChecked:e.colorWeak},on:{change:e.onColorWeak},slot:"actions"}),n("a-list-item-meta",[n("div",{attrs:{slot:"title"},slot:"title"},[e._v("色弱模式")])])],1),n("a-list-item",[n("a-switch",{attrs:{slot:"actions",size:"small",defaultChecked:e.multipage},on:{change:e.onMultipageWeak},slot:"actions"}),n("a-list-item-meta",[n("div",{attrs:{slot:"title"},slot:"title"},[e._v("多页签模式")])])],1)],1)],1)]),n("a-divider"),n("div",{style:{marginBottom:"24px"}},[n("a-alert",{attrs:{type:"warning"}},[n("span",{attrs:{slot:"message"},slot:"message"},[e._v("\n              配置栏只在开发环境用于预览，生产环境不会展现，请手动修改配置文件\n              "),n("a",{attrs:{href:"https://github.com/sendya/ant-design-pro-vue/blob/master/src/defaultSettings.js",target:"_blank"}},[e._v("src/defaultSettings.js")])])])],1)],1),e.visible?n("div",{staticClass:"setting-drawer-index-handle",on:{click:e.toggle}},[n("a-icon",{attrs:{type:"close"}})],1):e._e()])],1)},o=[],i=n("c16f"),a=n("5d9b"),s=n("4fe7"),l=n("5976"),u=n("ac0d"),c=n("ca00"),d={components:{DetailList:i["default"],SettingItem:a["default"]},mixins:[u["a"],u["b"]],data:function(){return{visible:!0,colorList:l["a"],dataFixSiderbar:!1}},watch:{},mounted:function(){var e=this;setTimeout((function(){e.visible=!1}),16),this.primaryColor!==s["a"].primaryColor&&Object(l["c"])(this.primaryColor),this.colorWeak!==s["a"].colorWeak&&Object(l["b"])(this.colorWeak),this.multipage!==s["a"].multipage&&this.$store.dispatch("ToggleMultipage",this.multipage)},methods:{showDrawer:function(){this.visible=!0},onClose:function(){this.visible=!1},toggle:function(){this.visible=!this.visible},onColorWeak:function(e){this.$store.dispatch("ToggleWeak",e),Object(l["b"])(e)},onMultipageWeak:function(e){this.$store.dispatch("ToggleMultipage",e)},handleMenuTheme:function(e){this.$store.dispatch("ToggleTheme",e)},handleLayout:function(e){this.$store.dispatch("ToggleLayoutMode",e),this.handleFixSiderbar(!1),Object(c["h"])()},handleContentWidthChange:function(e){this.$store.dispatch("ToggleContentWidth",e)},changeColor:function(e){this.primaryColor!==e&&(this.$store.dispatch("ToggleColor",e),Object(l["c"])(e))},handleFixedHeader:function(e){this.$store.dispatch("ToggleFixedHeader",e)},handleFixedHeaderHidden:function(e){this.$store.dispatch("ToggleFixedHeaderHidden",e)},handleFixSiderbar:function(e){"topmenu"===this.layoutMode&&(e=!1),this.dataFixSiderbar=e,this.$store.dispatch("ToggleFixSiderbar",e)}}},f=d,p=(n("8559"),n("5d22")),h=Object(p["a"])(f,r,o,!1,null,"4ce1208b",null);t["default"]=h.exports},2285:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:"数据规则/按钮权限配置",width:"365",closable:!1,visible:e.visible},on:{close:e.onClose}},[n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"数据规则"}},[e.dataruleList.length>0?n("a-checkbox-group",{model:{value:e.dataruleChecked,callback:function(t){e.dataruleChecked=t},expression:"dataruleChecked"}},[n("a-row",[e._l(e.dataruleList,(function(t,r){return n("a-col",{key:"dr"+r,attrs:{span:24}},[n("a-checkbox",{attrs:{value:t.id}},[e._v(e._s(t.ruleName))])],1)})),n("a-col",{attrs:{span:24}},[n("div",{staticStyle:{width:"100%","margin-top":"15px"}},[n("a-button",{attrs:{type:"primary",size:"small",icon:"save"},on:{click:e.saveDataruleForRole}},[e._v("点击保存")])],1)])],2)],1):n("div",[n("h3",[e._v("无配置信息!")])])],1)],1)],1)},o=[],i=n("cb0a"),a=n("14b1"),s=n("0fea"),l={name:"RoleDataruleModal",components:{ACol:a["b"],ARow:i["a"]},data:function(){return{functionId:"",roleId:"",visible:!1,tabList:[{key:"1",tab:"数据规则"},{key:"2",tab:"按钮权限"}],activeTabKey:"1",url:{datarule:"/sys/role/datarule"},dataruleList:[],dataruleChecked:[]}},methods:{loadData:function(){var e=this;Object(s["c"])("".concat(this.url.datarule,"/").concat(this.functionId,"/").concat(this.roleId)).then((function(t){if(t.success){e.dataruleList=t.result.datarule;var n=t.result.drChecked;n&&(e.dataruleChecked=n.split(","))}}))},saveDataruleForRole:function(){var e=this;this.dataruleChecked&&0!=this.dataruleChecked.length||this.$message.warning("请注意，现未勾选任何数据权限!");var t={permissionId:this.functionId,roleId:this.roleId,dataRuleIds:this.dataruleChecked.join(",")};Object(s["h"])(this.url.datarule,t).then((function(t){t.success?e.$message.success(t.message):e.$message.error(t.message)}))},show:function(e,t){this.onReset(),this.functionId=e,this.roleId=t,this.visible=!0,this.loadData()},onClose:function(){this.visible=!1,this.onReset()},onTabChange:function(e){this.activeTabKey=e},onReset:function(){this.functionId="",this.roleId="",this.dataruleList=[],this.dataruleChecked=[]}}},u=l,c=n("5d22"),d=Object(c["a"])(u,r,o,!1,null,"5fa38486",null);t["default"]=d.exports},2363:function(e,t,n){(function(e){e(n("fc0f"))})((function(e){"use strict";function t(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function n(e,t){if(!e)return/(?:)/;var n="";return e instanceof RegExp?(e.ignoreCase&&(n="i"),e=e.source):e=String(e),new RegExp((!1===t?"":"^")+"(?:"+e+")",n)}function r(e){if(!e)return null;if(e.apply)return e;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],n=0;n<e.length;n++)t.push(e[n]&&e[n].replace(/\./g," "));return t}function o(e,o){(e.next||e.push)&&t(o,e.next||e.push),this.regex=n(e.regex),this.token=r(e.token),this.data=e}function i(e,t){return function(n,r){if(r.pending){var o=r.pending.shift();return 0==r.pending.length&&(r.pending=null),n.pos+=o.text.length,o.token}if(r.local){if(r.local.end&&n.match(r.local.end)){var i=r.local.endToken||null;return r.local=r.localState=null,i}var a;i=r.local.mode.token(n,r.localState);return r.local.endScan&&(a=r.local.endScan.exec(n.current()))&&(n.pos=n.start+a.index),i}for(var l=e[r.state],u=0;u<l.length;u++){var c=l[u],d=(!c.data.sol||n.sol())&&n.match(c.regex);if(d){c.data.next?r.state=c.data.next:c.data.push?((r.stack||(r.stack=[])).push(r.state),r.state=c.data.push):c.data.pop&&r.stack&&r.stack.length&&(r.state=r.stack.pop()),c.data.mode&&s(t,r,c.data.mode,c.token),c.data.indent&&r.indent.push(n.indentation()+t.indentUnit),c.data.dedent&&r.indent.pop();var f=c.token;if(f&&f.apply&&(f=f(d)),d.length>2&&c.token&&"string"!=typeof c.token){r.pending=[];for(var p=2;p<d.length;p++)d[p]&&r.pending.push({text:d[p],token:c.token[p-1]});return n.backUp(d[0].length-(d[1]?d[1].length:0)),f[0]}return f&&f.join?f[0]:f}}return n.next(),null}}function a(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=0;for(var r in e)if(e.hasOwnProperty(r)){if(!t.hasOwnProperty(r)||!a(e[r],t[r]))return!1;n++}for(var r in t)t.hasOwnProperty(r)&&n--;return 0==n}function s(t,r,o,i){var s;if(o.persistent)for(var l=r.persistentStates;l&&!s;l=l.next)(o.spec?a(o.spec,l.spec):o.mode==l.mode)&&(s=l);var u=s?s.mode:o.mode||e.getMode(t,o.spec),c=s?s.state:e.startState(u);o.persistent&&!s&&(r.persistentStates={mode:u,spec:o.spec,state:c,next:r.persistentStates}),r.localState=c,r.local={mode:u,end:o.end&&n(o.end),endScan:o.end&&!1!==o.forceEnd&&n(o.end,!1),endToken:i&&i.join?i[i.length-1]:i}}function l(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0}function u(t,n){return function(r,o,i){if(r.local&&r.local.mode.indent)return r.local.mode.indent(r.localState,o,i);if(null==r.indent||r.local||n.dontIndentStates&&l(r.state,n.dontIndentStates)>-1)return e.Pass;var a=r.indent.length-1,s=t[r.state];e:for(;;){for(var u=0;u<s.length;u++){var c=s[u];if(c.data.dedent&&!1!==c.data.dedentIfLineStart){var d=c.regex.exec(o);if(d&&d[0]){a--,(c.next||c.push)&&(s=t[c.next||c.push]),o=o.slice(d[0].length);continue e}}}break}return a<0?0:r.indent[a]}}e.defineSimpleMode=function(t,n){e.defineMode(t,(function(t){return e.simpleMode(t,n)}))},e.simpleMode=function(n,r){t(r,"start");var a={},s=r.meta||{},l=!1;for(var c in r)if(c!=s&&r.hasOwnProperty(c))for(var d=a[c]=[],f=r[c],p=0;p<f.length;p++){var h=f[p];d.push(new o(h,r)),(h.indent||h.dedent)&&(l=!0)}var m={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:l?[]:null}},copyState:function(t){var n={state:t.state,pending:t.pending,local:t.local,localState:null,indent:t.indent&&t.indent.slice(0)};t.localState&&(n.localState=e.copyState(t.local.mode,t.localState)),t.stack&&(n.stack=t.stack.slice(0));for(var r=t.persistentStates;r;r=r.next)n.persistentStates={mode:r.mode,spec:r.spec,state:r.state==t.localState?n.localState:e.copyState(r.mode,r.state),next:n.persistentStates};return n},token:i(a,n),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:u(a,s)};if(s)for(var g in s)s.hasOwnProperty(g)&&(m[g]=s[g]);return m}}))},"23c3":function(e,t,n){},"2480f":function(e,t,n){"use strict";
/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function l(e,t){if(null==e)return{};var n,r,o=s(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e){return c(e)||d(e)||f()}function c(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function d(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}n.r(t),n.d(t,"MultiDrag",(function(){return Ft})),n.d(t,"Sortable",(function(){return Qe})),n.d(t,"Swap",(function(){return Tt}));var p="1.10.2";function h(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var m=h(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),g=h(/Edge/i),v=h(/firefox/i),y=h(/safari/i)&&!h(/chrome/i)&&!h(/android/i),b=h(/iP(ad|od|hone)/i),x=h(/chrome/i)&&h(/android/i),w={capture:!1,passive:!1};function C(e,t,n){e.addEventListener(t,n,!m&&w)}function S(e,t,n){e.removeEventListener(t,n,!m&&w)}function k(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(_){return!1}return!1}}function O(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function T(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&k(e,t):k(e,t))||r&&e===n)return e;if(e===n)break}while(e=O(e))}return null}var M,D=/\s+/g;function I(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(D," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(D," ")}}function E(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function A(e,t){var n="";if("string"===typeof e)n=e;else do{var r=E(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function L(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function j(){var e=document.scrollingElement;return e||document.documentElement}function N(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var i,a,s,l,u,c,d;if(e!==window&&e!==j()?(i=e.getBoundingClientRect(),a=i.top,s=i.left,l=i.bottom,u=i.right,c=i.height,d=i.width):(a=0,s=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!m))do{if(o&&o.getBoundingClientRect&&("none"!==E(o,"transform")||n&&"static"!==E(o,"position"))){var f=o.getBoundingClientRect();a-=f.top+parseInt(E(o,"border-top-width")),s-=f.left+parseInt(E(o,"border-left-width")),l=a+i.height,u=s+i.width;break}}while(o=o.parentNode);if(r&&e!==window){var p=A(o||e),h=p&&p.a,g=p&&p.d;p&&(a/=g,s/=h,d/=h,c/=g,l=a+c,u=s+d)}return{top:a,left:s,bottom:l,right:u,width:d,height:c}}}function P(e,t,n){var r=H(e,!0),o=N(e)[t];while(r){var i=N(r)[n],a=void 0;if(a="top"===n||"left"===n?o>=i:o<=i,!a)return r;if(r===j())break;r=H(r,!1)}return!1}function R(e,t,n){var r=0,o=0,i=e.children;while(o<i.length){if("none"!==i[o].style.display&&i[o]!==Qe.ghost&&i[o]!==Qe.dragged&&T(i[o],n.draggable,e,!1)){if(r===t)return i[o];r++}o++}return null}function B(e,t){var n=e.lastElementChild;while(n&&(n===Qe.ghost||"none"===E(n,"display")||t&&!k(n,t)))n=n.previousElementSibling;return n||null}function F(e,t){var n=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===Qe.clone||t&&!k(e,t)||n++;return n}function z(e){var t=0,n=0,r=j();if(e)do{var o=A(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function V(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}function H(e,t){if(!e||!e.getBoundingClientRect)return j();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=E(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return j();if(r||t)return n;r=!0}}}while(n=n.parentNode);return j()}function U(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function $(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function q(e,t){return function(){if(!M){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),M=setTimeout((function(){M=void 0}),t)}}}function W(){clearTimeout(M),M=void 0}function G(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Y(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function K(e,t){E(e,"position","absolute"),E(e,"top",t.top),E(e,"left",t.left),E(e,"width",t.width),E(e,"height",t.height)}function X(e){E(e,"position",""),E(e,"top",""),E(e,"left",""),E(e,"width",""),E(e,"height","")}var J="Sortable"+(new Date).getTime();function Z(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==E(e,"display")&&e!==Qe.ghost){t.push({target:e,rect:N(e)});var n=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=A(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(V(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var o=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=N(n),l=n.prevFromRect,u=n.prevToRect,c=e.rect,d=A(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&$(l,s)&&!$(a,s)&&(c.top-s.top)/(c.left-s.left)===(a.top-s.top)/(a.left-s.left)&&(t=ee(c,l,u,r.options)),$(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,c,s,t)),t&&(o=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"===typeof n&&n()}),i):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){E(e,"transition",""),E(e,"transform","");var o=A(this.el),i=o&&o.a,a=o&&o.d,s=(t.left-n.left)/(i||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,E(e,"transform","translate3d("+s+"px,"+l+"px,0)"),Q(e),E(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),E(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){E(e,"transition",""),E(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}function Q(e){return e.offsetWidth}function ee(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var te=[],ne={initializeByDefault:!0},re={mount:function(e){for(var t in ne)ne.hasOwnProperty(t)&&!(t in e)&&(e[t]=ne[t]);te.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";te.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](a({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](a({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var o in te.forEach((function(r){var o=r.pluginName;if(e.options[o]||r.initializeByDefault){var a=new r(e,t,e.options);a.sortable=e,a.options=e.options,e[o]=a,i(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var a=this.modifyOption(e,o,e.options[o]);"undefined"!==typeof a&&(e.options[o]=a)}},getEventProperties:function(e,t){var n={};return te.forEach((function(r){"function"===typeof r.eventProperties&&i(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return te.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"===typeof o.optionListeners[t]&&(r=o.optionListeners[t].call(e[o.pluginName],n))})),r}};function oe(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,s=e.toEl,l=e.fromEl,u=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,f=e.newDraggableIndex,p=e.originalEvent,h=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[J],t){var y,b=t.options,x="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||m||g?(y=document.createEvent("Event"),y.initEvent(r,!0,!0)):y=new CustomEvent(r,{bubbles:!0,cancelable:!0}),y.to=s||n,y.from=l||n,y.item=o||n,y.clone=i,y.oldIndex=u,y.newIndex=c,y.oldDraggableIndex=d,y.newDraggableIndex=f,y.originalEvent=p,y.pullMode=h?h.lastPutMode:void 0;var w=a({},v,re.getEventProperties(r,t));for(var _ in w)y[_]=w[_];n&&n.dispatchEvent(y),b[x]&&b[x].call(t,y)}}var ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=l(n,["evt"]);re.pluginEvent.bind(Qe)(e,t,a({dragEl:se,parentEl:le,ghostEl:ue,rootEl:ce,nextEl:de,lastDownEl:fe,cloneEl:pe,cloneHidden:he,dragStarted:Te,putSortable:xe,activeSortable:Qe.active,originalEvent:r,oldIndex:me,oldDraggableIndex:ve,newIndex:ge,newDraggableIndex:ye,hideGhostForTarget:Ke,unhideGhostForTarget:Xe,cloneNowHidden:function(){he=!0},cloneNowShown:function(){he=!1},dispatchSortableEvent:function(e){ae({sortable:t,name:e,originalEvent:r})}},o))};function ae(e){oe(a({putSortable:xe,cloneEl:pe,targetEl:se,rootEl:ce,oldIndex:me,oldDraggableIndex:ve,newIndex:ge,newDraggableIndex:ye},e))}var se,le,ue,ce,de,fe,pe,he,me,ge,ve,ye,be,xe,we,_e,Ce,Se,ke,Oe,Te,Me,De,Ie,Ee,Ae=!1,Le=!1,je=[],Ne=!1,Pe=!1,Re=[],Be=!1,Fe=[],ze="undefined"!==typeof document,Ve=b,He=g||m?"cssFloat":"float",Ue=ze&&!x&&!b&&"draggable"in document.createElement("div"),$e=function(){if(ze){if(m)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),qe=function(e,t){var n=E(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=R(e,0,t),i=R(e,1,t),a=o&&E(o),s=i&&E(i),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+N(o).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+N(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a["float"]&&"none"!==a["float"]){var c="left"===a["float"]?"left":"right";return!i||"both"!==s.clear&&s.clear!==c?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[He]||i&&"none"===n[He]&&l+u>r)?"vertical":"horizontal"},We=function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===a||o===s||r+i/2===a+l/2},Ge=function(e,t){var n;return je.some((function(r){if(!B(r)){var o=N(r),i=r[J].options.emptyInsertThreshold,a=e>=o.left-i&&e<=o.right+i,s=t>=o.top-i&&t<=o.bottom+i;return i&&a&&s?n=r:void 0}})),n},Ye=function(e){function t(e,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var l=(n?r:o).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},o=e.group;o&&"object"==r(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},Ke=function(){!$e&&ue&&E(ue,"display","none")},Xe=function(){!$e&&ue&&E(ue,"display","")};ze&&document.addEventListener("click",(function(e){if(Le)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Le=!1,!1}),!0);var Je=function(e){if(se){e=e.touches?e.touches[0]:e;var t=Ge(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[J]._onDragOver(n)}}},Ze=function(e){se&&se.parentNode[J]._isOutsideThisEl(e.target)};function Qe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=i({},t),e[J]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return qe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Qe.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in re.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var o in Ye(t),this)"_"===o.charAt(0)&&"function"===typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&Ue,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?C(e,"pointerdown",this._onTapStart):(C(e,"mousedown",this._onTapStart),C(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(C(e,"dragover",this),C(e,"dragenter",this)),je.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),i(this,Z())}function et(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function tt(e,t,n,r,o,i,a,s){var l,u,c=e[J],d=c.options.onMove;return!window.CustomEvent||m||g?(l=document.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=o||t,l.relatedRect=i||N(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),d&&(u=d.call(c,l,a)),u}function nt(e){e.draggable=!1}function rt(){Be=!1}function ot(e,t,n){var r=N(B(n.el,n.options.draggable)),o=10;return t?e.clientX>r.right+o||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+o}function it(e,t,n,r,o,i,a,s){var l=r?e.clientY:e.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!a)if(s&&Ie<u*o){if(!Ne&&(1===De?l>c+u*i/2:l<d-u*i/2)&&(Ne=!0),Ne)f=!0;else if(1===De?l<c+Ie:l>d-Ie)return-De}else if(l>c+u*(1-o)/2&&l<d-u*(1-o)/2)return at(t);return f=f||a,f&&(l<c+u*i/2||l>d-u*i/2)?l>c+u/2?1:-1:0}function at(e){return F(se)<F(e)?1:-1}function st(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;while(n--)r+=t.charCodeAt(n);return r.toString(36)}function lt(e){Fe.length=0;var t=e.getElementsByTagName("input"),n=t.length;while(n--){var r=t[n];r.checked&&Fe.push(r)}}function ut(e){return setTimeout(e,0)}function ct(e){return clearTimeout(e)}Qe.prototype={constructor:Qe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Me=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,se):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,u=r.filter;if(lt(n),!se&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(s=T(s,r.draggable,n,!1),(!s||!s.animated)&&fe!==s)){if(me=F(s),ve=F(s,r.draggable),"function"===typeof u){if(u.call(this,e,s,this))return ae({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),ie("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(r){if(r=T(l,r.trim(),n,!1),r)return ae({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),ie("filter",t,{evt:e}),!0})),u))return void(o&&e.cancelable&&e.preventDefault());r.handle&&!T(l,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,o=this,i=o.el,a=o.options,s=i.ownerDocument;if(n&&!se&&n.parentNode===i){var l=N(n);if(ce=i,se=n,le=se.parentNode,de=se.nextSibling,fe=n,be=a.group,Qe.dragged=se,we={target:se,clientX:(t||e).clientX,clientY:(t||e).clientY},ke=we.clientX-l.left,Oe=we.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,se.style["will-change"]="all",r=function(){ie("delayEnded",o,{evt:e}),Qe.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!v&&o.nativeDraggable&&(se.draggable=!0),o._triggerDragStart(e,t),ae({sortable:o,name:"choose",originalEvent:e}),I(se,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){L(se,e.trim(),nt)})),C(s,"dragover",Je),C(s,"mousemove",Je),C(s,"touchmove",Je),C(s,"mouseup",o._onDrop),C(s,"touchend",o._onDrop),C(s,"touchcancel",o._onDrop),v&&this.nativeDraggable&&(this.options.touchStartThreshold=4,se.draggable=!0),ie("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(g||m))r();else{if(Qe.eventCanceled)return void this._onDrop();C(s,"mouseup",o._disableDelayedDrag),C(s,"touchend",o._disableDelayedDrag),C(s,"touchcancel",o._disableDelayedDrag),C(s,"mousemove",o._delayedDragTouchMoveHandler),C(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&C(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){se&&nt(se),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._disableDelayedDrag),S(e,"touchend",this._disableDelayedDrag),S(e,"touchcancel",this._disableDelayedDrag),S(e,"mousemove",this._delayedDragTouchMoveHandler),S(e,"touchmove",this._delayedDragTouchMoveHandler),S(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?C(document,"pointermove",this._onTouchMove):C(document,t?"touchmove":"mousemove",this._onTouchMove):(C(se,"dragend",this),C(ce,"dragstart",this._onDragStart));try{document.selection?ut((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Ae=!1,ce&&se){ie("dragStarted",this,{evt:t}),this.nativeDraggable&&C(document,"dragover",Ze);var n=this.options;!e&&I(se,n.dragClass,!1),I(se,n.ghostClass,!0),Qe.active=this,e&&this._appendGhost(),ae({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(_e){this._lastX=_e.clientX,this._lastY=_e.clientY,Ke();var e=document.elementFromPoint(_e.clientX,_e.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(_e.clientX,_e.clientY),e===t)break;t=e}if(se.parentNode[J]._isOutsideThisEl(e),t)do{if(t[J]){var n=void 0;if(n=t[J]._onDragOver({clientX:_e.clientX,clientY:_e.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Xe()}},_onTouchMove:function(e){if(we){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=ue&&A(ue,!0),a=ue&&i&&i.a,s=ue&&i&&i.d,l=Ve&&Ee&&z(Ee),u=(o.clientX-we.clientX+r.x)/(a||1)+(l?l[0]-Re[0]:0)/(a||1),c=(o.clientY-we.clientY+r.y)/(s||1)+(l?l[1]-Re[1]:0)/(s||1);if(!Qe.active&&!Ae){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ue){i?(i.e+=u-(Ce||0),i.f+=c-(Se||0)):i={a:1,b:0,c:0,d:1,e:u,f:c};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");E(ue,"webkitTransform",d),E(ue,"mozTransform",d),E(ue,"msTransform",d),E(ue,"transform",d),Ce=u,Se=c,_e=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ue){var e=this.options.fallbackOnBody?document.body:ce,t=N(se,!0,Ve,!0,e),n=this.options;if(Ve){Ee=e;while("static"===E(Ee,"position")&&"none"===E(Ee,"transform")&&Ee!==document)Ee=Ee.parentNode;Ee!==document.body&&Ee!==document.documentElement?(Ee===document&&(Ee=j()),t.top+=Ee.scrollTop,t.left+=Ee.scrollLeft):Ee=j(),Re=z(Ee)}ue=se.cloneNode(!0),I(ue,n.ghostClass,!1),I(ue,n.fallbackClass,!0),I(ue,n.dragClass,!0),E(ue,"transition",""),E(ue,"transform",""),E(ue,"box-sizing","border-box"),E(ue,"margin",0),E(ue,"top",t.top),E(ue,"left",t.left),E(ue,"width",t.width),E(ue,"height",t.height),E(ue,"opacity","0.8"),E(ue,"position",Ve?"absolute":"fixed"),E(ue,"zIndex","100000"),E(ue,"pointerEvents","none"),Qe.ghost=ue,e.appendChild(ue),E(ue,"transform-origin",ke/parseInt(ue.style.width)*100+"% "+Oe/parseInt(ue.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;ie("dragStart",this,{evt:e}),Qe.eventCanceled?this._onDrop():(ie("setupClone",this),Qe.eventCanceled||(pe=Y(se),pe.draggable=!1,pe.style["will-change"]="",this._hideClone(),I(pe,this.options.chosenClass,!1),Qe.clone=pe),n.cloneId=ut((function(){ie("clone",n),Qe.eventCanceled||(n.options.removeCloneOnHide||ce.insertBefore(pe,se),n._hideClone(),ae({sortable:n,name:"clone"}))})),!t&&I(se,o.dragClass,!0),t?(Le=!0,n._loopId=setInterval(n._emulateDragOver,50)):(S(document,"mouseup",n._onDrop),S(document,"touchend",n._onDrop),S(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,se)),C(document,"drop",n),E(se,"transform","translateZ(0)")),Ae=!0,n._dragStartId=ut(n._dragStarted.bind(n,t,e)),C(document,"selectstart",n),Te=!0,y&&E(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,i=this.el,s=e.target,l=this.options,u=l.group,c=Qe.active,d=be===u,f=l.sort,p=xe||c,h=this,m=!1;if(!Be){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=T(s,l.draggable,i,!0),A("dragOver"),Qe.eventCanceled)return m;if(se.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||h._ignoreWhileAnimating===s)return j(!1);if(Le=!1,c&&!l.disabled&&(d?f||(r=!ce.contains(se)):xe===this||(this.lastPutMode=be.checkPull(this,c,se,e))&&u.checkPut(this,c,se,e))){if(o="vertical"===this._getDirection(e,s),t=N(se),A("dragOverValid"),Qe.eventCanceled)return m;if(r)return le=ce,L(),this._hideClone(),A("revert"),Qe.eventCanceled||(de?ce.insertBefore(se,de):ce.appendChild(se)),j(!0);var g=B(i,l.draggable);if(!g||ot(e,o,this)&&!g.animated){if(g===se)return j(!1);if(g&&i===e.target&&(s=g),s&&(n=N(s)),!1!==tt(ce,i,se,t,s,n,e,!!s))return L(),i.appendChild(se),le=i,R(),j(!0)}else if(s.parentNode===i){n=N(s);var v,y,b=0,x=se.parentNode!==i,w=!We(se.animated&&se.toRect||t,s.animated&&s.toRect||n,o),_=o?"top":"left",C=P(s,"top","top")||P(se,"top","top"),S=C?C.scrollTop:void 0;if(Me!==s&&(v=n[_],Ne=!1,Pe=!w&&l.invertSwap||x),b=it(e,s,n,o,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Pe,Me===s),0!==b){var k=F(se);do{k-=b,y=le.children[k]}while(y&&("none"===E(y,"display")||y===ue))}if(0===b||y===s)return j(!1);Me=s,De=b;var O=s.nextElementSibling,M=!1;M=1===b;var D=tt(ce,i,se,t,s,n,e,M);if(!1!==D)return 1!==D&&-1!==D||(M=1===D),Be=!0,setTimeout(rt,30),L(),M&&!O?i.appendChild(se):s.parentNode.insertBefore(se,M?O:s),C&&G(C,0,S-C.scrollTop),le=se.parentNode,void 0===v||Pe||(Ie=Math.abs(v-N(s)[_])),R(),j(!0)}if(i.contains(se))return j(!1)}return!1}function A(l,u){ie(l,h,a({evt:e,isOwner:d,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:f,fromSortable:p,target:s,completed:j,onMove:function(n,r){return tt(ce,i,se,t,n,N(n),e,r)},changed:R},u))}function L(){A("dragOverAnimationCapture"),h.captureAnimationState(),h!==p&&p.captureAnimationState()}function j(t){return A("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(h),h!==p&&(I(se,xe?xe.options.ghostClass:c.options.ghostClass,!1),I(se,l.ghostClass,!0)),xe!==h&&h!==Qe.active?xe=h:h===Qe.active&&xe&&(xe=null),p===h&&(h._ignoreWhileAnimating=s),h.animateAll((function(){A("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(s===se&&!se.animated||s===i&&!s.animated)&&(Me=null),l.dragoverBubble||e.rootEl||s===document||(se.parentNode[J]._isOutsideThisEl(e.target),!t&&Je(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function R(){ge=F(se),ye=F(se,l.draggable),ae({sortable:h,name:"change",toEl:i,newIndex:ge,newDraggableIndex:ye,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){S(document,"mousemove",this._onTouchMove),S(document,"touchmove",this._onTouchMove),S(document,"pointermove",this._onTouchMove),S(document,"dragover",Je),S(document,"mousemove",Je),S(document,"touchmove",Je)},_offUpEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._onDrop),S(e,"touchend",this._onDrop),S(e,"pointerup",this._onDrop),S(e,"touchcancel",this._onDrop),S(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ge=F(se),ye=F(se,n.draggable),ie("drop",this,{evt:e}),le=se&&se.parentNode,ge=F(se),ye=F(se,n.draggable),Qe.eventCanceled||(Ae=!1,Pe=!1,Ne=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ct(this.cloneId),ct(this._dragStartId),this.nativeDraggable&&(S(document,"drop",this),S(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),y&&E(document.body,"user-select",""),E(se,"transform",""),e&&(Te&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ue&&ue.parentNode&&ue.parentNode.removeChild(ue),(ce===le||xe&&"clone"!==xe.lastPutMode)&&pe&&pe.parentNode&&pe.parentNode.removeChild(pe),se&&(this.nativeDraggable&&S(se,"dragend",this),nt(se),se.style["will-change"]="",Te&&!Ae&&I(se,xe?xe.options.ghostClass:this.options.ghostClass,!1),I(se,this.options.chosenClass,!1),ae({sortable:this,name:"unchoose",toEl:le,newIndex:null,newDraggableIndex:null,originalEvent:e}),ce!==le?(ge>=0&&(ae({rootEl:le,name:"add",toEl:le,fromEl:ce,originalEvent:e}),ae({sortable:this,name:"remove",toEl:le,originalEvent:e}),ae({rootEl:le,name:"sort",toEl:le,fromEl:ce,originalEvent:e}),ae({sortable:this,name:"sort",toEl:le,originalEvent:e})),xe&&xe.save()):ge!==me&&ge>=0&&(ae({sortable:this,name:"update",toEl:le,originalEvent:e}),ae({sortable:this,name:"sort",toEl:le,originalEvent:e})),Qe.active&&(null!=ge&&-1!==ge||(ge=me,ye=ve),ae({sortable:this,name:"end",toEl:le,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){ie("nulling",this),ce=se=le=ue=de=pe=fe=he=we=_e=Te=ge=ye=me=ve=Me=De=xe=be=Qe.dragged=Qe.ghost=Qe.clone=Qe.active=null,Fe.forEach((function(e){e.checked=!0})),Fe.length=Ce=Se=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":se&&(this._onDragOver(e),et(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)e=n[r],T(e,i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||st(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,r){var o=n.children[r];T(o,this.options.draggable,n,!1)&&(t[e]=o)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return T(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=re.modifyOption(this,e,t);n[e]="undefined"!==typeof r?r:t,"group"===e&&Ye(n)},destroy:function(){ie("destroy",this);var e=this.el;e[J]=null,S(e,"mousedown",this._onTapStart),S(e,"touchstart",this._onTapStart),S(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(S(e,"dragover",this),S(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),je.splice(je.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!he){if(ie("hideClone",this),Qe.eventCanceled)return;E(pe,"display","none"),this.options.removeCloneOnHide&&pe.parentNode&&pe.parentNode.removeChild(pe),he=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(he){if(ie("showClone",this),Qe.eventCanceled)return;ce.contains(se)&&!this.options.group.revertClone?ce.insertBefore(pe,se):de?ce.insertBefore(pe,de):ce.appendChild(pe),this.options.group.revertClone&&this.animate(se,pe),E(pe,"display",""),he=!1}}else this._hideClone()}},ze&&C(document,"touchmove",(function(e){(Qe.active||Ae)&&e.cancelable&&e.preventDefault()})),Qe.utils={on:C,off:S,css:E,find:L,is:function(e,t){return!!T(e,t,e,!1)},extend:U,throttle:q,closest:T,toggleClass:I,clone:Y,index:F,nextTick:ut,cancelNextTick:ct,detectDirection:qe,getChild:R},Qe.get=function(e){return e[J]},Qe.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Qe.utils=a({},Qe.utils,e.utils)),re.mount(e)}))},Qe.create=function(e,t){return new Qe(e,t)},Qe.version=p;var dt,ft,pt,ht,mt,gt,vt=[],yt=!1;function bt(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):this.options.supportPointer?C(document,"pointermove",this._handleFallbackAutoScroll):t.touches?C(document,"touchmove",this._handleFallbackAutoScroll):C(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):(S(document,"pointermove",this._handleFallbackAutoScroll),S(document,"touchmove",this._handleFallbackAutoScroll),S(document,"mousemove",this._handleFallbackAutoScroll)),wt(),xt(),W()},nulling:function(){mt=ft=dt=yt=gt=pt=ht=null,vt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(r,o);if(mt=e,t||g||m||y){Ct(e,this.options,i,t);var a=H(i,!0);!yt||gt&&r===pt&&o===ht||(gt&&wt(),gt=setInterval((function(){var i=H(document.elementFromPoint(r,o),!0);i!==a&&(a=i,xt()),Ct(e,n.options,i,t)}),10),pt=r,ht=o)}else{if(!this.options.bubbleScroll||H(i,!0)===j())return void xt();Ct(e,this.options,H(i,!1),!1)}}},i(e,{pluginName:"scroll",initializeByDefault:!0})}function xt(){vt.forEach((function(e){clearInterval(e.pid)})),vt=[]}function wt(){clearInterval(gt)}var _t,Ct=q((function(e,t,n,r){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,u=j(),c=!1;ft!==n&&(ft=n,xt(),dt=t.scroll,o=t.scrollFn,!0===dt&&(dt=H(n,!0)));var d=0,f=dt;do{var p=f,h=N(p),m=h.top,g=h.bottom,v=h.left,y=h.right,b=h.width,x=h.height,w=void 0,_=void 0,C=p.scrollWidth,S=p.scrollHeight,k=E(p),O=p.scrollLeft,T=p.scrollTop;p===u?(w=b<C&&("auto"===k.overflowX||"scroll"===k.overflowX||"visible"===k.overflowX),_=x<S&&("auto"===k.overflowY||"scroll"===k.overflowY||"visible"===k.overflowY)):(w=b<C&&("auto"===k.overflowX||"scroll"===k.overflowX),_=x<S&&("auto"===k.overflowY||"scroll"===k.overflowY));var M=w&&(Math.abs(y-i)<=s&&O+b<C)-(Math.abs(v-i)<=s&&!!O),D=_&&(Math.abs(g-a)<=s&&T+x<S)-(Math.abs(m-a)<=s&&!!T);if(!vt[d])for(var I=0;I<=d;I++)vt[I]||(vt[I]={});vt[d].vx==M&&vt[d].vy==D&&vt[d].el===p||(vt[d].el=p,vt[d].vx=M,vt[d].vy=D,clearInterval(vt[d].pid),0==M&&0==D||(c=!0,vt[d].pid=setInterval(function(){r&&0===this.layer&&Qe.active._onTouchMove(mt);var t=vt[this.layer].vy?vt[this.layer].vy*l:0,n=vt[this.layer].vx?vt[this.layer].vx*l:0;"function"===typeof o&&"continue"!==o.call(Qe.dragged.parentNode[J],n,t,e,mt,vt[this.layer].el)||G(vt[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==u&&(f=H(f,!1)));yt=c}}),30),St=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||o;a();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(u.clientX,u.clientY);s(),l&&!l.el.contains(c)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function kt(){}function Ot(){}function Tt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;_t=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,o=e.activeSortable,i=e.changed,a=e.cancel;if(o.options.swap){var s=this.sortable.el,l=this.options;if(n&&n!==s){var u=_t;!1!==r(n)?(I(n,l.swapClass,!0),_t=n):_t=null,u&&u!==_t&&I(u,l.swapClass,!1)}i(),t(!0),a()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,o=n||this.sortable,i=this.options;_t&&I(_t,i.swapClass,!1),_t&&(i.swap||n&&n.options.swap)&&r!==_t&&(o.captureAnimationState(),o!==t&&t.captureAnimationState(),Mt(r,_t),o.animateAll(),o!==t&&t.animateAll())},nulling:function(){_t=null}},i(e,{pluginName:"swap",eventProperties:function(){return{swapItem:_t}}})}function Mt(e,t){var n,r,o=e.parentNode,i=t.parentNode;o&&i&&!o.isEqualNode(t)&&!i.isEqualNode(e)&&(n=F(e),r=F(t),o.isEqualNode(i)&&n<r&&r++,o.insertBefore(t,o.children[n]),i.insertBefore(e,i.children[r]))}kt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=R(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:St},i(kt,{pluginName:"revertOnSpill"}),Ot.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:St},i(Ot,{pluginName:"removeOnSpill"});var Dt,It,Et,At,Lt,jt=[],Nt=[],Pt=!1,Rt=!1,Bt=!1;function Ft(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?C(document,"pointerup",this._deselectMultiDrag):(C(document,"mouseup",this._deselectMultiDrag),C(document,"touchend",this._deselectMultiDrag)),C(document,"keydown",this._checkKeyDown),C(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";jt.length&&It===e?jt.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;Et=t},delayEnded:function(){this.isMultiDrag=~jt.indexOf(Et)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<jt.length;r++)Nt.push(Y(jt[r])),Nt[r].sortableIndex=jt[r].sortableIndex,Nt[r].draggable=!1,Nt[r].style["will-change"]="",I(Nt[r],this.options.selectedClass,!1),jt[r]===Et&&I(Nt[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,o=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||jt.length&&It===t&&(Vt(!0,n),r("clone"),o()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(Vt(!1,n),Nt.forEach((function(e){E(e,"display","")})),t(),Lt=!1,r())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(Nt.forEach((function(e){E(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),Lt=!0,r())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&It&&It.multiDrag._deselectMultiDrag(),jt.forEach((function(e){e.sortableIndex=F(e)})),jt=jt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),Bt=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){jt.forEach((function(e){e!==Et&&E(e,"position","absolute")}));var r=N(Et,!1,!0,!0);jt.forEach((function(e){e!==Et&&K(e,r)})),Rt=!0,Pt=!0}n.animateAll((function(){Rt=!1,Pt=!1,t.options.animation&&jt.forEach((function(e){X(e)})),t.options.sort&&Ht()}))}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;Rt&&~jt.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,o=e.dragRect;jt.length>1&&(jt.forEach((function(e){r.addAnimationState({target:e,rect:Rt?N(e):o}),X(e),e.fromRect=o,t.removeAnimationState(e)})),Rt=!1,zt(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,o=e.activeSortable,i=e.parentEl,a=e.putSortable,s=this.options;if(r){if(n&&o._hideClone(),Pt=!1,s.animation&&jt.length>1&&(Rt||!n&&!o.options.sort&&!a)){var l=N(Et,!1,!0,!0);jt.forEach((function(e){e!==Et&&(K(e,l),i.appendChild(e))})),Rt=!0}if(!n)if(Rt||Ht(),jt.length>1){var u=Lt;o._showClone(t),o.options.animation&&!Lt&&u&&Nt.forEach((function(e){o.addAnimationState({target:e,rect:At}),e.fromRect=At,e.thisAnimationDuration=null}))}else o._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(jt.forEach((function(e){e.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){At=i({},t);var o=A(Et,!0);At.top-=o.f,At.left-=o.e}},dragOverAnimationComplete:function(){Rt&&(Rt=!1,Ht())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,o=e.sortable,i=e.dispatchSortableEvent,a=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var u=this.options,c=r.children;if(!Bt)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),I(Et,u.selectedClass,!~jt.indexOf(Et)),~jt.indexOf(Et))jt.splice(jt.indexOf(Et),1),Dt=null,oe({sortable:o,rootEl:n,name:"deselect",targetEl:Et,originalEvt:t});else{if(jt.push(Et),oe({sortable:o,rootEl:n,name:"select",targetEl:Et,originalEvt:t}),t.shiftKey&&Dt&&o.el.contains(Dt)){var d,f,p=F(Dt),h=F(Et);if(~p&&~h&&p!==h)for(h>p?(f=p,d=h):(f=h,d=p+1);f<d;f++)~jt.indexOf(c[f])||(I(c[f],u.selectedClass,!0),jt.push(c[f]),oe({sortable:o,rootEl:n,name:"select",targetEl:c[f],originalEvt:t}))}else Dt=Et;It=l}if(Bt&&this.isMultiDrag){if((r[J].options.sort||r!==n)&&jt.length>1){var m=N(Et),g=F(Et,":not(."+this.options.selectedClass+")");if(!Pt&&u.animation&&(Et.thisAnimationDuration=null),l.captureAnimationState(),!Pt&&(u.animation&&(Et.fromRect=m,jt.forEach((function(e){if(e.thisAnimationDuration=null,e!==Et){var t=Rt?N(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),Ht(),jt.forEach((function(e){c[g]?r.insertBefore(e,c[g]):r.appendChild(e),g++})),a===F(Et))){var v=!1;jt.forEach((function(e){e.sortableIndex===F(e)||(v=!0)})),v&&i("update")}jt.forEach((function(e){X(e)})),l.animateAll()}It=l}(n===r||s&&"clone"!==s.lastPutMode)&&Nt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=Bt=!1,Nt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),S(document,"pointerup",this._deselectMultiDrag),S(document,"mouseup",this._deselectMultiDrag),S(document,"touchend",this._deselectMultiDrag),S(document,"keydown",this._checkKeyDown),S(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(("undefined"===typeof Bt||!Bt)&&It===this.sortable&&(!e||!T(e.target,this.options.draggable,this.sortable.el,!1))&&(!e||0===e.button))while(jt.length){var t=jt[0];I(t,this.options.selectedClass,!1),jt.shift(),oe({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},i(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[J];t&&t.options.multiDrag&&!~jt.indexOf(e)&&(It&&It!==t&&(It.multiDrag._deselectMultiDrag(),It=t),I(e,t.options.selectedClass,!0),jt.push(e))},deselect:function(e){var t=e.parentNode[J],n=jt.indexOf(e);t&&t.options.multiDrag&&~n&&(I(e,t.options.selectedClass,!1),jt.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return jt.forEach((function(r){var o;t.push({multiDragElement:r,index:r.sortableIndex}),o=Rt&&r!==Et?-1:Rt?F(r,":not(."+e.options.selectedClass+")"):F(r),n.push({multiDragElement:r,index:o})})),{items:u(jt),clones:[].concat(Nt),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return e=e.toLowerCase(),"ctrl"===e?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function zt(e,t){jt.forEach((function(n,r){var o=t.children[n.sortableIndex+(e?Number(r):0)];o?t.insertBefore(n,o):t.appendChild(n)}))}function Vt(e,t){Nt.forEach((function(n,r){var o=t.children[n.sortableIndex+(e?Number(r):0)];o?t.insertBefore(n,o):t.appendChild(n)}))}function Ht(){jt.forEach((function(e){e!==Et&&e.parentNode&&e.parentNode.removeChild(e)}))}Qe.mount(new bt),Qe.mount(Ot,kt),t["default"]=Qe},"25f0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-button",{attrs:{ghost:"",type:"primary",icon:"delete"},on:{click:e.batchDel}},[e._v("批量删除\n    ")]):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v("已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项  \n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{attrs:{columns:e.columns,size:"middle",pagination:!1,dataSource:e.dataSource,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDataRule(r)}}},[e._v("数据规则")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}},{key:"url",fn:function(e){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:25}})],1)}},{key:"component",fn:function(e){return n("span",{},[n("j-ellipsis",{attrs:{value:e}})],1)}}])})],1),n("permission-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("permission-data-rule-list",{ref:"PermissionDataRuleList",on:{ok:e.modalFormOk}})],1)},o=[],i=n("b90e"),a=n("4ec3"),s=n("b65a"),l=n("56cd"),u=n("d579"),c=[{title:"菜单名称",dataIndex:"name",key:"name"},{title:"菜单类型",dataIndex:"menuType",key:"menuType",customRender:function(e){return 0==e||1==e?"菜单":2==e?"按钮":e}},{title:"所属板块",dataIndex:"modules",key:"modules"},{title:"icon",dataIndex:"icon",key:"icon"},{title:"组件",dataIndex:"component",key:"component",scopedSlots:{customRender:"component"}},{title:"路径",dataIndex:"url",key:"url",scopedSlots:{customRender:"url"}},{title:"排序",dataIndex:"sortNo",key:"sortNo"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center",width:150}],d={name:"PermissionList",mixins:[s["a"]],components:{PermissionDataRuleList:l["default"],PermissionModal:i["default"],JEllipsis:u["default"]},data:function(){return{description:"这是菜单管理页面",columns:c,loading:!1,url:{list:"/sys/permission/list",delete:"/sys/permission/delete",deleteBatch:"/sys/permission/deleteBatch"}}},methods:{loadData:function(){var e=this;this.dataSource=[],Object(a["t"])().then((function(t){t.success&&(e.dataSource=t.result)}))},handleDataRule:function(e){this.$refs.PermissionDataRuleList.edit(e)}}},f=d,p=(n("8390"),n("5d22")),h=Object(p["a"])(f,r,o,!1,null,"19d5fef0",null);t["default"]=h.exports},"26e1":function(e,t,n){},2735:function(e,t,n){},2768:function(e,t,n){},2832:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-tabs",{attrs:{defaultActiveKey:"1"},on:{change:e.callback}},[n("a-tab-pane",{key:"1",attrs:{tab:"柱状图"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:10}},[n("a-radio-group",{attrs:{value:e.barType},on:{change:e.statisticst}},[n("a-radio-button",{attrs:{value:"year"}},[e._v("按年统计")]),n("a-radio-button",{attrs:{value:"month"}},[e._v("按月统计")]),n("a-radio-button",{attrs:{value:"category"}},[e._v("按类别统计")]),n("a-radio-button",{attrs:{value:"cabinet"}},[e._v("按柜号统计")])],1)],1),n("a-col",{attrs:{span:14}},[(e.barType,e._e())],1),n("bar",{staticClass:"statistic",attrs:{title:"档案统计",dataSource:e.countSource,height:400}})],1)],1),n("a-tab-pane",{key:"2",attrs:{tab:"饼状图"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:10}},[n("a-radio-group",{attrs:{value:e.pieType},on:{change:e.statisticst}},[n("a-radio-button",{attrs:{value:"year"}},[e._v("按年统计")]),n("a-radio-button",{attrs:{value:"month"}},[e._v("按月统计")]),n("a-radio-button",{attrs:{value:"category"}},[e._v("按类别统计")]),n("a-radio-button",{attrs:{value:"cabinet"}},[e._v("按柜号统计")])],1)],1),n("a-col",{attrs:{span:14}},[(e.pieType,e._e())],1),n("pie",{staticClass:"statistic",attrs:{title:"档案统计",dataSource:e.countSource,height:450}})],1)],1)],1)],1)},o=[],i=n("edd9"),a=n("6cb2"),s=n("14b1"),l=n("0fea"),u={name:"ArchivesStatisticst",components:{ACol:s["b"],Bar:i["default"],Pie:a["default"]},data:function(){return{description:"档案统计页面",queryParam:{},countSource:[],barType:"year",barDate:["month","month"],barValue:[],pieType:"year",pieDate:["month","month"],pieValue:[],tabStatus:"bar",url:{getYearCountInfo:"/api/report/getYearCountInfo",getMonthCountInfo:"/api/report/getMonthCountInfo",getCntrNoCountInfo:"/api/report/getCntrNoCountInfo",getCabinetCountInfo:"/api/report/getCabinetCountInfo"}}},created:function(){var e=this.url.getYearCountInfo;this.loadDate(e,"year",{})},methods:{loadDate:function(e,t,n){var r=this;Object(l["c"])(e,n,"get").then((function(e){if(e.success)r.countSource=[],"year"===t&&r.getYearCountSource(e.result),"month"===t&&r.getMonthCountSource(e.result),"category"===t&&r.getCategoryCountSource(e.result),"cabinet"===t&&r.getCabinetCountSource(e.result);else{var n=r;n.$message.warning(e.message)}}))},getYearCountSource:function(e){for(var t=0;t<e.length;t++)"bar"===this.tabStatus?this.countSource.push({x:"".concat(e[t].year,"年"),y:e[t].yearcount}):this.countSource.push({item:"".concat(e[t].year,"年"),count:e[t].yearcount})},getMonthCountSource:function(e){for(var t=0;t<e.length;t++)"bar"===this.tabStatus?this.countSource.push({x:e[t].month,y:e[t].monthcount}):this.countSource.push({item:e[t].month,count:e[t].monthcount})},getCategoryCountSource:function(e){for(var t=0;t<e.length;t++)"bar"===this.tabStatus?this.countSource.push({x:e[t].classifyname,y:e[t].cntrnocount}):this.countSource.push({item:e[t].classifyname,count:e[t].cntrnocount})},getCabinetCountSource:function(e){for(var t=0;t<e.length;t++)"bar"===this.tabStatus?this.countSource.push({x:e[t].cabinetname,y:e[t].cabinetcocunt}):this.countSource.push({item:e[t].cabinetname,count:e[t].cabinetcocunt})},callback:function(e){"1"===e?(this.tabStatus="bar",this.queryDatebar()):(this.tabStatus="pie",this.queryDatepie())},statisticst:function(e){"pie"===this.tabStatus?(this.pieType=e.target.value,this.queryDatepie()):(this.barType=e.target.value,this.queryDatebar())},queryDatebar:function(){this.barValue.length>0?this.getUrl(this.barType,{startTime:this.barValue[0]._d,endTime:this.barValue[1]._d}):this.getUrl(this.barType,{})},queryDatepie:function(){this.pieValue.length>0?this.getUrl(this.pieType,{startTime:this.pieValue[0]._d,endTime:this.pieValue[1]._d}):this.getUrl(this.pieType,{})},searchReset:function(){"pie"===this.tabStatus?this.pieValue=[]:this.barValue=[],this.getUrl(this.barType,{})},getUrl:function(e,t){var n="";"year"===e&&(n=this.url.getYearCountInfo),"month"===e&&(n=this.url.getMonthCountInfo),"category"===e&&(n=this.url.getCntrNoCountInfo),"cabinet"===e&&(n=this.url.getCabinetCountInfo),this.loadDate(n,e,t)},handleBarDate:function(e,t){this.barValue=e,this.barDate=["date"===t[0]?"month":t[0],"date"===t[1]?"month":t[1]]},handlePieDate:function(e,t){this.pieValue=e,this.pieDate=["date"===t[0]?"month":t[0],"date"===t[1]?"month":t[1]]}}},c=u,d=(n("7ebf"),n("5d22")),f=Object(d["a"])(c,r,o,!1,null,"1cd87338",null);t["default"]=f.exports},"288c":function(e,t,n){"use strict";n("343d")},2921:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"10px"},attrs:{title:"提现申请",width:e.modelWidth,visible:e.visible,bodyStyle:e.bodyStyle,confirmLoading:e.confirmLoading,footer:null,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("page-layout",{attrs:{title:"店铺名称："+(e.depart.departName||""),logo:e.depart.logo}},[n("detail-list",{staticClass:"detail-layout",attrs:{slot:"headerContent",size:"small",col:2},slot:"headerContent"},[n("detail-list-item",{attrs:{term:"店铺地址"}},[e._v(e._s(e.depart.address))]),n("detail-list-item",{attrs:{term:"联系电话"}},[e._v(e._s(e.depart.mobile))]),n("detail-list-item",{attrs:{term:"店铺描述"}},[e._v(e._s(e.depart.memo))]),n("detail-list-item",{attrs:{term:"账户余额"}},[e.account.balance?n("span",[e._v(e._s(e.account.balance)+"元")]):e._e()]),n("detail-list-item",{attrs:{term:"公益币余额"}},[e.account.coinBalance?n("span",[e._v(e._s(e.account.coinBalance))]):e._e()])],1),n("a-row",{staticClass:"status-list",attrs:{slot:"extra"},slot:"extra"},[n("a-col",{attrs:{xs:12,sm:12}}),n("a-col",{attrs:{xs:12,sm:12}},[n("div",{staticClass:"text"},[e._v("状态")]),"0"==e.model.status?n("div",{staticClass:"heading"},[e._v("待审核")]):e._e(),"2"==e.model.status?n("div",{staticClass:"heading",staticStyle:{color:"#108ee9"}},[e._v("审核通过")]):e._e(),"3"==e.model.status?n("div",{staticClass:"heading",staticStyle:{color:"#f50"}},[e._v("审核驳回")]):e._e()])],1),n("template",{slot:"action"},[n("a-button",{attrs:{type:"primary"},on:{click:e.verify}},[e._v("审核")])],1),n("a-card",{staticStyle:{"margin-top":"10px"},attrs:{bordered:!1,title:"提现申请信息"}},[n("detail-list",[n("detail-list-item",{attrs:{term:"申请编号"}},[e._v(e._s(e.model.sn))]),n("detail-list-item",{attrs:{term:"提现金额"}},[e._v("￥"+e._s(e.model.amount))]),n("detail-list-item",{attrs:{term:"银行卡号"}},[e._v(e._s(e.model.bankAccount))]),n("detail-list-item",{attrs:{term:"开户名"}},[e._v(e._s(e.model.bankAccountName))]),n("detail-list-item",{attrs:{term:"开户行"}},[e._v(e._s(e.model.bank))])],1)],1)],2),n("draw-crash-verify-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)],1)},o=[],i=n("0fea"),a=(n("85ee"),n("caaf"),n("c16f")),s=n("b445"),l=n("70ae"),u=a["default"].Item,c={name:"ShopAccountWithdrawCashHistoryModal",components:{DrawCrashVerifyModal:l["default"],DetailList:a["default"],PageLayout:s["default"],DetailListItem:u},data:function(){return{title:"操作",visible:!1,bodyStyle:{padding:"0"},modelWidth:window.innerWidth-200,model:{},depart:{},account:{balance:0,coinBalance:0},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{detail:"/mall/shopAccountWithdrawCashHistory/",imgServer:window._CONFIG["imageViewURL"]+"/"}}},created:function(){},methods:{modalFormOk:function(){this.getDetail({id:this.model.id}),this.$emit("ok")},verify:function(){this.$refs.modalForm.open(this.model.id)},add:function(){this.edit({})},edit:function(e){this.visible=!0,this.getDetail(e)},getDetail:function(e){var t=this;Object(i["c"])(this.url.detail+e.id).then((function(e){e.success?(t.model=e.result.history,t.depart=e.result.sysDepart,t.depart.logo&&(t.depart.logo=t.url.imgServer+t.depart.logo),t.account=e.result.account):t.$message.warning(e.message)}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);s.operateTime=s.operateTime?s.operateTime.format("YYYY-MM-DD HH:mm:ss"):null,Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},d=c,f=n("5d22"),p=Object(f["a"])(d,r,o,!1,null,"6c2d88c1",null);t["default"]=p.exports},2977:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",[n("a-tabs",{attrs:{defaultActiveKey:"1"},on:{change:e.callback}},[n("a-tab-pane",{key:"1",attrs:{tab:"登录日志"}}),n("a-tab-pane",{key:"2",attrs:{tab:"操作日志"}})],1)],1),n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"搜索日志"}},[n("a-input",{attrs:{placeholder:"请输入搜索关键词"},model:{value:e.queryParam.keyWord,callback:function(t){e.$set(e.queryParam,"keyWord",t)},expression:"queryParam.keyWord"}})],1)],1),n("a-col",{attrs:{md:8,sm:10}},[n("a-form-item",{attrs:{label:"创建时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-range-picker",{staticStyle:{width:"210px"},attrs:{format:"YYYY-MM-DD",placeholder:["开始时间","结束时间"]},on:{change:e.onDateChange,ok:e.onDateOk},model:{value:e.queryParam.createTimeRange,callback:function(t){e.$set(e.queryParam,"createTimeRange",t)},expression:"queryParam.createTimeRange"}})],1)],1),n("a-col",{attrs:{md:8,sm:10}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"right"}},[n("a-button",{staticStyle:{left:"-35px"},attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px",left:"-35px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("a-table",{ref:"table",attrs:{size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"expandedRowRender",fn:function(t){return n("p",{directives:[{name:"show",rawName:"v-show",value:2==e.queryParam.logType,expression:"queryParam.logType==2"}],staticStyle:{margin:"0"}},[e._v("\n        请求方法： "+e._s(t.method)+"\n        "),n("a-divider",{attrs:{dashed:""}}),e._v("\n        请求参数： "+e._s(t.requestParam)+"\n      ")],1)}}])})],1)},o=[],i=n("ca00"),a=n("b65a"),s={name:"LogList",mixins:[a["a"]],data:function(){return{description:"这是日志管理页面",queryParam:{ipInfo:"",createTimeRange:[],logType:"1",keyWord:""},columns:[{title:"#",dataIndex:"",key:"rowIndex",align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"日志内容",align:"left",dataIndex:"logContent",sorter:!0},{title:"操作人ID",dataIndex:"userid",align:"center",sorter:!0},{title:"操作人名称",dataIndex:"username",align:"center",sorter:!0},{title:"IP",dataIndex:"ip",align:"center",sorter:!0},{title:"耗时(毫秒)",dataIndex:"costTime",align:"center",sorter:!0},{title:"日志类型",dataIndex:"logType_dictText",align:"center"},{title:"创建时间",dataIndex:"createTime",align:"center",sorter:!0}],labelCol:{xs:{span:1},sm:{span:2}},wrapperCol:{xs:{span:10},sm:{span:16}},url:{list:"/sys/log/list"}}},methods:{getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,delete e.createTimeRange,Object(i["b"])(e)},searchReset:function(){var e=this,t=e.queryParam.logType;e.queryParam={},e.queryParam.logType=t,e.loadData(this.ipagination.current)},callback:function(e){var t=this;t.queryParam.logType=e,t.loadData()},onDateChange:function(e,t){this.queryParam.createTime_begin=t[0],this.queryParam.createTime_end=t[1]},onDateOk:function(e){}}},l=s,u=(n("7f96"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"1977a5d2",null);t["default"]=c.exports},"2a5d":function(e,t,n){},"2a67":function(e,t,n){},"2a70":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"5%",height:"85%","overflow-y":"hidden"},attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"角色名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["roleName",e.validatorRules.roleName],expression:"[ 'roleName', validatorRules.roleName]"}],attrs:{placeholder:"请输入角色名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"角色编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["roleCode",e.validatorRules.roleCode],expression:"[ 'roleCode', validatorRules.roleCode]"}],attrs:{placeholder:"请输入角色编码",disabled:e.roleDisabled}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{}],expression:"[ 'description', {} ]"}],attrs:{rows:5,placeholder:"..."}})],1)],1)],1)],1)},o=[],i=n("85ee"),a=n.n(i),s=n("4ec3"),l={name:"RoleModal",data:function(){return{title:"操作",visible:!1,roleDisabled:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{roleName:{rules:[{required:!0,message:"请输入角色名称!"}]},roleCode:{rules:[{required:!0,message:"请输入角色名称!"},{validator:this.validateRoleCode}]}}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.model.id?this.roleDisabled=!0:this.roleDisabled=!1,this.$nextTick((function(){t.form.setFieldsValue(a()(t.model,"roleName","description","roleCode"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o,i=Object.assign(e.model,r);o=e.model.id?Object(s["q"])(i):Object(s["d"])(i),o.then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},validateRoleCode:function(e,t,n){if(/[\u4E00-\u9FA5]/g.test(t))n("角色编码不可输入汉字!");else{var r={tableName:"sys_role",fieldName:"role_code",fieldVal:t,dataId:this.model.id};Object(s["m"])(r).then((function(e){e.success?n():n(e.message)}))}}}},u=l,c=n("5d22"),d=Object(c["a"])(u,r,o,!1,null,"3b261eec",null);t["default"]=d.exports},"2bcd":function(e,t,n){"use strict";n("875a")},"2bd98":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:e.title,width:800,placement:"right",closable:!1,visible:e.visible},on:{close:e.close}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"memberId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["memberId",{}],expression:"['memberId', {}]"}],attrs:{placeholder:"请输入memberId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"couponId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["couponId",{}],expression:"['couponId', {}]"}],attrs:{placeholder:"请输入couponId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单编号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderSn",{}],expression:"['orderSn', {}]"}],attrs:{placeholder:"请输入订单编号"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"用户帐号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["memberUsername",{}],expression:"['memberUsername', {}]"}],attrs:{placeholder:"请输入用户帐号"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单总金额"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["totalAmount",{}],expression:"[ 'totalAmount', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"应付金额（实际支付金额）"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["payAmount",{}],expression:"[ 'payAmount', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"运费金额"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["freightAmount",{}],expression:"[ 'freightAmount', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"促销优化金额（促销价、满减、阶梯价）"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["promotionAmount",{}],expression:"[ 'promotionAmount', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"积分抵扣金额"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["integrationAmount",{}],expression:"[ 'integrationAmount', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"优惠券抵扣金额"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["couponAmount",{}],expression:"[ 'couponAmount', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"管理员后台调整订单使用的折扣金额"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["discountAmount",{}],expression:"[ 'discountAmount', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"支付方式：0->未支付；1->支付宝；2->微信"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["payType",{}],expression:"[ 'payType', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单来源：0->PC订单；1->app订单"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sourceType",{}],expression:"[ 'sourceType', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单状态：0->待付款；1->待发货；2->已发货；3->已完成；4->已关闭；5->无效订单"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{}],expression:"[ 'status', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单类型：0->正常订单；1->秒杀订单"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderType",{}],expression:"[ 'orderType', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"物流公司(配送方式)"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["deliveryCompany",{}],expression:"['deliveryCompany', {}]"}],attrs:{placeholder:"请输入物流公司(配送方式)"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"物流单号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["deliverySn",{}],expression:"['deliverySn', {}]"}],attrs:{placeholder:"请输入物流单号"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"自动确认时间（天）"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["autoConfirmDay",{}],expression:"[ 'autoConfirmDay', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"可以获得的积分"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["integration",{}],expression:"[ 'integration', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"可以活动的成长值"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["growth",{}],expression:"[ 'growth', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"活动信息"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["promotionInfo",{}],expression:"['promotionInfo', {}]"}],attrs:{placeholder:"请输入活动信息"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发票类型：0->不开发票；1->电子发票；2->纸质发票"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["billType",{}],expression:"[ 'billType', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发票抬头"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["billHeader",{}],expression:"['billHeader', {}]"}],attrs:{placeholder:"请输入发票抬头"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发票内容"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["billContent",{}],expression:"['billContent', {}]"}],attrs:{placeholder:"请输入发票内容"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"收票人电话"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["billReceiverPhone",{}],expression:"['billReceiverPhone', {}]"}],attrs:{placeholder:"请输入收票人电话"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"收票人邮箱"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["billReceiverEmail",{}],expression:"['billReceiverEmail', {}]"}],attrs:{placeholder:"请输入收票人邮箱"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"收货人姓名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["receiverName",{}],expression:"['receiverName', {}]"}],attrs:{placeholder:"请输入收货人姓名"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"收货人电话"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["receiverPhone",{}],expression:"['receiverPhone', {}]"}],attrs:{placeholder:"请输入收货人电话"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"收货人邮编"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["receiverPostCode",{}],expression:"['receiverPostCode', {}]"}],attrs:{placeholder:"请输入收货人邮编"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"省份/直辖市"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["receiverProvince",{}],expression:"['receiverProvince', {}]"}],attrs:{placeholder:"请输入省份/直辖市"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"城市"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["receiverCity",{}],expression:"['receiverCity', {}]"}],attrs:{placeholder:"请输入城市"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"区"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["receiverRegion",{}],expression:"['receiverRegion', {}]"}],attrs:{placeholder:"请输入区"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"详细地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["receiverDetailAddress",{}],expression:"['receiverDetailAddress', {}]"}],attrs:{placeholder:"请输入详细地址"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单备注"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["note",{}],expression:"['note', {}]"}],attrs:{placeholder:"请输入订单备注"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"确认收货状态：0->未确认；1->已确认"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirmStatus",{}],expression:"[ 'confirmStatus', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"删除状态：0->未删除；1->已删除"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["deleteStatus",e.validatorRules.deleteStatus],expression:"[ 'deleteStatus', validatorRules.deleteStatus ]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"下单时使用的积分"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["useIntegration",{}],expression:"[ 'useIntegration', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"支付时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["paymentTime",{}],expression:"[ 'paymentTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发货时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["deliveryTime",{}],expression:"[ 'deliveryTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"确认收货时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["receiveTime",{}],expression:"[ 'receiveTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"评价时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["commentTime",{}],expression:"[ 'commentTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"修改时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["modifyTime",{}],expression:"[ 'modifyTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属部门"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sysOrgCode",{}],expression:"['sysOrgCode', {}]"}],attrs:{placeholder:"请输入所属部门"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属公司"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sysCompanyCode",{}],expression:"['sysCompanyCode', {}]"}],attrs:{placeholder:"请输入所属公司"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属区域"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["areaCode",{}],expression:"['areaCode', {}]"}],attrs:{placeholder:"请输入所属区域"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"支付成功（0否1是）"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["paySuccess",{}],expression:"[ 'paySuccess', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"支付成功时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["paySuccessTime",{}],expression:"[ 'paySuccessTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"原始支付回调"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["payNotify",{}],expression:"['payNotify', {}]"}],attrs:{placeholder:"请输入原始支付回调"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"用户ID"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userId",{}],expression:"['userId', {}]"}],attrs:{placeholder:"请输入用户ID"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"用户名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userName",{}],expression:"['userName', {}]"}],attrs:{placeholder:"请输入用户名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"商品所属公司名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sysCompanyName",{}],expression:"['sysCompanyName', {}]"}],attrs:{placeholder:"请输入商品所属公司名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"消耗公益币数量"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["coin",{}],expression:"[ 'coin', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"给商家留言"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["buyerNote",{}],expression:"['buyerNote', {}]"}],attrs:{placeholder:"请输入给商家留言"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"couponHistoryId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["couponHistoryId",{}],expression:"['couponHistoryId', {}]"}],attrs:{placeholder:"请输入couponHistoryId"}})],1)],1)],1),n("a-button",{attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("确定")]),n("a-button",{attrs:{type:"primary"},on:{click:e.handleCancel}},[e._v("取消")])],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=n("caaf"),u=n.n(l),c={name:"OmsOrderModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{deleteStatus:{rules:[{required:!0,message:"请输入删除状态：0->未删除；1->已删除!"}]}},url:{add:"/mall/omsOrder/add",edit:"/mall/omsOrder/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"memberId","couponId","orderSn","memberUsername","totalAmount","payAmount","freightAmount","promotionAmount","integrationAmount","couponAmount","discountAmount","payType","sourceType","status","orderType","deliveryCompany","deliverySn","autoConfirmDay","integration","growth","promotionInfo","billType","billHeader","billContent","billReceiverPhone","billReceiverEmail","receiverName","receiverPhone","receiverPostCode","receiverProvince","receiverCity","receiverRegion","receiverDetailAddress","note","confirmStatus","deleteStatus","useIntegration","sysOrgCode","sysCompanyCode","areaCode","paySuccess","payNotify","userId","userName","sysCompanyName","coin","buyerNote","couponHistoryId")),t.form.setFieldsValue({paymentTime:t.model.paymentTime?u()(t.model.paymentTime):null}),t.form.setFieldsValue({deliveryTime:t.model.deliveryTime?u()(t.model.deliveryTime):null}),t.form.setFieldsValue({receiveTime:t.model.receiveTime?u()(t.model.receiveTime):null}),t.form.setFieldsValue({commentTime:t.model.commentTime?u()(t.model.commentTime):null}),t.form.setFieldsValue({modifyTime:t.model.modifyTime?u()(t.model.modifyTime):null}),t.form.setFieldsValue({paySuccessTime:t.model.paySuccessTime?u()(t.model.paySuccessTime):null})}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);s.paymentTime=s.paymentTime?s.paymentTime.format("YYYY-MM-DD HH:mm:ss"):null,s.deliveryTime=s.deliveryTime?s.deliveryTime.format("YYYY-MM-DD HH:mm:ss"):null,s.receiveTime=s.receiveTime?s.receiveTime.format("YYYY-MM-DD HH:mm:ss"):null,s.commentTime=s.commentTime?s.commentTime.format("YYYY-MM-DD HH:mm:ss"):null,s.modifyTime=s.modifyTime?s.modifyTime.format("YYYY-MM-DD HH:mm:ss"):null,s.paySuccessTime=s.paySuccessTime?s.paySuccessTime.format("YYYY-MM-DD HH:mm:ss"):null,Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},d=c,f=(n("5396"),n("5d22")),p=Object(f["a"])(d,r,o,!1,null,"b7f500e2",null);t["default"]=p.exports},"2d51":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-card",{attrs:{bordered:!1}},[n("a-row",[n("a-col",{attrs:{sm:8,xs:24}},[n("head-info",{attrs:{title:"我的待办",content:"8个任务",bordered:!0}})],1),n("a-col",{attrs:{sm:8,xs:24}},[n("head-info",{attrs:{title:"本周任务平均处理时间",content:"32分钟",bordered:!0}})],1),n("a-col",{attrs:{sm:8,xs:24}},[n("head-info",{attrs:{title:"本周完成任务数",content:"24个"}})],1)],1)],1),n("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,title:"标准列表"}},[n("div",{attrs:{slot:"extra"},slot:"extra"},[n("a-radio-group",[n("a-radio-button",[e._v("全部")]),n("a-radio-button",[e._v("进行中")]),n("a-radio-button",[e._v("等待中")])],1),n("a-input-search",{staticStyle:{"margin-left":"16px",width:"272px"}})],1),n("div",{staticClass:"operate"},[n("a-button",{staticStyle:{width:"100%"},attrs:{type:"dashed",icon:"plus"}},[e._v("添加")])],1),n("a-list",{attrs:{size:"large",pagination:{showSizeChanger:!0,showQuickJumper:!0,pageSize:5,total:50}}},e._l(e.data,(function(t,r){return n("a-list-item",{key:r},[n("a-list-item-meta",{attrs:{description:t.description}},[n("a-avatar",{attrs:{slot:"avatar",size:"large",shape:"square",src:t.avatar},slot:"avatar"}),n("a",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])],1),n("div",{attrs:{slot:"actions"},slot:"actions"},[n("a",[e._v("编辑")])]),n("div",{attrs:{slot:"actions"},slot:"actions"},[n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",[e._v("编辑")])]),n("a-menu-item",[n("a",[e._v("删除")])])],1),n("a",[e._v("更多"),n("a-icon",{attrs:{type:"down"}})],1)],1)],1),n("div",{staticClass:"list-content"},[n("div",{staticClass:"list-content-item"},[n("span",[e._v("Owner")]),n("p",[e._v(e._s(t.owner))])]),n("div",{staticClass:"list-content-item"},[n("span",[e._v("开始时间")]),n("p",[e._v(e._s(t.startAt))])]),n("div",{staticClass:"list-content-item"},[n("a-progress",{staticStyle:{width:"180px"},attrs:{percent:t.progress.value,status:t.progress.status?t.progress.status:null}})],1)])],1)})),1)],1)],1)},o=[],i=n("81d1"),a=[];a.push({title:"Alipay",avatar:"https://gw.alipayobjects.com/zos/rmsportal/WdGqmHpayyMjiEhcKoVE.png",description:"那是一种内在的东西， 他们到达不了，也无法触及的",owner:"付晓晓",startAt:"2018-07-26 22:44",progress:{value:90}}),a.push({title:"Angular",avatar:"https://gw.alipayobjects.com/zos/rmsportal/zOsKZmFRdUtvpqCImOVY.png",description:"希望是一个好东西，也许是最好的，好东西是不会消亡的",owner:"曲丽丽",startAt:"2018-07-26 22:44",progress:{value:54}}),a.push({title:"Ant Design",avatar:"https://gw.alipayobjects.com/zos/rmsportal/dURIMkkrRFpPgTuzkwnB.png",description:"生命就像一盒巧克力，结果往往出人意料",owner:"林东东",startAt:"2018-07-26 22:44",progress:{value:66}}),a.push({title:"Ant Design Pro",avatar:"https://gw.alipayobjects.com/zos/rmsportal/sfjbOqnsXXJgNCjCzDBL.png",description:"城镇中有那么多的酒馆，她却偏偏走进了我的酒馆",owner:"周星星",startAt:"2018-07-26 22:44",progress:{value:30}}),a.push({title:"Bootstrap",avatar:"https://gw.alipayobjects.com/zos/rmsportal/siCrBXXhmvTQGWPNLBow.png",description:"那时候我只会想自己想要什么，从不想自己拥有什么",owner:"吴加好",startAt:"2018-07-26 22:44",progress:{status:"exception",value:100}});var s={name:"StandardList",components:{HeadInfo:i["default"]},data:function(){return{data:a}}},l=s,u=(n("8343"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"64b9f314",null);t["default"]=c.exports},"2d96":function(e,t,n){"use strict";n("8c3f")},"2dab":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-date-picker",{attrs:{disabled:e.disabled||e.readOnly,placeholder:e.placeholder,value:e.momVal,showTime:e.showTime,format:e.dateFormat,getCalendarContainer:e.getCalendarContainer},on:{change:e.handleDateChange}})},o=[],i=n("caaf"),a=n.n(i),s={name:"JDate",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},dateFormat:{type:String,default:"YYYY-MM-DD",required:!1},triggerChange:{type:Boolean,required:!1,default:!1},readOnly:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},showTime:{type:Boolean,required:!1,default:!1},getCalendarContainer:{type:Function,default:function(){return document.body}}},data:function(){var e=this.value;return{decorator:"",momVal:e?a()(e,this.dateFormat):null}},watch:{value:function(e){this.momVal=e?a()(e,this.dateFormat):null}},methods:{moment:a.a,handleDateChange:function(e,t){this.$emit("change",t)}},model:{prop:"value",event:"change"}},l=s,u=n("5d22"),c=Object(u["a"])(l,r,o,!1,null,null,null);t["default"]=c.exports},"2df2":function(e,t,n){"use strict";n("a935")},"2e44":function(e,t,n){"use strict";n("585a")},"2f3a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header-index-wide"},e._l(e.app,(function(t){return n("div",{key:t.code},[n("a-row",{attrs:{gutter:24}},[n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:t.name+"下载量",total:e._f("NumberFormat")(t.download)}})],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:t.name+"活跃用户数",total:e._f("NumberFormat")(t.activeUser)}})],1)],1),n("a-row",[n("a-col",[n("div",{staticClass:"my-chart",attrs:{id:t.code}})])],1),n("a-row",[n("a-col",[n("div",{staticClass:"my-chart",attrs:{id:t.code+"_total_download"}})])],1)],1)})),0)},o=[],i=n("0fea"),a=n("05ed");function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function l(e,t){return p(e)||f(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(l){o=!0,i=l}finally{try{r||null==s["return"]||s["return"]()}finally{if(o)throw i}}return n}}function p(e){if(Array.isArray(e))return e}var h=n("cacf"),m={name:"Analysis",components:{ChartCard:a["default"]},data:function(){return{loading:!0,url:{countAppDownload:"/data/app/download",countActiveUser:"/data/app/user/active",countAppDownloadPerDay:"/data/app/download/perDay",countActiveUserPerDay:"/data/app/user/active/perDay",totalAppDownloadPerDay:"/data/app/download/total/perDay"},app:[{name:"社区e家APP",code:"shequyijia",download:0,activeUser:0,perDay:{data:{},dateArr:[],downloadArr:[],activeUserArr:[]},totalDownloadPerDay:{dateArr:[],downloadArr:[]}}]}},methods:{countAppDownload:function(e){Object(i["c"])(this.url.countAppDownload,{appCode:e.code}).then((function(t){t.success&&(e.download=t.result)}))},countActiveUser:function(e){Object(i["c"])(this.url.countActiveUser,{appCode:e.code}).then((function(t){t.success&&(e.activeUser=t.result)}))},countAppDownloadPerDay:function(e){return Object(i["c"])(this.url.countAppDownloadPerDay,{appCode:e.code}).then((function(e){if(e.success)return e.result}))},countActiveUserPerDay:function(e){return Object(i["c"])(this.url.countActiveUserPerDay,{appCode:e.code}).then((function(e){if(e.success)return e.result}))},totalAppDownloadPerDay:function(e){var t=this;Object(i["c"])(this.url.totalAppDownloadPerDay,{appCode:e.code}).then((function(n){if(n.success){for(var r=0,o=Object.entries(n.result);r<o.length;r++){var i=l(o[r],2),a=i[0],s=i[1];e.totalDownloadPerDay.dateArr.push(a),e.totalDownloadPerDay.downloadArr.push(s)}t.showTotalDownloadPerDay(e)}}))},loadTotalData:function(){var e,t=s(this.app);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.countAppDownload(n),this.countActiveUser(n),this.totalAppDownloadPerDay(n)}}catch(r){t.e(r)}finally{t.f()}},loadPerDayData:function(){var e,t=this,n=this,r=s(this.app);try{var o=function(){var r=e.value;Promise.all([t.countAppDownloadPerDay(r),t.countActiveUserPerDay(r)]).then((function(e){var t=l(e,2),o=t[0],i=t[1];r.perDay={data:{},dateArr:[],downloadArr:[],activeUserArr:[]};for(var a=r.perDay.data,s=0,u=Object.entries(o);s<u.length;s++){var c=l(u[s],2),d=c[0],f=c[1];a[d]={download:f}}for(var p=0,h=Object.entries(i);p<h.length;p++){var m=l(h[p],2),g=m[0],v=m[1];a[g]=a[g]?a[g]:{},a[g].activeUser=v}var y=Object.entries(a);y.sort((function(e,t){return e[0]==t[0]?0:e[0]>t[0]?1:-1}));for(var b=0,x=y;b<x.length;b++){var w=l(x[b],2),_=w[0],C=w[1];r.perDay.dateArr.push(_),r.perDay.downloadArr.push(C.download?C.download:0),r.perDay.activeUserArr.push(C.activeUser?C.activeUser:0)}n.showPerDay(r)})).catch((function(e){n.$message.error("请求异常："+e)}))};for(r.s();!(e=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}},showPerDay:function(e){var t=h.init(document.getElementById(e.code));t.setOption({title:{text:e.name+"每日数据",left:"center",top:"2%"},legend:{data:["下载量","活跃用户数"],bottom:"12%"},tooltip:{trigger:"axis"},grid:{left:"50",right:"80",bottom:"20%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e.perDay.dateArr},yAxis:{type:"value"},dataZoom:{type:"slider",xAxisIndex:0,startValue:Math.max(e.perDay.dateArr.length-7,0),endValue:Math.max(e.perDay.dateArr.length-1,0)},series:[{name:"下载量",type:"line",data:e.perDay.downloadArr},{name:"活跃用户数",type:"line",data:e.perDay.activeUserArr}]})},showTotalDownloadPerDay:function(e){var t=h.init(document.getElementById(e.code+"_total_download"));t.setOption({title:{text:e.name+"总下载量",left:"center",top:"2%"},legend:{data:["总下载量"],bottom:"12%"},tooltip:{trigger:"axis"},grid:{left:"50",right:"80",bottom:"20%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e.totalDownloadPerDay.dateArr},yAxis:{type:"value"},dataZoom:{type:"slider",xAxisIndex:0,startValue:Math.max(e.totalDownloadPerDay.dateArr.length-7,0),endValue:Math.max(e.totalDownloadPerDay.dateArr.length-1,0)},series:[{name:"总下载量",type:"line",data:e.totalDownloadPerDay.downloadArr}]})}},created:function(){var e=this;setTimeout((function(){e.loading=!e.loading}),1e3),this.loadTotalData(),this.loadPerDayData()}},g=m,v=(n("c28c"),n("5d22")),y=Object(v["a"])(g,r,o,!1,null,"567ce4a6",null);t["default"]=y.exports},"2f5e":function(e,t,n){"use strict";n.r(t);for(var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-list"},[n("a-list",{attrs:{grid:{gutter:24,lg:3,md:2,sm:1,xs:1},dataSource:e.dataSource},scopedSlots:e._u([{key:"renderItem",fn:function(t,r){return n("a-list-item",{},[n("a-card",{attrs:{hoverable:!0}},[n("a-card-meta",[n("div",{staticStyle:{"margin-bottom":"3px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))]),n("a-avatar",{staticClass:"card-avatar",attrs:{slot:"avatar",src:t.avatar,size:"small"},slot:"avatar"}),n("div",{staticClass:"meta-cardInfo",attrs:{slot:"description"},slot:"description"},[n("div",[n("p",[e._v("活跃用户")]),n("p",[n("span",[e._v(e._s(t.activeUser)),n("span",[e._v("万")])])])]),n("div",[n("p",[e._v("新增用户")]),n("p",[e._v(e._s(e._f("NumberFormat")(t.newUser)))])])])],1),n("template",{staticClass:"ant-card-actions",slot:"actions"},[n("a",[n("a-icon",{attrs:{type:"download"}})],1),n("a",[n("a-icon",{attrs:{type:"edit"}})],1),n("a",[n("a-icon",{attrs:{type:"share-alt"}})],1),n("a",[n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link",attrs:{href:"javascript:;"}},[n("a-icon",{attrs:{type:"ellipsis"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("1st menu item")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("2nd menu item")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("3rd menu item")])])],1)],1)],1)])],2)],1)}}])})],1)},o=[],i=[],a=0;a<11;a++)i.push({title:"Alipay",avatar:"https://gw.alipayobjects.com/zos/rmsportal/WdGqmHpayyMjiEhcKoVE.png",activeUser:17,newUser:1700});var s={name:"Article",components:{},data:function(){return{dataSource:i}}},l=s,u=(n("ce31"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"748e5dcb",null);t["default"]=c.exports},"2f60":function(e,t,n){},"2f9b":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  hello world!\n")])},o=[],i={data:function(){return{description:"表单页用于向用户收集或验证信息，基础表单常见于数据项较少的表单场景。",value:1,form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){e.preventDefault(),this.form.validateFields((function(e,t){}))}}},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,null,null);t["default"]=l.exports},"2fb9":function(e,t,n){},"2fe4":function(e,t,n){"use strict";n("2a5d")},"30c2":function(e,t,n){"use strict";n("e1ba")},"30cf":function(e,t,n){"use strict";n("ebbf")},"315e":function(e,t,n){"use strict";n("6847")},"32dc":function(e,t,n){"use strict";n("7bcc")},3335:function(e,t,n){(function(t,r){e.exports=r(n("2480f"))})("undefined"!==typeof self&&self,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"01f9":function(e,t,n){"use strict";var r=n("2d00"),o=n("5ca1"),i=n("2aba"),a=n("32e9"),s=n("84f2"),l=n("41a0"),u=n("7f20"),c=n("38fd"),d=n("2b4c")("iterator"),f=!([].keys&&"next"in[].keys()),p="@@iterator",h="keys",m="values",g=function(){return this};e.exports=function(e,t,n,v,y,b,x){l(n,t,v);var w,_,C,S=function(e){if(!f&&e in M)return M[e];switch(e){case h:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",O=y==m,T=!1,M=e.prototype,D=M[d]||M[p]||y&&M[y],I=D||S(y),E=y?O?S("entries"):I:void 0,A="Array"==t&&M.entries||D;if(A&&(C=c(A.call(new e)),C!==Object.prototype&&C.next&&(u(C,k,!0),r||"function"==typeof C[d]||a(C,d,g))),O&&D&&D.name!==m&&(T=!0,I=function(){return D.call(this)}),r&&!x||!f&&!T&&M[d]||a(M,d,I),s[t]=I,s[k]=g,y)if(w={values:O?I:S(m),keys:b?I:S(h),entries:E},x)for(_ in w)_ in M||i(M,_,w[_]);else o(o.P+o.F*(f||T),t,w);return w}},"02f4":function(e,t,n){var r=n("4588"),o=n("be13");e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(i=s.charCodeAt(l),i<55296||i>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536)}}},"0390":function(e,t,n){"use strict";var r=n("02f4")(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"0bfb":function(e,t,n){"use strict";var r=n("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0d58":function(e,t,n){var r=n("ce10"),o=n("e11e");e.exports=Object.keys||function(e){return r(e,o)}},1495:function(e,t,n){var r=n("86cc"),o=n("cb7c"),i=n("0d58");e.exports=n("9e1e")?Object.defineProperties:function(e,t){o(e);var n,a=i(t),s=a.length,l=0;while(s>l)r.f(e,n=a[l++],t[n]);return e}},"214f":function(e,t,n){"use strict";n("b0c5");var r=n("2aba"),o=n("32e9"),i=n("79e5"),a=n("be13"),s=n("2b4c"),l=n("520a"),u=s("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var f=s(e),p=!i((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),h=p?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[f](""),!t})):void 0;if(!p||!h||"replace"===e&&!c||"split"===e&&!d){var m=/./[f],g=n(a,f,""[e],(function(e,t,n,r,o){return t.exec===l?p&&!o?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),v=g[0],y=g[1];r(String.prototype,e,v),o(RegExp.prototype,f,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},"230e":function(e,t,n){var r=n("d3f4"),o=n("7726").document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},"23c6":function(e,t,n){var r=n("2d95"),o=n("2b4c")("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},2621:function(e,t){t.f=Object.getOwnPropertySymbols},"2aba":function(e,t,n){var r=n("7726"),o=n("32e9"),i=n("69a8"),a=n("ca5a")("src"),s=n("fa5b"),l="toString",u=(""+s).split(l);n("8378").inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(l&&(i(n,a)||o(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},"2aeb":function(e,t,n){var r=n("cb7c"),o=n("1495"),i=n("e11e"),a=n("613b")("IE_PROTO"),s=function(){},l="prototype",u=function(){var e,t=n("230e")("iframe"),r=i.length,o="<",a=">";t.style.display="none",n("fab2").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(o+"script"+a+"document.F=Object"+o+"/script"+a),e.close(),u=e.F;while(r--)delete u[l][i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[l]=r(e),n=new s,s[l]=null,n[a]=e):n=u(),void 0===t?n:o(n,t)}},"2b4c":function(e,t,n){var r=n("5537")("wks"),o=n("ca5a"),i=n("7726").Symbol,a="function"==typeof i,s=e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))};s.store=r},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"2fdb":function(e,t,n){"use strict";var r=n("5ca1"),o=n("d2c8"),i="includes";r(r.P+r.F*n("5147")(i),"String",{includes:function(e){return!!~o(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(e,t,n){var r=n("86cc"),o=n("4630");e.exports=n("9e1e")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"38fd":function(e,t,n){var r=n("69a8"),o=n("4bf8"),i=n("613b")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},"41a0":function(e,t,n){"use strict";var r=n("2aeb"),o=n("4630"),i=n("7f20"),a={};n("32e9")(a,n("2b4c")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},"456d":function(e,t,n){var r=n("4bf8"),o=n("0d58");n("5eda")("keys",(function(){return function(e){return o(r(e))}}))},4588:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"4bf8":function(e,t,n){var r=n("be13");e.exports=function(e){return Object(r(e))}},5147:function(e,t,n){var r=n("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(o){}}return!0}},"520a":function(e,t,n){"use strict";var r=n("0bfb"),o=RegExp.prototype.exec,i=String.prototype.replace,a=o,s="lastIndex",l=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e[s]||0!==t[s]}(),u=void 0!==/()??/.exec("")[1],c=l||u;c&&(a=function(e){var t,n,a,c,d=this;return u&&(n=new RegExp("^"+d.source+"$(?!\\s)",r.call(d))),l&&(t=d[s]),a=o.call(d,e),l&&a&&(d[s]=d.global?a.index+a[0].length:t),u&&a&&a.length>1&&i.call(a[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a}),e.exports=a},"52a7":function(e,t){t.f={}.propertyIsEnumerable},5537:function(e,t,n){var r=n("8378"),o=n("7726"),i="__core-js_shared__",a=o[i]||(o[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(e,t,n){var r=n("7726"),o=n("8378"),i=n("32e9"),a=n("2aba"),s=n("9b43"),l="prototype",u=function(e,t,n){var c,d,f,p,h=e&u.F,m=e&u.G,g=e&u.S,v=e&u.P,y=e&u.B,b=m?r:g?r[t]||(r[t]={}):(r[t]||{})[l],x=m?o:o[t]||(o[t]={}),w=x[l]||(x[l]={});for(c in m&&(n=t),n)d=!h&&b&&void 0!==b[c],f=(d?b:n)[c],p=y&&d?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,b&&a(b,c,f,e&u.U),x[c]!=f&&i(x,c,p),v&&w[c]!=f&&(w[c]=f)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"5eda":function(e,t,n){var r=n("5ca1"),o=n("8378"),i=n("79e5");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},"5f1b":function(e,t,n){"use strict";var r=n("23c6"),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var i=n.call(e,t);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"613b":function(e,t,n){var r=n("5537")("keys"),o=n("ca5a");e.exports=function(e){return r[e]||(r[e]=o(e))}},"626a":function(e,t,n){var r=n("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},6762:function(e,t,n){"use strict";var r=n("5ca1"),o=n("c366")(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(e,t,n){var r=n("626a"),o=n("be13");e.exports=function(e){return r(o(e))}},"69a8":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"6a99":function(e,t,n){var r=n("d3f4");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},7333:function(e,t,n){"use strict";var r=n("0d58"),o=n("2621"),i=n("52a7"),a=n("4bf8"),s=n("626a"),l=Object.assign;e.exports=!l||n("79e5")((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){var n=a(e),l=arguments.length,u=1,c=o.f,d=i.f;while(l>u){var f,p=s(arguments[u++]),h=c?r(p).concat(c(p)):r(p),m=h.length,g=0;while(m>g)d.call(p,f=h[g++])&&(n[f]=p[f])}return n}:l},7726:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(e,t,n){var r=n("4588"),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"7f20":function(e,t,n){var r=n("86cc").f,o=n("69a8"),i=n("2b4c")("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},8378:function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"84f2":function(e,t){e.exports={}},"86cc":function(e,t,n){var r=n("cb7c"),o=n("c69a"),i=n("6a99"),a=Object.defineProperty;t.f=n("9e1e")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"9b43":function(e,t,n){var r=n("d8e8");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,n){var r=n("2b4c")("unscopables"),o=Array.prototype;void 0==o[r]&&n("32e9")(o,r,{}),e.exports=function(e){o[r][e]=!0}},"9def":function(e,t,n){var r=n("4588"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},"9e1e":function(e,t,n){e.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a352:function(t,n){t.exports=e},a481:function(e,t,n){"use strict";var r=n("cb7c"),o=n("4bf8"),i=n("9def"),a=n("4588"),s=n("0390"),l=n("5f1b"),u=Math.max,c=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};n("214f")("replace",2,(function(e,t,n,m){return[function(r,o){var i=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=m(n,e,this,t);if(o.done)return o.value;var d=r(e),f=String(this),p="function"===typeof t;p||(t=String(t));var v=d.global;if(v){var y=d.unicode;d.lastIndex=0}var b=[];while(1){var x=l(d,f);if(null===x)break;if(b.push(x),!v)break;var w=String(x[0]);""===w&&(d.lastIndex=s(f,i(d.lastIndex),y))}for(var _="",C=0,S=0;S<b.length;S++){x=b[S];for(var k=String(x[0]),O=u(c(a(x.index),f.length),0),T=[],M=1;M<x.length;M++)T.push(h(x[M]));var D=x.groups;if(p){var I=[k].concat(T,O,f);void 0!==D&&I.push(D);var E=String(t.apply(void 0,I))}else E=g(k,f,O,T,D,t);O>=C&&(_+=f.slice(C,O)+E,C=O+k.length)}return _+f.slice(C)}];function g(e,t,r,i,a,s){var l=r+e.length,u=i.length,c=p;return void 0!==a&&(a=o(a),c=f),n.call(s,c,(function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(l);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return n;if(c>u){var f=d(c/10);return 0===f?n:f<=u?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):n}s=i[c-1]}return void 0===s?"":s}))}}))},aae3:function(e,t,n){var r=n("d3f4"),o=n("2d95"),i=n("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},ac6a:function(e,t,n){for(var r=n("cadf"),o=n("0d58"),i=n("2aba"),a=n("7726"),s=n("32e9"),l=n("84f2"),u=n("2b4c"),c=u("iterator"),d=u("toStringTag"),f=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(p),m=0;m<h.length;m++){var g,v=h[m],y=p[v],b=a[v],x=b&&b.prototype;if(x&&(x[c]||s(x,c,f),x[d]||s(x,d,v),l[v]=f,y))for(g in r)x[g]||i(x,g,r[g],!0)}},b0c5:function(e,t,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,n){var r=n("6821"),o=n("9def"),i=n("77f1");e.exports=function(e){return function(t,n,a){var s,l=r(t),u=o(l.length),c=i(a,u);if(e&&n!=n){while(u>c)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},c649:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return l}));n("a481");function r(){return"undefined"!==typeof window?window.console:e.console}var o=r();function i(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}var a=/-(\w)/g,s=i((function(e){return e.replace(a,(function(e,t){return t?t.toUpperCase():""}))}));function l(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function u(e,t,n){var r=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,r)}}).call(this,n("c8ba"))},c69a:function(e,t,n){e.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},ca5a:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},cadf:function(e,t,n){"use strict";var r=n("9c6c"),o=n("d53b"),i=n("84f2"),a=n("6821");e.exports=n("01f9")(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},cb7c:function(e,t,n){var r=n("d3f4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},ce10:function(e,t,n){var r=n("69a8"),o=n("6821"),i=n("c366")(!1),a=n("613b")("IE_PROTO");e.exports=function(e,t){var n,s=o(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);while(t.length>l)r(s,n=t[l++])&&(~i(u,n)||u.push(n));return u}},d2c8:function(e,t,n){var r=n("aae3"),o=n("be13");e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},d3f4:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},d53b:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(e,t,n){"use strict";var r=n("5ca1"),o=n("9def"),i=n("d2c8"),a="startsWith",s=""[a];r(r.P+r.F*n("5147")(a),"String",{startsWith:function(e){var t=i(this,e,a),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},f6fd:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(r){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},f751:function(e,t,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},fa5b:function(e,t,n){e.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(e,t,n){var r=n("7726").document;e.exports=r&&r.documentElement},fb15:function(e,t,n){"use strict";var r;(n.r(t),"undefined"!==typeof window)&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));n("f751"),n("f559"),n("ac6a"),n("cadf"),n("456d");function o(e){if(Array.isArray(e))return e}function i(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(l){o=!0,i=l}finally{try{r||null==s["return"]||s["return"]()}finally{if(o)throw i}}return n}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return o(e)||i(e,t)||s(e,t)||l()}n("6762"),n("2fdb");function c(e){if(Array.isArray(e))return a(e)}function d(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e){return c(e)||d(e)||s(e)||f()}var h=n("a352"),m=n.n(h),g=n("c649");function v(e,t,n){return void 0===n||(e=e||{},e[t]=n),e}function y(e,t){return e.map((function(e){return e.elm})).indexOf(t)}function b(e,t,n,r){if(!e)return[];var o=e.map((function(e){return e.elm})),i=t.length-r,a=p(t).map((function(e,t){return t>=i?o.length:o.indexOf(e)}));return n?a.filter((function(e){return-1!==e})):a}function x(e,t){var n=this;this.$nextTick((function(){return n.$emit(e.toLowerCase(),t)}))}function w(e){var t=this;return function(n){null!==t.realList&&t["onDrag"+e](n),x.call(t,e,n)}}function _(e){return["transition-group","TransitionGroup"].includes(e)}function C(e){if(!e||1!==e.length)return!1;var t=u(e,1),n=t[0].componentOptions;return!!n&&_(n.tag)}function S(e,t,n){return e[n]||(t[n]?t[n]():void 0)}function k(e,t,n){var r=0,o=0,i=S(t,n,"header");i&&(r=i.length,e=e?[].concat(p(i),p(e)):p(i));var a=S(t,n,"footer");return a&&(o=a.length,e=e?[].concat(p(e),p(a)):p(a)),{children:e,headerOffset:r,footerOffset:o}}function O(e,t){var n=null,r=function(e,t){n=v(n,e,t)},o=Object.keys(e).filter((function(e){return"id"===e||e.startsWith("data-")})).reduce((function(t,n){return t[n]=e[n],t}),{});if(r("attrs",o),!t)return n;var i=t.on,a=t.props,s=t.attrs;return r("on",i),r("props",a),Object.assign(n.attrs,s),n}var T=["Start","Add","Remove","Update","End"],M=["Choose","Unchoose","Sort","Filter","Clone"],D=["Move"].concat(T,M).map((function(e){return"on"+e})),I=null,E={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(e){return e}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},A={name:"draggable",inheritAttrs:!1,props:E,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(e){var t=this.$slots.default;this.transitionMode=C(t);var n=k(t,this.$slots,this.$scopedSlots),r=n.children,o=n.headerOffset,i=n.footerOffset;this.headerOffset=o,this.footerOffset=i;var a=O(this.$attrs,this.componentData);return e(this.getTag(),a,r)},created:function(){null!==this.list&&null!==this.value&&g["b"].error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&g["b"].warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&g["b"].warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var e=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var t={};T.forEach((function(n){t["on"+n]=w.call(e,n)})),M.forEach((function(n){t["on"+n]=x.bind(e,n)}));var n=Object.keys(this.$attrs).reduce((function(t,n){return t[Object(g["a"])(n)]=e.$attrs[n],t}),{}),r=Object.assign({},this.options,n,t,{onMove:function(t,n){return e.onDragMove(t,n)}});!("draggable"in r)&&(r.draggable=">*"),this._sortable=new m.a(this.rootContainer,r),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){this.updateOptions(e)},deep:!0},$attrs:{handler:function(e){this.updateOptions(e)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var e=this._vnode.fnOptions;return e&&e.functional},getTag:function(){return this.tag||this.element},updateOptions:function(e){for(var t in e){var n=Object(g["a"])(t);-1===D.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick((function(){e.visibleIndexes=b(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode,e.footerOffset)}))},getUnderlyingVm:function(e){var t=y(this.getChildrenNodes()||[],e);if(-1===t)return null;var n=this.realList[t];return{index:t,element:n}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&_(t.$options._componentTag)?t.$parent:!("realList"in t)&&1===t.$children.length&&"realList"in t.$children[0]?t.$children[0]:t},emitChanges:function(e){var t=this;this.$nextTick((function(){t.$emit("change",e)}))},alterList:function(e){if(this.list)e(this.list);else{var t=p(this.value);e(t),this.$emit("input",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,p(e))};this.alterList(t)},updatePosition:function(e,t){var n=function(n){return n.splice(t,0,n.splice(e,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(e){var t=e.to,n=e.related,r=this.getUnderlyingPotencialDraggableComponent(t);if(!r)return{component:r};var o=r.realList,i={list:o,component:r};if(t!==n&&o&&r.getUnderlyingVm){var a=r.getUnderlyingVm(n);if(a)return Object.assign(a,i)}return i},getVmIndex:function(e){var t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){var t=this.getChildrenNodes();t[e].data=null;var n=this.getComponent();n.children=[],n.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),I=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){Object(g["d"])(e.item);var n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();var r={element:t,newIndex:n};this.emitChanges({added:r})}},onDragRemove:function(e){if(Object(g["c"])(this.rootContainer,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context.index;this.spliceList(t,1);var n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})}else Object(g["d"])(e.clone)},onDragUpdate:function(e){Object(g["d"])(e.item),Object(g["c"])(e.from,e.item,e.oldIndex);var t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);var r={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:r})},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},computeFutureIndex:function(e,t){if(!e.element)return 0;var n=p(t.to.children).filter((function(e){return"none"!==e.style["display"]})),r=n.indexOf(t.related),o=e.component.getVmIndex(r),i=-1!==n.indexOf(I);return i||!t.willInsertAfter?o:o+1},onDragMove:function(e,t){var n=this.move;if(!n||!this.realList)return!0;var r=this.getRelatedContextFromMoveEvent(e),o=this.context,i=this.computeFutureIndex(r,e);Object.assign(o,{futureIndex:i});var a=Object.assign({},e,{relatedContext:r,draggedContext:o});return n(a,t)},onDragEnd:function(){this.computeIndexes(),I=null}}};"undefined"!==typeof window&&"Vue"in window&&window.Vue.component("draggable",A);var L=A;t["default"]=L}})["default"]}))},33357:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1200,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-card",{staticClass:"card",attrs:{bordered:!1}},[n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"任务名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.name",{rules:[{required:!0,message:"请输入任务名称",whitespace:!0}]}],expression:"[ 'task.name', {rules: [{ required: true, message: '请输入任务名称', whitespace: true}]} ]"}],attrs:{placeholder:"请输入任务名称"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"任务描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.description",{rules:[{required:!0,message:"请输入任务描述",whitespace:!0}]}],expression:"['task.description', {rules: [{ required: true, message: '请输入任务描述', whitespace: true}]} ]"}],attrs:{placeholder:"请输入任务描述"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"执行人"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.executor",{rules:[{required:!0,message:"请选择执行人"}]}],expression:"['task.executor',{rules: [{ required: true, message: '请选择执行人'}]}  ]"}],attrs:{placeholder:"请选择执行人"}},[n("a-select-option",{attrs:{value:"黄丽丽"}},[e._v("黄丽丽")]),n("a-select-option",{attrs:{value:"李大刀"}},[e._v("李大刀")])],1)],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"责任人"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.manager",{rules:[{required:!0,message:"请选择责任人"}]}],expression:"['task.manager',  {rules: [{ required: true, message: '请选择责任人'}]} ]"}],attrs:{placeholder:"请选择责任人"}},[n("a-select-option",{attrs:{value:"王伟"}},[e._v("王伟")]),n("a-select-option",{attrs:{value:"李红军"}},[e._v("李红军")])],1)],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"提醒时间"}},[n("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.time",{rules:[{required:!0,message:"请选择提醒时间"}]}],expression:"['task.time', {rules: [{ required: true, message: '请选择提醒时间'}]} ]"}],staticStyle:{width:"100%"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{label:"任务类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.type",{rules:[{required:!0,message:"请选择任务类型"}]}],expression:"['task.type', {rules: [{ required: true, message: '请选择任务类型'}]} ]"}],attrs:{placeholder:"请选择任务类型"}},[n("a-select-option",{attrs:{value:"定时执行"}},[e._v("定时执行")]),n("a-select-option",{attrs:{value:"周期执行"}},[e._v("周期执行")])],1)],1)],1)],1)],1),n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"Tab 1"}},[n("a-table",{attrs:{columns:e.columns,dataSource:e.data,pagination:!1,size:"middle"},scopedSlots:e._u([e._l(["name","workId","department"],(function(t,r){return{key:t,fn:function(o,i,a){return[n("a-tooltip",{attrs:{title:"必填项",defaultVisible:!1,overlayStyle:"{ color: 'red' }"}},[i.editable?n("a-input",{key:t,staticStyle:{margin:"-5px 0"},attrs:{value:o,placeholder:e.columns[r].title},on:{change:function(n){return e.handlerRowChange(n.target.value,i.key,t)}}}):[e._v(e._s(o))]],2)]}}})),{key:"operation",fn:function(t,r,o){return[r.editable?[r.isNew?n("span",[n("a",{on:{click:function(t){return e.saveRow(r.key)}}},[e._v("添加")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"是否要删除此行？"},on:{confirm:function(t){return e.removeRow(r.key)}}},[n("a",[e._v("删除")])])],1):n("span",[n("a",{on:{click:function(t){return e.saveRow(r.key)}}},[e._v("保存")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.cancelEditRow(r.key)}}},[e._v("取消")])],1)]:n("span",[n("a",{on:{click:function(t){return e.editRow(r.key)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"是否要删除此行？"},on:{confirm:function(t){return e.removeRow(r.key)}}},[n("a",[e._v("删除")])])],1)]}}],null,!0)}),n("a-button",{staticStyle:{width:"100%","margin-top":"16px","margin-bottom":"8px"},attrs:{type:"dashed",icon:"plus"},on:{click:e.newRow}},[e._v("新增成员")])],1),n("a-tab-pane",{key:"2",attrs:{tab:"Tab 2",forceRender:""}},[e._v("\n          Content of Tab Pane 2\n        ")]),n("a-tab-pane",{key:"3",attrs:{tab:"Tab 3"}},[e._v("Content of Tab Pane 3")])],1)],1)],1)],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=n("caaf"),u=n.n(l);function c(e){return h(e)||p(e)||f(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function p(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function h(e){if(Array.isArray(e))return m(e)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g={name:"JeecgDemoTabsModal",data:function(){return{title:"操作",visible:!1,model:{},columns:[{title:"成员姓名",dataIndex:"name",key:"name",width:"20%",scopedSlots:{customRender:"name"}},{title:"工号",dataIndex:"workId",key:"workId",width:"20%",scopedSlots:{customRender:"workId"}},{title:"所属部门",dataIndex:"department",key:"department",width:"40%",scopedSlots:{customRender:"department"}},{title:"操作",key:"action",scopedSlots:{customRender:"operation"}}],data:[{key:"1",name:"小明",workId:"001",editable:!1,department:"行政部"},{key:"2",name:"李莉",workId:"002",editable:!1,department:"IT部"},{key:"3",name:"王小帅",workId:"003",editable:!1,department:"财务部"}],confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/test/jeecgDemo/add",edit:"/test/jeecgDemo/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"name","keyWord","sex","age","email","content")),t.form.setFieldsValue({punchTime:t.model.punchTime?u()(t.model.punchTime,"YYYY-MM-DD HH:mm:ss"):null}),t.form.setFieldsValue({birthday:t.model.birthday?u()(t.model.birthday):null})}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);s.punchTime=s.punchTime?s.punchTime.format("YYYY-MM-DD HH:mm:ss"):null,s.birthday=s.birthday?s.birthday.format():null,Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},newRow:function(){var e=Math.round((new Date).getTime()).toString();this.data.push({key:e,name:"",workId:"",department:"",editable:!0,isNew:!0})},removeRow:function(e){var t=this.data.filter((function(t){return t.key!==e}));this.data=t},saveRow:function(e){var t=this.data.filter((function(t){return t.key===e}))[0];t.editable=!1,t.isNew=!1},handlerRowChange:function(e,t,n){var r=c(this.data),o=r.filter((function(e){return t===e.key}))[0];o&&(o[n]=e,this.data=r)},editRow:function(e){var t=this.data.filter((function(t){return t.key===e}))[0];t.editable=!t.editable},cancelEditRow:function(e){var t=this.data.filter((function(t){return t.key===e}))[0];t.editable=!1}}},v=g,y=(n("3517"),n("5d22")),b=Object(y["a"])(v,r,o,!1,null,"e1837066",null);t["default"]=b.exports},"33b1":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-col",{attrs:{md:24,sm:24}},[n("a-form-item",{attrs:{label:"Note",labelCol:{span:7},wrapperCol:{span:15}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["note",{rules:[{required:!0,message:"Please input your note!"}]}],expression:"['note',{rules: [{ required: true, message: 'Please input your note!' }]}]"}]})],1)],1),n("a-col",{attrs:{md:24,sm:24}},[n("a-form-item",{attrs:{label:"Gender",labelCol:{span:7},wrapperCol:{span:15}}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["gender",{rules:[{required:!0,message:"Please select your gender!"}]}],expression:"['gender',{rules: [{ required: true, message: 'Please select your gender!' }]}]"}],attrs:{placeholder:"Select a option and change input text above"},on:{change:this.handleSelectChange}},[n("a-select-option",{attrs:{value:"male"}},[e._v("male")]),n("a-select-option",{attrs:{value:"female"}},[e._v("female")])],1)],1)],1),n("a-col",{attrs:{md:24,sm:24}},[n("a-form-item",{attrs:{label:"Gender",labelCol:{span:7},wrapperCol:{span:15}}},[n("a-cascader",{attrs:{options:e.areaOptions,showSearch:{filter:e.filter},placeholder:"Please select"},on:{change:e.onChange}})],1)],1),n("a-form-item",{attrs:{wrapperCol:{span:12,offset:5}}},[n("a-col",{attrs:{md:24,sm:24}},[n("a-button",{attrs:{type:"primary",htmlType:"submit"}},[e._v("Submit")])],1)],1)],1)],1)},o=[],i=n("0fea"),a={data:function(){return{formLayout:"horizontal",form:this.$form.createForm(this),areaOptions:[]}},methods:{handleSubmit:function(e){e.preventDefault(),this.form.validateFields((function(e,t){}))},handleSelectChange:function(e){this.form.setFieldsValue({note:"Hi, ".concat("male"===e?"man":"lady","!")})},onChange:function(e,t){},filter:function(e,t){return t.some((function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1}))}},created:function(){var e=this;Object(i["c"])("/api/area").then((function(t){e.areaOptions=t}))}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,null,null);t["default"]=u.exports},"33e6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"account-settings-info-view"},[n("a-row",{attrs:{gutter:16}},[n("a-col",{attrs:{md:24,lg:16}},[n("a-form",{attrs:{layout:"vertical"}},[n("a-form-item",{attrs:{label:"昵称"}},[n("a-input",{attrs:{placeholder:"给自己起个名字"}})],1),n("a-form-item",{attrs:{label:"Bio"}},[n("a-textarea",{attrs:{rows:"4",placeholder:"You are not alone."}})],1),n("a-form-item",{attrs:{label:"电子邮件",required:!1}},[n("a-input",{attrs:{placeholder:"exp@admin.com"}})],1),n("a-form-item",{attrs:{label:"加密方式",required:!1}},[n("a-select",{attrs:{defaultValue:"aes-256-cfb"}},[n("a-select-option",{attrs:{value:"aes-256-cfb"}},[e._v("aes-256-cfb")]),n("a-select-option",{attrs:{value:"aes-128-cfb"}},[e._v("aes-128-cfb")]),n("a-select-option",{attrs:{value:"chacha20"}},[e._v("chacha20")])],1)],1),n("a-form-item",{attrs:{label:"连接密码",required:!1}},[n("a-input",{attrs:{placeholder:"h3gSbecd"}})],1),n("a-form-item",{attrs:{label:"登陆密码",required:!1}},[n("a-input",{attrs:{placeholder:"密码"}})],1),n("a-form-item",[n("a-button",{attrs:{type:"primary"}},[e._v("提交")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("保存")])],1)],1)],1),n("a-col",{style:{minHeight:"180px"},attrs:{md:24,lg:8}},[n("div",{staticClass:"ant-upload-preview",on:{click:function(t){return e.$refs.modal.edit(1)}}},[n("a-icon",{staticClass:"upload-icon",attrs:{type:"cloud-upload-o"}}),n("div",{staticClass:"mask"},[n("a-icon",{attrs:{type:"plus"}})],1),n("img",{attrs:{src:e.option.img}})],1)])],1),n("avatar-modal",{ref:"modal"})],1)},o=[],i=n("8d90"),a={components:{AvatarModal:i["default"]},data:function(){return{preview:{},option:{img:"/avatar2.jpg",info:!0,size:1,outputType:"jpeg",canScale:!1,autoCrop:!0,autoCropWidth:180,autoCropHeight:180,fixedBox:!0,fixed:!0,fixedNumber:[1,1]}}},methods:{}},s=a,l=(n("0bd7"),n("5d22")),u=Object(l["a"])(s,r,o,!1,null,"2ce253bc",null);t["default"]=u.exports},"343d":function(e,t,n){},3517:function(e,t,n){"use strict";n("717f")},3521:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"standard-table"},[n("div",{staticClass:"alert"},[n("a-alert",{attrs:{type:"info","show-icon":!0}},[n("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n        已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRows.length))]),e._v("  \n        "),e._l(e.needTotalList,(function(t,r){return t.needTotal?[e._v("\n          "+e._s(t.title)+" 总计 \n          "),n("a",{key:r,staticStyle:{"font-weight":"600"}},[e._v("\n            "+e._s(t.customRender?t.customRender(t.total):t.total)+"\n          ")]),e._v("  \n        ")]:e._e()})),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])],2)])],1),n("a-table",{attrs:{size:e.size,bordered:e.bordered,loading:e.loading,columns:e.columns,dataSource:e.current,rowKey:e.rowKey,pagination:e.pagination,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.updateSelect}}})],1)},o=[];function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={name:"StandardTable",props:{data:{type:Function,required:!0},dataSource:{type:Array,default:function(){return[]}},columns:{type:Array,required:!0},pageSize:{type:Number,default:10},pageNum:{type:Number,default:1},pageSizeOptions:{type:Array,default:function(){return["10","20","30","40","50"]}},responseParamsName:{type:Object,default:function(){return{}}},bordered:{type:Boolean,default:!1},size:{type:String,default:"default"},rowKey:{type:String,default:""},selectedRows:{type:Array,default:null}},data:function(){return{needTotalList:[],selectedRowKeys:[],loading:!0,total:0,pageNumber:this.pageNum,currentPageSize:this.pageSize,defaultCurrent:1,sortParams:{},current:[],pagination:{},paramsName:{}}},created:function(){this.paramsName=Object.assign({},{pageNumber:"pageNo",pageSize:"pageSize",total:"totalCount",results:"data",sortColumns:"sortColumns"},this.responseParamsName),this.needTotalList=this.initTotalList(this.columns),this.loadData({pageNum:this.pageNumber})},methods:{updateSelect:function(e,t){this.selectedRowKeys=e;var n=this.needTotalList;this.needTotalList=n.map((function(e){return a(a({},e),{},{total:t.reduce((function(t,n){return t+n[e.dataIndex]}),0)})})),this.$emit("change",e,t)},initTotalList:function(e){var t=[];return e.forEach((function(e){e.needTotal&&t.push(a(a({},e),{},{total:0}))})),t},loadData:function(e){var t=this;t.loading=!0,e=Object.assign({},e);var n=Object.assign({},t.sortParams);n[t.paramsName.pageNumber]=e.pageNum||t.pageNumber,n[t.paramsName.pageSize]=e.pageSize||t.currentPageSize,e.pageNum&&(t.pageNumber=e.pageNum),e.pageSize&&(t.currentPageSize=e.pageSize);var r=t.data(n);r.then((function(e){if(e){var n=e[t.paramsName.results];n=n instanceof Array&&n||[],t.current=n,t.$emit("update:currentData",t.current.slice()),t.$emit("dataloaded",t.current.slice()),t.total=1*e[t.paramsName.total],t.pagination=t.pager(),t.loading=!1}else t.loading=!1}),(function(){t.loading=!1}))},onPagerChange:function(e,t){this.pageNumber=e,this.loadData({pageNum:e})},onPagerSizeChange:function(e,t){this.currentPageSize=t},onClearSelected:function(){this.selectedRowKeys=[],this.updateSelect([],[])},pager:function(){return{total:this.total,showTotal:function(e){return"共有 ".concat(e," 条")},showSizeChanger:!0,pageSizeOptions:this.pageSizeOptions,pageSize:this.pageSize,defaultCurrent:this.defaultCurrent,onChange:this.onPagerChange,onShowSizeChange:this.onPagerSizeChange}}},watch:{selectedRows:function(e){this.needTotalList=this.needTotalList.map((function(t){return a(a({},t),{},{total:e.reduce((function(e,n){return e+n[t.dataIndex]}),0)})}))}}},u=l,c=(n("d1c8"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"1cb7fdee",null);t["default"]=d.exports},3564:function(e,t,n){(function(e){e(n("fc0f"))})((function(e){"use strict";e.defineMode("javascript",(function(t,n){var r,o,i=t.indentUnit,a=n.statementIndent,s=n.jsonld,l=n.json||s,u=n.typescript,c=n.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),o=e("keyword d"),i=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:o,break:o,continue:o,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),f=/[+\-*&%=<>!?|~^@]/,p=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function h(e){var t,n=!1,r=!1;while(null!=(t=e.next())){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function m(e,t,n){return r=e,o=n,t}function g(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=v(n),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return m("number","number");if("."==n&&e.match(".."))return m("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return m(n);if("="==n&&e.eat(">"))return m("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return m("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),m("number","number");if("/"==n)return e.eat("*")?(t.tokenize=y,y(e,t)):e.eat("/")?(e.skipToEnd(),m("comment","comment")):tt(e,t,1)?(h(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),m("regexp","string-2")):(e.eat("="),m("operator","operator",e.current()));if("`"==n)return t.tokenize=b,b(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),m("meta","meta");if("#"==n&&e.eatWhile(c))return m("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),m("comment","comment");if(f.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-|&?]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?m("."):m("operator","operator",e.current());if(c.test(n)){e.eatWhile(c);var r=e.current();if("."!=t.lastType){if(d.propertyIsEnumerable(r)){var o=d[r];return m(o.type,o.style,r)}if("async"==r&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return m("async","keyword",r)}return m("variable","variable",r)}}function v(e){return function(t,n){var r,o=!1;if(s&&"@"==t.peek()&&t.match(p))return n.tokenize=g,m("jsonld-keyword","meta");while(null!=(r=t.next())){if(r==e&&!o)break;o=!o&&"\\"==r}return o||(n.tokenize=g),m("string","string")}}function y(e,t){var n,r=!1;while(n=e.next()){if("/"==n&&r){t.tokenize=g;break}r="*"==n}return m("comment","comment")}function b(e,t){var n,r=!1;while(null!=(n=e.next())){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=g;break}r=!r&&"\\"==n}return m("quasi","string-2",e.current())}var x="([{}])";function w(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(u){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var o=0,i=!1,a=n-1;a>=0;--a){var s=e.string.charAt(a),l=x.indexOf(s);if(l>=0&&l<3){if(!o){++a;break}if(0==--o){"("==s&&(i=!0);break}}else if(l>=3&&l<6)++o;else if(c.test(s))i=!0;else if(/["'\/`]/.test(s))for(;;--a){if(0==a)return;var d=e.string.charAt(a-1);if(d==s&&"\\"!=e.string.charAt(a-2)){a--;break}}else if(i&&!o){++a;break}}i&&!o&&(t.fatArrowAt=a)}}var _={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function C(e,t,n,r,o,i){this.indented=e,this.column=t,this.type=n,this.prev=o,this.info=i,null!=r&&(this.align=r)}function S(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}function k(e,t,n,r,o){var i=e.cc;O.state=e,O.stream=o,O.marked=null,O.cc=i,O.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);while(1){var a=i.length?i.pop():l?$:H;if(a(n,r)){while(i.length&&i[i.length-1].lex)i.pop()();return O.marked?O.marked:"variable"==n&&S(e,r)?"variable-2":t}}}var O={state:null,column:null,marked:null,cc:null};function T(){for(var e=arguments.length-1;e>=0;e--)O.cc.push(arguments[e])}function M(){return T.apply(null,arguments),!0}function D(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function I(e){var t=O.state;if(O.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=E(e,t.context);if(null!=r)return void(t.context=r)}else if(!D(e,t.localVars))return void(t.localVars=new j(e,t.localVars));n.globalVars&&!D(e,t.globalVars)&&(t.globalVars=new j(e,t.globalVars))}function E(e,t){if(t){if(t.block){var n=E(e,t.prev);return n?n==t.prev?t:new L(n,t.vars,!0):null}return D(e,t.vars)?t:new L(t.prev,new j(e,t.vars),!1)}return null}function A(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function L(e,t,n){this.prev=e,this.vars=t,this.block=n}function j(e,t){this.name=e,this.next=t}var N=new j("this",new j("arguments",null));function P(){O.state.context=new L(O.state.context,O.state.localVars,!1),O.state.localVars=N}function R(){O.state.context=new L(O.state.context,O.state.localVars,!0),O.state.localVars=null}function B(){O.state.localVars=O.state.context.vars,O.state.context=O.state.context.prev}function F(e,t){var n=function(){var n=O.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var o=n.lexical;o&&")"==o.type&&o.align;o=o.prev)r=o.indented;n.lexical=new C(r,O.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function z(){var e=O.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function V(e){function t(n){return n==e?M():";"==e||"}"==n||")"==n||"]"==n?T():M(t)}return t}function H(e,t){return"var"==e?M(F("vardef",t),ke,V(";"),z):"keyword a"==e?M(F("form"),W,H,z):"keyword b"==e?M(F("form"),H,z):"keyword d"==e?O.stream.match(/^\s*$/,!1)?M():M(F("stat"),Y,V(";"),z):"debugger"==e?M(V(";")):"{"==e?M(F("}"),R,de,z,B):";"==e?M():"if"==e?("else"==O.state.lexical.info&&O.state.cc[O.state.cc.length-1]==z&&O.state.cc.pop()(),M(F("form"),W,H,z,Ee)):"function"==e?M(Ne):"for"==e?M(F("form"),Ae,H,z):"class"==e||u&&"interface"==t?(O.marked="keyword",M(F("form","class"==e?e:t),ze,z)):"variable"==e?u&&"declare"==t?(O.marked="keyword",M(H)):u&&("module"==t||"enum"==t||"type"==t)&&O.stream.match(/^\s*\w/,!1)?(O.marked="keyword","enum"==t?M(Ze):"type"==t?M(Re,V("operator"),ge,V(";")):M(F("form"),Oe,V("{"),F("}"),de,z,z)):u&&"namespace"==t?(O.marked="keyword",M(F("form"),$,H,z)):u&&"abstract"==t?(O.marked="keyword",M(H)):M(F("stat"),oe):"switch"==e?M(F("form"),W,V("{"),F("}","switch"),R,de,z,z,B):"case"==e?M($,V(":")):"default"==e?M(V(":")):"catch"==e?M(F("form"),P,U,H,z,B):"export"==e?M(F("stat"),$e,z):"import"==e?M(F("stat"),We,z):"async"==e?M(H):"@"==t?M($,H):T(F("stat"),$,V(";"),z)}function U(e){if("("==e)return M(Be,V(")"))}function $(e,t){return G(e,t,!1)}function q(e,t){return G(e,t,!0)}function W(e){return"("!=e?T():M(F(")"),Y,V(")"),z)}function G(e,t,n){if(O.state.fatArrowAt==O.stream.start){var r=n?ee:Q;if("("==e)return M(P,F(")"),ue(Be,")"),z,V("=>"),r,B);if("variable"==e)return T(P,Oe,V("=>"),r,B)}var o=n?X:K;return _.hasOwnProperty(e)?M(o):"function"==e?M(Ne,o):"class"==e||u&&"interface"==t?(O.marked="keyword",M(F("form"),Fe,z)):"keyword c"==e||"async"==e?M(n?q:$):"("==e?M(F(")"),Y,V(")"),z,o):"operator"==e||"spread"==e?M(n?q:$):"["==e?M(F("]"),Je,z,o):"{"==e?ce(ae,"}",null,o):"quasi"==e?T(J,o):"new"==e?M(te(n)):"import"==e?M($):M()}function Y(e){return e.match(/[;\}\)\],]/)?T():T($)}function K(e,t){return","==e?M(Y):X(e,t,!1)}function X(e,t,n){var r=0==n?K:X,o=0==n?$:q;return"=>"==e?M(P,n?ee:Q,B):"operator"==e?/\+\+|--/.test(t)||u&&"!"==t?M(r):u&&"<"==t&&O.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?M(F(">"),ue(ge,">"),z,r):"?"==t?M($,V(":"),o):M(o):"quasi"==e?T(J,r):";"!=e?"("==e?ce(q,")","call",r):"."==e?M(ie,r):"["==e?M(F("]"),Y,V("]"),z,r):u&&"as"==t?(O.marked="keyword",M(ge,r)):"regexp"==e?(O.state.lastType=O.marked="operator",O.stream.backUp(O.stream.pos-O.stream.start-1),M(o)):void 0:void 0}function J(e,t){return"quasi"!=e?T():"${"!=t.slice(t.length-2)?M(J):M($,Z)}function Z(e){if("}"==e)return O.marked="string-2",O.state.tokenize=b,M(J)}function Q(e){return w(O.stream,O.state),T("{"==e?H:$)}function ee(e){return w(O.stream,O.state),T("{"==e?H:q)}function te(e){return function(t){return"."==t?M(e?re:ne):"variable"==t&&u?M(_e,e?X:K):T(e?q:$)}}function ne(e,t){if("target"==t)return O.marked="keyword",M(K)}function re(e,t){if("target"==t)return O.marked="keyword",M(X)}function oe(e){return":"==e?M(z,H):T(K,V(";"),z)}function ie(e){if("variable"==e)return O.marked="property",M()}function ae(e,t){return"async"==e?(O.marked="property",M(ae)):"variable"==e||"keyword"==O.style?(O.marked="property","get"==t||"set"==t?M(se):(u&&O.state.fatArrowAt==O.stream.start&&(n=O.stream.match(/^\s*:\s*/,!1))&&(O.state.fatArrowAt=O.stream.pos+n[0].length),M(le))):"number"==e||"string"==e?(O.marked=s?"property":O.style+" property",M(le)):"jsonld-keyword"==e?M(le):u&&A(t)?(O.marked="keyword",M(ae)):"["==e?M($,fe,V("]"),le):"spread"==e?M(q,le):"*"==t?(O.marked="keyword",M(ae)):":"==e?T(le):void 0;var n}function se(e){return"variable"!=e?T(le):(O.marked="property",M(Ne))}function le(e){return":"==e?M(q):"("==e?T(Ne):void 0}function ue(e,t,n){function r(o,i){if(n?n.indexOf(o)>-1:","==o){var a=O.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),M((function(n,r){return n==t||r==t?T():T(e)}),r)}return o==t||i==t?M():n&&n.indexOf(";")>-1?T(e):M(V(t))}return function(n,o){return n==t||o==t?M():T(e,r)}}function ce(e,t,n){for(var r=3;r<arguments.length;r++)O.cc.push(arguments[r]);return M(F(t,n),ue(e,t),z)}function de(e){return"}"==e?M():T(H,de)}function fe(e,t){if(u){if(":"==e)return M(ge);if("?"==t)return M(fe)}}function pe(e,t){if(u&&(":"==e||"in"==t))return M(ge)}function he(e){if(u&&":"==e)return O.stream.match(/^\s*\w+\s+is\b/,!1)?M($,me,ge):M(ge)}function me(e,t){if("is"==t)return O.marked="keyword",M()}function ge(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(O.marked="keyword",M("typeof"==t?q:ge)):"variable"==e||"void"==t?(O.marked="type",M(we)):"|"==t||"&"==t?M(ge):"string"==e||"number"==e||"atom"==e?M(we):"["==e?M(F("]"),ue(ge,"]",","),z,we):"{"==e?M(F("}"),ye,z,we):"("==e?M(ue(xe,")"),ve,we):"<"==e?M(ue(ge,">"),ge):void 0}function ve(e){if("=>"==e)return M(ge)}function ye(e){return e.match(/[\}\)\]]/)?M():","==e||";"==e?M(ye):T(be,ye)}function be(e,t){return"variable"==e||"keyword"==O.style?(O.marked="property",M(be)):"?"==t||"number"==e||"string"==e?M(be):":"==e?M(ge):"["==e?M(V("variable"),pe,V("]"),be):"("==e?T(Pe,be):e.match(/[;\}\)\],]/)?void 0:M()}function xe(e,t){return"variable"==e&&O.stream.match(/^\s*[?:]/,!1)||"?"==t?M(xe):":"==e?M(ge):"spread"==e?M(xe):T(ge)}function we(e,t){return"<"==t?M(F(">"),ue(ge,">"),z,we):"|"==t||"."==e||"&"==t?M(ge):"["==e?M(ge,V("]"),we):"extends"==t||"implements"==t?(O.marked="keyword",M(ge)):"?"==t?M(ge,V(":"),ge):void 0}function _e(e,t){if("<"==t)return M(F(">"),ue(ge,">"),z,we)}function Ce(){return T(ge,Se)}function Se(e,t){if("="==t)return M(ge)}function ke(e,t){return"enum"==t?(O.marked="keyword",M(Ze)):T(Oe,fe,De,Ie)}function Oe(e,t){return u&&A(t)?(O.marked="keyword",M(Oe)):"variable"==e?(I(t),M()):"spread"==e?M(Oe):"["==e?ce(Me,"]"):"{"==e?ce(Te,"}"):void 0}function Te(e,t){return"variable"!=e||O.stream.match(/^\s*:/,!1)?("variable"==e&&(O.marked="property"),"spread"==e?M(Oe):"}"==e?T():"["==e?M($,V("]"),V(":"),Te):M(V(":"),Oe,De)):(I(t),M(De))}function Me(){return T(Oe,De)}function De(e,t){if("="==t)return M(q)}function Ie(e){if(","==e)return M(ke)}function Ee(e,t){if("keyword b"==e&&"else"==t)return M(F("form","else"),H,z)}function Ae(e,t){return"await"==t?M(Ae):"("==e?M(F(")"),Le,z):void 0}function Le(e){return"var"==e?M(ke,je):"variable"==e?M(je):T(je)}function je(e,t){return")"==e?M():";"==e?M(je):"in"==t||"of"==t?(O.marked="keyword",M($,je)):T($,je)}function Ne(e,t){return"*"==t?(O.marked="keyword",M(Ne)):"variable"==e?(I(t),M(Ne)):"("==e?M(P,F(")"),ue(Be,")"),z,he,H,B):u&&"<"==t?M(F(">"),ue(Ce,">"),z,Ne):void 0}function Pe(e,t){return"*"==t?(O.marked="keyword",M(Pe)):"variable"==e?(I(t),M(Pe)):"("==e?M(P,F(")"),ue(Be,")"),z,he,B):u&&"<"==t?M(F(">"),ue(Ce,">"),z,Pe):void 0}function Re(e,t){return"keyword"==e||"variable"==e?(O.marked="type",M(Re)):"<"==t?M(F(">"),ue(Ce,">"),z):void 0}function Be(e,t){return"@"==t&&M($,Be),"spread"==e?M(Be):u&&A(t)?(O.marked="keyword",M(Be)):u&&"this"==e?M(fe,De):T(Oe,fe,De)}function Fe(e,t){return"variable"==e?ze(e,t):Ve(e,t)}function ze(e,t){if("variable"==e)return I(t),M(Ve)}function Ve(e,t){return"<"==t?M(F(">"),ue(Ce,">"),z,Ve):"extends"==t||"implements"==t||u&&","==e?("implements"==t&&(O.marked="keyword"),M(u?ge:$,Ve)):"{"==e?M(F("}"),He,z):void 0}function He(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||u&&A(t))&&O.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(O.marked="keyword",M(He)):"variable"==e||"keyword"==O.style?(O.marked="property",M(Ue,He)):"number"==e||"string"==e?M(Ue,He):"["==e?M($,fe,V("]"),Ue,He):"*"==t?(O.marked="keyword",M(He)):u&&"("==e?T(Pe,He):";"==e||","==e?M(He):"}"==e?M():"@"==t?M($,He):void 0}function Ue(e,t){if("?"==t)return M(Ue);if(":"==e)return M(ge,De);if("="==t)return M(q);var n=O.state.lexical.prev,r=n&&"interface"==n.info;return T(r?Pe:Ne)}function $e(e,t){return"*"==t?(O.marked="keyword",M(Xe,V(";"))):"default"==t?(O.marked="keyword",M($,V(";"))):"{"==e?M(ue(qe,"}"),Xe,V(";")):T(H)}function qe(e,t){return"as"==t?(O.marked="keyword",M(V("variable"))):"variable"==e?T(q,qe):void 0}function We(e){return"string"==e?M():"("==e?T($):T(Ge,Ye,Xe)}function Ge(e,t){return"{"==e?ce(Ge,"}"):("variable"==e&&I(t),"*"==t&&(O.marked="keyword"),M(Ke))}function Ye(e){if(","==e)return M(Ge,Ye)}function Ke(e,t){if("as"==t)return O.marked="keyword",M(Ge)}function Xe(e,t){if("from"==t)return O.marked="keyword",M($)}function Je(e){return"]"==e?M():T(ue(q,"]"))}function Ze(){return T(F("form"),Oe,V("{"),F("}"),ue(Qe,"}"),z,z)}function Qe(){return T(Oe,De)}function et(e,t){return"operator"==e.lastType||","==e.lastType||f.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function tt(e,t,n){return t.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return B.lex=!0,z.lex=!0,{startState:function(e){var t={tokenize:g,lastType:"sof",cc:[],lexical:new C((e||0)-i,0,"block",!1),localVars:n.localVars,context:n.localVars&&new L(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),w(e,t)),t.tokenize!=y&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==r?n:(t.lastType="operator"!=r||"++"!=o&&"--"!=o?r:"incdec",k(t,n,r,o,e))},indent:function(t,r){if(t.tokenize==y||t.tokenize==b)return e.Pass;if(t.tokenize!=g)return 0;var o,s=r&&r.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(r))for(var u=t.cc.length-1;u>=0;--u){var c=t.cc[u];if(c==z)l=l.prev;else if(c!=Ee)break}while(("stat"==l.type||"form"==l.type)&&("}"==s||(o=t.cc[t.cc.length-1])&&(o==K||o==X)&&!/^[,\.=+\-*:?[\(]/.test(r)))l=l.prev;a&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var d=l.type,f=s==d;return"vardef"==d?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==d&&"{"==s?l.indented:"form"==d?l.indented+i:"stat"==d?l.indented+(et(t,r)?a||i:0):"switch"!=l.info||f||0==n.doubleIndentSwitch?l.align?l.column+(f?0:1):l.indented+(f?0:i):l.indented+(/^(?:case|default)\b/.test(r)?i:2*i)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:tt,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=$&&t!=q||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}))},3574:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{staticClass:"1",attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"请假人"}},[n("a-input",{attrs:{placeholder:"请输入请假人"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),n("a-col",{staticClass:"1",attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"请假天数"}},[n("a-input",{attrs:{placeholder:"请输入请假天数"},model:{value:e.queryParam.days,callback:function(t){e.$set(e.queryParam,"days",t)},expression:"queryParam.days"}})],1)],1),e.toggleSearchStatus?[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"开始时间"}},[n("a-input",{attrs:{placeholder:"请输入开始时间"},model:{value:e.queryParam.beginDate,callback:function(t){e.$set(e.queryParam,"beginDate",t)},expression:"queryParam.beginDate"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"请假结束时间"}},[n("a-input",{attrs:{placeholder:"请输入请假结束时间"},model:{value:e.queryParam.endDate,callback:function(t){e.$set(e.queryParam,"endDate",t)},expression:"queryParam.endDate"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"请假原因"}},[n("a-input",{attrs:{placeholder:"请输入请假原因"},model:{value:e.queryParam.reason,callback:function(t){e.$set(e.queryParam,"reason",t)},expression:"queryParam.reason"}})],1)],1)]:e._e(),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n              "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)])],2)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:e.handleExportXls}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},["1"===r.bpmStatus?[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.startProcess(r)}}},[e._v("提交流程")]),n("a-divider",{attrs:{type:"vertical"}})]:e._e(),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},["1"===r.bpmStatus?n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1):n("a-menu-item",{on:{click:function(t){return e.handlePreviewPic(r)}}},[e._v("审批进度")])],1)],1)],2)}}])})],1),n("form-common-modal",{ref:"modalForm",attrs:{path:e.path},on:{ok:e.modalFormOk}}),n("process-inst-pic-modal",{ref:"processInstPicModal"})],1)},o=[],i=n("0fea"),a=n("b65a"),s=n("2dab"),l=n("bef2"),u=n("1f7c"),c={name:"JoaDemoList",mixins:[a["a"]],components:{FormCommonModal:l["default"],ProcessInstPicModal:u["default"],JDate:s["default"]},data:function(){return{description:"流程测试管理页面",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"请假人",align:"center",dataIndex:"name"},{title:"请假天数",align:"center",dataIndex:"days"},{title:"开始时间",align:"center",dataIndex:"beginDate"},{title:"结束时间",align:"center",dataIndex:"endDate"},{title:"请假原因",align:"center",dataIndex:"reason"},{title:"流程状态",align:"center",dataIndex:"bpmStatus",customRender:function(e){return"1"==e?"待提交":"2"==e?"处理中":"3"==e?"已完成":"4"==e?"已作废":e}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],flowCode:"dev_joa_demo_001",path:"jeecg/modules/JoaDemoForm",url:{list:"/test/joaDemo/list",delete:"/test/joaDemo/delete",deleteBatch:"/test/joaDemo/deleteBatch",exportXlsUrl:"test/joaDemo/exportXls",importExcelUrl:"test/joaDemo/importExcel",startProcess:"/process/extActProcess/startMutilProcess"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{startProcess:function(e){var t=this;this.$confirm({title:"提示",content:"确认提交流程吗?",onOk:function(){var n={flowCode:t.flowCode,id:e.id,formUrl:t.path,formUrlMobile:t.path};Object(i["h"])(t.url.startProcess,n).then((function(e){e.success?(t.$message.success(e.message),t.loadData(),t.onClearSelected()):t.$message.warning(e.message)}))}})},handlePreviewPic:function(e){var t=this.flowCode,n=e.id;this.$refs.processInstPicModal.preview(t,n),this.$refs.processInstPicModal.title="流程图"}}},d=c,f=(n("52e8"),n("5d22")),p=Object(f["a"])(d,r,o,!1,null,"542a3a2c",null);t["default"]=p.exports},3640:function(e,t,n){e.exports=n.p+"img/物业报修.d168fe2f.png"},3769:function(e,t,n){"use strict";n("0cb1")},3826:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-table",{ref:"table",attrs:{size:"default",bordered:"",rowKey:"id",columns:e.columns,pagination:!1,dataSource:e.dataSource}})],1)},o=[],i={name:"RowspanTable",components:{},data:function(){var e=this;return{description:"存放位置设置表管理页面",levelNum:{},gridNum:0,boxNum:0,cabinetNo:"",columns:[{title:"分组一",align:"center",dataIndex:"cabinetNo",customRender:function(t,n,r){var o={children:t,attrs:{}};return o.attrs.rowSpan=0===r?e.dataSource.length:0,o}},{title:"分组二",align:"center",dataIndex:"levelNo",customRender:function(t,n,r){for(var o={children:t,attrs:{}},i=parseInt(e.levelNum),a=parseInt(e.gridNum)*parseInt(e.boxNum),s=0;s<=i;s++){if(r===s*a){o.attrs.rowSpan=a;break}o.attrs.rowSpan=0}return o}},{title:"分组三",align:"center",dataIndex:"gridNo",customRender:function(t,n,r){for(var o={children:t,attrs:{}},i=parseInt(e.levelNum)*parseInt(e.gridNum),a=parseInt(e.boxNum),s=0;s<=i;s++){if(r===s*a){o.attrs.rowSpan=a;break}o.attrs.rowSpan=0}return o}},{title:"字段一",align:"center",dataIndex:"boxNo"},{title:"字段二",align:"center",dataIndex:"storedNum"},{title:"字段三",align:"center",dataIndex:"maxNum"}],dataSource:[{id:"cb1dfd12cbeca3f8ba121439ee7e2411",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"1",gridNo:"1",boxNo:"1",storedNum:2,maxNum:2,unitNum:2,assignStatus:"1",storageStatus:"1",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-02"},{id:"f903d50d02904b14175dccf2a7948777",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"1",gridNo:"1",boxNo:"2",storedNum:2,maxNum:2,unitNum:2,assignStatus:"1",storageStatus:"1",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-02"},{id:"4f04c0ca4202535d678871b07e706cf6",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"1",gridNo:"2",boxNo:"1",storedNum:2,maxNum:2,unitNum:2,assignStatus:"1",storageStatus:"1",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-02"},{id:"d0c91dabedfc03efad0126e50ea72e80",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"1",gridNo:"2",boxNo:"2",storedNum:2,maxNum:2,unitNum:2,assignStatus:"1",storageStatus:"1",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-08"},{id:"1e8bfcbe4352afbab8878f9fd368e007",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"2",gridNo:"1",boxNo:"1",storedNum:1,maxNum:2,unitNum:1,assignStatus:"1",storageStatus:"0",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-08"},{id:"d76087d8d3ebc7a59d43458588f26941",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"2",gridNo:"1",boxNo:"2",storedNum:0,maxNum:2,unitNum:0,assignStatus:"1",storageStatus:"0",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-02"},{id:"7bf7754f12e1bf95edcd501cc6b85e62",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"2",gridNo:"2",boxNo:"1",storedNum:0,maxNum:2,unitNum:0,assignStatus:"1",storageStatus:"0",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-02"},{id:"9cd08d733657d5b286bec870f12f6ecf",attributeId:"e62831f314e1390edbd884e9d9e6aca6",cabinetNo:"1",levelNo:"2",gridNo:"2",boxNo:"2",storedNum:0,maxNum:2,unitNum:0,assignStatus:"1",storageStatus:"0",remark:null,createBy:"admin",createTime:"2019-04-02",updateBy:"admin",updateTime:"2019-04-02"}],isorter:{column:"createTime",order:"desc"},url:{}}},created:function(){this.loadData()},methods:{loadData:function(){this.levelNum=4,this.gridNum=2,this.boxNum=2}}},a=i,s=(n("1b51"),n("5d22")),l=Object(s["a"])(a,r,o,!1,null,"cb47b3be",null);t["default"]=l.exports},3981:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.data,padding:[20,20,95,20],scale:e.scale}},[n("v-tooltip"),n("v-axis",{attrs:{dataKey:e.axis1Opts.dataKey,line:e.axis1Opts.line,tickLine:e.axis1Opts.tickLine,grid:e.axis1Opts.grid}}),n("v-axis",{attrs:{dataKey:e.axis2Opts.dataKey,line:e.axis2Opts.line,tickLine:e.axis2Opts.tickLine,grid:e.axis2Opts.grid}}),n("v-legend",{attrs:{dataKey:"user",marker:"circle",offset:30}}),n("v-coord",{attrs:{type:"polar",radius:"0.8"}}),n("v-line",{attrs:{position:"item*score",color:"user",size:2}}),n("v-point",{attrs:{position:"item*score",color:"user",size:4,shape:"circle"}})],1)},o=[],i={dataKey:"item",line:null,tickLine:null,grid:{lineStyle:{lineDash:null},hideFirstLine:!1}},a={dataKey:"score",line:null,tickLine:null,grid:{type:"polygon",lineStyle:{lineDash:null}}},s=[{dataKey:"score",min:0,max:100},{dataKey:"user",alias:"类型"}],l=[{item:"示例一",score:40},{item:"示例二",score:20},{item:"示例三",score:67},{item:"示例四",score:43},{item:"示例五",score:90}],u={name:"Radar",props:{height:{type:Number,default:254},dataSource:{type:Array,default:function(){return[]}}},data:function(){return{axis1Opts:i,axis2Opts:a,scale:s,data:l}},watch:{dataSource:function(e){0===e.length?this.data=l:this.data=e}}},c=u,d=n("5d22"),f=Object(d["a"])(c,r,o,!1,null,"f48462e2",null);t["default"]=f.exports},"39a5":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,okButtonProps:{props:{disabled:e.disableSubmit}},cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[e.editStatus?n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"客户姓名",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入客户姓名!"}]}],expression:"['name', {rules: [{ required: true, message: '请输入客户姓名!' }]}]"}],attrs:{placeholder:"请输入客户姓名",readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"性别",hasFeedback:""}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{}],expression:"['sex', {}]"}],attrs:{placeholder:"请选择性别"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("男性")]),n("a-select-option",{attrs:{value:"2"}},[e._v("女性")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"身份证号码",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["idcard",e.validatorRules.idcard],expression:"['idcard', validatorRules.idcard]"}],attrs:{placeholder:"请输入身份证号码",readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"身份证扫描件",hasFeedback:""}},[n("a-upload",{attrs:{action:e.uploadAction,listType:"picture-card",headers:e.headers,fileList:e.fileList},on:{change:e.handleChange,preview:e.handlePreview}},[n("a-button",[n("a-icon",{attrs:{type:"upload"}}),e._v("\n            upload\n          ")],1)],1),e.model.idcardPic?n("img",{staticStyle:{height:"104px","max-width":"300px"},attrs:{src:e.getIdCardView(),alt:"头像"}}):e._e(),n("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handlePicCancel}},[n("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})]),n("br")],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"联系方式",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["telphone",e.validatorRules.telphone],expression:"[ 'telphone', validatorRules.telphone]"}],attrs:{readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单号码",hidden:e.hiding,hasFeedback:""},model:{value:this.orderId,callback:function(t){e.$set(this,"orderId",t)},expression:"this.orderId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderId",{}],expression:"[ 'orderId', {}]"}],attrs:{disabled:"disabled"}})],1)],1)],1):e._e()],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=n("a593"),u=n("9fb0"),c={name:"JeecgOrderCustomerModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},columns:[{title:"客户名",align:"center",dataIndex:"name"},{title:"性别",align:"center",dataIndex:"sex"},{title:"身份证号码",align:"center",dataIndex:"idcard"},{title:"身份证扫描件",align:"center",dataIndex:"idcardPic"},{title:"电话",dataIndex:"telphone",align:"center"},{title:"订单号码",dataIndex:"orderId",align:"center"},{title:"创建人",dataIndex:"createBy",align:"center"},{title:"创建时间",dataIndex:"createTime",align:"center"},{title:"更新时间",dataIndex:"updateBy",align:"center"},{title:"更新人",dataIndex:"updateTime",align:"center"}],fileList:[],disableSubmit:!1,selectedRowKeys:[],orderId:"",hiding:!1,headers:{},picUrl:"",previewVisible:!1,previewImage:"",addStatus:!1,editStatus:!1,confirmLoading:!1,form:this.$form.createForm(this),url:{add:"/test/order/addCustomer",edit:"/test/order/editCustomer",fileUpload:window._CONFIG["domianURL"]+"/sys/common/upload",imgerver:window._CONFIG["domianURL"]+"/sys/common/view",getOrderCustomerList:"/test/order/listOrderCustomerByMainId"},validatorRules:{telphone:{rules:[{validator:this.validateMobile}]},idcard:{rules:[{validator:this.validateIdCard}]}}}},computed:{uploadAction:function(){return this.url.fileUpload}},created:function(){var e=l["default"].ls.get(u["a"]);this.headers={"X-Access-Token":e}},methods:{add:function(e){this.hiding=!0,e?(this.orderId=e,this.edit({orderId:e},"")):this.$message.warning("请选择一个客户信息")},detail:function(e){this.edit(e,"d")},edit:function(e,t){var n=this;"e"==t?(this.hiding=!1,this.disableSubmit=!1):"d"==t?(this.hiding=!1,this.disableSubmit=!0):(this.hiding=!0,this.disableSubmit=!1),this.form.resetFields(),this.orderId=e.orderId,this.picUrl=e.idcardPic,this.model=Object.assign({},e),e.id?(this.hiding=!1,this.addStatus=!1,this.editStatus=!0,this.$nextTick((function(){n.form.setFieldsValue(s()(n.model,"id","name","sex","idcard","idcardPic","telphone","orderId","createBy","createTime","updateBy","updateTime"))}))):(this.addStatus=!1,this.editStatus=!0),this.visible=!0},close:function(){this.$emit("close"),this.visible=!1,this.picUrl="",this.fileList=[]},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);s.orderId=e.orderId,s.idcardPic=e.picUrl,Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},validateMobile:function(e,t,n){!t||new RegExp(/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/).test(t)?n():n("您的手机号码格式不正确!")},validateIdCard:function(e,t,n){!t||new RegExp(/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/).test(t)?n():n("您的身份证号码格式不正确!")},handleChange:function(e){if(this.fileList=e.fileList,"uploading"!==e.file.status&&"done"===e.file.status){var t=e.file.response;t.success?this.picUrl+=t.message+",":this.$message.warning(t.message)}},handlePicCancel:function(){this.previewVisible=!1},handlePreview:function(e){this.previewImage=e.url||e.thumbUrl,this.previewVisible=!0},getIdCardView:function(){var e=this.model.idcardPic.split(","),t=e.length;return this.url.imgerver+"/"+e[t-2]}}},d=c,f=(n("e42e"),n("5d22")),p=Object(f["a"])(d,r,o,!1,null,"854d8002",null);t["default"]=p.exports},"3ab1":function(e,t,n){"use strict";n("ae07")},"3ada":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("result",{attrs:{"is-success":!0,description:e.description,title:e.title}},[n("template",{slot:"action"},[n("a-button",{attrs:{type:"primary"}},[e._v("返回列表")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("查看项目")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("打印")])],1),n("div",[n("div",{staticStyle:{"font-size":"16px",color:"rgba(0, 0, 0, 0.85)","font-weight":"500","margin-bottom":"20px"}},[e._v("项目名称")]),n("a-row",{staticStyle:{"margin-bottom":"16px"}},[n("a-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:6}},[n("span",{staticStyle:{color:"rgba(0, 0, 0, 0.85)"}},[e._v("项目 ID：")]),e._v("\n          20180724089\n        ")]),n("a-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:6}},[n("span",{staticStyle:{color:"rgba(0, 0, 0, 0.85)"}},[e._v("负责人：")]),e._v("\n          曲丽丽是谁？\n        ")]),n("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:12}},[n("span",{staticStyle:{color:"rgba(0, 0, 0, 0.85)"}},[e._v("生效时间：")]),e._v("\n          2016-12-12 ~ 2017-12-12\n        ")])],1),n("a-steps",{attrs:{current:1,direction:e.isMobile()&&e.directionType.vertical||e.directionType.horizontal,progressDot:""}},[n("a-step",[n("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"title"},slot:"title"},[e._v("创建项目")]),n("template",{slot:"description"},[n("div",{staticStyle:{fontSize:"12px",color:"rgba(0, 0, 0, 0.45)",position:"relative",left:"42px"},attrs:{slot:"description"},slot:"description"},[n("div",{staticStyle:{margin:"8px 0 4px"}},[e._v("\n                曲丽丽\n                "),n("a-icon",{staticStyle:{"margin-left":"8px"},attrs:{type:"dingding-o"}})],1),n("div",[e._v("2016-12-12 12:32")])])])],2),n("a-step",{attrs:{title:"部门初审"}},[n("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"title"},slot:"title"},[e._v("部门初审")]),n("template",{slot:"description"},[n("div",{staticStyle:{fontSize:"12px",color:"rgba(0, 0, 0, 0.45)",position:"relative",left:"42px"},attrs:{slot:"description"},slot:"description"},[n("div",{staticStyle:{margin:"8px 0 4px"}},[e._v("\n                周毛毛\n                "),n("a-icon",{staticStyle:{"margin-left":"8px",color:"#00A0E9"},attrs:{type:"dingding-o"}})],1),n("div",[n("a",{attrs:{href:""}},[e._v("催一下")])])])])],2),n("a-step",{attrs:{title:"财务复核"}},[n("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"title"},slot:"title"},[e._v("财务复核")])]),n("a-step",{attrs:{title:"完成"}},[n("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"title"},slot:"title"},[e._v("完成")])])],1)],1)],2)],1)},o=[],i=n("9a3d"),a=n("ac0d"),s={horizontal:"horizontal",vertical:"vertical"},l={name:"Success",components:{Result:i["default"]},mixins:[a["b"]],data:function(){return{title:"提交成功",description:"提交结果页用于反馈一系列操作任务的处理结果，\n 如果仅是简单操作，使用 Message 全局提示反馈即可。\n 本文字区域可以展示简单的补充说明，如果有类似展示\n “单据”的需求，下面这个灰色区域可以呈现比较复杂的内容。",directionType:s}}},u=l,c=n("5d22"),d=Object(c["a"])(u,r,o,!1,null,"58ec35a0",null);t["default"]=d.exports},"3e11":function(e,t,n){"use strict";n("8661")},4002:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:48}},[n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"角色ID"}},[n("a-input",{attrs:{placeholder:"请输入"}})],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"状态"}},[n("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[n("a-select-option",{attrs:{value:"0"}},[e._v("全部")]),n("a-select-option",{attrs:{value:"1"}},[e._v("正常")]),n("a-select-option",{attrs:{value:"2"}},[e._v("禁用")])],1)],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons"},[n("a-button",{attrs:{type:"primary"}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("重置")])],1)])],1)],1)],1),n("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData},scopedSlots:e._u([{key:"expandedRowRender",fn:function(t){return n("div",{staticStyle:{margin:"0"}},[n("a-row",{style:{marginBottom:"12px"},attrs:{gutter:24}},e._l(t.permissions,(function(t,r){return n("a-col",{key:r,style:{marginBottom:"12px"},attrs:{span:12}},[n("a-col",{attrs:{span:4}},[n("span",[e._v(e._s(t.permissionName)+"：")])]),t.actionEntitySet.length>0?n("a-col",{attrs:{span:20}},e._l(t.actionEntitySet,(function(t,r){return n("a-tag",{key:r,attrs:{color:"cyan"}},[e._v(e._s(t.describe))])})),1):n("a-col",{attrs:{span:20}},[e._v("-")])],1)})),1)],1)}},{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.$refs.modal.edit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n          更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("详情")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("禁用")])]),n("a-menu-item",[n("a",{attrs:{href:"javascript:;"}},[e._v("删除")])])],1)],1)],1)}}])}),n("role-modal",{ref:"modal",on:{ok:e.handleOk}})],1)},o=[],i=n("e8c4"),a=n("0b38"),s={name:"TableList",components:{STable:i["a"],RoleModal:a["default"]},data:function(){var e=this;return{description:"列表使用场景：后台管理中的权限管理以及角色管理，可用于基于 RBAC 设计的角色权限控制，颗粒度细到每一个操作类型。",visible:!1,form:null,mdl:{},advanced:!1,queryParam:{},columns:[{title:"唯一识别码",dataIndex:"id"},{title:"角色名称",dataIndex:"name"},{title:"状态",dataIndex:"status"},{title:"创建时间",dataIndex:"createTime",sorter:!0},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadData:function(t){return e.$http.get("/api/role",{params:Object.assign(t,e.queryParam)}).then((function(e){return e.result}))},selectedRowKeys:[],selectedRows:[]}},methods:{handleEdit:function(e){this.mdl=Object.assign({},e),this.mdl.permissions.forEach((function(e){e.actionsOptions=e.actionEntitySet.map((function(e){return{label:e.describe,value:e.action,defaultCheck:e.defaultCheck}}))})),this.visible=!0},handleOk:function(){this.$refs.table.refresh()},onChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},l=s,u=n("5d22"),c=Object(u["a"])(l,r,o,!1,null,null,null);t["default"]=c.exports},4165:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-tree-select",{staticStyle:{width:"100%"},attrs:{allowClear:"",labelInValue:"",disabled:e.disabled,dropdownStyle:{maxHeight:"400px",overflow:"auto"},placeholder:e.placeholder,loadData:e.asyncLoadTreeData,value:e.treeValue,treeData:e.treeData},on:{change:e.onChange,search:e.onSearch}})},o=[],i=n("0fea");function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function s(e){return d(e)||c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function c(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={name:"JTreeDict",data:function(){return{treeData:[],treeValue:"",url_root:"/sys/category/loadTreeRoot",url_children:"/sys/category/loadTreeChildren",url_view:"/sys/category/loadOne"}},props:{value:{type:String,required:!1},placeholder:{type:String,default:"请选择",required:!1},parentCode:{type:String,default:"",required:!1},field:{type:String,default:"id",required:!1},root:{type:Object,required:!1,default:function(){return{pid:"0"}}},async:{type:Boolean,default:!1,required:!1},disabled:{type:Boolean,default:!1,required:!1}},watch:{root:{handler:function(e){},deep:!0},parentCode:{handler:function(){this.loadRoot()}},value:{handler:function(){this.loadViewInfo()}}},created:function(){this.loadRoot(),this.loadViewInfo()},model:{prop:"value",event:"change"},methods:{loadViewInfo:function(){var e=this;if(this.value&&"0"!=this.value){var t={field:this.field,val:this.value};Object(i["c"])(this.url_view,t).then((function(t){t.success&&(e.treeValue={value:e.value,label:t.result.name})}))}else this.treeValue=""},loadRoot:function(){var e=this,t={async:this.async,pcode:this.parentCode};Object(i["c"])(this.url_root,t).then((function(t){t.success?(e.handleTreeNodeValue(t.result),e.treeData=s(t.result)):e.$message.error(t.message)}))},asyncLoadTreeData:function(e){var t=this;return new Promise((function(n){if(t.async)if(e.$vnode.children)n();else{var r=e.$vnode.key,o={pid:r};Object(i["c"])(t.url_children,o).then((function(e){e.success&&(t.handleTreeNodeValue(e.result),t.addChildren(r,e.result,t.treeData),t.treeData=s(t.treeData)),n()}))}else n()}))},addChildren:function(e,t,n){if(n&&n.length>0){var r,o=a(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.key==e){t&&0!=t.length?i.children=t:i.leaf=!0;break}this.addChildren(e,t,i.children)}}catch(s){o.e(s)}finally{o.f()}}},handleTreeNodeValue:function(e){var t,n="code"==this.field?"code":"key",r=a(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.value=o[n],o.isLeaf=!!o.leaf,o.children&&o.children.length>0&&this.handleTreeNodeValue(o.children)}}catch(i){r.e(i)}finally{r.f()}},onChange:function(e){this.$emit("change",e.value),this.treeValue=e},onSearch:function(e){},getCurrTreeData:function(){return this.treeData}}},h=p,m=n("5d22"),g=Object(m["a"])(h,r,o,!1,null,null,null);t["default"]=g.exports},"418f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{staticStyle:{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"53px"},attrs:{title:e.title,maskClosable:!0,width:e.drawerWidth,placement:"right",closable:!0,visible:e.visible},on:{close:e.handleCancel}},[n("template",{slot:"title"},[n("div",{staticStyle:{width:"100%"}},[n("span",[e._v(e._s(e.title))]),n("span",{staticStyle:{display:"inline-block",width:"calc(100% - 51px)","padding-right":"10px","text-align":"right"}},[n("a-button",{staticStyle:{height:"20px",width:"20px",border:"0px"},attrs:{icon:"appstore"},on:{click:e.toggleScreen}})],1)])]),n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"用户账号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",e.validatorRules.username],expression:"[ 'username', validatorRules.username]"}],attrs:{placeholder:"请输入用户账号",readOnly:!!e.model.id}})],1),e.model.id?e._e():[n("a-form-item",{attrs:{label:"登陆密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",e.validatorRules.password],expression:"[ 'password', validatorRules.password]"}],attrs:{type:"password",placeholder:"请输入登陆密码"}})],1),n("a-form-item",{attrs:{label:"确认密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirmpassword",e.validatorRules.confirmpassword],expression:"[ 'confirmpassword', validatorRules.confirmpassword]"}],attrs:{type:"password",placeholder:"请重新输入登陆密码"},on:{blur:e.handleConfirmBlur}})],1)],n("a-form-item",{attrs:{label:"用户名字",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["realname",e.validatorRules.realname],expression:"[ 'realname', validatorRules.realname]"}],attrs:{placeholder:"请输入用户名称"}})],1),[n("a-form-item",{attrs:{label:"角色分配",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"请选择用户角色"},model:{value:e.selectedRole,callback:function(t){e.selectedRole=t},expression:"selectedRole"}},e._l(e.roleList,(function(t,r){return n("a-select-option",{key:r.toString(),attrs:{value:t.id}},[e._v("\n            "+e._s(t.roleName)+"\n          ")])})),1)],1)],[n("a-form-item",{attrs:{label:"部门分配",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input-search",{attrs:{placeholder:"点击右侧按钮选择部门",disabled:""},on:{search:e.onSearch},model:{value:e.checkedDepartNameString,callback:function(t){e.checkedDepartNameString=t},expression:"checkedDepartNameString"}},[n("a-button",{attrs:{slot:"enterButton",icon:"search"},slot:"enterButton"},[e._v("选择")])],1)],1)],n("a-form-item",{attrs:{label:"头像",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-upload",{staticClass:"avatar-uploader",attrs:{listType:"picture-card",showUploadList:!1,action:e.uploadAction,data:{isup:1},headers:e.headers,beforeUpload:e.beforeUpload},on:{change:e.handleChange}},[e.picUrl?n("img",{staticStyle:{height:"104px","max-width":"300px"},attrs:{src:e.getAvatarView(),alt:"头像"}}):n("div",[n("a-icon",{attrs:{type:e.uploadLoading?"loading":"plus"}}),n("div",{staticClass:"ant-upload-text"},[e._v("上传")])],1)])],1),n("a-form-item",{attrs:{label:"生日",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["birthday",{initialValue:e.model.birthday?e.moment(e.model.birthday,e.dateFormat):null}],expression:"['birthday', {initialValue:!model.birthday?null:moment(model.birthday,dateFormat)}]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请选择生日"}})],1),n("a-form-item",{attrs:{label:"性别",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{}],expression:"[ 'sex', {}]"}],attrs:{placeholder:"请选择性别"}},[n("a-select-option",{attrs:{value:1}},[e._v("男")]),n("a-select-option",{attrs:{value:2}},[e._v("女")])],1)],1),n("a-form-item",{attrs:{label:"邮箱",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",e.validatorRules.email],expression:"[ 'email', validatorRules.email]"}],attrs:{placeholder:"请输入邮箱"}})],1),n("a-form-item",{attrs:{label:"手机号码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",e.validatorRules.phone],expression:"[ 'phone', validatorRules.phone]"}],attrs:{placeholder:"请输入手机号码",disabled:e.disabledAuth("user:form:phone")}})],1),n("a-form-item",{attrs:{label:"工作流引擎",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["activitiSync",{}],expression:"['activitiSync', {}]"}],attrs:{placeholder:"请选择是否同步工作流引擎",type:"radio",triggerChange:!0,dictCode:"activiti_sync"}})],1)],2)],1),n("depart-window",{ref:"departWindow",on:{ok:e.modalFormOk}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.disableSubmit,expression:"!disableSubmit"}],staticClass:"drawer-bootom-button"},[n("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:e.handleCancel}},[n("a-button",{staticStyle:{"margin-right":".8rem"}},[e._v("取消")])],1),n("a-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.handleSubmit}},[e._v("提交")])],1)],2)},o=[],i=n("85ee"),a=n.n(i),s=n("caaf"),l=n.n(s),u=n("a593"),c=n("c63e"),d=n("9fb0"),f=n("0fea"),p=n("4ec3");function h(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function m(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){return!!y(e,t)||b(e)}function y(e,t){var n=[];try{var r=t;if(r){var o,i=r.permissionList,a=h(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;"2"==s.type&&n.push(s)}}catch(g){a.e(g)}finally{a.f()}}}catch(v){}if(null===n||""===n||void 0===n||n.length<=0)return!1;for(var l=[],u=0,c=n;u<c.length;u++){var d=c[u];"2"==d.type&&l.push(d.action)}if(!l.includes(e))return!1;var f,p=h(n);try{for(p.s();!(f=p.n()).done;){var m=f.value;if(e===m.action)return!0}}catch(g){p.e(g)}finally{p.f()}return!1}function b(e){var t,n=[],r=[],o=JSON.parse(sessionStorage.getItem(d["n"])||"[]"),i=h(o);try{for(i.s();!(t=i.n()).done;){var a=t.value;"2"==a.type&&n.push(a)}}catch(k){i.e(k)}finally{i.f()}var s,l=JSON.parse(sessionStorage.getItem(d["m"])||"[]"),u=h(l);try{for(u.s();!(s=u.n()).done;){var c=s.value;"2"==c.type&&r.push(c)}}catch(k){u.e(k)}finally{u.f()}var f=!1,p=!1;if(null!=r&&""!=r&&void 0!=r&&r.length>0){var m,g=h(r);try{for(g.s();!(m=g.n()).done;){var v=m.value;if(e===v.action){if("0"==v.status){p=!0;break}f=!0;break}}}catch(k){g.e(k)}finally{g.f()}}if(p)return!1;if(null===n||""===n||void 0===n||n.length<=0)return f;for(var y=[],b=0,x=n;b<x.length;b++){var w=x[b];"2"==w.type&&y.push(w.action)}if(y.includes(e)){var _,C=h(n);try{for(C.s();!(_=C.n()).done;){var S=_.value;e===S.action&&(f=!1)}}catch(k){C.e(k)}finally{C.f()}return f}return f}var x={name:"RoleModal",components:{departWindow:c["default"]},data:function(){return{departDisabled:!1,deptId:"",roleDisabled:!1,roleId:"",modalWidth:800,drawerWidth:700,modaltoggleFlag:!0,confirmDirty:!1,selectedDepartKeys:[],checkedDepartKeys:[],checkedDepartNames:[],checkedDepartNameString:"",userId:"",disableSubmit:!1,userDepartModel:{userId:"",departIdList:[]},dateFormat:"YYYY-MM-DD",validatorRules:{username:{rules:[{required:!0,message:"请输入用户账号!"},{validator:this.validateUsername}]},password:{rules:[{required:!0,message:"请输入密码!"},{validator:this.validateToNextPassword}]},confirmpassword:{rules:[{required:!0,message:"请重新输入登陆密码!"},{validator:this.compareToFirstPassword}]},realname:{rules:[{required:!0,message:"请输入用户名称!"}]},phone:{rules:[{validator:this.validatePhone}]},email:{rules:[{type:"email",message:"请输入正确格式的电子邮箱!"}]},roles:{}},title:"操作",visible:!1,model:{},roleList:[],selectedRole:[],labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},uploadLoading:!1,confirmLoading:!1,headers:{},form:this.$form.createForm(this),picUrl:"",url:{addUDepartIds:"/sys/user/addUDepartIds",editUDepartIds:"/sys/user/editUDepartIds",fileUpload:window._CONFIG["domianURL"]+"/sys/common/upload",imgerver:window._CONFIG["domianURL"]+"/sys/common/view",userWithDepart:"/sys/user/userDepartList",userId:"/sys/user/generateUserId",syncUserByUserName:"/process/extActProcess/doSyncUserByUserName"}}},created:function(){var e=u["default"].ls.get(d["a"]);this.headers={"X-Access-Token":e}},computed:{uploadAction:function(){return this.url.fileUpload}},methods:{disabledAuth:function(e){return v(e)},toggleScreen:function(){this.modaltoggleFlag?this.modalWidth=window.innerWidth:this.modalWidth=800,this.modaltoggleFlag=!this.modaltoggleFlag},initialRoleList:function(){var e=this;Object(p["I"])().then((function(t){t.success&&(e.roleList=t.result)}))},loadUserRoles:function(e){var t=this;Object(p["G"])({userid:e}).then((function(e){e.success&&(t.selectedRole=e.result)}))},refresh:function(){this.selectedDepartKeys=[],this.checkedDepartKeys=[],this.checkedDepartNames=[],this.checkedDepartNameString="",this.userId=""},add:function(){this.picUrl="",this.refresh(),this.edit({activitiSync:"1"})},edit:function(e){var t=this;this.resetScreenSize();var n=this;n.initialRoleList(),n.checkedDepartNameString="",n.form.resetFields(),e.hasOwnProperty("id")&&(n.loadUserRoles(e.id),this.picUrl="Has no pic url yet"),n.userId=e.id,n.visible=!0,n.model=Object.assign({},e),n.$nextTick((function(){n.form.setFieldsValue(a()(t.model,"username","sex","realname","email","phone","activitiSync"))})),n.checkedDepartKeys=[],n.loadCheckedDeparts()},loadCheckedDeparts:function(){var e=this,t=this;t.userId&&Object(f["c"])(t.url.userWithDepart,{userId:t.userId}).then((function(n){if(t.checkedDepartNames=[],n.success)for(var r=0;r<n.result.length;r++)t.checkedDepartNames.push(n.result[r].title),e.checkedDepartNameString=e.checkedDepartNames.join(","),t.checkedDepartKeys.push(n.result[r].key)}))},close:function(){this.$emit("close"),this.visible=!1,this.disableSubmit=!1,this.selectedRole=[],this.userDepartModel={},this.checkedDepartNames=[]},moment:l.a,handleSubmit:function(){var e=this;if(!0!==this.departDisabled)if(!0!==this.roleDisabled){var t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o=t.model.avatar;r.birthday?r.birthday=r.birthday.format(e.dateFormat):r.birthday="";var i,a=Object.assign(e.model,r);a.avatar=o,a.selectedroles=e.selectedRole.length>0?e.selectedRole.join(","):"",t.addDepartsToUser(t,a),e.model.id?i=Object(p["r"])(a):(a.id=e.userId,i=Object(p["e"])(a)),i.then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.checkedDepartNames=[],t.close()}))}}))}else this.handleSubmitRole();else this.handleSubmitDepart()},handleSubmitDepart:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o=t.model.avatar;r.birthday?r.birthday=r.birthday.format(e.dateFormat):r.birthday="";var i=Object.assign(e.model,r);i.avatar=o,i.selectedroles=e.roleId,Object(f["c"])(e.url.userId).then((function(n){n.success&&(e.userId=n.result,i.id=t.userId,e.addDepartsToUser1(t,i),Object(p["e"])(i).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.checkedDepartNames=[],t.close()})))}))}}))},handleSubmitRole:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o=t.model.avatar;r.birthday?r.birthday=r.birthday.format(e.dateFormat):r.birthday="";var i,a=Object.assign(e.model,r);a.avatar=o,a.selectedroles=e.selectedRole.length>0?e.selectedRole.join(","):"",""!=e.roleId&&(a.selectedroles=e.roleId),t.addDepartsToUser(t,a),e.model.id?i=Object(p["r"])(a):(a.id=e.userId,i=Object(p["e"])(a)),i.then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.checkedDepartNames=[],t.close()}))}}))},handleCancel:function(){this.close()},addDepartsToUser:function(e,t){var n=this,r="",o="";this.userDepartModel.userId!=t.id?(r+=this.url.addUDepartIds,o="post"):(r+=this.url.editUDepartIds,o="put"),Object(f["g"])(r,this.userDepartModel,o).then((function(t){t.success?n.userDepartModel={}:e.$message.warning(t.message)}))},addDepartsToUser1:function(){var e=this,t="",n="";t+=this.url.addUDepartIds,n="post";var r=[];r.push(this.deptId),Object(f["g"])(t,{userId:this.userId,departIdList:r},n).then((function(t){t.success?(e.userId="",e.deptId="",e.departIdList=[]):e.$message.warning(t.message)}))},validateToNextPassword:function(e,t,n){var r=this.form,o=r.getFieldValue("confirmpassword");t&&o&&t!==o&&n("两次输入的密码不一样！"),t&&this.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},compareToFirstPassword:function(e,t,n){var r=this.form;t&&t!==r.getFieldValue("password")?n("两次输入的密码不一样！"):n()},validatePhone:function(e,t,n){!t||new RegExp(/^1[3|4|5|7|8][0-9]\d{8}$/).test(t)?n():n("请输入正确格式的手机号码!")},validateUsername:function(e,t,n){var r={id:this.model.id,username:t};Object(p["i"])(r).then((function(e){e.success?n():n("用户账号已存在！")}))},handleConfirmBlur:function(e){var t=e.target.value;this.confirmDirty=this.confirmDirty||!!t},normFile:function(e){return Array.isArray(e)?e:e&&e.fileList},beforeUpload:function(e){var t=e.type;if(t.indexOf("image")<0)return this.$message.warning("请上传图片"),!1},handleChange:function(e){if(this.picUrl="","uploading"!==e.file.status){if("done"===e.file.status){var t=e.file.response;this.uploadLoading=!1,t.success?(this.model.avatar=t.message,this.picUrl="Has no pic url yet"):this.$message.warning(t.message)}}else this.uploadLoading=!0},getAvatarView:function(){return this.url.imgerver+"/"+this.model.avatar},onSearch:function(){this.$refs.departWindow.add(this.checkedDepartKeys,this.userId)},modalFormOk:function(e){this.checkedDepartNames=[],this.selectedDepartKeys=[],this.userId=e.userId,this.userDepartModel.userId=e.userId;for(var t=0;t<e.departIdList.length;t++)this.selectedDepartKeys.push(e.departIdList[t].key),this.checkedDepartNames.push(e.departIdList[t].title),this.checkedDepartNameString=this.checkedDepartNames.join(",");this.userDepartModel.departIdList=this.selectedDepartKeys},resetScreenSize:function(){var e=document.body.clientWidth;this.drawerWidth=e<500?e:700}}},w=x,_=(n("e3d4"),n("5d22")),C=Object(_["a"])(w,r,o,!1,null,"538538be",null);t["default"]=C.exports},"41b7":function(e,t,n){"use strict";n("ad0d")},"422d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-popover",{attrs:{trigger:"click",placement:"bottomRight",overlayStyle:{width:"300px"}}},[n("template",{slot:"content"},[n("a-spin",{attrs:{spinning:e.loadding}},[n("a-tabs",e._l(e.tabs,(function(e,t){return n("a-tab-pane",{key:t,attrs:{tab:e.title}})})),1)],1)],1),n("span",{staticClass:"header-notice",on:{click:e.fetchNotice}},[n("a-badge",{attrs:{count:"12"}},[n("a-icon",{staticStyle:{"font-size":"16px",padding:"4px"},attrs:{type:"bell"}})],1)],1)],2)},o=[],i={name:"HeaderNotice",props:{tabs:{type:Array,default:null,required:!0}},data:function(){return{loadding:!1}},methods:{fetchNotice:function(){var e=this;this.loadding?this.loadding=!1:(this.loadding=!0,setTimeout((function(){e.loadding=!1}),2e3))}}},a=i,s=(n("fb72"),n("5d22")),l=Object(s["a"])(a,r,o,!1,null,"781c09be",null);t["default"]=l.exports},"444c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("sysDepart-modal",{ref:"sysDepartModal",on:{ok:e.modalFormOk}})],1)},o=[],i=n("c1af"),a=n("4ec3"),s=n("0fea"),l=[{title:"机构名称",dataIndex:"departName"},{title:"机构类型",align:"center",dataIndex:"orgType"},{title:"机构编码",dataIndex:"orgCode"},{title:"手机号",dataIndex:"mobile"},{title:"传真",dataIndex:"fax"},{title:"地址",dataIndex:"address"},{title:"排序",align:"center",dataIndex:"departOrder"},{title:"操作",align:"center",dataIndex:"action",scopedSlots:{customRender:"action"}}],u={name:"DepartList2",components:{SysDepartModal:i["default"]},data:function(){return{description:"jeecg 生成SysDepart代码管理页面",queryParam:{},factories:"",dataSource:[],columns:l,isorter:{column:"createTime",order:"desc"},loading:!1,selectedRowKeys:[],selectedRows:[],url:{list:"/sysdepart/sysDepart/list",delete:"/sysdepart/sysDepart/delete",deleteBatch:"/sysdepart/sysDepart/deleteBatch"}}},created:function(){this.loadData()},methods:{loadData:function(){var e=this;this.dataSource=[],Object(a["x"])().then((function(t){t.success&&(e.dataSource=t.result)}))},getQueryField:function(){for(var e="id,",t=0;t<this.columns.length;t++)e+=","+this.columns[t].dataIndex;return e},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[]},handleDelete:function(e){var t=this;Object(s["a"])(t.url.delete,{id:e}).then((function(e){e.success?(t.$message.success(e.message),t.loadData()):t.$message.warning(e.message)}))},handleDetail:function(e){this.$refs.sysDepartModal.edit(e),this.$refs.sysDepartModal.title="详情",this.$refs.sysDepartModal.disableSubmit=!0},batchDel:function(){if(this.selectedRowKeys.length<=0)this.$message.warning("请选择一条记录！");else{for(var e="",t=0;t<this.selectedRowKeys.length;t++)e+=this.selectedRowKeys[t]+",";var n=this;this.$confirm({title:"确认删除",content:"是否删除选中数据?",onOk:function(){Object(s["a"])(n.url.deleteBatch,{ids:e}).then((function(e){e.success?(n.$message.success(e.message),n.loadData(),n.onClearSelected()):n.$message.warning(e.message)}))}})}},handleEdit:function(e){this.$refs.sysDepartModal.edit(e),this.$refs.sysDepartModal.title="编辑"},handleAdd:function(){this.$refs.sysDepartModal.add(),this.$refs.sysDepartModal.title="新增"},handleTableChange:function(e,t,n){Object.keys(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"==n.order?"asc":"desc"),this.loadData()},modalFormOk:function(){this.loadData()}}},c=u,d=(n("b46a"),n("5d22")),f=Object(d["a"])(c,r,o,!1,null,"21bb3b3a",null);t["default"]=f.exports},4505:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("iframe",{staticStyle:{"background-color":"#fff"},attrs:{id:e.id,src:e.url,frameborder:"0",width:"100%",height:"800px",scrolling:"auto"}})},o=[],i=(n("b445"),n("501f"),{name:"IframePageContent",data:function(){return{url:"",id:""}},created:function(){this.goUrl()},updated:function(){this.goUrl()},watch:{$route:function(e,t){this.goUrl()}},methods:{goUrl:function(){var e=this.$route.meta.url,t=this.$route.path;this.id=t,null!==e&&void 0!==e&&(this.url=e)}}}),a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,null,null);t["default"]=l.exports},4647:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,okButtonProps:{props:{disabled:e.disabled}},cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"标题"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["titile",e.validatorRules.title],expression:"['titile', validatorRules.title]"}],attrs:{placeholder:"请输入标题",readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"消息类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["msgCategory",e.validatorRules.msgCategory],expression:"[ 'msgCategory', validatorRules.msgCategory]"}],attrs:{placeholder:"请选择消息类型",disabled:e.disableSubmit}},[n("a-select-option",{attrs:{value:"1"}},[e._v("通知公告")]),n("a-select-option",{attrs:{value:"2"}},[e._v("系统消息")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"内容"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["msgContent",{}],expression:"[ 'msgContent', {} ]"}],attrs:{rows:5,placeholder:"..."}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"开始时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["startTime",{}],expression:"[ 'startTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"结束时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["endTime",{}],expression:"[ 'endTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"优先级"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["priority",{}],expression:"[ 'priority', {}]"}],attrs:{placeholder:"请选择优先级",disabled:e.disableSubmit}},[n("a-select-option",{attrs:{value:"L"}},[e._v("低")]),n("a-select-option",{attrs:{value:"M"}},[e._v("中")]),n("a-select-option",{attrs:{value:"H"}},[e._v("高")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"通告对象类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["msgType",e.validatorRules.msgType],expression:"[ 'msgType', validatorRules.msgType]"}],attrs:{placeholder:"请选择通告对象类型",disabled:e.disableSubmit},on:{change:e.chooseMsgType}},[n("a-select-option",{attrs:{value:"USER"}},[e._v("指定用户")]),n("a-select-option",{attrs:{value:"ALL"}},[e._v("全体用户")])],1)],1),e.userType?n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"指定用户"}},[n("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"请选择用户"},on:{dropdownVisibleChange:e.selectUserIds},model:{value:e.selectedUser,callback:function(t){e.selectedUser=t},expression:"selectedUser"}})],1):e._e()],1)],1),n("select-user-list-modal",{ref:"UserListModal",on:{choseUser:e.choseUser}})],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=n("caaf"),u=n.n(l),c=(n("2dab"),n("ed2a")),d={components:{SelectUserListModal:c["default"]},name:"SysAnnouncementModal",data:function(){return{title:"操作",visible:!1,disableSubmit:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{title:{rules:[{required:!0,message:"请输入标题!"}]},msgCategory:{rules:[{required:!0,message:"请选择消息类型!"}]},msgType:{rules:[{required:!0,message:"请选择通告对象类型!"}]}},url:{queryByIds:"/sys/user/queryByIds",add:"/sys/annountCement/add",edit:"/sys/annountCement/edit"},userType:!1,userIds:[],selectedUser:[],disabled:!1,msgContent:""}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){this.form.resetFields(),this.disable=!1,this.visible=!0,this.getUser(e)},getUser:function(e){var t=this;this.model=Object.assign({},e),e&&"USER"===e.msgType&&(this.userType=!0,this.userIds=e.userIds,Object(i["c"])(this.url.queryByIds,{userIds:this.userIds}).then((function(e){if(e.success){for(var n=0;n<e.result.length;n++)t.selectedUser.push(e.result[n].realname);t.$refs.UserListModal.edit(e.result,t.userIds)}}))),this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"titile","msgContent","sender","priority","msgCategory","msgType","sendStatus","delFlag")),t.form.setFieldsValue({startTime:t.model.startTime?u()(t.model.startTime):null}),t.form.setFieldsValue({endTime:t.model.endTime?u()(t.model.endTime):null}),t.form.setFieldsValue({sendTime:t.model.sendTime?u()(t.model.sendTime):null}),t.form.setFieldsValue({cancelTime:t.model.cancelTime?u()(t.model.cancelTime):null})}))},close:function(){this.$emit("close"),this.selectedUser=[],this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);e.userType&&(s.userIds=e.userIds),s.startTime=s.startTime?s.startTime.format("YYYY-MM-DD HH:mm:ss"):null,s.endTime=s.endTime?s.endTime.format("YYYY-MM-DD HH:mm:ss"):null,Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.visible=!1,this.$emit("close"),this.resetUser()},resetUser:function(){this.userType=!1,this.userIds=[],this.selectedUser=[],this.disabled=!1,this.$refs.UserListModal.edit(null,null)},selectUserIds:function(){this.$refs.UserListModal.add(this.selectedUser,this.userIds)},chooseMsgType:function(e){"USER"==e?this.userType=!0:(this.userType=!1,this.selectedUser=[],this.userIds=[])},choseUser:function(e){this.selectedUser=[],this.userIds=[];for(var t=0;t<e.length;t++)this.selectedUser.push(e[t].realname),this.userIds+=e[t].id+","}}},f=d,p=n("5d22"),h=Object(p["a"])(f,r,o,!1,null,"f613c548",null);t["default"]=h.exports},"46fd":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"提现申请编号"}},[n("a-input",{attrs:{placeholder:"申请编号"},model:{value:e.queryParam.sn,callback:function(t){e.$set(e.queryParam,"sn",t)},expression:"queryParam.sn"}})],1)],1),n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"审核状态"}},[n("a-select",{attrs:{placeholder:"请选择审核状态"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[n("a-select-option",{attrs:{value:"0"}},[e._v("待审核")]),n("a-select-option",{attrs:{value:"2"}},[e._v("已通过")]),n("a-select-option",{attrs:{value:"3"}},[e._v("已驳回")])],1)],1)],1),n("a-col",{attrs:{md:8,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"status",fn:function(t,r){return n("span",{},["0"==r.status?n("a-tag",{attrs:{color:"orange"}},[e._v("待审核")]):e._e(),"3"==r.status?n("a-tag",{attrs:{color:"red"}},[e._v("已驳回")]):e._e(),"2"==r.status?n("a-tag",{attrs:{color:"green"}},[e._v("已通过")]):e._e()],1)}},{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("审核")])])}}])})],1),n("shopAccountWithdrawCashHistory-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("2921"),a=n("b65a"),s={name:"ShopAccountWithdrawCashHistoryList",mixins:[a["a"]],components:{ShopAccountWithdrawCashHistoryModal:i["default"]},data:function(){return{description:"商家提现申请管理页面",columns:[{title:"编号",align:"center",dataIndex:"sn"},{title:"提现金额",align:"center",dataIndex:"amount"},{title:"账户号码",align:"center",dataIndex:"bankAccount"},{title:"账户名",align:"center",dataIndex:"bankAccountName"},{title:"开户行",align:"center",dataIndex:"bank"},{title:"状态",align:"center",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"驳回原因",align:"center",dataIndex:"rejectReason"},{title:"操作时间",align:"center",dataIndex:"operateTime"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/mall/shopAccountWithdrawCashHistory/list",delete:"/mall/shopAccountWithdrawCashHistory/delete",deleteBatch:"/mall/shopAccountWithdrawCashHistory/deleteBatch",exportXlsUrl:"mall/shopAccountWithdrawCashHistory/exportXls",importExcelUrl:"mall/shopAccountWithdrawCashHistory/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{}},l=s,u=(n("288c"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"465cb16b",null);t["default"]=c.exports},4765:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:e.title,width:800,placement:"right",closable:!1,visible:e.visible},on:{close:e.close}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"['name', validatorRules.name ]"}],attrs:{placeholder:"请输入名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",e.validatorRules.code],expression:"['code', validatorRules.code ]"}],attrs:{placeholder:"请输入编码"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"平台"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["platform",{}],expression:"['platform', {}]"}],attrs:{placeholder:"请输入平台"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"钥匙"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["appkey",{}],expression:"['appkey', {}]"}],attrs:{placeholder:"请输入钥匙"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"密匙"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["appsecret",{}],expression:"['appsecret', {}]"}],attrs:{placeholder:"请输入密匙"}})],1)],1)],1),n("a-button",{attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("确定")]),n("a-button",{attrs:{type:"primary"},on:{click:e.handleCancel}},[e._v("取消")])],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=(n("caaf"),{name:"AppConfigModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{name:{rules:[{required:!0,message:"请输入名称!"}]},code:{rules:[{required:!0,message:"请输入编码!"}]}},url:{add:"/message/appConfig/add",edit:"/message/appConfig/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"name","code","platform","appkey","appsecret"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}}),u=l,c=(n("a316"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"7118ad86",null);t["default"]=d.exports},"480d":function(e,t,n){"use strict";n("8866")},4867:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"表名"}},[n("a-input",{attrs:{placeholder:"请输入表名"},model:{value:e.queryParam.dataTable,callback:function(t){e.$set(e.queryParam,"dataTable",t)},expression:"queryParam.dataTable"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"数据ID"}},[n("a-input",{attrs:{placeholder:"请输入ID"},model:{value:e.queryParam.dataId,callback:function(t){e.$set(e.queryParam,"dataId",t)},expression:"queryParam.dataId"}})],1)],1),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-button",{attrs:{type:"primary"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.handleCompare()}}},[e._v("数据比较")])],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v("已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项  \n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"dataContent",fn:function(e,t){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:80}})],1)}}])})],1),n("data-log-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("b469"),a=n("b65a"),s=n("d579"),l={name:"DataLogList",mixins:[a["a"]],components:{JEllipsis:s["default"],DataLogModal:i["default"]},data:function(){return{description:"数据日志管理页面",columns:[{title:"表名",align:"center",dataIndex:"dataTable"},{title:"数据ID",align:"center",dataIndex:"dataId"},{title:"版本号",align:"center",dataIndex:"dataVersion"},{title:"数据内容",align:"center",dataIndex:"dataContent",width:"120px",scopedSlots:{customRender:"dataContent"}},{title:"创建人",align:"center",dataIndex:"createBy"}],url:{list:"/sys/dataLog/list"}}},methods:{handleCompare:function(){return this.selectionRows&&2==this.selectionRows.length?this.selectionRows[0].dataId!=this.selectionRows[1].dataId?(this.openNotifIcon("请选择相同的数据库表和数据ID进行比较"),!1):(this.$refs.modalForm.addModal(this.selectionRows),void(this.$refs.modalForm.title="数据比较")):(this.openNotifIcon("请选择两条数据"),!1)},openNotifIcon:function(e){this.$notification["warning"]({message:"提示信息",description:e})}}},u=l,c=(n("b8a2"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"3d073d3c",null);t["default"]=d.exports},4874:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{"min-width":"800px","overflow-x":"auto"},attrs:{title:"树形结构图片翻页查看"}},[n("a-row",[n("a-col",{attrs:{span:5}},[n("a-tree",{style:{height:"500px","border-right":"2px solid #c1c1c1","overflow-y":"auto"},attrs:{showLine:"",treeData:e.treeData,expandedKeys:[e.expandedKeys[0]],selectedKeys:e.selectedKeys},on:{expand:e.onExpand,select:this.onSelect}})],1),n("a-col",{attrs:{span:19}},[n("a-row",{staticStyle:{"margin-top":"10px"}},[n("a-col",{staticStyle:{"padding-left":"2%","margin-bottom":"10px"},attrs:{span:24}},[n("a-button",{attrs:{type:"primary"},on:{click:e.prev}},[n("a-icon",{attrs:{type:"left"}}),e._v("上一页")],1),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.next}},[e._v("下一页"),n("a-icon",{attrs:{type:"right"}})],1),n("span",{staticStyle:{"margin-left":"15%","font-weight":"bolder"}},[e._v(e._s(e.navName))])],1),n("a-col",{staticStyle:{"padding-left":"2%"},attrs:{span:24}},[n("img",{attrs:{src:e.imgUrl,preview:""}})])],1)],1)],1)],1)},o=[],i=n("3335"),a=n.n(i),s={name:"ImgTurnPage",components:{draggable:a.a},data:function(){return{description:"图片翻页",treeData:[{title:"第一页",key:"0-0",children:[{title:"1页",key:"0-0-0",imgUrl:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=2735633715,2749454924&fm=27&gp=0.jpg"},{title:"2页",key:"0-0-1",imgUrl:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3967239004,1951414302&fm=27&gp=0.jpg"}]},{title:"第二页",key:"0-1",children:[{title:"1页",key:"0-1-0",imgUrl:"https://ss0.bdstatic.com/6Ox1bjeh1BF3odCf/it/u=3660968530,985748925&fm=191&app=48&size=h300&n=0&g=4n&f=JPEG?sec=1853310920&t=5e64af964be378c6c2a3b0acc65dfe24"},{title:"2页",key:"0-1-1",imgUrl:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=889120611,3801177793&fm=27&gp=0.jpg"}]},{title:"第三页",key:"0-2",children:[{title:"1页",key:"0-2-0",imgUrl:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=2445468140,2491956848&fm=27&gp=0.jpg"}]}],selectedKeys:[],expandedKeys:[],sort:0,imgUrl:"",navName:"",imgList:[]}},created:function(){this.getImgList()},methods:{getImgList:function(){for(var e=0,t=0;t<this.treeData.length;t++)for(var n=0;n<this.treeData[t].children.length;n++)this.imgList.push({key:this.treeData[t].children[n].key,pkey:this.treeData[t].key,sort:e++,imgUrl:this.treeData[t].children[n].imgUrl,navName:this.treeData[t].title+"/"+this.treeData[t].children[n].title});this.setValue(this.imgList[this.sort])},onSelect:function(e,t){for(var n=0;n<this.imgList.length;n++)if(this.imgList[n].key===e[0]){this.sort=this.imgList[n].sort,this.setValue(this.imgList[n]);break}},onExpand:function(e){this.expandedKeys=[],null!==e&&""!==e&&(this.expandedKeys[0]=e[1])},prev:function(){0===this.sort?this.sort=this.imgList.length-1:this.sort=this.sort-1,this.setValue(this.imgList[this.sort])},next:function(){this.sort===this.imgList.length-1?this.sort=0:this.sort=this.sort+1,this.setValue(this.imgList[this.sort])},setValue:function(e){this.selectedKeys=[],this.imgUrl=e.imgUrl,this.selectedKeys[0]=e.key,this.expandedKeys[0]=e.pkey,this.navName=e.navName}}},l=s,u=n("5d22"),c=Object(u["a"])(l,r,o,!1,null,"bf90459c",null);t["default"]=c.exports},"488a":function(e,t,n){},"489a":function(e,t,n){"use strict";n("95a4")},"49a9":function(e,t,n){"use strict";n("7dc6")},"4a1c":function(e,t,n){"use strict";n("a862")},"4a2a":function(e,t,n){},"4a54":function(e,t,n){},"4acf":function(e,t,n){"use strict";n("4ff9")},"4af8":function(e,t,n){},"4c99":function(e,t,n){!function(t,n){e.exports=n()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(4)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";var r=n(0);n.n(r).a},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,'\n.vue-cropper[data-v-6dae58fd] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  direction: ltr;\n  touch-action: none;\n  text-align: left;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC");\n}\n.cropper-box[data-v-6dae58fd],\n.cropper-box-canvas[data-v-6dae58fd],\n.cropper-drag-box[data-v-6dae58fd],\n.cropper-crop-box[data-v-6dae58fd],\n.cropper-face[data-v-6dae58fd] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  user-select: none;\n}\n.cropper-box-canvas img[data-v-6dae58fd] {\n  position: relative;\n  text-align: left;\n  user-select: none;\n  transform: none;\n  max-width: none;\n  max-height: none;\n}\n.cropper-box[data-v-6dae58fd] {\n  overflow: hidden;\n}\n.cropper-move[data-v-6dae58fd] {\n  cursor: move;\n}\n.cropper-crop[data-v-6dae58fd] {\n  cursor: crosshair;\n}\n.cropper-modal[data-v-6dae58fd] {\n  background: rgba(0, 0, 0, 0.5);\n}\n.cropper-crop-box[data-v-6dae58fd] {\n  /*border: 2px solid #39f;*/\n}\n.cropper-view-box[data-v-6dae58fd] {\n  display: block;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  user-select: none;\n}\n.cropper-view-box img[data-v-6dae58fd] {\n  user-select: none;\n  text-align: left;\n  max-width: none;\n  max-height: none;\n}\n.cropper-face[data-v-6dae58fd] {\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  opacity: 0.1;\n}\n.crop-info[data-v-6dae58fd] {\n  position: absolute;\n  left: 0px;\n  min-width: 65px;\n  text-align: center;\n  color: white;\n  line-height: 20px;\n  background-color: rgba(0, 0, 0, 0.8);\n  font-size: 12px;\n}\n.crop-line[data-v-6dae58fd] {\n  position: absolute;\n  display: block;\n  width: 100%;\n  height: 100%;\n  opacity: 0.1;\n}\n.line-w[data-v-6dae58fd] {\n  top: -3px;\n  left: 0;\n  height: 5px;\n  cursor: n-resize;\n}\n.line-a[data-v-6dae58fd] {\n  top: 0;\n  left: -3px;\n  width: 5px;\n  cursor: w-resize;\n}\n.line-s[data-v-6dae58fd] {\n  bottom: -3px;\n  left: 0;\n  height: 5px;\n  cursor: s-resize;\n}\n.line-d[data-v-6dae58fd] {\n  top: 0;\n  right: -3px;\n  width: 5px;\n  cursor: e-resize;\n}\n.crop-point[data-v-6dae58fd] {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  opacity: 0.75;\n  background-color: #39f;\n  border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n  top: -4px;\n  left: -4px;\n  cursor: nw-resize;\n}\n.point2[data-v-6dae58fd] {\n  top: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: n-resize;\n}\n.point3[data-v-6dae58fd] {\n  top: -4px;\n  right: -4px;\n  cursor: ne-resize;\n}\n.point4[data-v-6dae58fd] {\n  top: 50%;\n  left: -4px;\n  margin-top: -3px;\n  cursor: w-resize;\n}\n.point5[data-v-6dae58fd] {\n  top: 50%;\n  right: -4px;\n  margin-top: -3px;\n  cursor: e-resize;\n}\n.point6[data-v-6dae58fd] {\n  bottom: -5px;\n  left: -4px;\n  cursor: sw-resize;\n}\n.point7[data-v-6dae58fd] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: s-resize;\n}\n.point8[data-v-6dae58fd] {\n  bottom: -5px;\n  right: -4px;\n  cursor: se-resize;\n}\n@media screen and (max-width: 500px) {\n.crop-point[data-v-6dae58fd] {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    opacity: 0.45;\n    background-color: #39f;\n    border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n    top: -10px;\n    left: -10px;\n}\n.point2[data-v-6dae58fd],\n  .point4[data-v-6dae58fd],\n  .point5[data-v-6dae58fd],\n  .point7[data-v-6dae58fd] {\n    display: none;\n}\n.point3[data-v-6dae58fd] {\n    top: -10px;\n    right: -10px;\n}\n.point4[data-v-6dae58fd] {\n    top: 0;\n    left: 0;\n}\n.point6[data-v-6dae58fd] {\n    bottom: -10px;\n    left: -10px;\n}\n.point8[data-v-6dae58fd] {\n    bottom: -10px;\n    right: -10px;\n}\n}\n',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),i=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r={},o=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),i=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),a=null,s=0,l=[],u=n(5);function c(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=r[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(g(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(g(o.parts[a],t));r[o.id]={id:o.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function f(e,t){var n=i(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=i(e.insertAt.before,n);n.insertBefore(t,o)}}function p(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function h(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){return n.nc}();r&&(e.attrs.nonce=r)}return m(t,e.attrs),f(e,t),t}function m(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function g(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var l=s++;n=a||(a=h(t)),r=y.bind(null,n,l,!1),o=y.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),f(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=u(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(t),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){p(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return c(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var a=n[i];(s=r[a.id]).refs--,o.push(s)}for(e&&c(d(e,t),t),i=0;i<o.length;i++){var s;if(0===(s=o[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function y(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"cropper",staticClass:"vue-cropper",on:{mouseover:e.scaleImg,mouseout:e.cancelScale}},[n("div",{staticClass:"cropper-box"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"cropper-box-canvas",style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+e.x/e.scale+"px,"+e.y/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"}},[n("img",{ref:"cropperImg",attrs:{src:e.imgs,alt:"cropper-img"}})])]),e._v(" "),n("div",{staticClass:"cropper-drag-box",class:{"cropper-move":e.move&&!e.crop,"cropper-crop":e.crop,"cropper-modal":e.cropping},on:{mousedown:e.startMove,touchstart:e.startMove}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.cropping,expression:"cropping"}],staticClass:"cropper-crop-box",style:{width:e.cropW+"px",height:e.cropH+"px",transform:"translate3d("+e.cropOffsertX+"px,"+e.cropOffsertY+"px,0)"}},[n("span",{staticClass:"cropper-view-box"},[n("img",{style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+(e.x-e.cropOffsertX)/e.scale+"px,"+(e.y-e.cropOffsertY)/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"},attrs:{src:e.imgs,alt:"cropper-img"}})]),e._v(" "),n("span",{staticClass:"cropper-face cropper-move",on:{mousedown:e.cropMove,touchstart:e.cropMove}}),e._v(" "),e.info?n("span",{staticClass:"crop-info",style:{top:e.cropInfo.top}},[e._v(e._s(this.cropInfo.width)+" × "+e._s(this.cropInfo.height))]):e._e(),e._v(" "),e.fixedBox?e._e():n("span",[n("span",{staticClass:"crop-line line-w",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),n("span",{staticClass:"crop-line line-a",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),n("span",{staticClass:"crop-line line-s",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),n("span",{staticClass:"crop-line line-d",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),n("span",{staticClass:"crop-point point1",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,1)}}}),e._v(" "),n("span",{staticClass:"crop-point point2",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),n("span",{staticClass:"crop-point point3",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,1)}}}),e._v(" "),n("span",{staticClass:"crop-point point4",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),n("span",{staticClass:"crop-point point5",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),n("span",{staticClass:"crop-point point6",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,2)}}}),e._v(" "),n("span",{staticClass:"crop-point point7",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),n("span",{staticClass:"crop-point point8",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,2)}}})])])])};r._withStripped=!0;var o={getData:function(e){return new Promise((function(t,n){var r={};(function(e){var t=null;return new Promise((function(n,r){if(e.src)if(/^data\:/i.test(e.src))t=function(e){e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var t=atob(e),n=t.length,r=new ArrayBuffer(n),o=new Uint8Array(r),i=0;i<n;i++)o[i]=t.charCodeAt(i);return r}(e.src),n(t);else if(/^blob\:/i.test(e.src)){var o=new FileReader;o.onload=function(e){t=e.target.result,n(t)},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}(e.src,(function(e){o.readAsArrayBuffer(e)}))}else{var i=new XMLHttpRequest;i.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";t=i.response,n(t),i=null},i.open("GET",e.src,!0),i.responseType="arraybuffer",i.send(null)}else r("img error")}))})(e).then((function(e){r.arrayBuffer=e,r.orientation=function(e){var t,n,r,o,i,a,s,l,u,c=new DataView(e),d=c.byteLength;if(255===c.getUint8(0)&&216===c.getUint8(1))for(l=2;l<d;){if(255===c.getUint8(l)&&225===c.getUint8(l+1)){a=l;break}l++}if(a&&(n=a+10,"Exif"===function(e,t,n){var r,o="";for(r=t,n+=t;r<n;r++)o+=String.fromCharCode(e.getUint8(r));return o}(c,a+4,4)&&(i=c.getUint16(n),((o=18761===i)||19789===i)&&42===c.getUint16(n+2,o)&&(r=c.getUint32(n+4,o))>=8&&(s=n+r))),s)for(d=c.getUint16(s,o),u=0;u<d;u++)if(l=s+12*u+2,274===c.getUint16(l,o)){l+=8,t=c.getUint16(l,o);break}return t}(e),t(r)})).catch((function(e){n(e)}))}))}},i=o,a={data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:"",isCanShow:!0}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:[Number,String],default:0},autoCropHeight:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:function(){return[1,1]}},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:Number,default:2e3},enlarge:{type:[Number,String],default:1},preW:{type:[Number,String],default:0},mode:{type:String,default:"contain"}},computed:{cropInfo:function(){var e={};if(e.top=this.cropOffsertY>21?"-21px":"0px",e.width=this.cropW>0?this.cropW:0,e.height=this.cropH>0?this.cropH:0,this.infoTrue){var t=1;this.high&&!this.full&&(t=window.devicePixelRatio),1!==this.enlarge&!this.full&&(t=Math.abs(Number(this.enlarge))),e.width=e.width*t,e.height=e.height*t,this.full&&(e.width=e.width/this.scale,e.height=e.height/this.scale)}return e.width=e.width.toFixed(0),e.height=e.height.toFixed(0),e},isIE:function(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1;return t}},watch:{img:function(){this.checkedImg()},imgs:function(e){""!==e&&this.reload()},cropW:function(){this.showPreview()},cropH:function(){this.showPreview()},cropOffsertX:function(){this.showPreview()},cropOffsertY:function(){this.showPreview()},scale:function(e,t){this.showPreview()},x:function(){this.showPreview()},y:function(){this.showPreview()},autoCrop:function(e){e&&this.goAutoCrop()},autoCropWidth:function(){this.autoCrop&&this.goAutoCrop()},autoCropHeight:function(){this.autoCrop&&this.goAutoCrop()},mode:function(){this.checkedImg()},rotate:function(){this.showPreview(),(this.autoCrop||this.cropW>0||this.cropH>0)&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{checkOrientationImage:function(e,t,n,r){var o=this,i=document.createElement("canvas"),a=i.getContext("2d");switch(a.save(),t){case 2:i.width=n,i.height=r,a.translate(n,0),a.scale(-1,1);break;case 3:i.width=n,i.height=r,a.translate(n/2,r/2),a.rotate(180*Math.PI/180),a.translate(-n/2,-r/2);break;case 4:i.width=n,i.height=r,a.translate(0,r),a.scale(1,-1);break;case 5:i.height=n,i.width=r,a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:i.width=r,i.height=n,a.translate(r/2,n/2),a.rotate(90*Math.PI/180),a.translate(-n/2,-r/2);break;case 7:i.height=n,i.width=r,a.rotate(.5*Math.PI),a.translate(n,-r),a.scale(-1,1);break;case 8:i.height=n,i.width=r,a.translate(r/2,n/2),a.rotate(-90*Math.PI/180),a.translate(-n/2,-r/2);break;default:i.width=n,i.height=r}a.drawImage(e,0,0,n,r),a.restore(),i.toBlob((function(e){var t=URL.createObjectURL(e);o.imgs=t}),"image/"+this.outputType,1)},checkedImg:function(){var e=this;if(""!==this.img){this.loading=!0,this.scale=1,this.rotate=0,this.clearCrop();var t=new Image;if(t.onload=function(){if(""===e.img)return e.$emit("imgLoad","error"),e.$emit("img-load","error"),!1;var n=t.width,r=t.height;i.getData(t).then((function(o){e.orientation=o.orientation||1;var i=e.maxImgSize;!e.orientation&&n<i&r<i?e.imgs=e.img:(n>i&&(r=r/n*i,n=i),r>i&&(n=n/r*i,r=i),e.checkOrientationImage(t,e.orientation,n,r))}))},t.onerror=function(){e.$emit("imgLoad","error"),e.$emit("img-load","error")},"data"!==this.img.substr(0,4)&&(t.crossOrigin=""),this.isIE){var n=new XMLHttpRequest;n.onload=function(){var e=URL.createObjectURL(this.response);t.src=e},n.open("GET",this.img,!0),n.responseType="blob",n.send()}else t.src=this.img}},startMove:function(e){if(e.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=(e.clientX?e.clientX:e.touches[0].clientX)-this.x,this.moveY=(e.clientY?e.clientY:e.touches[0].clientY)-this.y,e.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),2==e.touches.length&&(this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=e.offsetX?e.offsetX:e.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=e.offsetY?e.offsetY:e.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX=e.clientX?e.clientX:e.touches[0].clientX,this.cropY=e.clientY?e.clientY:e.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale:function(e){var t=this;e.preventDefault();var n=this.scale,r=this.touches[0].clientX,o=this.touches[0].clientY,i=e.touches[0].clientX,a=e.touches[0].clientY,s=this.touches[1].clientX,l=this.touches[1].clientY,u=e.touches[1].clientX,c=e.touches[1].clientY,d=Math.sqrt(Math.pow(r-s,2)+Math.pow(o-l,2)),f=Math.sqrt(Math.pow(i-u,2)+Math.pow(a-c,2))-d,p=1,h=(p=(p=p/this.trueWidth>p/this.trueHeight?p/this.trueHeight:p/this.trueWidth)>.1?.1:p)*f;if(!this.touchNow){if(this.touchNow=!0,f>0?n+=Math.abs(h):f<0&&n>Math.abs(h)&&(n-=Math.abs(h)),this.touches=e.touches,setTimeout((function(){t.touchNow=!1}),8),!this.checkoutImgAxis(this.x,this.y,n))return!1;this.scale=n}},cancelTouchScale:function(e){window.removeEventListener("touchmove",this.touchScale)},moveImg:function(e){var t=this;if(e.preventDefault(),e.touches&&2===e.touches.length)return this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;var n,r,o=e.clientX?e.clientX:e.touches[0].clientX,i=e.clientY?e.clientY:e.touches[0].clientY;n=o-this.moveX,r=i-this.moveY,this.$nextTick((function(){if(t.centerBox){var e,o,i,a,s=t.getImgAxis(n,r,t.scale),l=t.getCropAxis(),u=t.trueHeight*t.scale,c=t.trueWidth*t.scale;switch(t.rotate){case 1:case-1:case 3:case-3:e=t.cropOffsertX-t.trueWidth*(1-t.scale)/2+(u-c)/2,o=t.cropOffsertY-t.trueHeight*(1-t.scale)/2+(c-u)/2,i=e-u+t.cropW,a=o-c+t.cropH;break;default:e=t.cropOffsertX-t.trueWidth*(1-t.scale)/2,o=t.cropOffsertY-t.trueHeight*(1-t.scale)/2,i=e-c+t.cropW,a=o-u+t.cropH}s.x1>=l.x1&&(n=e),s.y1>=l.y1&&(r=o),s.x2<=l.x2&&(n=i),s.y2<=l.y2&&(r=a)}t.x=n,t.y=r,t.$emit("imgMoving",{moving:!0,axis:t.getImgAxis()}),t.$emit("img-moving",{moving:!0,axis:t.getImgAxis()})}))},leaveImg:function(e){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("imgMoving",{moving:!1,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!1,axis:this.getImgAxis()})},scaleImg:function(){this.canScale&&window.addEventListener(this.support,this.changeSize,{passive:!1})},cancelScale:function(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize:function(e){var t=this;e.preventDefault();var n=this.scale,r=e.deltaY||e.wheelDelta;r=navigator.userAgent.indexOf("Firefox")>0?30*r:r,this.isIE&&(r=-r);var o=this.coe,i=(o=o/this.trueWidth>o/this.trueHeight?o/this.trueHeight:o/this.trueWidth)*r;i<0?n+=Math.abs(i):n>Math.abs(i)&&(n-=Math.abs(i));var a=i<0?"add":"reduce";if(a!==this.coeStatus&&(this.coeStatus=a,this.coe=.2),this.scaling||(this.scalingSet=setTimeout((function(){t.scaling=!1,t.coe=t.coe+=.01}),50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,n))return!1;this.scale=n},changeScale:function(e){var t=this.scale;e=e||1;var n=20;if((e*=n=n/this.trueWidth>n/this.trueHeight?n/this.trueHeight:n/this.trueWidth)>0?t+=Math.abs(e):t>Math.abs(e)&&(t-=Math.abs(e)),!this.checkoutImgAxis(this.x,this.y,t))return!1;this.scale=t},createCrop:function(e){var t=this;e.preventDefault();var n=e.clientX?e.clientX:e.touches?e.touches[0].clientX:0,r=e.clientY?e.clientY:e.touches?e.touches[0].clientY:0;this.$nextTick((function(){var e=n-t.cropX,o=r-t.cropY;if(e>0?(t.cropW=e+t.cropChangeX>t.w?t.w-t.cropChangeX:e,t.cropOffsertX=t.cropChangeX):(t.cropW=t.w-t.cropChangeX+Math.abs(e)>t.w?t.cropChangeX:Math.abs(e),t.cropOffsertX=t.cropChangeX+e>0?t.cropChangeX+e:0),t.fixed){var i=t.cropW/t.fixedNumber[0]*t.fixedNumber[1];i+t.cropOffsertY>t.h?(t.cropH=t.h-t.cropOffsertY,t.cropW=t.cropH/t.fixedNumber[1]*t.fixedNumber[0],t.cropOffsertX=e>0?t.cropChangeX:t.cropChangeX-t.cropW):t.cropH=i,t.cropOffsertY=t.cropOffsertY}else o>0?(t.cropH=o+t.cropChangeY>t.h?t.h-t.cropChangeY:o,t.cropOffsertY=t.cropChangeY):(t.cropH=t.h-t.cropChangeY+Math.abs(o)>t.h?t.cropChangeY:Math.abs(o),t.cropOffsertY=t.cropChangeY+o>0?t.cropChangeY+o:0)}))},changeCropSize:function(e,t,n,r,o){e.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=t,this.canChangeY=n,this.changeCropTypeX=r,this.changeCropTypeY=o,this.cropX=e.clientX?e.clientX:e.touches[0].clientX,this.cropY=e.clientY?e.clientY:e.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0)},changeCropNow:function(e){var t=this;e.preventDefault();var n=e.clientX?e.clientX:e.touches?e.touches[0].clientX:0,r=e.clientY?e.clientY:e.touches?e.touches[0].clientY:0,o=this.w,i=this.h,a=0,s=0;if(this.centerBox){var l=this.getImgAxis(),u=l.x2,c=l.y2;a=l.x1>0?l.x1:0,s=l.y1>0?l.y1:0,o>u&&(o=u),i>c&&(i=c)}this.$nextTick((function(){var e=n-t.cropX,l=r-t.cropY;if(t.canChangeX&&(1===t.changeCropTypeX?t.cropOldW-e>0?(t.cropW=o-t.cropChangeX-e<=o-a?t.cropOldW-e:t.cropOldW+t.cropChangeX-a,t.cropOffsertX=o-t.cropChangeX-e<=o-a?t.cropChangeX+e:a):(t.cropW=Math.abs(e)+t.cropChangeX<=o?Math.abs(e)-t.cropOldW:o-t.cropOldW-t.cropChangeX,t.cropOffsertX=t.cropChangeX+t.cropOldW):2===t.changeCropTypeX&&(t.cropOldW+e>0?(t.cropW=t.cropOldW+e+t.cropOffsertX<=o?t.cropOldW+e:o-t.cropOffsertX,t.cropOffsertX=t.cropChangeX):(t.cropW=o-t.cropChangeX+Math.abs(e+t.cropOldW)<=o-a?Math.abs(e+t.cropOldW):t.cropChangeX-a,t.cropOffsertX=o-t.cropChangeX+Math.abs(e+t.cropOldW)<=o-a?t.cropChangeX-Math.abs(e+t.cropOldW):a))),t.canChangeY&&(1===t.changeCropTypeY?t.cropOldH-l>0?(t.cropH=i-t.cropChangeY-l<=i-s?t.cropOldH-l:t.cropOldH+t.cropChangeY-s,t.cropOffsertY=i-t.cropChangeY-l<=i-s?t.cropChangeY+l:s):(t.cropH=Math.abs(l)+t.cropChangeY<=i?Math.abs(l)-t.cropOldH:i-t.cropOldH-t.cropChangeY,t.cropOffsertY=t.cropChangeY+t.cropOldH):2===t.changeCropTypeY&&(t.cropOldH+l>0?(t.cropH=t.cropOldH+l+t.cropOffsertY<=i?t.cropOldH+l:i-t.cropOffsertY,t.cropOffsertY=t.cropChangeY):(t.cropH=i-t.cropChangeY+Math.abs(l+t.cropOldH)<=i-s?Math.abs(l+t.cropOldH):t.cropChangeY-s,t.cropOffsertY=i-t.cropChangeY+Math.abs(l+t.cropOldH)<=i-s?t.cropChangeY-Math.abs(l+t.cropOldH):s))),t.canChangeX&&t.fixed){var u=t.cropW/t.fixedNumber[0]*t.fixedNumber[1];u+t.cropOffsertY>i?(t.cropH=i-t.cropOffsertY,t.cropW=t.cropH/t.fixedNumber[1]*t.fixedNumber[0]):t.cropH=u}if(t.canChangeY&&t.fixed){var c=t.cropH/t.fixedNumber[1]*t.fixedNumber[0];c+t.cropOffsertX>o?(t.cropW=o-t.cropOffsertX,t.cropH=t.cropW/t.fixedNumber[0]*t.fixedNumber[1]):t.cropW=c}}))},changeCropEnd:function(e){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},endCrop:function(){0===this.cropW&&0===this.cropH&&(this.cropping=!1),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop:function(){this.crop=!0},stopCrop:function(){this.crop=!1},clearCrop:function(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove:function(e){if(e.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(e),!1;if(e.touches&&2===e.touches.length)return this.crop=!1,this.startMove(e),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);var t,n,r=e.clientX?e.clientX:e.touches[0].clientX,o=e.clientY?e.clientY:e.touches[0].clientY;t=r-this.cropOffsertX,n=o-this.cropOffsertY,this.cropX=t,this.cropY=n,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})},moveCrop:function(e,t){var n=this,r=0,o=0;e&&(e.preventDefault(),r=e.clientX?e.clientX:e.touches[0].clientX,o=e.clientY?e.clientY:e.touches[0].clientY),this.$nextTick((function(){var e,i,a=r-n.cropX,s=o-n.cropY;if(t&&(a=n.cropOffsertX,s=n.cropOffsertY),e=a<=0?0:a+n.cropW>n.w?n.w-n.cropW:a,i=s<=0?0:s+n.cropH>n.h?n.h-n.cropH:s,n.centerBox){var l=n.getImgAxis();e<=l.x1&&(e=l.x1),e+n.cropW>l.x2&&(e=l.x2-n.cropW),i<=l.y1&&(i=l.y1),i+n.cropH>l.y2&&(i=l.y2-n.cropH)}n.cropOffsertX=e,n.cropOffsertY=i,n.$emit("cropMoving",{moving:!0,axis:n.getCropAxis()}),n.$emit("crop-moving",{moving:!0,axis:n.getCropAxis()})}))},getImgAxis:function(e,t,n){e=e||this.x,t=t||this.y,n=n||this.scale;var r={x1:0,x2:0,y1:0,y2:0},o=this.trueWidth*n,i=this.trueHeight*n;switch(this.rotate){case 0:r.x1=e+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=t+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n;break;case 1:case-1:case 3:case-3:r.x1=e+this.trueWidth*(1-n)/2+(o-i)/2,r.x2=r.x1+this.trueHeight*n,r.y1=t+this.trueHeight*(1-n)/2+(i-o)/2,r.y2=r.y1+this.trueWidth*n;break;default:r.x1=e+this.trueWidth*(1-n)/2,r.x2=r.x1+this.trueWidth*n,r.y1=t+this.trueHeight*(1-n)/2,r.y2=r.y1+this.trueHeight*n}return r},getCropAxis:function(){var e={x1:0,x2:0,y1:0,y2:0};return e.x1=this.cropOffsertX,e.x2=e.x1+this.cropW,e.y1=this.cropOffsertY,e.y2=e.y1+this.cropH,e},leaveCrop:function(e){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("cropMoving",{moving:!1,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!1,axis:this.getCropAxis()})},getCropChecked:function(e){var t=this,n=document.createElement("canvas"),r=new Image,o=this.rotate,i=this.trueWidth,a=this.trueHeight,s=this.cropOffsertX,l=this.cropOffsertY;function u(e,t){n.width=Math.round(e),n.height=Math.round(t)}r.onload=function(){if(0!==t.cropW){var c=n.getContext("2d"),d=1;t.high&!t.full&&(d=window.devicePixelRatio),1!==t.enlarge&!t.full&&(d=Math.abs(Number(t.enlarge)));var f=t.cropW*d,p=t.cropH*d,h=i*t.scale*d,m=a*t.scale*d,g=(t.x-s+t.trueWidth*(1-t.scale)/2)*d,v=(t.y-l+t.trueHeight*(1-t.scale)/2)*d;switch(u(f,p),c.save(),o){case 0:t.full?(u(f/t.scale,p/t.scale),c.drawImage(r,g/t.scale,v/t.scale,h/t.scale,m/t.scale)):c.drawImage(r,g,v,h,m);break;case 1:case-3:t.full?(u(f/t.scale,p/t.scale),g=g/t.scale+(h/t.scale-m/t.scale)/2,v=v/t.scale+(m/t.scale-h/t.scale)/2,c.rotate(90*o*Math.PI/180),c.drawImage(r,v,-g-m/t.scale,h/t.scale,m/t.scale)):(g+=(h-m)/2,v+=(m-h)/2,c.rotate(90*o*Math.PI/180),c.drawImage(r,v,-g-m,h,m));break;case 2:case-2:t.full?(u(f/t.scale,p/t.scale),c.rotate(90*o*Math.PI/180),g/=t.scale,v/=t.scale,c.drawImage(r,-g-h/t.scale,-v-m/t.scale,h/t.scale,m/t.scale)):(c.rotate(90*o*Math.PI/180),c.drawImage(r,-g-h,-v-m,h,m));break;case 3:case-1:t.full?(u(f/t.scale,p/t.scale),g=g/t.scale+(h/t.scale-m/t.scale)/2,v=v/t.scale+(m/t.scale-h/t.scale)/2,c.rotate(90*o*Math.PI/180),c.drawImage(r,-v-h/t.scale,g,h/t.scale,m/t.scale)):(g+=(h-m)/2,v+=(m-h)/2,c.rotate(90*o*Math.PI/180),c.drawImage(r,-v-h,g,h,m));break;default:t.full?(u(f/t.scale,p/t.scale),c.drawImage(r,g/t.scale,v/t.scale,h/t.scale,m/t.scale)):c.drawImage(r,g,v,h,m)}c.restore()}else{var y=i*t.scale,b=a*t.scale,x=n.getContext("2d");switch(x.save(),o){case 0:u(y,b),x.drawImage(r,0,0,y,b);break;case 1:case-3:u(b,y),x.rotate(90*o*Math.PI/180),x.drawImage(r,0,-b,y,b);break;case 2:case-2:u(y,b),x.rotate(90*o*Math.PI/180),x.drawImage(r,-y,-b,y,b);break;case 3:case-1:u(b,y),x.rotate(90*o*Math.PI/180),x.drawImage(r,-y,0,y,b);break;default:u(y,b),x.drawImage(r,0,0,y,b)}x.restore()}e(n)},"data"!==this.img.substr(0,4)&&(r.crossOrigin="Anonymous"),r.src=this.imgs},getCropData:function(e){var t=this;this.getCropChecked((function(n){e(n.toDataURL("image/"+t.outputType,t.outputSize))}))},getCropBlob:function(e){var t=this;this.getCropChecked((function(n){n.toBlob((function(t){return e(t)}),"image/"+t.outputType,t.outputSize)}))},showPreview:function(){var e=this;if(!this.isCanShow)return!1;this.isCanShow=!1,setTimeout((function(){e.isCanShow=!0}),16);var t=this.cropW,n=this.cropH,r=this.scale,o={};o.div={width:"".concat(t,"px"),height:"".concat(n,"px")};var i=(this.x-this.cropOffsertX)/r,a=(this.y-this.cropOffsertY)/r;o.w=t,o.h=n,o.url=this.imgs,o.img={width:"".concat(this.trueWidth,"px"),height:"".concat(this.trueHeight,"px"),transform:"scale(".concat(r,")translate3d(").concat(i,"px, ").concat(a,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,"deg)")},o.html='\n      <div class="show-preview" style="width: '.concat(o.w,"px; height: ").concat(o.h,'px,; overflow: hidden">\n        <div style="width: ').concat(t,"px; height: ").concat(n,'px">\n          <img src=').concat(o.url,' style="width: ').concat(this.trueWidth,"px; height: ").concat(this.trueHeight,"px; transform:\n          scale(").concat(r,")translate3d(").concat(i,"px, ").concat(a,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,'deg)">\n        </div>\n      </div>'),this.$emit("realTime",o),this.$emit("real-time",o)},reload:function(){var e=this,t=new Image;t.onload=function(){e.w=parseFloat(window.getComputedStyle(e.$refs.cropper).width),e.h=parseFloat(window.getComputedStyle(e.$refs.cropper).height),e.trueWidth=t.width,e.trueHeight=t.height,e.original?e.scale=1:e.scale=e.checkedMode(),e.$nextTick((function(){e.x=-(e.trueWidth-e.trueWidth*e.scale)/2+(e.w-e.trueWidth*e.scale)/2,e.y=-(e.trueHeight-e.trueHeight*e.scale)/2+(e.h-e.trueHeight*e.scale)/2,e.loading=!1,e.autoCrop&&e.goAutoCrop(),e.$emit("img-load","success"),e.$emit("imgLoad","success"),setTimeout((function(){e.showPreview()}),20)}))},t.onerror=function(){e.$emit("imgLoad","error"),e.$emit("img-load","error")},t.src=this.imgs},checkedMode:function(){var e=1,t=(this.trueWidth,this.trueHeight),n=this.mode.split(" ");switch(n[0]){case"contain":this.trueWidth>this.w&&(e=this.w/this.trueWidth),this.trueHeight*e>this.h&&(e=this.h/this.trueHeight);break;case"cover":(t*=e=this.w/this.trueWidth)<this.h&&(e=(t=this.h)/this.trueHeight);break;default:try{var r=n[0];if(-1!==r.search("px")&&(r=r.replace("px",""),e=parseFloat(r)/this.trueWidth),-1!==r.search("%")&&(r=r.replace("%",""),e=parseFloat(r)/100*this.w/this.trueWidth),2===n.length&&"auto"===r){var o=n[1];-1!==o.search("px")&&(o=o.replace("px",""),e=(t=parseFloat(o))/this.trueHeight),-1!==o.search("%")&&(o=o.replace("%",""),e=(t=parseFloat(o)/100*this.h)/this.trueHeight)}}catch(t){e=1}}return e},goAutoCrop:function(e,t){this.clearCrop(),this.cropping=!0;var n=this.w,r=this.h;if(this.centerBox){var o=this.trueWidth*this.scale,i=this.trueHeight*this.scale;n=o<n?o:n,r=i<r?i:r}var a=e||parseFloat(this.autoCropWidth),s=t||parseFloat(this.autoCropHeight);0!==a&&0!==s||(a=.8*n,s=.8*r),a=a>n?n:a,s=s>r?r:s,this.fixed&&(s=a/this.fixedNumber[0]*this.fixedNumber[1]),s>this.h&&(a=(s=this.h)/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(a,s)},changeCrop:function(e,t){var n=this;if(this.centerBox){var r=this.getImgAxis();e>r.x2-r.x1&&(t=(e=r.x2-r.x1)/this.fixedNumber[0]*this.fixedNumber[1]),t>r.y2-r.y1&&(e=(t=r.y2-r.y1)/this.fixedNumber[1]*this.fixedNumber[0])}this.cropW=e,this.cropH=t,this.cropOffsertX=(this.w-e)/2,this.cropOffsertY=(this.h-t)/2,this.centerBox&&this.$nextTick((function(){n.moveCrop(null,!0)}))},refresh:function(){var e=this;this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.clearCrop(),this.$nextTick((function(){e.checkedImg()}))},rotateLeft:function(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight:function(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear:function(){this.rotate=0},checkoutImgAxis:function(e,t,n){e=e||this.x,t=t||this.y,n=n||this.scale;var r=!0;if(this.centerBox){var o=this.getImgAxis(e,t,n),i=this.getCropAxis();o.x1>=i.x1&&(r=!1),o.x2<=i.x2&&(r=!1),o.y1>=i.y1&&(r=!1),o.y2<=i.y2&&(r=!1)}return r}},mounted:function(){this.support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var e=this,t=navigator.userAgent;this.isIOS=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,n,r){for(var o=atob(this.toDataURL(n,r).split(",")[1]),i=o.length,a=new Uint8Array(i),s=0;s<i;s++)a[s]=o.charCodeAt(s);t(new Blob([a],{type:e.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},destroyed:function(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop)}};n(1);var s=function(e,t,n,r,o,i,a,s){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:u}}(a,r,[],!1,null,"6dae58fd",null);s.options.__file="src/vue-cropper.vue";var l=s.exports;n.d(t,"VueCropper",(function(){return l}));var u=function(e){e.component("VueCropper",l)};"undefined"!=typeof window&&window.Vue&&u(window.Vue),t.default={version:"0.4.8",install:u,VueCropper:l,vueCropper:l}}])}))},"4ced":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-chart",{attrs:{forceFit:!0,height:e.height,width:e.width,data:e.data,scale:e.scale,padding:0}},[n("v-tooltip"),n("v-interval",{attrs:{shape:["liquid-fill-gauge"],position:"transfer*value",color:"","v-style":{lineWidth:8,opacity:.75},tooltip:["transfer*value",function(e,t){return{name:e,value:t}}]}}),e._l(e.data,(function(e,t){return n("v-guide",{key:t,attrs:{type:"text",top:!0,position:{gender:e.transfer,value:45},content:e.value+"%","v-style":{fontSize:100,textAlign:"center",opacity:.75}}})}))],2)],1)},o=[],i=[{transfer:"一月",value:813},{transfer:"二月",value:233},{transfer:"三月",value:561}],a={name:"Liquid",props:{height:{type:Number,default:0},width:{type:Number,default:0}},data:function(){return{data:i,scale:[]}}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"383ba75c",null);t["default"]=u.exports},"4dbf":function(e,t,n){"use strict";n("6b26")},"4ec6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{attrs:{"force-fit":!0,height:e.height,data:e.data,scale:e.scale}},[n("v-tooltip"),n("v-axis"),n("v-legend"),n("v-line",{attrs:{position:"type*y",color:"x"}}),n("v-point",{attrs:{position:"type*y",color:"x",size:4,"v-style":e.style,shape:"circle"}})],1)],1)},o=[],i=n("b74e"),a={name:"LineChartMultid",props:{title:{type:String,default:""},dataSource:{type:Array,default:function(){return[{type:"Jan",jeecg:7,jeebt:3.9},{type:"Feb",jeecg:6.9,jeebt:4.2},{type:"Mar",jeecg:9.5,jeebt:5.7},{type:"Apr",jeecg:14.5,jeebt:8.5},{type:"May",jeecg:18.4,jeebt:11.9},{type:"Jun",jeecg:21.5,jeebt:15.2},{type:"Jul",jeecg:25.2,jeebt:17},{type:"Aug",jeecg:26.5,jeebt:16.6},{type:"Sep",jeecg:23.3,jeebt:14.2},{type:"Oct",jeecg:18.3,jeebt:10.3},{type:"Nov",jeecg:13.9,jeebt:6.6},{type:"Dec",jeecg:9.6,jeebt:4.8}]}},fields:{type:Array,default:function(){return["jeecg","jeebt"]}},height:{type:Number,default:254}},data:function(){return{scale:[{dataKey:"x",min:0,max:1}],style:{stroke:"#fff",lineWidth:1}}},computed:{data:function(){var e=(new i["DataSet"].View).source(this.dataSource);return e.transform({type:"fold",fields:this.fields,key:"x",value:"y"}),e.rows}}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"071c9112",null);t["default"]=u.exports},"4ede":function(e,t,n){},"4fa6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticClass:"card-area",attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"名称",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[n("a-input",{attrs:{placeholder:"请输入名称查询"},model:{value:e.queryParam.roleName,callback:function(t){e.$set(e.queryParam,"roleName",t)},expression:"queryParam.roleName"}})],1)],1),n("a-col",{attrs:{md:10,sm:12}},[n("a-form-item",{attrs:{label:"创建时间",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[n("j-date",{staticStyle:{width:"45%"},attrs:{showTime:!0,"date-format":"YYYY-MM-DD HH:mm:ss",placeholder:"请选择开始时间"},model:{value:e.queryParam.createTime_begin,callback:function(t){e.$set(e.queryParam,"createTime_begin",t)},expression:"queryParam.createTime_begin"}}),n("span",{staticStyle:{width:"10px"}},[e._v("~")]),n("j-date",{staticStyle:{width:"45%"},attrs:{showTime:!0,"date-format":"YYYY-MM-DD HH:mm:ss",placeholder:"请选择结束时间"},model:{value:e.queryParam.createTime_end,callback:function(t){e.$set(e.queryParam,"createTime_end",t)},expression:"queryParam.createTime_end"}})],1)],1),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-button",{attrs:{type:"primary"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1)],1),n("div",{staticClass:"table-operator",staticStyle:{"margin-top":"5px"}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("角色信息")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("\n        批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项  \n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{on:{click:function(t){return e.handlePerssion(r.id)}}},[e._v("授权")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("role-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("user-role-modal",{ref:"modalUserRole"})],1)},o=[],i=n("2a70"),a=n("ee18"),s=n("b65a"),l=n("2dab"),u={name:"RoleList",mixins:[s["a"]],components:{RoleModal:i["default"],UserRoleModal:a["default"],JDate:l["default"]},data:function(){return{description:"角色管理页面",queryParam:{roleName:""},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"角色名称",align:"center",dataIndex:"roleName"},{title:"角色编码",align:"center",dataIndex:"roleCode"},{title:"所属部门",align:"center",dataIndex:"sysOrgCode"},{title:"备注",align:"center",dataIndex:"description"},{title:"创建时间",dataIndex:"createTime",align:"center",sorter:!0},{title:"更新时间",dataIndex:"updateTime",align:"center",sorter:!0},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/sys/role/list",delete:"/sys/role/delete",deleteBatch:"/sys/role/deleteBatch",exportXlsUrl:"/sys/role/exportXls",importExcelUrl:"sys/role/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{handlePerssion:function(e){this.$refs.modalUserRole.show(e)},onChangeDate:function(e,t){}}},c=u,d=(n("1293"),n("5d22")),f=Object(d["a"])(c,r,o,!1,null,"42111670",null);t["default"]=f.exports},"4ff1":function(e,t,n){"use strict";n("fcde")},"4ff9":function(e,t,n){},5069:function(e,t,n){n("c3a0")},"507c":function(e,t,n){"use strict";n("556e")},5139:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"柱状图"}},[n("bar",{attrs:{title:"销售额排行",dataSource:e.barData,height:e.height}})],1),n("a-tab-pane",{key:"2",attrs:{tab:"多列柱状图"}},[n("bar-multid",{attrs:{title:"多列柱状图",height:e.height}})],1),n("a-tab-pane",{key:"3",attrs:{tab:"迷你柱状图"}},[n("mini-bar",{attrs:{dataSource:e.barData,width:400,height:200}})],1),n("a-tab-pane",{key:"4",attrs:{tab:"面积图"}},[n("area-chart-ty",{attrs:{title:"销售额排行",dataSource:e.areaData,x:"月份",y:"销售额",height:e.height}})],1),n("a-tab-pane",{key:"5",attrs:{tab:"迷你面积图"}},[n("div",{staticStyle:{"padding-top":"100px",width:"600px",height:"200px"}},[n("mini-area",{attrs:{dataSource:e.areaData,x:"月份",y:"销售额",height:e.height}})],1)]),n("a-tab-pane",{key:"6",attrs:{tab:"多行折线图"}},[n("line-chart-multid",{attrs:{title:"多行折线图",height:e.height}})],1),n("a-tab-pane",{key:"7",attrs:{tab:"饼图"}},[n("pie",{attrs:{title:"饼图",height:e.height}})],1),n("a-tab-pane",{key:"8",attrs:{tab:"雷达图"}},[n("radar",{attrs:{title:"雷达图",height:e.height}})],1),n("a-tab-pane",{key:"9",attrs:{tab:"仪表盘"}},[n("dash-chart-demo",{attrs:{title:"仪表盘",value:9,height:e.height}})],1),n("a-tab-pane",{key:"10",attrs:{tab:"进度条"}},[n("mini-progress",{attrs:{percentage:30,target:40,height:30}}),n("mini-progress",{attrs:{percentage:51,target:60,height:30,color:"#FFA500"}}),n("mini-progress",{attrs:{percentage:66,target:80,height:30,color:"#1E90FF"}}),n("mini-progress",{attrs:{percentage:74,target:70,height:30,color:"#FF4500"}}),n("mini-progress",{attrs:{percentage:92,target:100,height:30,color:"#49CC49"}})],1),n("a-tab-pane",{key:"11",attrs:{tab:"排名列表"}},[n("rank-list",{staticStyle:{width:"600px",margin:"0 auto"},attrs:{title:"门店销售排行榜",list:e.rankList}})],1),n("a-tab-pane",{key:"12",attrs:{tab:"TransferBar"}},[n("transfer-bar",{attrs:{title:"年度消耗流量一览表",data:e.barData,x:"月份",y:"流量(Mb)",height:e.height}})],1),n("a-tab-pane",{key:"13",attrs:{tab:"Trend"}},[n("trend",{attrs:{title:"Trend",term:"Trend：",percentage:30}})],1),n("a-tab-pane",{key:"14",attrs:{tab:"Liquid"}},[n("liquid",{attrs:{height:e.height}})],1),n("a-tab-pane",{key:"15",attrs:{tab:"BarAndLine"}},[n("bar-and-line",{attrs:{height:e.height}})],1)],1)],1)},o=[],i=n("f552"),a=n("edd9"),s=n("8191"),l=n("972f"),u=n("4ec6"),c=n("4ced"),d=n("942d"),f=n("1d43"),p=n("bf13"),h=n("6cb2"),m=n("3981"),g=n("0923"),v=n("1cf5"),y=n("527e"),b=n("e659");function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={name:"ViserChartDemo",components:{Bar:a["default"],MiniBar:d["default"],BarMultid:s["default"],AreaChartTy:i["default"],LineChartMultid:u["default"],Pie:h["default"],Radar:m["default"],DashChartDemo:l["default"],MiniProgress:p["default"],RankList:g["default"],TransferBar:v["default"],Trend:y["default"],Liquid:c["default"],MiniArea:f["default"],BarAndLine:b["default"]},data:function(){return{height:420,rankList:[],barData:[],areaData:[]}},created:function(){var e=this;setTimeout((function(){e.loadBarData(),e.loadAreaData(),e.loadRankListData()}),100)},methods:{loadData:function(e,t,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"月",a=[],s=0;s<12;s+=1){var l;a.push((l={},x(l,e,"".concat(o).concat(s+1).concat(i)),x(l,t,Math.floor(Math.random()*n)+r),l))}return a},loadBarData:function(){this.barData=this.loadData("x","y",1e3,200)},loadAreaData:function(){this.areaData=this.loadData("x","y",500,100)},loadRankListData:function(){this.rankList=this.loadData("name","total",2e3,100,"北京朝阳 "," 号店")}}},_=w,C=n("5d22"),S=Object(C["a"])(_,r,o,!1,null,"1fd923d1",null);t["default"]=S.exports},"515f":function(e,t,n){"use strict";n("be69")},"51d1":function(e,t,n){},"527e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chart-trend"},[e._v("\n  "+e._s(e.term)+"\n  "),n("span",[e._v(e._s(e.rate)+"%")]),n("span",{class:["trend-icon",e.trend]},[n("a-icon",{attrs:{type:"caret-"+e.trend}})],1)])},o=[],i={name:"Trend",props:{term:{type:String,default:"",required:!0},percentage:{type:Number,default:null},type:{type:Boolean,default:null},target:{type:Number,default:0},value:{type:Number,default:0},fixed:{type:Number,default:2}},data:function(){return{trend:this.type?"up":"down",rate:this.percentage}},created:function(){var e=null===this.type?this.value>=this.target:this.type;this.trend=e?"up":"down",this.rate=(null===this.percentage?100*Math.abs(this.value-this.target)/this.target:this.percentage).toFixed(this.fixed)}},a=i,s=(n("f635"),n("5d22")),l=Object(s["a"])(a,r,o,!1,null,"11a70d96",null);t["default"]=l.exports},"52e8":function(e,t,n){"use strict";n("8552")},5396:function(e,t,n){"use strict";n("e784")},"53cf":function(e,t,n){},"53d7":function(e,t,n){"use strict";n("d9fc")},"549a":function(e,t,n){},"54a1":function(e,t,n){(function(e){e(n("fc0f"),n("2363"),n("ace0"))})((function(e){"use strict";e.defineSimpleMode("handlebars-tags",{start:[{regex:/\{\{\{/,push:"handlebars_raw",token:"tag"},{regex:/\{\{!--/,push:"dash_comment",token:"comment"},{regex:/\{\{!/,push:"comment",token:"comment"},{regex:/\{\{/,push:"handlebars",token:"tag"}],handlebars_raw:[{regex:/\}\}\}/,pop:!0,token:"tag"}],handlebars:[{regex:/\}\}/,pop:!0,token:"tag"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"},{regex:/'(?:[^\\']|\\.)*'?/,token:"string"},{regex:/>|[#\/]([A-Za-z_]\w*)/,token:"keyword"},{regex:/(?:else|this)\b/,token:"keyword"},{regex:/\d+/i,token:"number"},{regex:/=|~|@|true|false/,token:"atom"},{regex:/(?:\.\.\/)*(?:[A-Za-z_][\w\.]*)+/,token:"variable-2"}],dash_comment:[{regex:/--\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],comment:[{regex:/\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],meta:{blockCommentStart:"{{--",blockCommentEnd:"--}}"}}),e.defineMode("handlebars",(function(t,n){var r=e.getMode(t,"handlebars-tags");return n&&n.base?e.multiplexingMode(e.getMode(t,n.base),{open:"{{",close:/\}\}\}?/,mode:r,parseDelimiters:!0}):r})),e.defineMIME("text/x-handlebars-template","handlebars")}))},"54c3":function(e,t,n){},"54d3":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{"min-width":"500px","overflow-x":"auto"}},[n("p",[e._v("我是左侧页面")]),n("img-turn-page")],1)},o=[],i=n("4874"),a={name:"SplitPanelAModal",components:{ImgTurnPage:i["default"]},data:function(){return{}},created:function(){},methods:{}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"045cdf58",null);t["default"]=u.exports},"556e":function(e,t,n){},"55c3":function(e,t,n){"use strict";n.r(t);var r,o,i=n("5976"),a=n("dd64"),s=n("902c"),l=n("aeeb"),u=n("ac0d"),c=l["a"].Meta,d={components:{AListItem:l["a"],AList:s["b"],ASwitch:a["a"],Meta:c},mixins:[u["a"]],data:function(){return{}},filters:{themeFilter:function(e){var t={dark:"暗色",light:"白色"};return t[e]}},methods:{colorFilter:function(e){var t=i["a"].filter((function(t){return t.color===e}))[0];return t&&t.key},onChange:function(e){e?this.$store.dispatch("ToggleTheme","dark"):this.$store.dispatch("ToggleTheme","light")}},render:function(){var e=arguments[0];return e(s["b"],{attrs:{itemLayout:"horizontal"}},[e(l["a"],[e(c,[e("a",{slot:"title"},["风格配色"]),e("span",{slot:"description"},["整体风格配色设置"])]),e("div",{slot:"actions"},[e(a["a"],{attrs:{checkedChildren:"暗色",unCheckedChildren:"白色",defaultChecked:"dark"===this.navTheme},on:{change:this.onChange}})])]),e(l["a"],[e(c,[e("a",{slot:"title"},["主题色"]),e("span",{slot:"description"},["页面风格配色： ",e("a",{domProps:{innerHTML:this.colorFilter(this.primaryColor)}})])])])])}},f=d,p=n("5d22"),h=Object(p["a"])(f,r,o,!1,null,"6ab256a2",null);t["default"]=h.exports},5654:function(e,t,n){"use strict";n("26e1")},"56ae":function(e,t,n){},"56cd":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:"数据权限规则",width:e.drawerWidth,visible:e.visible,wrapStyle:{height:"calc(100% - 108px)",overflow:"auto",paddingBottom:"108px"}},on:{close:e.onClose}},[n("div",{style:{padding:"10px",border:"1px solid #e9e9e9",background:"#fff"}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",[n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"规则名称",labelCol:{span:8},wrapperCol:{span:14,offset:1}}},[n("a-input",{attrs:{placeholder:"请输入规则名称"},model:{value:e.queryParam.ruleName,callback:function(t){e.$set(e.queryParam,"ruleName",t)},expression:"queryParam.ruleName"}})],1)],1),n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"规则值",labelCol:{span:8},wrapperCol:{span:14,offset:1}}},[n("a-input",{attrs:{placeholder:"请输入规则值"},model:{value:e.queryParam.ruleValue,callback:function(t){e.$set(e.queryParam,"ruleValue",t)},expression:"queryParam.ruleValue"}})],1)],1),n("a-col",{attrs:{md:7,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1),n("a-row",[n("a-col",{attrs:{md:24,sm:24}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",icon:"plus"},on:{click:e.addPermissionRule}},[e._v("添加")])],1)],1)],1),n("a-table",{ref:"table",attrs:{rowKey:"id",size:"middle",columns:e.columns,dataSource:e.dataSource,loading:e.loading,rowClassName:e.getRowClassname},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[n("a-icon",{attrs:{type:"edit"}}),e._v("编辑\n          ")],1),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)}}])})],1)]),n("permission-data-rule-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("4ec3"),a=n("b65a"),s=n("7c33"),l=[{title:"规则名称",dataIndex:"ruleName",key:"ruleName"},{title:"规则字段",dataIndex:"ruleColumn",key:"ruleColumn"},{title:"规则值",dataIndex:"ruleValue",key:"ruleValue"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center"}],u={name:"PermissionDataRuleList",mixins:[a["a"]],components:{PermissionDataRuleModal:s["default"]},data:function(){return{queryParam:{},drawerWidth:650,columns:l,permId:"",visible:!1,form:this.$form.createForm(this),loading:!1,url:{list:"/sys/permission/getPermRuleListByPermId",delete:"/sys/permission/deletePermissionRule"}}},created:function(){this.resetScreenSize()},methods:{loadData:function(){var e=this;this.dataSource=[];var t=this.getQueryParams();Object(i["u"])(t).then((function(t){t.success&&(e.dataSource=t.result)}))},edit:function(e){e.id&&(this.visible=!0,this.permId=e.id),this.queryParam={},this.queryParam.permissionId=e.id,this.visible=!0,this.loadData(),this.resetScreenSize()},addPermissionRule:function(){this.$refs.modalForm.add(this.permId),this.$refs.modalForm.title="新增"},searchQuery:function(){var e=this,t=this.getQueryParams();t.permissionId=this.permId,Object(i["A"])(t).then((function(t){t.success&&(e.dataSource=t.result)}))},searchReset:function(){this.queryParam={},this.queryParam.permissionId=this.permId,this.loadData(1)},onClose:function(){this.visible=!1},resetScreenSize:function(){var e=document.body.clientWidth;this.drawerWidth=e<500?e:650},getRowClassname:function(e){if(1!=e.status)return"data-rule-invalid"}}},c=u,d=(n("315e"),n("5d22")),f=Object(d["a"])(c,r,o,!1,null,null,null);t["default"]=f.exports},"578b":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"所属应用"}},[n("a-select",{attrs:{placeholder:"所属应用"},model:{value:e.queryParam.appcode,callback:function(t){e.$set(e.queryParam,"appcode",t)},expression:"queryParam.appcode"}},[n("a-select-option",{attrs:{value:"office"}},[e._v("掌上办公")]),n("a-select-option",{attrs:{value:"estate"}},[e._v("掌上物业")]),n("a-select-option",{attrs:{value:"shequyijia"}},[e._v("社区e家")])],1)],1)],1),n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"手机号"}},[n("a-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.queryParam.mobile,callback:function(t){e.$set(e.queryParam,"mobile",t)},expression:"queryParam.mobile"}})],1)],1),n("a-col",{attrs:{md:8,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",[n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("appRegister-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("8359"),a=n("b65a"),s={name:"AppRegisterList",mixins:[a["a"]],components:{AppRegisterModal:i["default"]},data:function(){return{description:"手机注册信息管理页面",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"登录平台",align:"center",dataIndex:"platform",customRender:function(e,t,n){return"jiguang"==t.platform?"极光推送":"HuaweiPush"==t.platform?"华为推送":"MIPush"==t.platform?"小米推送":""}},{title:"所属应用",align:"center",dataIndex:"appcode",customRender:function(e,t,n){return"office"==t.appcode?"掌上办公":"estate"==t.appcode?"掌上物业":"shequyijia"==t.appcode?"社区e家":""}},{title:"手机号",align:"center",dataIndex:"mobile"},{title:"上线时间",align:"center",dataIndex:"createTime"}],url:{list:"/message/appRegister/list",delete:"/message/appRegister/delete",deleteBatch:"/message/appRegister/deleteBatch",exportXlsUrl:"message/appRegister/exportXls",importExcelUrl:"message/appRegister/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{}},l=s,u=(n("2fe4"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"6788810e",null);t["default"]=c.exports},"57ed":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:600,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"字典名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dictName",e.validatorRules.dictName],expression:"[ 'dictName', validatorRules.dictName]"}],attrs:{placeholder:"请输入字典名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"字典编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dictCode",e.validatorRules.dictCode],expression:"[ 'dictCode', validatorRules.dictCode]"}],attrs:{placeholder:"请输入字典编码"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["description"],expression:"[ 'description']"}]})],1)],1)],1)],1)},o=[],i=n("85ee"),a=n.n(i),s=n("4ec3"),l={name:"DictModal",data:function(){return{value:1,title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{dictName:{rules:[{required:!0,message:"请输入字典名称!"}]},dictCode:{rules:[{required:!0,message:"请输入字典编码!"},{validator:this.validateDictCode}]}}}},created:function(){},methods:{validateDictCode:function(e,t,n){var r={tableName:"sys_dict",fieldName:"dict_code",fieldVal:t,dataId:this.model.id};Object(s["m"])(r).then((function(e){e.success?n():n(e.message)}))},handleChange:function(e){this.model.status=e},add:function(){this.edit({})},edit:function(e){var t=this;e.id?this.visiblekey=!0:this.visiblekey=!1,this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(a()(t.model,"dictName","dictCode","description"))}))},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0,r.dictName=(r.dictName||"").trim(),r.dictCode=(r.dictCode||"").trim(),r.description=(r.description||"").trim();var o,i=Object.assign(e.model,r);e.model.id?o=Object(s["n"])(i):(i.delFlag="1",o=Object(s["a"])(i)),o.then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},u=l,c=n("5d22"),d=Object(c["a"])(u,r,o,!1,null,null,null);t["default"]=d.exports},"57ef":function(e,t,n){"use strict";n("549a")},5831:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:48}},[n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"规则编号"}},[n("a-input",{attrs:{placeholder:""}})],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"使用状态"}},[n("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[n("a-select-option",{attrs:{value:"0"}},[e._v("全部")]),n("a-select-option",{attrs:{value:"1"}},[e._v("关闭")]),n("a-select-option",{attrs:{value:"2"}},[e._v("运行中")])],1)],1)],1),e.advanced?[n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"调用次数"}},[n("a-input-number",{staticStyle:{width:"100%"}})],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"更新日期"}},[n("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入更新日期"}})],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"使用状态"}},[n("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[n("a-select-option",{attrs:{value:"0"}},[e._v("全部")]),n("a-select-option",{attrs:{value:"1"}},[e._v("关闭")]),n("a-select-option",{attrs:{value:"2"}},[e._v("运行中")])],1)],1)],1),n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"使用状态"}},[n("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[n("a-select-option",{attrs:{value:"0"}},[e._v("全部")]),n("a-select-option",{attrs:{value:"1"}},[e._v("关闭")]),n("a-select-option",{attrs:{value:"2"}},[e._v("运行中")])],1)],1)],1)]:e._e(),n("a-col",{attrs:{md:e.advanced?24:8,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[n("a-button",{attrs:{type:"primary"}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.toggleAdvanced}},[e._v("\n              "+e._s(e.advanced?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.advanced?"up":"down"}})],1)],1)])],2)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(){return e.$router.push({name:"anime-add"})}}},[e._v("新建")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1"},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1),n("a-menu-item",{key:"2"},[n("a-icon",{attrs:{type:"lock"}}),e._v("锁定")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("\n        批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData,showAlertInfo:!0},on:{onSelect:e.onChange},scopedSlots:e._u([e._l(e.columns,(function(t,r){return{key:t.dataIndex,fn:function(r,o,i){return t.scopedSlots?[n("div",{key:i},[o.editable?n("a-input",{staticStyle:{margin:"-5px 0"},attrs:{value:r},on:{change:function(n){return e.handleChange(n.target.value,o.key,t)}}}):[e._v(e._s(r))]],2)]:void 0}}})),{key:"action",fn:function(t,r,o){return[n("div",{staticClass:"editable-row-operations"},[r.editable?n("span",[n("a",{on:{click:function(){return e.save(r)}}},[e._v("保存")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"真的放弃编辑吗?"},on:{confirm:function(){return e.cancel(r)}}},[n("a",[e._v("取消")])])],1):n("span",[n("a",{staticClass:"edit",on:{click:function(){return e.edit(r)}}},[e._v("修改")]),n("a-divider",{attrs:{type:"vertical"}}),n("a",{staticClass:"delete",on:{click:function(){return e.del(r)}}},[e._v("删除")])],1)])]}}],null,!0)})],1)},o=[],i=n("e8c4"),a={name:"TableList",components:{STable:i["a"]},data:function(){var e=this;return{advanced:!1,queryParam:{},columns:[{title:"规则编号",dataIndex:"no",width:90},{title:"描述",dataIndex:"description",scopedSlots:{customRender:"description"}},{title:"服务调用次数",dataIndex:"callNo",width:"150px",sorter:!0,needTotal:!0,scopedSlots:{customRender:"callNo"}},{title:"状态",dataIndex:"status",width:"100px",needTotal:!0,scopedSlots:{customRender:"status"}},{title:"更新时间",dataIndex:"updatedAt",width:"150px",sorter:!0,scopedSlots:{customRender:"updatedAt"}},{table:"操作",dataIndex:"action",width:"120px",scopedSlots:{customRender:"action"}}],loadData:function(t){return e.$http.get("/api/service",{params:Object.assign(t,e.queryParam)}).then((function(e){return e.result}))},selectedRowKeys:[],selectedRows:[]}},methods:{handleChange:function(e,t,n){},edit:function(e){e.editable=!0,this.$refs.table.updateEdit()},del:function(e){this.$confirm({title:"警告",content:"真的要删除吗?",okText:"删除",okType:"danger",cancelText:"取消",onOk:function(){return new Promise((function(e,t){setTimeout(Math.random()>.5?e:t,1e3)})).catch((function(){}))},onCancel:function(){}})},save:function(e){delete e.editable,this.$refs.table.updateEdit()},cancel:function(e){delete e.editable,this.$refs.table.updateEdit()},onChange:function(e){this.selectedRowKeys=e.selectedRowKeys,this.selectedRows=e.selectedRows},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},s=a,l=(n("4ff1"),n("5d22")),u=Object(l["a"])(s,r,o,!1,null,"48253dea",null);t["default"]=u.exports},5832:function(e,t,n){"use strict";n("90cf")},5859:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:10}},[n("a-col",{attrs:{md:10,sm:12}},[n("a-form-item",{staticStyle:{"margin-left":"8px"},attrs:{label:"用户账号"}},[n("a-input",{attrs:{placeholder:"请输入名称查询"},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}})],1)],1),n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-button",{staticStyle:{"margin-left":"18px"},attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1)],1),n("div",{staticClass:"table-operator",staticStyle:{margin:"-46px 0px 10px 2px"},attrs:{md:24,sm:24}},[n("a-button",{staticStyle:{"margin-top":"16px"},attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("用户录入")]),n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAddUserDepart}},[e._v("添加已有用户")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除关系\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定要删除关系吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除关系")])])],1)],1)],1)],1)}}])})],1),n("user-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("Select-User-Modal",{ref:"selectUserModal",on:{selectFinished:e.selectOK}})],1)},o=[],i=n("b65a"),a=n("0fea"),s=n("b3c4"),l=n("418f"),u={name:"DeptUserInfo",mixins:[i["a"]],components:{SelectUserModal:s["default"],UserModal:l["default"]},data:function(){return{description:"用户信息",currentDeptId:"",columns:[{title:"用户账号",align:"center",dataIndex:"username"},{title:"用户名称",align:"center",dataIndex:"realname"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center",width:170}],url:{list:"/sys/user/departUserList",edit:"/sys/user/editSysDepartWithUser",delete:"/sys/user/deleteUserInDepart",deleteBatch:"/sys/user/deleteUserInDepartBatch"}}},created:function(){},methods:{loadData:function(e){var t=this;if(this.url.list){if(1===e&&(this.ipagination.current=1),""!==this.currentDeptId){var n=this.getQueryParams();n.depId=this.currentDeptId,Object(a["c"])(this.url.list,n).then((function(e){e.success&&(t.dataSource=e.result.records,t.ipagination.total=e.result.total)}))}}else this.$message.error("请设置url.list属性!")},batchDel:function(){if(this.url.deleteBatch)if(this.selectedRowKeys.length<=0)this.$message.warning("请选择一条记录！");else{for(var e="",t=0;t<this.selectedRowKeys.length;t++)e+=this.selectedRowKeys[t]+",";var n=this;this.$confirm({title:"确认删除",content:"是否删除选中数据?",onOk:function(){Object(a["a"])(n.url.deleteBatch,{depId:n.currentDeptId,userIds:e}).then((function(e){e.success?(n.$message.success(e.message),n.loadData(),n.onClearSelected()):n.$message.warning(e.message)}))}})}else this.$message.error("请设置url.deleteBatch属性!")},handleDelete:function(e){var t=this;if(this.url.delete){var n=this;Object(a["a"])(n.url.delete,{depId:this.currentDeptId,userId:e}).then((function(r){if(r.success){if(n.$message.success(r.message),t.selectedRowKeys.length>0)for(var o=0;o<t.selectedRowKeys.length;o++)if(t.selectedRowKeys[o]==e){t.selectedRowKeys.splice(o,1);break}n.loadData()}else n.$message.warning(r.message)}))}else this.$message.error("请设置url.delete属性!")},open:function(e){this.currentDeptId=e.id,this.loadData(1)},clearList:function(){this.currentDeptId="",this.dataSource=[]},hasSelectDept:function(){return null!=this.currentDeptId||(this.$message.error("请选择一个部门!"),!1)},handleAddUserDepart:function(){""==this.currentDeptId?this.$message.error("请选择一个部门!"):this.$refs.selectUserModal.visible=!0},handleAdd:function(){""==this.currentDeptId?this.$message.error("请选择一个部门!"):(this.$refs.modalForm.departDisabled=!0,this.$refs.modalForm.deptId=this.currentDeptId,this.$refs.modalForm.add(),this.$refs.modalForm.title="新增")},selectOK:function(e){var t=this,n={};n.depId=this.currentDeptId,n.userIdList=[];for(var r=0;r<e.length;r++)n.userIdList.push(e[r]);Object(a["h"])(this.url.edit,n).then((function(e){e.success?(t.$message.success(e.message),t.loadData()):t.$message.warning(e.message)}))}}},c=u,d=(n("0466"),n("5d22")),f=Object(d["a"])(c,r,o,!1,null,"3a60e3c4",null);t["default"]=f.exports},"585a":function(e,t,n){},"588f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"none"}},[n("iframe",{attrs:{id:e.id,src:e.url,frameborder:"0",width:"100%",height:"550px",scrolling:"auto"}})])},o=[],i=n("a593"),a=n("9fb0"),s={name:"PdfPreviewModal",data:function(){return{url:window._CONFIG["pdfDomainURL"],id:"pdfPreviewIframe",headers:{}}},created:function(){var e=i["default"].ls.get(a["a"]);this.headers={"X-Access-Token":e}},computed:{},mounted:function(){window.addEventListener("message",this.handleScanFileMessage)},methods:{handleScanFileMessage:function(e){e.data},previewFiles:function(e,t){var n=document.getElementById("pdfPreviewIframe"),r={title:e,token:t};n.contentWindow.postMessage(r,"*")}}},l=s,u=n("5d22"),c=Object(u["a"])(l,r,o,!1,null,"5088ac45",null);t["default"]=c.exports},5968:function(e,t,n){"use strict";n("4a54")},5976:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r,o=n("87f7"),i=[{key:"薄暮",color:"#F5222D"},{key:"火山",color:"#FA541C"},{key:"日暮",color:"#FAAD14"},{key:"明青",color:"#13C2C2"},{key:"极光绿",color:"#52C41A"},{key:"拂晓蓝（默认）",color:"#1890FF"},{key:"极客蓝",color:"#2F54EB"},{key:"酱紫",color:"#722ED1"}],a=function(e){if(e){var t=o["a"].loading("正在编译主题！",0);if(r)s();else{var n=document.createElement("link"),i=document.createElement("script"),a=document.createElement("script");n.setAttribute("rel","stylesheet/less"),n.setAttribute("href","/color.less"),i.innerHTML="\n      window.less = {\n        async: true,\n        env: 'production',\n        javascriptEnabled: true\n      };\n    ",a.src="https://gw.alipayobjects.com/os/lib/less.js/3.8.1/less.min.js",a.async=!0,a.onload=function(){s(),a.onload=null},document.body.appendChild(n),document.body.appendChild(i),document.body.appendChild(a),r=!0}}function s(){window.less&&setTimeout((function(){window.less.modifyVars({"@primary-color":e}).then((function(){t()})).catch((function(){o["a"].error("Failed to update theme"),t()}))}),200)}},s=function(e){e?document.body.classList.add("colorWeak"):document.body.classList.remove("colorWeak")}},"59a0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-drawer",{attrs:{title:"字典列表",width:e.screenWidth,visible:e.visible},on:{close:e.onClose}},[n("div",{style:{padding:"10px",border:"1px solid #e9e9e9",background:"#fff"}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline",form:e.form}},[n("a-row",{attrs:{gutter:10}},[n("a-col",{attrs:{md:8,sm:12}},[n("a-form-item",{attrs:{label:"名称"}},[n("a-input",{staticStyle:{width:"120px"},attrs:{placeholder:"请输入名称"},model:{value:e.queryParam.itemText,callback:function(t){e.$set(e.queryParam,"itemText",t)},expression:"queryParam.itemText"}})],1)],1),n("a-col",{attrs:{md:9,sm:24}},[n("a-form-item",{staticStyle:{width:"170px"},attrs:{label:"状态",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-select",{attrs:{placeholder:"请选择"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("正常")]),n("a-select-option",{attrs:{value:"0"}},[e._v("禁用")])],1)],1)],1),n("a-col",{attrs:{md:7,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left"}},[n("a-button",{attrs:{type:"primary"},on:{click:e.searchQuery}},[e._v("搜索")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1),n("a-row",[n("a-col",{attrs:{md:2,sm:24}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1)],1)],1),n("div",[n("a-table",{ref:"table",attrs:{rowKey:"id",size:"middle",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)}}])})],1)])]),n("dict-item-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("85ee"),a=n.n(i),s=n("ca00"),l=n("8144"),u=n("b65a"),c={name:"DictItemList",mixins:[u["a"]],components:{DictItemModal:l["default"]},data:function(){return{columns:[{title:"名称",align:"center",dataIndex:"itemText"},{title:"数据值",align:"center",dataIndex:"itemValue"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],queryParam:{dictId:"",dictName:"",itemText:"",delFlag:"1",status:[]},title:"操作",visible:!1,screenWidth:800,model:{},dictId:"",status:1,labelCol:{xs:{span:5},sm:{span:5}},wrapperCol:{xs:{span:12},sm:{span:12}},form:this.$form.createForm(this),validatorRules:{itemText:{rules:[{required:!0,message:"请输入名称!"}]},itemValue:{rules:[{required:!0,message:"请输入数据值!"}]}},url:{list:"/sys/dictItem/list",delete:"/sys/dictItem/delete",deleteBatch:"/sys/dictItem/deleteBatch"}}},created:function(){this.resetScreenSize()},methods:{add:function(e){this.dictId=e,this.edit({})},edit:function(e){var t=this;e.id&&(this.dictId=e.id),this.queryParam={},this.form.resetFields(),this.model=Object.assign({},e),this.model.dictId=this.dictId,this.model.status=this.status,this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(a()(t.model,"itemText","itemValue"))})),this.loadData()},getQueryParams:function(){var e=Object.assign({},this.queryParam);return e.dictId=this.dictId,e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(s["b"])(e)},handleAdd:function(){this.$refs.modalForm.add(this.dictId),this.$refs.modalForm.title="新增"},showDrawer:function(){this.visible=!0},onClose:function(){this.visible=!1,this.form.resetFields(),this.dataSource=[]},resetScreenSize:function(){var e=document.body.clientWidth;this.screenWidth=e<600?e:600}}},d=c,f=n("5d22"),p=Object(f["a"])(d,r,o,!1,null,"5f259f91",null);t["default"]=p.exports},"5aa8":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("a-card",{attrs:{bordered:!1}},[r("div",{staticClass:"table-page-search-wrapper"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:48}},[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"角色ID"}},[r("a-input",{attrs:{placeholder:"请输入"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[r("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("span",{staticClass:"table-page-search-submitButtons"},[r("a-button",{attrs:{type:"primary"}},[t._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"}},[t._v("重置")])],1)])],1)],1)],1),r("s-table",{attrs:{columns:t.columns,data:t.loadData},scopedSlots:t._u([{key:"actions",fn:function(e,n){return r("span",{},t._l(n.actionList,(function(e,n){return r("a-tag",{key:n},[t._v(t._s(e.describe))])})),1)}},{key:"status",fn:function(e){return r("span",{},[t._v("\n      "+t._s(t._f("statusFilter")(e))+"\n    ")])}},{key:"action",fn:function(e,n){return r("span",{},[r("a",{on:{click:function(e){return t.handleEdit(n)}}},[t._v("编辑")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-dropdown",[r("a",{staticClass:"ant-dropdown-link"},[t._v("\n          更多 "),r("a-icon",{attrs:{type:"down"}})],1),r("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("详情")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("禁用")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("删除")])])],1)],1)],1)}}])}),r("a-modal",{attrs:{title:"操作",width:800},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("a-form",{attrs:{autoFormCreate:function(t){e.form=t}}},[r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"唯一识别码",hasFeedback:"",validateStatus:"success"}},[r("a-input",{attrs:{placeholder:"唯一识别码",id:"no",disabled:"disabled"},model:{value:t.mdl.id,callback:function(e){t.$set(t.mdl,"id",e)},expression:"mdl.id"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"权限名称",hasFeedback:"",validateStatus:"success"}},[r("a-input",{attrs:{placeholder:"起一个名字",id:"permission_name"},model:{value:t.mdl.name,callback:function(e){t.$set(t.mdl,"name",e)},expression:"mdl.name"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"状态",hasFeedback:"",validateStatus:"warning"}},[r("a-select",{model:{value:t.mdl.status,callback:function(e){t.$set(t.mdl,"status",e)},expression:"mdl.status"}},[r("a-select-option",{attrs:{value:"1"}},[t._v("正常")]),r("a-select-option",{attrs:{value:"2"}},[t._v("禁用")])],1)],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"描述",hasFeedback:""}},[r("a-textarea",{attrs:{rows:5,placeholder:"...",id:"describe"},model:{value:t.mdl.describe,callback:function(e){t.$set(t.mdl,"describe",e)},expression:"mdl.describe"}})],1),r("a-divider"),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"赋予权限",hasFeedback:""}},[r("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",allowClear:!0},model:{value:t.mdl.actions,callback:function(e){t.$set(t.mdl,"actions",e)},expression:"mdl.actions"}},t._l(t.permissionList,(function(e,n){return r("a-select-option",{key:n,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)],1)],1)],1)},o=[],i=n("e8c4"),a={name:"TableList",components:{STable:i["a"]},data:function(){var e=this;return{description:"列表使用场景：后台管理中的权限管理以及角色管理，可用于基于 RBAC 设计的角色权限控制，颗粒度细到每一个操作类型。",visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},form:null,mdl:{},advanced:!1,queryParam:{},columns:[{title:"唯一识别码",dataIndex:"id"},{title:"权限名称",dataIndex:"name"},{title:"可操作权限",dataIndex:"actions",scopedSlots:{customRender:"actions"}},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],permissionList:null,loadData:function(t){return e.$http.get("/api/permission",{params:Object.assign(t,e.queryParam)}).then((function(e){var t=e.result;return t.data.map((function(e){return e.actionList=JSON.parse(e.actionData),e})),t}))},selectedRowKeys:[],selectedRows:[]}},filters:{statusFilter:function(e){var t={1:"正常",2:"禁用"};return t[e]}},created:function(){this.loadPermissionList()},methods:{loadPermissionList:function(){var e=this;new Promise((function(e){var t=[{label:"新增",value:"add",defaultChecked:!1},{label:"查询",value:"get",defaultChecked:!1},{label:"修改",value:"update",defaultChecked:!1},{label:"列表",value:"query",defaultChecked:!1},{label:"删除",value:"delete",defaultChecked:!1},{label:"导入",value:"import",defaultChecked:!1},{label:"导出",value:"export",defaultChecked:!1}];setTimeout(e(t),1500)})).then((function(t){e.permissionList=t}))},handleEdit:function(e){this.mdl=Object.assign({},e),this.visible=!0},handleOk:function(){},onChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,null,null);t["default"]=u.exports},"5b6e":function(e,t,n){},"5c0c":function(e,t,n){},"5d1e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"0px"},attrs:{title:"分屏",width:e.modalWidth,visible:e.visible,bodyStyle:e.bodyStyle,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("split-pane",{attrs:{"min-percent":20,"default-percent":50,split:"vertical"}},[n("template",{slot:"paneL"},[n("split-panel-a")],1),n("template",{slot:"paneR"},[n("split-panel-b")],1)],2)],1)},o=[],i=n("1e71"),a=n.n(i),s=n("54d3"),l=n("9606"),u={name:"SplitPanelModal",components:{splitPane:a.a,SplitPanelA:s["default"],SplitPanelB:l["default"]},data:function(){return{visible:!1,bodyStyle:{padding:"0",height:window.innerHeight-150+"px"},modalWidth:800}},created:function(){this.modalWidth=window.innerWidth-0},methods:{show:function(){this.visible=!0},handleOk:function(){},handleCancel:function(){this.visible=!1}}},c=u,d=n("5d22"),f=Object(d["a"])(c,r,o,!1,null,"79db68e4",null);t["default"]=f.exports},"5d28":function(e,t,n){"use strict";n("53cf")},"5d9b":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"setting-drawer-index-item"},[n("h3",{staticClass:"setting-drawer-index-title"},[e._v(e._s(e.title))]),e._t("default"),e.divider?n("a-divider"):e._e()],2)},o=[],i={name:"SettingItem",props:{title:{type:String,default:""},divider:{type:Boolean,default:!1}}},a=i,s=(n("32dc"),n("5d22")),l=Object(s["a"])(a,r,o,!1,null,"a6010090",null);t["default"]=l.exports},"5e72":function(e,t){(function(){"use strict";var e=function(){},t=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},n=function(e,t){return function(n){return e(t(n))}},r=function(e){return function(){return e}},o=function(e){return e};function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var a=function(e){return function(t){return!e(t)}},s=function(e){return function(){throw new Error(e)}},l=r(!1),u=r(!0),c=function(){return d},d=function(){var t=function(e){return e.isNone()},n=function(e){return e()},o=function(e){return e},i={fold:function(e,t){return e()},is:l,isSome:l,isNone:u,getOr:o,getOrThunk:n,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:o,orThunk:n,map:c,each:e,bind:c,exists:l,forall:u,filter:c,equals:t,equals_:t,toArray:function(){return[]},toString:r("none()")};return i}(),f=function(e){var t=r(e),n=function(){return i},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:u,isNone:l,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return f(t(e))},each:function(t){t(e)},bind:o,exists:o,forall:o,filter:function(t){return t(e)?i:d},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(l,(function(t){return n(e,t)}))}};return i},p=function(e){return null===e||void 0===e?d:f(e)},h={some:f,none:c,from:p},m=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},g=function(e){return function(t){return m(t)===e}},v=function(e){return function(t){return typeof t===e}},y=function(e){return function(t){return e===t}},b=g("string"),x=g("object"),w=g("array"),_=v("boolean"),C=y(void 0),S=function(e){return null===e||void 0===e},k=function(e){return!S(e)},O=v("function"),T=v("number"),M=Array.prototype.slice,D=Array.prototype.indexOf,I=Array.prototype.push,E=function(e,t){return D.call(e,t)},A=function(e,t){return E(e,t)>-1},L=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return!0}return!1},j=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},N=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},P=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},R=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},B=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o],s=t(a,o)?n:r;s.push(a)}return{pass:n,fail:r}},F=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},z=function(e,t,n){return R(e,(function(e){n=t(n,e)})),n},V=function(e,t,n){return P(e,(function(e){n=t(n,e)})),n},H=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return h.some(i);if(n(i,r))break}return h.none()},U=function(e,t){return H(e,t,l)},$=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return h.some(n)}return h.none()},q=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!w(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);I.apply(t,e[n])}return t},W=function(e,t){return q(N(e,t))},G=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(!0!==t(o,n))return!1}return!0},Y=function(e){var t=M.call(e,0);return t.reverse(),t},K=function(e){return[e]},X=function(e,t){return t>=0&&t<e.length?h.some(e[t]):h.none()},J=function(e){return X(e,0)},Z=function(e){return X(e,e.length-1)},Q=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return h.none()},ee=function(){return ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ee.apply(this,arguments)};function te(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var ne=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},re=function(e,t,n,o){var i=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!i,s=e.isiOS()||e.isAndroid(),l=s||o("(pointer:coarse)"),u=i||!a&&s&&o("(min-device-width:768px)"),c=a||s&&!u,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!c&&!u&&!d;return{isiPad:r(i),isiPhone:r(a),isTablet:r(u),isPhone:r(c),isTouch:r(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:r(d),isDesktop:r(f)}},oe=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},ie=function(e,t){var n=oe(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return le(r(1),r(2))},ae=function(e,t){var n=String(t).toLowerCase();return 0===e.length?se():ie(e,n)},se=function(){return le(0,0)},le=function(e,t){return{major:e,minor:t}},ue={nu:le,detect:ae,unknown:se},ce=function(e,t){var n=String(t).toLowerCase();return U(e,(function(e){return e.search(n)}))},de=function(e,t){return ce(e,t).map((function(e){var n=ue.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},fe=function(e,t){return ce(e,t).map((function(e){var n=ue.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},pe={detectBrowser:de,detectOs:fe},he=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},me=function(e,t){return-1!==e.indexOf(t)},ge=function(e,t){return he(e,t,0)},ve=function(e,t){return he(e,t,e.length-t.length)},ye=function(e){return function(t){return t.replace(e,"")}},be=ye(/^\s+|\s+$/g),xe=function(e){return e.length>0},we=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_e=function(e){return function(t){return me(t,e)}},Ce=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return me(e,"edge/")&&me(e,"chrome")&&me(e,"safari")&&me(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,we],search:function(e){return me(e,"chrome")&&!me(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return me(e,"msie")||me(e,"trident")}},{name:"Opera",versionRegexes:[we,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_e("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_e("firefox")},{name:"Safari",versionRegexes:[we,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(me(e,"safari")||me(e,"mobile/"))&&me(e,"applewebkit")}}],Se=[{name:"Windows",search:_e("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return me(e,"iphone")||me(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_e("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:_e("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_e("linux"),versionRegexes:[]},{name:"Solaris",search:_e("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_e("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_e("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ke={browsers:r(Ce),oses:r(Se)},Oe="Edge",Te="Chrome",Me="IE",De="Opera",Ie="Firefox",Ee="Safari",Ae=function(){return Le({current:void 0,version:ue.unknown()})},Le=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(Oe),isChrome:r(Te),isIE:r(Me),isOpera:r(De),isFirefox:r(Ie),isSafari:r(Ee)}},je={unknown:Ae,nu:Le,edge:r(Oe),chrome:r(Te),ie:r(Me),opera:r(De),firefox:r(Ie),safari:r(Ee)},Ne="Windows",Pe="iOS",Re="Android",Be="Linux",Fe="OSX",ze="Solaris",Ve="FreeBSD",He="ChromeOS",Ue=function(){return $e({current:void 0,version:ue.unknown()})},$e=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(Ne),isiOS:r(Pe),isAndroid:r(Re),isOSX:r(Fe),isLinux:r(Be),isSolaris:r(ze),isFreeBSD:r(Ve),isChromeOS:r(He)}},qe={unknown:Ue,nu:$e,windows:r(Ne),ios:r(Pe),android:r(Re),linux:r(Be),osx:r(Fe),solaris:r(ze),freebsd:r(Ve),chromeos:r(He)},We=function(e,t){var n=ke.browsers(),r=ke.oses(),o=pe.detectBrowser(n,e).fold(je.unknown,je.nu),i=pe.detectOs(r,e).fold(qe.unknown,qe.nu),a=re(i,o,e,t);return{browser:o,os:i,deviceType:a}},Ge={detect:We},Ye=function(e){return window.matchMedia(e).matches},Ke=ne((function(){return Ge.detect(navigator.userAgent,Ye)})),Xe=function(){return Ke()},Je=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Ze=function(e,t){return Je(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},Qe=8,et=9,tt=11,nt=1,rt=3,ot=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw new Error("HTML must have a single root node");return st(r.childNodes[0])},it=function(e,t){var n=t||document,r=n.createElement(e);return st(r)},at=function(e,t){var n=t||document,r=n.createTextNode(e);return st(r)},st=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},lt=function(e,t,n){return h.from(e.dom.elementFromPoint(t,n)).map(st)},ut={fromHtml:ot,fromTag:it,fromText:at,fromDom:st,fromPoint:lt},ct=function(e,t){var n=e.dom;if(n.nodeType!==nt)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},dt=function(e){return e.nodeType!==nt&&e.nodeType!==et&&e.nodeType!==tt||0===e.childElementCount},ft=function(e,t){var n=void 0===t?document:t.dom;return dt(n)?[]:N(n.querySelectorAll(e),ut.fromDom)},pt=function(e,t){var n=void 0===t?document:t.dom;return dt(n)?h.none():h.from(n.querySelector(e)).map(ut.fromDom)},ht=function(e,t){return e.dom===t.dom},mt=function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)},gt=function(e,t){return Ze(e.dom,t.dom)},vt=function(e,t){return Xe().browser.isIE()?gt(e,t):mt(e,t)},yt=ct,bt=Object.keys,xt=Object.hasOwnProperty,wt=function(e,t){for(var n=bt(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i)}},_t=function(e,t){return Ct(e,(function(e,n){return{k:n,v:t(e,n)}}))},Ct=function(e,t){var n={};return wt(e,(function(e,r){var o=t(e,r);n[o.k]=o.v})),n},St=function(e){return function(t,n){e[n]=t}},kt=function(e,t,n,r){var o={};return wt(e,(function(e,o){(t(e,o)?n:r)(e,o)})),o},Ot=function(t,n){var r={};return kt(t,n,St(r),e),r},Tt=function(e,t){var n=[];return wt(e,(function(e,r){n.push(t(e,r))})),n},Mt=function(e){return Tt(e,(function(e){return e}))},Dt=function(e,t){return It(e,t)?h.from(e[t]):h.none()},It=function(e,t){return xt.call(e,t)},Et=function(e,t){return It(e,t)&&void 0!==e[t]&&null!==e[t]},At=function(e){for(var t in e)if(xt.call(e,t))return!1;return!0},Lt=["tfoot","thead","tbody","colgroup"],jt=function(e){return A(Lt,e)},Nt=function(e,t){return{rows:e,columns:t}},Pt=function(e,t){return{row:e,column:t}},Rt=function(e,t,n){return{element:e,rowspan:t,colspan:n}},Bt=function(e,t,n,r){return{element:e,rowspan:t,colspan:n,isNew:r}},Ft=function(e,t,n,r,o){return{element:e,rowspan:t,colspan:n,row:r,column:o}},zt=function(e,t,n){return{element:e,cells:t,section:n}},Vt=function(e,t){return{element:e,isNew:t}},Ht=function(e,t,n,r){return{element:e,cells:t,section:n,isNew:r}},Ut=function(e,t){return{cells:e,section:t}},$t=function(e,t){return{details:e,section:t}},qt=function(e,t,n,r){return{startRow:e,startCol:t,finishRow:n,finishCol:r}},Wt=function(e,t,n){return{element:e,colspan:t,column:n}},Gt=("undefined"!==typeof window?window:Function("return this;")(),function(e){var t=e.dom.nodeName;return t.toLowerCase()}),Yt=function(e){return e.dom.nodeType},Kt=function(e){return function(t){return Yt(t)===e}},Xt=function(e){return Yt(e)===Qe||"#comment"===Gt(e)},Jt=Kt(nt),Zt=Kt(rt),Qt=Kt(et),en=Kt(tt),tn=function(e){return function(t){return Jt(t)&&Gt(t)===e}},nn=function(e){return ut.fromDom(e.dom.ownerDocument)},rn=function(e){return Qt(e)?e:nn(e)},on=function(e){return ut.fromDom(rn(e).dom.defaultView)},an=function(e){return h.from(e.dom.parentNode).map(ut.fromDom)},sn=function(e,t){var n=O(t)?t:l,r=e.dom,o=[];while(null!==r.parentNode&&void 0!==r.parentNode){var i=r.parentNode,a=ut.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},ln=function(e){return h.from(e.dom.offsetParent).map(ut.fromDom)},un=function(e){return h.from(e.dom.previousSibling).map(ut.fromDom)},cn=function(e){return h.from(e.dom.nextSibling).map(ut.fromDom)},dn=function(e){return N(e.dom.childNodes,ut.fromDom)},fn=function(e,t){var n=e.dom.childNodes;return h.from(n[t]).map(ut.fromDom)},pn=function(e){return fn(e,0)},hn=function(e){return en(e)},mn=O(Element.prototype.attachShadow)&&O(Node.prototype.getRootNode),gn=r(mn),vn=mn?function(e){return ut.fromDom(e.dom.getRootNode())}:rn,yn=function(e){var t=vn(e);return hn(t)?h.some(t):h.none()},bn=function(e){return ut.fromDom(e.dom.host)},xn=function(e){if(gn()&&k(e.target)){var t=ut.fromDom(e.target);if(Jt(t)&&wn(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return J(n)}}return h.from(e.target)},wn=function(e){return k(e.dom.shadowRoot)},_n=function(e){var t=Zt(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;var r=t.ownerDocument;return yn(ut.fromDom(t)).fold((function(){return r.body.contains(t)}),n(_n,bn))},Cn=function(){return Sn(ut.fromDom(document))},Sn=function(e){var t=e.dom.body;if(null===t||void 0===t)throw new Error("Body is not available yet");return ut.fromDom(t)},kn=function(e,t,n){return F(sn(e,n),t)},On=function(e,t){return F(dn(e),t)},Tn=function(e,t){var n=[];return P(dn(e),(function(e){t(e)&&(n=n.concat([e])),n=n.concat(Tn(e,t))})),n},Mn=function(e,t,n){return kn(e,(function(e){return ct(e,t)}),n)},Dn=function(e,t){return On(e,(function(e){return ct(e,t)}))},In=function(e,t){return ft(t,e)};function En(e,t,n,r,o){return e(n,r)?h.some(n):O(o)&&o(n)?h.none():t(n,r,o)}var An=function(e,t,n){var r=e.dom,o=O(n)?n:l;while(r.parentNode){r=r.parentNode;var i=ut.fromDom(r);if(t(i))return h.some(i);if(o(i))break}return h.none()},Ln=function(e,t,n){var r=function(e,t){return t(e)};return En(r,An,e,t,n)},jn=function(e,t){var n=function(e){return t(ut.fromDom(e))},r=U(e.dom.childNodes,n);return r.map(ut.fromDom)},Nn=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=ut.fromDom(e.childNodes[r]);if(t(o))return h.some(o);var i=n(e.childNodes[r]);if(i.isSome())return i}return h.none()};return n(e.dom)},Pn=function(e,t,n){return An(e,(function(e){return ct(e,t)}),n)},Rn=function(e,t){return jn(e,(function(e){return ct(e,t)}))},Bn=function(e,t){return pt(t,e)},Fn=function(e,t,n){var r=function(e,t){return ct(e,t)};return En(r,Pn,e,t,n)},zn=function(e,t,n){if(!(b(n)||_(n)||T(n)))throw new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Vn=function(e,t,n){zn(e.dom,t,n)},Hn=function(e,t){var n=e.dom;wt(t,(function(e,t){zn(n,t,e)}))},Un=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},$n=function(e,t){return h.from(Un(e,t))},qn=function(e,t){e.dom.removeAttribute(t)},Wn=function(e){return V(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})},Gn=function(e){return void 0!==e.style&&O(e.style.getPropertyValue)},Yn=function(e,t,n){if(!b(n))throw new Error("CSS value must be a string: "+n);Gn(e)&&e.style.setProperty(t,n)},Kn=function(e,t){Gn(e)&&e.style.removeProperty(t)},Xn=function(e,t,n){var r=e.dom;Yn(r,t,n)},Jn=function(e,t){var n=e.dom;wt(t,(function(e,t){Yn(n,t,e)}))},Zn=function(e,t){var n=e.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(t);return""!==o||_n(e)?o:Qn(n,t)},Qn=function(e,t){return Gn(e)?e.style.getPropertyValue(t):""},er=function(e,t){var n=e.dom,r=Qn(n,t);return h.from(r).filter((function(e){return e.length>0}))},tr=function(e,t){var n=e.dom;Kn(n,t),$n(e,"style").map(be).is("")&&qn(e,"style")},nr=function(e,t){var n=e.dom,r=t.dom;Gn(n)&&Gn(r)&&(r.style.cssText=n.style.cssText)},rr=function(e,t,n){return void 0===n&&(n=0),$n(e,t).map((function(e){return parseInt(e,10)})).getOr(n)},or=function(e,t){return rr(e,t,1)},ir=function(e){return or(e,"colspan")>1},ar=function(e){return or(e,"rowspan")>1},sr=function(e,t){return parseInt(Zn(e,t),10)},lr=r(10),ur=r(10),cr=function(e,t){return dr(e,t,u)},dr=function(e,t,n){return W(dn(e),(function(e){return ct(e,t)?n(e)?[e]:[]:dr(e,t,n)}))},fr=function(e,t,n){if(void 0===n&&(n=l),n(t))return h.none();if(A(e,Gt(t)))return h.some(t);var r=function(e){return ct(e,"table")||n(e)};return Pn(t,e.join(","),r)},pr=function(e,t){return fr(["td","th"],e,t)},hr=function(e){return cr(e,"th,td")},mr=function(e){return ct(e,"colgroup")?Dn(e,"col"):W(yr(e),(function(e){return Dn(e,"col")}))},gr=function(e,t){return Fn(e,"table",t)},vr=function(e){return cr(e,"tr")},yr=function(e){return gr(e).fold(r([]),(function(e){return Dn(e,"colgroup")}))},br=function(e,t){return N(e,(function(e){if("colgroup"===Gt(e)){var n=N(mr(e),(function(e){var t=rr(e,"span",1);return Rt(e,1,t)}));return zt(e,n,"colgroup")}n=N(hr(e),(function(e){var t=rr(e,"rowspan",1),n=rr(e,"colspan",1);return Rt(e,t,n)}));return zt(e,n,t(e))}))},xr=function(e){return an(e).map((function(e){var t=Gt(e);return jt(t)?t:"tbody"})).getOr("tbody")},wr=function(e){var t=vr(e),n=yr(e),r=te(n,t);return br(r,xr)},_r=function(e,t){return br(e,(function(){return t}))},Cr=function(e,t){return e+","+t},Sr=function(e,t,n){var r=e.access[Cr(t,n)];return void 0!==r?h.some(r):h.none()},kr=function(e,t,n){var r=Or(e,(function(e){return n(t,e.element)}));return r.length>0?h.some(r[0]):h.none()},Or=function(e,t){var n=W(e.all,(function(e){return e.cells}));return F(n,t)},Tr=function(e){var t={},n=0;return P(e.cells,(function(e){var r=e.colspan;j(r,(function(o){var i=n+o;t[i]=Wt(e.element,r,i)})),n+=r})),t},Mr=function(e){var t={},n=[],r={},o=0,i=0,a=0;P(e,(function(e){if("colgroup"===e.section)r=Tr(e);else{var s=[];P(e.cells,(function(e){var n=0;while(void 0!==t[Cr(a,n)])n++;for(var r=Ft(e.element,e.rowspan,e.colspan,a,n),o=0;o<e.colspan;o++)for(var l=0;l<e.rowspan;l++){var u=a+l,c=n+o,d=Cr(u,c);t[d]=r,i=Math.max(i,c+1)}s.push(r)})),o++,n.push(zt(e.element,s,e.section)),a++}}));var s=Nt(o,i);return{grid:s,access:t,all:n,columns:r}},Dr=function(e){var t=wr(e);return Mr(t)},Ir=function(e){return W(e.all,(function(e){return e.cells}))},Er=function(e){return Mt(e.columns)},Ar=function(e){return bt(e.columns).length>0},Lr=function(e,t){return h.from(e.columns[t])},jr={fromTable:Dr,generate:Mr,getAt:Sr,findItem:kr,filterItems:Or,justCells:Ir,justColumns:Er,hasColumns:Ar,getColumnAt:Lr},Nr=function(e,t){var n=t.column,r=t.column+t.colspan-1,o=t.row,i=t.row+t.rowspan-1;return n<=e.finishCol&&r>=e.startCol&&o<=e.finishRow&&i>=e.startRow},Pr=function(e,t){return t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow},Rr=function(e,t){for(var n=!0,r=i(Pr,t),o=t.startRow;o<=t.finishRow;o++)for(var a=t.startCol;a<=t.finishCol;a++)n=n&&jr.getAt(e,o,a).exists(r);return n?h.some(t):h.none()},Br=function(e,t){return qt(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1))},Fr=function(e,t,n){var r=jr.findItem(e,t,ht),o=jr.findItem(e,n,ht);return r.bind((function(e){return o.map((function(t){return Br(e,t)}))}))},zr=function(e,t,n){return Fr(e,t,n).bind((function(t){return Rr(e,t)}))},Vr=function(e,t,n,r){return jr.findItem(e,t,ht).bind((function(t){var o=n>0?t.row+t.rowspan-1:t.row,i=r>0?t.column+t.colspan-1:t.column,a=jr.getAt(e,o+n,i+r);return a.map((function(e){return e.element}))}))},Hr=function(e,t,n){return Fr(e,t,n).map((function(t){var n=jr.filterItems(e,i(Nr,t));return N(n,(function(e){return e.element}))}))},Ur=function(e,t){var n=function(e,t){return vt(t,e)};return jr.findItem(e,t,n).map((function(e){return e.element}))},$r=function(e,t,n){return gr(e).bind((function(r){var o=Yr(r);return Vr(o,e,t,n)}))},qr=function(e,t,n){var r=Yr(e);return Hr(r,t,n)},Wr=function(e,t,n,r,o){var i=Yr(e),a=ht(e,n)?h.some(t):Ur(i,t),s=ht(e,o)?h.some(r):Ur(i,r);return a.bind((function(e){return s.bind((function(t){return Hr(i,e,t)}))}))},Gr=function(e,t,n){var r=Yr(e);return zr(r,t,n)},Yr=jr.fromTable,Kr=function(e,t){var n=an(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},Xr=function(e,t){var n=cn(e);n.fold((function(){var n=an(e);n.each((function(e){Zr(e,t)}))}),(function(e){Kr(e,t)}))},Jr=function(e,t){var n=pn(e);n.fold((function(){Zr(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},Zr=function(e,t){e.dom.appendChild(t.dom)},Qr=function(e,t){Kr(e,t),Zr(t,e)},eo=function(e,t){P(t,(function(t){Kr(e,t)}))},to=function(e,t){P(t,(function(n,r){var o=0===r?e:t[r-1];Xr(o,n)}))},no=function(e,t){P(t,(function(t){Zr(e,t)}))},ro=function(e){e.dom.textContent="",P(dn(e),(function(e){oo(e)}))},oo=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},io=function(e){var t=dn(e);t.length>0&&eo(e,t),oo(e)};function ao(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?h.from(t.dom.nodeValue):h.none()},o=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:o}}var so=ao(Zt,"text"),lo=function(e){return so.get(e)},uo=function(e){return so.getOption(e)},co=function(e,t){return so.set(e,t)},fo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function po(){var e=function(e){return ut.fromDom(e.dom.cloneNode(!1))},t=function(e){return rn(e).dom},n=function(e){return!!Jt(e)&&("body"===Gt(e)||A(fo,Gt(e)))},o=function(e){return!!Jt(e)&&A(["br","img","hr","input"],Gt(e))},i=function(e){return Jt(e)&&"false"===Un(e,"contenteditable")},a=function(e,t){return e.dom.compareDocumentPosition(t.dom)},s=function(e,t){var n=Wn(e);Hn(t,n)};return{up:r({selector:Pn,closest:Fn,predicate:An,all:sn}),down:r({selector:In,predicate:Tn}),styles:r({get:Zn,getRaw:er,set:Xn,remove:tr}),attrs:r({get:Un,set:Vn,remove:qn,copyTo:s}),insert:r({before:Kr,after:Xr,afterAll:to,append:Zr,appendAll:no,prepend:Jr,wrap:Qr}),remove:r({unwrap:io,remove:oo}),create:r({nu:ut.fromTag,clone:e,text:ut.fromText}),query:r({comparePosition:a,prevSibling:un,nextSibling:cn}),property:r({children:dn,name:Gt,parent:an,document:t,isText:Zt,isComment:Xt,isElement:Jt,getText:lo,setText:co,isBoundary:n,isEmptyTag:o,isNonEditable:i}),eq:ht,is:yt}}var ho=function(e,t,n,r){var o=n[0],i=n.slice(1);return r(e,t,o,i)},mo=function(e,t,n){return n.length>0?ho(e,t,n,go):h.none()},go=function(e,t,n,r){var o=t(e,n);return z(r,(function(n,r){var o=t(e,r);return vo(e,n,o)}),o)},vo=function(e,t,n){return t.bind((function(t){return n.filter(i(e.eq,t))}))},yo=function(e,t){return i(e.eq,t)},bo=function(e,t,n,r){void 0===r&&(r=l);var o=[t].concat(e.up().all(t)),i=[n].concat(e.up().all(n)),a=function(e){var t=$(e,r);return t.fold((function(){return e}),(function(t){return e.slice(0,t+1)}))},s=a(o),u=a(i),c=U(s,(function(t){return L(u,yo(e,t))}));return{firstpath:s,secondpath:u,shared:c}},xo=mo,wo=bo,_o=po(),Co=function(e,t){return xo(_o,(function(t,n){return e(n)}),t)},So=function(e,t,n){return wo(_o,e,t,n)},ko=function(e){return Pn(e,"table")},Oo=function(e,t,n){var r=function(e){return function(t){return void 0!==n&&n(t)||ht(t,e)}};return ht(e,t)?h.some({boxes:h.some([e]),start:e,finish:t}):ko(e).bind((function(o){return ko(t).bind((function(i){if(ht(o,i))return h.some({boxes:qr(o,e,t),start:e,finish:t});if(vt(o,i)){var a=Mn(t,"td,th",r(o)),s=a.length>0?a[a.length-1]:t;return h.some({boxes:Wr(o,e,o,t,i),start:e,finish:s})}if(vt(i,o)){a=Mn(e,"td,th",r(i));var l=a.length>0?a[a.length-1]:e;return h.some({boxes:Wr(i,e,o,t,i),start:e,finish:l})}return So(e,t).shared.bind((function(a){return Fn(a,"table",n).bind((function(n){var a=Mn(t,"td,th",r(n)),s=a.length>0?a[a.length-1]:t,l=Mn(e,"td,th",r(n)),u=l.length>0?l[l.length-1]:e;return h.some({boxes:Wr(n,e,o,t,i),start:u,finish:s})}))}))}))}))},To=function(e,t){var n=In(e,t);return n.length>0?h.some(n):h.none()},Mo=function(e,t){return U(e,(function(e){return ct(e,t)}))},Do=function(e,t,n){return Bn(e,t).bind((function(t){return Bn(e,n).bind((function(e){return Co(ko,[t,e]).map((function(n){return{first:t,last:e,table:n}}))}))}))},Io=function(e,t){return Pn(e,"table").bind((function(n){return Bn(n,t).bind((function(t){return Oo(t,e).bind((function(e){return e.boxes.map((function(t){return{boxes:t,start:e.start,finish:e.finish}}))}))}))}))},Eo=function(e,t,n,r,o){return Mo(e,o).bind((function(e){return $r(e,t,n).bind((function(e){return Io(e,r)}))}))},Ao=function(e,t){return To(e,t)},Lo=function(e,t,n){return Do(e,t,n).bind((function(t){var n=function(t){return ht(e,t)},r="thead,tfoot,tbody,table",o=Pn(t.first,r,n),i=Pn(t.last,r,n);return o.bind((function(e){return i.bind((function(n){return ht(e,n)?Gr(t.table,t.first,t.last):h.none()}))}))}))},jo=function(e){if(!w(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return P(e,(function(r,o){var i=bt(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],s=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!w(s))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){var n=arguments.length;if(n!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];var l=function(e){var n=bt(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));var o=G(t,(function(e){return A(n,e)}));if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,r)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[o];return t.apply(null,r)},match:l,log:function(e){}}}})),n},No={generate:jo},Po=No.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),Ro=function(e,t,n,r){return e.fold(t,n,r)},Bo=Po.none,Fo=Po.multiple,zo=Po.single,Vo=function(e,t,n){var r=function(){return Ao(e(),n).fold((function(){return t().map(zo).getOrThunk(Bo)}),(function(e){return Fo(e)}))};return{get:r}},Ho=tinymce.util.Tools.resolve("tinymce.PluginManager"),Uo=function(e,t,n,r){return{minRow:e,minCol:t,maxRow:n,maxCol:r}},$o=function(e,t){var n=e.grid.columns,r=e.grid.rows,o=r,i=n,a=0,s=0;return wt(e.access,(function(e){if(t(e)){var n=e.row,r=n+e.rowspan-1,l=e.column,u=l+e.colspan-1;n<o?o=n:r>a&&(a=r),l<i?i=l:u>s&&(s=u)}})),Uo(o,i,a,s)},qo=function(e,t,n){var r=e[n].element,o=ut.fromTag("td");Zr(o,ut.fromTag("br"));var i=t?Zr:Jr;i(r,o)},Wo=function(e,t,n,r){for(var o=t.grid.columns,i=t.grid.rows,a=0;a<i;a++)for(var s=!1,l=0;l<o;l++)if(!(a<n.minRow||a>n.maxRow||l<n.minCol||l>n.maxCol)){var u=jr.getAt(t,a,l).filter(r).isNone();u?qo(e,s,a):s=!0}},Go=function(e,t){var n=F(cr(e,"tr"),(function(e){return 0===e.dom.childElementCount}));P(n,oo),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||P(cr(e,"th,td"),(function(e){qn(e,"rowspan"),qn(e,"colspan")})),qn(e,"width"),qn(e,"height"),tr(e,"width"),tr(e,"height")},Yo=function(e,t){var n=function(e){return ct(e.element,t)},r=wr(e),o=jr.generate(r),i=$o(o,n),a="th:not("+t+"),td:not("+t+")",s=dr(e,"th,td",(function(e){return ct(e,a)}));return P(s,oo),Wo(r,o,i,n),Go(e,i),e},Ko=" ",Xo=function(e){return"img"===Gt(e)?1:uo(e).fold((function(){return dn(e).length}),(function(e){return e.length}))},Jo=function(e){return uo(e).filter((function(e){return 0!==e.trim().length||e.indexOf(Ko)>-1})).isSome()},Zo=["img","br"],Qo=function(e){var t=Jo(e);return t||A(Zo,Gt(e))},ei=function(e){return Nn(e,Qo)},ti=function(e){return ni(e,Qo)},ni=function(e,t){var n=function(e){for(var r=dn(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return h.some(i);var a=n(i);if(a.isSome())return a}return h.none()};return n(e)},ri=function(e,t){return ut.fromDom(e.dom.cloneNode(t))},oi=function(e){return ri(e,!1)},ii=function(e){return ri(e,!0)},ai=function(e,t){var n=ut.fromTag(t),r=Wn(e);return Hn(n,r),n},si=function(e,t){var n=ai(e,t),r=dn(ii(e));return no(n,r),n},li={scope:["row","col"]},ui=function(){var e=ut.fromTag("td");return Zr(e,ut.fromTag("br")),e},ci=function(){return ut.fromTag("col")},di=function(){return ut.fromTag("colgroup")},fi=function(e,t,n){var r=si(e,t);return wt(n,(function(e,t){null===e?qn(r,t):Vn(r,t,e)})),r},pi=function(e){return e},hi=function(e){return function(){return ut.fromTag("tr",e.dom)}},mi=function(e,t,n){var r=ei(e);return r.map((function(r){var o=n.join(","),i=Mn(r,o,(function(t){return ht(t,e)}));return z(i,(function(e,t){var n=oi(t);return qn(n,"contenteditable"),Zr(e,n),n}),t)})).getOr(t)},gi=function(e,t){wt(li,(function(n,r){return $n(e,r).filter((function(e){return A(n,e)})).each((function(e){return Vn(t,r,e)}))}))},vi=function(e,t,n){var r=function(e,t){nr(e.element,t),tr(t,"height"),1!==e.colspan&&tr(e.element,"width")},o=function(t){var o=nn(t.element),i=ut.fromTag(Gt(t.element),o.dom),a=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),s=a.length>0?mi(t.element,i,a):i;return Zr(s,ut.fromTag("br")),r(t,i),gi(t.element,i),e(t.element,i),i},i=function(t){var n=nn(t.element),o=ut.fromTag(Gt(t.element),n.dom);return r(t,o),e(t.element,o),o};return{col:i,colgroup:di,row:hi(t),cell:o,replace:fi,gap:ui}},yi=function(e){return{col:ci,colgroup:di,row:hi(e),cell:ui,replace:pi,gap:ui}},bi=function(e,t){var n=t||document,r=n.createElement("div");return r.innerHTML=e,dn(ut.fromDom(r))},xi=function(e){return N(e,ut.fromDom)},wi=function(e){return Ro(e.get(),r([]),o,K)},_i=function(e){var t=function(e,t){return $n(e,t).exists((function(e){return parseInt(e,10)>1}))},n=function(e){return t(e,"rowspan")||t(e,"colspan")},r=wi(e);return r.length>0&&G(r,n)?h.some(r):h.none()},Ci=function(e,t,n){return Ro(t.get(),h.none,(function(t){return t.length<=1?h.none():Lo(e,n.firstSelectedSelector,n.lastSelectedSelector).map((function(e){return{bounds:e,cells:t}}))}),h.none)},Si="data-mce-selected",ki="td["+Si+"],th["+Si+"]",Oi="["+Si+"]",Ti="data-mce-first-selected",Mi="td["+Ti+"],th["+Ti+"]",Di="data-mce-last-selected",Ii="td["+Di+"],th["+Di+"]",Ei=Oi,Ai={selected:Si,selectedSelector:ki,firstSelected:Ti,firstSelectedSelector:Mi,lastSelected:Di,lastSelectedSelector:Ii},Li=function(e){return{element:e,mergable:h.none(),unmergable:h.none(),selection:[e]}},ji=function(e,t,n){return{element:n,mergable:Ci(t,e,Ai),unmergable:_i(e),selection:wi(e)}},Ni=function(e,t,n){return{element:e,clipboard:t,generators:n}},Pi=function(e,t,n,r){return{selection:wi(e),clipboard:n,generators:r}},Ri=function(e){return gr(e[0]).map(ii).map((function(e){return[Yo(e,Ei)]}))},Bi=function(e,t){return N(t,(function(t){return e.selection.serializer.serialize(t.dom,{})})).join("")},Fi=function(e){return N(e,(function(e){return e.dom.innerText})).join("")},zi=function(t,n,r,o){t.on("BeforeGetContent",(function(r){var o=function(e){r.preventDefault(),Ri(e).each((function(e){r.content="text"===r.format?Fi(e):Bi(t,e)}))};!0===r.selection&&Ro(n.get(),e,o,e)})),t.on("BeforeSetContent",(function(e){if(!0===e.selection&&!0===e.paste){var n=h.from(t.dom.getParent(t.selection.getStart(),"th,td"));n.each((function(n){var i=ut.fromDom(n);gr(i).each((function(n){var a=F(bi(e.content),(function(e){return"meta"!==Gt(e)})),s=function(e){return"table"===Gt(e)};if(1===a.length&&s(a[0])){e.preventDefault();var l=ut.fromDom(t.getDoc()),u=yi(l),c=Ni(i,a[0],u);r.pasteCells(n,c).each((function(e){t.selection.setRng(e),t.focus(),o.clear(n)}))}}))}))}}))},Vi=No.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Hi=ee({},Vi),Ui=function(e,t){return 0===e.length?Hi.none():1===e.length?Hi.only(0):0===t?Hi.left(0,1):t===e.length-1?Hi.right(t-1,t):t>0&&t<e.length-1?Hi.middle(t-1,t,t+1):Hi.none()},$i=function(e,t,n,o,i){var a=e.slice(0),s=Ui(e,t),l=r(N(a,r(0))),u=function(e){return o.singleColumnWidth(a[e],n)},c=function(e,t){return i.calcLeftEdgeDeltas(a,e,t,n,o.minCellWidth(),o.isRelative)},d=function(e,t,r){return i.calcMiddleDeltas(a,e,t,r,n,o.minCellWidth(),o.isRelative)},f=function(e,t){return i.calcRightEdgeDeltas(a,e,t,n,o.minCellWidth(),o.isRelative)};return s.fold(l,u,c,d,f)},qi=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Wi=function(e,t,n){return e.isSome()&&t.isSome()?h.some(n(e.getOrDie(),t.getOrDie())):h.none()},Gi=function(e,t){return void 0!==e&&null!==e?t(e):h.none()};function Yi(e,t){var n=function(t,n){if(!T(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom;Gn(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=Zn(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return V(t,(function(t,n){var r=Zn(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)},a=function(e,t,n){var r=i(e,n),o=t>r?t-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:a}}var Ki=Yi("width",(function(e){return e.dom.offsetWidth})),Xi=function(e){return Ki.get(e)},Ji=function(e){return Ki.getOuter(e)},Zi=function(e){var t=e.grid,n=j(t.columns,o),r=j(t.rows,o);return N(n,(function(t){var n=function(){return W(r,(function(n){return jr.getAt(e,n,t).filter((function(e){return e.column===t})).toArray()}))},o=function(e){return 1===e.colspan},i=function(){return jr.getAt(e,0,t)};return Qi(n,o,i)}))},Qi=function(e,t,n){var r=e(),o=U(r,t),i=o.orThunk((function(){return h.from(r[0]).orThunk(n)}));return i.map((function(e){return e.element}))},ea=function(e){var t=e.grid,n=j(t.rows,o),i=j(t.columns,o);return N(n,(function(t){var n=function(){return W(i,(function(n){return jr.getAt(e,t,n).filter((function(e){return e.row===t})).fold(r([]),(function(e){return[e]}))}))},o=function(e){return 1===e.rowspan},a=function(){return jr.getAt(e,t,0)};return Qi(n,o,a)}))},ta=function(e,t){if(t<0||t>=e.length-1)return h.none();var n=e[t].fold((function(){var n=Y(e.slice(0,t));return Q(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return h.some({value:e,delta:0})})),r=e[t+1].fold((function(){var n=e.slice(t+1);return Q(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return h.some({value:e,delta:1})}));return n.bind((function(e){return r.map((function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))}))},na=function(e,t){return function(n){return"rtl"===ra(n)?t:e}},ra=function(e){return"rtl"===Zn(e,"direction")?"rtl":"ltr"},oa=Yi("height",(function(e){var t=e.dom;return _n(e)?t.getBoundingClientRect().height:t.offsetHeight})),ia=function(e){return oa.get(e)},aa=function(e){return oa.getOuter(e)},sa=function(e,t){var n=function(n,r){return sa(e+n,t+r)};return{left:e,top:t,translate:n}},la=sa,ua=function(e){var t=e.getBoundingClientRect();return la(t.left,t.top)},ca=function(e,t){return void 0!==e?e:void 0!==t?t:0},da=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return la(n.offsetLeft,n.offsetTop);var i=ca(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop),a=ca(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft),s=ca(o.clientTop,n.clientTop),l=ca(o.clientLeft,n.clientLeft);return fa(e).translate(a-l,i-s)},fa=function(e){var t=e.dom,n=t.ownerDocument,r=n.body;return r===t?la(r.offsetLeft,r.offsetTop):_n(e)?ua(t):la(0,0)},pa=function(e,t){return{row:e,y:t}},ha=function(e,t){return{col:e,x:t}},ma=function(e){var t=da(e);return t.left+Ji(e)},ga=function(e){return da(e).left},va=function(e,t){return ha(e,ga(t))},ya=function(e,t){return ha(e,ma(t))},ba=function(e){return da(e).top},xa=function(e,t){return pa(e,ba(t))},wa=function(e,t){return pa(e,ba(t)+aa(t))},_a=function(e,t,n){if(0===n.length)return[];var r=N(n.slice(1),(function(t,n){return t.map((function(t){return e(n,t)}))})),o=n[n.length-1].map((function(e){return t(n.length-1,e)}));return r.concat([o])},Ca=function(e){return-e},Sa={delta:o,positions:function(e){return _a(xa,wa,e)},edge:ba},ka={delta:o,edge:ga,positions:function(e){return _a(va,ya,e)}},Oa={delta:Ca,edge:ma,positions:function(e){return _a(ya,va,e)}},Ta=na(ka,Oa),Ma={delta:function(e,t){return Ta(t).delta(e,t)},positions:function(e,t){return Ta(t).positions(e,t)},edge:function(e){return Ta(e).edge(e)}},Da={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Ia=function(){var e="[0-9]+",t="[+-]?"+e,n="[eE]"+t,r="\\.",o=function(e){return"(?:"+e+")?"},i=["Infinity",e+r+o(e)+o(n),r+e+o(n),e+o(n)].join("|"),a="[+-]?(?:"+i+")";return new RegExp("^("+a+")(.*)$")}(),Ea=function(e,t){return L(t,(function(t){return L(Da[t],(function(t){return e===t}))}))},Aa=function(e,t){var n=h.from(Ia.exec(e));return n.bind((function(e){var n=Number(e[1]),r=e[2];return Ea(r,t)?h.some({value:n,unit:r}):h.none()}))},La=function(){var e=Xe().browser;return e.isIE()||e.isEdge()},ja=function(e,t){var n=parseFloat(e);return isNaN(n)?t:n},Na=function(e,t,n){return ja(Zn(e,t),n)},Pa=function(e){var t=e.dom.getBoundingClientRect().height,n=Zn(e,"box-sizing");if("border-box"===n)return t;var r=Na(e,"padding-top",0),o=Na(e,"padding-bottom",0),i=Na(e,"border-top-width",0),a=Na(e,"border-bottom-width",0),s=i+a;return t-r-o-s},Ra=function(e){var t=e.dom.getBoundingClientRect().width,n=Zn(e,"box-sizing");if("border-box"===n)return t;var r=Na(e,"padding-left",0),o=Na(e,"padding-right",0),i=Na(e,"border-left-width",0),a=Na(e,"border-right-width",0),s=i+a;return t-r-o-s},Ba=function(e){return La()?Pa(e):Na(e,"height",ia(e))},Fa=function(e){return La()?Ra(e):Na(e,"width",Xi(e))},za=/(\d+(\.\d+)?)%/,Va=/(\d+(\.\d+)?)px|em/,Ha=function(e,t){var n=ln(e).getOr(Sn(nn(e)));return t(e)/t(n)*100},Ua=function(e,t){Xn(e,"width",t+"px")},$a=function(e,t){Xn(e,"width",t+"%")},qa=function(e,t){Xn(e,"height",t+"px")},Wa=function(e){return er(e,"height").getOrThunk((function(){return Ba(e)+"px"}))},Ga=function(e,t,n,r){var o=gr(e).map((function(e){var r=n(e);return Math.floor(t/100*r)})).getOr(t);return r(e,o),o},Ya=function(e,t,n,r){var o=parseInt(e,10);return ve(e,"%")&&"table"!==Gt(t)?Ga(t,o,n,r):o},Ka=function(e){var t=Wa(e);return t?Ya(t,e,ia,qa):ia(e)},Xa=function(e,t,n){var r=n(e),o=or(e,t);return r/o},Ja=function(e){var t=er(e,"width");return t.fold((function(){return h.from(Un(e,"width"))}),(function(e){return h.some(e)}))},Za=function(e,t){return e/t.pixelWidth()*100},Qa=function(e,t,n){var r=za.exec(t);if(null!==r)return parseFloat(r[1]);var o=Fa(e);return Za(o,n)},es=function(e,t){var n=Ja(e);return n.fold((function(){var n=Xi(e);return Za(n,t)}),(function(n){return Qa(e,n,t)}))},ts=function(e,t){return e/100*t.pixelWidth()},ns=function(e,t,n){var r=Va.exec(t);if(null!==r)return parseInt(r[1],10);var o=za.exec(t);if(null!==o){var i=parseFloat(o[1]);return ts(i,n)}return Fa(e)},rs=function(e,t){var n=Ja(e);return n.fold((function(){return Fa(e)}),(function(n){return ns(e,n,t)}))},os=function(e){return Xa(e,"rowspan",Ka)},is=function(e){var t=Ja(e);return t.bind((function(e){return Aa(e,["fixed","relative","empty"])}))},as=function(e,t,n){Xn(e,"width",t+n)},ss=function(e){return Xi(e)+"px"},ls=function(e){return Ha(e,Xi)+"%"},us=function(e){return Ja(e).exists((function(e){return za.test(e)}))},cs=function(e){return Ja(e).exists((function(e){return Va.test(e)}))},ds=function(e){return Ja(e).isNone()},fs=r(za),ps=r(Va),hs=tn("col"),ms=function(e,t,n){return er(e,t).fold((function(){return n(e)+"px"}),(function(e){return e}))},gs=function(e,t){var n=function(e){return hs(e)?Xi(e):rs(e,t)};return ms(e,"width",n)},vs=function(e){return ms(e,"height",os)},ys=function(e){return N(jr.justColumns(e),(function(e){return h.from(e.element)}))},bs=function(e){return!hs(e)||er(e,"width").isSome()},xs=function(e,t,n,r,o,i){return e.filter(r).fold((function(){return i(ta(n,t))}),(function(e){return o(e)}))},ws=function(e,t,n,r,i){var s=Zi(e),l=jr.hasColumns(e)?ys(e):s,u=[h.some(Ma.edge(t))].concat(N(Ma.positions(s,t),(function(e){return e.map((function(e){return e.x}))}))),c=a(ir);return N(l,(function(e,t){return xs(e,t,u,c,(function(e){if(bs(e))return n(e,i);var a=Gi(s[t],o);return xs(a,t,u,c,(function(e){return r(h.some(Xi(e)))}),r)}),r)}))},_s=function(e){return e.map((function(e){return e+"px"})).getOr("")},Cs=function(e,t,n){return ws(e,t,gs,_s,n)},Ss=function(e,t,n){return ws(e,t,es,(function(e){return e.fold((function(){return n.minCellWidth()}),(function(e){return e/n.pixelWidth()*100}))}),n)},ks=function(e,t,n){return ws(e,t,rs,(function(e){return e.getOrThunk(n.minCellWidth)}),n)},Os=function(e,t,n,r,o){var i=ea(e),s=[h.some(n.edge(t))].concat(N(n.positions(i,t),(function(e){return e.map((function(e){return e.y}))})));return N(i,(function(e,t){return xs(e,t,s,a(ar),r,o)}))},Ts=function(e,t,n){return Os(e,t,n,os,(function(e){return e.getOrThunk(ur)}))},Ms=function(e,t,n){return Os(e,t,n,vs,_s)},Ds=function(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r},Is=function(e,t){var n=jr.justCells(e);return N(n,(function(e){var n=Ds(e.column,e.column+e.colspan,t);return{element:e.element,width:n,colspan:e.colspan}}))},Es=function(e,t){var n=jr.justColumns(e);return N(n,(function(e,n){return{element:e.element,width:t[n],colspan:e.colspan}}))},As=function(e,t){var n=jr.justCells(e);return N(n,(function(e){var n=Ds(e.row,e.row+e.rowspan,t);return{element:e.element,height:n,rowspan:e.rowspan}}))},Ls=function(e,t){return N(e.all,(function(e,n){return{element:e.element,height:t[n]}}))},js=function(e){return z(e,(function(e,t){return e+t}),0)},Ns=function(e,t){return jr.hasColumns(e)?Es(e,t):Is(e,t)},Ps=function(e,t,n){var r=Ns(e,t);P(r,(function(e){n.setElementWidth(e.element,e.width)}))},Rs=function(e,t,n,r,o){var i=jr.fromTable(e),a=o.getCellDelta(t),s=o.getWidths(i,o),l=n===i.grid.columns-1,u=r.clampTableDelta(s,n,a,o.minCellWidth(),l),c=$i(s,n,u,o,r),d=N(c,(function(e,t){return e+s[t]}));Ps(i,d,o),r.resizeTable(o.adjustTableWidth,u,l)},Bs=function(e,t,n,r){var o=jr.fromTable(e),i=Ts(o,e,r),a=N(i,(function(e,r){return n===r?Math.max(t+e,ur()):e})),s=As(o,a),l=Ls(o,a);P(l,(function(e){qa(e.element,e.height)})),P(s,(function(e){qa(e.element,e.height)}));var u=js(a);qa(e,u)},Fs=function(e,t,n){var r=jr.generate(t),o=n.getWidths(r,n);Ps(r,o,n)},zs=function(e){return N(e,r(0))},Vs=function(e,t,n,r,o){return o(e.slice(0,t)).concat(r).concat(o(e.slice(n)))},Hs=function(e){return function(t,n,r,o){if(e(r)){var i=Math.max(o,t[n]-Math.abs(r)),a=Math.abs(i-t[n]);return r>=0?a:-a}return r}},Us=Hs((function(e){return e<0})),$s=Hs(u),qs=function(){var e=function(e,t,n,r,o){var i=Us(e,t,r,o);return Vs(e,t,n+1,[i,0],zs)},t=function(e,t,n,r){var o=(100+n)/100,i=Math.max(r,(e[t]+n)/o);return N(e,(function(e,n){var r=n===t?i:e/o;return r-e}))},n=function(n,r,o,i,a,s){return s?t(n,r,i,a):e(n,r,o,i,a)},r=function(e,t,r,o,i,a,s){return n(e,r,o,i,a,s)},o=function(e,t){return e(t)},i=function(e,n,r,o,i,a){if(a)return t(e,r,o,i);var s=Us(e,r,o,i);return zs(e.slice(0,r)).concat([s])};return{resizeTable:o,clampTableDelta:Us,calcLeftEdgeDeltas:n,calcMiddleDeltas:r,calcRightEdgeDeltas:i}},Ws=function(){var e=function(e,t,n,r,o){var i=r>=0?n:t,a=$s(e,i,r,o);return Vs(e,t,n+1,[a,-a],zs)},t=function(t,n,r,o,i,a){return e(t,r,o,i,a)},n=function(e,t,n){n&&e(t)},o=function(e,t,n,o,i,a){if(a)return zs(e);var s=o/e.length;return N(e,r(s))},i=function(e,t,n,r,o){if(o){if(n>=0)return n;var i=V(e,(function(e,t){return e+t-r}),0);return Math.max(-i,n)}return Us(e,t,n,r)};return{resizeTable:n,clampTableDelta:i,calcLeftEdgeDeltas:e,calcMiddleDeltas:t,calcRightEdgeDeltas:o}},Gs=function(e,t){var n=h.from(e.dom.documentElement).map(ut.fromDom).getOr(e);return{parent:r(n),view:r(e),origin:r(la(0,0)),isResizable:t}},Ys=function(e,t,n){var o=function(){return da(t)};return{parent:r(t),view:r(e),origin:o,isResizable:n}},Ks=function(e,t,n){return{parent:r(t),view:r(e),origin:r(la(0,0)),isResizable:n}},Xs={only:Gs,detached:Ys,body:Ks},Js=No.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Zs=function(e,t,n){var r=n.substring(0,n.length-e.length),o=parseFloat(r);return r===o.toString()?t(o):Js.invalid(n)},Qs=function(e){return ve(e,"%")?Zs("%",Js.percent,e):ve(e,"px")?Zs("px",Js.pixels,e):Js.invalid(e)},el=ee(ee({},Js),{from:Qs}),tl=function(e,t){return N(e,(function(e){var n=el.from(e);return n.fold((function(){return e}),(function(e){var n=e/t*100;return n+"%"}),(function(e){return e+"%"}))}))},nl=function(e,t,n){var r=n/t;return N(e,(function(e){var t=el.from(e);return t.fold((function(){return e}),(function(e){return e*r+"px"}),(function(e){return e/100*n+"px"}))}))},rl=function(e,t){var n=e.fold((function(){return r("")}),(function(e){var n=e/t;return r(n+"px")}),(function(){var e=100/t;return r(e+"%")}));return j(t,n)},ol=function(e,t,n){return e.fold((function(){return t}),(function(e){return nl(t,n,e)}),(function(e){return tl(t,n)}))},il=function(e,t,n){var r=el.from(n),o=G(e,(function(e){return"0px"===e}))?rl(r,e.length):ol(r,e,t);return ul(o)},al=function(e,t){return 0===e.length?t:z(e,(function(e,t){return el.from(t).fold(r(0),o,o)+e}),0)},sl=function(e,t){var n=Math.floor(e);return{value:n+t,remainder:e-n}},ll=function(e,t){return el.from(e).fold(r(e),(function(e){return e+t+"px"}),(function(e){return e+t+"%"}))},ul=function(e){if(0===e.length)return e;var t=z(e,(function(e,t){var n=el.from(t).fold((function(){return{value:t,remainder:0}}),(function(e){return sl(e,"px")}),(function(e){return{value:e+"%",remainder:0}}));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0}),n=t.output;return n.slice(0,n.length-1).concat([ll(n[n.length-1],Math.round(t.remainder))])},cl=el.from,dl=function(e,t,n){P(t,(function(t){var r=e.slice(t.column,t.colspan+t.column),o=al(r,lr());Xn(t.element,"width",o+n)}))},fl=function(e,t,n){P(t,(function(t,r){var o=al([e[r]],lr());Xn(t.element,"width",o+n)}))},pl=function(e,t,n,r){P(n,(function(t){var n=e.slice(t.row,t.rowspan+t.row),o=al(n,ur());Xn(t.element,"height",o+r)})),P(t,(function(t,n){Xn(t.element,"height",e[n])}))},hl=function(e){return cl(e).fold(r("px"),r("px"),r("%"))},ml=function(e,t,n,r){var o=jr.fromTable(e),i=o.all,a=jr.justCells(o),s=jr.justColumns(o);t.each((function(t){var n=hl(t),i=Xi(e),l=Cs(o,e,r),u=il(l,i,t);jr.hasColumns(o)?fl(u,s,n):dl(u,a,n),Xn(e,"width",t)})),n.each((function(t){var n=hl(t),r=ia(e),s=Ms(o,e,Sa),l=il(s,r,t);pl(l,i,a,n),Xn(e,"height",t)}))},gl=us,vl=cs,yl=ds,bl=ls,xl=function(e){var t=jr.fromTable(e);return t.grid},wl=function(e){var t=[],n=function(e){if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},r=function(e){t=F(t,(function(t){return t!==e}))},o=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o={};P(e,(function(e,t){o[e]=n[t]})),P(t,(function(e){e(o)}))};return{bind:n,unbind:r,trigger:o}},_l=function(e){var t=_t(e,(function(e){return{bind:e.bind,unbind:e.unbind}})),n=_t(e,(function(e){return e.trigger}));return{registry:t,trigger:n}},Cl=function(e,t){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout((function(){e.apply(null,r),n=null}),t)};return{cancel:r,throttle:o}},Sl=function(e){return e.slice(0).sort()},kl=function(e,t){throw new Error("All required keys ("+Sl(e).join(", ")+") were not specified. Specified keys were: "+Sl(t).join(", ")+".")},Ol=function(e){throw new Error("Unsupported keys for object: "+Sl(e).join(", "))},Tl=function(e,t){if(!w(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");P(t,(function(t){if(!b(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))},Ml=function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+Sl(e).join(", ")+") were not.")},Dl=function(e){var t=Sl(e),n=U(t,(function(e,n){return n<t.length-1&&e===t[n+1]}));n.each((function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))},Il=function(e,t){return El(e,t,{validate:O,label:"function"})},El=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");return Tl("required",t),Dl(t),function(r){var o=bt(r),i=G(t,(function(e){return A(o,e)}));i||kl(t,o),e(t,o);var a=F(t,(function(e){return!n.validate(r[e],e)}));return a.length>0&&Ml(a,n.label),r}},Al=function(e,t){var n=F(t,(function(t){return!A(e,t)}));n.length>0&&Ol(n)},Ll=function(e){return Il(Al,e)},jl=Ll(["compare","extract","mutate","sink"]),Nl=Ll(["element","start","stop","destroy"]),Pl=Ll(["forceDrop","drop","move","delayDrop"]);function Rl(){var e=h.none(),t=function(){e=h.none()},n=function(t,n){var r=e.map((function(e){return t.compare(e,n)}));return e=h.some(n),r},r=function(e,t){var r=t.extract(e);r.each((function(e){var r=n(t,e);r.each((function(e){o.trigger.move(e)}))}))},o=_l({move:wl(["info"])});return{onEvent:r,reset:t,events:o.registry}}function Bl(){return{onEvent:e,reset:e}}function Fl(){var e=Bl(),t=Rl(),n=e,r=function(){n.reset(),n=t},o=function(){n.reset(),n=e},i=function(e,t){n.onEvent(e,t)},a=function(){return n===t};return{on:r,off:o,isOn:a,onEvent:i,events:t.events}}var zl=function(e,t,n){var r=!1,o=_l({start:wl([]),stop:wl([])}),i=Fl(),a=function(){p.stop(),i.isOn()&&(i.off(),o.trigger.stop())},s=Cl(a,200),l=function(e){p.start(e),i.on(),o.trigger.start()},u=function(e){s.cancel(),i.onEvent(e,t)};i.events.move.bind((function(n){t.mutate(e,n.info)}));var c=function(){r=!0},d=function(){r=!1},f=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r&&e.apply(null,t)}},p=t.sink(Pl({forceDrop:a,drop:f(a),move:f(u),delayDrop:f(s.throttle)}),n),h=function(){p.destroy()};return{element:p.element,go:l,on:c,off:d,destroy:h,events:o.registry}},Vl=function(e,t,n,r,o,i,a){return{target:e,x:t,y:n,stop:r,prevent:o,kill:i,raw:a}},Hl=function(e){var n=ut.fromDom(xn(e).getOr(e.target)),r=function(){return e.stopPropagation()},o=function(){return e.preventDefault()},i=t(o,r);return Vl(n,e.clientX,e.clientY,r,o,i,e)},Ul=function(e,t){return function(n){e(n)&&t(Hl(n))}},$l=function(e,t,n,r,o){var a=Ul(n,r);return e.dom.addEventListener(t,a,o),{unbind:i(Wl,e,t,a,o)}},ql=function(e,t,n,r){return $l(e,t,n,r,!1)},Wl=function(e,t,n,r){e.dom.removeEventListener(t,n,r)},Gl=u,Yl=function(e,t,n){return ql(e,t,Gl,n)},Kl=Hl,Xl=function(e,t){var n=Un(e,t);return void 0===n||""===n?[]:n.split(" ")},Jl=function(e,t,n){var r=Xl(e,t),o=r.concat([n]);return Vn(e,t,o.join(" ")),!0},Zl=function(e,t,n){var r=F(Xl(e,t),(function(e){return e!==n}));return r.length>0?Vn(e,t,r.join(" ")):qn(e,t),!1},Ql=function(e){return void 0!==e.dom.classList},eu=function(e){return Xl(e,"class")},tu=function(e,t){return Jl(e,"class",t)},nu=function(e,t){return Zl(e,"class",t)},ru=function(e,t){Ql(e)?e.dom.classList.add(t):tu(e,t)},ou=function(e){var t=Ql(e)?e.dom.classList:eu(e);0===t.length&&qn(e,"class")},iu=function(e,t){if(Ql(e)){var n=e.dom.classList;n.remove(t)}else nu(e,t);ou(e)},au=function(e,t){return Ql(e)&&e.dom.classList.contains(t)},su=function(e){var t=e.replace(/\./g,"-"),n=function(e){return t+"-"+e};return{resolve:n}},lu=su("ephox-dragster"),uu=lu.resolve,cu=function(e){var t=ee({layerClass:uu("blocker")},e),n=ut.fromTag("div");Vn(n,"role","presentation"),Jn(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),ru(n,uu("blocker")),ru(n,t.layerClass);var r=function(){return n},o=function(){oo(n)};return{element:r,destroy:o}},du=function(e,t){return la(t.left-e.left,t.top-e.top)},fu=function(e){return h.some(la(e.x,e.y))},pu=function(e,t){e.mutate(t.left,t.top)},hu=function(e,t){var n=cu(t),r=Yl(n.element(),"mousedown",e.forceDrop),o=Yl(n.element(),"mouseup",e.drop),i=Yl(n.element(),"mousemove",e.move),a=Yl(n.element(),"mouseout",e.delayDrop),s=function(){n.destroy(),o.unbind(),i.unbind(),a.unbind(),r.unbind()},l=function(e){Zr(e,n.element())},u=function(){oo(n.element())};return Nl({element:n.element,start:l,stop:u,destroy:s})},mu=jl({compare:du,extract:fu,sink:hu,mutate:pu}),gu=function(e,t){void 0===t&&(t={});var n=void 0!==t.mode?t.mode:mu;return zl(e,n,t)},vu=function(e){return"true"===Un(e,"contenteditable")},yu=function(e,t){return Fn(e,"[contenteditable]",t)},bu=su("ephox-snooker"),xu=bu.resolve,wu=function(){var e=_l({drag:wl(["xDelta","yDelta"])}),t=function(t,n){e.trigger.drag(t,n)};return{mutate:t,events:e.registry}},_u=function(){var e=_l({drag:wl(["xDelta","yDelta","target"])}),t=h.none(),n=wu();n.events.drag.bind((function(n){t.each((function(t){e.trigger.drag(n.xDelta,n.yDelta,t)}))}));var r=function(e){t=h.some(e)},o=function(){return t};return{assign:r,get:o,mutate:n.mutate,events:e.registry}},Cu=function(e,t,n,r,o){var i=ut.fromTag("div");return Jn(i,{position:"absolute",left:t-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),Hn(i,{"data-column":e,role:"presentation"}),i},Su=function(e,t,n,r,o){var i=ut.fromTag("div");return Jn(i,{position:"absolute",left:t+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),Hn(i,{"data-row":e,role:"presentation"}),i},ku=xu("resizer-bar"),Ou=xu("resizer-rows"),Tu=xu("resizer-cols"),Mu=7,Du=function(e,t){return W(e.all,(function(e,n){return t(e.element)?[n]:[]}))},Iu=function(e,t){var n=[];return j(e.grid.columns,(function(r){var o=jr.getColumnAt(e,r).map((function(e){return e.element}));o.forall(t)&&n.push(r)})),F(n,(function(n){var r=jr.filterItems(e,(function(e){return e.column===n}));return G(r,(function(e){return t(e.element)}))}))},Eu=function(e){var t=In(e.parent(),"."+ku);P(t,oo)},Au=function(e,t,n){var r=e.origin();P(t,(function(t){t.each((function(t){var o=n(r,t);ru(o,ku),Zr(e.parent(),o)}))}))},Lu=function(e,t,n,r){Au(e,t,(function(e,t){var o=Cu(t.col,t.x-e.left,n.top-e.top,Mu,r);return ru(o,Tu),o}))},ju=function(e,t,n,r){Au(e,t,(function(e,t){var o=Su(t.row,n.left-e.left,t.y-e.top,r,Mu);return ru(o,Ou),o}))},Nu=function(e,t,n,r,o){var i=da(n),a=t.isResizable,s=r.length>0?Sa.positions(r,n):[],l=s.length>0?Du(e,a):[],u=F(s,(function(e,t){return L(l,(function(e){return t===e}))}));ju(t,u,i,Ji(n));var c=o.length>0?Ma.positions(o,n):[],d=c.length>0?Iu(e,a):[],f=F(c,(function(e,t){return L(d,(function(e){return t===e}))}));Lu(t,f,i,aa(n))},Pu=function(e,t){if(Eu(e),e.isResizable(t)){var n=jr.fromTable(t),r=ea(n),o=Zi(n);Nu(n,e,t,r,o)}},Ru=function(e,t){var n=In(e.parent(),"."+ku);P(n,t)},Bu=function(e){Ru(e,(function(e){Xn(e,"display","none")}))},Fu=function(e){Ru(e,(function(e){Xn(e,"display","block")}))},zu=function(e){return au(e,Ou)},Vu=function(e){return au(e,Tu)},Hu=xu("resizer-bar-dragging"),Uu=function(e){var t=_u(),n=gu(t,{}),r=h.none(),o=function(e,t){return h.from(Un(e,t))};t.events.drag.bind((function(e){o(e.target,"data-row").each((function(t){var n=sr(e.target,"top");Xn(e.target,"top",n+e.yDelta+"px")})),o(e.target,"data-column").each((function(t){var n=sr(e.target,"left");Xn(e.target,"left",n+e.xDelta+"px")}))}));var a=function(e,t){var n=sr(e,t),r=rr(e,"data-initial-"+t,0);return n-r};n.events.stop.bind((function(){t.get().each((function(t){r.each((function(n){o(t,"data-row").each((function(e){var r=a(t,"top");qn(t,"data-initial-top"),m.trigger.adjustHeight(n,r,parseInt(e,10))})),o(t,"data-column").each((function(e){var r=a(t,"left");qn(t,"data-initial-left"),m.trigger.adjustWidth(n,r,parseInt(e,10))})),Pu(e,n)}))}))}));var s=function(r,o){m.trigger.startAdjust(),t.assign(r),Vn(r,"data-initial-"+o,sr(r,o)),ru(r,Hu),Xn(r,"opacity","0.2"),n.go(e.parent())},l=Yl(e.parent(),"mousedown",(function(e){zu(e.target)&&s(e.target,"top"),Vu(e.target)&&s(e.target,"left")})),u=function(t){return ht(t,e.view())},c=function(e){return Fn(e,"table",u).filter((function(e){return yu(e,u).exists(vu)}))},d=Yl(e.view(),"mouseover",(function(t){c(t.target).fold((function(){_n(t.target)&&Eu(e)}),(function(t){r=h.some(t),Pu(e,t)}))})),f=function(){l.unbind(),d.unbind(),n.destroy(),Eu(e)},p=function(t){Pu(e,t)},m=_l({adjustHeight:wl(["table","delta","row"]),adjustWidth:wl(["table","delta","column"]),startAdjust:wl([])});return{destroy:f,refresh:p,on:n.on,off:n.off,hideBars:i(Bu,e),showBars:i(Fu,e),events:m.registry}},$u=function(e,t,n){var r=Sa,o=Ma,i=Uu(e),a=_l({beforeResize:wl(["table","type"]),afterResize:wl(["table","type"]),startDrag:wl([])});return i.events.adjustHeight.bind((function(e){var t=e.table;a.trigger.beforeResize(t,"row");var n=r.delta(e.delta,t);Bs(t,n,e.row,r),a.trigger.afterResize(t,"row")})),i.events.startAdjust.bind((function(e){a.trigger.startDrag()})),i.events.adjustWidth.bind((function(e){var r=e.table;a.trigger.beforeResize(r,"col");var i=o.delta(e.delta,r),s=n(r);Rs(r,i,e.column,t,s),a.trigger.afterResize(r,"col")})),{on:i.on,off:i.off,hideBars:i.hideBars,showBars:i.showBars,destroy:i.destroy,events:a.registry}},qu={create:$u},Wu=function(e,t){return e.fire("newrow",{node:t})},Gu=function(e,t){return e.fire("newcell",{node:t})},Yu=function(e,t,n,r,o){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:o})},Ku=function(e,t,n,r,o){e.fire("ObjectResized",{target:t,width:n,height:r,origin:o})},Xu=function(e,t,n,r,o){e.fire("TableSelectionChange",{cells:t,start:n,finish:r,otherCells:o})},Ju=function(e){e.fire("TableSelectionClear")},Zu=function(e,t,n){e.fire("TableModified",ee(ee({},n),{table:t}))},Qu="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ec={"border-collapse":"collapse",width:"100%"},tc=function(e){if(xc(e)){var t=e.getBody().offsetWidth;return ee(ee({},ec),{width:t+"px"})}return wc(e)?Ot(ec,(function(e,t){return"width"!==t})):ec},nc={border:"1"},rc="preservetable",oc=function(e){return e.getParam("table_sizing_mode","auto")},ic=function(e){return e.getParam("table_responsive_width")},ac=function(e){return e.getParam("table_default_attributes",nc,"object")},sc=function(e){return e.getParam("table_default_styles",tc(e),"object")},lc=function(e){return e.getParam("table_resize_bars",!0,"boolean")},uc=function(e){return e.getParam("table_tab_navigation",!0,"boolean")},cc=function(e){return e.getParam("table_cell_advtab",!0,"boolean")},dc=function(e){return e.getParam("table_row_advtab",!0,"boolean")},fc=function(e){return e.getParam("table_advtab",!0,"boolean")},pc=function(e){return e.getParam("table_appearance_options",!0,"boolean")},hc=function(e){return e.getParam("table_grid",!0,"boolean")},mc=function(e){return e.getParam("table_style_by_css",!1,"boolean")},gc=function(e){return e.getParam("table_cell_class_list",[],"array")},vc=function(e){return e.getParam("table_row_class_list",[],"array")},yc=function(e){return e.getParam("table_class_list",[],"array")},bc=function(e){return"relative"===oc(e)||!0===ic(e)},xc=function(e){return"fixed"===oc(e)||!1===ic(e)},wc=function(e){return"responsive"===oc(e)},_c=function(e){return e.getParam("table_toolbar",Qu)},Cc=function(e){return e.getParam("table_use_colgroups",!1,"boolean")},Sc=function(e){var t="section",n=e.getParam("table_header_type",t,"string"),r=["section","cells","sectionCells","auto"];return A(r,n)?n:t},kc=function(e){var t=["preservetable","resizetable"],n=e.getParam("table_column_resizing",rc,"string");return U(t,(function(e){return e===n})).getOr(rc)},Oc=function(e){return"preservetable"===kc(e)},Tc=function(e){var t=e.getParam("table_clone_elements");return b(t)?h.some(t.split(/[ ,]/)):Array.isArray(t)?h.some(t):h.none()},Mc=function(e){var t=e.getParam("object_resizing",!0);return b(t)?"table"===t:t},Dc=function(e){return e.nodeName.toLowerCase()},Ic=function(e){return ut.fromDom(e.getBody())},Ec=function(e){return e.getBoundingClientRect().width},Ac=function(e){return e.getBoundingClientRect().height},Lc=function(e){return function(t){return ht(t,Ic(e))}},jc=function(e){return e?e.replace(/px$/,""):""},Nc=function(e){return/^\d+(\.\d+)?$/.test(e)?e+"px":e},Pc=function(e){qn(e,"data-mce-style");var t=function(e){return qn(e,"data-mce-style")};P(hr(e),t),P(mr(e),t)},Rc=function(e,t){var n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return h.from(n).filter(xe)},Bc=function(e){return/^(\d+(\.\d+)?)%$/.test(e)},Fc=function(e){return/^(\d+(\.\d+)?)px$/.test(e)},zc=function(e){return ut.fromDom(e.selection.getStart())},Vc=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},Hc=function(t){var n=function(){return Xi(t)},o=r(0),i=function(e,n){return ks(e,t,n)};return{width:n,pixelWidth:n,getWidths:i,getCellDelta:o,singleColumnWidth:r([0]),minCellWidth:o,setElementWidth:e,adjustTableWidth:e,isRelative:!0,label:"none"}},Uc=function(e,t){var n=Vc(parseFloat(e)),r=Vc(Xi(t)),o=function(e){return e/r.get()*100},i=function(e,t){return[100-e]},a=function(){return lr()/r.get()*100},s=function(e){var o=n.get(),i=e/100*o,a=o+i;$a(t,a),n.set(a),r.set(Xi(t))},l=function(e,n){return Ss(e,t,n)};return{width:n.get,pixelWidth:r.get,getWidths:l,getCellDelta:o,singleColumnWidth:i,minCellWidth:a,setElementWidth:$a,adjustTableWidth:s,isRelative:!0,label:"percent"}},$c=function(e,t){var n=Vc(e),r=n.get,i=o,a=function(e,t){var n=Math.max(lr(),e+t);return[n-e]},s=function(e){var o=r()+e;Ua(t,o),n.set(o)},l=function(e,n){return ks(e,t,n)};return{width:r,pixelWidth:r,getWidths:l,getCellDelta:i,singleColumnWidth:a,minCellWidth:lr,setElementWidth:Ua,adjustTableWidth:s,isRelative:!1,label:"pixel"}},qc=function(e,t){var n=fs().exec(t);if(null!==n)return Uc(n[1],e);var r=ps().exec(t);if(null!==r){var o=parseInt(r[1],10);return $c(o,e)}var i=Xi(e);return $c(i,e)},Wc=function(e){var t=Ja(e);return t.fold((function(){return Hc(e)}),(function(t){return qc(e,t)}))},Gc={getTableSize:Wc,pixelSize:$c,percentageSize:Uc,noneSize:Hc},Yc=function(e,t){if(bc(e)){var n=Rc(e,t.dom).filter(Bc).getOrThunk((function(){return bl(t)}));return Gc.percentageSize(n,t)}return xc(e)?Gc.pixelSize(Xi(t),t):Gc.getTableSize(t)},Kc=function(e){qn(e,"width")},Xc=function(e,t){var n=ls(e);ml(e,h.some(n),h.none(),t),Kc(e)},Jc=function(e,t){var n=ss(e);ml(e,h.some(n),h.none(),t),Kc(e)},Zc=function(e){tr(e,"width");var t=mr(e),n=t.length>0?t:hr(e);P(n,(function(e){tr(e,"width"),Kc(e)})),Kc(e)},Qc=function(e,t){var n=Yc(e,t);Xc(t,n)},ed=function(e,t){var n=Yc(e,t);Jc(t,n)},td=Zc,nd=function(e){var t=jr.fromTable(e);jr.hasColumns(t)||P(hr(e),(function(e){var t=Zn(e,"width");Xn(e,"width",t),qn(e,"width")}))},rd=function(){var e=ut.fromTag("div");return Jn(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Zr(Cn(),e),e},od=function(e,t){return e.inline?Xs.body(Ic(e),rd(),t):Xs.only(ut.fromDom(e.getDoc()),t)},id=function(e,t){e.inline&&oo(t.parent())},ad="bar-",sd=function(e){return"false"!==Un(e,"data-mce-resize")},ld=function(e){var t,n,r=h.none(),o=h.none(),i=h.none(),a=function(e){return"TABLE"===e.nodeName},s=function(){return o},l=function(){return i.getOr(Xs.only(ut.fromDom(e.getBody()),sd))},u=function(t){return Yc(e,t)},c=function(){return Oc(e)?Ws():qs()},d=function(e){return xl(e).columns},f=function(r,o,i){var a=ve(o,"e");if(""===n&&Qc(e,r),i!==t&&""!==n){Xn(r,"width",n);var s=c(),l=u(r),f=Oc(e)||a?d(r)-1:0;Rs(r,i-t,f,s,l)}else if(Bc(n)){var p=parseFloat(n.replace("%","")),h=i*p/t;Xn(r,"width",h+"%")}Fc(n)&&nd(r)},p=function(){o.each((function(e){e.destroy()})),i.each((function(t){id(e,t)}))};return e.on("init",(function(){var t=od(e,sd);if(i=h.some(t),Mc(e)&&lc(e)){var n=c(),a=qu.create(t,n,u);a.on(),a.events.startDrag.bind((function(t){r=h.some(e.selection.getRng())})),a.events.beforeResize.bind((function(t){var n=t.table.dom;Yu(e,n,Ec(n),Ac(n),ad+t.type)})),a.events.afterResize.bind((function(t){var n=t.table,o=n.dom;Pc(n),r.each((function(t){e.selection.setRng(t),e.focus()})),Ku(e,o,Ec(o),Ac(o),ad+t.type),e.undoManager.add()})),o=h.some(a)}})),e.on("ObjectResizeStart",(function(r){var o=r.target;if(a(o)){var i=ut.fromDom(o);P(e.dom.select(".mce-clonedresizable"),(function(t){e.dom.addClass(t,"mce-"+kc(e)+"-columns")})),!vl(i)&&xc(e)?ed(e,i):!gl(i)&&bc(e)&&Qc(e,i),yl(i)&&ge(r.origin,ad)&&Qc(e,i),t=r.width,n=wc(e)?"":Rc(e,o).getOr("")}})),e.on("ObjectResized",(function(t){var n=t.target;if(a(n)){var r=ut.fromDom(n),o=t.origin;ge(o,"corner-")&&f(r,o,t.width),Pc(r),Zu(e,r.dom)}})),e.on("SwitchMode",(function(){s().each((function(t){e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),{lazyResize:s,lazyWire:l,destroy:p}},ud=function(e,t){return{element:e,offset:t}},cd=function(e,t,n){return e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind((function(t){return cd(e,t,n).orThunk((function(){return h.some(t)}))})):h.none()},dd=function(e,t){if(e.property().isText(t))return e.property().getText(t).length;var n=e.property().children(t);return n.length},fd=function(e,t){var n=cd(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return ud(n,dd(e,n));var r=e.property().children(n);return r.length>0?fd(e,r[r.length-1]):ud(n,dd(e,n))},pd=fd,hd=po(),md=function(e){return pd(hd,e)},gd=function(e,t){var n=is(e);n.each((function(n){var r=n.value/2;as(e,r,n.unit),as(t,r,n.unit)}))},vd=function(e,t,n){var r=e.cells,o=r.slice(0,t),i=r.slice(t),a=o.concat([n]).concat(i);return bd(e,a)},yd=function(e,t,n){var r=e.cells;r[t]=n},bd=function(e,t){return Ut(t,e.section)},xd=function(e,t){var n=e.cells,r=N(n,t);return Ut(r,e.section)},wd=function(e,t){return e.cells[t]},_d=function(e,t){return wd(e,t).element},Cd=function(e){return e.cells.length},Sd=function(e){var t=B(e,(function(e){return"colgroup"===e.section}));return{rows:t.fail,cols:t.pass}},kd=function(e,t,n,r){n===r?qn(e,t):Vn(e,t,n)},Od=function(e,t,n){Z(Dn(e,t)).fold((function(){return Jr(e,n)}),(function(e){return Xr(e,n)}))},Td=function(e,t){var n=Rn(e,t).getOrThunk((function(){var n=ut.fromTag(t,nn(e).dom);return"thead"===t?Od(e,"caption,colgroup",n):"colgroup"===t?Od(e,"caption",n):Zr(e,n),n}));return ro(n),n},Md=function(e,t){var n=[],r=[],o=function(e){return N(e,(function(e){e.isNew&&n.push(e.element);var t=e.element;return ro(t),P(e.cells,(function(e){e.isNew&&r.push(e.element),kd(e.element,"colspan",e.colspan,1),kd(e.element,"rowspan",e.rowspan,1),Zr(t,e.element)})),t}))},i=function(e){return W(e,(function(e){return N(e.cells,(function(e){return kd(e.element,"span",e.colspan,1),e.element}))}))},a=function(t,n){var r=Td(e,n),a="colgroup"===n?i:o,s=a(t);no(r,s)},s=function(t){Rn(e,t).each(oo)},l=function(e,t){e.length>0?a(e,t):s(t)},u=[],c=[],d=[],f=[];return P(t,(function(e){switch(e.section){case"thead":u.push(e);break;case"tbody":c.push(e);break;case"tfoot":d.push(e);break;case"colgroup":f.push(e);break}})),l(f,"colgroup"),l(u,"thead"),l(c,"tbody"),l(d,"tfoot"),{newRows:n,newCells:r}},Dd=function(e){return N(e,(function(e){var t=oi(e.element);return P(e.cells,(function(e){var n=ii(e.element);kd(n,"colspan",e.colspan,1),kd(n,"rowspan",e.rowspan,1),Zr(t,n)})),t}))},Id=function(e,t){return N(e,(function(e){return wd(e,t)}))},Ed=function(e,t){return e[t]},Ad=function(e,t){if(0===e.length)return 0;var n=e[0],r=$(e,(function(e){return!t(n.element,e.element)}));return r.fold((function(){return e.length}),(function(e){return e}))},Ld=function(e,t,n,r){var o=Ed(e,t).cells.slice(n),i=Ad(o,r),a=Id(e,n).slice(t),s=Ad(a,r);return{colspan:i,rowspan:s}},jd=function(e,t){var n=N(e,(function(e){return N(e.cells,l)})),r=function(e,t,r,o){for(var i=e;i<e+r;i++)for(var a=t;a<t+o;a++)n[i][a]=!0};return N(e,(function(o,i){var a=W(o.cells,(function(o,a){if(!1===n[i][a]){var s=Ld(e,i,a,t);return r(i,a,s.rowspan,s.colspan),[Bt(o.element,s.rowspan,s.colspan,o.isNew)]}return[]}));return $t(a,o.section)}))},Nd=function(e,t,n){var r=[];if(jr.hasColumns(e)){var o=N(jr.justColumns(e),(function(e){return Vt(e.element,n)}));r.push(Ut(o,"colgroup"))}for(var i=0;i<e.grid.rows;i++){for(var a=[],s=0;s<e.grid.columns;s++){var l=jr.getAt(e,i,s).map((function(e){return Vt(e.element,n)})).getOrThunk((function(){return Vt(t.gap(),!0)}));a.push(l)}var u=Ut(a,e.all[i].section);r.push(u)}return r},Pd=function(e,t){return Nd(e,t,!1)},Rd=function(e,t){var n=function(e){var n=Q(e,(function(e){return an(e.element).map((function(e){var t=an(e).isNone();return Vt(e,t)}))}));return n.getOrThunk((function(){return Vt(t.row(),!0)}))};return N(e,(function(e){var t=n(e.details);return Ht(t.element,e.details,e.section,t.isNew)}))},Bd=function(e,t){var n=jd(e,ht);return Rd(n,t)},Fd=function(e,t){return Q(e.all,(function(e){return U(e.cells,(function(e){return ht(t,e.element)}))}))},zd=function(e,t,n,r,o){return function(i,a,s,l,u){var c=jr.fromTable(a),d=t(c,s).map((function(t){var n=Pd(c,l),r=e(n,t,ht,o(l)),i=Bd(r.grid,l);return{grid:i,cursor:r.cursor}}));return d.fold((function(){return h.none()}),(function(e){var t=Md(a,e.grid),o=h.from(u).getOrThunk((function(){return Gc.getTableSize(a)}));return n(a,e.grid,o),r(a),Pu(i,a),h.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))}},Vd=function(e,t){return pr(t.element).bind((function(t){return Fd(e,t)}))},Hd=function(e,t){return pr(t.element).bind((function(n){return Fd(e,n).map((function(e){var n=ee(ee({},e),{generators:t.generators,clipboard:t.clipboard});return n}))}))},Ud=function(e,t){var n=N(t.selection,(function(t){return pr(t).bind((function(t){return Fd(e,t)}))})),r=qi(n);return r.length>0?h.some({cells:r,generators:t.generators,clipboard:t.clipboard}):h.none()},$d=function(e,t){return t.mergable},qd=function(e,t){return t.unmergable},Wd=function(e,t){var n=N(t.selection,(function(t){return pr(t).bind((function(t){return Fd(e,t)}))})),r=qi(n);return r.length>0?h.some(r):h.none()},Gd=function(e,t,n,r){var o=Sd(e).rows;if(0===o.length)return e;for(var i=t.startRow;i<=t.finishRow;i++)for(var a=t.startCol;a<=t.finishCol;a++)yd(o[i],a,Vt(r(),!1));return e},Yd=function(e,t,n,r){for(var o=Sd(e).rows,i=!0,a=0;a<o.length;a++)for(var s=0;s<Cd(o[0]);s++){var l=_d(o[a],s),u=n(l,t);!0===u&&!1===i?yd(o[a],s,Vt(r(),!0)):!0===u&&(i=!1)}return e},Kd=function(e,t){return V(e,(function(e,n){return L(e,(function(e){return t(e.element,n.element)}))?e:e.concat([n])}),[])},Xd=function(e,t,n,r){return t>0&&t<e[0].cells.length&&P(e,(function(e){var o=e.cells[t-1],i=e.cells[t],a=n(i.element,o.element);a&&yd(e,t,Vt(r(),!0))})),e},Jd=function(e,t,n,r){var o=Sd(e).rows;if(t>0&&t<o.length){var i=o[t-1].cells,a=Kd(i,n);P(a,(function(e){for(var i=h.none(),a=function(t){for(var a=function(a){var s=o[t].cells[a],l=n(s.element,e.element);l&&(i.isNone()&&(i=h.some(r())),i.each((function(e){yd(o[t],a,Vt(e,!0))})))},s=0;s<Cd(o[0]);s++)a(s)},s=t;s<o.length;s++)a(s)}))}return e},Zd=function(e){var t=function(t){return e===t},n=function(t){return Zd(e)},o=function(t){return Zd(e)},i=function(t){return Zd(t(e))},a=function(t){return Zd(e)},s=function(t){t(e)},c=function(t){return t(e)},d=function(t,n){return n(e)},f=function(t){return t(e)},p=function(t){return t(e)},m=function(){return h.some(e)};return{is:t,isValue:u,isError:l,getOr:r(e),getOrThunk:r(e),getOrDie:r(e),or:n,orThunk:o,fold:d,map:i,mapError:a,each:s,bind:c,exists:f,forall:p,toOptional:m}},Qd=function(t){var n=function(e){return e()},r=function(){return s(String(t))()},i=function(e){return e},a=function(e){return e()},c=function(e){return Qd(t)},d=function(e){return Qd(e(t))},f=function(e){return Qd(t)},p=function(e,n){return e(t)};return{is:l,isValue:l,isError:u,getOr:o,getOrThunk:n,getOrDie:r,or:i,orThunk:a,fold:p,map:c,mapError:d,each:e,bind:f,exists:l,forall:u,toOptional:h.none}},ef=function(e,t){return e.fold((function(){return Qd(t)}),Zd)},tf={value:Zd,error:Qd,fromOption:ef},nf=function(e,t,n){if(e.row>=t.length||e.column>Cd(t[0]))return tf.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);var r=t.slice(e.row),o=r[0].cells.slice(e.column),i=Cd(n[0]),a=n.length;return tf.value({rowDelta:r.length-a,colDelta:o.length-i})},rf=function(e,t){var n=Cd(e[0]),r=Cd(t[0]);return{rowDelta:0,colDelta:n-r}},of=function(e,t){var n=e.length,r=t.length;return{rowDelta:n-r,colDelta:0}},af=function(e,t,n){var r="colgroup"===t.section?n.col:n.cell;return N(e,(function(){return Vt(r(),!0)}))},sf=function(e,t,n){return e.concat(j(t,(function(){var t=e[e.length-1];return bd(t,af(t.cells,t,n))})))},lf=function(e,t,n){return N(e,(function(e){var r=af(j(t,o),e,n);return bd(e,e.cells.concat(r))}))},uf=function(e,t,n){var r=t.colDelta<0?lf:o,i=t.rowDelta<0?sf:o,a=r(e,Math.abs(t.colDelta),n);return i(a,Math.abs(t.rowDelta),n)},cf=function(e,t,n,r){var o=wd(e[t],n),a=i(r,o.element),s=e[t];return e.length>1&&Cd(s)>1&&(n>0&&a(_d(s,n-1))||n<s.cells.length-1&&a(_d(s,n+1))||t>0&&a(_d(e[t-1],n))||t<e.length-1&&a(_d(e[t+1],n)))},df=function(e,t,n,r,o){for(var i=e.row,a=e.column,s=n.length,l=Cd(n[0]),u=i+s,c=a+l,d=i;d<u;d++)for(var f=a;f<c;f++){cf(t,d,f,o)&&Yd(t,_d(t[d],f),o,r.cell);var p=_d(n[d-i],f-a),h=r.replace(p);yd(t[d],f,Vt(h,!0))}return t},ff=function(e,t,n,r,o){var i=nf(e,t,n);return i.map((function(i){var a=uf(t,i,r);return df(e,a,n,r,o)}))},pf=function(e,t,n,r,o){Xd(t,e,o,r.cell);var i=of(n,t),a=uf(n,i,r),s=of(t,a),l=uf(t,s,r);return N(l,(function(t,n){var r=t.cells.slice(0,e).concat(a[n].cells).concat(t.cells.slice(e,t.cells.length));return bd(t,r)}))},hf=function(e,t,n,r,o){Jd(t,e,o,r.cell);var i=rf(n,t),a=uf(n,i,r),s=rf(t,a),l=uf(t,s,r),u=Sd(l),c=u.cols,d=u.rows;return c.concat(d.slice(0,e)).concat(a).concat(d.slice(e,d.length))},mf=function(e,t,n,r,o){var i=Sd(e),a=i.rows,s=i.cols,l=a.slice(0,t),u=a.slice(t),c=xd(a[n],(function(e,n){var i=t>0&&t<a.length&&r(_d(a[t-1],n),_d(a[t],n)),s=i?wd(a[t],n):Vt(o(e.element,r),!0);return s}));return s.concat(l).concat([c]).concat(u)},gf=function(e,t,n,r,o,i,a){return"colgroup"!==n&&r?wd(e,t):Vt(a(_d(e,o),i),!0)},vf=function(e,t,n,r,o){return N(e,(function(e){var i=t>0&&t<Cd(e)&&r(_d(e,t-1),_d(e,t)),a=gf(e,t,e.section,i,n,r,o);return vd(e,t,a)}))},yf=function(e,t,n){var r=N(e,(function(e){var r=e.cells.slice(0,t).concat(e.cells.slice(n+1));return Ut(r,e.section)}));return F(r,(function(e){return e.cells.length>0}))},bf=function(e,t,n){var r=Sd(e),o=r.rows,i=r.cols;return i.concat(o.slice(0,t)).concat(o.slice(n+1))},xf=function(e,t,n,r){var o=function(e){return L(t,(function(t){return n(e.element,t.element)}))};return N(e,(function(e){return xd(e,(function(e){return o(e)?Vt(r(e.element,n),!0):e}))}))},wf=function(e,t,n,r){return void 0!==_d(e[t],n)&&t>0&&r(_d(e[t-1],n),_d(e[t],n))},_f=function(e,t,n){return t>0&&n(_d(e,t-1),_d(e,t))},Cf=function(e,t,n,r){var o=W(e,(function(r,o){var i=wf(e,o,t,n)||_f(r,t,n);return i?[]:[wd(r,t)]}));return xf(e,o,n,r)},Sf=function(e,t,n,r){var o=Sd(e).rows,i=o[t],a=W(i.cells,(function(e,r){var a=wf(o,t,r,n)||_f(i,r,n);return a?[]:[e]}));return xf(e,a,n,r)},kf=Ll(["cell","row","replace","gap","col","colgroup"]),Of=function(e){var t=rr(e,"colspan",1),n=rr(e,"rowspan",1);return{element:e,colspan:t,rowspan:n}},Tf=function(e,t){void 0===t&&(t=Of),kf(e);var n=Vc(h.none()),r=function(t){switch(Gt(t.element)){case"col":return e.col(t);default:return e.cell(t)}},o=function(e){var n=t(e);return r(n)},i=function(e){var t=o(e);return n.get().isNone()&&n.set(h.some(t)),a=h.some({item:e,replacement:t}),t},a=h.none(),s=function(e,t){return a.fold((function(){return i(e)}),(function(n){return t(e,n.item)?n.replacement:i(e)}))};return{getOrInit:s,cursor:n.get}},Mf=function(e,t){return function(n){var r=Vc(h.none());kf(n);var o=[],i=function(e,t){return U(o,(function(n){return t(n.item,e)}))},a=function(i){var a={scope:e},s=n.replace(i,t,a);return o.push({item:i,sub:s}),r.get().isNone()&&r.set(h.some(s)),s},s=function(e,t){return i(e,t).fold((function(){return a(e)}),(function(n){return t(e,n.item)?n.sub:a(e)}))};return{replaceOrInit:s,cursor:r.get}}},Df=function(e){kf(e);var t=Vc(h.none()),n=function(n){return t.get().isNone()&&t.set(h.some(n)),function(){var t=e.cell({element:n,colspan:1,rowspan:1});return tr(t,"width"),tr(n,"width"),t}};return{combine:n,cursor:t.get}},If={modification:Tf,transform:Mf,merging:Df},Ef=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Af=function(e,t){var n=e.property().name(t);return A(["ol","ul"],n)},Lf=function(e,t){var n=e.property().name(t);return A(Ef,n)},jf=function(e,t){return A(["br","img","hr","input"],e.property().name(t))},Nf=po(),Pf=function(e){return Lf(Nf,e)},Rf=function(e){return Af(Nf,e)},Bf=function(e){return jf(Nf,e)},Ff=function(e){var t=function(e){return"br"===Gt(e)},n=function(e){return G(e,(function(e){return t(e)||Zt(e)&&0===lo(e).trim().length}))},r=function(e){return"li"===Gt(e)||An(e,Rf).isSome()},o=function(e){return cn(e).map((function(e){return!!Pf(e)||!!Bf(e)&&"img"!==Gt(e)})).getOr(!1)},i=function(e){return ti(e).bind((function(n){var i=o(n);return an(n).map((function(o){return!0===i||r(o)||t(n)||Pf(o)&&!ht(e,o)?[]:[ut.fromTag("br")]}))})).getOr([])},a=function(){var t=W(e,(function(e){var t=dn(e);return n(t)?[]:t.concat(i(e))}));return 0===t.length?[ut.fromTag("br")]:t},s=a();ro(e[0]),no(e[0],s)},zf=function(e){var t=hr(e);0===t.length&&oo(e)},Vf=function(e,t){return{grid:e,cursor:t}},Hf=function(e,t,n){var r=Sd(e).rows;return Uf(r,t,n).orThunk((function(){return Uf(r,0,0)}))},Uf=function(e,t,n){return h.from(e[t]).bind((function(e){return h.from(e.cells[n]).bind((function(e){return h.from(e.element)}))}))},$f=function(e,t,n){var r=Sd(e).rows;return Vf(e,Uf(r,t,n))},qf=function(e){var t=function(e,t){var n=L(e,(function(e){return e.row===t.row}));return n?e:e.concat([t])};return V(e,t,[]).sort((function(e,t){return e.row-t.row}))},Wf=function(e){var t=function(e,t){var n=L(e,(function(e){return e.column===t.column}));return n?e:e.concat([t])};return V(e,t,[]).sort((function(e,t){return e.column-t.column}))},Gf=function(e,t,n,r){var o=t[0].row,i=t[0].row,a=qf(t),s=V(a,(function(e,t){return mf(e,i,o,n,r.getOrInit)}),e);return $f(s,i,t[0].column)},Yf=function(e,t,n,r){var o=qf(t),i=o[o.length-1].row,a=o[o.length-1].row+o[o.length-1].rowspan,s=V(o,(function(e,t){return mf(e,a,i,n,r.getOrInit)}),e);return $f(s,a,t[0].column)},Kf=function(e,t,n,r){var o=Wf(t),i=o[0].column,a=o[0].column,s=V(o,(function(e,t){return vf(e,a,i,n,r.getOrInit)}),e);return $f(s,t[0].row,a)},Xf=function(e,t,n,r){var o=t[t.length-1].column,i=t[t.length-1].column+t[t.length-1].colspan,a=Wf(t),s=V(a,(function(e,t){return vf(e,i,o,n,r.getOrInit)}),e);return $f(s,t[0].row,i)},Jf=function(e,t,n,r){var o=Sf(e,t.row,n,r.replaceOrInit);return $f(o,t.row,t.column)},Zf=function(e,t,n,r){var o=qf(t),i=function(e,t){return Sf(e,t.row,n,r.replaceOrInit)},a=V(o,i,e);return $f(a,t[0].row,t[0].column)},Qf=function(e,t,n,r){var o=Cf(e,t.column,n,r.replaceOrInit);return $f(o,t.row,t.column)},ep=function(e,t,n,r){var o=Wf(t),i=function(e,t){return Cf(e,t.column,n,r.replaceOrInit)},a=V(o,i,e);return $f(a,t[0].row,t[0].column)},tp=function(e,t,n,r){var o=Sf(e,t.row,n,r.replaceOrInit);return $f(o,t.row,t.column)},np=function(e,t,n,r){var o=qf(t),i=function(e,t){return Sf(e,t.row,n,r.replaceOrInit)},a=V(o,i,e);return $f(a,t[0].row,t[0].column)},rp=function(e,t,n,r){var o=Cf(e,t.column,n,r.replaceOrInit);return $f(o,t.row,t.column)},op=function(e,t,n,r){var o=Wf(t),i=function(e,t){return Cf(e,t.column,n,r.replaceOrInit)},a=V(o,i,e);return $f(a,t[0].row,t[0].column)},ip=function(e,t,n,r){var o=Wf(t),i=yf(e,o[0].column,o[o.length-1].column),a=Hf(i,t[0].row,t[0].column);return Vf(i,a)},ap=function(e,t,n,r){var o=qf(t),i=bf(e,o[0].row,o[o.length-1].row),a=Hf(i,t[0].row,t[0].column);return Vf(i,a)},sp=function(e,t,n,o){var i=t.cells;Ff(i);var a=Gd(e,t.bounds,n,r(i[0]));return Vf(a,h.from(i[0]))},lp=function(e,t,n,r){var o=z(t,(function(e,t){return Yd(e,t,n,r.combine(t))}),e);return Vf(o,h.from(t[0]))},up=function(e,t,n,r){var o=function(e,t){var n=jr.fromTable(e);return Nd(n,t,!0)},i=o(t.clipboard,t.generators),a=Pt(t.row,t.column),s=ff(a,e,i,t.generators,n);return s.fold((function(){return Vf(e,h.some(t.element))}),(function(e){var n=Hf(e,t.row,t.column);return Vf(e,n)}))},cp=function(e,t,n){var r=_r(e,n.section),o=jr.generate(r);return Nd(o,t,!0)},dp=function(e,t,n,r){var o=Sd(e).rows,i=t.cells[0].column,a=o[t.cells[0].row],s=cp(t.clipboard,t.generators,a),l=pf(i,e,s,t.generators,n),u=Hf(l,t.cells[0].row,t.cells[0].column);return Vf(l,u)},fp=function(e,t,n,r){var o=Sd(e).rows,i=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,a=o[t.cells[0].row],s=cp(t.clipboard,t.generators,a),l=pf(i,e,s,t.generators,n),u=Hf(l,t.cells[0].row,t.cells[0].column);return Vf(l,u)},pp=function(e,t,n,r){var o=Sd(e).rows,i=t.cells[0].row,a=o[i],s=cp(t.clipboard,t.generators,a),l=hf(i,e,s,t.generators,n),u=Hf(l,t.cells[0].row,t.cells[0].column);return Vf(l,u)},hp=function(e,t,n,r){var o=Sd(e).rows,i=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,a=o[t.cells[0].row],s=cp(t.clipboard,t.generators,a),l=hf(i,e,s,t.generators,n),u=Hf(l,t.cells[0].row,t.cells[0].column);return Vf(l,u)},mp=function(e,t){var n=jr.fromTable(e),r=Wd(n,t);return r.bind((function(e){var t=e[e.length-1],r=e[0].column,o=t.column+t.colspan,i=q(N(n.all,(function(e){return F(e.cells,(function(e){return e.column>=r&&e.column<o}))})));return gp(i,(function(e){return"th"===Gt(e.element)}))})).getOr("")},gp=function(e,t){var n=F(e,t);return 0===n.length?h.some("td"):n.length===e.length?h.some("th"):h.none()},vp=Fs,yp=zd(Gf,Wd,e,e,If.modification),bp=zd(Yf,Wd,e,e,If.modification),xp=zd(Kf,Wd,vp,e,If.modification),wp=zd(Xf,Wd,vp,e,If.modification),_p=zd(ip,Wd,vp,zf,If.modification),Cp=zd(ap,Wd,e,zf,If.modification),Sp=(zd(Qf,Vd,e,e,If.transform("row","th")),zd(ep,Wd,e,e,If.transform("row","th"))),kp=(zd(rp,Vd,e,e,If.transform(null,"td")),zd(op,Wd,e,e,If.transform(null,"td"))),Op=(zd(Jf,Vd,e,e,If.transform("col","th")),zd(Zf,Wd,e,e,If.transform("col","th")),zd(tp,Vd,e,e,If.transform(null,"td")),zd(np,Wd,e,e,If.transform(null,"td")),zd(sp,$d,e,e,If.merging)),Tp=zd(lp,qd,vp,e,If.merging),Mp=zd(up,Hd,vp,e,If.modification),Dp=zd(dp,Ud,e,e,If.modification),Ip=zd(fp,Ud,e,e,If.modification),Ep=zd(pp,Ud,e,e,If.modification),Ap=zd(hp,Ud,e,e,If.modification),Lp=mp,jp=function(e){return Dc(e.parentNode)},Np=function(e){return"thead"===e?"header":"tfoot"===e?"footer":"body"},Pp=function(e,t){var n="thead"===jp(t),r=!L(t.cells,(function(e){return"th"!==Dc(e)}));return n||r?h.some({thead:n,ths:r}):h.none()},Rp=function(e,t){return Np(Pp(e,t).fold((function(){return jp(t)}),(function(e){return"thead"})))},Bp=function(e,t,n){var r=e.getParent(t,"table"),o=t.parentNode,i=Dc(o);if(n!==i){var a=e.select(n,r)[0];if(!a){a=e.create(n);var s=r.firstChild;"thead"===n?Z(Dn(ut.fromDom(r),"caption,colgroup")).fold((function(){return r.insertBefore(a,s)}),(function(t){return e.insertAfter(a,t.dom)})):r.appendChild(a)}"tbody"===n&&"thead"===i&&a.firstChild?a.insertBefore(t,a.firstChild):a.appendChild(t),o.hasChildNodes()||e.remove(o)}},Fp=function(e,t,n){if(k(n)&&Dc(t)!==n){var r=e.dom.rename(t,n);return Gu(e,r),r}return t},zp=function(e,t,n,r){var o=e.dom,i=Fp(e,t,n);return C(r)||o.setAttrib(i,"scope",r),i},Vp=function(e,t,n,r){return P(t,(function(t){return zp(e,t,n,r)}))},Hp=function(e,t,n){var r=function(){var n=gr(ut.fromDom(t.cells[0])).map((function(e){return vr(e)})).getOr([]);return Q(n,(function(t){return Pp(e,t.dom)})).map((function(e){return e.thead&&e.ths?"sectionCells":e.thead?"section":"cells"})).getOr("section")},o=e.dom;if("header"===n){var i=Sc(e),a="auto"===i?r():i;Vp(e,t.cells,"section"===a?"td":"th","col"),Bp(o,t,"cells"===a?"tbody":"thead")}else Vp(e,t.cells,"td",null),Bp(o,t,"footer"===n?"tfoot":"tbody")},Up=function(e){return gr(e).bind((function(e){return Ao(e,Ai.firstSelectedSelector)})).fold((function(){return e}),(function(e){return e[0]}))},$p=function(e){return function(t){var n=Gt(t),r="col"===n||"colgroup"===n?Up(t):t;return Fn(r,e)}},qp=$p("th,td"),Wp=$p("th,td,caption"),Gp=function(e,t){return qp(e).map((function(e){return wi(t)})).getOr([])},Yp=function(e,t){var n=qp(e),r=n.bind((function(e){return gr(e)})).map((function(e){return vr(e)}));return Wi(n,r,(function(e,n){return F(n,(function(n){return L(xi(n.dom.cells),(function(n){return"1"===Un(n,t)||ht(n,e)}))}))})).getOr([])},Kp=function(t,n,r){var o=function(e){return"table"===Gt(Ic(e))},i=function(e){return!1===o(t)||xl(e).rows>1},a=function(e){return!1===o(t)||xl(e).columns>1},s=Tc(t),l=function(e,n,r,o){return function(i,a){Pc(i);var l=o(),u=ut.fromDom(t.getDoc()),c=vi(r,u,s),d=Yc(t,i);return n(i)?e(l,i,a,c,d).bind((function(e){return P(e.newRows,(function(e){Wu(t,e.dom)})),P(e.newCells,(function(e){Gu(t,e.dom)})),e.cursor.map((function(e){var n=md(e),r=t.dom.createRng();return r.setStart(n.element.dom,n.offset),r.setEnd(n.element.dom,n.offset),r}))})):h.none()}},c=l(Cp,i,e,n),d=l(_p,a,e,n),f=l(yp,u,e,n),p=l(bp,u,e,n),m=l(xp,u,gd,n),g=l(wp,u,gd,n),v=l(Op,u,e,n),y=l(Tp,u,e,n),b=l(Dp,u,e,n),x=l(Ip,u,e,n),w=l(Ep,u,e,n),_=l(Ap,u,e,n),C=l(Mp,u,e,n),S=function(e,t){return Dt(e,"type").filter((function(e){return A(t,e)}))},k=function(e,t){return S(t,["td","th"]).each((function(t){var n=N(Gp(zc(e),r),(function(e){return e.dom}));Vp(e,n,t,null)}))},O=function(e,t){return S(t,["header","body","footer"]).each((function(t){N(Yp(zc(e),Ai.selected),(function(n){return Hp(e,n.dom,t)}))}))},T=l(Sp,u,e,n),M=l(kp,u,e,n),D=function(e){var t=Yp(zc(e),Ai.selected);if(t.length>0){var n=N(t,(function(t){return Rp(e,t.dom)})),r=A(n,"header"),o=A(n,"footer");if(r||o){var i=A(n,"body");return!r||i||o?r||i||!o?"":"footer":"header"}return"body"}},I=function(e){return gp(Gp(zc(e),r),(function(e){return"th"===Gt(e)})).getOr("")},E=Lp;return{deleteRow:c,deleteColumn:d,insertRowsBefore:f,insertRowsAfter:p,insertColumnsBefore:m,insertColumnsAfter:g,mergeCells:v,unmergeCells:y,pasteColsBefore:b,pasteColsAfter:x,pasteRowsBefore:w,pasteRowsAfter:_,pasteCells:C,setTableCellType:k,setTableRowType:O,makeColumnsHeader:T,unmakeColumnsHeader:M,getTableRowType:D,getTableCellType:I,getTableColType:E}},Xp={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Jp=function(){return ut.fromTag("th")},Zp=function(){return ut.fromTag("td")},Qp=function(){return ut.fromTag("col")},eh=function(e,t,n,r){for(var o=ut.fromTag("tr"),i=0;i<e;i++){var a=r<t||i<n?Jp():Zp();i<n&&Vn(a,"scope","row"),r<t&&Vn(a,"scope","col"),Zr(a,ut.fromTag("br")),Zr(o,a)}return o},th=function(e){var t=ut.fromTag("colgroup");return j(e,(function(){return Zr(t,Qp())})),t},nh=function(e,t,n,r){return j(e,(function(e){return eh(t,n,r,e)}))},rh=function(e,t,n,r,o,i){void 0===i&&(i=Xp);var a=ut.fromTag("table"),s="cells"!==o;Jn(a,i.styles),Hn(a,i.attributes),i.colGroups&&Zr(a,th(t));var l=Math.min(e,n);if(s&&n>0){var u=ut.fromTag("thead");Zr(a,u);var c="sectionCells"===o?l:0,d=nh(n,t,c,r);no(u,d)}var f=ut.fromTag("tbody");Zr(a,f);var p=s?e-l:e,h=s?0:n,m=nh(p,t,h,r);return no(f,m),a},oh=function(e){return e.dom.innerHTML},ih=function(e){var t=ut.fromTag("div"),n=ut.fromDom(e.dom.cloneNode(!0));return Zr(t,n),oh(t)},ah=function(e,t){e.selection.select(t.dom,!0),e.selection.collapse(!0)},sh=function(e,t){Bn(t,"td,th").each(i(ah,e))},lh=function(e,t){P(In(t,"tr"),(function(t){Wu(e,t.dom),P(In(t,"th,td"),(function(t){Gu(e,t.dom)}))}))},uh=function(e){return b(e)&&-1!==e.indexOf("%")},ch=function(e,t,n,r,o){var i=sc(e),a={styles:i,attributes:ac(e),colGroups:Cc(e)};return e.undoManager.ignore((function(){var i=rh(n,t,o,r,Sc(e),a);Vn(i,"data-mce-id","__mce");var s=ih(i);e.insertContent(s),e.addVisual()})),Bn(Ic(e),'table[data-mce-id="__mce"]').map((function(t){return xc(e)?ed(e,t):wc(e)?td(t):(bc(e)||uh(i.width))&&Qc(e,t),Pc(t),qn(t,"data-mce-id"),lh(e,t),sh(e,t),t.dom})).getOr(null)},dh=function(e,t,n,r,o){void 0===r&&(r={});var i=function(e){return T(e)&&e>0};if(i(t)&&i(n)){var a=r.headerRows||0,s=r.headerColumns||0;return ch(e,n,t,s,a)}return null},fh=function(e){return function(){return e().fold((function(){return[]}),(function(e){return N(e,(function(e){return e.dom}))}))}},ph=function(e){return function(t){var n=t.length>0?h.some(xi(t)):h.none();e(n)}},hh=function(e){return function(t,n,r){void 0===r&&(r={});var o=dh(e,n,t,r,"Invalid values for insertTable - rows and columns values are required to insert a table.");return e.undoManager.add(),o}},mh=function(e,t,n,r){return{insertTable:hh(e),setClipboardRows:ph(t.setRows),getClipboardRows:fh(t.getRows),setClipboardCols:ph(t.setColumns),getClipboardCols:fh(t.getColumns),resizeHandler:n,selectionTargets:r}},gh=function(e,t,n){var r=rr(e,t,1);1===n||r<=1?qn(e,t):Vn(e,t,Math.min(n,r))},vh=function(e,t,n){if(jr.hasColumns(e)){var r=F(jr.justColumns(e),(function(e){return e.column>=t&&e.column<n})),o=N(r,(function(e){var r=ii(e.element);return gh(r,"span",n-t),r})),i=ut.fromTag("colgroup");return no(i,o),[i]}return[]},yh=function(e,t,n){return N(e.all,(function(e){var r=F(e.cells,(function(e){return e.column>=t&&e.column<n})),o=N(r,(function(e){var r=ii(e.element);return gh(r,"colspan",n-t),r})),i=ut.fromTag("tr");return no(i,o),i}))},bh=function(e,t){var n=jr.fromTable(e),r=Wd(n,t);return r.map((function(e){var t=e[e.length-1],r=e[0].column,o=t.column+t.colspan,i=vh(n,r,o),a=yh(n,r,o);return te(i,a)}))},xh=function(e,t,n){var r=jr.fromTable(e),o=Wd(r,t);return o.map((function(e){var t=Nd(r,n,!1),o=Sd(t).rows,i=o.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),a=Bd(i,n);return Dd(a)}))},wh=tinymce.util.Tools.resolve("tinymce.util.Tools"),_h=function(e,t,n){var r,o=e.select("td,th",t),i=function(t,r){for(var o=0;o<r.length;o++){var i=e.getStyle(r[o],n);if("undefined"===typeof t&&(t=i),t!==i)return""}return t};return i(r,o)},Ch=function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},Sh=function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)},kh=function(e,t){wh.each("left center right".split(" "),(function(n){e.formatter.remove("align"+n,{},t)}))},Oh=function(e,t){wh.each("top middle bottom".split(" "),(function(n){e.formatter.remove("valign"+n,{},t)}))},Th=function(e){return Et(e,"menu")},Mh=function(e,t){var n=function(e,t){return t.concat(N(e,(function(e){var t=e.text||e.title;return Th(e)?{text:t,items:Mh(e.menu)}:{text:t,value:e.value}})))};return n(e,t||[])},Dh=function(e){return function(t){return ge(t,"rgb")?e.toHex(t):t}},Ih=function(e,t){var n=ut.fromDom(t);return{borderwidth:er(n,"border-width").getOr(""),borderstyle:er(n,"border-style").getOr(""),bordercolor:er(n,"border-color").map(Dh(e)).getOr(""),backgroundcolor:er(n,"background-color").map(Dh(e)).getOr("")}},Eh=function(e){var t=e[0],n=e.slice(1);return P(n,(function(e){P(bt(t),(function(n){wt(e,(function(e,r){var o=t[n];""!==o&&n===r&&o!==e&&(t[n]="")}))}))})),t},Ah=function(e){var t=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],n={name:"borderwidth",type:"input",label:"Border width"},r="cell"===e?[n].concat(t):t;return{title:"Advanced",name:"advanced",items:r}},Lh=function(e,t,n,r){return U(e,(function(e){return n.formatter.matchNode(r,t+e)})).getOr("")},jh=i(Lh,["left","center","right"],"align"),Nh=i(Lh,["top","middle","bottom"],"valign"),Ph=function(e,t){var n=sc(e),r=ac(e),o=function(e){return{borderstyle:Dt(n,"border-style").getOr(""),bordercolor:Dh(e)(Dt(n,"border-color").getOr("")),backgroundcolor:Dh(e)(Dt(n,"background-color").getOr(""))}},i={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},a=function(){var t=n["border-width"];return mc(e)&&t?{border:t}:Dt(r,"border").fold((function(){return{}}),(function(e){return{border:e}}))},s=t?o(e.dom):{},l=function(){var e=Dt(n,"border-spacing").or(Dt(r,"cellspacing")).fold((function(){return{}}),(function(e){return{cellspacing:e}})),t=Dt(n,"border-padding").or(Dt(r,"cellpadding")).fold((function(){return{}}),(function(e){return{cellpadding:e}}));return ee(ee({},e),t)},u=ee(ee(ee(ee(ee(ee({},i),n),r),s),a()),l());return u},Rh=function(e,t,n){var r=function(t,n){var r=er(ut.fromDom(n),"border-width");return mc(e)&&r.isSome()?r.getOr(""):t.getAttrib(n,"border")||_h(e.dom,n,"border-width")||_h(e.dom,n,"border")},o=e.dom;return ee({width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"),cellpadding:o.getAttrib(t,"cellpadding")||_h(e.dom,t,"padding"),border:r(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:jh(e,t)},n?Ih(o,t):{})},Bh=function(e,t,n){var r=e.dom;return ee({height:r.getStyle(t,"height")||r.getAttrib(t,"height"),scope:r.getAttrib(t,"scope"),class:r.getAttrib(t,"class",""),type:Rp(e,t),align:jh(e,t)},n?Ih(r,t):{})},Fh=function(e,t,n,r){var o=e.dom,i=r.getOr(t),a=function(e,t){return o.getStyle(e,t)||o.getAttrib(e,t)};return ee({width:a(i,"width"),height:a(t,"height"),scope:o.getAttrib(t,"scope"),celltype:Dc(t),class:o.getAttrib(t,"class",""),halign:jh(e,t),valign:Nh(e,t)},n?Ih(o,t):{})},zh=function(e){var t=Mh(gc(e));return t.length>0?h.some({name:"class",type:"listbox",label:"Class",items:t}):h.none()},Vh=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],Hh=function(e){return Vh.concat(zh(e).toArray())},Uh=function(e){return function(t,n){var r=t.dom,o=function(t,o){e&&!o||r.setAttrib(n,t,o)},i=function(t,o){e&&!o||r.setStyle(n,t,o)},a=function(r,o){e&&!o||(""===o?t.formatter.remove(r,{value:null},n,!0):t.formatter.apply(r,{value:o},n))};return{setAttrib:o,setStyle:i,setFormat:a}}},$h={normal:Uh(!1),ifTruthy:Uh(!0)},qh=function(e){return gr(e[0]).map((function(t){var n=jr.fromTable(t),r=jr.justCells(n),o=F(r,(function(t){return L(e,(function(e){return ht(t.element,e)}))}));return N(o,(function(e){return{element:e.element.dom,column:jr.getColumnAt(n,e.column).map((function(e){return e.element.dom}))}}))}))},Wh=function(e,t,n){e.setAttrib("scope",n.scope),e.setAttrib("class",n.class),e.setStyle("height",Nc(n.height)),t.setStyle("width",Nc(n.width))},Gh=function(e,t){e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),e.setFormat("tablecellbordercolor",t.bordercolor),e.setFormat("tablecellborderstyle",t.borderstyle),e.setFormat("tablecellborderwidth",Nc(t.borderwidth))},Yh=function(e,t,n){var r=1===t.length;if(t.length>=1){var o=gr(t[0]);qh(t).each((function(t){P(t,(function(t){var o=zp(e,t.element,n.celltype),i=r?$h.normal(e,o):$h.ifTruthy(e,o),a=t.column.map((function(t){return r?$h.normal(e,t):$h.ifTruthy(e,t)})).getOr(i);Wh(i,a,n),cc(e)&&Gh(i,n),r&&(kh(e,o),Oh(e,o)),n.halign&&Ch(e,o,n.halign),n.valign&&Sh(e,o,n.valign)}))})),o.each((function(t){return Zu(e,t.dom)}))}},Kh=function(e,t,n){var r=n.getData();n.close(),e.undoManager.transact((function(){Yh(e,t,r),e.focus()}))},Xh=function(e,t){var n=qh(t).map((function(t){return N(t,(function(t){return Fh(e,t.element,cc(e),t.column)}))}));return Eh(n.getOrDie())},Jh=function(e,t){var n=Gp(zc(e),t);if(0!==n.length){var r=Xh(e,n),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Hh(e)},Ah("cell")]},a={type:"panel",items:[{type:"grid",columns:2,items:Hh(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:cc(e)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:i(Kh,e,n)})}},Zh=function(e){var t=Mh(vc(e));return t.length>0?h.some({name:"class",type:"listbox",label:"Class",items:t}):h.none()},Qh=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],em=function(e){return Qh.concat(Zh(e).toArray())},tm=function(e,t){e.setAttrib("scope",t.scope),e.setAttrib("class",t.class),e.setStyle("height",Nc(t.height))},nm=function(e,t){e.setStyle("background-color",t.backgroundcolor),e.setStyle("border-color",t.bordercolor),e.setStyle("border-style",t.borderstyle)},rm=function(e,t,n,r){var o=1===t.length;P(t,(function(t){r.type!==Dc(t.parentNode)&&Hp(e,t,r.type);var i=o?$h.normal(e,t):$h.ifTruthy(e,t);tm(i,r),dc(e)&&nm(i,r),r.align!==n.align&&(kh(e,t),Ch(e,t,r.align))})),gr(ut.fromDom(t[0])).each((function(t){return Zu(e,t.dom)}))},om=function(e,t,n,r){var o=r.getData();r.close(),e.undoManager.transact((function(){rm(e,t,n,o),e.focus()}))},im=function(e){var t=Yp(zc(e),Ai.selected);if(0!==t.length){var n=N(t,(function(t){return Bh(e,t.dom,dc(e))})),r=Eh(n),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:em(e)},Ah("row")]},a={type:"panel",items:[{type:"grid",columns:2,items:em(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:dc(e)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:i(om,e,N(t,(function(e){return e.dom})),r)})}},am=tinymce.util.Tools.resolve("tinymce.Env"),sm=function(e,t,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],o=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],i=pc(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],s=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return r.concat(o).concat(i).concat(a).concat(s)},lm=function(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)b(n)?e.setStyle(t,n,r):e.setStyle(t,n);else if(t.children)for(var o=0;o<t.children.length;o++)lm(e,t.children[o],n,r)},um=function(e,t,n){var r=e.dom,o={},i={};if(o.class=n.class,i.height=Nc(n.height),r.getAttrib(t,"width")&&!mc(e)?o.width=jc(n.width):i.width=Nc(n.width),mc(e)?(i["border-width"]=Nc(n.border),i["border-spacing"]=Nc(n.cellspacing)):(o.border=n.border,o.cellpadding=n.cellpadding,o.cellspacing=n.cellspacing),mc(e)&&t.children)for(var a=0;a<t.children.length;a++)lm(r,t.children[a],{"border-width":Nc(n.border),padding:Nc(n.cellpadding)}),fc(e)&&lm(r,t.children[a],{"border-color":n.bordercolor});fc(e)&&(i["background-color"]=n.backgroundcolor,i["border-color"]=n.bordercolor,i["border-style"]=n.borderstyle),o.style=r.serializeStyle(ee(ee({},sc(e)),i)),r.setAttribs(t,ee(ee({},ac(e)),o)),Zu(e,t)},cm=function(e,t,n){var r,o=e.dom,i=n.getData();n.close(),""===i.class&&delete i.class,e.undoManager.transact((function(){if(!t){var n=parseInt(i.cols,10)||1,a=parseInt(i.rows,10)||1;t=ch(e,n,a,0,0)}um(e,t,i),r=o.select("caption",t)[0],r&&!i.caption&&o.remove(r),!r&&i.caption&&(r=o.create("caption"),r.innerHTML=am.ie?Ko:'<br data-mce-bogus="1"/>',t.insertBefore(r,t.firstChild)),""===i.align?kh(e,t):Ch(e,t,i.align),e.focus(),e.addVisual()}))},dm=function(e,t){var n,r=e.dom,o=Ph(e,fc(e));!1===t?(n=r.getParent(e.selection.getStart(),"table"),n?o=Rh(e,n,fc(e)):fc(e)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor="")):(o.cols="1",o.rows="1",fc(e)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor=""));var a=Mh(yc(e));a.length>0&&o.class&&(o.class=o.class.replace(/\s*mce\-item\-table\s*/g,""));var s={type:"grid",columns:2,items:sm(e,a,t)},l=function(){return{type:"panel",items:[s]}},u=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},Ah("table")]}},c=fc(e)?u():l();e.windowManager.open({title:"Table Properties",size:"normal",body:c,onSubmit:i(cm,e,n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o})},fm=function(e){return Wp(zc(e))},pm=function(e){return qp(zc(e))},hm=function(t,n,r,o,s){var l=Lc(t),u=function(){return fm(t).each((function(e){gr(e,l).filter(a(l)).each((function(e){var n=ut.fromText("");if(Xr(e,n),oo(e),t.dom.isEmpty(t.getBody()))t.setContent(""),t.selection.setCursorLocation();else{var r=t.dom.createRng();r.setStart(n.dom,0),r.setEnd(n.dom,0),t.selection.setRng(r),t.nodeChanged()}}))}))},c=function(e){return fm(t).each((function(n){var r=wc(t)||xc(t)||bc(t);r||gr(n,l).each((function(n){"relative"!==e||gl(n)?"fixed"!==e||vl(n)?"responsive"!==e||yl(n)||td(n):ed(t,n):Qc(t,n),Pc(n),Zu(t,n.dom)}))}))},d=function(e){return gr(e,l)},f=function(e){return function(n){t.selection.setRng(n),t.focus(),r.clear(e),Pc(e),Zu(t,e.dom)}},p=function(e){return pm(t).each((function(t){d(t).each((function(n){var r=ji(o,n,t);e(n,r).each(f(n))}))}))},m=function(){return pm(t).map((function(n){return d(n).bind((function(r){var i=ji(o,r,n),a=vi(e,ut.fromDom(t.getDoc()),h.none());return xh(r,i,a)}))}))},g=function(){return pm(t).map((function(e){return d(e).bind((function(t){var n=ji(o,t,e);return bh(t,n)}))}))},v=function(e,n){return n().each((function(n){var r=N(n,(function(e){return ii(e)}));pm(t).each((function(n){return d(n).each((function(i){var a=yi(ut.fromDom(t.getDoc())),s=Pi(o,n,r,a);e(i,s).each(f(i))}))}))}))};wt({mceTableSplitCells:function(){return p(n.unmergeCells)},mceTableMergeCells:function(){return p(n.mergeCells)},mceTableInsertRowBefore:function(){return p(n.insertRowsBefore)},mceTableInsertRowAfter:function(){return p(n.insertRowsAfter)},mceTableInsertColBefore:function(){return p(n.insertColumnsBefore)},mceTableInsertColAfter:function(){return p(n.insertColumnsAfter)},mceTableDeleteCol:function(){return p(n.deleteColumn)},mceTableDeleteRow:function(){return p(n.deleteRow)},mceTableCutCol:function(e){return g().each((function(e){s.setColumns(e),p(n.deleteColumn)}))},mceTableCutRow:function(e){return m().each((function(e){s.setRows(e),p(n.deleteRow)}))},mceTableCopyCol:function(e){return g().each((function(e){return s.setColumns(e)}))},mceTableCopyRow:function(e){return m().each((function(e){return s.setRows(e)}))},mceTablePasteColBefore:function(e){return v(n.pasteColsBefore,s.getColumns)},mceTablePasteColAfter:function(e){return v(n.pasteColsAfter,s.getColumns)},mceTablePasteRowBefore:function(e){return v(n.pasteRowsBefore,s.getRows)},mceTablePasteRowAfter:function(e){return v(n.pasteRowsAfter,s.getRows)},mceTableDelete:u,mceTableSizingMode:function(e,t){return c(t)}},(function(e,n){return t.addCommand(n,e)}));var y=function(e,t){t.each((function(t){Zu(e,t.dom)}))};wt({mceTableCellType:function(e,r){var o=gr(zc(t),l);n.setTableCellType(t,r),y(t,o)},mceTableRowType:function(e,r){var o=gr(zc(t),l);n.setTableRowType(t,r),y(t,o)}},(function(e,n){return t.addCommand(n,e)})),t.addCommand("mceTableColType",(function(e,t){return Dt(t,"type").each((function(e){return p("th"===e?n.makeColumnsHeader:n.unmakeColumnsHeader)}))})),wt({mceTableProps:i(dm,t,!1),mceTableRowProps:i(im,t),mceTableCellProps:i(Jh,t,o)},(function(e,n){return t.addCommand(n,(function(){return e()}))})),t.addCommand("mceInsertTable",(function(e,n){x(n)&&bt(n).length>0?dh(t,n.rows,n.columns,n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):dm(t,!0)})),t.addCommand("mceTableApplyCellStyle",(function(e,n){var r=function(e){return"tablecell"+e.toLowerCase().replace("-","")};if(x(n)){var i=Gp(zc(t),o);if(0!==i.length){var a=Ot(n,(function(e,n){return t.formatter.has(r(n))&&b(e)}));At(a)||(wt(a,(function(e,n){P(i,(function(o){$h.normal(t,o.dom).setFormat(r(n),e)}))})),d(i[0]).each((function(e){return Zu(t,e.dom,{structure:!1,style:!0})})))}}}))},mm=function(e,t,n){var r=Lc(e),o=function(e){return gr(e,r)};wt({mceTableRowType:function(){return t.getTableRowType(e)},mceTableCellType:function(){return t.getTableCellType(e)},mceTableColType:function(){return qp(zc(e)).bind((function(e){return o(e).map((function(r){var o=ji(n,r,e);return t.getTableColType(r,o)}))})).getOr("")}},(function(t,n){return e.addQueryValueHandler(n,t)}))},gm=function(){var e=Vc(h.none()),t=Vc(h.none()),n=function(e){e.set(h.none())};return{getRows:e.get,setRows:function(r){e.set(r),n(t)},clearRows:function(){return n(e)},getColumns:t.get,setColumns:function(r){t.set(r),n(e)},clearColumns:function(){return n(t)}}},vm={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:!0},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:!0},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:!0},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:!0}},ym=function(e){e.formatter.register(vm)},bm=No.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),xm=function(e){return void 0===e&&(e=void 0),bm.none(e)},wm=ee(ee({},bm),{none:xm}),_m=function(e,t){return gr(e,t).bind((function(t){var n=hr(t),r=$(n,(function(t){return ht(e,t)}));return r.map((function(e){return{index:e,all:n}}))}))},Cm=function(e,t){var n=_m(e,t);return n.fold((function(){return wm.none(e)}),(function(t){return t.index+1<t.all.length?wm.middle(e,t.all[t.index+1]):wm.last(e)}))},Sm=function(e,t){var n=_m(e,t);return n.fold((function(){return wm.none()}),(function(t){return t.index-1>=0?wm.middle(e,t.all[t.index-1]):wm.first(e)}))},km=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},Om={create:km},Tm=No.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Mm=function(e,t,n,r){return e.fold(t,n,r)},Dm=function(e){return e.fold(o,o,o)},Im=Tm.before,Em=Tm.on,Am=Tm.after,Lm={before:Im,on:Em,after:Am,cata:Mm,getStart:Dm},jm=No.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Nm=function(e){return jm.exact(e.start,e.soffset,e.finish,e.foffset)},Pm=function(e){return e.match({domRange:function(e){return ut.fromDom(e.startContainer)},relative:function(e,t){return Lm.getStart(e)},exact:function(e,t,n,r){return e}})},Rm=jm.domRange,Bm=jm.relative,Fm=jm.exact,zm=function(e){var t=Pm(e);return on(t)},Vm=Om.create,Hm={domRange:Rm,relative:Bm,exact:Fm,exactFromRange:Nm,getWin:zm,range:Vm},Um=function(e,t){var n=e.document.createRange();return $m(n,t),n},$m=function(e,t){return e.selectNodeContents(t.dom)},qm=function(e,t){t.fold((function(t){e.setStartBefore(t.dom)}),(function(t,n){e.setStart(t.dom,n)}),(function(t){e.setStartAfter(t.dom)}))},Wm=function(e,t){t.fold((function(t){e.setEndBefore(t.dom)}),(function(t,n){e.setEnd(t.dom,n)}),(function(t){e.setEndAfter(t.dom)}))},Gm=function(e,t,n){var r=e.document.createRange();return qm(r,t),Wm(r,n),r},Ym=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},Km=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}},Xm=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?h.some(n).map(Km):h.none()},Jm=No.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Zm=function(e,t,n){return t(ut.fromDom(n.startContainer),n.startOffset,ut.fromDom(n.endContainer),n.endOffset)},Qm=function(e,t){return t.match({domRange:function(e){return{ltr:r(e),rtl:h.none}},relative:function(t,n){return{ltr:ne((function(){return Gm(e,t,n)})),rtl:ne((function(){return h.some(Gm(e,n,t))}))}},exact:function(t,n,r,o){return{ltr:ne((function(){return Ym(e,t,n,r,o)})),rtl:ne((function(){return h.some(Ym(e,r,o,t,n))}))}}})},eg=function(e,t){var n=t.ltr();if(n.collapsed){var r=t.rtl().filter((function(e){return!1===e.collapsed}));return r.map((function(e){return Jm.rtl(ut.fromDom(e.endContainer),e.endOffset,ut.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Zm(e,Jm.ltr,n)}))}return Zm(e,Jm.ltr,n)},tg=function(e,t){var n=Qm(e,t);return eg(e,n)},ng=function(e,t){var n=tg(e,t);return n.match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom,o),i.setEnd(t.dom,n),i}})},rg=(Jm.ltr,Jm.rtl,function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,a=1;a<o;a++){var s=e(a),l=Math.abs(t-s.left);if(n<=s.bottom){if(n<s.top||l>i)return a-1;i=l}}return 0}),og=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},ig=function(e,t,n,r,o){var i=function(n){var r=e.dom.createRange();return r.setStart(t.dom,n),r.collapse(!0),r},a=function(e){var t=i(e);return t.getBoundingClientRect()},s=lo(t).length,l=rg(a,n,r,o.right,s);return i(l)},ag=function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom);var i=o.getClientRects(),a=Q(i,(function(e){return og(e,n,r)?h.some(e):h.none()}));return a.map((function(o){return ig(e,t,n,r,o)}))},sg=function(e,t,n,r){var o=e.dom.createRange(),i=dn(t);return Q(i,(function(t){return o.selectNode(t.dom),og(o.getBoundingClientRect(),n,r)?lg(e,t,n,r):h.none()}))},lg=function(e,t,n,r){return Zt(t)?ag(e,t,n,r):sg(e,t,n,r)},ug=function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom);var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),s=Math.max(i.top,Math.min(i.bottom,r));return lg(e,t,a,s)},cg=!0,dg=!1,fg=function(e,t){return t-e.left<e.right-t?cg:dg},pg=function(e,t,n){var r=e.dom.createRange();return r.selectNode(t.dom),r.collapse(n),r},hg=function(e,t,n){var r=e.dom.createRange();r.selectNode(t.dom);var o=r.getBoundingClientRect(),i=fg(o,n),a=i===cg?ei:ti;return a(t).map((function(t){return pg(e,t,i)}))},mg=function(e,t,n){var r=t.dom.getBoundingClientRect(),o=fg(r,n);return h.some(pg(e,t,o))},gg=function(e,t,n){var r=0===dn(t).length?mg:hg;return r(e,t,n)},vg=function(e,t,n){return h.from(e.dom.caretPositionFromPoint(t,n)).bind((function(t){if(null===t.offsetNode)return h.none();var n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),h.some(n)}))},yg=function(e,t,n){return h.from(e.dom.caretRangeFromPoint(t,n))},bg=function(e,t,n,r){var o=e.dom.createRange();o.selectNode(t.dom);var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),s=Math.max(i.top,Math.min(i.bottom,r));return ug(e,t,a,s)},xg=function(e,t,n){return ut.fromPoint(e,t,n).bind((function(r){var o=function(){return gg(e,r,t)};return 0===dn(r).length?o():bg(e,r,t,n).orThunk(o)}))},wg=function(){return document.caretPositionFromPoint?vg:document.caretRangeFromPoint?yg:xg}(),_g=function(e,t,n){var r=ut.fromDom(e.document);return wg(r,t,n).map((function(e){return Om.create(ut.fromDom(e.startContainer),e.startOffset,ut.fromDom(e.endContainer),e.endOffset)}))},Cg=function(e,t){var n=Gt(e);return"input"===n?Lm.after(e):A(["br","img"],n)?0===t?Lm.before(e):Lm.after(e):Lm.on(e,t)},Sg=function(e,t){var n=e.fold(Lm.before,Cg,Lm.after),r=t.fold(Lm.before,Cg,Lm.after);return Hm.relative(n,r)},kg=function(e,t,n,r){var o=Cg(e,t),i=Cg(n,r);return Hm.relative(o,i)},Og=function(e){return e.match({domRange:function(e){var t=ut.fromDom(e.startContainer),n=ut.fromDom(e.endContainer);return kg(t,e.startOffset,n,e.endOffset)},relative:Sg,exact:kg})},Tg=function(e,t,n,r){var o=nn(e),i=o.dom.createRange();return i.setStart(e.dom,t),i.setEnd(n.dom,r),i},Mg=function(e,t,n,r){var o=Tg(e,t,n,r),i=ht(e,n)&&t===r;return o.collapsed&&!i},Dg=function(e){return h.from(e.getSelection())},Ig=function(e,t){Dg(e).each((function(e){e.removeAllRanges(),e.addRange(t)}))},Eg=function(e,t,n,r,o){var i=Ym(e,t,n,r,o);Ig(e,i)},Ag=function(e,t,n,r,o,i){t.collapse(n.dom,r),t.extend(o.dom,i)},Lg=function(e,t){return tg(e,t).match({ltr:function(t,n,r,o){Eg(e,t,n,r,o)},rtl:function(t,n,r,o){Dg(e).each((function(i){if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom,n,r.dom,o);else if(i.extend)try{Ag(e,i,t,n,r,o)}catch(a){Eg(e,r,o,t,n)}else Eg(e,r,o,t,n)}))}})},jg=function(e,t,n,r,o){var i=kg(t,n,r,o);Lg(e,i)},Ng=function(e,t,n){var r=Sg(t,n);Lg(e,r)},Pg=function(e){var t=Hm.getWin(e).dom,n=function(e,n,r,o){return Ym(t,e,n,r,o)},r=Og(e);return tg(t,r).match({ltr:n,rtl:n})},Rg=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return h.some(Om.create(ut.fromDom(t.startContainer),t.startOffset,ut.fromDom(n.endContainer),n.endOffset))}return h.none()},Bg=function(e){if(null===e.anchorNode||null===e.focusNode)return Rg(e);var t=ut.fromDom(e.anchorNode),n=ut.fromDom(e.focusNode);return Mg(t,e.anchorOffset,n,e.focusOffset)?h.some(Om.create(t,e.anchorOffset,n,e.focusOffset)):Rg(e)},Fg=function(e,t){var n=Um(e,t);Ig(e,n)},zg=function(e){return Dg(e).filter((function(e){return e.rangeCount>0})).bind(Bg)},Vg=function(e){return zg(e).map((function(e){return Hm.exact(e.start,e.soffset,e.finish,e.foffset)}))},Hg=function(e,t){var n=ng(e,t);return Xm(n)},Ug=function(e,t,n){return _g(e,t,n)},$g=function(e){Dg(e).each((function(e){return e.removeAllRanges()}))},qg=tinymce.util.Tools.resolve("tinymce.util.VK"),Wg=function(e,t,n,r){return Xg(e,t,Cm(n),r)},Gg=function(e,t,n,r){return Xg(e,t,Sm(n),r)},Yg=function(e,t){var n=Hm.exact(t,0,t,0);return Pg(n)},Kg=function(e,t){var n=In(t,"tr");return Z(n).bind((function(t){return Bn(t,"td,th").map((function(t){return Yg(e,t)}))}))},Xg=function(e,t,n,r){return n.fold(h.none,h.none,(function(t,n){return ei(n).map((function(t){return Yg(e,t)}))}),(function(n){return gr(n,t).bind((function(t){var o=Li(n);return e.undoManager.transact((function(){r.insertRowsAfter(t,o)})),Kg(e,t)}))}))},Jg=["table","li","dl"],Zg=function(e,t,n){if(e.keyCode===qg.TAB){var r=Ic(t),o=function(e){var t=Gt(e);return ht(e,r)||A(Jg,t)},i=t.selection.getRng();if(i.collapsed){var a=ut.fromDom(i.startContainer);pr(a,o).each((function(r){e.preventDefault();var i=e.shiftKey?Gg:Wg,a=i(t,o,r,n);a.each((function(e){t.selection.setRng(e)}))}))}}},Qg=function(e,t){return{selection:e,kill:t}},ev={create:Qg},tv=function(e,t,n,r){return{start:Lm.on(e,t),finish:Lm.on(n,r)}},nv={create:tv},rv=function(e,t){var n=ng(e,t);return Om.create(ut.fromDom(n.startContainer),n.startOffset,ut.fromDom(n.endContainer),n.endOffset)},ov=nv.create,iv=function(e,t,n,r,o,i,a){return ht(n,o)&&r===i?h.none():Fn(n,"td,th",t).bind((function(n){return Fn(o,"td,th",t).bind((function(r){return av(e,t,n,r,a)}))}))},av=function(e,t,n,r,o){return ht(n,r)?h.none():Oo(n,r,t).bind((function(t){var r=t.boxes.getOr([]);return r.length>0?(o(e,r,t.start,t.finish),h.some(ev.create(h.some(ov(n,0,n,Xo(n))),!0))):h.none()}))},sv=function(e,t,n,r,o){var i=function(e){return o.clearBeforeUpdate(n),o.selectRange(n,e.boxes,e.start,e.finish),e.boxes};return Eo(r,e,t,o.firstSelectedSelector,o.lastSelectedSelector).map(i)},lv=function(e,t){return{item:e,mode:t}},uv=function(e,t,n,r){return void 0===r&&(r=cv),e.property().parent(t).map((function(e){return lv(e,r)}))},cv=function(e,t,n,r){return void 0===r&&(r=dv),n.sibling(e,t).map((function(e){return lv(e,r)}))},dv=function(e,t,n,r){void 0===r&&(r=dv);var o=e.property().children(t),i=n.first(o);return i.map((function(e){return lv(e,r)}))},fv=[{current:uv,next:cv,fallback:h.none()},{current:cv,next:dv,fallback:h.some(uv)},{current:dv,next:dv,fallback:h.some(cv)}],pv=function(e,t,n,r,o){void 0===o&&(o=fv);var i=U(o,(function(e){return e.current===n}));return i.bind((function(n){return n.current(e,t,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return pv(e,t,n,r)}))}))}))},hv=function(){var e=function(e,t){return e.query().prevSibling(t)},t=function(e){return e.length>0?h.some(e[e.length-1]):h.none()};return{sibling:e,first:t}},mv=function(){var e=function(e,t){return e.query().nextSibling(t)},t=function(e){return e.length>0?h.some(e[0]):h.none()};return{sibling:e,first:t}},gv={left:hv,right:mv},vv=function(e,t,n,r,o,i){var a=pv(e,t,r,o);return a.bind((function(t){return i(t.item)?h.none():n(t.item)?h.some(t.item):vv(e,t.item,n,t.mode,o,i)}))},yv=function(e,t,n,r){return vv(e,t,n,cv,gv.left(),r)},bv=function(e,t,n,r){return vv(e,t,n,cv,gv.right(),r)},xv=function(e){return function(t){return 0===e.property().children(t).length}},wv=function(e,t,n){return Cv(e,t,xv(e),n)},_v=function(e,t,n){return Sv(e,t,xv(e),n)},Cv=yv,Sv=bv,kv=po(),Ov=function(e,t){return wv(kv,e,t)},Tv=function(e,t){return _v(kv,e,t)},Mv=function(e,t,n){return Cv(kv,e,t,n)},Dv=function(e,t,n){return Sv(kv,e,t,n)},Iv=function(e,t,n){return An(e,t,n).isSome()},Ev=No.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Av=function(e,t,n){var r=e.getRect(t),o=e.getRect(n);return o.right>r.left&&o.left<r.right},Lv=function(e){return Fn(e,"tr")},jv=function(e,t,n,r,o,i,a){return Fn(r,"td,th",a).bind((function(n){return Fn(t,"td,th",a).map((function(t){return ht(n,t)?ht(r,n)&&Xo(n)===o?i(t):Ev.none("in same cell"):Co(Lv,[n,t]).fold((function(){return Av(e,t,n)?Ev.success():i(t)}),(function(e){return i(t)}))}))})).getOr(Ev.none("default"))},Nv=function(e,t,n,r,o){return e.fold(t,n,r,o)},Pv=ee(ee({},Ev),{verify:jv,cata:Nv}),Rv=function(e,t,n,r){return{parent:e,children:t,element:n,index:r}},Bv=function(e){return an(e).bind((function(t){var n=dn(t);return Fv(n,e).map((function(r){return Rv(t,n,e,r)}))}))},Fv=function(e,t){return $(e,i(ht,t))},zv=function(e){return"br"===Gt(e)},Vv=function(e,t,n){return t(e,n).bind((function(e){return Zt(e)&&0===lo(e).trim().length?Vv(e,t,n):h.some(e)}))},Hv=function(e,t,n){return n.traverse(t).orThunk((function(){return Vv(t,n.gather,e)})).map(n.relative)},Uv=function(e,t){return fn(e,t).filter(zv).orThunk((function(){return fn(e,t-1).filter(zv)}))},$v=function(e,t,n,r){return Uv(t,n).bind((function(t){return r.traverse(t).fold((function(){return Vv(t,r.gather,e).map(r.relative)}),(function(e){return Bv(e).map((function(e){return Lm.on(e.parent,e.index)}))}))}))},qv=function(e,t,n,r){var o=zv(t)?Hv(e,t,r):$v(e,t,n,r);return o.map((function(e){return{start:e,finish:e}}))},Wv=function(e){return Pv.cata(e,(function(e){return h.none()}),(function(){return h.none()}),(function(e){return h.some(ud(e,0))}),(function(e){return h.some(ud(e,Xo(e)))}))},Gv=function(e,t){return{left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}},Yv=function(e,t){return{left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}},Kv=function(e,t,n){return{left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}},Xv=function(e){return e.top},Jv=function(e){return e.bottom},Zv=function(e,t,n){return n>=0&&n<Xo(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):h.none()},Qv=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}},ey=function(e,t){return h.some(e.getRect(t))},ty=function(e,t,n){return Jt(t)?ey(e,t).map(Qv):Zt(t)?Zv(e,t,n).map(Qv):h.none()},ny=function(e,t){return Jt(t)?ey(e,t).map(Qv):Zt(t)?e.getRangedRect(t,0,t,Xo(t)).map(Qv):h.none()},ry=5,oy=100,iy=No.generate([{none:[]},{retry:["caret"]}]),ay=function(e,t){return e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right},sy=function(e,t,n){return Ln(t,Pf).fold(l,(function(t){return ny(e,t).exists((function(e){return ay(n,e)}))}))},ly=function(e,t,n,r,o){var i=Gv(o,ry);return Math.abs(n.bottom-r.bottom)<1||n.top>o.bottom?iy.retry(i):n.top===o.bottom?iy.retry(Gv(o,1)):sy(e,t,o)?iy.retry(Kv(i,ry,0)):iy.none()},uy=function(e,t,n,r,o){var i=Yv(o,ry);return Math.abs(n.top-r.top)<1||n.bottom<o.top?iy.retry(i):n.bottom===o.top?iy.retry(Yv(o,1)):sy(e,t,o)?iy.retry(Kv(i,ry,0)):iy.none()},cy={point:Xv,adjuster:uy,move:Yv,gather:Ov},dy={point:Jv,adjuster:ly,move:Gv,gather:Tv},fy=function(e,t,n){return e.elementFromPoint(t,n).filter((function(e){return"table"===Gt(e)})).isSome()},py=function(e,t,n,r,o){return hy(e,t,n,t.move(r,ry),o)},hy=function(e,t,n,r,o){return 0===o?h.some(r):fy(e,r.left,t.point(r))?py(e,t,n,r,o-1):e.situsFromPoint(r.left,t.point(r)).bind((function(i){return i.start.fold(h.none,(function(i){return ny(e,i).bind((function(a){return t.adjuster(e,i,a,n,r).fold(h.none,(function(r){return hy(e,t,n,r,o-1)}))})).orThunk((function(){return h.some(r)}))}),h.none)}))},my=function(e,t){return e.situsFromPoint(t.left,t.bottom+ry)},gy=function(e,t){return e.situsFromPoint(t.left,t.top-ry)},vy=function(e,t,n){return e.point(t)>n.getInnerHeight()?h.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?h.some(-e.point(t)):h.none()},yy=function(e,t,n){var r=e.move(n,ry),o=hy(t,e,n,r,oy).getOr(r);return vy(e,o,t).fold((function(){return t.situsFromPoint(o.left,e.point(o))}),(function(n){return t.scrollBy(0,n),t.situsFromPoint(o.left,e.point(o)-n)}))},by={tryUp:i(yy,cy),tryDown:i(yy,dy),ieTryUp:gy,ieTryDown:my,getJumpSize:r(ry)},xy=20,wy=function(e,t,n){return e.getSelection().bind((function(r){return qv(t,r.finish,r.foffset,n).fold((function(){return h.some(ud(r.finish,r.foffset))}),(function(o){var i=e.fromSitus(o),a=Pv.verify(e,r.finish,r.foffset,i.finish,i.foffset,n.failure,t);return Wv(a)}))}))},_y=function(e,t,n,r,o,i){return 0===i?h.none():ky(e,t,n,r,o).bind((function(a){var s=e.fromSitus(a),l=Pv.verify(e,n,r,s.finish,s.foffset,o.failure,t);return Pv.cata(l,(function(){return h.none()}),(function(){return h.some(a)}),(function(a){return ht(n,a)&&0===r?Cy(e,n,r,Yv,o):_y(e,t,a,0,o,i-1)}),(function(a){return ht(n,a)&&r===Xo(a)?Cy(e,n,r,Gv,o):_y(e,t,a,Xo(a),o,i-1)}))}))},Cy=function(e,t,n,r,o){return ty(e,t,n).bind((function(t){return Sy(e,o,r(t,by.getJumpSize()))}))},Sy=function(e,t,n){var r=Xe().browser;return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?t.otherRetry(e,n):r.isIE()?t.ieRetry(e,n):h.none()},ky=function(e,t,n,r,o){return ty(e,n,r).bind((function(t){return Sy(e,o,t)}))},Oy=function(e,t,n){return wy(e,t,n).bind((function(r){return _y(e,t,r.element,r.offset,n,xy).map(e.fromSitus)}))},Ty=function(e,t){return Iv(e,(function(e){return an(e).exists((function(e){return ht(e,t)}))}))},My=function(e,t,n,r,o){return Fn(r,"td,th",t).bind((function(r){return Fn(r,"table",t).bind((function(i){return Ty(o,i)?Oy(e,t,n).bind((function(e){return Fn(e.finish,"td,th",t).map((function(t){return{start:r,finish:t,range:e}}))})):h.none()}))}))},Dy=function(e,t,n,r,o,i){return Xe().browser.isIE()?h.none():i(r,t).orThunk((function(){return My(e,t,n,r,o).map((function(e){var t=e.range;return ev.create(h.some(ov(t.start,t.soffset,t.finish,t.foffset)),!0)}))}))},Iy=function(e,t){return Fn(e,"tr",t).bind((function(e){return Fn(e,"table",t).bind((function(n){var r=In(n,"tr");return ht(e,r[0])?Mv(n,(function(e){return ti(e).isSome()}),t).map((function(e){var t=Xo(e);return ev.create(h.some(ov(e,t,e,t)),!0)})):h.none()}))}))},Ey=function(e,t){return Fn(e,"tr",t).bind((function(e){return Fn(e,"table",t).bind((function(n){var r=In(n,"tr");return ht(e,r[r.length-1])?Dv(n,(function(e){return ei(e).isSome()}),t).map((function(e){return ev.create(h.some(ov(e,0,e,0)),!0)})):h.none()}))}))},Ay=function(e,t,n,r,o,i,a){return My(e,n,r,o,i).bind((function(e){return av(t,n,e.start,e.finish,a)}))},Ly=function(){var e=Vc(h.none()),t=function(){return e.set(h.none())},n=function(t){return e.set(h.some(t))},r=function(){return e.get().isSome()},o=function(t){return e.get().each(t)};return{clear:t,set:n,isSet:r,on:o}},jy=function(e,t){return Fn(e,"td,th",t)};function Ny(e,t,n,r){var o=Ly(),i=o.clear,a=function(e){r.clear(t),jy(e.target,n).each(o.set)},s=function(i){o.on((function(o){r.clearBeforeUpdate(t),jy(i.target,n).each((function(i){Oo(o,i,n).each((function(n){var a=n.boxes.getOr([]);(a.length>1||1===a.length&&!ht(o,i))&&(r.selectRange(t,a,n.start,n.finish),e.selectContents(i))}))}))}))},l=function(e){i()};return{clearstate:i,mousedown:a,mouseover:s,mouseup:l}}var Py={traverse:cn,gather:Tv,relative:Lm.before,otherRetry:by.tryDown,ieRetry:by.ieTryDown,failure:Pv.failedDown},Ry={traverse:un,gather:Ov,relative:Lm.before,otherRetry:by.tryUp,ieRetry:by.ieTryUp,failure:Pv.failedUp},By=function(e){return function(t){return t===e}},Fy=By(38),zy=By(40),Vy=function(e){return e>=37&&e<=40},Hy={isBackward:By(37),isForward:By(39)},Uy={isBackward:By(39),isForward:By(37)},$y=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return la(n,r)},qy=function(e,t,n){var r=void 0!==n?n.dom:document,o=r.defaultView;o&&o.scrollBy(e,t)},Wy=function(e){var t=function(t,n){return ut.fromPoint(ut.fromDom(e.document),t,n)},n=function(e){return e.dom.getBoundingClientRect()},r=function(t,n,r,o){var i=Hm.exact(t,n,r,o);return Hg(e,i)},o=function(){return Vg(e).map((function(t){return rv(e,t)}))},i=function(t){var n=Hm.relative(t.start,t.finish);return rv(e,n)},a=function(t,n){return Ug(e,t,n).map((function(e){return nv.create(e.start,e.soffset,e.finish,e.foffset)}))},s=function(){$g(e)},l=function(t){void 0===t&&(t=!1),Vg(e).each((function(n){return n.fold((function(e){return e.collapse(t)}),(function(n,r){var o=t?n:r;Ng(e,o,o)}),(function(n,r,o,i){var a=t?n:o,s=t?r:i;jg(e,a,s,a,s)}))}))},u=function(t){Fg(e,t)},c=function(t){jg(e,t.start,t.soffset,t.finish,t.foffset)},d=function(t,n){Ng(e,t,n)},f=function(){return e.innerHeight},p=function(){var t=$y(ut.fromDom(e.document));return t.top},h=function(t,n){qy(t,n,ut.fromDom(e.document))};return{elementFromPoint:t,getRect:n,getRangedRect:r,getSelection:o,fromSitus:i,situsFromPoint:a,clearSelection:s,collapseSelection:l,setSelection:c,setRelativeSelection:d,selectContents:u,getInnerHeight:f,getScrollY:p,scrollBy:h}},Gy=function(e,t){return{rows:e,cols:t}},Yy=function(e,t,n,r){var o=Wy(e),i=Ny(o,t,n,r);return{clearstate:i.clearstate,mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}},Ky=function(e,t,n,r){var o=Wy(e),a=function(){return r.clear(t),h.none()},s=function(e,s,l,u,c,d){var f=e.raw,p=f.which,m=!0===f.shiftKey,g=To(t,r.selectedSelector).fold((function(){return zy(p)&&m?i(Ay,o,t,n,Py,u,s,r.selectRange):Fy(p)&&m?i(Ay,o,t,n,Ry,u,s,r.selectRange):zy(p)?i(Dy,o,n,Py,u,s,Ey):Fy(p)?i(Dy,o,n,Ry,u,s,Iy):h.none}),(function(e){var n=function(n){return function(){var i=Q(n,(function(n){return sv(n.rows,n.cols,t,e,r)}));return i.fold((function(){return Do(t,r.firstSelectedSelector,r.lastSelectedSelector).map((function(e){var n=zy(p)||d.isForward(p)?Lm.after:Lm.before;return o.setRelativeSelection(Lm.on(e.first,0),n(e.table)),r.clear(t),ev.create(h.none(),!0)}))}),(function(e){return h.some(ev.create(h.none(),!0))}))}};return zy(p)&&m?n([Gy(1,0)]):Fy(p)&&m?n([Gy(-1,0)]):d.isBackward(p)&&m?n([Gy(0,-1),Gy(-1,0)]):d.isForward(p)&&m?n([Gy(0,1),Gy(1,0)]):Vy(p)&&!1===m?a:h.none}));return g()},l=function(e,o,i,a,s){return To(t,r.selectedSelector).fold((function(){var l=e.raw,u=l.which,c=!0===l.shiftKey;return!1===c?h.none():Vy(u)?iv(t,n,o,i,a,s,r.selectRange):h.none()}),h.none)};return{keydown:s,keyup:l}},Xy=function(e,t,n,r){var o=Wy(e);return function(e,i){r.clearBeforeUpdate(t),Oo(e,i,n).each((function(e){var n=e.boxes.getOr([]);r.selectRange(t,n,e.start,e.finish),o.selectContents(i),o.collapseSelection()}))}},Jy=function(e,t){P(t,(function(t){iu(e,t)}))},Zy=function(e){return function(t){ru(t,e)}},Qy=function(e){return function(t){Jy(t,e)}},eb=function(e){var t=Zy(e.selected),n=Qy([e.selected,e.lastSelected,e.firstSelected]),r=function(t){var r=In(t,e.selectedSelector);P(r,n)},o=function(n,o,i,a){r(n),P(o,t),ru(i,e.firstSelected),ru(a,e.lastSelected)};return{clearBeforeUpdate:r,clear:r,selectRange:o,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},tb=function(e,t,n){var r=function(t){qn(t,e.selected),qn(t,e.firstSelected),qn(t,e.lastSelected)},o=function(t){Vn(t,e.selected,"1")},i=function(e){a(e),n()},a=function(t){var n=In(t,e.selectedSelector);P(n,r)},s=function(n,r,a,s){i(n),P(r,o),Vn(a,e.firstSelected,"1"),Vn(s,e.lastSelected,"1"),t(r,a,s)};return{clearBeforeUpdate:a,clear:i,selectRange:s,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},nb={byClass:eb,byAttr:tb},rb=function(e,t,n){var r=e.slice(0,t[t.length-1].row+1),o=Bd(r,n);return W(o,(function(e){var n=e.cells.slice(0,t[t.length-1].column+1);return N(n,(function(e){return e.element}))}))},ob=function(e,t,n){var r=e.slice(t[0].row+t[0].rowspan-1,e.length),o=Bd(r,n);return W(o,(function(e){var n=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return N(n,(function(e){return e.element}))}))},ib=function(e,t,n){var r=jr.fromTable(e),o=Wd(r,t);return o.map((function(e){var t=Nd(r,n,!1),o=rb(t,e,n),i=ob(t,e,n);return{upOrLeftCells:o,downOrRightCells:i}}))},ab=function(e){return!1===au(ut.fromDom(e.target),"ephox-snooker-resizer-bar")};function sb(t,n,r){var o=function(n,o,i){r.targets().each((function(r){var a=gr(o);a.each((function(a){var s=Tc(t),l=vi(e,ut.fromDom(t.getDoc()),s),u=ib(a,r,l);Xu(t,n,o,i,u)}))}))},i=function(){return Ju(t)},a=nb.byAttr(Ai,o,i);return t.on("init",(function(r){var o=t.getWin(),i=Ic(t),s=Lc(t),l=function(){var n=t.selection,r=ut.fromDom(n.getStart()),o=ut.fromDom(n.getEnd()),s=Co(gr,[r,o]);s.fold((function(){return a.clear(i)}),e)},u=Yy(o,i,s,a),c=Ky(o,i,s,a),d=Xy(o,i,s,a),f=function(e){return!0===e.raw.shiftKey};t.on("TableSelectorChange",(function(e){return d(e.start,e.finish)}));var p=function(e,n){f(e)&&(n.kill&&e.kill(),n.selection.each((function(e){var n=Hm.relative(e.start,e.finish),r=ng(o,n);t.selection.setRng(r)})))},h=function(e){var n=Kl(e);if(n.raw.shiftKey&&Vy(n.raw.which)){var r=t.selection.getRng(),o=ut.fromDom(r.startContainer),i=ut.fromDom(r.endContainer);c.keyup(n,o,r.startOffset,i,r.endOffset).each((function(e){p(n,e)}))}},m=function(e){var r=Kl(e);n().each((function(e){return e.hideBars()}));var o=t.selection.getRng(),i=ut.fromDom(o.startContainer),a=ut.fromDom(o.endContainer),s=na(Hy,Uy)(ut.fromDom(t.selection.getStart()));c.keydown(r,i,o.startOffset,a,o.endOffset,s).each((function(e){p(r,e)})),n().each((function(e){return e.showBars()}))},g=function(e){return 0===e.button},v=function(e){return void 0===e.buttons||(!(!am.browser.isEdge()||0!==e.buttons)||0!==(1&e.buttons))},y=function(e){u.clearstate()},b=function(e){g(e)&&ab(e)&&u.mousedown(Kl(e))},x=function(e){v(e)&&ab(e)&&u.mouseover(Kl(e))},w=function(e){g(e)&&ab(e)&&u.mouseup(Kl(e))},_=function(){var e=Vc(ut.fromDom(i)),t=Vc(0),n=function(n){var r=ut.fromDom(n.target);if("td"===Gt(r)||"th"===Gt(r)){var o=e.get(),i=t.get();ht(o,r)&&n.timeStamp-i<300&&(n.preventDefault(),d(r,r))}e.set(r),t.set(n.timeStamp)};return{touchEnd:n}},C=_();t.on("dragstart",y),t.on("mousedown",b),t.on("mouseover",x),t.on("mouseup",w),t.on("touchend",C.touchEnd),t.on("keyup",h),t.on("keydown",m),t.on("NodeChange",l)})),{clear:a.clear}}var lb=function(e,t){var n=Vc(h.none()),r=Vc([]),o=function(){return Wp(zc(e)).bind((function(e){var n=gr(e),r=function(e){return"caption"===Gt(e)};return n.map((function(n){return r(e)?Li(e):ji(t,n,e)}))}))},i=function(){n.set(ne(o)()),P(r.get(),(function(e){return e()}))},a=function(e,t){var o=function(){return n.get().fold((function(){e.setDisabled(!0)}),(function(n){e.setDisabled(t(n))}))};return o(),r.set(r.get().concat([o])),function(){r.set(F(r.get(),(function(e){return e!==o})))}},s=function(e){return a(e,(function(e){return!1}))},l=function(e){return a(e,(function(e){return"caption"===Gt(e.element)}))},u=function(e){return function(t){return a(t,(function(t){return"caption"===Gt(t.element)||e().isNone()}))}},c=function(e){return a(e,(function(e){return e.mergable.isNone()}))},d=function(e){return a(e,(function(e){return e.unmergable.isNone()}))};return e.on("NodeChange ExecCommand TableSelectorChange",i),{onSetupTable:s,onSetupCellOrRow:l,onSetupPasteable:u,onSetupMergeable:c,onSetupUnmergeable:d,resetTargets:i,targets:function(){return n.get()}}},ub=function(e,t,n){e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable | cell row column | advtablesort | tableprops deletetable")}});var r=function(t){return function(){return e.execCommand(t)}};e.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:r("mceTableProps"),icon:"table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:r("mceTableDelete"),icon:"table-delete-table",onSetup:t.onSetupTable}),e.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:r("mceTableCellProps"),icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:r("mceTableMergeCells"),icon:"table-merge-cells",onSetup:t.onSetupMergeable}),e.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:r("mceTableSplitCells"),icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),e.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:r("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:r("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:r("mceTableDeleteRow"),icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:r("mceTableRowProps"),icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:r("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:r("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:r("mceTableDeleteCol"),icon:"table-delete-column",onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:t.onSetupPasteable(n.getColumns)}),e.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:t.onSetupPasteable(n.getColumns)}),e.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:r("mceInsertTable"),icon:"table"})},cb=function(e){var t=function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},n=_c(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})},db=function(e,t,n){var r=function(t){return function(){return e.execCommand(t)}},o=function(t){e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},i={text:"Table properties",onSetup:t.onSetupTable,onAction:r("mceTableProps")},a={text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,onAction:r("mceTableDelete")};e.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:r("mceTableInsertRowBefore"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:r("mceTableInsertRowAfter"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:r("mceTableDeleteRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:r("mceTableRowProps"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:t.onSetupPasteable(n.getRows)}),e.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:t.onSetupPasteable(n.getRows)});var s={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}};e.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:r("mceTableInsertColBefore"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:r("mceTableInsertColAfter"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:r("mceTableDeleteCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:t.onSetupPasteable(n.getColumns)}),e.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:t.onSetupPasteable(n.getColumns)});var l={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter"}};e.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:r("mceTableCellProps"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:r("mceTableMergeCells"),onSetup:t.onSetupMergeable}),e.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:r("mceTableSplitCells"),onSetup:t.onSetupUnmergeable});var u={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}};!1===hc(e)?e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:r("mceInsertTable")}):e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:o}]}}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:r("mceInsertTable")}),e.ui.registry.addMenuItem("tableprops",i),e.ui.registry.addMenuItem("deletetable",a),e.ui.registry.addNestedMenuItem("row",s),e.ui.registry.addNestedMenuItem("column",l),e.ui.registry.addNestedMenuItem("cell",u),e.ui.registry.addContextMenu("table",{update:function(){return t.resetTargets(),t.targets().fold((function(){return""}),(function(e){return"caption"===Gt(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}})};function fb(e){var t=Vo((function(){return Ic(e)}),(function(){return Wp(zc(e))}),Ai.selectedSelector),n=lb(e,t),r=ld(e),o=sb(e,r.lazyResize,n),i=Kp(e,r.lazyWire,t),a=gm();return hm(e,i,o,t,a),mm(e,i,t),zi(e,t,i,o),db(e,n,a),ub(e,n,a),cb(e),e.on("PreInit",(function(){e.serializer.addTempAttr(Ai.firstSelected),e.serializer.addTempAttr(Ai.lastSelected),ym(e)})),uc(e)&&e.on("keydown",(function(t){Zg(t,e,i)})),e.on("remove",(function(){r.destroy()})),mh(e,a,r,n)}function pb(){Ho.add("table",fb)}pb()})()},"5eda":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("a-card",{attrs:{bordered:!1}},[r("div",{staticClass:"table-page-search-wrapper"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:48}},[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"角色ID"}},[r("a-input",{attrs:{placeholder:"请输入"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[r("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("span",{staticClass:"table-page-search-submitButtons"},[r("a-button",{attrs:{type:"primary"}},[t._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"}},[t._v("重置")])],1)])],1)],1)],1),r("s-table",{attrs:{size:"default",columns:t.columns,data:t.loadData},scopedSlots:t._u([{key:"expandedRowRender",fn:function(e){return r("div",{staticStyle:{margin:"0"}},[r("a-row",{style:{marginBottom:"12px"},attrs:{gutter:24}},t._l(e.permissions,(function(e,n){return r("a-col",{key:n,style:{marginBottom:"12px"},attrs:{span:12}},[r("a-col",{attrs:{lg:4,md:24}},[r("span",[t._v(t._s(e.permissionName)+"：")])]),e.actionEntitySet.length>0?r("a-col",{attrs:{lg:20,md:24}},t._l(e.actionEntitySet,(function(e,n){return r("a-tag",{key:n,attrs:{color:"cyan"}},[t._v(t._s(e.describe))])})),1):r("a-col",{attrs:{span:20}},[t._v("-")])],1)})),1)],1)}},{key:"action",fn:function(e,n){return r("span",{},[r("a",{on:{click:function(e){return t.handleEdit(n)}}},[t._v("编辑")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-dropdown",[r("a",{staticClass:"ant-dropdown-link"},[t._v("\n          更多 "),r("a-icon",{attrs:{type:"down"}})],1),r("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("详情")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("禁用")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("删除")])])],1)],1)],1)}}])}),r("a-modal",{staticStyle:{top:"20px"},attrs:{title:"操作",width:800},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("a-form",{attrs:{autoFormCreate:function(t){e.form=t}}},[r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"唯一识别码",hasFeedback:"",validateStatus:"success"}},[r("a-input",{attrs:{placeholder:"唯一识别码",id:"no",disabled:"disabled"},model:{value:t.mdl.id,callback:function(e){t.$set(t.mdl,"id",e)},expression:"mdl.id"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"角色名称",hasFeedback:"",validateStatus:"success"}},[r("a-input",{attrs:{placeholder:"起一个名字",id:"role_name"},model:{value:t.mdl.name,callback:function(e){t.$set(t.mdl,"name",e)},expression:"mdl.name"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"状态",hasFeedback:"",validateStatus:"warning"}},[r("a-select",{model:{value:t.mdl.status,callback:function(e){t.$set(t.mdl,"status",e)},expression:"mdl.status"}},[r("a-select-option",{attrs:{value:"1"}},[t._v("正常")]),r("a-select-option",{attrs:{value:"2"}},[t._v("禁用")])],1)],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"描述",hasFeedback:""}},[r("a-textarea",{attrs:{rows:5,placeholder:"...",id:"describe"},model:{value:t.mdl.describe,callback:function(e){t.$set(t.mdl,"describe",e)},expression:"mdl.describe"}})],1),r("a-divider"),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"拥有权限",hasFeedback:""}},t._l(t.mdl.permissions,(function(e,n){return r("a-row",{key:n,attrs:{gutter:16}},[r("a-col",{attrs:{span:4}},[t._v("\n            "+t._s(e.permissionName)+"：\n          ")]),r("a-col",{attrs:{span:20}},[r("a-checkbox-group",{attrs:{options:e.actionsOptions}})],1)],1)})),1)],1)],1)],1)},o=[],i=n("e8c4"),a=n("0fea"),s={name:"TableList",components:{STable:i["a"]},data:function(){return{description:"列表使用场景：后台管理中的权限管理以及角色管理，可用于基于 RBAC 设计的角色权限控制，颗粒度细到每一个操作类型。",visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},form:null,mdl:{},advanced:!1,queryParam:{},columns:[{title:"唯一识别码",dataIndex:"id"},{title:"角色名称",dataIndex:"name"},{title:"状态",dataIndex:"status"},{title:"创建时间",dataIndex:"createTime",sorter:!0},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadData:function(e){return Object(a["e"])(e).then((function(e){return e.result}))},selectedRowKeys:[],selectedRows:[]}},created:function(){Object(a["f"])().then((function(e){})),Object(a["e"])().then((function(e){}))},methods:{handleEdit:function(e){this.mdl=Object.assign({},e),this.mdl.permissions.forEach((function(e){e.actionsOptions=e.actionEntitySet.map((function(e){return{label:e.describe,value:e.action,defaultCheck:e.defaultCheck}}))})),this.visible=!0},handleOk:function(){},onChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},l=s,u=n("5d22"),c=Object(u["a"])(l,r,o,!1,null,null,null);t["default"]=c.exports},"60ca":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-row",[n("a-col",{attrs:{span:6}},[n("a-card",[n("a-divider",[e._v("目录")]),n("div",{staticClass:"block"},[n("el-tree",{attrs:{data:e.dataList,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"render-content":e.renderContent,props:e.defaultProps},on:{"node-click":e.nodeClick}})],1)],1)],1),n("a-col",{attrs:{span:1}}),n("a-col",{attrs:{span:17}},[n("a-card",{attrs:{title:e.menuTitle}},[n("a-form",{attrs:{form:e.form,"label-col":{span:3},"wrapper-col":{span:20}}},[n("a-form-item",{attrs:{label:"帮助标题"}},[n("a-input",{attrs:{placeholder:"请输入帮助标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),n("a-form-item",{attrs:{label:"帮助内容"}},[n("a-textarea",{attrs:{placeholder:"请输入帮助内容","auto-size":{minRows:3,maxRows:5}},model:{value:e.form.textarea,callback:function(t){e.$set(e.form,"textarea",t)},expression:"form.textarea"}})],1),n("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[n("a-button",{attrs:{type:"primary","html-type":"submit"},on:{click:e.update}},[e._v(" 提交 ")])],1)],1)],1)],1)],1),n("el-dialog",{attrs:{title:"添加标题",visible:e.dialogaddVisible},on:{"update:visible":function(t){e.dialogaddVisible=t}}},[n("el-form",{attrs:{model:e.form}},[n("el-form-item",{attrs:{label:"帮助标题：","label-width":e.formLabelWidth}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogaddVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.addTitle}},[e._v("确 定")])],1)],1)],1)},o=[],i=(n("b65a"),n("0fea")),a=1e3,s={name:"SystemHelp",data:function(){var e=[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1",children:[{id:9,label:"三级 1-1-1"},{id:10,label:"三级 1-1-2"}]}]},{id:2,label:"一级 2",children:[{id:5,label:"二级 2-1"},{id:6,label:"二级 2-2"}]},{id:3,label:"一级 3",children:[{id:7,label:"二级 3-1"},{id:8,label:"二级 3-2"}]}];return{data:JSON.parse(JSON.stringify(e)),dataList:[],form:{title:"",textarea:""},addForm:{title:""},url:{contentsList:"/help/children/tree",add:"/help"},dialogaddVisible:!1,formLabelWidth:"120px",clickData:{},menuTitle:["运营管理子系统"],defaultProps:{label:"title"},parentLableList:null}},methods:{nodeClick:function(e,t){this.form.title=e.title,this.form.textarea=e.content,this.clickData=e,this.menuTitle=[],this.menuTitle.push(this.clickData.title),this.parentLable(this.dataList,this.clickData.parentId)},parentLable:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.forEach((function(e){e.id===t&&r.push(e),e.children&&e.children.length&&n.parentLable(e.children,t,r)})),0!=r.length?(this.menuTitle.push(r[0].title),_.reverse(this.menuTitle),this.parentLable(this.dataList,r[0].parentId)):0==r.length&&(this.menuTitle=this.menuTitle.join("->"))},getContentsList:function(){var e=this;Object(i["c"])(this.url.contentsList).then((function(t){e.dataList=JSON.parse(JSON.stringify(t.result))}))},append:function(e){this.addForm.title="",this.dialogaddVisible=!0,this.clickData=e},addTitle:function(){var e=this,t={title:this.addForm.title,content:"",parentId:this.clickData.id};Object(i["h"])(this.url.add,t).then((function(t){200==t.code?Object(i["c"])(e.url.contentsList).then((function(t){if(e.dataList=JSON.parse(JSON.stringify(t.result)),e.treeFind(e.dataList,e.addForm.title),e.result){var n={parentId:e.clickData.id,id:e.result[0].id,title:e.addForm.title,children:[]};e.clickData.children||e.$set(e.clickData,"children",[]),e.clickData.children.push(n),e.dialogaddVisible=!1}})):alert(t.message)}))},treeFind:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.forEach((function(e){e.title===t&&r.push(e),e.children&&e.children.length&&n.treeFind(e.children,t,r)})),this.result=r},update:function(){var e=this,t={title:this.form.title,content:this.form.textarea,id:this.clickData.id};Object(i["i"])(this.url.add,t).then((function(t){200==t.code?(e.$set(e.clickData,"title",e.form.title),e.$set(e.clickData,"content",e.form.textarea),e.form.title="",e.form.textarea=""):alert(t.message)}))},delete:function(){var e=this;Object(i["a"])(this.url.add+"/"+a).then((function(t){if(200==t.code){var n={id:e.clickData.id,title:e.form.title,children:[]};e.$set(e.clickData,"children",JSON.parse(JSON.stringify(n)))}else alert(t.message)}))},remove:function(e,t){Object(i["a"])(this.url.add+"/"+t.id).then((function(n){if(200==n.code){var r=e.parent,o=r.data.children||r.data,i=o.findIndex((function(e){return e.id===t.id}));o.splice(i,1)}else alert(n.message)}))},renderContent:function(e,t){var n=this,r=t.node,o=t.data;t.store;return 1==r.level?e("span",{class:"custom-tree-node"},[e("span",[e("span",[r.label])]),e("span",{style:"position: absolute;right:0"},[e("i",{class:"el-icon-edit",style:"margin-right:10px"}),e("i",{class:"el-icon-circle-plus-outline",on:{click:function(){return n.append(o)}}})])]):e("span",{class:"custom-tree-node"},[e("span",[e("span",[r.label])]),e("span",{style:"position: absolute;right:0"},[e("i",{class:"el-icon-edit",style:"margin-right:10px"}),e("i",{class:"el-icon-circle-plus-outline",on:{click:function(){return n.append(o)}},style:"margin-right:10px"}),e("i",{class:"el-icon-delete",on:{click:function(){return n.remove(r,o)}}})])])}},mounted:function(){this.getContentsList()}},l=s,u=(n("1e83"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"69c68533",null);t["default"]=c.exports},"617d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header-index-wide"},[n("a-row",{attrs:{gutter:24}},[n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"受理量",total:e._f("NumberFormat")(e.cardCount.sll)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-area",{attrs:{dataSource:e.chartData.sll}})],1),n("template",{slot:"footer"},[e._v("今日受理量："),n("span",[e._v(e._s(e.todaySll))])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"办结量",total:e._f("NumberFormat")(e.cardCount.bjl)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-area",{attrs:{dataSource:e.chartData.bjl}})],1),n("template",{slot:"footer"},[e._v("今日办结量："),n("span",[e._v(e._s(e.todayBjl))])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"用户受理量",total:e._f("NumberFormat")(e.cardCount.isll)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-bar",{attrs:{dataSource:e.chartData.isll}})],1),n("template",{slot:"footer"},[e._v("用户今日受理量："),n("span",[e._v(e._s(e.todayISll))])])],2)],1),n("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[n("chart-card",{attrs:{loading:e.loading,title:"用户办结量",total:e._f("NumberFormat")(e.cardCount.ibjl)}},[n("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[n("a-icon",{attrs:{type:"info-circle-o"}})],1),n("div",[n("mini-bar",{attrs:{dataSource:e.chartData.ibjl}})],1),n("template",{slot:"footer"},[e._v("用户今日办结量："),n("span",[e._v(e._s(e.todayIBjl))])])],2)],1)],1),n("a-card",{attrs:{loading:e.loading,bordered:!1,"body-style":{padding:"0"}}},[n("div",{staticClass:"salesCard"},[n("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[n("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[n("div",{staticClass:"extra-item"},[n("a",[e._v("今日")]),n("a",[e._v("本周")]),n("a",[e._v("本月")]),n("a",[e._v("本年")])]),n("a-range-picker",{style:{width:"256px"}})],1),n("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"受理监管"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("bar",{attrs:{title:"受理量统计"}})],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a-row",e._l(e.registerTypeList,(function(t,r){return n("a-col",{key:"registerType"+r,class:"more-btn",attrs:{span:12}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(t){return e.goPage(r)}}},[e._v(e._s(t.text))])],1)})),1)],1)])],1)],1)],1),n("a-tab-pane",{key:"2",attrs:{tab:"交互监管"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("bar-multid",{attrs:{dataSource:e.jhjgData,fields:e.jhjgFields,title:"平台与部门交互量统计"}})],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a-row",e._l(e.registerTypeList,(function(t,r){return n("a-col",{key:"registerType"+r,class:"more-btn",attrs:{span:12}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(t){return e.goPage(r)}}},[e._v(e._s(t.text))])],1)})),1)],1)])],1)],1)],1),n("a-tab-pane",{key:"3",attrs:{tab:"效率监管"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("line-chart-multid",{attrs:{dataSource:e.xljgData,fields:e.xljgFields,title:"平台与部门交互效率统计"}})],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a-row",e._l(e.registerTypeList,(function(t,r){return n("a-col",{key:"registerType"+r,class:"more-btn",attrs:{span:12}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(t){return e.goPage(r)}}},[e._v(e._s(t.text))])],1)})),1)],1)])],1)],1)],1),n("a-tab-pane",{key:"4",attrs:{tab:"存储监管"}},[n("a-row",[n("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[n("a-row",[e.diskInfo&&e.diskInfo.length>0?e._l(e.diskInfo,(function(e,t){return n("a-col",{key:"diskInfo"+t,attrs:{span:12}},[n("dash-chart-demo",{attrs:{title:e.name,dataSource:e.restPPT}})],1)})):e._e()],2)],1),n("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[n("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[n("div",{staticClass:"item-group"},[n("a-row",e._l(e.registerTypeList,(function(t,r){return n("a-col",{key:"registerType"+r,class:"more-btn",attrs:{span:10}},[n("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(t){return e.goPage(r)}}},[e._v(e._s(t.text))])],1)})),1)],1)])],1)],1)],1)],1)],1)]),n("a-row",{attrs:{gutter:12}},[n("a-card",{class:{"anty-list-cust":!0},style:{marginTop:"24px"},attrs:{loading:e.loading,bordered:!1}},[n("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[n("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[n("a-radio-group",{attrs:{defaultValue:"1"}},[n("a-radio-button",{attrs:{value:"1"}},[e._v("转移登记")]),n("a-radio-button",{attrs:{value:"2"}},[e._v("抵押登记")])],1)],1),n("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"业务流程限时监管"}},[n("a-table",{attrs:{dataSource:e.dataSource1,size:"default",rowKey:"id",columns:e.columns,pagination:e.ipagination},scopedSlots:e._u([{key:"flowRate",fn:function(t,r,o){return[n("a-progress",{staticStyle:{width:"80px"},attrs:{percent:e.getFlowRateNumber(r.flowRate)}})]}}])})],1),n("a-tab-pane",{key:"2",attrs:{loading:"true",tab:"业务节点限时监管"}},[n("a-table",{attrs:{dataSource:e.dataSource2,size:"default",rowKey:"id",columns:e.columns2,pagination:e.ipagination},scopedSlots:e._u([{key:"flowRate",fn:function(t,r,o){return[n("span",{staticStyle:{color:"red"}},[e._v(e._s(r.flowRate)+"分钟")])]}}])})],1)],1)],1)],1)],1)},o=[],i=n("f3d0"),a=i["a"],s=(n("e6ea"),n("5d22")),l=Object(s["a"])(a,r,o,!1,null,"1e81ca89",null);t["default"]=l.exports},"61a3":function(e,t,n){},"61dc":function(e,t,n){},6214:function(e,t,n){"use strict";n("9af4")},62391:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{"body-style":{padding:"24px 32px"},bordered:!1}},[n("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-form-item",{attrs:{label:"标题",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入标题"}]}],expression:"[\n          'name',\n          {rules: [{ required: true, message: '请输入标题' }]}\n        ]"}],attrs:{name:"name",placeholder:"给目标起个名字"}})],1),n("a-form-item",{attrs:{label:"起止日期",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[n("a-range-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["buildTime",{rules:[{required:!0,message:"请选择起止日期"}]}],expression:"[\n          'buildTime',\n          {rules: [{ required: true, message: '请选择起止日期' }]}\n        ]"}],staticStyle:{width:"100%"},attrs:{name:"buildTime"}})],1),n("a-form-item",{attrs:{label:"目标描述",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{rules:[{required:!0,message:"请输入目标描述"}]}],expression:"[\n          'description',\n          {rules: [{ required: true, message: '请输入目标描述' }]}\n        ]"}],attrs:{rows:"4",placeholder:"请输入你阶段性工作目标"}})],1),n("a-form-item",{attrs:{label:"衡量标准",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{rules:[{required:!0,message:"请输入衡量标准"}]}],expression:"[\n          'type',\n          {rules: [{ required: true, message: '请输入衡量标准' }]}\n        ]"}],attrs:{rows:"4",placeholder:"请输入衡量标准"}})],1),n("a-form-item",{attrs:{label:"客户",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["customer",{rules:[{required:!0,message:"请描述你服务的客户"}]}],expression:"[\n          'customer',\n          {rules: [{ required: true, message: '请描述你服务的客户' }]}\n        ]"}],attrs:{placeholder:"请描述你服务的客户，内部客户直接 @姓名／工号"}})],1),n("a-form-item",{attrs:{label:"邀评人",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}},required:!1}},[n("a-input",{attrs:{placeholder:"请直接 @姓名／工号，最多可邀请 5 人"}})],1),n("a-form-item",{attrs:{label:"权重",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}},required:!1}},[n("a-input-number",{attrs:{min:0,max:100}}),n("span",[e._v(" %")])],1),n("a-form-item",{attrs:{label:"目标公开",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}},required:!1,help:"客户、邀评人默认被分享"}},[n("a-radio-group",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("a-radio",{attrs:{value:1}},[e._v("公开")]),n("a-radio",{attrs:{value:2}},[e._v("部分公开")]),n("a-radio",{attrs:{value:3}},[e._v("不公开")])],1),n("a-form-item",[2===e.value?n("a-select",{attrs:{mode:"multiple"}},[n("a-select-option",{attrs:{value:"4"}},[e._v("同事一")]),n("a-select-option",{attrs:{value:"5"}},[e._v("同事二")]),n("a-select-option",{attrs:{value:"6"}},[e._v("同事三")])],1):e._e()],1)],1),n("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[n("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v("提交")]),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v("保存")])],1)],1)],1)},o=[],i={name:"BaseForm",data:function(){return{description:"表单页用于向用户收集或验证信息，基础表单常见于数据项较少的表单场景。",value:1,form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){e.preventDefault(),this.form.validateFields((function(e,t){}))}}},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,null,null);t["default"]=l.exports},"62d6":function(e,t,n){"use strict";n("8665")},"63c3":function(e,t,n){"use strict";n("738c")},6412:function(e,t,n){n("1316")},6620:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单号"}},[n("a-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.queryParam.orderCode,callback:function(t){e.$set(e.queryParam,"orderCode",t)},expression:"queryParam.orderCode"}})],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单类型"}},[n("a-select",{attrs:{placeholder:"请输入订单类型"},model:{value:e.queryParam.ctype,callback:function(t){e.$set(e.queryParam,"ctype",t)},expression:"queryParam.ctype"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",filterMultiple:"filterMultiple",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange,type:e.type},customRow:e.clickThenCheck},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)}}])})],1),n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"客户信息"}},[n("Jeecg-Order-Customer-List",{ref:"JeecgOrderCustomerList"})],1),n("a-tab-pane",{key:"2",attrs:{tab:"机票信息",forceRender:""}},[n("Jeecg-Order-Ticket-List",{ref:"JeecgOrderTicketList"})],1)],1),n("jeecgOrderDMain-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("dd9d"),a=n("d544"),s=n("8c22"),l=n("0fea"),u=n("39a5"),c=n("aa8e"),d=n("b65a"),f={name:"JeecgOrderDMainList",mixins:[d["a"]],components:{JeecgOrderTicketModal:c["default"],JeecgOrderCustomerModal:u["default"],JeecgOrderDMainModal:i["default"],JeecgOrderCustomerList:a["default"],JeecgOrderTicketList:s["default"]},data:function(){return{description:"订单管理页面",ipagination:{current:1,pageSize:5,pageSizeOptions:["5","10","20"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"订单号",align:"center",dataIndex:"orderCode"},{title:"订单类型",align:"center",dataIndex:"ctype",customRender:function(e){var t="";return"1"===e?t="国内订单":"2"===e&&(t="国际订单"),t}},{title:"订单日期",align:"center",dataIndex:"orderDate"},{title:"订单金额",align:"center",dataIndex:"orderMoney"},{title:"订单备注",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],type:"radio",url:{list:"/test/order/orderList",delete:"/test/order/delete",deleteBatch:"/test/order/deleteBatch"}}},methods:{clickThenCheck:function(e){var t=this;return{on:{click:function(){t.onSelectChange(e.id.split(","),[e])}}}},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t,this.$refs.JeecgOrderCustomerList.getOrderMain(this.selectedRowKeys[0]),this.$refs.JeecgOrderTicketList.getOrderMain(this.selectedRowKeys[0])},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[],this.$refs.JeecgOrderCustomerList.queryParam.mainId=null,this.$refs.JeecgOrderTicketList.queryParam.mainId=null,this.$refs.JeecgOrderCustomerList.loadData(),this.$refs.JeecgOrderTicketList.loadData(),this.$refs.JeecgOrderCustomerList.selectedRowKeys=[],this.$refs.JeecgOrderCustomerList.selectionRows=[],this.$refs.JeecgOrderTicketList.selectedRowKeys=[],this.$refs.JeecgOrderTicketList.selectionRows=[]},handleDelete:function(e){var t=this,n=this;Object(l["a"])(n.url.delete,{id:e}).then((function(e){e.success?(n.$message.success(e.message),n.loadData(),t.$refs.JeecgOrderCustomerList.loadData(),t.$refs.JeecgOrderTicketList.loadData()):n.$message.warning(e.message)}))},searchQuery:function(){this.selectedRowKeys=[],this.selectionRows=[],this.$refs.JeecgOrderCustomerList.queryParam.mainId=null,this.$refs.JeecgOrderTicketList.queryParam.mainId=null,this.$refs.JeecgOrderCustomerList.loadData(),this.$refs.JeecgOrderTicketList.loadData(),this.$refs.JeecgOrderCustomerList.selectedRowKeys=[],this.$refs.JeecgOrderCustomerList.selectionRows=[],this.$refs.JeecgOrderTicketList.selectedRowKeys=[],this.$refs.JeecgOrderTicketList.selectionRows=[],this.loadData()}}},p=f,h=(n("a468"),n("5d22")),m=Object(h["a"])(p,r,o,!1,null,"1bacfb3c",null);t["default"]=m.exports},"666d":function(e,t,n){n("7db6")},"66a4":function(e,t,n){},6816:function(e,t,n){"use strict";n("51d1")},6847:function(e,t,n){},"692e":function(e,t,n){var r={"./App.vue":"3dfd","./components/AvatarList/Item.vue":"58f7","./components/AvatarList/List.vue":"a40c","./components/ChartCard.vue":"05ed","./components/CountDown/CountDown.vue":"6a2a","./components/Ellipsis/Ellipsis.vue":"2095","./components/NumberInfo/NumberInfo.vue":"23fe","./components/Trend/Trend.vue":"996b","./components/bpm/DynamicComponent.vue":"dddd","./components/bpm/FormCommonModal.vue":"bef2","./components/bpm/ProcNodeInfoModel.vue":"12b9","./components/bpm/ProcessInstPicModal.vue":"1f7c","./components/chart/AreaChartTy.vue":"f552","./components/chart/Bar.vue":"edd9","./components/chart/BarAndLine.vue":"e659","./components/chart/BarMultid.vue":"8191","./components/chart/DashChartDemo.vue":"972f","./components/chart/LineChartMultid.vue":"4ec6","./components/chart/Liquid.vue":"4ced","./components/chart/MiniArea.vue":"1d43","./components/chart/MiniBar.vue":"942d","./components/chart/MiniProgress.vue":"bf13","./components/chart/Pie.vue":"6cb2","./components/chart/Radar.vue":"3981","./components/chart/RankList.vue":"0923","./components/chart/TransferBar.vue":"1cf5","./components/chart/Trend.vue":"527e","./components/dict/JDictSelectTag.vue":"7b16","./components/dict/JMultiSelectTag.vue":"f680","./components/dict/JSearchSelectTag.vue":"c010","./components/jeecg/JCheckbox.vue":"a726","./components/jeecg/JCodeEditor.vue":"a8760","./components/jeecg/JCron.vue":"1e29","./components/jeecg/JDate.vue":"2dab","./components/jeecg/JEditableTable.vue":"7550","./components/jeecg/JEditor.vue":"a061","./components/jeecg/JEllipsis.vue":"d579","./components/jeecg/JFormContainer.vue":"c681","./components/jeecg/JGraphicCode.vue":"4201","./components/jeecg/JImportModal.vue":"7c93","./components/jeecg/JSelectMultiple.vue":"13d2","./components/jeecg/JSlider.vue":"ae14","./components/jeecg/JSuperQuery.vue":"8c6e","./components/jeecg/JTreeDict.vue":"4165","./components/jeecg/JTreeSelect.vue":"b098","./components/jeecg/JTreeTable.vue":"6b87","./components/jeecg/JUpload.vue":"cf74","./components/jeecg/modal/JCronModal.vue":"0ed5","./components/jeecgbiz/JSearchUserByDep.vue":"77fc","./components/jeecgbiz/JSelectDepart.vue":"fe54","./components/jeecgbiz/JSelectMultiUser.vue":"0f9d","./components/jeecgbiz/JSelectMultipleUser.vue":"ae3b","./components/jeecgbiz/JSelectUser.vue":"b6f5","./components/jeecgbiz/JSelectUserByDep.vue":"c14a","./components/jeecgbiz/modal/JSelectDepartModal.vue":"b0cd","./components/jeecgbiz/modal/JSelectMultiUserModal.vue":"06db","./components/jeecgbiz/modal/JSelectUserByDepModal.vue":"a505","./components/jeecgbiz/modal/SelectUserListModal.vue":"9caf","./components/layouts/BasicLayout.vue":"5f32","./components/layouts/BlankLayout.vue":"e017","./components/layouts/IframeFReportView.vue":"4505","./components/layouts/IframePageView.vue":"e6b8","./components/layouts/PageView.vue":"345a","./components/layouts/RouteView.vue":"501f","./components/layouts/TabLayout.vue":"0f63","./components/layouts/UserLayout.vue":"7efd","./components/menu/Contextmenu.vue":"91ad","./components/menu/SideMenu.vue":"e5f9","./components/page/GlobalFooter.vue":"911c","./components/page/GlobalHeader.vue":"630d","./components/page/GlobalLayout.vue":"8415","./components/page/PageHeader.vue":"603b","./components/page/PageLayout.vue":"b445","./components/page/SHeaderNotice.vue":"422d","./components/setting/SettingDrawer.vue":"2191","./components/setting/SettingItem.vue":"5d9b","./components/table/StandardTable.vue":"3521","./components/tools/Breadcrumb.vue":"e97b","./components/tools/DepartSelect.vue":"e2c7","./components/tools/DetailList.vue":"c16f","./components/tools/FooterToolBar.vue":"c984","./components/tools/HeadInfo.vue":"81d1","./components/tools/HeaderNotice.vue":"a4b0","./components/tools/Logo.vue":"a250","./components/tools/ModuleToolBar.vue":"bb2c","./components/tools/ShowAnnouncement.vue":"2bd9","./components/tools/TwoStepCaptcha.vue":"2ca2","./components/tools/UserMenu.vue":"8d4d","./components/tools/UserPassword.vue":"ce42","./views/404.vue":"8cdbc","./views/Home.vue":"bb51","./views/account/center/Index.vue":"f2f0","./views/account/center/page/App.vue":"2f5e","./views/account/center/page/Article.vue":"b8ea","./views/account/center/page/Project.vue":"b8c5","./views/account/settings/AvatarModal.vue":"8d90","./views/account/settings/BaseSetting.vue":"33e6","./views/account/settings/Binding.vue":"91be","./views/account/settings/Custom.vue":"55c3","./views/account/settings/Index.vue":"cd07","./views/account/settings/Notification.vue":"0c3f","./views/account/settings/Security.vue":"a9a9","./views/dashboard/Analysis.vue":"2f3a","./views/dashboard/Monitor.vue":"0b56","./views/dashboard/Workplace.vue":"004c","./views/exception/403.vue":"e409","./views/exception/404.vue":"cc89","./views/exception/500.vue":"6c05","./views/exception/ExceptionPage.vue":"0673","./views/form/BasicForm.vue":"62391","./views/form/advancedForm/AdvancedForm.vue":"70d7","./views/form/advancedForm/RepositoryForm.vue":"cd43","./views/form/advancedForm/TaskForm.vue":"8dd6","./views/form/stepForm/Step1.vue":"82ef","./views/form/stepForm/Step2.vue":"f4a3","./views/form/stepForm/Step3.vue":"a462","./views/form/stepForm/StepForm.vue":"f311","./views/jeecg/ImagPreview.vue":"8629","./views/jeecg/ImgDragSort.vue":"042c","./views/jeecg/ImgTurnPage.vue":"4874","./views/jeecg/InterfaceTest.vue":"ff2a","./views/jeecg/JeecgDemoList.vue":"15dc","./views/jeecg/JeecgEditableTableExample.vue":"b020","./views/jeecg/JeecgOrderMainList.vue":"9b15","./views/jeecg/JeecgOrderMainListForJEditableTable.vue":"b2da","./views/jeecg/JeecgPdfView.vue":"19c0","./views/jeecg/JeecgTreeTable.vue":"da9b","./views/jeecg/JoaDemoList.vue":"3574","./views/jeecg/PrintDemo.vue":"91b6","./views/jeecg/RowspanTable.vue":"3826","./views/jeecg/SelectDemo.vue":"b2b7","./views/jeecg/SplitPanel.vue":"7896","./views/jeecg/TableExpandeSub.vue":"8428","./views/jeecg/helloworld.vue":"33b1","./views/jeecg/helloworld2.vue":"2f9b","./views/jeecg/modules/JeecgDemoModal.vue":"c943","./views/jeecg/modules/JeecgDemoTabsModal.vue":"33357","./views/jeecg/modules/JeecgOrderMainModal.vue":"8a45","./views/jeecg/modules/JeecgOrderModalForJEditableTable.vue":"b8ad","./views/jeecg/modules/JoaDemoForm.vue":"ec65","./views/jeecg/modules/PdfPreviewModal.vue":"588f","./views/jeecg/modules/SplitPanelA.vue":"54d3","./views/jeecg/modules/SplitPanelB.vue":"9606","./views/jeecg/modules/SplitPanelModal.vue":"5d1e","./views/jeecg/modules/SuperQueryModal.vue":"f534","./views/jeecg/report/Analysis.vue":"617d","./views/jeecg/report/ArchivesStatisticst.vue":"2832","./views/jeecg/report/ViserChartDemo.vue":"5139","./views/jeecg/tablist/JeecgOrderCustomerList.vue":"d544","./views/jeecg/tablist/JeecgOrderDMainList.vue":"6620","./views/jeecg/tablist/JeecgOrderTicketList.vue":"8c22","./views/jeecg/tablist/form/JeecgOrderCustomerModal.vue":"39a5","./views/jeecg/tablist/form/JeecgOrderDMainModal.vue":"dd9d","./views/jeecg/tablist/form/JeecgOrderTicketModal.vue":"aa8e","./views/list/CardList.vue":"d039","./views/list/PermissionList.vue":"5aa8","./views/list/RoleList.vue":"4002","./views/list/StandardList.vue":"2d51","./views/list/TableInnerEditList.vue":"5831","./views/list/TableList.vue":"f5eb","./views/list/UserList.vue":"5eda","./views/list/modules/RoleModal.vue":"0b38","./views/list/search/SearchLayout.vue":"9cbf","./views/modules/ecollege/SystemHelp.vue":"60ca","./views/modules/goods/PmsProductList.vue":"cae5","./views/modules/goods/modules/PmsProductAdvanced.vue":"d4df","./views/modules/goods/modules/PmsProductModal.vue":"6e41","./views/modules/goods/modules/PmsProductModal__Style#Drawer.vue":"cb6e","./views/modules/goods/modules/ProductVerifyModal.vue":"aee5","./views/modules/message/AppConfigList.vue":"9038","./views/modules/message/AppRegisterList.vue":"578b","./views/modules/message/AppTemplateList.vue":"a85e","./views/modules/message/AppUserList.vue":"98bb2","./views/modules/message/modules/AppConfigModal.vue":"a2fc","./views/modules/message/modules/AppConfigModal__Style#Drawer.vue":"4765","./views/modules/message/modules/AppRegisterModal.vue":"8359","./views/modules/message/modules/AppRegisterModal__Style#Drawer.vue":"d58e","./views/modules/message/modules/AppTemplateModal.vue":"a78d","./views/modules/message/modules/AppTemplateModal__Style#Drawer.vue":"b64b","./views/modules/message/modules/AppUserModal.vue":"163d","./views/modules/message/modules/AppUserModal__Style#Drawer.vue":"bc7f","./views/modules/pay/ShopAccountWithdrawCashHistoryList.vue":"46fd","./views/modules/pay/modules/DrawCrashVerifyModal.vue":"70ae","./views/modules/pay/modules/ShopAccountWithdrawCashHistoryModal.vue":"2921","./views/modules/pay/modules/ShopAccountWithdrawCashHistoryModal__Style#Drawer.vue":"cdf0","./views/modules/trade/OmsOrderList.vue":"7fff","./views/modules/trade/OmsOrderSetting.vue":"9445","./views/modules/trade/modules/OmsOrderModal.vue":"79c3","./views/modules/trade/modules/OmsOrderModal__Style#Drawer.vue":"2bd98","./views/profile/advanced/Advanced.vue":"b644","./views/profile/basic/Index.vue":"df55","./views/result/Error.vue":"f32b","./views/result/Result.vue":"9a3d","./views/result/Success.vue":"3ada","./views/system/DataLogList.vue":"4867","./views/system/DepartList.vue":"c9c2","./views/system/DepartList2.vue":"444c","./views/system/DepartUserList.vue":"806e","./views/system/DictItemList.vue":"59a0","./views/system/DictList.vue":"b4e3","./views/system/LogList.vue":"2977","./views/system/PermissionDataRuleList.vue":"56cd","./views/system/PermissionList.vue":"25f0","./views/system/QuartzJobList.vue":"7a9d","./views/system/RoleList.vue":"4fa6","./views/system/RoleUserList.vue":"01c0","./views/system/SysAnnouncementList.vue":"1dc5","./views/system/SysCategoryList.vue":"ddf2","./views/system/SysModulesList.vue":"c779","./views/system/UserAnnouncementList.vue":"bb70","./views/system/UserList.vue":"0d4b","./views/system/modules/DataLogCompareModal.vue":"fcbc","./views/system/modules/DataLogModal.vue":"b469","./views/system/modules/DepartModal.vue":"c1af","./views/system/modules/DepartWindow.vue":"c63e","./views/system/modules/DeptBaseInfo.vue":"e326","./views/system/modules/DeptUserInfo.vue":"5859","./views/system/modules/DictItemModal.vue":"8144","./views/system/modules/DictModal.vue":"57ed","./views/system/modules/PasswordModal.vue":"ddf9","./views/system/modules/PermissionDataRuleModal.vue":"7c33","./views/system/modules/PermissionModal.vue":"b90e","./views/system/modules/QuartzJobModal.vue":"077e","./views/system/modules/RoleDataruleModal.vue":"2285","./views/system/modules/RoleModal.vue":"2a70","./views/system/modules/SelectUserListModal.vue":"ed2a","./views/system/modules/SelectUserModal.vue":"b3c4","./views/system/modules/SysAnnouncementModal.vue":"4647","./views/system/modules/SysCategoryModal.vue":"f1cf","./views/system/modules/SysModulesModal.vue":"88f4","./views/system/modules/SysModulesModal__Style#Drawer.vue":"73e6","./views/system/modules/SysUserAgentModal.vue":"74c6","./views/system/modules/UserModal.vue":"418f","./views/system/modules/UserRoleModal.vue":"ee18","./views/system/modules/icon/Icons.vue":"11cb","./views/user/Alteration.vue":"ffc3","./views/user/Login.vue":"ac2a","./views/user/Register.vue":"1348","./views/user/RegisterResult.vue":"1037","./views/user/Step1.vue":"f14a","./views/user/Step2.vue":"ba6d","./views/user/Step3.vue":"f6d9","./views/user/Step4.vue":"8e46"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="692e"},"6a13":function(e,t,n){},"6a61":function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),a=new D(r||[]);return i._invoke=k(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={};function g(){}function v(){}function y(){}var b={};b[i]=function(){return this};var x=Object.getPrototypeOf,w=x&&x(x(I([])));w&&w!==n&&r.call(w,i)&&(b=w);var _=y.prototype=g.prototype=Object.create(b);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,s){var l=c(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;function i(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}this._invoke=i}function k(e,t,n){var r=d;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return E()}n.method=o,n.arg=i;while(1){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?h:f,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=h,n.method="throw",n.arg=l.arg)}}}function O(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=c(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function I(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){while(++o<e.length)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:E}}function E(){return{value:t,done:!0}}return v.prototype=_.constructor=y,y.constructor=v,v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},C(S.prototype),S.prototype[a]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(_),l(_,s,"Generator"),_[i]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}},"6b26":function(e,t,n){},"6b87":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-table",e._b({attrs:{rowKey:e.rowKey,columns:e.columns,dataSource:e.dataSource},on:{expand:e.handleExpand},scopedSlots:e._u([e._l(e.slots,(function(t){return{key:t,fn:function(n,r,o){return[e._t(t,null,null,{text:n,record:r,index:o})]}}}))],null,!0)},"a-table",e.tableProps,!1))},o=[],i=n("0fea");function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function s(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={name:"JTreeTable",props:{rowKey:{type:String,default:"id"},queryKey:{type:String,default:"parentId"},queryParams:{type:Object,default:function(){}},topValue:{type:String,default:null},columns:{type:Array,required:!0},url:{type:String,required:!0},childrenUrl:{type:String,default:null},tableProps:{type:Object,default:function(){}}},data:function(){return{dataSource:[]}},computed:{getChildrenUrl:function(){return this.childrenUrl?this.childrenUrl:this.url},slots:function(){var e,t=[],n=a(this.columns);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.scopedSlots&&r.scopedSlots.customRender&&t.push(r.scopedSlots.customRender)}}catch(o){n.e(o)}finally{n.f()}return t}},watch:{queryParams:{deep:!0,handler:function(){this.loadData()}}},created:function(){this.loadData()},methods:{loadData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.topValue,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.url,o=Object.assign({},this.queryParams||{});return o[this.queryKey]=t,Object(i["c"])(r,o).then((function(t){var r=t.result.map((function(e){if(!0===e.hasChildren){var t={id:"".concat(e.id,"_loadChild"),name:"loading...",isLoading:!0};e.children=[t]}return e}));return n&&(e.dataSource=r),Promise.resolve(r)}))},handleExpand:function(e,t){e&&!0===t.children[0].isLoading&&this.loadData(t.id,!1,this.getChildrenUrl).then((function(e){0===e.length?t.children=null:t.children=e}))}}},c=u,d=n("5d22"),f=Object(d["a"])(c,r,o,!1,null,"1865b90c",null);t["default"]=f.exports},"6c05":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("exception-page",{attrs:{type:"500"}})},o=[],i=n("0673"),a={components:{ExceptionPage:i["default"]}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"58acec66",null);t["default"]=u.exports},"6c11":function(e,t,n){"use strict";n("8891")},"6cb2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.data,scale:e.scale}},[n("v-tooltip",{attrs:{showTitle:!1,dataKey:"item*percent"}}),n("v-axis"),n("v-legend",{attrs:{dataKey:"item"}}),n("v-pie",{attrs:{position:"percent",color:"item","v-style":e.pieStyle,label:e.labelConfig}}),n("v-coord",{attrs:{type:"theta"}})],1)},o=[],i=n("b74e"),a={props:{title:{type:String,default:""},height:{type:Number,default:254},dataSource:{type:Array,default:function(){return[{item:"示例一",count:40},{item:"示例二",count:21},{item:"示例三",count:17},{item:"示例四",count:13},{item:"示例五",count:9}]}}},data:function(){return{scale:[{dataKey:"percent",min:0,formatter:".0%"}],pieStyle:{stroke:"#fff",lineWidth:1},labelConfig:["percent",{formatter:function(e,t){return t.point.item+": "+e}}]}},computed:{data:function(){var e=(new i.View).source(this.dataSource);return e.transform({type:"percent",field:"count",dimension:"item",as:"percent"}),e.rows}}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,null,null);t["default"]=u.exports},"6cc1":function(e,t,n){(function(e){e(n("fc0f"))})((function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.mime==t)return r;if(r.mimes)for(var o=0;o<r.mimes.length;o++)if(r.mimes[o]==t)return r}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.ext)for(var o=0;o<r.ext.length;o++)if(r.ext[o]==t)return r}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.file&&r.file.test(t))return r}var o=t.lastIndexOf("."),i=o>-1&&t.substring(o+1,t.length);if(i)return e.findModeByExtension(i)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.name.toLowerCase()==t)return r;if(r.alias)for(var o=0;o<r.alias.length;o++)if(r.alias[o].toLowerCase()==t)return r}}}))},"6cfe":function(e,t,n){},"6d30":function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)},n=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},r=function(e){return function(t){return n(t)===e}},o=function(e){return function(t){return typeof t===e}},i=function(e){return function(t){return e===t}},a=r("string"),s=r("object"),l=r("array"),u=i(null),c=o("boolean"),d=o("number"),f=function(){},p=function(e){return function(){return e}},h=p(!1),m=p(!0),g=function(){return v},v=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:h,isSome:h,isNone:m,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:p(null),getOrUndefined:p(void 0),or:n,orThunk:t,map:g,each:f,bind:g,exists:h,forall:m,filter:g,equals:e,equals_:e,toArray:function(){return[]},toString:p("none()")};return r}(),y=function(e){var t=p(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:m,isNone:h,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return y(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:v},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(h,(function(t){return n(e,t)}))}};return o},b=function(e){return null===e||void 0===e?v:y(e)},x={some:y,none:g,from:b},w=Array.prototype.push,_=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);w.apply(t,e[n])}return t},C=function(e,t){return t>=0&&t<e.length?x.some(e[t]):x.none()},S=function(e){return C(e,0)},k=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return x.none()},O=("undefined"!==typeof window?window:Function("return this;")(),function(e,t,n){if(!(a(n)||c(n)||d(n)))throw new Error("Attribute value was not simple");e.setAttribute(t,n+"")}),T=function(e,t,n){O(e.dom,t,n)},M=function(e,t){e.dom.removeAttribute(t)},D=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw new Error("HTML must have a single root node");return A(r.childNodes[0])},I=function(e,t){var n=t||document,r=n.createElement(e);return A(r)},E=function(e,t){var n=t||document,r=n.createTextNode(e);return A(r)},A=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},L=function(e,t,n){return x.from(e.dom.elementFromPoint(t,n)).map(A)},j={fromHtml:D,fromTag:I,fromText:E,fromDom:A,fromPoint:L},N=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),P=tinymce.util.Tools.resolve("tinymce.util.Promise"),R=tinymce.util.Tools.resolve("tinymce.util.XHR"),B=function(e){return e.getParam("image_dimensions",!0,"boolean")},F=function(e){return e.getParam("image_advtab",!1,"boolean")},z=function(e){return e.getParam("image_uploadtab",!0,"boolean")},V=function(e){return e.getParam("image_prepend_url","","string")},H=function(e){return e.getParam("image_class_list")},U=function(e){return e.getParam("image_description",!0,"boolean")},$=function(e){return e.getParam("image_title",!1,"boolean")},q=function(e){return e.getParam("image_caption",!1,"boolean")},W=function(e){return e.getParam("image_list",!1)},G=function(e){return!!K(e)},Y=function(e){return!!X(e)},K=function(e){return e.getParam("images_upload_url","","string")},X=function(e){return e.getParam("images_upload_handler",void 0,"function")},J=function(e){return e.getParam("images_upload_base_path",void 0,"string")},Z=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},Q=function(e){return e.getParam("a11y_advanced_options",!1,"boolean")},ee=function(e){return e.getParam("automatic_uploads",!0,"boolean")},te=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},ne=function(e){return new P((function(t){var n=document.createElement("img"),r=function(e){n.parentNode&&n.parentNode.removeChild(n),t(e)};n.onload=function(){var e=te(n.width,n.clientWidth),t=te(n.height,n.clientHeight),o={width:e,height:t};r(P.resolve(o))},n.onerror=function(){r(P.reject("Failed to get image dimensions for: "+e))};var o=n.style;o.visibility="hidden",o.position="fixed",o.bottom=o.left="0px",o.width=o.height="auto",document.body.appendChild(n),n.src=e}))},re=function(e){return e&&(e=e.replace(/px$/,"")),e},oe=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},ie=function(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},ae=function(e,t){var n=W(e);"string"===typeof n?R.send({url:n,success:function(e){t(JSON.parse(e))}}):"function"===typeof n?n(t):t(n)},se=function(e,t,n){var r=function(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=function(){t.width||t.height||!B(e)||e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r},le=function(e){return new P((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=function(){n(r.error.message)},r.readAsDataURL(e)}))},ue=function(e){return"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"))},ce=N.DOM,de=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?re(e.style.marginLeft):""},fe=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?re(e.style.marginTop):""},pe=function(e){return e.style.borderWidth?re(e.style.borderWidth):""},he=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):""},me=function(e,t){return e.style[t]?e.style[t]:""},ge=function(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName},ve=function(e,t,n){""===n?e.removeAttribute(t):e.setAttribute(t,n)},ye=function(e){var t=ce.create("figure",{class:"image"});ce.insertAfter(t,e),t.appendChild(e),t.appendChild(ce.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"},be=function(e){var t=e.parentNode;ce.insertAfter(e,t),ce.remove(t)},xe=function(e){ge(e)?be(e):ye(e)},we=function(e,t){var n=e.getAttribute("style"),r=t(null!==n?n:"");r.length>0?(e.setAttribute("style",r),e.setAttribute("data-mce-style",r)):e.removeAttribute("style")},_e=function(e,t){return function(e,n,r){e.style[n]?(e.style[n]=oe(r),we(e,t)):ve(e,n,r)}},Ce=function(e,t){return e.style[t]?re(e.style[t]):he(e,t)},Se=function(e,t){var n=oe(t);e.style.marginLeft=n,e.style.marginRight=n},ke=function(e,t){var n=oe(t);e.style.marginTop=n,e.style.marginBottom=n},Oe=function(e,t){var n=oe(t);e.style.borderWidth=n},Te=function(e,t){e.style.borderStyle=t},Me=function(e){return me(e,"borderStyle")},De=function(e){return"FIGURE"===e.nodeName},Ie=function(e){return"IMG"===e.nodeName},Ee=function(e){return 0===ce.getAttrib(e,"alt").length&&"presentation"===ce.getAttrib(e,"role")},Ae=function(e){return Ee(e)?"":he(e,"alt")},Le=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},je=function(e,t){var n=document.createElement("img");return ve(n,"style",t.style),(de(n)||""!==t.hspace)&&Se(n,t.hspace),(fe(n)||""!==t.vspace)&&ke(n,t.vspace),(pe(n)||""!==t.border)&&Oe(n,t.border),(Me(n)||""!==t.borderStyle)&&Te(n,t.borderStyle),e(n.getAttribute("style"))},Ne=function(e,n){var r=document.createElement("img");if(Ve(e,t(t({},n),{caption:!1}),r),Be(r,n.alt,n.isDecorative),n.caption){var o=ce.create("figure",{class:"image"});return o.appendChild(r),o.appendChild(ce.create("figcaption",{contentEditable:"true"},"Caption")),o.contentEditable="false",o}return r},Pe=function(e,t){return{src:he(t,"src"),alt:Ae(t),title:he(t,"title"),width:Ce(t,"width"),height:Ce(t,"height"),class:he(t,"class"),style:e(he(t,"style")),caption:ge(t),hspace:de(t),vspace:fe(t),border:pe(t),borderStyle:me(t,"borderStyle"),isDecorative:Ee(t)}},Re=function(e,t,n,r,o){n[r]!==t[r]&&o(e,r,n[r])},Be=function(e,t,n){if(n){ce.setAttrib(e,"role","presentation");var r=j.fromDom(e);T(r,"alt","")}else{if(u(t)){r=j.fromDom(e);M(r,"alt")}else{r=j.fromDom(e);T(r,"alt",t)}"presentation"===ce.getAttrib(e,"role")&&ce.setAttrib(e,"role","")}},Fe=function(e,t,n){n.alt===t.alt&&n.isDecorative===t.isDecorative||Be(e,n.alt,n.isDecorative)},ze=function(e,t){return function(n,r,o){e(n,o),we(n,t)}},Ve=function(e,t,n){var r=Pe(e,n);Re(n,r,t,"caption",(function(e,t,n){return xe(e)})),Re(n,r,t,"src",ve),Re(n,r,t,"title",ve),Re(n,r,t,"width",_e("width",e)),Re(n,r,t,"height",_e("height",e)),Re(n,r,t,"class",ve),Re(n,r,t,"style",ze((function(e,t){return ve(e,"style",t)}),e)),Re(n,r,t,"hspace",ze(Se,e)),Re(n,r,t,"vspace",ze(ke,e)),Re(n,r,t,"border",ze(Oe,e)),Re(n,r,t,"borderStyle",ze(Te,e)),Fe(n,r,t)},He=function(e,t){var n=e.dom.styles.parse(t),r=ie(n),o=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(o)},Ue=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||ue(t))?null:t},$e=function(e,t){var n=e.dom,r=n.getParent(t.parentNode,(function(t){return!!e.schema.getTextBlockElements()[t.nodeName]}),e.getBody());return r?n.split(r,t):t},qe=function(e){var t=Ue(e);return t?Pe((function(t){return He(e,t)}),t):Le()},We=function(e,t){var n=Ne((function(t){return He(e,t)}),t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML);var r=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(r,"data-mce-id",null),De(r)){var o=$e(e,r);e.selection.select(o)}else e.selection.select(r)},Ge=function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))},Ye=function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}},Ke=function(e,t){var n=Ue(e);if(Ve((function(t){return He(e,t)}),t,n),Ge(e,n),De(n.parentNode)){var r=n.parentNode;$e(e,r),e.selection.select(n.parentNode)}else e.selection.select(n),se(e,t,n)},Xe=function(e,n){var r=Ue(e);if(r){var o=Pe((function(t){return He(e,t)}),r),i=t(t({},o),n);i.src?Ke(e,i):Ye(e,r)}else n.src&&We(e,t(t({},Le()),n))},Je=Object.prototype.hasOwnProperty,Ze=function(e,t){var n=s(e)&&s(t);return n?et(e,t):t},Qe=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)Je.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}},et=Qe(Ze),tt=tinymce.util.Tools.resolve("tinymce.util.Tools"),nt=function(e){return a(e.value)?e.value:""},rt=function(e){return a(e.text)?e.text:a(e.title)?e.title:""},ot=function(e,t){var n=[];return tt.each(e,(function(e){var r=rt(e);if(void 0!==e.menu){var o=ot(e.menu,t);n.push({text:r,items:o})}else{var i=t(e);n.push({text:r,value:i})}})),n},it=function(e){return void 0===e&&(e=nt),function(t){return t?x.from(t).map((function(t){return ot(t,e)})):x.none()}},at=function(e){return it(nt)(e)},st=function(e){return Object.prototype.hasOwnProperty.call(e,"items")},lt=function(e,t){return k(e,(function(e){return st(e)?lt(e.items,t):e.value===t?x.some(e):x.none()}))},ut=function(e,t){return e.bind((function(e){return lt(e,t)}))},ct={sanitizer:it,sanitize:at,findEntry:ut},dt=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t};function ft(e){var t=function(t,n,r,o){var i=new XMLHttpRequest;i.open("POST",e.url),i.withCredentials=e.credentials,i.upload.onprogress=function(e){o(e.loaded/e.total*100)},i.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){if(i.status<200||i.status>=300)r("HTTP Error: "+i.status);else{var t=JSON.parse(i.responseText);t&&"string"===typeof t.location?n(dt(e.basePath,t.location)):r("Invalid JSON: "+i.responseText)}};var a=new FormData;a.append("file",t.blob(),t.filename()),i.send(a)},n=function(e,t){return new P((function(n,r){try{t(e,n,r,f)}catch(o){r(o.message)}}))},r=function(e){return e===t},o=function(t){return!e.url&&r(e.handler)?P.reject("Upload url missing from the settings."):n(t,e.handler)};return e=tt.extend({credentials:!1,handler:t},e),{upload:o}}var pt=function(e){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},ht={makeTab:pt},mt=function(e){var t=ct.sanitizer((function(t){return e.convertURL(t.value||t.url,"src")})),n=new P((function(n){ae(e,(function(e){n(t(e).map((function(e){return _([[{text:"None",value:""}],e])})))}))})),r=ct.sanitize(H(e)),o=F(e),i=z(e),s=G(e),l=Y(e),u=qe(e),c=U(e),d=$(e),f=B(e),p=q(e),h=Q(e),m=K(e),g=J(e),v=Z(e),y=X(e),b=ee(e),w=x.some(V(e)).filter((function(e){return a(e)&&e.length>0}));return n.then((function(e){return{image:u,imageList:e,classList:r,hasAdvTab:o,hasUploadTab:i,hasUploadUrl:s,hasUploadHandler:l,hasDescription:c,hasImageTitle:d,hasDimensions:f,hasImageCaption:p,url:m,basePath:g,credentials:v,handler:y,prependURL:w,hasAccessibilityOptions:h,automaticUploads:b}}))},gt=function(e){var t={name:"src",type:"urlinput",filetype:"image",label:"Source"},n=e.imageList.map((function(e){return{name:"images",type:"listbox",label:"Image list",items:e}})),r={name:"alt",type:"input",label:"Alternative description",disabled:e.hasAccessibilityOptions&&e.image.isDecorative},o={name:"title",type:"input",label:"Image title"},i={name:"dimensions",type:"sizeinput"},a={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},s=e.classList.map((function(e){return{name:"classes",type:"listbox",label:"Class",items:e}})),l={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};return _([[t],n.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[a]:[],e.hasDescription?[r]:[],e.hasImageTitle?[o]:[],e.hasDimensions?[i]:[],[{type:"grid",columns:2,items:_([s.toArray(),e.hasImageCaption?[l]:[]])}]])},vt=function(e){return{title:"General",name:"general",items:gt(e)}},yt={makeTab:vt,makeItems:gt},bt=function(e){var t=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:t}},xt={makeTab:bt},wt=function(e){return{prevImage:ct.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}},_t=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}},Ct=function(e,t){return{src:e.src.value,alt:0===e.alt.length&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}},St=function(e,t){return/^(?:[a-zA-Z]+:)?\/\//.test(t)?x.none():e.prependURL.bind((function(e){return t.substring(0,e.length)!==e?x.some(e+t):x.none()}))},kt=function(e,t){var n=t.getData();St(e,n.src.value).each((function(e){t.setData({src:{value:e,meta:n.src.meta}})}))},Ot=function(e,t,n){e.hasDescription&&a(n.alt)&&(t.alt=n.alt),e.hasAccessibilityOptions&&(t.isDecorative=n.isDecorative||t.isDecorative||!1),e.hasImageTitle&&a(n.title)&&(t.title=n.title),e.hasDimensions&&(a(n.width)&&(t.dimensions.width=n.width),a(n.height)&&(t.dimensions.height=n.height)),a(n.class)&&ct.findEntry(e.classList,n.class).each((function(e){t.classes=e.value})),e.hasImageCaption&&c(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(a(n.style)&&(t.style=n.style),a(n.vspace)&&(t.vspace=n.vspace),a(n.border)&&(t.border=n.border),a(n.hspace)&&(t.hspace=n.hspace),a(n.borderstyle)&&(t.borderstyle=n.borderstyle))},Tt=function(e,t){var n=t.getData(),r=n.src.meta;if(void 0!==r){var o=et({},n);Ot(e,o,r),t.setData(o)}},Mt=function(e,t,n,r){var o=r.getData(),i=o.src.value,a=o.src.meta||{};a.width||a.height||!t.hasDimensions||e.imageSize(i).then((function(e){n.open&&r.setData({dimensions:e})}))},Dt=function(e,t,n){var r=n.getData(),o=ct.findEntry(e.imageList,r.src.value);t.prevImage=o,n.setData({images:o.map((function(e){return e.value})).getOr("")})},It=function(e,t,n,r){kt(t,r),Tt(t,r),Mt(e,t,n,r),Dt(t,n,r)},Et=function(e,t,n,r){var o=r.getData(),i=ct.findEntry(t.imageList,o.images);i.each((function(e){var t=""===o.alt||n.prevImage.map((function(e){return e.text===o.alt})).getOr(!1);t?""===e.value?r.setData({src:e,alt:n.prevAlt}):r.setData({src:e,alt:e.text}):r.setData({src:e})})),n.prevImage=i,It(e,t,n,r)},At=function(e){var t=e["margin-top"]&&e["margin-bottom"]&&e["margin-top"]===e["margin-bottom"];return t?re(String(e["margin-top"])):""},Lt=function(e){var t=e["margin-right"]&&e["margin-left"]&&e["margin-right"]===e["margin-left"];return t?re(String(e["margin-right"])):""},jt=function(e){return e["border-width"]?re(String(e["border-width"])):""},Nt=function(e){return e["border-style"]?String(e["border-style"]):""},Pt=function(e,t,n){return t(e(t(n)))},Rt=function(e,t,n){var r=ie(e(n.style)),o=et({},n);return o.vspace=At(r),o.hspace=Lt(r),o.border=jt(r),o.borderstyle=Nt(r),o.style=Pt(e,t,r),o},Bt=function(e,t){var n=t.getData(),r=Rt(e.parseStyle,e.serializeStyle,n);t.setData(r)},Ft=function(e,t,n){var r=et(_t(t.image),n.getData()),o=je(e.normalizeCss,Ct(r,!1));n.setData({style:o})},zt=function(e,t,n,r){var o=r.getData();r.block("Uploading image"),S(o.fileinput).fold((function(){r.unblock()}),(function(o){var i=URL.createObjectURL(o),a=ft({url:t.url,basePath:t.basePath,credentials:t.credentials,handler:t.handler}),s=function(){r.unblock(),URL.revokeObjectURL(i)},l=function(o){r.setData({src:{value:o,meta:{}}}),r.showTab("general"),It(e,t,n,r)};le(o).then((function(n){var u=e.createBlobCache(o,i,n);t.automaticUploads?a.upload(u).then((function(e){l(e),s()})).catch((function(t){s(),e.alertErr(t)})):(e.addToBlobCache(u),l(u.blobUri()),r.unblock())}))}))},Vt=function(e,t,n){return function(r,o){"src"===o.name?It(e,t,n,r):"images"===o.name?Et(e,t,n,r):"alt"===o.name?n.prevAlt=r.getData().alt:"style"===o.name?Bt(e,r):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?Ft(e,t,r):"fileinput"===o.name?zt(e,t,n,r):"isDecorative"===o.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}},Ht=function(e){return function(){e.open=!1}},Ut=function(e){if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){var t={type:"tabpanel",tabs:_([[yt.makeTab(e)],e.hasAdvTab?[ht.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[xt.makeTab(e)]:[]])};return t}var n={type:"panel",items:yt.makeItems(e)};return n},$t=function(e){return function(t){var n=wt(t);return{title:"Insert/Edit Image",size:"normal",body:Ut(t),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:_t(t.image),onSubmit:e.onSubmit(t),onChange:Vt(e,t,n),onClose:Ht(n)}}},qt=function(e){return function(t){return function(n){var r=et(_t(t.image),n.getData());e.execCommand("mceUpdateImage",!1,Ct(r,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),n.close()}}},Wt=function(e){return function(t){return ne(e.documentBaseURI.toAbsolute(t)).then((function(e){return{width:String(e.width),height:String(e.height)}}))}},Gt=function(e){return function(t,n,r){return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?t.name.replace(/\.[^\.]+$/,""):null,filename:t.name,base64:r.split(",")[1]})}},Yt=function(e){return function(t){e.editorUpload.blobCache.add(t)}},Kt=function(e){return function(t){e.windowManager.alert(t)}},Xt=function(e){return function(t){return He(e,t)}},Jt=function(e){return function(t){return e.dom.parseStyle(t)}},Zt=function(e){return function(t,n){return e.dom.serializeStyle(t,n)}},Qt=function(e){var t={onSubmit:qt(e),imageSize:Wt(e),addToBlobCache:Yt(e),createBlobCache:Gt(e),alertErr:Kt(e),normalizeCss:Xt(e),parseStyle:Jt(e),serializeStyle:Zt(e)},n=function(){mt(e).then($t(t)).then(e.windowManager.open)};return{open:n}},en=function(e){e.addCommand("mceImage",Qt(e).open),e.addCommand("mceUpdateImage",(function(t,n){e.undoManager.transact((function(){return Xe(e,n)}))}))},tn=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},nn=function(e){return function(t){var n=t.length,r=function(t){t.attr("contenteditable",e?"true":null)};while(n--){var o=t[n];tn(o)&&(o.attr("contenteditable",e?"false":null),tt.each(o.getAll("figcaption"),r))}}},rn=function(e){e.on("PreInit",(function(){e.parser.addNodeFilter("figure",nn(!0)),e.serializer.addNodeFilter("figure",nn(!1))}))},on=function(e){e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Qt(e).open,onSetup:function(t){return e.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",t.setActive).unbind}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Qt(e).open}),e.ui.registry.addContextMenu("image",{update:function(e){return De(e)||Ie(e)&&!ue(e)?["image"]:[]}})};function an(){e.add("image",(function(e){rn(e),on(e),en(e)}))}an()})()},"6d5c":function(e,t,n){(function(e){e(n("fc0f"),n("ddb7"),n("3564"),n("01d8"))})((function(e){"use strict";var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function n(e,t,n){var r=e.current(),o=r.search(t);return o>-1?e.backUp(r.length-o):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}var r={};function o(e){var t=r[e];return t||(r[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}function i(e,t){var n=e.match(o(t));return n?/^\s*(.*?)\s*$/.exec(n[2])[1]:""}function a(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function s(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),o=e[n],i=o.length-1;i>=0;i--)r.unshift(o[i])}function l(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(i(t,r[0])))return r[2]}}e.defineMode("htmlmixed",(function(r,o){var i=e.getMode(r,{name:"xml",htmlMode:!0,multilineTagIndentFactor:o.multilineTagIndentFactor,multilineTagIndentPastTag:o.multilineTagIndentPastTag,allowMissingTagName:o.allowMissingTagName}),u={},c=o&&o.tags,d=o&&o.scriptTypes;if(s(t,u),c&&s(c,u),d)for(var f=d.length-1;f>=0;f--)u.script.unshift(["type",d[f].matches,d[f].mode]);function p(t,o){var s,c=i.token(t,o.htmlState),d=/\btag\b/.test(c);if(d&&!/[<>\s\/]/.test(t.current())&&(s=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&u.hasOwnProperty(s))o.inTag=s+" ";else if(o.inTag&&d&&/>$/.test(t.current())){var f=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var h=">"==t.current()&&l(u[f[1]],f[2]),m=e.getMode(r,h),g=a(f[1],!0),v=a(f[1],!1);o.token=function(e,t){return e.match(g,!1)?(t.token=p,t.localState=t.localMode=null,null):n(e,v,t.localMode.token(e,t.localState))},o.localMode=m,o.localState=e.startState(m,i.indent(o.htmlState,"",""))}else o.inTag&&(o.inTag+=t.current(),t.eol()&&(o.inTag+=" "));return c}return{startState:function(){var t=e.startState(i);return{token:p,inTag:null,localMode:null,localState:null,htmlState:t}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(i,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?i.indent(t.htmlState,n,r):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||i}}}}),"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}))},"6e41":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"brandId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["brandId",{}],expression:"['brandId', {}]"}],attrs:{placeholder:"请输入brandId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"productCategoryId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["productCategoryId",{}],expression:"['productCategoryId', {}]"}],attrs:{placeholder:"请输入productCategoryId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"feightTemplateId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["feightTemplateId",{}],expression:"['feightTemplateId', {}]"}],attrs:{placeholder:"请输入feightTemplateId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"productAttributeCategoryId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["productAttributeCategoryId",{}],expression:"['productAttributeCategoryId', {}]"}],attrs:{placeholder:"请输入productAttributeCategoryId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"name"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"['name', validatorRules.name ]"}],attrs:{placeholder:"请输入name"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"pic"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["pic",{}],expression:"['pic', {}]"}],attrs:{placeholder:"请输入pic"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"货号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["productSn",e.validatorRules.productSn],expression:"['productSn', validatorRules.productSn ]"}],attrs:{placeholder:"请输入货号"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"删除状态：0->未删除；1->已删除"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["deleteStatus",{}],expression:"[ 'deleteStatus', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"上架状态：0->下架；1->上架"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["publishStatus",{}],expression:"[ 'publishStatus', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"新品状态:0->不是新品；1->新品"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["newStatus",{}],expression:"[ 'newStatus', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"推荐状态；0->不推荐；1->推荐"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["recommandStatus",{}],expression:"[ 'recommandStatus', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"审核状态：0->未审核；1->审核通过"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["verifyStatus",{}],expression:"[ 'verifyStatus', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sort",{}],expression:"[ 'sort', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"销量"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sale",{}],expression:"[ 'sale', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"price"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["price",{}],expression:"[ 'price', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"促销价格"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["promotionPrice",{}],expression:"[ 'promotionPrice', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"赠送的成长值"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["giftGrowth",{}],expression:"[ 'giftGrowth', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"赠送的积分"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["giftPoint",{}],expression:"[ 'giftPoint', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"限制使用的积分数"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["usePointLimit",{}],expression:"[ 'usePointLimit', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"副标题"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["subTitle",{}],expression:"['subTitle', {}]"}],attrs:{placeholder:"请输入副标题"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"商品描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{}],expression:"['description', {}]"}],attrs:{placeholder:"请输入商品描述"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"市场价"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["originalPrice",{}],expression:"[ 'originalPrice', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"库存"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["stock",{}],expression:"[ 'stock', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"库存预警值"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["lowStock",{}],expression:"[ 'lowStock', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"单位"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["unit",{}],expression:"['unit', {}]"}],attrs:{placeholder:"请输入单位"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"商品重量，默认为克"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["weight",{}],expression:"[ 'weight', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否为预告商品：0->不是；1->是"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["previewStatus",{}],expression:"[ 'previewStatus', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"以逗号分割的产品服务：1->无忧退货；2->快速退款；3->免费包邮"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["serviceIds",{}],expression:"['serviceIds', {}]"}],attrs:{placeholder:"请输入以逗号分割的产品服务：1->无忧退货；2->快速退款；3->免费包邮"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"keywords"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["keywords",{}],expression:"['keywords', {}]"}],attrs:{placeholder:"请输入keywords"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"note"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["note",{}],expression:"['note', {}]"}],attrs:{placeholder:"请输入note"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"画册图片，连产品图片限制为5张，以逗号分割"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["albumPics",{}],expression:"['albumPics', {}]"}],attrs:{placeholder:"请输入画册图片，连产品图片限制为5张，以逗号分割"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"detailTitle"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["detailTitle",{}],expression:"['detailTitle', {}]"}],attrs:{placeholder:"请输入detailTitle"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"detailDesc"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["detailDesc",{}],expression:"['detailDesc', {}]"}],attrs:{placeholder:"请输入detailDesc"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"产品详情网页内容"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["detailHtml",{}],expression:"['detailHtml', {}]"}],attrs:{placeholder:"请输入产品详情网页内容"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"移动端网页详情"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["detailMobileHtml",{}],expression:"['detailMobileHtml', {}]"}],attrs:{placeholder:"请输入移动端网页详情"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"促销开始时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["promotionStartTime",{}],expression:"[ 'promotionStartTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"促销结束时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["promotionEndTime",{}],expression:"[ 'promotionEndTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"活动限购数量"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["promotionPerLimit",{}],expression:"[ 'promotionPerLimit', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"促销类型：0->没有促销使用原价;1->使用促销价；2->使用会员价；3->使用阶梯价格；4->使用满减价格；5->限时购"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["promotionType",{}],expression:"[ 'promotionType', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"品牌名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["brandName",{}],expression:"['brandName', {}]"}],attrs:{placeholder:"请输入品牌名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"商品分类名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["productCategoryName",{}],expression:"['productCategoryName', {}]"}],attrs:{placeholder:"请输入商品分类名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属部门"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sysOrgCode",{}],expression:"['sysOrgCode', {}]"}],attrs:{placeholder:"请输入所属部门"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属公司"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sysCompanyCode",{}],expression:"['sysCompanyCode', {}]"}],attrs:{placeholder:"请输入所属公司"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属区域"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["areaCode",{}],expression:"['areaCode', {}]"}],attrs:{placeholder:"请输入所属区域"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"产品类别码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["productCategoryCode",{}],expression:"['productCategoryCode', {}]"}],attrs:{placeholder:"请输入产品类别码"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"公益价"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["coinPrice",{}],expression:"[ 'coinPrice', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"消耗公益币数量"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["coin",{}],expression:"[ 'coin', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"自动下架时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["autoUnpublishTime",{}],expression:"[ 'autoUnpublishTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"商品好评率"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["goodReviewRatio",{}],expression:"[ 'goodReviewRatio', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"店铺经度"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["longitude",{}],expression:"[ 'longitude', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"店铺维度"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["latitude",{}],expression:"[ 'latitude', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"最低订购数量"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["minBuyQuantity",{}],expression:"[ 'minBuyQuantity', {}]"}]})],1)],1)],1)],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=n("caaf"),u=n.n(l),c={name:"PmsProductModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{name:{rules:[{required:!0,message:"请输入name!"}]},productSn:{rules:[{required:!0,message:"请输入货号!"}]}},url:{add:"/mall/pmsProduct/add",edit:"/mall/pmsProduct/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"brandId","productCategoryId","feightTemplateId","productAttributeCategoryId","name","pic","productSn","deleteStatus","publishStatus","newStatus","recommandStatus","verifyStatus","sort","sale","price","promotionPrice","giftGrowth","giftPoint","usePointLimit","subTitle","description","originalPrice","stock","lowStock","unit","weight","previewStatus","serviceIds","keywords","note","albumPics","detailTitle","detailDesc","detailHtml","detailMobileHtml","promotionPerLimit","promotionType","brandName","productCategoryName","sysOrgCode","sysCompanyCode","areaCode","productCategoryCode","coinPrice","coin","goodReviewRatio","longitude","latitude","minBuyQuantity")),t.form.setFieldsValue({promotionStartTime:t.model.promotionStartTime?u()(t.model.promotionStartTime):null}),t.form.setFieldsValue({promotionEndTime:t.model.promotionEndTime?u()(t.model.promotionEndTime):null}),t.form.setFieldsValue({autoUnpublishTime:t.model.autoUnpublishTime?u()(t.model.autoUnpublishTime):null})}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);s.promotionStartTime=s.promotionStartTime?s.promotionStartTime.format("YYYY-MM-DD HH:mm:ss"):null,s.promotionEndTime=s.promotionEndTime?s.promotionEndTime.format("YYYY-MM-DD HH:mm:ss"):null,s.autoUnpublishTime=s.autoUnpublishTime?s.autoUnpublishTime.format("YYYY-MM-DD HH:mm:ss"):null,Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},d=c,f=n("5d22"),p=Object(f["a"])(d,r,o,!1,null,"229c01aa",null);t["default"]=p.exports},"6f97":function(e,t,n){},"70ae":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"审核",width:500,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{cancel:e.handleCancel}},[n("a-textarea",{attrs:{placeholder:"请输入审核不通过原因",rows:4},model:{value:e.detail,callback:function(t){e.detail=t},expression:"detail"}}),n("template",{slot:"footer"},[n("a-button",{key:"back",attrs:{type:"danger"},on:{click:function(t){return e.submitForm("3")}}},[e._v("审核不通过")]),n("a-button",{key:"submit",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("2")}}},[e._v("审核通过")])],1)],2)},o=[],i=n("0fea"),a={name:"DrawCrashVerifyModal",data:function(){return{visible:!1,drawCashId:"",confirmLoading:!1,url:{verify:"/mall/shopAccountWithdrawCashHistory/verifyDrawCash"},detail:""}},methods:{submitForm:function(e){var t=this;if("3"!=e||""!=this.detail.trim()){this.confirmLoading=!0;var n={id:this.drawCashId,rejectReason:this.detail,status:e};Object(i["h"])(this.url.verify,n).then((function(e){e.success?(t.confirmLoading=!1,t.visible=!1,t.$message.success("审核成功"),t.$emit("ok")):t.$message.warning(e.message)}))}else this.$message.warning("请输入审核不通过原因")},open:function(e){this.visible=!0,this.drawCashId=e},handleCancel:function(){this.visible=!1}}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"4b17a3e8",null);t["default"]=u.exports},"70d7":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",[r("a-card",{staticClass:"card",attrs:{title:"仓库管理",bordered:!1}},[r("repository-form",{ref:"repository",attrs:{showSubmit:!1}})],1),r("a-card",{staticClass:"card",attrs:{title:"任务管理",bordered:!1}},[r("task-form",{ref:"task",attrs:{showSubmit:!1}})],1),r("a-card",[r("form",{attrs:{autoFormCreate:function(t){return e.form=t}}},[r("a-table",{attrs:{columns:t.columns,dataSource:t.data,pagination:!1},scopedSlots:t._u([t._l(["name","workId","department"],(function(e,n){return{key:e,fn:function(o,i,a){return[i.editable?r("a-input",{key:e,staticStyle:{margin:"-5px 0"},attrs:{value:o,placeholder:t.columns[n].title},on:{change:function(n){return t.handleChange(n.target.value,i.key,e)}}}):[t._v(t._s(o))]]}}})),{key:"operation",fn:function(e,n,o){return[n.editable?[n.isNew?r("span",[r("a",{on:{click:function(e){return t.saveRow(n.key)}}},[t._v("添加")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-popconfirm",{attrs:{title:"是否要删除此行？"},on:{confirm:function(e){return t.remove(n.key)}}},[r("a",[t._v("删除")])])],1):r("span",[r("a",{on:{click:function(e){return t.saveRow(n.key)}}},[t._v("保存")]),r("a-divider",{attrs:{type:"vertical"}}),r("a",{on:{click:function(e){return t.cancel(n.key)}}},[t._v("取消")])],1)]:r("span",[r("a",{on:{click:function(e){return t.toggle(n.key)}}},[t._v("编辑")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-popconfirm",{attrs:{title:"是否要删除此行？"},on:{confirm:function(e){return t.remove(n.key)}}},[r("a",[t._v("删除")])])],1)]}}],null,!0)}),r("a-button",{staticStyle:{width:"100%","margin-top":"16px","margin-bottom":"8px"},attrs:{type:"dashed",icon:"plus"},on:{click:t.newMember}},[t._v("新增成员")])],1)]),r("footer-tool-bar",[r("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.validate}},[t._v("提交")])],1)],1)},o=[],i=n("cd43"),a=n("8dd6"),s=n("c984");function l(e){return f(e)||d(e)||c(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function d(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function f(e){if(Array.isArray(e))return p(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h={name:"AdvancedForm",components:{FooterToolBar:s["default"],RepositoryForm:i["default"],TaskForm:a["default"]},data:function(){return{description:"高级表单常见于一次性输入和提交大批量数据的场景。",loading:!1,columns:[{title:"成员姓名",dataIndex:"name",key:"name",width:"20%",scopedSlots:{customRender:"name"}},{title:"工号",dataIndex:"workId",key:"workId",width:"20%",scopedSlots:{customRender:"workId"}},{title:"所属部门",dataIndex:"department",key:"department",width:"40%",scopedSlots:{customRender:"department"}},{title:"操作",key:"action",scopedSlots:{customRender:"operation"}}],data:[{key:"1",name:"小明",workId:"001",editable:!1,department:"行政部"},{key:"2",name:"李莉",workId:"002",editable:!1,department:"IT部"},{key:"3",name:"王小帅",workId:"003",editable:!1,department:"财务部"}]}},methods:{handleSubmit:function(e){e.preventDefault()},newMember:function(){this.data.push({key:"-1",name:"",workId:"",department:"",editable:!0,isNew:!0})},remove:function(e){var t=this.data.filter((function(t){return t.key!==e}));this.data=t},saveRow:function(e){var t=this.data.filter((function(t){return t.key===e}))[0];t.editable=!1,t.isNew=!1},toggle:function(e){var t=this.data.filter((function(t){return t.key===e}))[0];t.editable=!t.editable},getRowByKey:function(e,t){var n=this.data;return(t||n).filter((function(t){return t.key===e}))[0]},cancel:function(e){var t=this.data.filter((function(t){return t.key===e}))[0];t.editable=!1},handleChange:function(e,t,n){var r=l(this.data),o=r.filter((function(e){return t===e.key}))[0];o&&(o[n]=e,this.data=r)},validate:function(){var e=this;this.$refs.repository.form.validateFields((function(t,n){t||e.$notification["error"]({message:"Received values of form:",description:n})})),this.$refs.task.form.validateFields((function(t,n){t||e.$notification["error"]({message:"Received values of form:",description:n})}))}}},m=h,g=(n("53d7"),n("5d22")),v=Object(g["a"])(m,r,o,!1,null,"856511da",null);t["default"]=v.exports},"717f":function(e,t,n){},7272:function(e,t,n){},"738c":function(e,t,n){},"73e6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:e.title,width:800,placement:"right",closable:!1,visible:e.visible},on:{close:e.close}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模块名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"['name', validatorRules.name ]"}],attrs:{placeholder:"请输入模块名"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"访问地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["url",{}],expression:"['url', {}]"}],attrs:{placeholder:"请输入访问地址"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"图标"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["icon",{}],expression:"['icon', {}]"}],attrs:{placeholder:"请输入图标"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否启用"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["state",{}],expression:"['state', {}]"}],attrs:{placeholder:"请输入是否启用"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sortNo",{}],expression:"[ 'sortNo', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{}],expression:"['description', {}]"}],attrs:{placeholder:"请输入描述"}})],1)],1)],1),n("a-button",{attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("确定")]),n("a-button",{attrs:{type:"primary"},on:{click:e.handleCancel}},[e._v("取消")])],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=(n("caaf"),{name:"SysModulesModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{name:{rules:[{required:!0,message:"请输入模块名!"}]}},url:{add:"/system/sysModules/add",edit:"/system/sysModules/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"name","url","icon","state","sortNo","description"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}}),u=l,c=(n("4acf"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"cdae8f6a",null);t["default"]=d.exports},"74b0":function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){},n=function(e){return function(){return e}},r=function(e){return function(t){return!e(t)}},o=n(!1),i=n(!0),a=function(){return s},s=function(){var e=function(e){return e.isNone()},r=function(e){return e()},s=function(e){return e},l={fold:function(e,t){return e()},is:o,isSome:o,isNone:i,getOr:s,getOrThunk:r,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:n(null),getOrUndefined:n(void 0),or:s,orThunk:r,map:a,each:t,bind:a,exists:o,forall:i,filter:a,equals:e,equals_:e,toArray:function(){return[]},toString:n("none()")};return l}(),l=function(e){var t=n(e),r=function(){return u},a=function(t){return t(e)},u={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:i,isNone:o,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:r,orThunk:r,map:function(t){return l(t(e))},each:function(t){t(e)},bind:a,exists:a,forall:a,filter:function(t){return t(e)?u:s},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(o,(function(t){return n(e,t)}))}};return u},u=function(e){return null===e||void 0===e?s:l(e)},c={some:l,none:a,from:u},d=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},f=function(e){return function(t){return d(t)===e}},p=function(e){return function(t){return typeof t===e}},h=f("string"),m=f("array"),g=p("boolean"),v=p("function"),y=p("number"),b=Array.prototype.slice,x=Array.prototype.push,w=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},_=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},C=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},S=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var s=e[i],l=t(s);l!==n&&(r.push(o),o=[]),n=l,o.push(s)}return 0!==o.length&&r.push(o),r},k=function(e,t,n){return _(e,(function(e){n=t(n,e)})),n},O=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return c.some(i);if(n(i,r))break}return c.none()},T=function(e,t){return O(e,t,o)},M=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!m(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);x.apply(t,e[n])}return t},D=function(e,t){return M(w(e,t))},I=function(e){var t=b.call(e,0);return t.reverse(),t},E=function(e,t){return t>=0&&t<e.length?c.some(e[t]):c.none()},A=function(e){return E(e,0)},L=function(e){return E(e,e.length-1)},j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},j.apply(this,arguments)},N=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},P=function(e,t,r,o){var i=e.isiOS()&&!0===/ipad/i.test(r),a=e.isiOS()&&!i,s=e.isiOS()||e.isAndroid(),l=s||o("(pointer:coarse)"),u=i||!a&&s&&o("(min-device-width:768px)"),c=a||s&&!u,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r),f=!c&&!u&&!d;return{isiPad:n(i),isiPhone:n(a),isTablet:n(u),isPhone:n(c),isTouch:n(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:n(d),isDesktop:n(f)}},R=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},B=function(e,t){var n=R(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return V(r(1),r(2))},F=function(e,t){var n=String(t).toLowerCase();return 0===e.length?z():B(e,n)},z=function(){return V(0,0)},V=function(e,t){return{major:e,minor:t}},H={nu:V,detect:F,unknown:z},U=function(e,t){var n=String(t).toLowerCase();return T(e,(function(e){return e.search(n)}))},$=function(e,t){return U(e,t).map((function(e){var n=H.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},q=function(e,t){return U(e,t).map((function(e){var n=H.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},W={detectBrowser:$,detectOs:q},G=function(e,t){return-1!==e.indexOf(t)},Y=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,K=function(e){return function(t){return G(t,e)}},X=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return G(e,"edge/")&&G(e,"chrome")&&G(e,"safari")&&G(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Y],search:function(e){return G(e,"chrome")&&!G(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return G(e,"msie")||G(e,"trident")}},{name:"Opera",versionRegexes:[Y,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:K("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:K("firefox")},{name:"Safari",versionRegexes:[Y,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(G(e,"safari")||G(e,"mobile/"))&&G(e,"applewebkit")}}],J=[{name:"Windows",search:K("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return G(e,"iphone")||G(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:K("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:K("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:K("linux"),versionRegexes:[]},{name:"Solaris",search:K("sunos"),versionRegexes:[]},{name:"FreeBSD",search:K("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:K("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Z={browsers:n(X),oses:n(J)},Q="Edge",ee="Chrome",te="IE",ne="Opera",re="Firefox",oe="Safari",ie=function(){return ae({current:void 0,version:H.unknown()})},ae=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(Q),isChrome:r(ee),isIE:r(te),isOpera:r(ne),isFirefox:r(re),isSafari:r(oe)}},se={unknown:ie,nu:ae,edge:n(Q),chrome:n(ee),ie:n(te),opera:n(ne),firefox:n(re),safari:n(oe)},le="Windows",ue="iOS",ce="Android",de="Linux",fe="OSX",pe="Solaris",he="FreeBSD",me="ChromeOS",ge=function(){return ve({current:void 0,version:H.unknown()})},ve=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(le),isiOS:r(ue),isAndroid:r(ce),isOSX:r(fe),isLinux:r(de),isSolaris:r(pe),isFreeBSD:r(he),isChromeOS:r(me)}},ye={unknown:ge,nu:ve,windows:n(le),ios:n(ue),android:n(ce),linux:n(de),osx:n(fe),solaris:n(pe),freebsd:n(he),chromeos:n(me)},be=function(e,t){var n=Z.browsers(),r=Z.oses(),o=W.detectBrowser(n,e).fold(se.unknown,se.nu),i=W.detectOs(r,e).fold(ye.unknown,ye.nu),a=P(i,o,e,t);return{browser:o,os:i,deviceType:a}},xe={detect:be},we=function(e){return window.matchMedia(e).matches},_e=N((function(){return xe.detect(navigator.userAgent,we)})),Ce=function(){return _e()},Se=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},ke=function(e,t){return Se(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},Oe=1,Te=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw new Error("HTML must have a single root node");return Ie(r.childNodes[0])},Me=function(e,t){var n=t||document,r=n.createElement(e);return Ie(r)},De=function(e,t){var n=t||document,r=n.createTextNode(e);return Ie(r)},Ie=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},Ee=function(e,t,n){return c.from(e.dom.elementFromPoint(t,n)).map(Ie)},Ae={fromHtml:Te,fromTag:Me,fromText:De,fromDom:Ie,fromPoint:Ee},Le=function(e,t){var n=e.dom;if(n.nodeType!==Oe)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},je=function(e,t){return e.dom===t.dom},Ne=function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)},Pe=function(e,t){return ke(e.dom,t.dom)},Re=function(e,t){return Ce().browser.isIE()?Pe(e,t):Ne(e,t)},Be=Le,Fe=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ze=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ve=tinymce.util.Tools.resolve("tinymce.util.VK"),He=Object.keys,Ue=function(e,t){for(var n=He(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i)}},$e=function(e){return function(t,n){e[n]=t}},qe=function(e,t,n,r){var o={};return Ue(e,(function(e,o){(t(e,o)?n:r)(e,o)})),o},We=function(e,n){var r={};return qe(e,n,$e(r),t),r},Ge=("undefined"!==typeof window?window:Function("return this;")(),function(e){var t=e.dom.nodeName;return t.toLowerCase()}),Ye=function(e){return e.dom.nodeType},Ke=function(e){return function(t){return Ye(t)===e}},Xe=Ke(Oe),Je=function(e,t,n){if(!(h(n)||g(n)||y(n)))throw new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Ze=function(e,t){var n=e.dom;Ue(t,(function(e,t){Je(n,t,e)}))},Qe=function(e){return k(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})},et=function(e){return c.from(e.dom.parentNode).map(Ae.fromDom)},tt=function(e){return w(e.dom.childNodes,Ae.fromDom)},nt=function(e,t){var n=e.dom.childNodes;return c.from(n[t]).map(Ae.fromDom)},rt=function(e){return nt(e,0)},ot=function(e){return nt(e,e.dom.childNodes.length-1)},it=function(e,t){var n=et(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},at=function(e,t){e.dom.appendChild(t.dom)},st=function(e,t){_(t,(function(t){it(e,t)}))},lt=function(e,t){_(t,(function(t){at(e,t)}))},ut=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},ct=function(e,t){return Ae.fromDom(e.dom.cloneNode(t))},dt=function(e){return ct(e,!0)},ft=function(e,t){var n=Ae.fromTag(t),r=Qe(e);return Ze(n,r),n},pt=function(e,t){var n=ft(e,t);it(e,n);var r=tt(e);return lt(n,r),ut(e),n},ht=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),mt=tinymce.util.Tools.resolve("tinymce.util.Tools"),gt=function(e){return function(t){return t&&t.nodeName.toLowerCase()===e}},vt=function(e){return function(t){return t&&e.test(t.nodeName)}},yt=function(e){return e&&3===e.nodeType},bt=vt(/^(OL|UL|DL)$/),xt=vt(/^(OL|UL)$/),wt=gt("ol"),_t=vt(/^(LI|DT|DD)$/),Ct=vt(/^(DT|DD)$/),St=vt(/^(TH|TD)$/),kt=gt("br"),Ot=function(e){return e.parentNode.firstChild===e},Tt=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},Mt=function(e,t){return e&&e.nodeName in t},Dt=function(e,t){return!!kt(t)&&(e.isBlock(t.nextSibling)&&!kt(t.previousSibling))},It=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},Et=function(e,t){return e.isChildOf(t,e.getRoot())},At=function(e){return e.getParam("lists_indent_on_tab",!0)},Lt=function(e){var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},jt=function(e){return e.getParam("forced_root_block_attrs",{})},Nt=function(e,t){var n,r,o,i=e.dom,a=e.schema.getBlockElements(),s=i.createFragment(),l=Lt(e);if(l&&(r=i.create(l),r.tagName===l.toUpperCase()&&i.setAttribs(r,jt(e)),Mt(t.firstChild,a)||s.appendChild(r)),t)while(n=t.firstChild){var u=n.nodeName;o||"SPAN"===u&&"bookmark"===n.getAttribute("data-mce-type")||(o=!0),Mt(n,a)?(s.appendChild(n),r=null):l?(r||(r=i.create(l),s.appendChild(r)),r.appendChild(n)):s.appendChild(n)}return l?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):s.appendChild(i.create("br")),s},Pt=ht.DOM,Rt=function(e,t,n){var r=function(e){mt.each(o,(function(t){e.parentNode.insertBefore(t,n.parentNode)})),Pt.remove(e)},o=Pt.select('span[data-mce-type="bookmark"]',t),i=Nt(e,n),a=Pt.createRng();a.setStartAfter(n),a.setEndAfter(t);for(var s=a.extractContents(),l=s.firstChild;l;l=l.firstChild)if("LI"===l.nodeName&&e.dom.isEmpty(l)){Pt.remove(l);break}e.dom.isEmpty(s)||Pt.insertAfter(s,t),Pt.insertAfter(i,t),It(e.dom,n.parentNode)&&r(n.parentNode),Pt.remove(n),It(e.dom,t)&&Pt.remove(t)},Bt=function(e,t){Be(t,"dd")?pt(t,"dt"):Be(t,"dt")&&et(t).each((function(n){return Rt(e,n.dom,t.dom)}))},Ft=function(e){Be(e,"dt")&&pt(e,"dd")},zt=function(e,t,n){_(n,"Indent"===t?Ft:function(t){return Bt(e,t)})},Vt=function(e,t){if(yt(e))return{container:e,offset:t};var n=Fe.getNode(e,t);return yt(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&yt(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&yt(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},Ht=function(e){var t=e.cloneRange(),n=Vt(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=Vt(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},Ut=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),$t=function(e,t){var n=t||e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",Jt(e,n))},qt=function(e,t){return e&&1===t.length&&t[0]===e},Wt=function(e){return mt.grep(e.querySelectorAll("ol,ul,dl"),(function(e){return bt(e)}))},Gt=function(e){var t=$t(e),n=e.selection.getSelectedBlocks();return qt(t,n)?Wt(t):mt.grep(n,(function(e){return bt(e)&&t!==e}))},Yt=function(e,t){var n=mt.map(t,(function(t){var n=e.dom.getParent(t,"li,dd,dt",Jt(e,t));return n||t}));return Ut.unique(n)},Kt=function(e){var t=e.selection.getSelectedBlocks();return mt.grep(Yt(e,t),(function(e){return _t(e)}))},Xt=function(e){return C(Kt(e),Ct)},Jt=function(e,t){var n=e.dom.getParents(t,"TD,TH"),r=n.length>0?n[0]:e.getBody();return r},Zt=function(e,t){var n=e.dom.getParents(t,"ol,ul",Jt(e,t));return L(n)},Qt=function(e){var t=Zt(e,e.selection.getStart()),n=C(e.selection.getSelectedBlocks(),xt);return t.toArray().concat(n)},en=function(e){var t=Qt(e);return tn(e,t)},tn=function(e,t){var n=w(t,(function(t){return Zt(e,t).getOr(t)}));return Ut.unique(n)},nn=function(e,t,n){return e.isSome()&&t.isSome()?c.some(n(e.getOrDie(),t.getOrDie())):c.none()},rn=function(e,t){var n=t||document,r=n.createDocumentFragment();return _(e,(function(e){r.appendChild(e.dom)})),Ae.fromDom(r)},on=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})},an=function(e){return void 0!==e.style&&v(e.style.getPropertyValue)},sn=function(e,t,n){if(!h(n))throw new Error("CSS value must be a string: "+n);an(e)&&e.style.setProperty(t,n)},ln=function(e,t,n){var r=e.dom;sn(r,t,n)},un=function(e,t){at(e.item,t.list)},cn=function(e){for(var t=1;t<e.length;t++)un(e[t-1],e[t])},dn=function(e,t){nn(L(e),A(t),un)},fn=function(e,t){var n={list:Ae.fromTag(t,e),item:Ae.fromTag("li",e)};return at(n.list,n.item),n},pn=function(e,t,n){for(var r=[],o=0;o<n;o++)r.push(fn(e,t.listType));return r},hn=function(e,t){for(var n=0;n<e.length-1;n++)ln(e[n].item,"list-style-type","none");L(e).each((function(e){Ze(e.list,t.listAttributes),Ze(e.item,t.itemAttributes),lt(e.item,t.content)}))},mn=function(e,t){Ge(e.list)!==t.listType&&(e.list=pt(e.list,t.listType)),Ze(e.list,t.listAttributes)},gn=function(e,t,n){var r=Ae.fromTag("li",e);return Ze(r,t),lt(r,n),r},vn=function(e,t){at(e.list,t),e.item=t},yn=function(e,t,n){var r=t.slice(0,n.depth);return L(r).each((function(t){var r=gn(e,n.itemAttributes,n.content);vn(t,r),mn(t,n)})),r},bn=function(e,t,n){var r=pn(e,n,n.depth-t.length);return cn(r),hn(r,n),dn(t,r),t.concat(r)},xn=function(e,t){var n=k(t,(function(t,n){return n.depth>t.length?bn(e,t,n):yn(e,t,n)}),[]);return A(n).map((function(e){return e.list}))},wn=function(e){return Be(e,"OL,UL")},_n=function(e){return rt(e).map(wn).getOr(!1)},Cn=function(e){return ot(e).map(wn).getOr(!1)},Sn=function(e){return e.depth>0},kn=function(e){return e.isSelected},On=function(e){var t=tt(e),n=Cn(e)?t.slice(0,-1):t;return w(n,dt)},Tn=function(e,t,n){return et(e).filter(Xe).map((function(r){return{depth:t,dirty:!1,isSelected:n,content:On(e),itemAttributes:Qe(e),listAttributes:Qe(r),listType:Ge(r)}}))},Mn=function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0},Dn=function(e,t){e.listType=t.listType,e.listAttributes=j({},t.listAttributes)},In=function(e){e.listAttributes=We(e.listAttributes,(function(e,t){return"start"!==t}))},En=function(e,t){var n=e[t].depth,r=function(e){return e.depth===n&&!e.dirty},o=function(e){return e.depth<n};return O(I(e.slice(0,t)),r,o).orThunk((function(){return O(e.slice(t+1),r,o)}))},An=function(e){return _(e,(function(t,n){En(e,n).fold((function(){t.dirty&&In(t)}),(function(e){return Dn(t,e)}))})),e},Ln=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},jn=function(e,t,n,r){return rt(r).filter(wn).fold((function(){t.each((function(e){je(e.start,r)&&n.set(!0)}));var o=Tn(r,e,n.get());t.each((function(e){je(e.end,r)&&n.set(!1)}));var i=ot(r).filter(wn).map((function(r){return Nn(e,t,n,r)})).getOr([]);return o.toArray().concat(i)}),(function(r){return Nn(e,t,n,r)}))},Nn=function(e,t,n,r){return D(tt(r),(function(r){var o=wn(r)?Nn:jn,i=e+1;return o(i,t,n,r)}))},Pn=function(e,t){var n=Ln(!1),r=0;return w(e,(function(e){return{sourceList:e,entries:Nn(r,t,n,e)}}))},Rn=function(e,t){var n=An(t);return w(n,(function(t){var n=rn(t.content);return Ae.fromDom(Nt(e,n.dom))}))},Bn=function(e,t){var n=An(t);return xn(e.contentDocument,n).toArray()},Fn=function(e,t){return D(S(t,Sn),(function(t){var n=A(t).map(Sn).getOr(!1);return n?Bn(e,t):Rn(e,t)}))},zn=function(e,t){_(C(e,kn),(function(e){return Mn(t,e)}))},Vn=function(e){var t=w(Kt(e),Ae.fromDom);return nn(T(t,r(_n)),T(I(t),r(_n)),(function(e,t){return{start:e,end:t}}))},Hn=function(e,t,n){var r=Pn(t,Vn(e));_(r,(function(t){zn(t.entries,n);var r=Fn(e,t.entries);_(r,(function(t){on(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),st(t.sourceList,r),ut(t.sourceList)}))},Un=function(e,t){var n=w(en(e),Ae.fromDom),r=w(Xt(e),Ae.fromDom),o=!1;if(n.length||r.length){var i=e.selection.getBookmark();Hn(e,n,t),zt(e,t,r),e.selection.moveToBookmark(i),e.selection.setRng(Ht(e.selection.getRng())),e.nodeChanged(),o=!0}return o},$n=function(e){return Un(e,"Indent")},qn=function(e){return Un(e,"Outdent")},Wn=function(e){return Un(e,"Flatten")},Gn=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Yn=ht.DOM,Kn=function(e){var t={},n=function(n){var r,o,i;o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"],1===o.nodeType&&(r=Yn.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[i]):Yn.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=i};return n(!0),e.collapsed||n(),t},Xn=function(e){function t(t){var n,r,o,i=function(e){var t=e.parentNode.firstChild,n=0;while(t){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1};n=o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=i(n),n=n.parentNode,Yn.remove(o),!n.hasChildNodes()&&Yn.isBlock(n)&&n.appendChild(Yn.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var n=Yn.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),Ht(n)},Jn=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Zn=function(e){return/\btox\-/.test(e.className)},Qn=function(e,t,n){var r=function(e){var r=O(e.parents,bt,St).filter((function(e){return e.nodeName===t&&!Zn(e)})).isSome();n(r)},o=e.dom.getParents(e.selection.getNode());return r({parents:o}),e.on("NodeChange",r),function(){return e.off("NodeChange",r)}},er=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},tr=function(e,t){mt.each(t,(function(t,n){e.setAttribute(n,t)}))},nr=function(e,t,n){tr(t,n["list-attributes"]),mt.each(e.select("li",t),(function(e){tr(e,n["list-item-attributes"])}))},rr=function(e,t,n){er(e,t,n),nr(e,t,n)},or=function(e,t,n){mt.each(n,(function(n){var r;return e.setStyle(t,(r={},r[n]="",r))}))},ir=function(e,t,n,r){var o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&kt(o.nextSibling)&&(o=o.nextSibling);while(o.parentNode!==r){if(Tt(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},ar=function(e,t,n){for(var r,o=[],i=e.dom,a=ir(e,t,!0,n),s=ir(e,t,!1,n),l=[],u=a;u;u=u.nextSibling)if(l.push(u),u===s)break;return mt.each(l,(function(t){if(Tt(e,t))return o.push(t),void(r=null);if(i.isBlock(t)||kt(t))return kt(t)&&i.remove(t),void(r=null);var a=t.nextSibling;Gn.isBookmarkNode(t)&&(Tt(e,a)||!a&&t.parentNode===n)?r=null:(r||(r=i.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),r.appendChild(t))})),o},sr=function(e,t,n){var r=e.getStyle(t,"list-style-type"),o=n?n["list-style-type"]:"";return o=null===o?"":o,r===o},lr=function(e,t,n){void 0===n&&(n={});var r=e.selection.getRng(),o="LI",i=Jt(e,e.selection.getStart(!0)),a=e.dom;if("false"!==a.getContentEditable(e.selection.getNode())){t=t.toUpperCase(),"DL"===t&&(o="DT");var s=Kn(r);mt.each(ar(e,r,i),(function(r){var i,s=r.previousSibling;s&&bt(s)&&s.nodeName===t&&sr(a,s,n)?(i=s,r=a.rename(r,o),s.appendChild(r)):(i=a.create(t),r.parentNode.insertBefore(i,r),i.appendChild(r),r=a.rename(r,o)),or(a,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),rr(a,i,n),pr(e.dom,i)})),e.selection.setRng(Xn(s))}},ur=function(e,t){return e&&t&&bt(e)&&e.nodeName===t.nodeName},cr=function(e,t,n){var r=e.getStyle(t,"list-style-type",!0),o=e.getStyle(n,"list-style-type",!0);return r===o},dr=function(e,t){return e.className===t.className},fr=function(e,t,n){return ur(t,n)&&cr(e,t,n)&&dr(t,n)},pr=function(e,t){var n,r;if(n=t.nextSibling,fr(e,t,n)){while(r=n.firstChild)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,fr(e,t,n)){while(r=n.lastChild)t.insertBefore(r,t.firstChild);e.remove(n)}},hr=function(e,t,n,r){if(t.nodeName!==n){var o=e.dom.rename(t,n);rr(e.dom,o,r),on(e,Jn(n),o)}else rr(e.dom,t,r),on(e,Jn(n),t)},mr=function(e,t,n,r,o){if(t.nodeName!==r||gr(o)){var i=Kn(e.selection.getRng(!0));mt.each([t].concat(n),(function(t){hr(e,t,r,o)})),e.selection.setRng(Xn(i))}else Wn(e)},gr=function(e){return"list-style-type"in e},vr=function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||gr(r)||Zn(t)){var o=Kn(e.selection.getRng(!0));rr(e.dom,t,r);var i=e.dom.rename(t,n);pr(e.dom,i),e.selection.setRng(Xn(o)),on(e,Jn(n),i)}else Wn(e);else lr(e,n,r),on(e,Jn(n),t)},yr=function(e,t,n){var r=$t(e),o=Gt(e);n=n||{},r&&o.length>0?mr(e,r,o,t,n):vr(e,r,t,n)},br=ht.DOM,xr=function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&(n=r.previousSibling,n&&"LI"===n.nodeName?(n.appendChild(t),It(e,r)&&br.remove(r)):br.setStyle(r,"listStyleType","none")),bt(r)&&(n=r.previousSibling,n&&"LI"===n.nodeName&&n.appendChild(t))},wr=function(e,t){mt.each(mt.grep(e.select("ol,ul",t)),(function(t){xr(e,t)}))},_r=function(e,t,n,r){var o=t.startContainer,i=t.startOffset;if(yt(o)&&(n?i<o.data.length:i>0))return o;var a=e.schema.getNonEmptyElements();1===o.nodeType&&(o=Fe.getNode(o,i));var s=new ze(o,r);n&&Dt(e.dom,o)&&s.next();while(o=s[n?"next":"prev2"]()){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(a[o.nodeName])return o;if(yt(o)&&o.data.length>0)return o}},Cr=function(e,t){var n=t.childNodes;return 1===n.length&&!bt(n[0])&&e.isBlock(n[0])},Sr=function(e,t){Cr(e,t)&&e.remove(t.firstChild,!0)},kr=function(e,t,n){var r,o=Cr(e,n)?n.firstChild:n;if(Sr(e,t),!It(e,t,!0))while(r=t.firstChild)o.appendChild(r)},Or=function(e,t,n){var r,o=t.parentNode;if(Et(e,t)&&Et(e,n)){bt(n.lastChild)&&(r=n.lastChild),o===n.lastChild&&kt(o.previousSibling)&&e.remove(o.previousSibling);var i=n.lastChild;i&&kt(i)&&t.hasChildNodes()&&e.remove(i),It(e,n,!0)&&e.$(n).empty(),kr(e,t,n),r&&n.appendChild(r);var a=Re(Ae.fromDom(n),Ae.fromDom(t)),s=a?e.getParents(t,bt,n):[];e.remove(t),_(s,(function(t){It(e,t)&&t!==e.getRoot()&&e.remove(t)}))}},Tr=function(e,t,n){e.dom.$(n).empty(),Or(e.dom,t,n),e.selection.setCursorLocation(n)},Mr=function(e,t,n,r){var o=e.dom;if(o.isEmpty(r))Tr(e,n,r);else{var i=Kn(t);Or(o,n,r),e.selection.setRng(Xn(i))}},Dr=function(e,t,n,r){var o=Kn(t);Or(e.dom,n,r);var i=Xn(o);e.selection.setRng(i)},Ir=function(e,t){var n=e.dom,r=e.selection,o=r.getStart(),i=Jt(e,o),a=n.getParent(r.getStart(),"LI",i);if(a){var s=a.parentNode;if(s===e.getBody()&&It(n,s))return!0;var l=Ht(r.getRng()),u=n.getParent(_r(e,l,t,i),"LI",i);if(u&&u!==a)return e.undoManager.transact((function(){t?Mr(e,l,u,a):Ot(a)?qn(e):Dr(e,l,a,u)})),!0;if(!u&&!t&&0===l.startOffset&&0===l.endOffset)return e.undoManager.transact((function(){Wn(e)})),!0}return!1},Er=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},Ar=function(e,t){var n=e.dom,r=e.selection.getStart(),o=Jt(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var a=Ht(e.selection.getRng()),s=n.getParent(_r(e,a,t,o),"LI",o);if(s)return e.undoManager.transact((function(){Er(n,i,o),pr(n,s.parentNode),e.selection.select(s,!0),e.selection.collapse(t)})),!0}return!1},Lr=function(e,t){return Ir(e,t)||Ar(e,t)},jr=function(e){var t=e.selection.getStart(),n=Jt(e,t),r=e.dom.getParent(t,"LI,DT,DD",n);return!!(r||Kt(e).length>0)&&(e.undoManager.transact((function(){e.execCommand("Delete"),wr(e.dom,e.getBody())})),!0)},Nr=function(e,t){return e.selection.isCollapsed()?Lr(e,t):jr(e)},Pr=function(e){e.on("keydown",(function(t){t.keyCode===Ve.BACKSPACE?Nr(e,!1)&&t.preventDefault():t.keyCode===Ve.DELETE&&Nr(e,!0)&&t.preventDefault()}))},Rr=function(e){return{backspaceDelete:function(t){Nr(e,t)}}},Br=function(e){var t=e.dom,n=$t(e);wt(n)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:t.getAttrib(n,"start")||"1"},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(n){var r=n.getData();e.undoManager.transact((function(){t.setAttrib($t(e),"start","1"===r.start?"":r.start)})),n.close()}})},Fr=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}},zr=function(e){e.on("BeforeExecCommand",(function(t){var n=t.command.toLowerCase();"indent"===n?$n(e):"outdent"===n&&qn(e)})),e.addCommand("InsertUnorderedList",(function(t,n){yr(e,"UL",n)})),e.addCommand("InsertOrderedList",(function(t,n){yr(e,"OL",n)})),e.addCommand("InsertDefinitionList",(function(t,n){yr(e,"DL",n)})),e.addCommand("RemoveList",(function(){Wn(e)})),e.addCommand("mceListProps",(function(){Br(e)})),e.addQueryStateHandler("InsertUnorderedList",Fr(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Fr(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Fr(e,"DL"))},Vr=function(e){e.on("keydown",(function(t){t.keyCode!==Ve.TAB||Ve.metaKeyPressed(t)||e.undoManager.transact((function(){(t.shiftKey?qn(e):$n(e))&&t.preventDefault()}))}))},Hr=function(e){At(e)&&Vr(e),Pr(e)},Ur=function(e){var t=function(t){return function(){return e.execCommand(t)}};e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:function(t){return Qn(e,"OL",t.setActive)}}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:function(t){return Qn(e,"UL",t.setActive)}}))},$r=function(e){var t={text:"List properties...",icon:"ordered-list",onAction:function(){return Br(e)},onSetup:function(t){return Qn(e,"OL",(function(e){return t.setDisabled(!e)}))}};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:function(t){var n=$t(e,t);return wt(n)?["listprops"]:[]}})};function qr(){e.add("lists",(function(e){return!1===e.hasPlugin("rtc",!0)&&(Hr(e),zr(e)),Ur(e),$r(e),Rr(e)}))}qr()})()},"74c6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"用户名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userName",{}],expression:"['userName', {}]"}],attrs:{placeholder:"请输入用户名",readOnly:"true"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"代理人用户名"}},[n("a-input-search",{directives:[{name:"decorator",rawName:"v-decorator",value:["agentUserName",e.validatorRules.agentUserName],expression:"['agentUserName', validatorRules.agentUserName]"}],attrs:{placeholder:"请输入代理人用户名",readOnly:"true",size:"large"},on:{search:e.onSearchDepUser}},[n("a-button",{attrs:{slot:"enterButton"},slot:"enterButton"},[e._v("选择用户")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"代理开始时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["startTime",e.validatorRules.startTime],expression:"[ 'startTime', validatorRules.startTime]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"代理结束时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["endTime",e.validatorRules.endTime],expression:"[ 'endTime', validatorRules.endTime]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{}],expression:"[ 'status', {}]"}],staticClass:"fontiframe",attrs:{name:"radioGroup"}},[n("a-radio",{staticClass:"radioGroup",attrs:{value:"1"}},[e._v("有效")]),n("a-radio",{staticClass:"radioGroup",attrs:{value:"0"}},[e._v("无效")])],1)],1)],1),n("j-search-user-by-dep",{ref:"JSearchUserByDep",on:{ok:e.onSearchDepUserCallBack}})],1)],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=n("caaf"),u=n.n(l),c=n("77fc"),d={name:"SysUserAgentModal",components:{JSearchUserByDep:c["default"]},data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},username:"",confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{agentUserName:{rules:[{required:!0,message:"请输入代理人用户名!"}]},startTime:{rules:[{required:!0,message:"请输入代理开始时间!"}]},endTime:{rules:[{required:!0,message:"请输入代理结束时间!"}]}},url:{add:"/system/sysUserAgent/add",edit:"/system/sysUserAgent/edit",queryByUserName:"/system/sysUserAgent/queryByUserName"}}},created:function(){},methods:{agentSettings:function(e){this.username=e,this.init()},init:function(){var e=this,t={userName:this.username};Object(i["c"])(this.url.queryByUserName,t).then((function(t){t.success?e.edit(t.result):e.edit({userName:e.username,status:"0"})}))},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"userName","agentUserName","status")),t.form.setFieldsValue({startTime:t.model.startTime?u()(t.model.startTime):null}),t.form.setFieldsValue({endTime:t.model.endTime?u()(t.model.endTime):null})}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);s.startTime=s.startTime?s.startTime.format("YYYY-MM-DD HH:mm:ss"):null,s.endTime=s.endTime?s.endTime.format("YYYY-MM-DD HH:mm:ss"):null,Object(i["g"])(o,s,a).then((function(e){e.success?t.$message.success(e.message):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},onSearchDepUser:function(){this.$refs.JSearchUserByDep.showModal(),this.$refs.JSearchUserByDep.title="根据部门查询用户",this.$refs.JSearchUserByDep.type="radio"},onSearchDepUserCallBack:function(e){this.form.setFieldsValue({agentUserName:e})}}},f=d,p=n("5d22"),h=Object(p["a"])(f,r,o,!1,null,"d998de76",null);t["default"]=h.exports},7527:function(e,t,n){(function(e){e(n("fc0f"))})((function(e){"use strict";function t(e,t,n,r,o,i){this.indented=e,this.column=t,this.type=n,this.info=r,this.align=o,this.prev=i}function n(e,n,r,o){var i=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=r&&(i=e.context.indented),e.context=new t(i,n,r,o,null,e.context)}function r(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function o(e,t,n){return"variable"==t.prevToken||"type"==t.prevToken||(!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))||(!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0))}function i(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function a(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function s(e,t){return"function"===typeof e?e(t):e.propertyIsEnumerable(t)}e.defineMode("clike",(function(a,l){var u,c,d=a.indentUnit,f=l.statementIndentUnit||d,p=l.dontAlignCalls,h=l.keywords||{},m=l.types||{},g=l.builtin||{},v=l.blockKeywords||{},y=l.defKeywords||{},b=l.atoms||{},x=l.hooks||{},w=l.multiLineStrings,_=!1!==l.indentStatements,C=!1!==l.indentSwitch,S=l.namespaceSeparator,k=l.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,O=l.numberStart||/[\d\.]/,T=l.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,M=l.isOperatorChar||/[+\-*&%=<>!?|\/]/,D=l.isIdentifierChar||/[\w\$_\xa1-\uffff]/,I=l.isReservedIdentifier||!1;function E(e,t){var n=e.next();if(x[n]){var r=x[n](e,t);if(!1!==r)return r}if('"'==n||"'"==n)return t.tokenize=A(n),t.tokenize(e,t);if(O.test(n)){if(e.backUp(1),e.match(T))return"number";e.next()}if(k.test(n))return u=n,null;if("/"==n){if(e.eat("*"))return t.tokenize=L,L(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(M.test(n)){while(!e.match(/^\/[\/*]/,!1)&&e.eat(M));return"operator"}if(e.eatWhile(D),S)while(e.match(S))e.eatWhile(D);var o=e.current();return s(h,o)?(s(v,o)&&(u="newstatement"),s(y,o)&&(c=!0),"keyword"):s(m,o)?"type":s(g,o)||I&&I(o)?(s(v,o)&&(u="newstatement"),"builtin"):s(b,o)?"atom":"variable"}function A(e){return function(t,n){var r,o=!1,i=!1;while(null!=(r=t.next())){if(r==e&&!o){i=!0;break}o=!o&&"\\"==r}return(i||!o&&!w)&&(n.tokenize=null),"string"}}function L(e,t){var n,r=!1;while(n=e.next()){if("/"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function j(e,t){l.typeFirstDefinitions&&e.eol()&&i(t.context)&&(t.typeAtEndOfLine=o(e,t,e.pos))}return{startState:function(e){return{tokenize:null,context:new t((e||0)-d,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var a=t.context;if(e.sol()&&(null==a.align&&(a.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return j(e,t),null;u=c=null;var s=(t.tokenize||E)(e,t);if("comment"==s||"meta"==s)return s;if(null==a.align&&(a.align=!0),";"==u||":"==u||","==u&&e.match(/^\s*(?:\/\/.*)?$/,!1))while("statement"==t.context.type)r(t);else if("{"==u)n(t,e.column(),"}");else if("["==u)n(t,e.column(),"]");else if("("==u)n(t,e.column(),")");else if("}"==u){while("statement"==a.type)a=r(t);"}"==a.type&&(a=r(t));while("statement"==a.type)a=r(t)}else u==a.type?r(t):_&&(("}"==a.type||"top"==a.type)&&";"!=u||"statement"==a.type&&"newstatement"==u)&&n(t,e.column(),"statement",e.current());if("variable"==s&&("def"==t.prevToken||l.typeFirstDefinitions&&o(e,t,e.start)&&i(t.context)&&e.match(/^\s*\(/,!1))&&(s="def"),x.token){var d=x.token(e,t,s);void 0!==d&&(s=d)}return"def"==s&&!1===l.styleDefs&&(s="variable"),t.startOfLine=!1,t.prevToken=c?"def":s||u,j(e,t),s},indent:function(t,n){if(t.tokenize!=E&&null!=t.tokenize||t.typeAtEndOfLine)return e.Pass;var r=t.context,o=n&&n.charAt(0),i=o==r.type;if("statement"==r.type&&"}"==o&&(r=r.prev),l.dontIndentStatements)while("statement"==r.type&&l.dontIndentStatements.test(r.info))r=r.prev;if(x.indent){var a=x.indent(t,r,n,d);if("number"==typeof a)return a}var s=r.prev&&"switch"==r.prev.info;if(l.allmanIndentation&&/[{(]/.test(o)){while("top"!=r.type&&"}"!=r.type)r=r.prev;return r.indented}return"statement"==r.type?r.indented+("{"==o?0:f):!r.align||p&&")"==r.type?")"!=r.type||i?r.indented+(i?0:d)+(i||!s||/^(?:case|default)\b/.test(n)?0:d):r.indented+f:r.column+(i?0:1)},electricInput:C?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}}));var l="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",u="alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq",c="bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available",d="FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION  NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT",f=a("int long char short double float unsigned signed void bool"),p=a("SEL instancetype id Class Protocol BOOL");function h(e){return s(f,e)||/.+_t$/.test(e)}function m(e){return h(e)||s(p,e)}var g="case do else for if switch while struct enum union",v="struct enum union";function y(e,t){if(!t.startOfLine)return!1;for(var n,r=null;n=e.peek();){if("\\"==n&&e.match(/^.$/)){r=y;break}if("/"==n&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=r,"meta"}function b(e,t){return"type"==t.prevToken&&"type"}function x(e){return!(!e||e.length<2)&&("_"==e[0]&&("_"==e[1]||e[1]!==e[1].toLowerCase()))}function w(e){return e.eatWhile(/[\w\.']/),"number"}function _(e,t){if(e.backUp(1),e.match(/^(?:R|u8R|uR|UR|LR)/)){var n=e.match(/^"([^\s\\()]{0,16})\(/);return!!n&&(t.cpp11RawStringDelim=n[1],t.tokenize=k,k(e,t))}return e.match(/^(?:u8|u|U|L)/)?!!e.match(/^["']/,!1)&&"string":(e.next(),!1)}function C(e){var t=/(\w+)::~?(\w+)$/.exec(e);return t&&t[1]==t[2]}function S(e,t){var n;while(null!=(n=e.next()))if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function k(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),r=e.match(new RegExp(".*?\\)"+n+'"'));return r?t.tokenize=null:e.skipToEnd(),"string"}function O(t,n){"string"==typeof t&&(t=[t]);var r=[];function o(e){if(e)for(var t in e)e.hasOwnProperty(t)&&r.push(t)}o(n.keywords),o(n.types),o(n.builtin),o(n.atoms),r.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],r));for(var i=0;i<t.length;++i)e.defineMIME(t[i],n)}function T(e,t){var n=!1;while(!e.eol()){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"==e.next()&&!n}return"string"}function M(e){return function(t,n){var r;while(r=t.next()){if("*"==r&&t.eat("/")){if(1==e){n.tokenize=null;break}return n.tokenize=M(e-1),n.tokenize(t,n)}if("/"==r&&t.eat("*"))return n.tokenize=M(e+1),n.tokenize(t,n)}return"comment"}}function D(e){return function(t,n){var r,o=!1,i=!1;while(!t.eol()){if(!e&&!o&&t.match('"')){i=!0;break}if(e&&t.match('"""')){i=!0;break}r=t.next(),!o&&"$"==r&&t.match("{")&&t.skipTo("}"),o=!o&&"\\"==r&&!e}return!i&&e||(n.tokenize=null),"string"}}O(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:a(l),types:h,blockKeywords:a(g),defKeywords:a(v),typeFirstDefinitions:!0,atoms:a("NULL true false"),isReservedIdentifier:x,hooks:{"#":y,"*":b},modeProps:{fold:["brace","include"]}}),O(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:a(l+" "+u),types:h,blockKeywords:a(g+" class try catch"),defKeywords:a(v+" class namespace"),typeFirstDefinitions:!0,atoms:a("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:x,hooks:{"#":y,"*":b,u:_,U:_,L:_,R:_,0:w,1:w,2:w,3:w,4:w,5:w,6:w,7:w,8:w,9:w,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&C(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),O("text/x-java",{name:"clike",keywords:a("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:a("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:a("catch class do else finally for if switch try while"),defKeywords:a("class interface enum @interface"),typeFirstDefinitions:!0,atoms:a("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return!e.match("interface",!1)&&(e.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),O("text/x-csharp",{name:"clike",keywords:a("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:a("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:a("catch class do else finally for foreach if struct switch try while"),defKeywords:a("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:a("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=S,S(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),O("text/x-scala",{name:"clike",keywords:a("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:a("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:a("catch class enum do else finally for forSome if match switch try while"),defKeywords:a("class enum def object package trait type val var"),atoms:a("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return!!e.match('""')&&(t.tokenize=T,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(e,n){var r=n.context;return!("}"!=r.type||!r.align||!e.eat(">"))&&(n.context=new t(r.indented,r.column,r.type,r.info,null,r.prev),"operator")},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=M(1),t.tokenize(e,t))}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}}),O("text/x-kotlin",{name:"clike",keywords:a("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam"),types:a("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:a("catch class do else finally for if where try while enum"),defKeywords:a("class val var object interface fun"),atoms:a("true false null this"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},"*":function(e,t){return"."==t.prevToken?"variable":"operator"},'"':function(e,t){return t.tokenize=D(e.match('""')),t.tokenize(e,t)},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=M(1),t.tokenize(e,t))},indent:function(e,t,n,r){var o=n&&n.charAt(0);return"}"!=e.prevToken&&")"!=e.prevToken||""!=n?"operator"==e.prevToken&&"}"!=n&&"}"!=e.context.type||"variable"==e.prevToken&&"."==o||("}"==e.prevToken||")"==e.prevToken)&&"."==o?2*r+t.indented:t.align&&"}"==t.type?t.indented+(e.context.type==(n||"").charAt(0)?0:r):void 0:e.indented}},modeProps:{closeBrackets:{triples:'"'}}}),O(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:a("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:a("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:a("for while do if else struct"),builtin:a("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:a("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":y},modeProps:{fold:["brace","include"]}}),O("text/x-nesc",{name:"clike",keywords:a(l+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:h,blockKeywords:a(g),atoms:a("null true false"),hooks:{"#":y},modeProps:{fold:["brace","include"]}}),O("text/x-objectivec",{name:"clike",keywords:a(l+" "+c),types:m,builtin:a(d),blockKeywords:a(g+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:a(v+" @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:a("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:x,hooks:{"#":y,"*":b},modeProps:{fold:["brace","include"]}}),O("text/x-objectivec++",{name:"clike",keywords:a(l+" "+c+" "+u),types:m,builtin:a(d),blockKeywords:a(g+" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),defKeywords:a(v+" @interface @implementation @protocol @class class namespace"),dontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:!0,atoms:a("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:x,hooks:{"#":y,"*":b,u:_,U:_,L:_,R:_,0:w,1:w,2:w,3:w,4:w,5:w,6:w,7:w,8:w,9:w,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&C(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),O("text/x-squirrel",{name:"clike",keywords:a("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:h,blockKeywords:a("case catch class else for foreach if switch try while"),defKeywords:a("function local class"),typeFirstDefinitions:!0,atoms:a("true false null"),hooks:{"#":y},modeProps:{fold:["brace","include"]}});var I=null;function E(e){return function(t,n){var r,o=!1,i=!1;while(!t.eol()){if(!o&&t.match('"')&&("single"==e||t.match('""'))){i=!0;break}if(!o&&t.match("``")){I=E(e),i=!0;break}r=t.next(),o="single"==e&&!o&&"\\"==r}return i&&(n.tokenize=null),"string"}}O("text/x-ceylon",{name:"clike",keywords:a("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:a("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:a("class dynamic function interface module object package value"),builtin:a("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:a("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return t.tokenize=E(e.match('""')?"triple":"single"),t.tokenize(e,t)},"`":function(e,t){return!(!I||!e.match("`"))&&(t.tokenize=I,I=null,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,t,n){if(("variable"==n||"type"==n)&&"."==t.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})}))},7550:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-spin",{attrs:{spinning:e.loading}},[e.actionButton?n("div",{staticClass:"action-button"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleClickAdd}},[e._v("新增")]),n("span",{staticClass:"gap"}),e.selectedRowIds.length>0?[n("a-popconfirm",{attrs:{title:"确定要删除这 "+e.selectedRowIds.length+" 项吗?"},on:{confirm:e.handleConfirmDelete}},[n("a-button",{attrs:{type:"primary",icon:"minus"}},[e._v("删除")])],1),e.showClearSelectButton?[n("span",{staticClass:"gap"}),n("a-button",{attrs:{icon:"delete"},on:{click:e.handleClickClearSelect}},[e._v("清空选择")])]:e._e()]:e._e()],2):e._e(),n("div",{staticClass:"input-table",attrs:{id:e.caseId+"inputTable"}},[n("div",{ref:"thead",staticClass:"thead"},[n("div",{staticClass:"tr",style:{width:this.realTrWidth}},[e.dragSort?n("div",{staticClass:"td td-ds",style:e.style.tdLeftDs},[n("span")]):e._e(),e.rowSelection?n("div",{staticClass:"td td-cb",style:e.style.tdLeft},[n("a-checkbox",{attrs:{checked:e.getSelectAll,indeterminate:e.getSelectIndeterminate},on:{change:e.handleChangeCheckedAll}})],1):e._e(),e.rowNumber?n("div",{staticClass:"td td-num",style:e.style.tdLeft},[n("span",[e._v("#")])]):e._e(),e._l(e.columns,(function(t){return[n("div",{directives:[{name:"show",rawName:"v-show",value:t.type!==e.formTypes.hidden,expression:"col.type !== formTypes.hidden"}],key:t.key,staticClass:"td",style:e.buildTdStyle(t)},[n("span",[e._v(e._s(t.title))])])]}))],2)]),n("div",{ref:"scrollView",staticClass:"scroll-view",style:{"max-height":e.maxHeight+"px"}},[n("div",{staticClass:"tbody",style:e.tbodyStyle,attrs:{id:e.caseId+"tbody"}},[n("div",{staticClass:"tr-expand",style:"height:"+e.getExpandHeight+"px; z-index:"+(e.loading?"11":"9")+";"}),0===e.rows.length?n("div",{staticClass:"tr-nodata"},[n("span",[e._v("暂无数据")])]):e._e(),n("draggable",{attrs:{handle:".td-ds-icons"},on:{end:e.handleDragMoveEnd},model:{value:e.rows,callback:function(t){e.rows=t},expression:"rows"}},[e._l(e.rows,(function(t,r){return[r>=parseInt(""+(e.scrollTop-e.rowHeight)/e.rowHeight)&&parseInt(""+e.scrollTop/e.rowHeight)+9>r?n("div",{key:t.id,staticClass:"tr",class:-1!==e.selectedRowIds.indexOf(t.id)?"tr-checked":"",style:e.buildTrStyle(r),attrs:{id:e.caseId+"tbody-tr-"+r,"data-idx":r}},[e.dragSort?n("div",{staticClass:"td td-ds",style:e.style.tdLeftDs},[n("div",{staticClass:"td-ds-icons"},[n("a-icon",{attrs:{type:"align-left"}}),n("a-icon",{attrs:{type:"align-right"}})],1)]):e._e(),e.rowSelection?n("div",{staticClass:"td td-cb",style:e.style.tdLeft},[e._l([""+t.id],(function(t,r){return[n("a-checkbox",{key:r,attrs:{id:t,checked:-1!==e.selectedRowIds.indexOf(t)},on:{change:e.handleChangeLeftCheckbox}})]}))],2):e._e(),e.rowNumber?n("div",{staticClass:"td td-num",style:e.style.tdLeft},[n("span",[e._v(e._s(r+1))])]):e._e(),e._l(e.columns,(function(o){return n("div",{directives:[{name:"show",rawName:"v-show",value:o.type!==e.formTypes.hidden,expression:"col.type !== formTypes.hidden"}],key:o.key,staticClass:"td",style:e.buildTdStyle(o)},[e._l([""+o.key+t.id],(function(i,a){return[o.type===e.formTypes.input||o.type===e.formTypes.inputNumber?n("label",{key:a},[n("a-tooltip",{attrs:{id:i,placement:"top",title:(e.tooltips[i]||{}).title,visible:(e.tooltips[i]||{}).visible||!1,autoAdjustOverflow:!0}},[n("input",e._b({attrs:{id:i,"data-input-number":o.type===e.formTypes.inputNumber,placeholder:e.replaceProps(o,o.placeholder)},on:{input:function(n){e.handleInputCommono(n.target,r,t,o)},mouseover:function(){e.handleMouseoverCommono(t,o)},mouseout:function(){e.handleMouseoutCommono(t,o)}}},"input",e.buildProps(t,o),!1))])],1):o.type===e.formTypes.checkbox?[n("a-checkbox",e._b({key:a,attrs:{id:i,checked:e.checkboxValues[i]},on:{change:function(n){return e.handleChangeCheckboxCommon(n,t,o)}}},"a-checkbox",e.buildProps(t,o),!1))]:o.type===e.formTypes.select?[n("a-tooltip",{key:a,attrs:{id:i,placement:"top",title:(e.tooltips[i]||{}).title,visible:(e.tooltips[i]||{}).visible||!1,autoAdjustOverflow:!0}},[n("span",{on:{mouseover:function(){e.handleMouseoverCommono(t,o)},mouseout:function(){e.handleMouseoutCommono(t,o)}}},[n("a-select",e._b({key:a,staticStyle:{width:"100%"},attrs:{id:i,value:e.selectValues[i],options:o.options,getPopupContainer:e.getParentContainer,placeholder:e.replaceProps(o,o.placeholder)},on:{change:function(n){return e.handleChangeSelectCommon(n,i,t,o)},search:function(n){return e.handleSearchSelect(n,i,t,o)},blur:function(n){return e.handleBlurSearch(n,i,t,o)}}},"a-select",e.buildProps(t,o),!1))],1)])]:o.type===e.formTypes.date||o.type===e.formTypes.datetime?[n("a-tooltip",{key:a,attrs:{id:i,placement:"top",title:(e.tooltips[i]||{}).title,visible:(e.tooltips[i]||{}).visible||!1,autoAdjustOverflow:!0}},[n("span",{on:{mouseover:function(){e.handleMouseoverCommono(t,o)},mouseout:function(){e.handleMouseoutCommono(t,o)}}},[n("j-date",e._b({key:a,staticStyle:{width:"100%"},attrs:{id:i,value:e.jdateValues[i],getCalendarContainer:e.getParentContainer,placeholder:e.replaceProps(o,o.placeholder),"trigger-change":!0,showTime:o.type===e.formTypes.datetime,dateFormat:o.type===e.formTypes.date?"YYYY-MM-DD":"YYYY-MM-DD HH:mm:ss"},on:{change:function(n){return e.handleChangeJDateCommon(n,i,t,o,o.type===e.formTypes.datetime)}}},"j-date",e.buildProps(t,o),!1))],1)])]:o.type===e.formTypes.upload?n("div",{key:a},[e._l([e.uploadValues[i]||{}],(function(t,r){return null!=e.uploadValues[i]?[n("a-input",{key:r,attrs:{readOnly:!0,value:t.name}},[n("template",{staticStyle:{width:"30px"},slot:"addonBefore"},["uploading"===t.status?n("a-tooltip",{attrs:{title:"上传中("+Math.floor(t.percent)+"%)"}},[n("a-icon",{attrs:{type:"loading"}})],1):"done"===t.status?n("a-tooltip",{attrs:{title:"上传完成"}},[n("a-icon",{staticStyle:{color:"#00DB00"},attrs:{type:"check-circle"}})],1):n("a-tooltip",{attrs:{title:"上传失败"}},[n("a-icon",{staticStyle:{color:"red"},attrs:{type:"exclamation-circle"}})],1)],1),n("template",{staticStyle:{width:"30px"},slot:"addonAfter"},[n("a-tooltip",{attrs:{title:"删除并重新上传"}},["uploading"!==t.status?n("a-icon",{staticStyle:{cursor:"pointer"},attrs:{type:"close-circle"},on:{click:function(){return e.handleClickDelFile(i)}}}):e._e()],1)],1)],2)]:e._e()})),n("div",{attrs:{hidden:null!=e.uploadValues[i]}},[n("a-upload",e._b({attrs:{name:"file",data:{isup:1},multiple:!1,action:o.action,headers:e.uploadGetHeaders(t,o),showUploadList:!1},on:{change:function(n){return e.handleChangeUpload(n,i,t,o)}}},"a-upload",e.buildProps(t,o),!1),[n("a-button",{attrs:{icon:"upload"}},[e._v(e._s(o.placeholder))])],1)],1)],2):o.type===e.formTypes.slot?n("div",{key:a},[e._t(o.slot||o.slotName||o.key,null,{index:r,text:e.inputValues[r][o.key],column:o,rowId:e.removeCaseId(t.id),getValue:function(){return e._getValueForSlot(t.id)},target:e.getVM()})],2):n("span",{key:a},[e._v(e._s(e.inputValues[r][o.key]))])]}))],2)}))],2):e._e()]}))],2)],1)])])])},o=[],i=n("a593"),a=n("3335"),s=n.n(a),l=n("9fb0"),u=n("e2e0"),c=n("ca00"),d=n("2dab"),f=n("89f2");function p(e,t){return g(e)||m(e,t)||y(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(l){o=!0,i=l}finally{try{r||null==s["return"]||s["return"]()}finally{if(o)throw i}}return n}}function g(e){if(Array.isArray(e))return e}function v(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function y(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){return x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}var w=61,_={name:"JEditableTable",components:{JDate:d["default"],Draggable:s.a},props:{columns:{type:Array,required:!0},dataSource:{type:Array,required:!0,default:function(){return[]}},actionButton:{type:Boolean,default:!1},rowNumber:{type:Boolean,default:!1},rowSelection:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},maxHeight:{type:Number,default:400},disabledRows:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},dragSort:{type:Boolean,default:!1},dragSortKey:{type:String,default:"orderNum"}},data:function(){return{caseId:"_jet-".concat(Object(c["e"])(6),"-"),el:{inputTable:null,tbody:null},style:{tbody:{left:"0px"},tdLeft:{"min-width":"4%","max-width":"45px"},tdLeftDs:{"min-width":"30px","max-width":"35px"}},formTypes:u["a"],rows:[],rowHeight:w,scrollTop:0,selectValues:{},checkboxValues:{},jdateValues:{},uploadValues:{},selectedRowIds:[],deleteIds:[],tooltips:{},notPassedIds:[]}},created:function(){this.visibleTrEls=[],this.inputValues=[],this.disabledRowIds=this.disabledRowIds||[]},computed:{getExpandHeight:function(){return this.rows.length*this.rowHeight},getSelectIndeterminate:function(){return this.selectedRowIds.length>0&&this.selectedRowIds.length<this.rows.length},getSelectAll:function(){return this.selectedRowIds.length===this.rows.length&&this.rows.length>0},tbodyStyle:function(){var e=Object.assign({},this.style.tbody);return e["width"]=this.realTrWidth,e},showClearSelectButton:function(){var e=0;for(var t in this.disabledRows)this.disabledRows.hasOwnProperty(t)&&e++;return e>0},accessToken:function(){return i["default"].ls.get(l["a"])},realTrWidth:function(){var e=this,t="calc(";return this.columns.forEach((function(n,r){var o=n.type,i=n.width;o!==u["a"].hidden&&(t+="number"===typeof i?i+"px":"string"===typeof i?i:"120px",r<e.columns.length-1&&(t+=" + "))})),t+=")",t}},watch:{dataSource:{immediate:!0,handler:function(e){var t=this;this.initialize();var n=[],r={},o={},i={},a=this.disabledRowIds||[];e.forEach((function(e,s){null!=e.id&&""!==e.id||(e.id=t.removeCaseId(t.generateId()+s));var l={id:t.caseId+e.id},c={id:l.id},d=!1;t.columns.forEach((function(n){var s=n.key+l.id,f=(null==e[n.key]?"":e[n.key]).toString();if(n.type===u["a"].checkbox)if(n.customValue instanceof Array){var p=(n.customValue[0]||"").toString();r[s]=f===p}else r[s]=f;else n.type===u["a"].select?o[s]=f?"multiple"===(n.props||{})["mode"]?f.split(","):f:void 0:n.type===u["a"].date||n.type===u["a"].datetime?i[s]=f:n.type===u["a"].slot?l[n.key]=0===f||f?f:n.defaultValue:l[n.key]=f;for(var h in t.disabledRows)t.disabledRows.hasOwnProperty(h)&&e.hasOwnProperty(h)&&!0!==d&&(d=t.disabledRows[h]===e[h],d&&a.push(c.id))})),t.inputValues.push(l),n.push(c)})),this.disabledRowIds=a,this.checkboxValues=r,this.selectValues=o,this.jdateValues=i,this.rows=n,this.$nextTick((function(){t.updateFormValues()}))}},columns:{immediate:!0,handler:function(e){var t=this;e.forEach((function(e){e.type===u["a"].select&&(e.options instanceof Array&&(e.options=e.options.map((function(e){return e?{text:e.text||e.title,title:e.text||e.title,value:e.value}:{}}))),e.dictCode&&t._loadDictConcatToOptions(e))}))}},selectedRowIds:function(e){this.$emit("selectRowChange",Object(c["a"])(e))}},mounted:function(){var e=this,t={};["inputTable","tbody"].forEach((function(n){t[n]=document.getElementById(e.caseId+n)})),this.el=t;var n=this;this.el.inputTable.onscroll=function(e){n.syncScrollBar(e.target.scrollLeft)},this.el.tbody.onscroll=function(e){};var r=this.$refs,o=r.thead,i=r.scrollView;i.onscroll=function(e){o.scrollLeft=e.target.scrollLeft,n.recalcTrHiddenItem(e.target.scrollTop)}},methods:{initialize:function(){var e=this;this.visibleTrEls=[],this.rows=[],this.deleteIds=[],this.inputValues=[],this.selectValues={},this.checkboxValues={},this.jdateValues={},this.selectedRowIds=[],this.tooltips={},this.notPassedIds=[],this.scrollTop=0,this.$nextTick((function(){e.el.tbody.scrollTop=0}))},syncScrollBar:function(e){},resetScrollTop:function(e){var t=this.$refs.scrollView;t.scrollTop=null!=e&&"number"===typeof e?e:this.scrollTop},recalcTrHiddenItem:function(e){var t=this,n=e-this.scrollTop;n<0&&(n=this.scrollTop-e),n>=.3*this.rowHeight&&(this.scrollTop=e,this.$nextTick((function(){t.updateFormValues()})))},generateId:function(e){e instanceof Array||(e=this.rows||[]);var t=(new Date).getTime();return"".concat(this.caseId).concat(t).concat(e.length)},push:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;r instanceof Array||(r=Object(c["a"])(this.rows)||[]),null==e.id&&(e.id=this.generateId(r)),-1===e.id.indexOf(this.caseId)&&(e.id=this.caseId+e.id);var o={id:e.id},i={id:o.id},a=Object.assign({},this.checkboxValues),s=Object.assign({},this.selectValues),l=Object.assign({},this.jdateValues);return this.columns.forEach((function(n){var r=n.key,c=r+o.id,d=null!=e[r];if(n.type===u["a"].input)i[r]=d?e[r]:n.defaultValue||(0===n.defaultValue?0:"");else if(n.type===u["a"].inputNumber)!0===n.isOrder?i[r]=t.getInputNumberMaxValue(n)+1:i[r]=d?e[r]:n.defaultValue||(0===n.defaultValue?0:"");else if(n.type===u["a"].checkbox)a[c]=d?e[r]:n.defaultChecked;else if(n.type===u["a"].select){var f=n.defaultValue;0===f||f||(f=void 0),"string"===typeof f&&"multiple"===(n.props||{})["mode"]&&(f=f.split(",")),s[c]=d?e[r]:f}else n.type===u["a"].date||n.type===u["a"].datetime?l[c]=d?e[r]:n.defaultValue:n.type===u["a"].slot?i[r]=d?e[r]:n.defaultValue||"":i[r]=d?e[r]:""})),r.push(o),this.inputValues.push(i),this.checkboxValues=a,this.selectValues=s,this.jdateValues=l,this.dragSort&&this.inputValues.forEach((function(e,n){e[t.dragSortKey]=n+1})),n&&(this.rows=r,this.$nextTick((function(){t.updateFormValues()}))),r},getInputNumberMaxValue:function(e){var t=0;return this.inputValues.forEach((function(n,r){var o,i=n[e.key];try{o=parseInt(i)}catch(a){o=0}t=0===r||o>t?o:t})),t},add:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(t<1)){for(var r,o=this.rows,i=0;i<t;i++)r={id:this.generateId(o)},o=this.push(r,!1,o);this.rows=o,this.$nextTick((function(){e.updateFormValues()})),this.$emit("added",{row:function(){var t=Object.assign({},r);return t.id=e.removeCaseId(t.id),t}(),target:this});var a=this.el.tbody,s=a.offsetHeight,l=a.scrollTop+s;(!1!==n||a.scrollHeight-l<=10)&&this.$nextTick((function(){a.scrollTop=a.scrollHeight}))}},removeSelectedRows:function(){this.removeRows(this.selectedRowIds),this.selectedRowIds=[]},removeRows:function(e){var t=this,n=e;if(!(e instanceof Array)){if("string"!==typeof e)throw"JEditableTable.removeRows() 函数需要的参数可以是string或Array类型，但提供的却是".concat(x(e));n=[e]}var r=Object(c["a"])(this.rows);return n.forEach((function(e){var n=function(n){for(var r=0;r<n.length;r++)if(n[r].id===e||n[r].id===t.caseId+e)return n.splice(r,1),!0};if(n(r)){n(t.inputValues);var o=t.removeCaseId(e);t.deleteIds.push(o)}})),this.rows=r,this.$emit("deleted",this.getDeleteIds()),this.$nextTick((function(){t.updateFormValues()})),!0},getValuesSync:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.validate,r=t.rowIds;"boolean"!==typeof n&&(n=!0),r instanceof Array||(r=null);var o,i=0,a=Object(c["a"])(this.inputValues),s=Object.assign({},this.tooltips),l=Object(c["a"])(this.notPassedIds),d=[],f=v(a);try{var p=function(){var t=o.value,a=!1;if(null==r)a=!0;else{var f,p=v(r);try{for(p.s();!(f=p.n()).done;){var h=f.value;if(h===t.id||"".concat(e.caseId).concat(h)===t.id){a=!0;break}}}catch(m){p.e(m)}finally{p.f()}}if(!a)return"continue";e.columns.forEach((function(r){var o=r.key+t.id;if(r.type===u["a"].checkbox){var a=e.checkboxValues[o];r.customValue instanceof Array?t[r.key]=a?r.customValue[0]:r.customValue[1]:t[r.key]=a}else if(r.type===u["a"].select){var d=e.selectValues[o];t[r.key]=d instanceof Array?Object(c["a"])(d):d}else r.type===u["a"].date||r.type===u["a"].datetime?t[r.key]=e.jdateValues[o]:r.type===u["a"].upload&&(t[r.key]=Object(c["a"])(e.uploadValues[o]||null));if(!0===n){var f=e.validateOneInput(t[r.key],t,r,l,!1);s[o]=f[0],s[o].visible&&i++,s[o].visible=!1,l=f[1]}})),t.id=e.removeCaseId(t.id),d.push(t)};for(f.s();!(o=f.n()).done;)p()}catch(h){f.e(h)}finally{f.f()}return this.tooltips=s,this.notPassedIds=l,{error:i,values:d}},getValues:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.getValuesSync({validate:t,rowIds:n});"function"===typeof e&&e(r.error,r.values)},getValuesPromise:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;return new Promise((function(r,o){var i=e.getValuesSync({validate:t,rowIds:n}),a=i.error,s=i.values;0===a?r(s):o(u["b"])}))},getDeleteIds:function(){return Object(c["a"])(this.deleteIds)},getAll:function(e){var t=this;return new Promise((function(n,r){var o=t.getDeleteIds();t.getValuesPromise(e).then((function(e){n({values:e,deleteIds:o})})).catch((function(e){r(e)}))}))},getAllSync:function(e,t){var n=this.getValuesSync({validate:e,rowIds:t});return n.deleteIds=this.getDeleteIds(),n},_getValueForSlot:function(e){return this.getValuesSync({rowIds:[e]}).values[0]},setValues:function(e){var t=this;e.forEach((function(e){var n=e.rowKey,r=e.values,o=function(e){if(r.hasOwnProperty(e)){var o=r[e],i=!1;t.inputValues.forEach((function(r){"".concat(t.caseId).concat(n)===r.id&&r.hasOwnProperty(e)&&(i=!0,r[e]=o)}));var a="".concat(e).concat(t.caseId).concat(n);!i&&t.selectValues.hasOwnProperty(a)&&(t.selectValues[a]=0===o||o?o:void 0,i=!0),!i&&t.checkboxValues.hasOwnProperty(a)&&(t.checkboxValues[a]=o,i=!0),!i&&t.jdateValues.hasOwnProperty(a)&&(t.jdateValues[a]=o,i=!0)}};for(var i in r)o(i)})),this.forceUpdateFormValues()},validateOneInput:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=Object.assign({},this.tooltips),a=n.key+t.id,s=this.validateValue(n.validateRules,e),l=p(s,2),c=l[0],d=l[1];i[a]=i[a]?i[a]:{},i[a].visible=!c;var f=r.indexOf(a),h=null,m=null;c?-1!==f&&r.splice(f,1):(i[a].title=this.replaceProps(n,d),h="red",m="0 0 0 2px rgba(255, 0, 0, 0.2)",-1===f&&r.push(a));var g=document.getElementById(a);return null!=g&&(n.type===u["a"].select&&(g=g.getElementsByClassName("ant-select-selection")[0]),n.type!==u["a"].date&&n.type!==u["a"].datetime||(g=g.getElementsByTagName("input")[0]),g.style.borderColor=h,g.style.boxShadow=m),o&&(this.tooltips=i,this.notPassedIds=r),[i[a],r]},validateValue:function(e,t){var n=!0,r="";if(e instanceof Array){var o,i=v(e);try{for(i.s();!(o=i.n()).done;){var a=o.value,s=null==t||""===t;if(!0===a.required&&s)n=!1;else if(a.pattern&&!s){for(var l=[{title:"唯一校验",value:"only",pattern:null},{title:"6到16位数字",value:"n6-16",pattern:/\d{6,18}/},{title:"6到16位任意字符",value:"*6-16",pattern:/^.{6,16}$/},{title:"网址",value:"url",pattern:/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/},{title:"电子邮件",value:"e",pattern:/^([\w]+\.*)([\w]+)@[\w]+\.\w{3}(\.\w{2}|)$/},{title:"手机号码",value:"m",pattern:/^1[3456789]\d{9}$/},{title:"邮政编码",value:"p",pattern:/^[1-9]\d{5}$/},{title:"字母",value:"s",pattern:/^[A-Z|a-z]+$/},{title:"数字",value:"n",pattern:/^-?\d+\.?\d*$/},{title:"整数",value:"z",pattern:/^[1-9]\d*$/},{title:"非空",value:"*",pattern:/^.+$/},{title:"6到18位字符串",value:"s6-18",pattern:/^.{6,18}$/},{title:"金额",value:"money",pattern:/^(([1-9][0-9]*)|([0]\.\d{0,2}|[1-9][0-9]*\.\d{0,2}))$/}],u=!1,c=0,d=l;c<d.length;c++){var f=d[c];if(a.pattern===f.value&&f.pattern){n=new RegExp(f.pattern).test(t),u=!0;break}}u||(n=new RegExp(a.pattern).test(t))}if(!n){r=a.message;break}}}catch(p){i.e(p)}finally{i.f()}}return[n,r]},updateFormValues:function(){var e,t=this,n=this.el.tbody.getElementsByClassName("tr"),r=[],o=v(n);try{for(o.s();!(e=o.n()).done;){var i=e.value;r.push(i)}}catch(h){o.e(h)}finally{o.f()}var a=r;if(this.visibleTrEls.length>0){a=[];var s,l=v(r);try{for(l.s();!(s=l.n()).done;){var u,c=s.value,d=!0,f=v(this.visibleTrEls);try{for(f.s();!(u=f.n()).done;){var p=u.value;if(p.id===c.id){d=!1;break}}}catch(h){f.e(h)}finally{f.f()}d&&a.push(c)}}catch(h){l.e(h)}finally{l.f()}}this.visibleTrEls=r,a.forEach((function(e){var n=e.dataset.idx,r=t.inputValues[n];for(var o in r)if(r.hasOwnProperty(o)){var i="".concat(o).concat(r.id),a=document.getElementById(i);a&&(a.value=r[o])}}))},forceUpdateFormValues:function(){this.visibleTrEls=[],this.updateFormValues()},handleChangeCheckedAll:function(){var e=this,t=[];this.getSelectAll||this.rows.forEach((function(n){-1===(e.disabledRowIds||[]).indexOf(n.id)&&t.push(n.id)})),this.selectedRowIds=t},handleChangeLeftCheckbox:function(e){var t=e.target.id;if(-1===(this.disabledRowIds||[]).indexOf(t)){var n=this.selectedRowIds.indexOf(t);-1!==n?this.selectedRowIds.splice(n,1):this.selectedRowIds.push(t)}},handleClickAdd:function(){this.add()},handleConfirmDelete:function(){this.removeSelectedRows()},handleClickClearSelect:function(){this.selectedRowIds=[]},handleSearchSelect:function(e,t,n,r){if(!0===r.allowInput){var o,i=!1,a=v(r.options);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.value.toLocaleString()===e.toLocaleString()){i=!0;break}}}catch(l){a.e(l)}finally{a.f()}!i&&e&&r.options.push({title:e,value:e,searchAdd:!0})}},handleBlurSearch:function(e,t,n,r){if(!0===r.allowInput&&"string"===typeof e){var o=[];r.options.forEach((function(t,n){t.value.toLocaleString()===e.toLocaleString()?delete t.searchAdd:!0===t.searchAdd&&o.push(n)}));var i,a=v(o.reverse());try{for(a.s();!(i=a.n()).done;){var s=i.value;r.options.splice(s,1)}}catch(l){a.e(l)}finally{a.f()}}},handleDragMoveEnd:function(e){var t=this,n=e.oldIndex,r=e.newIndex,o=this.inputValues,i=o[n];o.splice(n,1),o.splice(r,0,i),o.forEach((function(e,n){e[t.dragSortKey]=n+1})),this.forceUpdateFormValues(),this.$emit("dragged",{oldIndex:n,newIndex:r,target:this})},handleMouseoverCommono:function(e,t){var n=t.key+e.id;-1!==this.notPassedIds.indexOf(n)&&this.showOrHideTooltip(n,!0)},handleMouseoutCommono:function(e,t){var n=t.key+e.id;this.showOrHideTooltip(n,!1)},handleInputCommono:function(e,t,n,r){var o=e.value,i=e.dataset,a=e.selectionStart,s=u["a"].input,l=!0;if("true"==="".concat(i.inputNumber)){s=u["a"].inputNumber;var c=o.replace(/[^0-9]/g,"");o!==c&&(l=!1,o=c,e.value=c,"number"===typeof a&&(e.selectionStart=a-1,e.selectionEnd=a-1))}this.inputValues[t][r.key]=o,this.validateOneInput(o,n,r,this.notPassedIds,!0),l&&this.elemValueChange(s,n,r,o)},handleChangeCheckboxCommon:function(e,t,n){var r=e.target,o=r.id,i=r.checked;this.checkboxValues=this.bindValuesChange(i,o,"checkboxValues"),this.elemValueChange(u["a"].checkbox,t,n,i)},handleChangeSelectCommon:function(e,t,n,r){this.selectValues=this.bindValuesChange(e,t,"selectValues"),this.validateOneInput(e,n,r,this.notPassedIds,!0),this.elemValueChange(u["a"].select,n,r,e)},handleChangeJDateCommon:function(e,t,n,r,o){this.jdateValues=this.bindValuesChange(e,t,"jdateValues"),this.validateOneInput(e,n,r,this.notPassedIds,!0),o?this.elemValueChange(u["a"].datetime,n,r,e):this.elemValueChange(u["a"].date,n,r,e)},handleChangeUpload:function(e,t,n,r){var o=e.file,i={name:o.name,type:o.type,size:o.size,status:o.status,percent:o.percent};r.responseName&&o.response&&(i["responseName"]=o.response[r.responseName]),this.uploadValues=this.bindValuesChange(i,t,"uploadValues")},bindValuesChange:function(e,t,n){var r=Object.assign({},this[n]);return r[t]=e,r},showOrHideTooltip:function(e,t){var n=Object.assign({},this.tooltips);n[e]=n[e]?n[e]:{},n[e].visible=t,this.tooltips=n},elemValueChange:function(e,t,n,r){var o=Object.assign({},n),i=Object.assign({},t);i.id=this.removeCaseId(i.id);var a=this.getValuesSync({validate:!1,rowIds:[i.id]}),s=a.values;s.length>0&&Object.assign(i,s[0]),this.$emit("valueChange",{type:e,row:i,column:o,value:r,target:this})},removeCaseId:function(e){var t=e.split(this.caseId)[1];return t||e},handleClickDelFile:function(e){this.uploadValues[e]=null},_loadDictConcatToOptions:function(e){Object(f["b"])(e.dictCode).then((function(t){if(t.success){var n=e.options||[];t.result.forEach((function(e){var t,r=v(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.value===e.value)return}}catch(i){r.e(i)}finally{r.f()}n.push(e)})),e.options=n}}))},log:console.log,getVM:function(){return this},getParentContainer:function(e){var t=this,n=function(){if(t.$el&&8!==t.$el.nodeType)return t.$el;var n=document.getElementById(t.caseId+"inputTable");return null!=n?n:e.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode}(),r=function e(t){var n=null;if(t["currentStyle"]?n=t["currentStyle"]["overflow"]:window.getComputedStyle&&(n=window.getComputedStyle(t)["overflow"]),null!=n){if("hidden"===n){var r=e(t.parentNode);return null!=r?r:t.parentNode}return t.parentNode&&"body"!==t.parentNode.tagName.toLocaleLowerCase()?e(t.parentNode):null}return t},o=r(n);return null!=o?o:n},replaceProps:function(e,t){return t&&"string"===typeof t&&(t=t.replace(/\${title}/g,e.title),t=t.replace(/\${key}/g,e.key),t=t.replace(/\${defaultValue}/g,e.defaultValue)),t},buildTrStyle:function(e){return{top:"".concat(w*e,"px")}},buildTdStyle:function(e){var t={};e.width?t["width"]=e.width:this.columns?t["width"]="".concat(92/this.columns.length,"%"):t["width"]="120px";var n=e.type===u["a"].checkbox;return n&&(t["align-items"]="center",t["text-align"]="center",t["padding-left"]="0",t["padding-right"]="0"),t},buildProps:function(e,t){var n={};if("object"===x(t.props))for(var r in t.props)t.props.hasOwnProperty(r)&&(n[r]=this.replaceProps(t,t.props[r]));return t.type===u["a"].select&&!0===t.allowInput&&(n["showSearch"]=!0),n["disabled"]=!!t["disabled"],!0!==n["disabled"]&&(n["disabled"]=-1!==(this.disabledRowIds||[]).indexOf(e.id)),!0===this.disabled&&(n["disabled"]=!0),n},uploadGetHeaders:function(e,t){var n={};return!0===t.token&&(n["X-Access-Token"]=this.accessToken),n}}},C=_,S=(n("8123"),n("5d22")),k=Object(S["a"])(C,r,o,!1,null,"4a545796",null);t["default"]=k.exports},"77fc":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{"margin-top":"-70px"},attrs:{width:e.modalWidth,visible:e.visible,title:e.title,cancelText:"关闭",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleSubmit,cancel:e.close}},[n("a-row",{staticStyle:{"background-color":"#ececec",padding:"10px",margin:"-10px"},attrs:{gutter:10}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("a-directory-tree",{attrs:{selectable:"",selectedKeys:e.selectedKeys,checkStrictly:!0,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree},on:{select:this.onSelect}})],1)],1),n("a-col",{attrs:{md:18,sm:24}},[n("a-card",{attrs:{bordered:!1}},[e._v("\n        用户账号:\n        "),n("a-input-search",{style:{width:"150px",marginBottom:"15px"},attrs:{placeholder:"请输入用户账号"},on:{search:e.onSearch},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}}),n("a-button",{staticStyle:{"margin-left":"20px"},attrs:{icon:"redo"},on:{click:function(t){return e.searchReset(1)}}},[e._v("重置")]),n("a-table",{ref:"table",attrs:{scroll:e.scrollTrigger,size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange}})],1)],1)],1)],1)},o=[],i=n("ca00"),a=n("4ec3"),s={name:"JSearchUserByDep",components:{},data:function(){return{queryParam:{username:""},columns:[{title:"用户账号",align:"center",dataIndex:"username"},{title:"真实姓名",align:"center",dataIndex:"realname"},{title:"角色名称",align:"center",dataIndex:"roleName"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return 1===e?"男":2===e?"女":e}},{title:"手机号码",align:"center",dataIndex:"phone"},{title:"邮箱",align:"center",dataIndex:"email"}],scrollTrigger:{},dataSource:[],selectedKeys:[],userNameArr:[],departName:"",userRolesMap:{},title:"",ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},selectedRowKeys:[],selectedRows:[],modalWidth:1250,departTree:[],visible:!1,form:this.$form.createForm(this)}},created:function(){this.resetScreenSize(),this.queryUserRoleMap()},methods:{loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(a["v"])(n).then((function(e){e.success&&(t.dataSource=e.result.records,t.assignRoleName(t.dataSource),t.ipagination.total=e.result.total)}))},queryUserRoleMap:function(){var e=this;Object(a["H"])().then((function(t){t.success&&(e.userRolesMap=t.result,e.loadData())}))},resetScreenSize:function(){var e=document.body.clientWidth;this.scrollTrigger=e<500?{x:800}:{}},showModal:function(){this.visible=!0,this.assignRoleName(this.dataSource),this.queryDepartTree(),this.form.resetFields()},getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(i["b"])(e)},getQueryField:function(){for(var e="id,",t=0;t<this.columns.length;t++)e+=","+this.columns[t].dataIndex;return e},searchReset:function(e){var t=this;0!==e&&(t.queryParam={},t.loadData(1)),t.selectedRowKeys=[],t.userNameArr=[],t.selectedKeys=[]},close:function(){this.searchReset(0),this.visible=!1},handleTableChange:function(e,t,n){Object.keys(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"===n.order?"asc":"desc"),this.ipagination=e,this.loadData()},handleSubmit:function(){for(var e=this,t=0,n=this.selectedRowKeys.length;t<n;t++)this.getUserNames(this.selectedRowKeys[t]);e.$emit("ok",e.userNameArr.join(",")),e.close()},getUserNames:function(e){for(var t=this.dataSource,n=0,r=t.length;n<r;n++)e===t[n].id&&this.userNameArr.push(t[n].realname)},onSelect:function(e){null!=e[0]&&(this.queryUserByDepId(e),this.selectedKeys[0]!==e[0]&&(this.selectedKeys=[e[0]]))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onSearch:function(){this.loadData(1)},queryUserByDepId:function(e){var t=this;Object(a["F"])({id:e.toString()}).then((function(e){e.success&&(t.dataSource=e.result,t.ipagination.total=e.result.length,t.assignRoleName(t.dataSource))}))},queryUserRole:function(e){var t=this.userRolesMap,n=[];for(var r in t)e===r&&n.push(t[r]);return n.join(",")},queryDepartTree:function(){var e=this;Object(a["x"])().then((function(t){t.success&&(e.departTree=t.result)}))},assignRoleName:function(e){for(var t="",n="",r=0,o=e.length;r<o;r++)t=this.dataSource[r].id,n=this.queryUserRole(t),this.dataSource[r].roleName=n},modalFormOk:function(){this.loadData()}}},l=s,u=(n("6214"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"98ae91aa",null);t["default"]=c.exports},7837:function(e,t,n){},7838:function(e,t,n){"use strict";n("6cfe")},7896:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",[n("a-button",{attrs:{type:"primary",icon:"desktop"},on:{click:e.splitPane}},[e._v("点我分屏")]),n("split-panel-modal",{ref:"splitPanelModal"})],1)},o=[],i=n("5d1e"),a={name:"SplitPanel",components:{SplitPanelModal:i["default"]},data:function(){return{description:"分屏"}},methods:{splitPane:function(){this.$refs.splitPanelModal.show()}}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"20bcecf1",null);t["default"]=u.exports},"79c3":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"0px"},attrs:{title:"订单详情",width:e.modelWidth,visible:e.visible,bodyStyle:e.bodyStyle,confirmLoading:e.confirmLoading,cancelText:"关闭",footer:null},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-steps",{staticStyle:{"padding-left":"30px","padding-right":"30px","padding-top":"15px"},attrs:{current:e.formatStepStatus(e.model.status)}},[n("a-step",{attrs:{title:"提交订单",description:e.formatTime(e.model.createTime)}}),n("a-step",{attrs:{title:"支付订单",description:e.formatTime(e.model.paymentTime)}}),n("a-step",{attrs:{title:"平台发货",description:e.formatTime(e.model.deliveryTime)}}),n("a-step",{attrs:{title:"确认收货",description:e.formatTime(e.model.receiveTime)}}),n("a-step",{attrs:{title:"完成评价",description:e.formatTime(e.model.commentTime)}})],1),n("a-card",{staticStyle:{"margin-top":"15px"}},[n("div",{staticStyle:{"margin-bottom":"15px",color:"green"}},[e._v("当前订单状态："+e._s(e._f("formatStatus")(e.model.status)))]),n("a-card",{attrs:{title:"基本信息"}},[n("div",{staticClass:"table-layout"},[n("a-row",[n("a-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("订单编号")]),n("a-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("发货单流水号")]),n("a-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("用户")]),n("a-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("支付方式")]),n("a-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("订单类型")]),1==e.model.orderType?n("a-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("预约时间")]):e._e()],1),n("a-row",[n("a-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e.model.orderSn))]),n("a-col",{staticClass:"table-cell",attrs:{span:4}},[e._v("暂无")]),n("a-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e.model.userName))]),n("a-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e._f("formatPayType")(e.model.payType)))]),n("a-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e._f("formatOrderType")(e.model.orderType)))]),1==e.model.orderType?n("a-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e.model.appointTime))]):e._e()],1),n("a-row",{staticStyle:{"margin-top":"15px"}},[n("a-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("配送方式")]),n("a-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("物流单号")]),n("a-col",{staticClass:"table-cell-title",attrs:{span:4}},[e._v("自动确认收货时间")])],1),n("a-row",[n("a-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e._f("formatNull")(e.model.deliveryCompany)))]),n("a-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e._f("formatNull")(e.model.deliverySn)))]),n("a-col",{staticClass:"table-cell",attrs:{span:4}},[e._v(e._s(e.model.autoConfirmDay)+"天")])],1)],1)]),n("a-card",{staticStyle:{"margin-top":"10px"},attrs:{title:"收货人信息"}},[n("div",{staticClass:"table-layout"},[n("a-row",[n("a-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("收货人")]),n("a-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("手机号码")]),n("a-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("邮政编码")]),n("a-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("收货地址")])],1),n("a-row",[n("a-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.model.receiverName))]),n("a-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.model.receiverPhone))]),n("a-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e.model.receiverPostCode))]),n("a-col",{staticClass:"table-cell",attrs:{span:6}},[e._v(e._s(e._f("formatAddress")(e.model)))])],1)],1)]),n("a-card",{staticStyle:{"margin-top":"10px"},attrs:{title:"商品信息"}},[n("a-table",{ref:"modelItemTable",staticStyle:{width:"100%","margin-top":"10px"},attrs:{dataSource:e.model.orderItemList,columns:e.orderItemColumns,pagination:!1,bordered:""},scopedSlots:e._u([{key:"productPic",fn:function(t,r){return[n("img",{staticStyle:{height:"80px"},attrs:{src:e.formatPicture(r.productPic)}})]}},{key:"productName",fn:function(t,r){return[n("p",[e._v(e._s(r.productName))]),n("p",[e._v("品牌："+e._s(r.productBrand))])]}},{key:"productPrice",fn:function(t,r){return[n("p",[e._v("价格：￥"+e._s(r.productPrice))]),n("p",[e._v("货号："+e._s(r.productSn))])]}},{key:"productAttr",fn:function(t,n){return[e._v("\n            "+e._s(e._f("formatProductAttr")(n.productAttr))+"\n          ")]}},{key:"productPriceTotal",fn:function(t,n){return[e._v("\n            ￥"+e._s(n.productPrice*n.productQuantity)+"\n          ")]}}])}),n("div",{staticStyle:{float:"right",margin:"20px"}},[e._v("\n          合计："),n("span",{staticClass:"color-danger"},[e._v("￥"+e._s(e.model.totalAmount))])])],1),n("a-card",{staticStyle:{"margin-top":"10px"},attrs:{title:"费用信息"}},[n("div",{staticClass:"table-layout"},[n("a-row",[n("a-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("商品合计")]),n("a-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("运费")]),n("a-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("优惠券")]),n("a-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("积分抵扣")])],1),n("a-row",[n("a-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("￥"+e._s(e.model.totalAmount))]),n("a-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("￥"+e._s(e.model.freightAmount))]),n("a-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("-￥"+e._s(e.model.couponAmount))]),n("a-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("-￥"+e._s(e.model.integrationAmount))])],1),n("a-row",{staticStyle:{"margin-top":"20px"}},[n("a-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("活动优惠")]),n("a-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("折扣金额")]),n("a-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("订单总金额")]),n("a-col",{staticClass:"table-cell-title",attrs:{span:6}},[e._v("应付款金额")])],1),n("a-row",[n("a-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("-￥"+e._s(e.model.promotionAmount))]),n("a-col",{staticClass:"table-cell",attrs:{span:6}},[e._v("-￥"+e._s(e.model.discountAmount))]),n("a-col",{staticClass:"table-cell",attrs:{span:6}},[n("span",{staticClass:"color-danger"},[e._v("￥"+e._s(e.model.totalAmount+e.model.freightAmount))])]),n("a-col",{staticClass:"table-cell",attrs:{span:6}},[n("span",{staticClass:"color-danger"},[e._v("￥"+e._s(e.model.payAmount+e.model.freightAmount-e.model.discountAmount))])])],1)],1)]),n("a-card",{staticStyle:{"margin-top":"10px"},attrs:{title:"操作信息"}},[n("a-table",{ref:"modelItemTable",staticStyle:{width:"100%","margin-top":"10px"},attrs:{dataSource:e.model.historyList,columns:e.hisotryItemColumns,pagination:!1,bordered:""},scopedSlots:e._u([{key:"orderStatus",fn:function(t,r){return n("span",{},[e._v("\n            "+e._s(e._f("formatStatus")(r.orderStatus))+"\n          ")])}}])})],1)],1)],1)],1)},o=[],i=n("0fea"),a=(n("85ee"),n("caaf"),{name:"OmsmodelModal",data:function(){return{title:"操作",visible:!1,bodyStyle:{padding:"0"},modelWidth:window.innerWidth-100,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,url:{detail:"/mall/omsOrder/queryById"},hisotryItemColumns:[{title:"操作人",align:"center",dataIndex:"operateMan"},{title:"操作时间",align:"center",dataIndex:"createTime"},{title:"订单状态",align:"center",dataIndex:"orderStatus",scopedSlots:{customRender:"orderStatus"}},{title:"备注",align:"center",dataIndex:"note"}],orderItemColumns:[{title:"商品图片",align:"center",dataIndex:"productPic",scopedSlots:{customRender:"productPic"}},{title:"商品名称",align:"center",dataIndex:"productName",scopedSlots:{customRender:"productName"}},{title:"价格/货号",align:"center",dataIndex:"productPrice",scopedSlots:{customRender:"productPrice"}},{title:"属性",align:"center",dataIndex:"productAttr",scopedSlots:{customRender:"productAttr"}},{title:"数量",align:"center",dataIndex:"productQuantity",scopedSlots:{customRender:"productQuantity"}},{title:"小计",align:"center",scopedSlots:{customRender:"productPriceTotal"}}]}},created:function(){},methods:{formatPicture:function(e){return window._CONFIG["imageViewURL"]+"/"+e},add:function(){this.edit({})},edit:function(e){this.visible=!0,this.getDetailById(e)},getDetailById:function(e){var t=this;Object(i["c"])(this.url.detail,{id:e.id}).then((function(e){e.success&&(t.model=e.result)}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){},handleCancel:function(){this.close()},formatStepStatus:function(e){return 1===e?2:2===e?3:3===e?4:1},formatTime:function(e){if(null==e||""===e)return"";new Date(e);return e}},filters:{formatNull:function(e){return void 0===e||null===e||""===e?"暂无":e},formatStatus:function(e){return 0===e?"待付款":1===e?"待发货":2===e?"已发货":3===e?"待评价":4===e?"已完成":5===e?"退款中":6===e?"已退款":7===e?"已关闭":8===e?"无效订单":"未知状态"},formatPayStatus:function(e){return 0===e?"未支付":4===e?"已退款":"已支付"},formatDeliverStatus:function(e){return 0===e||1===e?"未发货":"已发货"},formatAddress:function(e){var t=e.receiverProvince;return null!=e.receiverCity&&(t+="  "+e.receiverCity),t+="  "+e.receiverRegion,t+="  "+e.receiverDetailAddress,t},formatPayType:function(e){return 1===e?"支付宝":2===e?"微信":"未支付"},formatOrderType:function(e){return 1===e?"服务订单":"实物订单"},formatProductAttr:function(e){if(null==e)return"";for(var t=JSON.parse(e),n="",r=0;r<t.length;r++)n+=t[r].key.replace(/（.*）/,""),n+="：",n+=t[r].value,n+="；";return n}}}),s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"28095148",null);t["default"]=u.exports},"7a9d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:10}},[n("a-form-item",{attrs:{label:"任务类名"}},[n("a-input",{attrs:{placeholder:"请输入任务类名"},model:{value:e.queryParam.jobClassName,callback:function(t){e.$set(e.queryParam,"jobClassName",t)},expression:"queryParam.jobClassName"}})],1)],1),n("a-col",{attrs:{md:6,sm:10}},[n("a-form-item",{attrs:{label:"任务状态"}},[n("a-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择状态"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[n("a-select-option",{attrs:{value:""}},[e._v("全部")]),n("a-select-option",{attrs:{value:"0"}},[e._v("正常")]),n("a-select-option",{attrs:{value:"-1"}},[e._v("停止")])],1)],1)],1),n("a-col",{attrs:{md:6,sm:10}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("定时任务信息")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"description",fn:function(e){return n("span",{},[n("j-ellipsis",{attrs:{value:e,length:25}})],1)}},{key:"action",fn:function(t,r){return n("span",{},[-1==r.status?n("a",{on:{click:function(t){return e.resumeJob(r)}}},[e._v("启动")]):e._e(),0==r.status?n("a",{on:{click:function(t){return e.pauseJob(r)}}},[e._v("停止")]):e._e(),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}},{key:"customRenderStatus",fn:function(t){return[0==t?n("a-tag",{attrs:{color:"green"}},[e._v("已启动")]):e._e(),-1==t?n("a-tag",{attrs:{color:"orange"}},[e._v("已暂停")]):e._e()]}}])})],1),n("quartzJob-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("077e"),a=n("0fea"),s=n("b65a"),l=n("d579"),u={name:"QuartzJobList",mixins:[s["a"]],components:{QuartzJobModal:i["default"],JEllipsis:l["default"]},data:function(){return{description:"定时任务在线管理",queryParam:{},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"任务类名",align:"center",dataIndex:"jobClassName",sorter:!0},{title:"cron表达式",align:"center",dataIndex:"cronExpression"},{title:"参数",align:"center",dataIndex:"parameter"},{title:"描述",align:"center",width:300,dataIndex:"description",scopedSlots:{customRender:"description"}},{title:"状态",align:"center",dataIndex:"status",scopedSlots:{customRender:"customRenderStatus"},filterMultiple:!1,filters:[{text:"已启动",value:"0"},{text:"已暂停",value:"-1"}]},{title:"操作",dataIndex:"action",align:"center",width:180,scopedSlots:{customRender:"action"}}],url:{list:"/sys/quartzJob/list",delete:"/sys/quartzJob/delete",deleteBatch:"/sys/quartzJob/deleteBatch",pause:"/sys/quartzJob/pause",resume:"/sys/quartzJob/resume",exportXlsUrl:"sys/quartzJob/exportXls",importExcelUrl:"sys/quartzJob/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{handleTableChange:function(e,t,n){Object.keys(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"==n.order?"asc":"desc"),this.filters.status=t.status[0],this.ipagination=e,this.loadData()},pauseJob:function(e){var t=this;this.$confirm({title:"确认暂停",content:"是否暂停选中任务?",onOk:function(){Object(a["c"])(t.url.pause,{jobClassName:e.jobClassName}).then((function(e){e.success?(t.$message.success(e.message),t.loadData(),t.onClearSelected()):t.$message.warning(e.message)}))}})},resumeJob:function(e){var t=this;this.$confirm({title:"确认启动",content:"是否启动选中任务?",onOk:function(){Object(a["c"])(t.url.resume,{jobClassName:e.jobClassName}).then((function(e){e.success?(t.$message.success(e.message),t.loadData(),t.onClearSelected()):t.$message.warning(e.message)}))}})}}},c=u,d=(n("ac12"),n("5d22")),f=Object(d["a"])(c,r,o,!1,null,"1f1eedc3",null);t["default"]=f.exports},"7b05":function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){while(e.length>1){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)"undefined"!==typeof n[i]&&r.push(n[i]);t.obj[t.prop]=r}}},s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n},l=function e(t,n,i){if(!n)return t;if("object"!==typeof n){if(o(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(i&&(i.plainObjects||i.allowPrototypes)||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var a=t;return o(t)&&!o(n)&&(a=s(t,i)),o(t)&&o(n)?(n.forEach((function(n,o){if(r.call(t,o)){var a=t[o];a&&"object"===typeof a&&n&&"object"===typeof n?t[o]=e(a,n,i):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var a=n[o];return r.call(t,o)?t[o]=e(t[o],a,i):t[o]=a,t}),a)},u=function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},c=function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(o){return r}},d=function(e,t,n){if(0===e.length)return e;var r="string"===typeof e?e:String(e);if("iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var o="",a=0;a<r.length;++a){var s=r.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?o+=r.charAt(a):s<128?o+=i[s]:s<2048?o+=i[192|s>>6]+i[128|63&s]:s<55296||s>=57344?o+=i[224|s>>12]+i[128|s>>6&63]+i[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&r.charCodeAt(a)),o+=i[240|s>>18]+i[128|s>>12&63]+i[128|s>>6&63]+i[128|63&s])}return o},f=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],s=Object.keys(i),l=0;l<s.length;++l){var u=s[l],c=i[u];"object"===typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:i,prop:u}),n.push(c))}return a(t),e},p=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},h=function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},m=function(e,t){return[].concat(e,t)};e.exports={arrayToObject:s,assign:u,combine:m,compact:f,decode:c,encode:d,isBuffer:h,isRegExp:p,merge:l}},"7bcc":function(e,t,n){},"7c33":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1e3,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleName",e.validatorRules.ruleName],expression:"['ruleName', validatorRules.ruleName]"}],attrs:{placeholder:"请输入规则名称"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showRuleColumn,expression:"showRuleColumn"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则字段"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleColumn",e.validatorRules.ruleColumn],expression:"['ruleColumn', validatorRules.ruleColumn]"}],attrs:{placeholder:"请输入规则字段"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"条件规则"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleConditions",e.validatorRules.ruleConditions],expression:"['ruleConditions', validatorRules.ruleConditions]"}],attrs:{placeholder:"请输入条件规则",triggerChange:!0,dictCode:"rule_conditions"},on:{change:e.handleChangeRuleCondition}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"规则值"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ruleValue",e.validatorRules.ruleValue],expression:"['ruleValue', validatorRules.ruleValue]"}],attrs:{placeholder:"请输入规则值"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态"}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:"1"}],expression:"['status',{initialValue:'1'}]"}],attrs:{buttonStyle:"solid"}},[n("a-radio-button",{attrs:{value:"1"}},[e._v("有效")]),n("a-radio-button",{attrs:{value:"0"}},[e._v("无效")])],1)],1)],1)],1)],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l={name:"PermissionDataRuleModal",data:function(){return{queryParam:{},title:"操作",visible:!1,model:{},ruleConditionList:[],labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),permissionId:"",validatorRules:{ruleConditions:{rules:[{required:!0,message:"请选择条件!"}]},ruleName:{rules:[{required:!0,message:"请输入规则名称!"}]},ruleValue:{rules:[{required:!0,message:"请输入规则值!"}]},ruleColumn:{rules:[]}},url:{list:"/sys/dictItem/list",add:"/sys/permission/addPermissionRule",edit:"/sys/permission/editPermissionRule"},showRuleColumn:!0}},created:function(){},methods:{add:function(e){this.permissionId=e,this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),e.permissionId?this.model.permissionId=e.permissionId:this.model.permissionId=this.permissionId,this.visible=!0,this.initRuleCondition(),this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"status","ruleName","ruleColumn","ruleConditions","ruleValue"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);s.ruleColumn&&s.ruleColumn.length>0&&(s.ruleColumn=s.ruleColumn.trim()),s.ruleValue&&s.ruleValue.length>0&&(s.ruleValue=s.ruleValue.trim()),Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},initRuleCondition:function(){this.model.ruleConditions&&"USE_SQL_RULES"==this.model.ruleConditions?this.showRuleColumn=!1:this.showRuleColumn=!0},handleChangeRuleCondition:function(e){"USE_SQL_RULES"==e?(this.form.setFieldsValue({ruleColumn:""}),this.showRuleColumn=!1):this.showRuleColumn=!0}}},u=l,c=n("5d22"),d=Object(c["a"])(u,r,o,!1,null,"3e96f1f8",null);t["default"]=d.exports},"7c93":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"导入EXCEL",width:600,visible:e.visible,confirmLoading:e.uploading},on:{cancel:e.handleClose}},[n("a-upload",{attrs:{name:"file",multiple:!0,accept:".xls,.xlsx",fileList:e.fileList,remove:e.handleRemove,beforeUpload:e.beforeUpload}},[n("a-button",[n("a-icon",{attrs:{type:"upload"}}),e._v("\n      选择导入文件\n    ")],1)],1),n("template",{slot:"footer"},[n("a-button",{on:{click:e.handleClose}},[e._v("关闭")]),n("a-button",{attrs:{type:"primary",disabled:0===e.fileList.length,loading:e.uploading},on:{click:e.handleImport}},[e._v("\n      "+e._s(e.uploading?"上传中...":"开始上传")+"\n    ")])],1)],2)},o=[],i=n("0fea");function a(e){return c(e)||u(e)||l(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function u(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={name:"JImportModal",props:{url:{type:String,default:"",required:!1}},data:function(){return{visible:!1,uploading:!1,fileList:[],uploadAction:""}},watch:{url:function(e){e&&(this.uploadAction=window._CONFIG["domianURL"]+e)}},created:function(){this.uploadAction=window._CONFIG["domianURL"]+this.url},methods:{handleClose:function(){this.visible=!1},show:function(){this.fileList=[],this.uploading=!1,this.visible=!0},handleRemove:function(e){var t=this.fileList.indexOf(e),n=this.fileList.slice();n.splice(t,1),this.fileList=n},beforeUpload:function(e){return this.fileList=[].concat(a(this.fileList),[e]),!1},handleImport:function(){var e=this,t=this.fileList,n=new FormData;t.forEach((function(e){n.append("files[]",e)})),this.uploading=!0,Object(i["h"])(this.uploadAction,n).then((function(t){e.uploading=!1,t.success?(e.$message.success(t.message),e.visible=!1,e.$emit("ok")):e.$message.warning(t.message)}))}}},p=f,h=n("5d22"),m=Object(h["a"])(p,r,o,!1,null,"6f1e59ad",null);t["default"]=m.exports},"7db6":function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");function t(){e.add("textcolor",(function(){}))}t()})()},"7dc6":function(e,t,n){},"7ebf":function(e,t,n){"use strict";n("c804")},"7f96":function(e,t,n){"use strict";n("084b")},"7fb9":function(e,t,n){n("0fe2")},"7fff":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"订单编号"}},[n("a-input",{attrs:{placeholder:"请输入订单编号"},model:{value:e.queryParam.orderSn,callback:function(t){e.$set(e.queryParam,"orderSn",t)},expression:"queryParam.orderSn"}})],1)],1),n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"订单状态"}},[n("a-select",{attrs:{placeholder:"请选择订单状态"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[n("a-select-option",{attrs:{value:"0"}},[e._v("待付款")]),n("a-select-option",{attrs:{value:"1"}},[e._v("待发货")]),n("a-select-option",{attrs:{value:"2"}},[e._v("已发货")]),n("a-select-option",{attrs:{value:"3"}},[e._v("待评价")]),n("a-select-option",{attrs:{value:"4"}},[e._v("已完成")]),n("a-select-option",{attrs:{value:"5"}},[e._v("退款中")]),n("a-select-option",{attrs:{value:"6"}},[e._v("已退款")]),n("a-select-option",{attrs:{value:"7"}},[e._v("已关闭")]),n("a-select-option",{attrs:{value:"8"}},[e._v("无效订单")])],1)],1)],1),n("a-col",{attrs:{md:8,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"small",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"orderSn",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v(e._s(r.orderSn))])])}},{key:"payType",fn:function(t,r){return n("span",{},["0"==r.payType?n("a-tag",[e._v("未支付")]):e._e(),"1"==r.payType?n("a-tag",{attrs:{color:"blue"}},[e._v("支付宝")]):e._e(),"2"==r.payType?n("a-tag",{attrs:{color:"green"}},[e._v("微信")]):e._e()],1)}}])})],1),n("omsOrder-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("79c3"),a=n("b65a"),s={name:"OmsOrderList",mixins:[a["a"]],components:{OmsOrderModal:i["default"]},data:function(){return{description:"订单信息管理页面",columns:[{title:"订单号",align:"center",dataIndex:"orderSn",scopedSlots:{customRender:"orderSn"}},{title:"总金额",align:"center",dataIndex:"totalAmount"},{title:"应付金额",align:"center",dataIndex:"payAmount"},{title:"运费",align:"center",dataIndex:"freightAmount"},{title:"优惠券抵扣",align:"center",dataIndex:"couponAmount"},{title:"公益币",align:"center",dataIndex:"coin"},{title:"支付方式",align:"center",dataIndex:"payType",scopedSlots:{customRender:"payType"}},{title:"订单状态",align:"center",dataIndex:"status",customRender:function(e,t,n){return"0"==t.status?"待付款":"1"==t.status?"待发货":"2"==t.status?"已发货":"3"==t.status?"待评价":"4"==t.status?"已完成":"5"==t.status?"退款中":"6"==t.status?"已退款":"7"==t.status?"已关闭":"8"==t.status?"无效订单":""}},{title:"支付成功",align:"center",dataIndex:"paySuccess",customRender:function(e,t,n){return"0"==t.paySuccess?"否":"1"==t.paySuccess?"是":void 0}},{title:"支付时间",align:"center",dataIndex:"paySuccessTime"}],url:{list:"/mall/omsOrder/list",delete:"/mall/omsOrder/delete",deleteBatch:"/mall/omsOrder/deleteBatch",exportXlsUrl:"mall/omsOrder/exportXls",importExcelUrl:"mall/omsOrder/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{}},l=s,u=(n("9008"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"46a253c0",null);t["default"]=c.exports},"806e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-row",{attrs:{gutter:10}},[n("a-col",{attrs:{md:8,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("div",{staticStyle:{background:"#fff","padding-left":"16px",height:"100%","margin-top":"5px"}},[n("a-input-search",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{placeholder:"请输入部门名称"},on:{search:e.onSearch}}),[n("a-directory-tree",{attrs:{selectable:"",selectedKeys:e.selectedKeys,checkStrictly:!0,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree},on:{select:e.onSelect}})]],2)])],1),n("a-col",{attrs:{md:16,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("a-tabs",{attrs:{defaultActiveKey:"2"},on:{change:e.callback}},[n("a-tab-pane",{key:"1",attrs:{tab:"基本信息",forceRender:""}},[n("Dept-Base-Info",{ref:"DeptBaseInfo"})],1),n("a-tab-pane",{key:"2",attrs:{tab:"用户信息"}},[n("Dept-User-Info",{ref:"DeptUserInfo"})],1)],1)],1)],1)],1)},o=[],i=n("e326"),a=n("5859"),s=n("4ec3"),l=n("b65a"),u={name:"DepartUserList",mixins:[l["a"]],components:{DeptBaseInfo:i["default"],DeptUserInfo:a["default"]},data:function(){return{currentDeptId:"",iExpandedKeys:[],loading:!1,autoExpandParent:!0,currFlowId:"",currFlowName:"",disable:!0,treeData:[],visible:!1,departTree:[],rightClickSelectedKey:"",hiding:!0,model:{},dropTrigger:"",depart:{},disableSubmit:!1,checkedKeys:[],selectedKeys:[],autoIncr:1,currSelected:{},form:this.$form.createForm(this),labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},graphDatasource:{nodes:[],edges:[]}}},methods:{callback:function(e){},loadData:function(){this.refresh()},loadTree:function(){var e=this,t=this;t.treeData=[],t.departTree=[],Object(s["x"])().then((function(n){if(n.success){for(var r=0;r<n.result.length;r++){var o=n.result[r];t.treeData.push(o),t.departTree.push(o),t.setThisExpandedKeys(o)}e.loading=!1}}))},setThisExpandedKeys:function(e){if(e.children&&e.children.length>0){this.iExpandedKeys.push(e.key);for(var t=0;t<e.children.length;t++)this.setThisExpandedKeys(e.children[t])}},refresh:function(){this.loading=!0,this.loadTree()},onExpand:function(e){this.iExpandedKeys=e,this.autoExpandParent=!1},onSearch:function(e){var t=this;e?Object(s["K"])({keyWord:e}).then((function(e){if(e.success){t.departTree=[];for(var n=0;n<e.result.length;n++){var r=e.result[n];t.departTree.push(r)}}else t.$message.warning(e.message)})):t.loadTree()},onCheck:function(e,t){var n=t.node.dataRef;this.checkedKeys=[],this.currentDeptId=n.id,this.checkedKeys.push(n.id),this.$refs.DeptBaseInfo.open(n),this.$refs.DeptUserInfo.open(n),this.hiding=!1},onSelect:function(e,t){this.selectedKeys[0]!==e[0]&&(this.selectedKeys=[e[0]]);var n=t.node.dataRef;this.checkedKeys.push(n.id),this.$refs.DeptBaseInfo.open(n),this.$refs.DeptUserInfo.onClearSelected(),this.$refs.DeptUserInfo.open(n)}},created:function(){this.currFlowId=this.$route.params.id,this.currFlowName=this.$route.params.name}},c=u,d=(n("7838"),n("5d22")),f=Object(d["a"])(c,r,o,!1,null,"c7b071ee",null);t["default"]=f.exports},"80a2":function(e,t,n){(function(t){var n="Expected a function",r="__lodash_hash_undefined__",o=1/0,i="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,c=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/[\\^$.*+?()[\]{}|]/g,p=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,m="object"==typeof t&&t&&t.Object===Object&&t,g="object"==typeof self&&self&&self.Object===Object&&self,v=m||g||Function("return this")();function y(e,t){return null==e?void 0:e[t]}function b(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}var x=Array.prototype,w=Function.prototype,_=Object.prototype,C=v["__core-js_shared__"],S=function(){var e=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),k=w.toString,O=_.hasOwnProperty,T=_.toString,M=RegExp("^"+k.call(O).replace(f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=v.Symbol,I=x.splice,E=ie(v,"Map"),A=ie(Object,"create"),L=D?D.prototype:void 0,j=L?L.toString:void 0;function N(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function P(){this.__data__=A?A(null):{}}function R(e){return this.has(e)&&delete this.__data__[e]}function B(e){var t=this.__data__;if(A){var n=t[e];return n===r?void 0:n}return O.call(t,e)?t[e]:void 0}function F(e){var t=this.__data__;return A?void 0!==t[e]:O.call(t,e)}function z(e,t){var n=this.__data__;return n[e]=A&&void 0===t?r:t,this}function V(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function H(){this.__data__=[]}function U(e){var t=this.__data__,n=Q(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():I.call(t,n,1),!0}function $(e){var t=this.__data__,n=Q(t,e);return n<0?void 0:t[n][1]}function q(e){return Q(this.__data__,e)>-1}function W(e,t){var n=this.__data__,r=Q(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function G(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Y(){this.__data__={hash:new N,map:new(E||V),string:new N}}function K(e){return oe(this,e)["delete"](e)}function X(e){return oe(this,e).get(e)}function J(e){return oe(this,e).has(e)}function Z(e,t){return oe(this,e).set(e,t),this}function Q(e,t){var n=e.length;while(n--)if(pe(e[n][0],t))return n;return-1}function ee(e,t){t=ae(t,e)?[t]:re(t);var n=0,r=t.length;while(null!=e&&n<r)e=e[ce(t[n++])];return n&&n==r?e:void 0}function te(e){if(!ge(e)||le(e))return!1;var t=me(e)||b(e)?M:h;return t.test(de(e))}function ne(e){if("string"==typeof e)return e;if(ye(e))return j?j.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}function re(e){return he(e)?e:ue(e)}function oe(e,t){var n=e.__data__;return se(t)?n["string"==typeof t?"string":"hash"]:n.map}function ie(e,t){var n=y(e,t);return te(n)?n:void 0}function ae(e,t){if(he(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ye(e))||(u.test(e)||!l.test(e)||null!=t&&e in Object(t))}function se(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function le(e){return!!S&&S in e}N.prototype.clear=P,N.prototype["delete"]=R,N.prototype.get=B,N.prototype.has=F,N.prototype.set=z,V.prototype.clear=H,V.prototype["delete"]=U,V.prototype.get=$,V.prototype.has=q,V.prototype.set=W,G.prototype.clear=Y,G.prototype["delete"]=K,G.prototype.get=X,G.prototype.has=J,G.prototype.set=Z;var ue=fe((function(e){e=be(e);var t=[];return c.test(e)&&t.push(""),e.replace(d,(function(e,n,r,o){t.push(r?o.replace(p,"$1"):n||e)})),t}));function ce(e){if("string"==typeof e||ye(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function de(e){if(null!=e){try{return k.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function fe(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new(fe.Cache||G),r}function pe(e,t){return e===t||e!==e&&t!==t}fe.Cache=G;var he=Array.isArray;function me(e){var t=ge(e)?T.call(e):"";return t==i||t==a}function ge(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ve(e){return!!e&&"object"==typeof e}function ye(e){return"symbol"==typeof e||ve(e)&&T.call(e)==s}function be(e){return null==e?"":ne(e)}function xe(e,t,n){var r=null==e?void 0:ee(e,t);return void 0===r?n:r}e.exports=xe}).call(this,n("2409"))},8123:function(e,t,n){"use strict";n("54c3")},8144:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["itemText",e.validatorRules.itemText],expression:"['itemText', validatorRules.itemText]"}],attrs:{placeholder:"请输入名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"数据值"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["itemValue",e.validatorRules.itemValue],expression:"['itemValue', validatorRules.itemValue]"}],attrs:{placeholder:"请输入数据值"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["description"],expression:"['description']"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序值"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sortOrder",{initialValue:1}],expression:"['sortOrder',{'initialValue':1}]"}],attrs:{min:1}}),e._v("\n        值越小越靠前，支持小数\n      ")],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否启用",hasFeedback:""}},[n("a-switch",{attrs:{checkedChildren:"启用",unCheckedChildren:"禁用"},on:{change:e.onChose},model:{value:e.visibleCheck,callback:function(t){e.visibleCheck=t},expression:"visibleCheck"}})],1)],1)],1)],1)},o=[],i=n("85ee"),a=n.n(i),s=n("4ec3"),l={name:"DictItemModal",data:function(){return{title:"操作",visible:!1,visibleCheck:!0,model:{},dictId:"",status:1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{itemText:{rules:[{required:!0,message:"请输入名称!"}]},itemValue:{rules:[{required:!0,message:"请输入数据值!"}]}}}},created:function(){},methods:{add:function(e){this.dictId=e,this.edit({})},edit:function(e){var t=this;e.id&&(this.dictId=e.dictId,this.visibleCheck=1==e.status),this.form.resetFields(),this.model=Object.assign({},e),this.model.dictId=this.dictId,this.model.status=this.status,this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(a()(t.model,"itemText","itemValue","description","sortOrder"))}))},onChose:function(e){e?(this.status=1,this.visibleCheck=!0):(this.status=0,this.visibleCheck=!1)},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0,r.itemText=(r.itemText||"").trim(),r.itemValue=(r.itemValue||"").trim(),r.description=(r.description||"").trim();var o,i=Object.assign(e.model,r);i.status=e.status,o=e.model.id?Object(s["o"])(i):Object(s["b"])(i),o.then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1}}},u=l,c=n("5d22"),d=Object(c["a"])(u,r,o,!1,null,null,null);t["default"]=d.exports},8191:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.data}},[n("v-tooltip"),n("v-axis"),n("v-legend"),n("v-bar",{attrs:{position:"x*y",color:"type",adjust:e.adjust}})],1)],1)},o=[],i=n("b74e"),a={name:"BarMultid",props:{title:{type:String,default:""},dataSource:{type:Array,default:function(){return[{type:"Jeecg","Jan.":18.9,"Feb.":28.8,"Mar.":39.3,"Apr.":81.4,May:47,"Jun.":20.3,"Jul.":24,"Aug.":35.6},{type:"Jeebt","Jan.":12.4,"Feb.":23.2,"Mar.":34.5,"Apr.":99.7,May:52.6,"Jun.":35.5,"Jul.":37.4,"Aug.":42.4}]}},fields:{type:Array,default:function(){return[]}},height:{type:Number,default:254}},data:function(){return{adjust:[{type:"dodge",marginRatio:1/32}]}},computed:{data:function(){var e=(new i["DataSet"].View).source(this.dataSource);return e.transform({type:"fold",fields:this.fields,key:"x",value:"y"}),e.rows.map((function(e){return e.x=e.x.replace(/[-/]/g,"_"),e}))}}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"a4de497a",null);t["default"]=u.exports},"81d1":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"head-info",class:e.center&&"center"},[n("span",[e._v(e._s(e.title))]),n("p",[e._v(e._s(e.content))]),e.bordered?n("em"):e._e()])},o=[],i={name:"HeadInfo",props:{title:{type:String,default:""},content:{type:String,default:""},bordered:{type:Boolean,default:!1},center:{type:Boolean,default:!0}}},a=i,s=(n("8519"),n("5d22")),l=Object(s["a"])(a,r,o,!1,null,"4d866d96",null);t["default"]=l.exports},"81d18":function(e,t,n){(function(e){(function(){"use strict";var t=function(){},n=function(e){return function(){return e()}},r=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},o=function(e,t){return function(n){return e(t(n))}},i=function(e){return function(){return e}},a=function(e){return e};function s(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var l=function(e){return function(t){return!e(t)}},u=function(e){return function(){throw new Error(e)}},c=i(!1),d=i(!0),f=tinymce.util.Tools.resolve("tinymce.ThemeManager"),p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},p.apply(this,arguments)};function h(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var g,v=function(){return y},y=function(){var e=function(e){return e.isNone()},n=function(e){return e()},r=function(e){return e},o={fold:function(e,t){return e()},is:c,isSome:c,isNone:d,getOr:r,getOrThunk:n,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:r,orThunk:n,map:v,each:t,bind:v,exists:c,forall:d,filter:v,equals:e,equals_:e,toArray:function(){return[]},toString:i("none()")};return o}(),b=function(e){var t=i(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:d,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return b(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:y},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(c,(function(t){return n(e,t)}))}};return o},x=function(e){return null===e||void 0===e?y:b(e)},w={some:b,none:v,from:x},_=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},C=function(e){return function(t){return _(t)===e}},S=function(e){return function(t){return typeof t===e}},k=function(e){return function(t){return e===t}},O=C("string"),T=C("object"),M=C("array"),D=S("boolean"),I=k(void 0),E=function(e){return null===e||void 0===e},A=function(e){return!E(e)},L=S("function"),j=S("number"),N=function(e,t){if(M(e)){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},P=Array.prototype.slice,R=Array.prototype.indexOf,B=Array.prototype.push,F=function(e,t){return R.call(e,t)},z=function(e,t){var n=F(e,t);return-1===n?w.none():w.some(n)},V=function(e,t){return F(e,t)>-1},H=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return!0}return!1},U=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},$=function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=P.call(e,r,r+t);n.push(o)}return n},q=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},W=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},G=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},Y=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o],s=t(a,o)?n:r;s.push(a)}return{pass:n,fail:r}},K=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},X=function(e,t,n){return G(e,(function(e){n=t(n,e)})),n},J=function(e,t,n){return W(e,(function(e){n=t(n,e)})),n},Z=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return w.some(i);if(n(i,r))break}return w.none()},Q=function(e,t){return Z(e,t,c)},ee=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return w.some(n)}return w.none()},te=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!M(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);B.apply(t,e[n])}return t},ne=function(e,t){return te(q(e,t))},re=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(!0!==t(o,n))return!1}return!0},oe=function(e){var t=P.call(e,0);return t.reverse(),t},ie=function(e,t){return K(e,(function(e){return!V(t,e)}))},ae=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},se=function(e,t){var n=P.call(e,0);return n.sort(t),n},le=function(e,t){return t>=0&&t<e.length?w.some(e[t]):w.none()},ue=function(e){return le(e,0)},ce=function(e){return le(e,e.length-1)},de=L(Array.from)?Array.from:function(e){return P.call(e)},fe=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return w.none()},pe=function(e){var t=function(t){return e===t},n=function(t){return pe(e)},r=function(t){return pe(e)},o=function(t){return pe(t(e))},a=function(t){return pe(e)},s=function(t){t(e)},l=function(t){return t(e)},u=function(t,n){return n(e)},f=function(t){return t(e)},p=function(t){return t(e)},h=function(){return w.some(e)};return{is:t,isValue:d,isError:c,getOr:i(e),getOrThunk:i(e),getOrDie:i(e),or:n,orThunk:r,fold:u,map:o,mapError:a,each:s,bind:l,exists:f,forall:p,toOptional:h}},he=function(e){var n=function(e){return e()},r=function(){return u(String(e))()},o=function(e){return e},i=function(e){return e()},s=function(t){return he(e)},l=function(t){return he(t(e))},f=function(t){return he(e)},p=function(t,n){return t(e)};return{is:c,isValue:c,isError:d,getOr:a,getOrThunk:n,getOrDie:r,or:o,orThunk:i,fold:p,map:s,mapError:l,each:t,bind:f,exists:c,forall:d,toOptional:w.none}},me=function(e,t){return e.fold((function(){return he(t)}),pe)},ge={value:pe,error:he,fromOption:me};(function(e){e[e["Error"]=0]="Error",e[e["Value"]=1]="Value"})(g||(g={}));var ve=function(e,t,n){return e.stype===g.Error?t(e.serror):n(e.svalue)},ye=function(e){var t=[],n=[];return W(e,(function(e){ve(e,(function(e){return n.push(e)}),(function(e){return t.push(e)}))})),{values:t,errors:n}},be=function(e,t){return e.stype===g.Error?{stype:g.Error,serror:t(e.serror)}:e},xe=function(e,t){return e.stype===g.Value?{stype:g.Value,svalue:t(e.svalue)}:e},we=function(e,t){return e.stype===g.Value?t(e.svalue):e},_e=function(e,t){return e.stype===g.Error?t(e.serror):e},Ce=function(e){return{stype:g.Value,svalue:e}},Se=function(e){return{stype:g.Error,serror:e}},ke=function(e){return ve(e,ge.error,ge.value)},Oe=function(e){return e.fold(Se,Ce)},Te={fromResult:Oe,toResult:ke,svalue:Ce,partition:ye,serror:Se,bind:we,bindError:_e,map:xe,mapError:be,fold:ve},Me=Object.keys,De=Object.hasOwnProperty,Ie=function(e,t){for(var n=Me(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i)}},Ee=function(e,t){return Ae(e,(function(e,n){return{k:n,v:t(e,n)}}))},Ae=function(e,t){var n={};return Ie(e,(function(e,r){var o=t(e,r);n[o.k]=o.v})),n},Le=function(e){return function(t,n){e[n]=t}},je=function(e,t,n,r){var o={};return Ie(e,(function(e,o){(t(e,o)?n:r)(e,o)})),o},Ne=function(e,n){var r={};return je(e,n,Le(r),t),r},Pe=function(e,t){var n=[];return Ie(e,(function(e,r){n.push(t(e,r))})),n},Re=function(e,t){for(var n=Me(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return w.some(a)}return w.none()},Be=function(e){return Pe(e,(function(e){return e}))},Fe=function(e,t){return ze(e,t)?w.from(e[t]):w.none()},ze=function(e,t){return De.call(e,t)},Ve=function(e,t){return ze(e,t)&&void 0!==e[t]&&null!==e[t]},He=function(e){if(!M(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return W(e,(function(r,o){var i=Me(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],s=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!M(s))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){var n=arguments.length;if(n!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];var l=function(e){var n=Me(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));var o=re(t,(function(e){return V(n,e)}));if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,r)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[o];return t.apply(null,r)},match:l,log:function(e){}}}})),n},Ue={generate:He},$e=Object.prototype.hasOwnProperty,qe=function(e,t){return t},We=function(e,t){var n=T(e)&&T(t);return n?Ye(e,t):t},Ge=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)$e.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}},Ye=Ge(We),Ke=Ge(qe),Xe=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},Je=Ue.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Ze=function(e){return Je.defaultedThunk(i(e))},Qe=function(e){return Je.mergeWithThunk(i(e))},et=Je.strict,tt=Je.asOption,nt=Je.defaultedThunk,rt=(Je.asDefaultedOptionThunk,Je.mergeWithThunk),ot=(Ue.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){var t=[],n=[];return W(e,(function(e){e.fold((function(e){t.push(e)}),(function(e){n.push(e)}))})),{errors:t,values:n}}),it=function(e,t){var n={};return Ie(e,(function(e,r){V(t,r)||(n[r]=e)})),n},at=function(e,t){var n;return n={},n[e]=t,n},st=function(e){var t={};return W(e,(function(e){t[e.key]=e.value})),t},lt=function(e,t){return it(e,t)},ut=function(e,t){return at(e,t)},ct=function(e){return st(e)},dt=function(e,t){return 0===e.length?ge.value(t):ge.value(Ye(t,Ke.apply(void 0,e)))},ft=function(e){return ge.error(te(e))},pt=function(e,t){var n=ot(e);return n.errors.length>0?ft(n.errors):dt(n.values,t)},ht=function(e,t){return e.length>0?Te.svalue(Ye(t,Ke.apply(void 0,e))):Te.svalue(t)},mt=function(e){return r(Te.serror,te)(e)},gt=function(e,t){var n=Te.partition(e);return n.errors.length>0?mt(n.errors):ht(n.values,t)},vt=function(e){var t=Te.partition(e);return t.errors.length>0?mt(t.errors):Te.svalue(t.values)},yt={consolidateObj:gt,consolidateArr:vt},bt=function(e){return T(e)&&Me(e).length>100?" removed due to size":JSON.stringify(e,null,2)},xt=function(e){var t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e;return q(t,(function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()}))},wt=function(e,t){return Te.serror([{path:e,getErrorInfo:t}])},_t=function(e,t,n){return wt(e,(function(){return'Could not find valid *strict* value for "'+t+'" in '+bt(n)}))},Ct=function(e,t){return wt(e,(function(){return'Choice schema did not contain choice key: "'+t+'"'}))},St=function(e,t,n){return wt(e,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+bt(t)}))},kt=function(e,t){return wt(e,(function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"}))},Ot=function(e,t){return wt(e,(function(){return t}))},Tt=Ue.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Mt=function(e,t,n){return Fe(t,n).fold((function(){return _t(e,n,t)}),Te.svalue)},Dt=function(e,t,n){var r=Fe(e,t).fold((function(){return n(e)}),a);return Te.svalue(r)},It=function(e,t){return Te.svalue(Fe(e,t))},Et=function(e,t,n){var r=Fe(e,t).map((function(t){return!0===t?n(e):t}));return Te.svalue(r)},At=function(e,t,n,r){return n.fold((function(n,o,a,s){var l=function(t){var i=s.extract(e.concat([n]),r,t);return Te.map(i,(function(e){return at(o,r(e))}))},u=function(t){return t.fold((function(){var e=at(o,r(w.none()));return Te.svalue(e)}),(function(t){var i=s.extract(e.concat([n]),r,t);return Te.map(i,(function(e){return at(o,r(w.some(e)))}))}))};return function(){return a.fold((function(){return Te.bind(Mt(e,t,n),l)}),(function(e){return Te.bind(Dt(t,n,e),l)}),(function(){return Te.bind(It(t,n),u)}),(function(e){return Te.bind(Et(t,n,e),u)}),(function(e){var r=e(t),o=Te.map(Dt(t,n,i({})),(function(e){return Ye(r,e)}));return Te.bind(o,l)}))}()}),(function(e,n){var o=n(t);return Te.svalue(at(e,r(o)))}))},Lt=function(e,t,n,r){var o=q(n,(function(n){return At(e,t,n,r)}));return yt.consolidateObj(o,{})},jt=function(e){var t=function(t,n,r){return e().extract(t,n,r)},n=function(){return e().toString()};return{extract:t,toString:n}},Nt=function(e){var t=function(t,n,r){return Te.bindError(e(r,n),(function(e){return Ot(t,e)}))},n=function(){return"val"};return{extract:t,toString:n}},Pt=function(e){return Me(Ne(e,(function(e){return void 0!==e&&null!==e})))},Rt=function(e){var t=Bt(e),n=X(e,(function(e,t){return t.fold((function(t){return Ye(e,ut(t,!0))}),i(e))}),{}),r=function(e,r,o){var i=D(o)?[]:Pt(o),a=K(i,(function(e){return!Ve(n,e)}));return 0===a.length?t.extract(e,r,o):kt(e,a)};return{extract:r,toString:t.toString}},Bt=function(e){var t=function(t,n,r){return Lt(t,r,e,n)},n=function(){var t=q(e,(function(e){return e.fold((function(e,t,n,r){return e+" -> "+r.toString()}),(function(e,t){return"state("+e+")"}))}));return"obj{\n"+t.join("\n")+"}"};return{extract:t,toString:n}},Ft=function(e){var t=function(t,n,r){var o=q(r,(function(r,o){return e.extract(t.concat(["["+o+"]"]),n,r)}));return yt.consolidateArr(o)},n=function(){return"array("+e.toString()+")"};return{extract:t,toString:n}},zt=function(e){var t=function(t,n,r){for(var o=[],i=0,a=e;i<a.length;i++){var s=a[i],l=s.extract(t,n,r);if(l.stype===g.Value)return l;o.push(l)}return yt.consolidateArr(o)},n=function(){return"oneOf("+q(e,(function(e){return e.toString()})).join(", ")+")"};return{extract:t,toString:n}},Vt=function(e,t){var n=function(t,n){return Ft(Nt(e)).extract(t,a,n)},r=function(e,r,o){var i=Me(o),a=n(e,i);return Te.bind(a,(function(n){var i=q(n,(function(e){return Tt.field(e,e,et(),t)}));return Bt(i).extract(e,r,o)}))},o=function(){return"setOf("+t.toString()+")"};return{extract:r,toString:o}},Ht=function(e,t){var n=Xe((function(){return t()})),r=function(e,t,r){return n().extract(e,t,r)},o=function(){return n().toString()};return{extract:r,toString:o}},Ut=i(Nt(Te.svalue)),$t=r(Ft,Bt),qt=Tt.state,Wt=Tt.field,Gt=function(e,t,n,r,o){var i=Fe(r,o);return i.fold((function(){return St(e,r,o)}),(function(r){return r.extract(e.concat(["branch: "+o]),t,n)}))},Yt=function(e,t){var n=function(n,r,o){var i=Fe(o,e);return i.fold((function(){return Ct(n,e)}),(function(e){return Gt(n,r,o,t,e)}))},r=function(){return"chooseOn("+e+"). Possible values: "+Me(t)};return{extract:n,toString:r}},Kt=Nt(Te.svalue),Xt=function(e){return $t(e)},Jt=function(){return Ft(Kt)},Zt=jt,Qt=function(e){return Nt((function(t){return e(t).fold(Te.serror,Te.svalue)}))},en=function(e,t){return Vt((function(t){return Te.fromResult(e(t))}),t)},tn=function(e,t,n,r){var o=t.extract([e],n,r);return Te.mapError(o,(function(e){return{input:r,errors:e}}))},nn=function(e,t,n){return Te.toResult(tn(e,t,a,n))},rn=function(e){return e.fold((function(e){throw new Error(an(e))}),a)},on=function(e,t,n){return rn(nn(e,t,n))},an=function(e){return"Errors: \n"+xt(e.errors).join("\n")+"\n\nInput object: "+bt(e.input)},sn=function(e,t){return Yt(e,t)},ln=function(e,t){return Yt(e,Ee(t,Bt))},un=function(e,t){return Ht(e,t)},cn=i(Kt),dn=function(e,t){return Nt((function(n){var r=typeof n;return e(n)?Te.svalue(n):Te.serror("Expected type: "+t+" but got: "+r)}))},fn=dn(j,"number"),pn=dn(O,"string"),hn=dn(D,"boolean"),mn=dn(L,"function"),gn=function(e){var t=function(e,t){var n=e.next();while(!n.done){if(!t(n.value))return!1;n=e.next()}return!0};if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((function(t){return gn(e[t])}));case"Map":return t(e.keys(),gn)&&t(e.values(),gn);case"Set":return t(e.keys(),gn);default:return!1}},vn=Nt((function(e){return gn(e)?Te.svalue(e):Te.serror("Expected value to be acceptable for sending via postMessage")})),yn=function(e){return Qt((function(t){return V(e,t)?ge.value(t):ge.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')}))},bn=function(e){return Wt(e,e,et(),Ut())},xn=function(e,t){return Wt(e,e,et(),t)},wn=function(e){return xn(e,fn)},_n=function(e){return xn(e,pn)},Cn=function(e,t){return Wt(e,e,et(),yn(t))},Sn=function(e){return xn(e,hn)},kn=function(e){return xn(e,mn)},On=function(e,t){return Wt(e,e,tt(),Nt((function(n){return Te.serror("The field: "+e+" is forbidden. "+t)})))},Tn=function(e,t){return Wt(e,e,et(),Bt(t))},Mn=function(e,t){return Wt(e,e,et(),$t(t))},Dn=function(e,t){return Wt(e,e,et(),Ft(t))},In=function(e){return Wt(e,e,tt(),Ut())},En=function(e,t){return Wt(e,e,tt(),t)},An=function(e){return En(e,fn)},Ln=function(e){return En(e,pn)},jn=function(e){return En(e,mn)},Nn=function(e,t){return En(e,Ft(t))},Pn=function(e,t){return En(e,Bt(t))},Rn=function(e,t){return En(e,Rt(t))},Bn=function(e,t){return Wt(e,e,Ze(t),Ut())},Fn=function(e,t,n){return Wt(e,e,Ze(t),n)},zn=function(e,t){return Fn(e,t,fn)},Vn=function(e,t){return Fn(e,t,pn)},Hn=function(e,t,n){return Fn(e,t,yn(n))},Un=function(e,t){return Fn(e,t,hn)},$n=function(e,t){return Fn(e,t,mn)},qn=function(e,t){return Fn(e,t,vn)},Wn=function(e,t,n){return Fn(e,t,Ft(n))},Gn=function(e,t,n){return Fn(e,t,Bt(n))},Yn=function(e,t){return qt(e,t)},Kn=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},Xn=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw new Error("HTML must have a single root node");return Qn(r.childNodes[0])},Jn=function(e,t){var n=t||document,r=n.createElement(e);return Qn(r)},Zn=function(e,t){var n=t||document,r=n.createTextNode(e);return Qn(r)},Qn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},er=function(e,t,n){return w.from(e.dom.elementFromPoint(t,n)).map(Qn)},tr={fromHtml:Xn,fromTag:Jn,fromText:Zn,fromDom:Qn,fromPoint:er},nr=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!o,s=e.isiOS()||e.isAndroid(),l=s||r("(pointer:coarse)"),u=o||!a&&s&&r("(min-device-width:768px)"),c=a||s&&!u,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!c&&!u&&!d;return{isiPad:i(o),isiPhone:i(a),isTablet:i(u),isPhone:i(c),isTouch:i(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:i(d),isDesktop:i(f)}},rr=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},or=function(e,t){var n=rr(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return sr(r(1),r(2))},ir=function(e,t){var n=String(t).toLowerCase();return 0===e.length?ar():or(e,n)},ar=function(){return sr(0,0)},sr=function(e,t){return{major:e,minor:t}},lr={nu:sr,detect:ir,unknown:ar},ur=function(e,t){var n=String(t).toLowerCase();return Q(e,(function(e){return e.search(n)}))},cr=function(e,t){return ur(e,t).map((function(e){var n=lr.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},dr=function(e,t){return ur(e,t).map((function(e){var n=lr.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},fr={detectBrowser:cr,detectOs:dr},pr=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},hr=function(e,t){return-1!==e.indexOf(t)},mr=function(e,t){return pr(e,t,e.length-t.length)},gr=function(e){return function(t){return t.replace(e,"")}},vr=gr(/^\s+|\s+$/g),yr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,br=function(e){return function(t){return hr(t,e)}},xr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return hr(e,"edge/")&&hr(e,"chrome")&&hr(e,"safari")&&hr(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,yr],search:function(e){return hr(e,"chrome")&&!hr(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return hr(e,"msie")||hr(e,"trident")}},{name:"Opera",versionRegexes:[yr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:br("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:br("firefox")},{name:"Safari",versionRegexes:[yr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(hr(e,"safari")||hr(e,"mobile/"))&&hr(e,"applewebkit")}}],wr=[{name:"Windows",search:br("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return hr(e,"iphone")||hr(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:br("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:br("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:br("linux"),versionRegexes:[]},{name:"Solaris",search:br("sunos"),versionRegexes:[]},{name:"FreeBSD",search:br("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:br("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],_r={browsers:i(xr),oses:i(wr)},Cr="Edge",Sr="Chrome",kr="IE",Or="Opera",Tr="Firefox",Mr="Safari",Dr=function(){return Ir({current:void 0,version:lr.unknown()})},Ir=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(Cr),isChrome:r(Sr),isIE:r(kr),isOpera:r(Or),isFirefox:r(Tr),isSafari:r(Mr)}},Er={unknown:Dr,nu:Ir,edge:i(Cr),chrome:i(Sr),ie:i(kr),opera:i(Or),firefox:i(Tr),safari:i(Mr)},Ar="Windows",Lr="iOS",jr="Android",Nr="Linux",Pr="OSX",Rr="Solaris",Br="FreeBSD",Fr="ChromeOS",zr=function(){return Vr({current:void 0,version:lr.unknown()})},Vr=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(Ar),isiOS:r(Lr),isAndroid:r(jr),isOSX:r(Pr),isLinux:r(Nr),isSolaris:r(Rr),isFreeBSD:r(Br),isChromeOS:r(Fr)}},Hr={unknown:zr,nu:Vr,windows:i(Ar),ios:i(Lr),android:i(jr),linux:i(Nr),osx:i(Pr),solaris:i(Rr),freebsd:i(Br),chromeos:i(Fr)},Ur=function(e,t){var n=_r.browsers(),r=_r.oses(),o=fr.detectBrowser(n,e).fold(Er.unknown,Er.nu),i=fr.detectOs(r,e).fold(Hr.unknown,Hr.nu),a=nr(i,o,e,t);return{browser:o,os:i,deviceType:a}},$r={detect:Ur},qr=function(e){return window.matchMedia(e).matches},Wr=Xe((function(){return $r.detect(navigator.userAgent,qr)})),Gr=function(){return Wr()},Yr=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Kr=function(e,t){return Yr(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},Xr=9,Jr=11,Zr=1,Qr=3,eo=function(e,t){var n=e.dom;if(n.nodeType!==Zr)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},to=function(e){return e.nodeType!==Zr&&e.nodeType!==Xr&&e.nodeType!==Jr||0===e.childElementCount},no=function(e,t){var n=void 0===t?document:t.dom;return to(n)?[]:q(n.querySelectorAll(e),tr.fromDom)},ro=function(e,t){var n=void 0===t?document:t.dom;return to(n)?w.none():w.from(n.querySelector(e)).map(tr.fromDom)},oo=function(e,t){return e.dom===t.dom},io=function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)},ao=function(e,t){return Kr(e.dom,t.dom)},so=function(e,t){return Gr().browser.isIE()?ao(e,t):io(e,t)},lo=function(e){return L(e)?e:c},uo=function(e,t,n){var r=e.dom,o=lo(n);while(r.parentNode){r=r.parentNode;var i=tr.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return w.none()},co=function(e,t,n){var r=t(e),o=lo(n);return r.orThunk((function(){return o(e)?w.none():uo(e,t,o)}))},fo=function(e,t){return oo(e.element,t.event.target)},po=function(e){if(!Ve(e,"can")&&!Ve(e,"abort")&&!Ve(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return on("Extracting event.handler",Rt([Bn("can",d),Bn("abort",c),Bn("run",t)]),e)},ho=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return J(e,(function(e,r){return e&&t(r).apply(void 0,n)}),!0)}},mo=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return J(e,(function(e,r){return e||t(r).apply(void 0,n)}),!1)}},go=function(e){return L(e)?{can:i(!0),abort:i(!1),run:e}:e},vo=function(e){var t=ho(e,(function(e){return e.can})),n=mo(e,(function(e){return e.abort})),r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];W(e,(function(e){e.run.apply(void 0,t)}))};return po({can:t,abort:n,run:r})},yo=i,bo=yo("touchstart"),xo=yo("touchmove"),wo=yo("touchend"),_o=yo("touchcancel"),Co=yo("mousedown"),So=yo("mousemove"),ko=yo("mouseout"),Oo=yo("mouseup"),To=yo("mouseover"),Mo=yo("focusin"),Do=yo("focusout"),Io=yo("keydown"),Eo=yo("keyup"),Ao=yo("input"),Lo=yo("change"),jo=yo("click"),No=yo("transitionend"),Po=yo("selectstart"),Ro=function(e){return i("alloy."+e)},Bo={tap:Ro("tap")},Fo=Ro("focus"),zo=Ro("blur.post"),Vo=Ro("paste.post"),Ho=Ro("receive"),Uo=Ro("execute"),$o=Ro("focus.item"),qo=Bo.tap,Wo=Ro("longpress"),Go=Ro("sandbox.close"),Yo=Ro("typeahead.cancel"),Ko=Ro("system.init"),Xo=Ro("system.touchmove"),Jo=Ro("system.touchend"),Zo=Ro("system.scroll"),Qo=Ro("system.resize"),ei=Ro("system.attached"),ti=Ro("system.detached"),ni=Ro("system.dismissRequested"),ri=Ro("system.repositionRequested"),oi=Ro("focusmanager.shifted"),ii=Ro("slotcontainer.visibility"),ai=Ro("change.tab"),si=Ro("dismiss.tab"),li=Ro("highlight"),ui=Ro("dehighlight"),ci=function(e,t){hi(e,e.element,t,{})},di=function(e,t,n){hi(e,e.element,t,n)},fi=function(e){ci(e,Uo())},pi=function(e,t,n){hi(e,t,n,{})},hi=function(e,t,n,r){var o=p({target:t},r);e.getSystem().triggerEvent(n,t,o)},mi=function(e,t,n,r){e.getSystem().triggerEvent(n,t,r.event)},gi=function(e){return ct(e)},vi=function(e,t){return{key:e,value:po({abort:t})}},yi=function(e,t){return{key:e,value:po({can:t})}},bi=function(e){return{key:e,value:po({run:function(e,t){t.event.prevent()}})}},xi=function(e,t){return{key:e,value:po({run:t})}},wi=function(e,t,n){return{key:e,value:po({run:function(e,r){t.apply(void 0,[e,r].concat(n))}})}},_i=function(e){return function(t){return xi(e,t)}},Ci=function(e){return function(t){return{key:e,value:po({run:function(e,n){fo(e,n)&&t(e,n)}})}}},Si=function(e,t){return xi(e,(function(n,r){n.getSystem().getByUid(t).each((function(t){mi(t,t.element,e,r)}))}))},ki=function(e,t,n){var r=t.partUids[n];return Si(e,r)},Oi=function(e,t){return xi(e,(function(e,n){var r=n.event,o=e.getSystem().getByDom(r.target).fold((function(){var t=co(r.target,(function(t){return e.getSystem().getByDom(t).toOptional()}),c);return t.getOr(e)}),(function(e){return e}));t(e,o,n)}))},Ti=function(e){return xi(e,(function(e,t){t.cut()}))},Mi=function(e){return xi(e,(function(e,t){t.stop()}))},Di=function(e,t){return Ci(e)(t)},Ii=Ci(ei()),Ei=Ci(ti()),Ai=Ci(Ko()),Li=_i(Uo()),ji=("undefined"!==typeof window?window:Function("return this;")(),function(e){var t=e.dom.nodeName;return t.toLowerCase()}),Ni=function(e){return e.dom.nodeType},Pi=function(e){return function(t){return Ni(t)===e}},Ri=Pi(Zr),Bi=Pi(Qr),Fi=Pi(Xr),zi=Pi(Jr),Vi=function(e){return tr.fromDom(e.dom.ownerDocument)},Hi=function(e){return Fi(e)?e:Vi(e)},Ui=function(e){return tr.fromDom(Hi(e).dom.documentElement)},$i=function(e){return tr.fromDom(Hi(e).dom.defaultView)},qi=function(e){return w.from(e.dom.parentNode).map(tr.fromDom)},Wi=function(e){return qi(e)},Gi=function(e){return w.from(e.dom.offsetParent).map(tr.fromDom)},Yi=function(e){return w.from(e.dom.nextSibling).map(tr.fromDom)},Ki=function(e){return q(e.dom.childNodes,tr.fromDom)},Xi=function(e,t){var n=e.dom.childNodes;return w.from(n[t]).map(tr.fromDom)},Ji=function(e){return Xi(e,0)},Zi=function(e,t){var n=qi(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},Qi=function(e,t){var n=Yi(e);n.fold((function(){var n=qi(e);n.each((function(e){ta(e,t)}))}),(function(e){Zi(e,t)}))},ea=function(e,t){var n=Ji(e);n.fold((function(){ta(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))},ta=function(e,t){e.dom.appendChild(t.dom)},na=function(e,t,n){Xi(e,n).fold((function(){ta(e,t)}),(function(e){Zi(e,t)}))},ra=function(e,t){W(t,(function(t){Zi(e,t)}))},oa=function(e,t){W(t,(function(t){ta(e,t)}))},ia=function(e){e.dom.textContent="",W(Ki(e),(function(e){aa(e)}))},aa=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},sa=function(e){var t=Ki(e);t.length>0&&ra(e,t),aa(e)},la=function(e,t){var n=t||document,r=n.createElement("div");return r.innerHTML=e,Ki(tr.fromDom(r))},ua=function(e){return e.dom.innerHTML},ca=function(e,t){var n=Vi(e),r=n.dom,o=tr.fromDom(r.createDocumentFragment()),i=la(t,r);oa(o,i),ia(e),ta(e,o)},da=function(e){var t=tr.fromTag("div"),n=tr.fromDom(e.dom.cloneNode(!0));return ta(t,n),ua(t)},fa=function(e,t,n){if(!(O(n)||D(n)||j(n)))throw new Error("Attribute value was not simple");e.setAttribute(t,n+"")},pa=function(e,t,n){fa(e.dom,t,n)},ha=function(e,t){var n=e.dom;Ie(t,(function(e,t){fa(n,t,e)}))},ma=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},ga=function(e,t){return w.from(ma(e,t))},va=function(e,t){var n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},ya=function(e,t){e.dom.removeAttribute(t)},ba=function(e,t){return tr.fromDom(e.dom.cloneNode(t))},xa=function(e){return ba(e,!1)},wa=function(e){var t=xa(e);return da(t)},_a=function(e){return wa(e)},Ca=function(e,t,n){return oo(t,e.element)&&!oo(t,n)},Sa=gi([yi(Fo(),(function(e,t){var n=t.event,r=n.originator,o=n.target;return!Ca(e,r,o)}))]),ka=Object.freeze({__proto__:null,events:Sa}),Oa=0,Ta=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return Oa++,e+"_"+r+Oa+String(n)},Ma=i("alloy-id-"),Da=i("data-alloy-id"),Ia=Ma(),Ea=Da(),Aa=function(e,t){var n=Ta(Ia+e);return La(t,n),n},La=function(e,t){Object.defineProperty(e.dom,Ea,{value:t,writable:!0})},ja=function(e){var t=Ri(e)?e.dom[Ea]:null;return w.from(t)},Na=function(e){return Ta(e)},Pa=a,Ra=function(e){var t=function(t){return function(){throw new Error("The component must be in a context to send: "+t+(e?"\n"+_a(e().element)+" is not in context.":""))}};return{debugInfo:i("fake"),triggerEvent:t("triggerEvent"),triggerFocus:t("triggerFocus"),triggerEscape:t("triggerEscape"),build:t("build"),addToWorld:t("addToWorld"),removeFromWorld:t("removeFromWorld"),addToGui:t("addToGui"),removeFromGui:t("removeFromGui"),getByUid:t("getByUid"),getByDom:t("getByDom"),broadcast:t("broadcast"),broadcastOn:t("broadcastOn"),broadcastEvent:t("broadcastEvent"),isConnected:c}},Ba=Ra(),Fa=function(e,t,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:za(a.slice(0,1).concat(a.slice(3)))}},e},za=function(e){return q(e,(function(e){return mr(e,"/*")?e.substring(0,e.length-"/*".length):e}))},Va=function(e,t){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:za(i)}},e},Ha=function(e,t){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:za(i.slice(1))}},e},Ua=Ta("alloy-premade"),$a=function(e){return ut(Ua,e)},qa=function(e){return Fe(e,Ua)},Wa=function(e){return Ha((function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(void 0,m([t.getApis(),t],n))}),e)},Ga={init:function(){return Ya({readState:function(){return"No State required"}})}},Ya=function(e){return e},Ka=function(e,t){var n=q(t,(function(e){return Pn(e.name(),[bn("config"),Bn("state",Ga)])})),r=nn("component.behaviours",Bt(n),e.behaviours).fold((function(t){throw new Error(an(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),(function(e){return e}));return{list:t,data:Ee(r,(function(e){var t=e.map((function(e){return{config:e.config,state:e.state.init(e.config)}}));return function(){return t}}))}},Xa=function(e){return e.list},Ja=function(e){return e.data},Za=function(e,t){var n={};return Ie(e,(function(e,r){Ie(e,(function(e,o){var i=Fe(n,o).getOr([]);n[o]=i.concat([t(r,e)])}))})),n},Qa=function(e){return{classes:void 0!==e.classes?e.classes:[],attributes:void 0!==e.attributes?e.attributes:{},styles:void 0!==e.styles?e.styles:{}}},es=function(e,t){return p(p({},e),{attributes:p(p({},e.attributes),t.attributes),styles:p(p({},e.styles),t.styles),classes:e.classes.concat(t.classes)})},ts=function(e,t,n,r){var o=p({},t);W(n,(function(t){o[t.name()]=t.exhibit(e,r)}));var i=Za(o,(function(e,t){return{name:e,modification:t}})),a=function(e){return X(e,(function(e,t){return p(p({},t.modification),e)}),{})},s=X(i.classes,(function(e,t){return t.modification.concat(e)}),[]),l=a(i.attributes),u=a(i.styles);return Qa({classes:s,attributes:l,styles:u})},ns=function(e,t,n,r){try{var o=se(n,(function(n,o){var i=n[t],a=o[t],s=r.indexOf(i),l=r.indexOf(a);if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===l)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return s<l?-1:l<s?1:0}));return ge.value(o)}catch(i){return ge.error([i])}},rs=function(e,t){return{handler:e,purpose:t}},os=function(e,t){return{cHandler:e,purpose:t}},is=function(e,t){return os(s.apply(void 0,[e.handler].concat(t)),e.purpose)},as=function(e){return e.cHandler},ss=function(e,t){return{name:e,handler:t}},ls=function(e,t){var n={};return W(e,(function(e){n[e.name()]=e.handlers(t)})),n},us=function(e,t,n){var r=p(p({},n),ls(t,e));return Za(r,ss)},cs=function(e,t,n,r){var o=us(e,n,r);return hs(o,t)},ds=function(e){var t=go(e);return function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[e,n].concat(r);t.abort.apply(void 0,i)?n.stop():t.can.apply(void 0,i)&&t.run.apply(void 0,i)}},fs=function(e,t){return ge.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(q(t,(function(e){return e.name})),null,2)])},ps=function(e,t,n){var r=t[n];return r?ns("Event: "+n,"name",e,r).map((function(e){var t=q(e,(function(e){return e.handler}));return vo(t)})):fs(n,e)},hs=function(e,t){var n=Pe(e,(function(e,n){var r=1===e.length?ge.value(e[0].handler):ps(e,t,n);return r.map((function(r){var o=ds(r),i=e.length>1?K(t[n],(function(t){return H(e,(function(e){return e.name===t}))})).join(" > "):e[0].name;return ut(n,rs(o,i))}))}));return pt(n,{})},ms="alloy.base.behaviour",gs=function(e){var t;return nn("custom.definition",Bt([Wt("dom","dom",et(),Bt([bn("tag"),Bn("styles",{}),Bn("classes",[]),Bn("attributes",{}),In("value"),In("innerHtml")])),bn("components"),bn("uid"),Bn("events",{}),Bn("apis",{}),Wt("eventOrder","eventOrder",Qe((t={},t[Uo()]=["disabling",ms,"toggling","typeaheadevents"],t[Fo()]=[ms,"focusing","keying"],t[Ko()]=[ms,"disabling","toggling","representing"],t[Ao()]=[ms,"representing","streaming","invalidating"],t[ti()]=[ms,"representing","item-events","tooltipping"],t[Co()]=["focusing",ms,"item-type-events"],t[bo()]=["focusing",ms,"item-type-events"],t[To()]=["item-type-events","tooltipping"],t[Ho()]=["receiving","reflecting","tooltipping"],t)),cn()),In("domModification")]),e)},vs=function(e){return p(p({},e.dom),{uid:e.uid,domChildren:q(e.components,(function(e){return e.element}))})},ys=function(e){return e.domModification.fold((function(){return Qa({})}),Qa)},bs=function(e){return e.events},xs=function(e,t){var n=ma(e,t);return void 0===n||""===n?[]:n.split(" ")},ws=function(e,t,n){var r=xs(e,t),o=r.concat([n]);return pa(e,t,o.join(" ")),!0},_s=function(e,t,n){var r=K(xs(e,t),(function(e){return e!==n}));return r.length>0?pa(e,t,r.join(" ")):ya(e,t),!1},Cs=function(e){return void 0!==e.dom.classList},Ss=function(e){return xs(e,"class")},ks=function(e,t){return ws(e,"class",t)},Os=function(e,t){return _s(e,"class",t)},Ts=function(e,t){Cs(e)?e.dom.classList.add(t):ks(e,t)},Ms=function(e){var t=Cs(e)?e.dom.classList:Ss(e);0===t.length&&ya(e,"class")},Ds=function(e,t){if(Cs(e)){var n=e.dom.classList;n.remove(t)}else Os(e,t);Ms(e)},Is=function(e,t){return Cs(e)&&e.dom.classList.contains(t)},Es=function(e,t){W(t,(function(t){Ts(e,t)}))},As=function(e,t){W(t,(function(t){Ds(e,t)}))},Ls=function(e){return void 0!==e.style&&L(e.style.getPropertyValue)},js=function(e){return zi(e)},Ns=L(Element.prototype.attachShadow)&&L(Node.prototype.getRootNode),Ps=i(Ns),Rs=Ns?function(e){return tr.fromDom(e.dom.getRootNode())}:Hi,Bs=function(e){return js(e)?e:tr.fromDom(Hi(e).dom.body)},Fs=function(e){return zs(e).isSome()},zs=function(e){var t=Rs(e);return js(t)?w.some(t):w.none()},Vs=function(e){return tr.fromDom(e.dom.host)},Hs=function(e){if(Ps()&&A(e.target)){var t=tr.fromDom(e.target);if(Ri(t)&&Us(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return ue(n)}}return w.from(e.target)},Us=function(e){return A(e.dom.shadowRoot)},$s=function(e){var t=Bi(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;var n=t.ownerDocument;return zs(tr.fromDom(t)).fold((function(){return n.body.contains(t)}),o($s,Vs))},qs=function(){return Ws(tr.fromDom(document))},Ws=function(e){var t=e.dom.body;if(null===t||void 0===t)throw new Error("Body is not available yet");return tr.fromDom(t)},Gs=function(e,t,n){if(!O(n))throw new Error("CSS value must be a string: "+n);Ls(e)&&e.style.setProperty(t,n)},Ys=function(e,t){Ls(e)&&e.style.removeProperty(t)},Ks=function(e,t,n){var r=e.dom;Gs(r,t,n)},Xs=function(e,t){var n=e.dom;Ie(t,(function(e,t){Gs(n,t,e)}))},Js=function(e,t){var n=e.dom;Ie(t,(function(e,t){e.fold((function(){Ys(n,t)}),(function(e){Gs(n,t,e)}))}))},Zs=function(e,t){var n=e.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(t);return""!==o||$s(e)?o:Qs(n,t)},Qs=function(e,t){return Ls(e)?e.style.getPropertyValue(t):""},el=function(e,t){var n=e.dom,r=Qs(n,t);return w.from(r).filter((function(e){return e.length>0}))},tl=function(e){var t={},n=e.dom;if(Ls(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},nl=function(e,t,n){var r=tr.fromTag(e);Ks(r,t,n);var o=el(r,t);return o.isSome()},rl=function(e,t){var n=e.dom;Ys(n,t),ga(e,"style").map(vr).is("")&&ya(e,"style")},ol=function(e){return e.dom.offsetWidth},il=function(e){return e.dom.value},al=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},sl=function(e){var t=tr.fromTag(e.tag);ha(t,e.attributes),Es(t,e.classes),Xs(t,e.styles),e.innerHtml.each((function(e){return ca(t,e)}));var n=e.domChildren;return oa(t,n),e.value.each((function(e){al(t,e)})),e.uid,La(t,e.uid),t},ll=function(e){var t=Fe(e,"behaviours").getOr({}),n=K(Me(t),(function(e){return void 0!==t[e]}));return q(n,(function(e){return t[e].me}))},ul=function(e,t){return Ka(e,t)},cl=function(e){var t=ll(e);return ul(e,t)},dl=function(e,t,n){var r=vs(e),o=ys(e),i={"alloy.base.modification":o},a=t.length>0?ts(n,i,t,r):o;return es(r,a)},fl=function(e,t,n){var r={"alloy.base.behaviour":bs(e)};return cs(n,e.eventOrder,t,r).getOrDie()},pl=function(e){var t=function(){return y},n=Kn(Ba),r=rn(gs(e)),o=cl(e),i=Xa(o),a=Ja(o),s=dl(r,i,a),l=sl(s),u=fl(r,i,a),c=Kn(r.components),d=function(e){n.set(e)},f=function(){n.set(Ra(t))},p=function(){var e=Ki(l),t=ne(e,(function(e){return n.get().getByDom(e).fold((function(){return[]}),(function(e){return[e]}))}));c.set(t)},h=function(t){var n=a,r=L(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))};return r()},m=function(e){return L(a[e.name()])},g=function(){return r.apis},v=function(e){return a[e]().map((function(e){return e.state.readState()})).getOr("not enabled")},y={getSystem:n.get,config:h,hasConfigured:m,spec:e,readState:v,getApis:g,connect:d,disconnect:f,element:l,syncComponents:p,components:c.get,events:u};return y},hl=function(e){var t=Fe(e,"components").getOr([]);return q(t,bl)},ml=function(e){var t=Pa(e),n=t.events,r=h(t,["events"]),o=hl(r),i=p(p({},r),{events:p(p({},ka),n),components:o});return ge.value(pl(i))},gl=function(e){var t=tr.fromText(e);return vl({element:t})},vl=function(e){var n=on("external.component",Rt([bn("element"),In("uid")]),e),r=Kn(Ra()),o=function(e){r.set(e)},a=function(){r.set(Ra((function(){return s})))};n.uid.each((function(e){La(n.element,e)}));var s={getSystem:r.get,config:w.none,hasConfigured:c,connect:o,disconnect:a,getApis:function(){return{}},element:n.element,spec:e,readState:i("No state"),syncComponents:t,components:i([]),events:{}};return $a(s)},yl=Na,bl=function(e){return qa(e).fold((function(){var t=e.hasOwnProperty("uid")?e:p({uid:yl("")},e);return ml(t).getOrDie()}),(function(e){return e}))},xl=$a;function wl(e,t){var n=function(t,n){if(!j(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom;Ls(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=Zs(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return J(t,(function(t,n){var r=Zs(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o}),0)},a=function(e,t,n){var r=i(e,n),o=t>r?t-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:a}}var _l=wl("height",(function(e){var t=e.dom;return $s(e)?t.getBoundingClientRect().height:t.offsetHeight})),Cl=function(e){return _l.get(e)},Sl=function(e){return _l.getOuter(e)},kl=function(e,t){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],r=_l.max(e,t,n);Ks(e,"max-height",r+"px")},Ol=function(e,t){var n=function(n,r){return Ol(e+n,t+r)};return{left:e,top:t,translate:n}},Tl=Ol,Ml=function(e){var t=e.getBoundingClientRect();return Tl(t.left,t.top)},Dl=function(e,t){return void 0!==e?e:void 0!==t?t:0},Il=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return Tl(n.offsetLeft,n.offsetTop);var i=Dl(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop),a=Dl(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft),s=Dl(o.clientTop,n.clientTop),l=Dl(o.clientLeft,n.clientLeft);return El(e).translate(a-l,i-s)},El=function(e){var t=e.dom,n=t.ownerDocument,r=n.body;return r===t?Tl(r.offsetLeft,r.offsetTop):$s(e)?Ml(t):Tl(0,0)},Al=wl("width",(function(e){return e.dom.offsetWidth})),Ll=function(e,t){return Al.set(e,t)},jl=function(e){return Al.get(e)},Nl=function(e){return Al.getOuter(e)},Pl=function(e,t){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],r=Al.max(e,t,n);Ks(e,"max-width",r+"px")},Rl=function(e,t,n,r,o,i,a){return{target:e,x:t,y:n,stop:r,prevent:o,kill:i,raw:a}},Bl=function(e){var t=tr.fromDom(Hs(e).getOr(e.target)),n=function(){return e.stopPropagation()},o=function(){return e.preventDefault()},i=r(o,n);return Rl(t,e.clientX,e.clientY,n,o,i,e)},Fl=function(e,t){return function(n){e(n)&&t(Bl(n))}},zl=function(e,t,n,r,o){var i=Fl(n,r);return e.dom.addEventListener(t,i,o),{unbind:s(Ul,e,t,i,o)}},Vl=function(e,t,n,r){return zl(e,t,n,r,!1)},Hl=function(e,t,n,r){return zl(e,t,n,r,!0)},Ul=function(e,t,n,r){e.dom.removeEventListener(t,n,r)},$l=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Tl(n,r)},ql=function(e,t,n){var r=void 0!==n?n.dom:document,o=r.defaultView;o&&o.scrollTo(e,t)},Wl=function(e){var t=void 0===e?window:e;return w.from(t["visualViewport"])},Gl=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},Yl=function(e){var t=void 0===e?window:e,n=t.document,r=$l(tr.fromDom(n));return Wl(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,o=e.clientHeight;return Gl(r.left,r.top,n,o)}),(function(e){return Gl(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))},Kl=function(e,t){var n=e.view(t);return n.fold(i([]),(function(t){var n=e.owner(t),r=Kl(e,n);return[t].concat(r)}))},Xl=function(e,t){var n=t.owner(e),r=Kl(t,n);return w.some(r)},Jl=function(e){var t,n=e.dom===document?w.none():w.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement);return n.map(tr.fromDom)},Zl=function(e){return Vi(e)},Ql=Object.freeze({__proto__:null,view:Jl,owner:Zl}),eu=function(e){var t=tr.fromDom(document),n=$l(t),r=Xl(e,Ql);return r.fold(s(Il,e),(function(t){var r=El(e),o=X(t,(function(e,t){var n=El(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Tl(o.left+r.left+n.left,o.top+r.top+n.top)}))},tu=function(e,t,n){return{point:e,width:t,height:n}},nu=function(e,t,n,r){return{x:e,y:t,width:n,height:r}},ru=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},ou=function(e){var t=Il(e),n=Nl(e),r=Sl(e);return ru(t.left,t.top,n,r)},iu=function(e){var t=eu(e),n=Nl(e),r=Sl(e);return ru(t.left,t.top,n,r)},au=function(){return Yl(window)};function su(e,t,n,r,o){return e(n,r)?w.some(n):L(o)&&o(n)?w.none():t(n,r,o)}var lu,uu=function(e,t,n){var r=e.dom,o=L(n)?n:c;while(r.parentNode){r=r.parentNode;var i=tr.fromDom(r);if(t(i))return w.some(i);if(o(i))break}return w.none()},cu=function(e,t,n){var r=function(e,t){return t(e)};return su(r,uu,e,t,n)},du=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=tr.fromDom(e.childNodes[r]);if(t(o))return w.some(o);var i=n(e.childNodes[r]);if(i.isSome())return i}return w.none()};return n(e.dom)},fu=function(e,t,n){return cu(e,t,n).isSome()},pu=function(e,t,n){return uu(e,(function(e){return eo(e,t)}),n)},hu=function(e,t){return ro(t,e)},mu=function(e,t,n){var r=function(e,t){return eo(e,t)};return su(r,pu,e,t,n)},gu=function(e){var t=cu(e,(function(e){if(!Ri(e))return!1;var t=ma(e,"id");return void 0!==t&&t.indexOf("aria-owns")>-1}));return t.bind((function(e){var t=ma(e,"id"),n=Rs(e);return hu(n,'[aria-owns="'+t+'"]')}))},vu=function(){var e=Ta("aria-owns"),t=function(t){pa(t,"aria-owns",e)},n=function(e){ya(e,"aria-owns")};return{id:e,link:t,unlink:n}},yu=function(e,t){return gu(t).exists((function(t){return bu(e,t)}))},bu=function(e,t){return fu(t,(function(t){return oo(t,e.element)}),c)||yu(e,t)},xu="unknown";(function(e){e[e["STOP"]=0]="STOP",e[e["NORMAL"]=1]="NORMAL",e[e["LOGGING"]=2]="LOGGING"})(lu||(lu={}));var wu,_u=Kn({}),Cu=function(e,t){var n=[];(new Date).getTime();return{logEventCut:function(e,t,r){n.push({outcome:"cut",target:t,purpose:r})},logEventStopped:function(e,t,r){n.push({outcome:"stopped",target:t,purpose:r})},logNoParent:function(e,t,r){n.push({outcome:"no-parent",target:t,purpose:r})},logEventNoHandlers:function(e,t){n.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,r){n.push({outcome:"response",purpose:r,target:t})},write:function(){(new Date).getTime();V(["mousemove","mouseover","mouseout",Ko()],e)}}},Su=function(e,t,n){var r=Fe(_u.get(),e).orThunk((function(){var t=Me(_u.get());return fe(t,(function(t){return e.indexOf(t)>-1?w.some(_u.get()[t]):w.none()}))})).getOr(lu.NORMAL);switch(r){case lu.NORMAL:return n(Du());case lu.LOGGING:var o=Cu(e,t),i=n(o);return o.write(),i;case lu.STOP:return!0}},ku=["alloy/data/Fields","alloy/debugging/Debugging"],Ou=function(){var e=new Error;if(void 0!==e.stack){var t=e.stack.split("\n");return Q(t,(function(e){return e.indexOf("alloy")>0&&!H(ku,(function(t){return e.indexOf(t)>-1}))})).getOr(xu)}return xu},Tu={logEventCut:t,logEventStopped:t,logNoParent:t,logEventNoHandlers:t,logEventResponse:t,write:t},Mu=function(e,t,n){return Su(e,t,n)},Du=i(Tu),Iu=i([bn("menu"),bn("selectedMenu")]),Eu=i([bn("item"),bn("selectedItem")]),Au=(i(Bt(Eu().concat(Iu()))),i(Bt(Eu()))),Lu=Tn("initSize",[bn("numColumns"),bn("numRows")]),ju=function(){return xn("markers",Au())},Nu=function(){return Tn("markers",[bn("backgroundMenu")].concat(Iu()).concat(Eu()))},Pu=function(e){return Tn("markers",q(e,bn))},Ru=function(e,t,n){Ou();return Wt(t,t,n,Qt((function(e){return ge.value((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)}))})))},Bu=function(e){return Ru("onHandler",e,Ze(t))},Fu=function(e){return Ru("onKeyboardHandler",e,Ze(w.none))},zu=function(e){return Ru("onHandler",e,et())},Vu=function(e){return Ru("onKeyboardHandler",e,et())},Hu=function(e,t){return Yn(e,i(t))},Uu=function(e){return Yn(e,a)},$u=i(Lu),qu=function(e,t,n,r,o,i){return{x:e,y:t,bubble:n,direction:r,boundsRestriction:o,label:i}},Wu=Ue.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Gu=function(e,t,n,r,o,i,a,s,l){return e.fold(t,n,r,o,i,a,s,l)},Yu=function(e,t,n,r){return e.fold(t,t,r,r,t,r,n,n)},Ku=function(e,t,n,r){return e.fold(t,r,t,r,n,n,t,r)},Xu=Wu.southeast,Ju=Wu.southwest,Zu=Wu.northeast,Qu=Wu.northwest,ec=Wu.south,tc=Wu.north,nc=Wu.east,rc=Wu.west,oc=function(e,t){switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},ic=function(e,t){return ae(["left","right","top","bottom"],(function(n){return Fe(t,n).map((function(t){return oc(e,t)}))}))},ac=function(e,t,n){var r=function(e,r){var o="top"===e||"bottom"===e?n.top:n.left;return Fe(t,e).bind(a).bind((function(t){return"left"===e||"top"===e?t>=r?w.some(t):w.none():t<=r?w.some(t):w.none()})).map((function(e){return e+o})).getOr(r)},o=r("left",e.x),i=r("top",e.y),s=r("right",e.right),l=r("bottom",e.bottom);return ru(o,i,s-o,l-i)},sc=function(e){return e.x},lc=function(e,t){return e.x+e.width/2-t.width/2},uc=function(e,t){return e.x+e.width-t.width},cc=function(e,t){return e.y-t.height},dc=function(e){return e.y+e.height},fc=function(e,t){return e.y+e.height/2-t.height/2},pc=function(e){return e.x+e.width},hc=function(e,t){return e.x-t.width},mc=function(e,t,n){return qu(sc(e),dc(e),n.southeast(),Xu(),ic(e,{left:1,top:3}),"layout-se")},gc=function(e,t,n){return qu(uc(e,t),dc(e),n.southwest(),Ju(),ic(e,{right:0,top:3}),"layout-sw")},vc=function(e,t,n){return qu(sc(e),cc(e,t),n.northeast(),Zu(),ic(e,{left:1,bottom:2}),"layout-ne")},yc=function(e,t,n){return qu(uc(e,t),cc(e,t),n.northwest(),Qu(),ic(e,{right:0,bottom:2}),"layout-nw")},bc=function(e,t,n){return qu(lc(e,t),cc(e,t),n.north(),tc(),ic(e,{bottom:2}),"layout-n")},xc=function(e,t,n){return qu(lc(e,t),dc(e),n.south(),ec(),ic(e,{top:3}),"layout-s")},wc=function(e,t,n){return qu(pc(e),fc(e,t),n.east(),nc(),ic(e,{left:0}),"layout-e")},_c=function(e,t,n){return qu(hc(e,t),fc(e,t),n.west(),rc(),ic(e,{right:1}),"layout-w")},Cc=function(){return[mc,gc,vc,yc,xc,bc,wc,_c]},Sc=function(){return[gc,mc,yc,vc,xc,bc,wc,_c]},kc=function(){return[vc,yc,mc,gc,bc,xc]},Oc=function(){return[yc,vc,gc,mc,bc,xc]},Tc=function(){return[mc,gc,vc,yc,xc,bc]},Mc=function(){return[gc,mc,yc,vc,xc,bc]},Dc=function(e,t){return t.universal?e:K(e,(function(e){return V(t.channels,e)}))},Ic=function(e){return gi([xi(Ho(),(function(t,n){var r=e.channels,o=Me(r),i=n,a=Dc(o,i);W(a,(function(e){var n=r[e],o=n.schema,a=on("channel["+e+"] data\nReceiver: "+_a(t.element),o,i.data);n.onReceive(t,a)}))}))])},Ec=Object.freeze({__proto__:null,events:Ic}),Ac=[xn("channels",en(ge.value,Rt([zu("onReceive"),Bn("schema",cn())])))],Lc=function(e,t,n){return Li((function(r){n(r,e,t)}))},jc=function(e,t,n){return Ai((function(r,o){n(r,e,t)}))},Nc=function(e,t,n,r,o,i){var a=Rt(e),s=Pn(t,[Rn("config",e)]);return Fc(a,s,t,n,r,o,i)},Pc=function(e,t,n,r,o,i){var a=e,s=Pn(t,[En("config",e)]);return Fc(a,s,t,n,r,o,i)},Rc=function(e,t,n){var r=function(r){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];var s=[r].concat(o);return r.config({name:i(e)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(function(e){var n=Array.prototype.slice.call(s,1);return t.apply(void 0,[r,e.config,e.state].concat(n))}))};return Fa(r,n,t)},Bc=function(e){return{key:e,value:void 0}},Fc=function(e,t,n,r,o,i,a){var l=function(e){return Ve(e,n)?e[n]():w.none()},u=Ee(o,(function(e,t){return Rc(n,e,t)})),c=Ee(i,(function(e,t){return Va(e,t)})),d=p(p(p({},c),u),{revoke:s(Bc,n),config:function(t){var r=on(n+"-config",e,t);return{key:n,value:{config:r,me:d,configAsRaw:Xe((function(){return on(n+"-config",e,t)})),initialConfig:t,state:a}}},schema:function(){return t},exhibit:function(e,t){return l(e).bind((function(e){return Fe(r,"exhibit").map((function(n){return n(t,e.config,e.state)}))})).getOr(Qa({}))},name:function(){return n},handlers:function(e){return l(e).map((function(e){var t=Fe(r,"events").getOr((function(){return{}}));return t(e.config,e.state)})).getOr({})}});return d},zc=function(e){return ct(e)},Vc=Rt([bn("fields"),bn("name"),Bn("active",{}),Bn("apis",{}),Bn("state",Ga),Bn("extra",{})]),Hc=function(e){var t=on("Creating behaviour: "+e.name,Vc,e);return Nc(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Uc=Rt([bn("branchKey"),bn("branches"),bn("name"),Bn("active",{}),Bn("apis",{}),Bn("state",Ga),Bn("extra",{})]),$c=function(e){var t=on("Creating behaviour: "+e.name,Uc,e);return Pc(ln(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},qc=i(void 0),Wc=Hc({fields:Ac,name:"receiving",active:Ec}),Gc=function(e,t){return Qa({classes:[],styles:t.useFixed()?{}:{position:"relative"}})},Yc=Object.freeze({__proto__:null,exhibit:Gc}),Kc=function(){return tr.fromDom(document)},Xc=function(e){return e.dom.focus()},Jc=function(e){return e.dom.blur()},Zc=function(e){var t=Rs(e).dom;return e.dom===t.activeElement},Qc=function(e){return void 0===e&&(e=Kc()),w.from(e.dom.activeElement).map(tr.fromDom)},ed=function(e){return Qc(Rs(e)).filter((function(t){return e.dom.contains(t.dom)}))},td=function(e,n){var r=Rs(n),o=Qc(r).bind((function(e){var t=function(t){return oo(e,t)};return t(n)?w.some(n):du(n,t)})),i=e(n);return o.each((function(e){Qc(r).filter((function(t){return oo(t,e)})).fold((function(){Xc(e)}),t)})),i},nd=function(e,t,n,r,o){return{position:e,left:t,top:n,right:r,bottom:o}},rd=function(e,t){var n=function(e){return e+"px"};Js(e,{position:w.some(t.position),left:t.left.map(n),top:t.top.map(n),right:t.right.map(n),bottom:t.bottom.map(n)})},od=Ue.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),id=function(e,t,n,r,o,i){var a=t.x-n,s=t.y-r,l=t.width,u=t.height,c=o-(a+l),d=i-(s+u),f=w.some(a),p=w.some(s),h=w.some(c),m=w.some(d),g=w.none();return Gu(t.direction,(function(){return nd(e,f,p,g,g)}),(function(){return nd(e,g,p,h,g)}),(function(){return nd(e,f,g,g,m)}),(function(){return nd(e,g,g,h,m)}),(function(){return nd(e,f,p,g,g)}),(function(){return nd(e,f,g,g,m)}),(function(){return nd(e,f,p,g,g)}),(function(){return nd(e,g,p,h,g)}))},ad=function(e,t){return e.fold((function(){return nd("absolute",w.some(t.x),w.some(t.y),w.none(),w.none())}),(function(e,n,r,o){return id("absolute",t,e,n,r,o)}),(function(e,n,r,o){return id("fixed",t,e,n,r,o)}))},sd=function(e,t){var n=s(eu,t),r=e.fold(n,n,(function(){var e=$l();return eu(t).translate(-e.left,-e.top)})),o=Nl(t),i=Sl(t);return ru(r.left,r.top,o,i)},ld=function(e,t){return t.fold((function(){return e.fold(au,au,ru)}),(function(t){return e.fold(t,t,(function(){var n=t(),r=ud(e,n.x,n.y);return ru(r.left,r.top,n.width,n.height)}))}))},ud=function(e,t,n){var r=Tl(t,n),o=function(){var e=$l();return r.translate(-e.left,-e.top)};return e.fold(i(r),i(r),o)},cd=function(e,t,n,r){return e.fold(t,n,r)},dd=(od.none,od.relative),fd=od.fixed,pd=function(e,t){return{anchorBox:e,origin:t}},hd=function(e,t){return pd(e,t)},md=function(e,t,n,r){var o=e+t;return o>r?n:o<n?r:o},gd=function(e,t,n){return Math.min(Math.max(e,t),n)},vd=Ue.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),yd=function(e,t,n,r,o){var i=o.x,a=o.y,s=o.width,l=o.height,u=e>=i,c=t>=a,d=u&&c,f=e+n<=i+s,p=t+r<=a+l,h=f&&p,m=Math.abs(Math.min(n,u?i+s-e:i-(e+n))),g=Math.abs(Math.min(r,c?a+l-t:a-(t+r))),v=Math.max(o.x,o.right-n),y=Math.max(o.y,o.bottom-r),b=gd(e,o.x,v),x=gd(t,o.y,y);return{originInBounds:d,sizeInBounds:h,limitX:b,limitY:x,deltaW:m,deltaH:g}},bd=function(e,t,n,r){var o=e.x,a=e.y,s=e.bubble.offset,l=s.left,u=s.top,c=ac(r,e.boundsRestriction,s),d=c.y,f=c.bottom,p=c.x,h=c.right,m=o+l,g=a+u,v=yd(m,g,t,n,c),y=v.originInBounds,b=v.sizeInBounds,x=v.limitX,w=v.limitY,_=v.deltaW,C=v.deltaH,S=i(w+C-d),k=i(f-w),O=Yu(e.direction,k,k,S),T=i(x+_-p),M=i(h-x),D=Ku(e.direction,M,M,T),I={x:x,y:w,width:_,height:C,maxHeight:O,maxWidth:D,direction:e.direction,classes:{on:e.bubble.classesOn,off:e.bubble.classesOff},label:e.label,candidateYforTest:g};return y&&b?vd.fit(I):vd.nofit(I,_,C)},xd=function(e,t,n,r,o){var i=n.width,l=n.height,u=function(e,a,s,u){var c=e(t,n,r),d=bd(c,i,l,o);return d.fold(vd.fit,(function(e,t,n){var r=n>u||t>s;return r?vd.nofit(e,t,n):vd.nofit(a,s,u)}))},c=J(e,(function(e,t){var n=s(u,t);return e.fold(vd.fit,n)}),vd.nofit({x:t.x,y:t.y,width:n.width,height:n.height,maxHeight:n.height,maxWidth:n.width,direction:Xu(),classes:{on:[],off:[]},label:"none",candidateYforTest:t.y},-1,-1));return c.fold(a,a)},wd=function(e){return{width:Nl(e),height:Sl(e)}},_d=function(e,t,n,r){rl(t,"max-height"),rl(t,"max-width");var o=wd(t);return xd(r.preference,e,o,n,r.bounds)},Cd=function(e,t){var n=t.classes;As(e,n.off),Es(e,n.on)},Sd=function(e,t,n){var r=n.maxHeightFunction;r(e,t.maxHeight)},kd=function(e,t,n){var r=n.maxWidthFunction;r(e,t.maxWidth)},Od=function(e,t,n){rd(e,ad(n.origin,t))},Td=function(e,t){kl(e,Math.floor(t))},Md=i((function(e,t){Td(e,t),Xs(e,{"overflow-x":"hidden","overflow-y":"auto"})})),Dd=i((function(e,t){Td(e,t)})),Id=function(e,t,n){return void 0===e[t]?n:e[t]},Ed=function(e,n,r,o,i,a){var s=Id(a,"maxHeightFunction",Md()),l=Id(a,"maxWidthFunction",t),u=e.anchorBox,c=e.origin,d={bounds:ld(c,i),origin:c,preference:o,maxHeightFunction:s,maxWidthFunction:l};Ad(u,n,r,d)},Ad=function(e,t,n,r){var o=_d(e,t,n,r);Od(t,o,r),Cd(t,o),Sd(t,o,r),kd(t,o,r)},Ld=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],jd=function(e,t,n){var r=function(e){return Fe(n,e).getOr([])},o=function(e,t,n){var o=ie(Ld,n);return{offset:Tl(e,t),classesOn:ne(n,r),classesOff:ne(o,r)}};return{southeast:function(){return o(-e,t,["top","alignLeft"])},southwest:function(){return o(e,t,["top","alignRight"])},south:function(){return o(-e/2,t,["top","alignCentre"])},northeast:function(){return o(-e,-t,["bottom","alignLeft"])},northwest:function(){return o(e,-t,["bottom","alignRight"])},north:function(){return o(-e/2,-t,["bottom","alignCentre"])},east:function(){return o(e,-t/2,["valignCentre","left"])},west:function(){return o(-e,-t/2,["valignCentre","right"])},innerNorthwest:function(){return o(-e,t,["top","alignRight"])},innerNortheast:function(){return o(e,t,["top","alignLeft"])},innerNorth:function(){return o(-e/2,t,["top","alignCentre"])},innerSouthwest:function(){return o(-e,-t,["bottom","alignRight"])},innerSoutheast:function(){return o(e,-t,["bottom","alignLeft"])},innerSouth:function(){return o(-e/2,-t,["bottom","alignCentre"])},innerWest:function(){return o(e,-t/2,["valignCentre","right"])},innerEast:function(){return o(-e,-t/2,["valignCentre","left"])}}},Nd=function(){return jd(0,0,{})},Pd=function(e){return e},Rd=function(e,t){return function(n){return"rtl"===Bd(n)?t:e}},Bd=function(e){return"rtl"===Zs(e,"direction")?"rtl":"ltr"};(function(e){e["TopToBottom"]="toptobottom",e["BottomToTop"]="bottomtotop"})(wu||(wu={}));var Fd="data-alloy-vertical-dir",zd=function(e){return fu(e,(function(e){return Ri(e)&&ma(e,"data-alloy-vertical-dir")===wu.BottomToTop}))},Vd=function(){return Pn("layouts",[bn("onLtr"),bn("onRtl"),In("onBottomLtr"),In("onBottomRtl")])},Hd=function(e,t,n,r,o,i,a){var s=a.map(zd).getOr(!1),l=t.layouts.map((function(t){return t.onLtr(e)})),u=t.layouts.map((function(t){return t.onRtl(e)})),c=s?t.layouts.bind((function(t){return t.onBottomLtr.map((function(t){return t(e)}))})).or(l).getOr(o):l.getOr(n),d=s?t.layouts.bind((function(t){return t.onBottomRtl.map((function(t){return t(e)}))})).or(u).getOr(i):u.getOr(r),f=Rd(c,d);return f(e)},Ud=function(e,t,n){var r=t.hotspot,o=sd(n,r.element),i=Hd(e.element,t,Tc(),Mc(),kc(),Oc(),w.some(t.hotspot.element));return w.some(Pd({anchorBox:o,bubble:t.bubble.getOr(Nd()),overrides:t.overrides,layouts:i,placer:w.none()}))},$d=[bn("hotspot"),In("bubble"),Bn("overrides",{}),Vd(),Hu("placement",Ud)],qd=function(e,t,n){var r=ud(n,t.x,t.y),o=ru(r.left,r.top,t.width,t.height),i=Hd(e.element,t,Cc(),Sc(),Cc(),Sc(),w.none());return w.some(Pd({anchorBox:o,bubble:t.bubble,overrides:t.overrides,layouts:i,placer:w.none()}))},Wd=[bn("x"),bn("y"),Bn("height",0),Bn("width",0),Bn("bubble",Nd()),Bn("overrides",{}),Vd(),Hu("placement",qd)],Gd="\ufeff",Yd=" ",Kd=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},Xd={create:Kd},Jd=Ue.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Zd=function(e,t,n,r){return e.fold(t,n,r)},Qd=function(e){return e.fold(a,a,a)},ef=Jd.before,tf=Jd.on,nf=Jd.after,rf={before:ef,on:tf,after:nf,cata:Zd,getStart:Qd},of=Ue.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),af=function(e){return of.exact(e.start,e.soffset,e.finish,e.foffset)},sf=function(e){return e.match({domRange:function(e){return tr.fromDom(e.startContainer)},relative:function(e,t){return rf.getStart(e)},exact:function(e,t,n,r){return e}})},lf=of.domRange,uf=of.relative,cf=of.exact,df=function(e){var t=sf(e);return $i(t)},ff=Xd.create,pf={domRange:lf,relative:uf,exact:cf,exactFromRange:af,getWin:df,range:ff},hf=function(e,t){t.fold((function(t){e.setStartBefore(t.dom)}),(function(t,n){e.setStart(t.dom,n)}),(function(t){e.setStartAfter(t.dom)}))},mf=function(e,t){t.fold((function(t){e.setEndBefore(t.dom)}),(function(t,n){e.setEnd(t.dom,n)}),(function(t){e.setEndAfter(t.dom)}))},gf=function(e,t,n){var r=e.document.createRange();return hf(r,t),mf(r,n),r},vf=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},yf=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}},bf=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?w.some(n).map(yf):w.none()},xf=Ue.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),wf=function(e,t,n){return t(tr.fromDom(n.startContainer),n.startOffset,tr.fromDom(n.endContainer),n.endOffset)},_f=function(e,t){return t.match({domRange:function(e){return{ltr:i(e),rtl:w.none}},relative:function(t,n){return{ltr:Xe((function(){return gf(e,t,n)})),rtl:Xe((function(){return w.some(gf(e,n,t))}))}},exact:function(t,n,r,o){return{ltr:Xe((function(){return vf(e,t,n,r,o)})),rtl:Xe((function(){return w.some(vf(e,r,o,t,n))}))}}})},Cf=function(e,t){var n=t.ltr();if(n.collapsed){var r=t.rtl().filter((function(e){return!1===e.collapsed}));return r.map((function(e){return xf.rtl(tr.fromDom(e.endContainer),e.endOffset,tr.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return wf(e,xf.ltr,n)}))}return wf(e,xf.ltr,n)},Sf=function(e,t){var n=_f(e,t);return Cf(e,n)},kf=function(e,t){var n=Sf(e,t);return n.match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(r.dom,o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom,o),i.setEnd(t.dom,n),i}})};xf.ltr,xf.rtl;function Of(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?w.from(t.dom.nodeValue):w.none()},o=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:o}}var Tf=Of(Bi,"text"),Mf=function(e){return Tf.get(e)},Df=function(e){return Tf.getOption(e)},If=function(e){return"img"===ji(e)?1:Df(e).fold((function(){return Ki(e).length}),(function(e){return e.length}))},Ef=function(e){return Df(e).filter((function(e){return 0!==e.trim().length||e.indexOf(Yd)>-1})).isSome()},Af=["img","br"],Lf=function(e){var t=Ef(e);return t||V(Af,ji(e))},jf=function(e){return Nf(e,Lf)},Nf=function(e,t){var n=function(e){for(var r=Ki(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return w.some(i);var a=n(i);if(a.isSome())return a}return w.none()};return n(e)},Pf=function(e,t){return no(t,e)},Rf=function(e,t,n,r){var o=Vi(e),i=o.dom.createRange();return i.setStart(e.dom,t),i.setEnd(n.dom,r),i},Bf=function(e,t,n,r){var o=Rf(e,t,n,r),i=oo(e,n)&&t===r;return o.collapsed&&!i},Ff=function(e){return w.from(e.getSelection())},zf=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return w.some(Xd.create(tr.fromDom(t.startContainer),t.startOffset,tr.fromDom(n.endContainer),n.endOffset))}return w.none()},Vf=function(e){if(null===e.anchorNode||null===e.focusNode)return zf(e);var t=tr.fromDom(e.anchorNode),n=tr.fromDom(e.focusNode);return Bf(t,e.anchorOffset,n,e.focusOffset)?w.some(Xd.create(t,e.anchorOffset,n,e.focusOffset)):zf(e)},Hf=function(e){return Ff(e).filter((function(e){return e.rangeCount>0})).bind(Vf)},Uf=function(e,t){var n=kf(e,t);return bf(n)},$f=function(e,t){return{element:e,offset:t}},qf=function(e,t){var n=Ki(e);if(0===n.length)return $f(e,t);if(t<n.length)return $f(n[t],0);var r=n[n.length-1],o=Bi(r)?Mf(r).length:Ki(r).length;return $f(r,o)},Wf=Ue.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Gf=function(e){return e.fold(a,(function(e,t,n){return e.translate(-t,-n)}))},Yf=function(e){return e.fold(a,a)},Kf=function(e){return J(e,(function(e,t){return e.translate(t.left,t.top)}),Tl(0,0))},Xf=function(e){var t=q(e,Gf);return Kf(t)},Jf=function(e){var t=q(e,Yf);return Kf(t)},Zf=Wf.screen,Qf=Wf.absolute,ep=function(e,t,n){var r=$i(n.root).dom,o=function(t){var n=Vi(t),r=Vi(e.element);return oo(n,r)};return w.from(r.frameElement).map(tr.fromDom).filter(o).map(Il)},tp=function(e,t,n){var r=Vi(e.element),o=$l(r),i=ep(e,t,n).getOr(o);return Qf(i,o.left,o.top)},np=function(e,t,n,r){var o=e,i=t,a=n,s=r;e<0&&(o=0,a=n+e),t<0&&(i=0,s=r+t);var l=Zf(Tl(o,i));return w.some(tu(l,a,s))},rp=function(e,t,n,r,o){return e.map((function(e){var i=[t,e.point],a=cd(r,(function(){return Jf(i)}),(function(){return Jf(i)}),(function(){return Xf(i)})),s=nu(a.left,a.top,e.width,e.height),l=n.showAbove?kc():Tc(),u=n.showAbove?Oc():Mc(),c=Hd(o,n,l,u,l,u,w.none());return Pd({anchorBox:s,bubble:n.bubble.getOr(Nd()),overrides:n.overrides,layouts:c,placer:w.none()})}))},op=function(e,t){return Bi(e)?$f(e,t):qf(e,t)},ip=function(e,t){var n=t.getSelection.getOrThunk((function(){return function(){return Hf(e)}}));return n().map((function(e){var t=op(e.start,e.soffset),n=op(e.finish,e.foffset);return pf.range(t.element,t.offset,n.element,n.offset)}))},ap=function(e,t,n){var r=$i(t.root).dom,o=tp(e,n,t),i=ip(r,t).bind((function(e){var t=Uf(r,pf.exactFromRange(e)).orThunk((function(){var t=tr.fromText(Gd);return Zi(e.start,t),Uf(r,pf.exact(t,0,t,1)).map((function(e){return aa(t),e}))}));return t.bind((function(e){return np(e.left,e.top,e.width,e.height)}))})),a=ip(r,t).bind((function(e){return Ri(e.start)?w.some(e.start):Wi(e.start)})),s=a.getOr(e.element);return rp(i,o,t,n,s)},sp=[In("getSelection"),bn("root"),In("bubble"),Vd(),Bn("overrides",{}),Bn("showAbove",!1),Hu("placement",ap)],lp=function(e,t,n){var r=tp(e,n,t);return t.node.bind((function(o){var i=o.dom.getBoundingClientRect(),a=np(i.left,i.top,i.width,i.height),s=t.node.getOr(e.element);return rp(a,r,t,n,s)}))},up=[bn("node"),bn("root"),In("bubble"),Vd(),Bn("overrides",{}),Bn("showAbove",!1),Hu("placement",lp)],cp=function(e){return e.x+e.width},dp=function(e,t){return e.x-t.width},fp=function(e,t){return e.y-t.height+e.height},pp=function(e){return e.y},hp=function(e,t,n){return qu(cp(e),pp(e),n.southeast(),Xu(),ic(e,{left:0,top:2}),"link-layout-se")},mp=function(e,t,n){return qu(dp(e,t),pp(e),n.southwest(),Ju(),ic(e,{right:1,top:2}),"link-layout-sw")},gp=function(e,t,n){return qu(cp(e),fp(e,t),n.northeast(),Zu(),ic(e,{left:0,bottom:3}),"link-layout-ne")},vp=function(e,t,n){return qu(dp(e,t),fp(e,t),n.northwest(),Qu(),ic(e,{right:1,bottom:3}),"link-layout-nw")},yp=function(){return[hp,mp,gp,vp]},bp=function(){return[mp,hp,vp,gp]},xp=function(e,t,n){var r=sd(n,t.item.element),o=Hd(e.element,t,yp(),bp(),yp(),bp(),w.none());return w.some(Pd({anchorBox:r,bubble:Nd(),overrides:t.overrides,layouts:o,placer:w.none()}))},wp=[bn("item"),Vd(),Bn("overrides",{}),Hu("placement",xp)],_p=ln("anchor",{selection:sp,node:up,hotspot:$d,submenu:wp,makeshift:Wd}),Cp=function(){var e=document.documentElement;return fd(0,0,e.clientWidth,e.clientHeight)},Sp=function(e){var t=Il(e.element),n=e.element.dom.getBoundingClientRect();return dd(t.left,t.top,n.width,n.height)},kp=function(e,t,n,r,o){var i=hd(n.anchorBox,t);Ed(i,o.element,n.bubble,n.layouts,r,n.overrides)},Op=function(e,t,n,r,o){Tp(e,t,n,r,o,w.none())},Tp=function(e,t,n,r,o,i){var a=i.map(ou);return Mp(e,t,n,r,o,a)},Mp=function(e,t,n,r,o,a){var s=on("positioning anchor.info",_p,r);td((function(){Ks(o.element,"position","fixed");var n=el(o.element,"visibility");Ks(o.element,"visibility","hidden");var r=t.useFixed()?Cp():Sp(e),l=s.placement,u=a.map(i).or(t.getBounds);l(e,s,r).each((function(t){var n=t.placer.getOr(kp);n(e,r,t,u,o)})),n.fold((function(){rl(o.element,"visibility")}),(function(e){Ks(o.element,"visibility",e)})),el(o.element,"left").isNone()&&el(o.element,"top").isNone()&&el(o.element,"right").isNone()&&el(o.element,"bottom").isNone()&&el(o.element,"position").is("fixed")&&rl(o.element,"position")}),o.element)},Dp=function(e,t,n){return t.useFixed()?"fixed":"absolute"},Ip=Object.freeze({__proto__:null,position:Op,positionWithin:Tp,positionWithinBounds:Mp,getMode:Dp}),Ep=[Bn("useFixed",c),In("getBounds")],Ap=Hc({fields:Ep,name:"positioning",active:Yc,apis:Ip}),Lp=function(e){ci(e,ti());var t=e.components();W(t,Lp)},jp=function(e){var t=e.components();W(t,jp),ci(e,ei())},Np=function(e,t){ta(e.element,t.element)},Pp=function(e){W(e.components(),(function(e){return aa(e.element)})),ia(e.element),e.syncComponents()},Rp=function(e,t){var n=e.components();Pp(e);var r=ie(n,t);W(r,(function(t){Lp(t),e.getSystem().removeFromWorld(t)})),W(t,(function(t){t.getSystem().isConnected()?Np(e,t):(e.getSystem().addToWorld(t),Np(e,t),$s(e.element)&&jp(t)),e.syncComponents()}))},Bp=function(e,t){Fp(e,t,ta)},Fp=function(e,t,n){e.getSystem().addToWorld(t),n(e.element,t.element),$s(e.element)&&jp(t),e.syncComponents()},zp=function(e){Lp(e),aa(e.element),e.getSystem().removeFromWorld(e)},Vp=function(e){var t=qi(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}));zp(e),t.each((function(e){e.syncComponents()}))},Hp=function(e){var t=e.components();W(t,zp),ia(e.element),e.syncComponents()},Up=function(e,t){qp(e,t,ta)},$p=function(e,t){qp(e,t,Qi)},qp=function(e,t,n){n(e,t.element);var r=Ki(t.element);W(r,(function(e){t.getByDom(e).each(jp)}))},Wp=function(e){var t=Ki(e.element);W(t,(function(t){e.getByDom(t).each(Lp)})),aa(e.element)},Gp=function(e,t,n,r){n.get().each((function(t){Hp(e)}));var o=t.getAttachPoint(e);Bp(o,e);var i=e.getSystem().build(r);return Bp(e,i),n.set(i),i},Yp=function(e,t,n,r){var o=Gp(e,t,n,r);return t.onOpen(e,o),o},Kp=function(e,t,n,r){return n.get().map((function(){return Gp(e,t,n,r)}))},Xp=function(e,t,n,r,o){rh(e,t),Yp(e,t,n,r),o(),ih(e,t)},Jp=function(e,t,n){n.get().each((function(r){Hp(e),Vp(e),t.onClose(e,r),n.clear()}))},Zp=function(e,t,n){return n.isOpen()},Qp=function(e,t,n,r){return Zp(e,t,n)&&n.get().exists((function(n){return t.isPartOf(e,n,r)}))},eh=function(e,t,n){return n.get()},th=function(e,t,n,r){el(e.element,t).fold((function(){ya(e.element,n)}),(function(t){pa(e.element,n,t)})),Ks(e.element,t,r)},nh=function(e,t,n){ga(e.element,n).fold((function(){return rl(e.element,t)}),(function(n){return Ks(e.element,t,n)}))},rh=function(e,t,n){var r=t.getAttachPoint(e);Ks(e.element,"position",Ap.getMode(r)),th(e,"visibility",t.cloakVisibilityAttr,"hidden")},oh=function(e){return H(["top","left","right","bottom"],(function(t){return el(e,t).isSome()}))},ih=function(e,t,n){oh(e.element)||rl(e.element,"position"),nh(e,"visibility",t.cloakVisibilityAttr)},ah=Object.freeze({__proto__:null,cloak:rh,decloak:ih,open:Yp,openWhileCloaked:Xp,close:Jp,isOpen:Zp,isPartOf:Qp,getState:eh,setContent:Kp}),sh=function(e,t){return gi([xi(Go(),(function(n,r){Jp(n,e,t)}))])},lh=Object.freeze({__proto__:null,events:sh}),uh=[Bu("onOpen"),Bu("onClose"),bn("isPartOf"),bn("getAttachPoint"),Bn("cloakVisibilityAttr","data-precloak-visibility")],ch=function(){var e=Kn(w.none()),t=i("not-implemented"),n=function(){return e.get().isSome()},r=function(t){e.set(w.some(t))},o=function(){return e.get()},a=function(){e.set(w.none())};return Ya({readState:t,isOpen:n,clear:a,set:r,get:o})},dh=Object.freeze({__proto__:null,init:ch}),fh=Hc({fields:uh,name:"sandboxing",active:lh,apis:ah,state:dh}),ph=i("dismiss.popups"),hh=i("reposition.popups"),mh=i("mouse.released"),gh=Rt([Bn("isExtraPart",c),Pn("fireEventInstead",[Bn("event",ni())])]),vh=function(e){var t,n=on("Dismissal",gh,e);return t={},t[ph()]={schema:Rt([bn("target")]),onReceive:function(e,t){if(fh.isOpen(e)){var r=fh.isPartOf(e,t.target)||n.isExtraPart(e,t.target);r||n.fireEventInstead.fold((function(){return fh.close(e)}),(function(t){return ci(e,t.event)}))}}},t},yh=Rt([Pn("fireEventInstead",[Bn("event",ri())]),kn("doReposition")]),bh=function(e){var t,n=on("Reposition",yh,e);return t={},t[hh()]={onReceive:function(e){fh.isOpen(e)&&n.fireEventInstead.fold((function(){return n.doReposition(e)}),(function(t){return ci(e,t.event)}))}},t},xh=function(e,t,n){t.store.manager.onLoad(e,t,n)},wh=function(e,t,n){t.store.manager.onUnload(e,t,n)},_h=function(e,t,n,r){t.store.manager.setValue(e,t,n,r)},Ch=function(e,t,n){return t.store.manager.getValue(e,t,n)},Sh=function(e,t,n){return n},kh=Object.freeze({__proto__:null,onLoad:xh,onUnload:wh,setValue:_h,getValue:Ch,getState:Sh}),Oh=function(e,t){var n=e.resetOnDom?[Ii((function(n,r){xh(n,e,t)})),Ei((function(n,r){wh(n,e,t)}))]:[jc(e,t,xh)];return gi(n)},Th=Object.freeze({__proto__:null,events:Oh}),Mh=function(){var e=Kn(null),t=function(){return{mode:"memory",value:e.get()}},n=function(){return null===e.get()},r=function(){e.set(null)};return Ya({set:e.set,get:e.get,isNotSet:n,clear:r,readState:t})},Dh=function(){var e=function(){};return Ya({readState:e})},Ih=function(){var e=Kn({}),t=Kn({}),n=function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},r=function(){e.set({}),t.set({})},o=function(n){return Fe(e.get(),n).orThunk((function(){return Fe(t.get(),n)}))},i=function(n){var r=e.get(),o=t.get(),i={},a={};W(n,(function(e){i[e.value]=e,Fe(e,"meta").each((function(t){Fe(t,"text").each((function(t){a[t]=e}))}))})),e.set(p(p({},r),i)),t.set(p(p({},o),a))};return Ya({readState:n,lookup:o,update:i,clear:r})},Eh=function(e){return e.store.manager.state(e)},Ah=Object.freeze({__proto__:null,memory:Mh,dataset:Ih,manual:Dh,init:Eh}),Lh=function(e,t,n,r){var o=t.store;n.update([r]),o.setValue(e,r),t.onSetValue(e,r)},jh=function(e,t,n){var r=t.store,o=r.getDataKey(e);return n.lookup(o).fold((function(){return r.getFallbackEntry(o)}),(function(e){return e}))},Nh=function(e,t,n){var r=t.store;r.initialValue.each((function(r){Lh(e,t,n,r)}))},Ph=function(e,t,n){n.clear()},Rh=[In("initialValue"),bn("getFallbackEntry"),bn("getDataKey"),bn("setValue"),Hu("manager",{setValue:Lh,getValue:jh,onLoad:Nh,onUnload:Ph,state:Ih})],Bh=function(e,t,n){return t.store.getValue(e)},Fh=function(e,t,n,r){t.store.setValue(e,r),t.onSetValue(e,r)},zh=function(e,t,n){t.store.initialValue.each((function(n){t.store.setValue(e,n)}))},Vh=[bn("getValue"),Bn("setValue",t),In("initialValue"),Hu("manager",{setValue:Fh,getValue:Bh,onLoad:zh,onUnload:t,state:Ga.init})],Hh=function(e,t,n,r){n.set(r),t.onSetValue(e,r)},Uh=function(e,t,n){return n.get()},$h=function(e,t,n){t.store.initialValue.each((function(e){n.isNotSet()&&n.set(e)}))},qh=function(e,t,n){n.clear()},Wh=[In("initialValue"),Hu("manager",{setValue:Hh,getValue:Uh,onLoad:$h,onUnload:qh,state:Mh})],Gh=[Fn("store",{mode:"memory"},ln("mode",{memory:Wh,manual:Vh,dataset:Rh})),Bu("onSetValue"),Bn("resetOnDom",!1)],Yh=Hc({fields:Gh,name:"representing",active:Th,apis:kh,extra:{setValueFrom:function(e,t){var n=Yh.getValue(t);Yh.setValue(e,n)}},state:Ah}),Kh=function(e,t){return Gn(e,{},q(t,(function(t){return On(t.name(),"Cannot configure "+t.name()+" for "+e)})).concat([Yn("dump",a)]))},Xh=function(e){return e.dump},Jh=function(e,t){return p(p({},e.dump),zc(t))},Zh={field:Kh,augment:Jh,get:Xh},Qh="placeholder",em=Ue.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),tm=function(e){return ze(e,"uiType")},nm=function(e,t,n,r){return e.exists((function(e){return e!==n.owner}))?em.single(!0,i(n)):Fe(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+Me(r)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(e){return e.replace()}))},rm=function(e,t,n,r){return tm(n)&&n.uiType===Qh?nm(e,t,n,r):em.single(!1,i(n))},om=function(e,t,n,r){var o=rm(e,t,n,r);return o.fold((function(o,i){var a=tm(n)?i(t,n.config,n.validated):i(t),s=Fe(a,"components").getOr([]),l=ne(s,(function(n){return om(e,t,n,r)}));return[p(p({},a),{components:l})]}),(function(e,r){if(tm(n)){var o=r(t,n.config,n.validated),i=n.validated.preprocess.getOr(a);return i(o)}return r(t)}))},im=function(e,t,n,r){return ne(n,(function(n){return om(e,t,n,r)}))},am=function(e,t){var n=!1,r=function(){return n},o=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t},a=function(){return t.fold((function(e,t){return e}),(function(e,t){return e}))};return{name:i(e),required:a,used:r,replace:o}},sm=function(e,t,n,r){var o=Ee(r,(function(e,t){return am(t,e)})),i=im(e,t,n,o);return Ie(o,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),i},lm=em.single,um=em.multiple,cm=i(Qh),dm=Ue.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),fm=Bn("factory",{sketch:a}),pm=Bn("schema",[]),hm=bn("name"),mm=Wt("pname","pname",nt((function(e){return"<alloy."+Ta(e.name)+">"})),cn()),gm=Yn("schema",(function(){return[In("preprocess")]})),vm=Bn("defaults",i({})),ym=Bn("overrides",i({})),bm=Bt([fm,pm,hm,mm,vm,ym]),xm=Bt([fm,pm,hm,vm,ym]),wm=Bt([fm,pm,hm,mm,vm,ym]),_m=Bt([fm,gm,hm,bn("unit"),mm,vm,ym]),Cm=function(e){return e.fold(w.some,w.none,w.some,w.some)},Sm=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)},km=function(e){return e.fold(a,a,a,a)},Om=function(e,t){return function(n){var r=on("Converting part type",t,n);return e(r)}},Tm=Om(dm.required,bm),Mm=Om(dm.external,xm),Dm=Om(dm.optional,wm),Im=Om(dm.group,_m),Em=i("entirety"),Am=Object.freeze({__proto__:null,required:Tm,external:Mm,optional:Dm,group:Im,asNamedPart:Cm,name:Sm,asCommon:km,original:Em}),Lm=function(e,t,n,r){return Ye(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r))},jm=function(e,t,n){var r={},o={};return W(n,(function(e){e.fold((function(e){r[e.pname]=lm(!0,(function(t,n,r){return e.factory.sketch(Lm(t,e,n,r))}))}),(function(e){var n=t.parts[e.name];o[e.name]=i(e.factory.sketch(Lm(t,e,n[Em()]),n))}),(function(e){r[e.pname]=lm(!1,(function(t,n,r){return e.factory.sketch(Lm(t,e,n,r))}))}),(function(e){r[e.pname]=um(!0,(function(t,n,r){var o=t[e.name];return q(o,(function(n){return e.factory.sketch(Ye(e.defaults(t,n,r),n,e.overrides(t,n)))}))}))}))})),{internals:i(r),externals:i(o)}},Nm=function(e,t){var n={};return W(t,(function(t){Cm(t).each((function(t){var r=Pm(e,t.pname);n[t.name]=function(n){var o=on("Part: "+t.name+" in "+e,Bt(t.schema),n);return p(p({},r),{config:n,validated:o})}}))})),n},Pm=function(e,t){return{uiType:cm(),owner:e,name:t}},Rm=function(e,t,n){return{uiType:cm(),owner:e,name:t,config:n,validated:{}}},Bm=function(e){return ne(e,(function(e){return e.fold(w.none,w.some,w.none,w.none).map((function(e){return Tn(e.name,e.schema.concat([Uu(Em())]))})).toArray()}))},Fm=function(e){return q(e,Sm)},zm=function(e,t,n){return jm(e,t,n)},Vm=function(e,t,n){return sm(w.some(e),t,t.components,n)},Hm=function(e,t,n){var r=t.partUids[n];return e.getSystem().getByUid(r).toOptional()},Um=function(e,t,n){return Hm(e,t,n).getOrDie("Could not find part: "+n)},$m=function(e,t,n){var r={},o=t.partUids,a=e.getSystem();return W(n,(function(e){r[e]=i(a.getByUid(o[e]))})),r},qm=function(e,t){var n=e.getSystem();return Ee(t.partUids,(function(e,t){return i(n.getByUid(e))}))},Wm=function(e){return Me(e.partUids)},Gm=function(e,t,n){var r={},o=t.partUids,a=e.getSystem();return W(n,(function(e){r[e]=i(a.getByUid(o[e]).getOrDie())})),r},Ym=function(e,t){var n=Fm(t);return ct(q(n,(function(t){return{key:t,value:e+"-"+t}})))},Km=function(e){return Wt("partUids","partUids",rt((function(t){return Ym(t.uid,e)})),cn())},Xm=Object.freeze({__proto__:null,generate:Nm,generateOne:Rm,schemas:Bm,names:Fm,substitutes:zm,components:Vm,defaultUids:Ym,defaultUidsSchema:Km,getAllParts:qm,getAllPartNames:Wm,getPart:Hm,getPartOrDie:Um,getParts:$m,getPartsOrDie:Gm}),Jm=function(e,t){var n=e.length>0?[Tn("parts",e)]:[];return n.concat([bn("uid"),Bn("dom",{}),Bn("components",[]),Uu("originalSpec"),Bn("debug.sketcher",{})]).concat(t)},Zm=function(e,t,n,r,o){var i=Jm(r,o);return on(e+" [SpecSchema]",Rt(i.concat(t)),n)},Qm=function(e,t,n,r){var o=ng(r),i=Zm(e,t,o,[],[]);return n(i,o)},eg=function(e,t,n,r,o){var i=ng(o),a=Bm(n),s=Km(n),l=Zm(e,t,i,a,[s]),u=zm(e,l,n),c=Vm(e,l,u.internals());return r(l,c,i,u.externals())},tg=function(e){return ze(e,"uid")},ng=function(e){return tg(e)?e:p(p({},e),{uid:Na("uid")})};function rg(e){return void 0!==e.uid}var og,ig=Rt([bn("name"),bn("factory"),bn("configFields"),Bn("apis",{}),Bn("extraApis",{})]),ag=Rt([bn("name"),bn("factory"),bn("configFields"),bn("partFields"),Bn("apis",{}),Bn("extraApis",{})]),sg=function(e){var t=on("Sketcher for "+e.name,ig,e),n=function(e){return Qm(t.name,t.configFields,t.factory,e)},r=Ee(t.apis,Wa),o=Ee(t.extraApis,(function(e,t){return Va(e,t)}));return p(p({name:t.name,configFields:t.configFields,sketch:n},r),o)},lg=function(e){var t=on("Sketcher for "+e.name,ag,e),n=function(e){return eg(t.name,t.configFields,t.partFields,t.factory,e)},r=Nm(t.name,t.partFields),o=Ee(t.apis,Wa),i=Ee(t.extraApis,(function(e,t){return Va(e,t)}));return p(p({name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:n,parts:r},o),i)},ug=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},cg=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.isSome())return w.none();t.push(r.getOrDie())}return w.some(t)},dg=function(e,t,n){return e.isSome()&&t.isSome()?w.some(n(e.getOrDie(),t.getOrDie())):w.none()},fg=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?w.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):w.none()},pg=function(e,t){return void 0!==e&&null!==e?w.some(t(e)):w.none()},hg=function(e,t){return e?w.some(t):w.none()},mg=function(e){return"input"===ji(e)&&"radio"!==ma(e,"type")||"textarea"===ji(e)},gg=function(e,t,n){return t.find(e)},vg=Object.freeze({__proto__:null,getCurrent:gg}),yg=[bn("find")],bg=Hc({fields:yg,name:"composing",apis:vg}),xg=function(e,t,n,r){var o=Pf(e.element,"."+t.highlightClass);W(o,(function(n){H(r,(function(e){return e.element===n}))||(Ds(n,t.highlightClass),e.getSystem().getByDom(n).each((function(n){t.onDehighlight(e,n),ci(n,ui())})))}))},wg=function(e,t,n){return xg(e,t,n,[])},_g=function(e,t,n,r){Mg(e,t,n,r)&&(Ds(r.element,t.highlightClass),t.onDehighlight(e,r),ci(r,ui()))},Cg=function(e,t,n,r){xg(e,t,n,[r]),Mg(e,t,n,r)||(Ts(r.element,t.highlightClass),t.onHighlight(e,r),ci(r,li()))},Sg=function(e,t,n){Eg(e,t).each((function(r){Cg(e,t,n,r)}))},kg=function(e,t,n){Ag(e,t).each((function(r){Cg(e,t,n,r)}))},Og=function(e,t,n,r){Ig(e,t,n,r).fold((function(e){throw new Error(e)}),(function(r){Cg(e,t,n,r)}))},Tg=function(e,t,n,r){var o=Pg(e,t),i=Q(o,r);i.each((function(r){Cg(e,t,n,r)}))},Mg=function(e,t,n,r){return Is(r.element,t.highlightClass)},Dg=function(e,t,n){return hu(e.element,"."+t.highlightClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},Ig=function(e,t,n,r){var o=Pf(e.element,"."+t.itemClass);return w.from(o[r]).fold((function(){return ge.error("No element found with index "+r)}),e.getSystem().getByDom)},Eg=function(e,t,n){return hu(e.element,"."+t.itemClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},Ag=function(e,t,n){var r=Pf(e.element,"."+t.itemClass),o=r.length>0?w.some(r[r.length-1]):w.none();return o.bind((function(t){return e.getSystem().getByDom(t).toOptional()}))},Lg=function(e,t,n,r){var o=Pf(e.element,"."+t.itemClass),i=ee(o,(function(e){return Is(e,t.highlightClass)}));return i.bind((function(t){var n=md(t,r,0,o.length-1);return e.getSystem().getByDom(o[n]).toOptional()}))},jg=function(e,t,n){return Lg(e,t,n,-1)},Ng=function(e,t,n){return Lg(e,t,n,1)},Pg=function(e,t,n){var r=Pf(e.element,"."+t.itemClass);return ug(q(r,(function(t){return e.getSystem().getByDom(t).toOptional()})))},Rg=Object.freeze({__proto__:null,dehighlightAll:wg,dehighlight:_g,highlight:Cg,highlightFirst:Sg,highlightLast:kg,highlightAt:Og,highlightBy:Tg,isHighlighted:Mg,getHighlighted:Dg,getFirst:Eg,getLast:Ag,getPrevious:jg,getNext:Ng,getCandidates:Pg}),Bg=[bn("highlightClass"),bn("itemClass"),Bu("onHighlight"),Bu("onDehighlight")],Fg=Hc({fields:Bg,name:"highlighting",apis:Rg}),zg=[8],Vg=[9],Hg=[13],Ug=[27],$g=[32],qg=[37],Wg=[38],Gg=[39],Yg=[40],Kg=function(e,t,n){var r=oe(e.slice(0,t)),o=oe(e.slice(t+1));return Q(r.concat(o),n)},Xg=function(e,t,n){var r=oe(e.slice(0,t));return Q(r,n)},Jg=function(e,t,n){var r=e.slice(0,t),o=e.slice(t+1);return Q(o.concat(r),n)},Zg=function(e,t,n){var r=e.slice(t+1);return Q(r,n)},Qg=function(e){return function(t){var n=t.raw;return V(e,n.which)}},ev=function(e){return function(t){return re(e,(function(e){return e(t)}))}},tv=function(e){var t=e.raw;return!0===t.shiftKey},nv=function(e){var t=e.raw;return!0===t.ctrlKey},rv=l(tv),ov=function(e,t){return{matches:e,classification:t}},iv=function(e,t){var n=Q(e,(function(e){return e.matches(t)}));return n.map((function(e){return e.classification}))},av=function(e,t,n){var r=t.exists((function(e){return n.exists((function(t){return oo(t,e)}))}));r||di(e,oi(),{prevFocus:t,newFocus:n})},sv=function(){var e=function(e){return ed(e.element)},t=function(t,n){var r=e(t);t.getSystem().triggerFocus(n,t.element);var o=e(t);av(t,r,o)};return{get:e,set:t}},lv=function(){var e=function(e){return Fg.getHighlighted(e).map((function(e){return e.element}))},n=function(n,r){var o=e(n);n.getSystem().getByDom(r).fold(t,(function(e){Fg.highlight(n,e)}));var i=e(n);av(n,o,i)};return{get:e,set:n}};(function(e){e["OnFocusMode"]="onFocus",e["OnEnterOrSpaceMode"]="onEnterOrSpace",e["OnApiMode"]="onApi"})(og||(og={}));var uv=function(e,t,n,r,o){var i=function(){return e.concat([Bn("focusManager",sv()),Fn("focusInside","onFocus",Qt((function(e){return V(["onFocus","onEnterOrSpace","onApi"],e)?ge.value(e):ge.error("Invalid value for focusInside")}))),Hu("handler",l),Hu("state",t),Hu("sendFocusIn",o)])},a=function(e,t,n,r,o){var i=n(e,t,r,o);return iv(i,t.event).bind((function(n){return n(e,t,r,o)}))},s=function(e,t){var i=e.focusInside!==og.OnFocusMode?w.none():o(e).map((function(n){return xi(Fo(),(function(r,o){n(r,e,t),o.stop()}))})),s=function(n,r){var i=Qg($g.concat(Hg))(r.event);e.focusInside===og.OnEnterOrSpaceMode&&i&&fo(n,r)&&o(e).each((function(o){o(n,e,t),r.stop()}))},l=[xi(Io(),(function(r,o){a(r,o,n,e,t).fold((function(){s(r,o)}),(function(e){o.stop()}))})),xi(Eo(),(function(n,o){a(n,o,r,e,t).each((function(e){o.stop()}))}))];return gi(i.toArray().concat(l))},l={schema:i,processKey:a,toEvents:s};return l},cv=function(e){var t=[In("onEscape"),In("onEnter"),Bn("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Bn("firstTabstop",0),Bn("useTabstopAt",d),In("visibilitySelector")].concat([e]),n=function(e,t){var n=e.visibilitySelector.bind((function(e){return mu(t,e)})).getOr(t);return Cl(n)>0},r=function(e,t){var r=Pf(e.element,t.selector),o=K(r,(function(e){return n(t,e)}));return w.from(o[t.firstTabstop])},o=function(e,t){return t.focusManager.get(e).bind((function(e){return mu(e,t.selector)}))},a=function(e,t){return n(e,t)&&e.useTabstopAt(t)},l=function(e,t,n){r(e,t).each((function(n){t.focusManager.set(e,n)}))},u=function(e,t,n,r,o){return o(t,n,(function(e){return a(r,e)})).fold((function(){return r.cyclic?w.some(!0):w.none()}),(function(t){return r.focusManager.set(e,t),w.some(!0)}))},c=function(e,t,n,r){var i=Pf(e.element,n.selector);return o(e,n).bind((function(t){var o=ee(i,s(oo,t));return o.bind((function(t){return u(e,i,t,n,r)}))}))},f=function(e,t,n){var r=n.cyclic?Kg:Xg;return c(e,t,n,r)},p=function(e,t,n){var r=n.cyclic?Jg:Zg;return c(e,t,n,r)},h=function(e,t,n){return n.onEnter.bind((function(n){return n(e,t)}))},m=function(e,t,n){return n.onEscape.bind((function(n){return n(e,t)}))},g=i([ov(ev([tv,Qg(Vg)]),f),ov(Qg(Vg),p),ov(Qg(Ug),m),ov(ev([rv,Qg(Hg)]),h)]),v=i([]);return uv(t,Ga.init,g,v,(function(){return w.some(l)}))},dv=cv(Yn("cyclic",c)),fv=cv(Yn("cyclic",d)),pv=function(e,t,n){return pi(e,n,Uo()),w.some(!0)},hv=function(e,t,n){var r=mg(n)&&Qg($g)(t.event);return r?w.none():pv(e,t,n)},mv=function(e,t){return w.some(!0)},gv=[Bn("execute",hv),Bn("useSpace",!1),Bn("useEnter",!0),Bn("useControlEnter",!1),Bn("useDown",!1)],vv=function(e,t,n){return n.execute(e,t,e.element)},yv=function(e,t,n,r){var o=n.useSpace&&!mg(e.element)?$g:[],i=n.useEnter?Hg:[],a=n.useDown?Yg:[],s=o.concat(i).concat(a);return[ov(Qg(s),vv)].concat(n.useControlEnter?[ov(ev([nv,Qg(Hg)]),vv)]:[])},bv=function(e,t,n,r){return n.useSpace&&!mg(e.element)?[ov(Qg($g),mv)]:[]},xv=uv(gv,Ga.init,yv,bv,(function(){return w.none()})),wv=function(){var e=Kn(w.none()),t=function(t,n){e.set(w.some({numRows:t,numColumns:n}))},n=function(){return e.get().map((function(e){return e.numRows}))},r=function(){return e.get().map((function(e){return e.numColumns}))};return Ya({readState:function(){return e.get().map((function(e){return{numRows:String(e.numRows),numColumns:String(e.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:t,getNumRows:n,getNumColumns:r})},_v=function(e){return e.state(e)},Cv=Object.freeze({__proto__:null,flatgrid:wv,init:_v}),Sv=function(e){return function(t,n,r,o){var i=e(t.element);return Mv(i,t,n,r,o)}},kv=function(e,t){var n=Rd(e,t);return Sv(n)},Ov=function(e,t){var n=Rd(t,e);return Sv(n)},Tv=function(e){return function(t,n,r,o){return Mv(e,t,n,r,o)}},Mv=function(e,t,n,r,o){var i=r.focusManager.get(t).bind((function(n){return e(t.element,n,r,o)}));return i.map((function(e){return r.focusManager.set(t,e),!0}))},Dv=Tv,Iv=Tv,Ev=Tv,Av=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Lv=function(e){return!Av(e.dom)},jv=function(e,t){return ee(e,t).map((function(t){return{index:t,candidates:e}}))},Nv=function(e,t,n){var r=function(e){return oo(e,t)},o=Pf(e,n),i=K(o,Lv);return jv(i,r)},Pv=function(e,t){return ee(e,(function(e){return oo(t,e)}))},Rv=function(e,t,n,r){var o=Math.floor(t/n),i=t%n;return r(o,i).bind((function(t){var r=t.row*n+t.column;return r>=0&&r<e.length?w.some(e[r]):w.none()}))},Bv=function(e,t,n,r,o){return Rv(e,t,r,(function(t,i){var a=t===n-1,s=a?e.length-t*r:r,l=md(i,o,0,s-1);return w.some({row:t,column:l})}))},Fv=function(e,t,n,r,o){return Rv(e,t,r,(function(t,i){var a=md(t,o,0,n-1),s=a===n-1,l=s?e.length-a*r:r,u=gd(i,0,l-1);return w.some({row:a,column:u})}))},zv=function(e,t,n,r){return Bv(e,t,n,r,1)},Vv=function(e,t,n,r){return Bv(e,t,n,r,-1)},Hv=function(e,t,n,r){return Fv(e,t,n,r,-1)},Uv=function(e,t,n,r){return Fv(e,t,n,r,1)},$v=[bn("selector"),Bn("execute",hv),Fu("onEscape"),Bn("captureTab",!1),$u()],qv=function(e,t,n){hu(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))},Wv=function(e,t){return t.focusManager.get(e).bind((function(e){return mu(e,t.selector)}))},Gv=function(e,t,n,r){return Wv(e,n).bind((function(r){return n.execute(e,t,r)}))},Yv=function(e){return function(t,n,r,o){return Nv(t,n,r.selector).bind((function(t){return e(t.candidates,t.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}},Kv=function(e,t,n){return n.captureTab?w.some(!0):w.none()},Xv=function(e,t,n){return n.onEscape(e,t)},Jv=Yv(Vv),Zv=Yv(zv),Qv=Yv(Hv),ey=Yv(Uv),ty=i([ov(Qg(qg),kv(Jv,Zv)),ov(Qg(Gg),Ov(Jv,Zv)),ov(Qg(Wg),Dv(Qv)),ov(Qg(Yg),Iv(ey)),ov(ev([tv,Qg(Vg)]),Kv),ov(ev([rv,Qg(Vg)]),Kv),ov(Qg(Ug),Xv),ov(Qg($g.concat(Hg)),Gv)]),ny=i([ov(Qg($g),mv)]),ry=uv($v,wv,ty,ny,(function(){return w.some(qv)})),oy=function(e,t,n,r){var o=function(e){return"button"===ji(e)&&"disabled"===ma(e,"disabled")},i=function(e,t,n){var a=md(t,r,0,n.length-1);return a===e?w.none():o(n[a])?i(e,a,n):w.from(n[a])};return Nv(e,n,t).bind((function(e){var t=e.index,n=e.candidates;return i(t,t,n)}))},iy=[bn("selector"),Bn("getInitial",w.none),Bn("execute",hv),Fu("onEscape"),Bn("executeOnMove",!1),Bn("allowVertical",!0)],ay=function(e,t){return t.focusManager.get(e).bind((function(e){return mu(e,t.selector)}))},sy=function(e,t,n){return ay(e,n).bind((function(r){return n.execute(e,t,r)}))},ly=function(e,t,n){t.getInitial(e).orThunk((function(){return hu(e.element,t.selector)})).each((function(n){t.focusManager.set(e,n)}))},uy=function(e,t,n){return oy(e,n.selector,t,-1)},cy=function(e,t,n){return oy(e,n.selector,t,1)},dy=function(e){return function(t,n,r,o){return e(t,n,r,o).bind((function(){return r.executeOnMove?sy(t,n,r):w.some(!0)}))}},fy=function(e,t,n){return n.onEscape(e,t)},py=function(e,t,n,r){var o=qg.concat(n.allowVertical?Wg:[]),i=Gg.concat(n.allowVertical?Yg:[]);return[ov(Qg(o),dy(kv(uy,cy))),ov(Qg(i),dy(Ov(uy,cy))),ov(Qg(Hg),sy),ov(Qg($g),sy),ov(Qg(Ug),fy)]},hy=i([ov(Qg($g),mv)]),my=uv(iy,Ga.init,py,hy,(function(){return w.some(ly)})),gy=function(e,t,n){return w.from(e[t]).bind((function(e){return w.from(e[n]).map((function(e){return{rowIndex:t,columnIndex:n,cell:e}}))}))},vy=function(e,t,n,r){var o=e[t],i=o.length,a=md(n,r,0,i-1);return gy(e,t,a)},yy=function(e,t,n,r){var o=md(n,r,0,e.length-1),i=e[o].length,a=gd(t,0,i-1);return gy(e,o,a)},by=function(e,t,n,r){var o=e[t],i=o.length,a=gd(n+r,0,i-1);return gy(e,t,a)},xy=function(e,t,n,r){var o=gd(n+r,0,e.length-1),i=e[o].length,a=gd(t,0,i-1);return gy(e,o,a)},wy=function(e,t,n){return vy(e,t,n,1)},_y=function(e,t,n){return vy(e,t,n,-1)},Cy=function(e,t,n){return yy(e,n,t,-1)},Sy=function(e,t,n){return yy(e,n,t,1)},ky=function(e,t,n){return by(e,t,n,-1)},Oy=function(e,t,n){return by(e,t,n,1)},Ty=function(e,t,n){return xy(e,n,t,-1)},My=function(e,t,n){return xy(e,n,t,1)},Dy=[Tn("selectors",[bn("row"),bn("cell")]),Bn("cycles",!0),Bn("previousSelector",w.none),Bn("execute",hv)],Iy=function(e,t,n){var r=t.previousSelector(e).orThunk((function(){var n=t.selectors;return hu(e.element,n.cell)}));r.each((function(n){t.focusManager.set(e,n)}))},Ey=function(e,t,n){return ed(e.element).bind((function(r){return n.execute(e,t,r)}))},Ay=function(e,t){return q(e,(function(e){return Pf(e,t.selectors.cell)}))},Ly=function(e,t){return function(n,r,o){var i=o.cycles?e:t;return mu(r,o.selectors.row).bind((function(e){var t=Pf(e,o.selectors.cell);return Pv(t,r).bind((function(t){var r=Pf(n,o.selectors.row);return Pv(r,e).bind((function(e){var n=Ay(r,o);return i(n,e,t).map((function(e){return e.cell}))}))}))}))}},jy=Ly(_y,ky),Ny=Ly(wy,Oy),Py=Ly(Cy,Ty),Ry=Ly(Sy,My),By=i([ov(Qg(qg),kv(jy,Ny)),ov(Qg(Gg),Ov(jy,Ny)),ov(Qg(Wg),Dv(Py)),ov(Qg(Yg),Iv(Ry)),ov(Qg($g.concat(Hg)),Ey)]),Fy=i([ov(Qg($g),mv)]),zy=uv(Dy,Ga.init,By,Fy,(function(){return w.some(Iy)})),Vy=[bn("selector"),Bn("execute",hv),Bn("moveOnTab",!1)],Hy=function(e,t,n){return n.focusManager.get(e).bind((function(r){return n.execute(e,t,r)}))},Uy=function(e,t,n){hu(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))},$y=function(e,t,n){return oy(e,n.selector,t,-1)},qy=function(e,t,n){return oy(e,n.selector,t,1)},Wy=function(e,t,n,r){return n.moveOnTab?Ev($y)(e,t,n,r):w.none()},Gy=function(e,t,n,r){return n.moveOnTab?Ev(qy)(e,t,n,r):w.none()},Yy=i([ov(Qg(Wg),Ev($y)),ov(Qg(Yg),Ev(qy)),ov(ev([tv,Qg(Vg)]),Wy),ov(ev([rv,Qg(Vg)]),Gy),ov(Qg(Hg),Hy),ov(Qg($g),Hy)]),Ky=i([ov(Qg($g),mv)]),Xy=uv(Vy,Ga.init,Yy,Ky,(function(){return w.some(Uy)})),Jy=[Fu("onSpace"),Fu("onEnter"),Fu("onShiftEnter"),Fu("onLeft"),Fu("onRight"),Fu("onTab"),Fu("onShiftTab"),Fu("onUp"),Fu("onDown"),Fu("onEscape"),Bn("stopSpaceKeyup",!1),In("focusIn")],Zy=function(e,t,n){return[ov(Qg($g),n.onSpace),ov(ev([rv,Qg(Hg)]),n.onEnter),ov(ev([tv,Qg(Hg)]),n.onShiftEnter),ov(ev([tv,Qg(Vg)]),n.onShiftTab),ov(ev([rv,Qg(Vg)]),n.onTab),ov(Qg(Wg),n.onUp),ov(Qg(Yg),n.onDown),ov(Qg(qg),n.onLeft),ov(Qg(Gg),n.onRight),ov(Qg($g),n.onSpace),ov(Qg(Ug),n.onEscape)]},Qy=function(e,t,n){return n.stopSpaceKeyup?[ov(Qg($g),mv)]:[]},eb=uv(Jy,Ga.init,Zy,Qy,(function(e){return e.focusIn})),tb=dv.schema(),nb=fv.schema(),rb=my.schema(),ob=ry.schema(),ib=zy.schema(),ab=xv.schema(),sb=Xy.schema(),lb=eb.schema(),ub=Object.freeze({__proto__:null,acyclic:tb,cyclic:nb,flow:rb,flatgrid:ob,matrix:ib,execution:ab,menu:sb,special:lb}),cb=function(e){return Ve(e,"setGridSize")},db=$c({branchKey:"mode",branches:ub,name:"keying",active:{events:function(e,t){var n=e.handler;return n.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold((function(){e.getSystem().triggerFocus(e.element,e.element)}),(function(r){r(e,t,n)}))},setGridSize:function(e,t,n,r,o){cb(n)&&n.setGridSize(r,o)}},state:Cv}),fb=function(e,t,n,r){td((function(){var t=q(r,e.getSystem().build);Rp(e,t)}),e.element)},pb=function(e,t,n,r){var o=e.getSystem().build(r);Fp(e,o,n)},hb=function(e,t,n,r){pb(e,t,ta,r)},mb=function(e,t,n,r){pb(e,t,ea,r)},gb=function(e,t,n,r){var o=vb(e),i=Q(o,(function(e){return oo(r.element,e.element)}));i.each(Vp)},vb=function(e,t){return e.components()},yb=function(e,t,n,r,o){var i=vb(e);return w.from(i[r]).map((function(i){return gb(e,t,n,i),o.each((function(n){pb(e,t,(function(e,t){na(e,t,r)}),n)})),i}))},bb=function(e,t,n,r,o){var i=vb(e);return ee(i,r).bind((function(r){return yb(e,t,n,r,o)}))},xb=Object.freeze({__proto__:null,append:hb,prepend:mb,remove:gb,replaceAt:yb,replaceBy:bb,set:fb,contents:vb}),wb=Hc({fields:[],name:"replacing",apis:xb}),_b=function(e,t){var n=gi(t);return Hc({fields:[bn("enabled")],name:e,active:{events:i(n)}})},Cb=function(e,t){var n=_b(e,t);return{key:e,value:{config:{},me:n,configAsRaw:i({}),initialConfig:{},state:Ga}}},Sb=function(e,t){t.ignore||(Xc(e.element),t.onFocus(e))},kb=function(e,t){t.ignore||Jc(e.element)},Ob=function(e){return Zc(e.element)},Tb=Object.freeze({__proto__:null,focus:Sb,blur:kb,isFocused:Ob}),Mb=function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return Qa(n)},Db=function(e){return gi([xi(Fo(),(function(t,n){Sb(t,e),n.stop()}))].concat(e.stopMousedown?[xi(Co(),(function(e,t){t.event.prevent()}))]:[]))},Ib=Object.freeze({__proto__:null,exhibit:Mb,events:Db}),Eb=[Bu("onFocus"),Bn("stopMousedown",!1),Bn("ignore",!1)],Ab=Hc({fields:Eb,name:"focusing",active:Ib,apis:Tb}),Lb=function(e){var t=function(){var t=Kn(e),n=function(){return t.get()},r=function(e){return t.set(e)},o=function(){return t.set(e)},i=function(){return t.get()};return{get:n,set:r,clear:o,readState:i}};return{init:t}},jb=function(e,t,n){var r=t.aria;r.update(e,r,n.get())},Nb=function(e,t,n){t.toggleClass.each((function(t){n.get()?Ts(e.element,t):Ds(e.element,t)}))},Pb=function(e,t,n){Fb(e,t,n,!n.get())},Rb=function(e,t,n){n.set(!0),Nb(e,t,n),jb(e,t,n)},Bb=function(e,t,n){n.set(!1),Nb(e,t,n),jb(e,t,n)},Fb=function(e,t,n,r){var o=r?Rb:Bb;o(e,t,n)},zb=function(e,t,n){return n.get()},Vb=function(e,t,n){Fb(e,t,n,t.selected)},Hb=Object.freeze({__proto__:null,onLoad:Vb,toggle:Pb,isOn:zb,on:Rb,off:Bb,set:Fb}),Ub=function(){return Qa({})},$b=function(e,t){var n=Lc(e,t,Pb),r=jc(e,t,Vb);return gi(te([e.toggleOnExecute?[n]:[],[r]]))},qb=Object.freeze({__proto__:null,exhibit:Ub,events:$b}),Wb=function(e,t,n){pa(e.element,"aria-pressed",n),t.syncWithExpanded&&Kb(e,t,n)},Gb=function(e,t,n){pa(e.element,"aria-selected",n)},Yb=function(e,t,n){pa(e.element,"aria-checked",n)},Kb=function(e,t,n){pa(e.element,"aria-expanded",n)},Xb=[Bn("selected",!1),In("toggleClass"),Bn("toggleOnExecute",!0),Fn("aria",{mode:"none"},ln("mode",{pressed:[Bn("syncWithExpanded",!1),Hu("update",Wb)],checked:[Hu("update",Yb)],expanded:[Hu("update",Kb)],selected:[Hu("update",Gb)],none:[Hu("update",t)]}))],Jb=Hc({fields:Xb,name:"toggling",active:qb,apis:Hb,state:Lb(!1)}),Zb=function(){var e=function(e,t){t.stop(),fi(e)};return[xi(jo(),e),xi(qo(),e),Ti(bo()),Ti(Co())]},Qb=function(e){var t=function(e){return Li((function(t,n){e(t),n.stop()}))};return gi(te([e.map(t).toArray(),Zb()]))},ex="alloy.item-hover",tx="alloy.item-focus",nx=function(e){(ed(e.element).isNone()||Ab.isFocused(e))&&(Ab.isFocused(e)||Ab.focus(e),di(e,ex,{item:e}))},rx=function(e){di(e,tx,{item:e})},ox=i(ex),ix=i(tx),ax=function(e){return{dom:e.dom,domModification:p(p({},e.domModification),{attributes:p(p(p({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Zh.augment(e.itemBehaviours,[e.toggling.fold(Jb.revoke,(function(e){return Jb.config(p({aria:{mode:"checked"}},e))})),Ab.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){rx(e)}}),db.config({mode:"execution"}),Yh.config({store:{mode:"memory",initialValue:e.data}}),Cb("item-type-events",m(Zb(),[xi(To(),nx),xi($o(),Ab.focus)]))]),components:e.components,eventOrder:e.eventOrder}},sx=[bn("data"),bn("components"),bn("dom"),Bn("hasSubmenu",!1),In("toggling"),Zh.field("itemBehaviours",[Jb,Ab,db,Yh]),Bn("ignoreFocus",!1),Bn("domModification",{}),Hu("builder",ax),Bn("eventOrder",{})],lx=function(e){return{dom:e.dom,components:e.components,events:gi([Mi($o())])}},ux=[bn("dom"),bn("components"),Hu("builder",lx)],cx=function(){return"item-widget"},dx=i([Tm({name:"widget",overrides:function(e){return{behaviours:zc([Yh.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:function(){}}})])}}})]),fx=function(e){var t=zm(cx(),e,dx()),n=Vm(cx(),e,t.internals()),r=function(t){return Hm(t,e,"widget").map((function(e){return db.focusIn(e),e}))},o=function(t,n){return mg(n.event.target)?w.none():function(){return e.autofocus?(n.setSource(t.element),w.none()):w.none()}()};return{dom:e.dom,components:n,domModification:e.domModification,events:gi([Li((function(e,t){r(e).each((function(e){t.stop()}))})),xi(To(),nx),xi($o(),(function(t,n){e.autofocus?r(t):Ab.focus(t)}))]),behaviours:Zh.augment(e.widgetBehaviours,[Yh.config({store:{mode:"memory",initialValue:e.data}}),Ab.config({ignore:e.ignoreFocus,onFocus:function(e){rx(e)}}),db.config({mode:"special",focusIn:e.autofocus?function(e){r(e)}:qc(),onLeft:o,onRight:o,onEscape:function(t,n){return Ab.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element),w.none()):w.none():(Ab.focus(t),w.some(!0))}})])}},px=[bn("uid"),bn("data"),bn("components"),bn("dom"),Bn("autofocus",!1),Bn("ignoreFocus",!1),Zh.field("widgetBehaviours",[Yh,Ab,db]),Bn("domModification",{}),Km(dx()),Hu("builder",fx)],hx=ln("type",{widget:px,item:sx,separator:ux}),mx=function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}},gx=function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}},vx=function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}},yx=i([Im({factory:{sketch:function(e){var t=on("menu.spec item",hx,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return t.hasOwnProperty("uid")?t:p(p({},t),{uid:Na("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),bx=i([bn("value"),bn("items"),bn("dom"),bn("components"),Bn("eventOrder",{}),Kh("menuBehaviours",[Fg,Yh,bg,db]),Fn("movement",{mode:"menu",moveOnTab:!0},ln("mode",{grid:[$u(),Hu("config",mx)],matrix:[Hu("config",gx),bn("rowSelector")],menu:[Bn("moveOnTab",!0),Hu("config",vx)]})),ju(),Bn("fakeFocus",!1),Bn("focusManager",sv()),Bu("onHighlight")]),xx=i("alloy.menu-focus"),wx=function(e,t,n,r){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Jh(e.menuBehaviours,[Fg.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),Yh.config({store:{mode:"memory",initialValue:e.value}}),bg.config({find:w.some}),db.config(e.movement.config(e,e.movement))]),events:gi([xi(ix(),(function(e,t){var n=t.event;e.getSystem().getByDom(n.target).each((function(n){Fg.highlight(e,n),t.stop(),di(e,xx(),{menu:e,item:n})}))})),xi(ox(),(function(e,t){var n=t.event.item;Fg.highlight(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}},_x=lg({name:"Menu",configFields:bx(),partFields:yx(),factory:wx}),Cx=function(e){return Ae(e,(function(e,t){return{k:e,v:t}}))},Sx=function(e,t,n,r){return Fe(n,r).bind((function(r){return Fe(e,r).bind((function(r){var o=Sx(e,t,n,r);return w.some([r].concat(o))}))})).getOr([])},kx=function(e,t){var n={};Ie(e,(function(e,t){W(e,(function(e){n[e]=t}))}));var r=t,o=Cx(t),i=Ee(o,(function(e,t){return[t].concat(Sx(n,r,o,t))}));return Ee(n,(function(e){return Fe(i,e).getOr([e])}))},Ox=function(){var e=Kn({}),t=Kn({}),n=Kn({}),r=Kn(w.none()),o=Kn({}),i=function(){e.set({}),t.set({}),n.set({}),r.set(w.none())},a=function(){return r.get().isNone()},s=function(e,n){var r;t.set(p(p({},t.get()),(r={},r[e]={type:"prepared",menu:n},r)))},l=function(i,a,s,l){r.set(w.some(i)),e.set(s),t.set(a),o.set(l);var u=kx(l,s);n.set(u)},u=function(t){return Re(e.get(),(function(e,n){return e===t}))},c=function(e,t,n){return g(e).bind((function(r){return u(e).bind((function(e){return t(e).map((function(e){return{triggeredMenu:r,triggeringItem:e,triggeringPath:n}}))}))}))},d=function(e,t){var o=K(y(e).toArray(),(function(e){return g(e).isSome()}));return Fe(n.get(),e).bind((function(e){var n=oe(o.concat(e)),i=ne(n,(function(e,o){return c(e,t,n.slice(0,o+1)).fold((function(){return r.get().is(e)?[]:[w.none()]}),(function(e){return[w.some(e)]}))}));return cg(i)}))},f=function(t){return Fe(e.get(),t).map((function(e){var r=Fe(n.get(),t).getOr([]);return[e].concat(r)}))},h=function(e){return Fe(n.get(),e).bind((function(e){return e.length>1?w.some(e.slice(1)):w.none()}))},m=function(e){return Fe(n.get(),e)},g=function(e){return v(e).bind(Tx)},v=function(e){return Fe(t.get(),e)},y=function(t){return Fe(e.get(),t)},b=function(e){var t=o.get();return ie(Me(t),e)},x=function(){return r.get().bind(g)},_=function(){return t.get()};return{setMenuBuilt:s,setContents:l,expand:f,refresh:m,collapse:h,lookupMenu:v,lookupItem:y,otherMenus:b,getPrimary:x,getMenus:_,clear:i,isClear:a,getTriggeringPath:d}},Tx=function(e){return"prepared"===e.type?w.some(e.menu):w.none()},Mx={init:Ox,extractPreparedMenu:Tx},Dx=function(e,t){var n,r=Kn(w.none()),o=function(t,n,r){return Ee(r,(function(r,o){var i=function(){return _x.sketch(p(p({},r),{value:o,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?lv():sv()}))};return o===n?{type:"prepared",menu:t.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}}))},i=Mx.init(),a=function(t){var n=o(t,e.data.primary,e.data.menus),r=u();return i.setContents(e.data.primary,n,e.data.expansions,r),i.getPrimary()},s=function(e){return Yh.getValue(e).value},l=function(e,t,n){return fe(t,(function(e){if(!e.getSystem().isConnected())return w.none();var t=Fg.getCandidates(e);return Q(t,(function(e){return s(e)===n}))}))},u=function(t){return Ee(e.data.menus,(function(e,t){return ne(e.items,(function(e){return"separator"===e.type?[]:[e.data.value]}))}))},c=function(e,t){Fg.highlight(e,t),Fg.getHighlighted(t).orThunk((function(){return Fg.getFirst(t)})).each((function(t){pi(e,t.element,$o())}))},d=function(e,t){return ug(q(t,(function(t){return e.lookupMenu(t).bind((function(e){return"prepared"===e.type?w.some(e.menu):w.none()}))})))},f=function(t,n,r){var o=d(n,n.otherMenus(r));W(o,(function(n){As(n.element,[e.markers.backgroundMenu]),e.stayInDom||wb.remove(t,n)}))},h=function(t){return r.get().getOrThunk((function(){var n={},o=Pf(t.element,"."+e.markers.item),i=K(o,(function(e){return"true"===ma(e,"aria-haspopup")}));return W(i,(function(e){t.getSystem().getByDom(e).each((function(e){var t=s(e);n[t]=e}))})),r.set(w.some(n)),n}))},m=function(e,t){var n=h(e);Ie(n,(function(e,n){var r=V(t,n);pa(e.element,"aria-expanded",r)}))},g=function(t,n,r){return w.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return w.none();var i=o.menu,a=d(n,r.slice(1));return W(a,(function(t){Ts(t.element,e.markers.backgroundMenu)})),$s(i.element)||wb.append(t,xl(i)),As(i.element,[e.markers.backgroundMenu]),c(t,i),f(t,n,r),w.some(i)}))}))};(function(e){e[e["HighlightSubmenu"]=0]="HighlightSubmenu",e[e["HighlightParent"]=1]="HighlightParent"})(n||(n={}));var v=function(e,t,n){if("notbuilt"===n.type){var r=e.getSystem().build(n.nbMenu());return i.setMenuBuilt(t,r),r}return n.menu},y=function(t,r,o){void 0===o&&(o=n.HighlightSubmenu);var a=s(r);return i.expand(a).bind((function(a){return m(t,a),w.from(a[0]).bind((function(s){return i.lookupMenu(s).bind((function(l){var u=v(t,s,l);return $s(u.element)||wb.append(t,xl(u)),e.onOpenSubmenu(t,r,u,oe(a)),o===n.HighlightSubmenu?(Fg.highlightFirst(u),g(t,i,a)):(Fg.dehighlightAll(u),w.some(r))}))}))}))},b=function(t,n){var r=s(n);return i.collapse(r).bind((function(r){return m(t,r),g(t,i,r).map((function(r){return e.onCollapseMenu(t,n,r),r}))}))},x=function(e,t){var n=s(t);return i.refresh(n).bind((function(t){return m(e,t),g(e,i,t)}))},_=function(e,t){return mg(t.element)?w.none():y(e,t,n.HighlightSubmenu)},C=function(e,t){return mg(t.element)?w.none():b(e,t)},S=function(t,n){return b(t,n).orThunk((function(){return e.onEscape(t,n).map((function(){return t}))}))},k=function(t){return function(n,r){return mu(r.getSource(),"."+e.markers.item).bind((function(e){return n.getSystem().getByDom(e).toOptional().bind((function(e){return t(n,e).map((function(){return!0}))}))}))}},O=gi([xi(xx(),(function(e,t){var n=t.event.item;i.lookupItem(s(n)).each((function(){var n=t.event.menu;Fg.highlight(e,n);var r=s(t.event.item);i.refresh(r).each((function(t){return f(e,i,t)}))}))})),Li((function(t,r){var o=r.event.target;t.getSystem().getByDom(o).each((function(r){var o=s(r);0===o.indexOf("collapse-item")&&b(t,r),y(t,r,n.HighlightSubmenu).fold((function(){e.onExecute(t,r)}),(function(){}))}))})),Ii((function(t,n){a(t).each((function(n){wb.append(t,xl(n)),e.onOpenMenu(t,n),e.highlightImmediately&&c(t,n)}))}))].concat(e.navigateOnHover?[xi(ox(),(function(t,r){var o=r.event.item;x(t,o),y(t,o,n.HighlightParent),e.onHover(t,o)}))]:[])),T=function(e){return Fg.getHighlighted(e).bind(Fg.getHighlighted)},M=function(e){T(e).each((function(t){b(e,t)}))},D=function(e){i.getPrimary().each((function(t){c(e,t)}))},I=function(e){return w.from(e.components()[0]).filter((function(e){return"menu"===ma(e.element,"role")}))},E=function(t){var n=i.getPrimary().bind((function(e){return T(t).bind((function(e){var n=s(e),r=Be(i.getMenus()),o=ug(q(r,Mx.extractPreparedMenu));return i.getTriggeringPath(n,(function(e){return l(t,o,e)}))})).map((function(t){return{primary:e,triggeringPath:t}}))}));n.fold((function(){I(t).each((function(n){e.onRepositionMenu(t,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath;e.onRepositionMenu(t,r,o)}))},A={collapseMenu:M,highlightPrimary:D,repositionMenus:E};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Jh(e.tmenuBehaviours,[db.config({mode:"special",onRight:k(_),onLeft:k(C),onEscape:k(S),focusIn:function(e,t){i.getPrimary().each((function(t){pi(e,t.element,$o())}))}}),Fg.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),bg.config({find:function(e){return Fg.getHighlighted(e)}}),wb.config({})]),eventOrder:e.eventOrder,apis:A,events:O}},Ix=i("collapse-item"),Ex=function(e,t,n){return{primary:e,menus:t,expansions:n}},Ax=function(e,t){return{primary:e,menus:ut(e,t),expansions:{}}},Lx=function(e){return{value:Ta(Ix()),meta:{text:e}}},jx=sg({name:"TieredMenu",configFields:[Vu("onExecute"),Vu("onEscape"),zu("onOpenMenu"),zu("onOpenSubmenu"),Bu("onRepositionMenu"),Bu("onCollapseMenu"),Bn("highlightImmediately",!0),Tn("data",[bn("primary"),bn("menus"),bn("expansions")]),Bn("fakeFocus",!1),Bu("onHighlight"),Bu("onHover"),Nu(),bn("dom"),Bn("navigateOnHover",!0),Bn("stayInDom",!1),Kh("tmenuBehaviours",[db,Fg,bg,wb]),Bn("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:Dx,extraApis:{tieredData:Ex,singleData:Ax,collapseItem:Lx}}),Nx=function(e,t,n,r,o){var i=function(){return e.lazySink(t)},a="horizontal"===r.type?{layouts:{onLtr:function(){return Tc()},onRtl:function(){return Mc()}}}:{},s=function(e){return 2===e.length},l=function(e){return s(e)?a:{}};return jx.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return fh.close(t),e.onEscape.map((function(e){return e(t)})),w.some(!0)},onExecute:function(){return w.some(!0)},onOpenMenu:function(e,t){Ap.positionWithinBounds(i().getOrDie(),n,t,o())},onOpenSubmenu:function(e,t,n,r){var o=i().getOrDie();Ap.position(o,p({anchor:"submenu",item:t},l(r)),n)},onRepositionMenu:function(e,t,r){var a=i().getOrDie();Ap.positionWithinBounds(a,n,t,o()),W(r,(function(e){var t=l(e.triggeringPath);Ap.position(a,p({anchor:"submenu",item:e.triggeringItem},t),e.triggeredMenu)}))}})},Px=function(e,t){var n=function(t,n){var r=e.getRelated(t);return r.exists((function(e){return bu(e,n)}))},r=function(e,t){fh.setContent(e,t)},o=function(e,t,n){i(e,t,n,w.none())},i=function(e,t,n,r){a(e,t,n,(function(){return r.map((function(e){return ou(e)}))}))},a=function(t,n,r,o){var i=e.lazySink(t).getOrDie();fh.openWhileCloaked(t,r,(function(){return Ap.positionWithinBounds(i,n,t,o())})),Yh.setValue(t,w.some({mode:"position",anchor:n,getBounds:o}))},s=function(e,t,n){l(e,t,n,(function(){return w.none()}))},l=function(t,n,r,o){var i=Nx(e,t,n,r,o);fh.open(t,i),Yh.setValue(t,w.some({mode:"menu",menu:i}))},u=function(e){fh.isOpen(e)&&(Yh.setValue(e,w.none()),fh.close(e))},c=function(e){return fh.getState(e)},d=function(t){fh.isOpen(t)&&Yh.getValue(t).each((function(n){switch(n.mode){case"menu":fh.getState(t).each((function(e){jx.repositionMenus(e)}));break;case"position":var r=e.lazySink(t).getOrDie();Ap.positionWithinBounds(r,n.anchor,t,n.getBounds());break}}))},f={setContent:r,showAt:o,showWithin:i,showWithinBounds:a,showMenuAt:s,showMenuWithinBounds:l,hide:u,getContent:c,reposition:d,isOpen:fh.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Jh(e.inlineBehaviours,[fh.config({isPartOf:function(e,t,r){return bu(t,r)||n(e,r)},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),Yh.config({store:{mode:"memory",initialValue:w.none()}}),Wc.config({channels:p(p({},vh(p({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),bh(p(p({},e.fireRepositionEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})),{doReposition:d})))})]),eventOrder:e.eventOrder,apis:f}},Rx=sg({name:"InlineView",configFields:[bn("lazySink"),Bu("onShow"),Bu("onHide"),jn("onEscape"),Kh("inlineBehaviours",[fh,Yh,Wc]),Pn("fireDismissalEventInstead",[Bn("event",ni())]),Pn("fireRepositionEventInstead",[Bn("event",ri())]),Bn("getRelated",w.none),Bn("isExtraPart",c),Bn("eventOrder",w.none)],factory:Px,apis:{showAt:function(e,t,n,r){e.showAt(t,n,r)},showWithin:function(e,t,n,r,o){e.showWithin(t,n,r,o)},showWithinBounds:function(e,t,n,r,o){e.showWithinBounds(t,n,r,o)},showMenuAt:function(e,t,n,r){e.showMenuAt(t,n,r)},showMenuWithinBounds:function(e,t,n,r,o){e.showMenuWithinBounds(t,n,r,o)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}}),Bx=function(e){return e.x},Fx=function(e,t){return e.x+e.width/2-t.width/2},zx=function(e,t){return e.x+e.width-t.width},Vx=function(e){return e.y},Hx=function(e,t){return e.y+e.height-t.height},Ux=function(e,t,n){return qu(zx(e,t),Hx(e,t),n.innerSoutheast(),Qu(),ic(e,{right:0,bottom:3}),"layout-inner-se")},$x=function(e,t,n){return qu(Bx(e),Hx(e,t),n.innerSouthwest(),Zu(),ic(e,{left:1,bottom:3}),"layout-inner-sw")},qx=function(e,t,n){return qu(zx(e,t),Vx(e),n.innerNortheast(),Ju(),ic(e,{right:0,top:2}),"layout-inner-ne")},Wx=function(e,t,n){return qu(Bx(e),Vx(e),n.innerNorthwest(),Xu(),ic(e,{left:1,top:2}),"layout-inner-nw")},Gx=function(e,t,n){return qu(Fx(e,t),Vx(e),n.innerNorth(),ec(),ic(e,{top:2}),"layout-inner-n")},Yx=function(e,t,n){return qu(Fx(e,t),Hx(e,t),n.innerSouth(),tc(),ic(e,{bottom:3}),"layout-inner-s")},Kx=tinymce.util.Tools.resolve("tinymce.util.Delay"),Xx=function(e){var t=Qb(e.action),n=e.dom.tag,r=function(t){return Fe(e.dom,"attributes").bind((function(e){return Fe(e,t)}))},o=function(){if("button"===n){var e=r("type").getOr("button"),t=r("role").map((function(e){return{role:e}})).getOr({});return p({type:e},t)}var o=r("role").getOr("button");return{role:o}};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Zh.augment(e.buttonBehaviours,[Ab.config({}),db.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:o()},eventOrder:e.eventOrder}},Jx=sg({name:"Button",factory:Xx,configFields:[Bn("uid",void 0),bn("dom"),Bn("components",[]),Zh.field("buttonBehaviours",[Ab,db]),In("action"),In("role"),Bn("eventOrder",{})]}),Zx=function(e){var t=rg(e)&&Ve(e,"uid")?e.uid:Na("memento"),n=function(e){return e.getSystem().getByUid(t).getOrDie()},r=function(e){return e.getSystem().getByUid(t).toOptional()},o=function(){return p(p({},e),{uid:t})};return{get:n,getOpt:r,asSpec:o}},Qx=function(e){return w.from(e()["temporary-placeholder"]).getOr("!not found!")},ew=function(e,t){return w.from(t()[e.toLowerCase()]).getOrThunk((function(){return Qx(t)}))},tw=function(e,t,n){return w.from(t()[e.toLowerCase()]).or(n).getOrThunk((function(){return Qx(t)}))},nw=function(e,t){return fe(e,(function(e){return w.from(t()[e.toLowerCase()])})).getOrThunk((function(){return Qx(t)}))},rw={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},ow=function(e){var t=Zx({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:zc([wb.config({})])}),n=function(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}},r=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}},o=Zx({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:zc([wb.config({})])}),i=function(e,t){e.getSystem().isConnected()&&o.getOpt(e).each((function(e){wb.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},r(t)])}))},a=function(e,n){if(e.getSystem().isConnected()){var r=t.get(e);wb.set(r,[gl(n)])}},s={updateProgress:i,updateText:a},l=te([e.icon.toArray(),e.level.toArray(),e.level.bind((function(e){return w.from(rw[e])})).toArray()]),u=Zx(Jx.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:ew("close",e.iconProvider),attributes:{"aria-label":e.translationProvider("Close")}}}],action:function(t){e.onAction(t)}})),c=[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:nw(l,e.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:zc([wb.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]})).getOr(["tox-notification","tox-notification--in"])},behaviours:zc([Ab.config({}),Cb("notification-events",[xi(Mo(),(function(e){u.getOpt(e).each(Ab.focus)}))])]),components:c.concat(e.progress?[o.asSpec()]:[]).concat(e.closeButton?[u.asSpec()]:[]),apis:s}},iw=sg({name:"Notification",factory:ow,configFields:[In("level"),bn("progress"),bn("icon"),bn("onAction"),bn("text"),bn("iconProvider"),bn("translationProvider"),Un("closeButton",!0)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}});function aw(e,t,n){var r=t.backstage,o=function(e){switch(e){case"bc-bc":return Yx;case"tc-tc":return Gx;case"tc-bc":return bc;case"bc-tc":default:return xc}},i=function(e){W(e,(function(e){return e.moveTo(0,0)}))},a=function(e){e.length>0&&(ue(e).each((function(e){return e.moveRel(null,"banner")})),W(e,(function(t,n){n>0&&t.moveRel(e[n-1].getEl(),"bc-tc")})))},s=function(e){i(e),a(e)},l=function(e,i){var a=!e.closeButton&&e.timeout&&(e.timeout>0||e.timeout<0),s=function(){i(),Rx.hide(u)},l=bl(iw.sketch({text:e.text,level:V(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:w.from(e.icon),closeButton:!a,onAction:s,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate})),u=bl(Rx.sketch(p({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:t.backstage.shared.getSink,fireDismissalEventInstead:{}},r.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return n.add(u),e.timeout>0&&Kx.setTimeout((function(){s()}),e.timeout),{close:s,moveTo:function(e,t){Rx.showAt(u,{anchor:"makeshift",x:e,y:t},xl(l))},moveRel:function(e,n){if("banner"!==n){var r=o(n),i={anchor:"node",root:qs(),node:w.some(tr.fromDom(e)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}};Rx.showAt(u,i,xl(l))}else Rx.showAt(u,t.backstage.shared.anchors.banner(),xl(l))},text:function(e){iw.updateText(l,e)},settings:e,getEl:function(){return l.element.dom},progressBar:{value:function(e){iw.updateProgress(l,e)}}}},u=function(e){e.close()},c=function(e){return e.settings};return{open:l,close:u,reposition:s,getArgs:c}}var sw,lw=function(e,t){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null===n&&(n=setTimeout((function(){e.apply(null,r),n=null}),t))};return{cancel:r,throttle:o}},uw=function(e,t){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout((function(){e.apply(null,r),n=null}),t)};return{cancel:r,throttle:o}},cw=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),dw=function(e,t){return e.isBlock(t)||V(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t)},fw=function(e,t,n,r,o){var i=cw(e,(function(t){return dw(e,t)}));return w.from(i.backwards(t,n,r,o))},pw="[data-mce-autocompleter]",hw=function(e,t){return mw(tr.fromDom(e.selection.getNode())).getOrThunk((function(){var n=tr.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());return ta(n,tr.fromDom(t.extractContents())),t.insertNode(n.dom),qi(n).each((function(e){return e.dom.normalize()})),jf(n).map((function(t){e.selection.setCursorLocation(t.dom,If(t))})),n}))},mw=function(e){return mu(e,pw)},gw=function(e){return e.collapsed&&3===e.startContainer.nodeType},vw=function(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},yw=function(e){return""!==e&&-1!=="  \f\n\r\t\v".indexOf(e)},bw=function(e,t){return e.substring(t.length)},xw=function(e,t,n){var r;for(r=t-1;r>=0;r--){var o=e.charAt(r);if(yw(o))return w.none();if(o===n)break}return w.some(r)},ww=function(e,t,n,r){if(void 0===r&&(r=0),!gw(t))return w.none();var o=function(e,t,r){return xw(r,t,n).getOr(t)},i=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return fw(e,t.startContainer,t.startOffset,o,i).bind((function(e){var o=t.cloneRange();if(o.setStart(e.container,e.offset),o.setEnd(t.endContainer,t.endOffset),o.collapsed)return w.none();var i=vw(o),a=i.lastIndexOf(n);return 0!==a||bw(i,n).length<r?w.none():w.some({text:bw(i,n),range:o,triggerChar:n})}))},_w=function(e,t,n,r){return void 0===r&&(r=0),mw(tr.fromDom(t.startContainer)).fold((function(){return ww(e,t,n,r)}),(function(t){var r=e.createRng();r.selectNode(t.dom);var o=vw(r);return w.some({range:r,text:bw(o,n),triggerChar:n})}))},Cw=function(e,t){t.on("keypress compositionend",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel);var n=function(e,t){di(e,Io(),{raw:t})};t.on("keydown",(function(t){var r=function(){return e.getView().bind(Fg.getHighlighted)};8===t.which&&e.onKeypress.throttle(t),e.isActive()&&(27===t.which&&e.cancelIfNecessary(),e.isMenuOpen()?13===t.which?(r().each(fi),t.preventDefault()):40===t.which?(r().fold((function(){e.getView().each(Fg.highlightFirst)}),(function(e){n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==t.which&&38!==t.which&&39!==t.which||r().each((function(e){n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==t.which&&38!==t.which&&40!==t.which||e.cancelIfNecessary())})),t.on("NodeChange",(function(t){e.isActive()&&!e.isProcessingAction()&&mw(tr.fromDom(t.element)).isNone()&&e.cancelIfNecessary()}))},Sw={setup:Cw},kw=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ow=function(e,t){return{container:e,offset:t}},Tw=function(e){return e.nodeType===Qr},Mw=function(e){return e.nodeType===Zr},Dw=function(e){if(Tw(e))return Ow(e,e.data.length);var t=e.childNodes;return t.length>0?Dw(t[t.length-1]):Ow(e,t.length)},Iw=function(e,t){var n=e.childNodes;return n.length>0&&t<n.length?Iw(n[t],0):n.length>0&&Mw(e)&&n.length===t?Dw(n[n.length-1]):Ow(e,t)},Ew=function(e,t){return fw(e,t.container,t.offset,(function(e,t){return 0===t?-1:t}),e.getRoot()).filter((function(e){var t=e.container.data.charAt(e.offset-1);return!yw(t)})).isSome()},Aw=function(e){return function(t){var n=Iw(t.startContainer,t.startOffset);return!Ew(e,n)}},Lw=function(e,t,n){return fe(n.triggerChars,(function(n){return _w(e,t,n)}))},jw=function(e,t){var n=t(),r=e.selection.getRng();return Lw(e.dom,r,n).bind((function(n){return Nw(e,t,n)}))},Nw=function(e,t,n,r){void 0===r&&(r={});var o=t(),i=e.selection.getRng(),a=i.startContainer.nodeValue,s=K(o.lookupByChar(n.triggerChar),(function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk((function(){return Aw(e.dom)}))(n.range,a,n.text)}));if(0===s.length)return w.none();var l=kw.all(q(s,(function(e){var t=e.fetch(n.text,e.maxResults,r);return t.then((function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}}))})));return w.some({lookupData:l,context:n})},Pw=Bt([_n("type"),Ln("text")]),Rw=function(e){return nn("separatormenuitem",Pw,e)},Bw=Bt([Bn("type","autocompleteitem"),Bn("active",!1),Bn("disabled",!1),Bn("meta",{}),_n("value"),Ln("text"),Ln("icon")]),Fw=Bt([_n("type"),_n("ch"),zn("minChars",1),Bn("columns",1),zn("maxResults",10),jn("matches"),kn("fetch"),kn("onAction"),Wn("highlightOn",[],pn)]),zw=function(e){return nn("Autocompleter.Separator",Pw,e)},Vw=function(e){return nn("Autocompleter.Item",Bw,e)},Hw=function(e){return nn("Autocompleter",Fw,e)},Uw=[Un("disabled",!1),Ln("tooltip"),Ln("icon"),Ln("text"),$n("onSetup",(function(){return t}))],$w=Bt([_n("type"),kn("onAction")].concat(Uw)),qw=function(e){return nn("toolbarbutton",$w,e)},Ww=[Un("active",!1)].concat(Uw),Gw=Bt(Ww.concat([_n("type"),kn("onAction")])),Yw=function(e){return nn("ToggleButton",Gw,e)},Kw=[$n("predicate",(function(){return!1})),Hn("scope","node",["node","editor"]),Hn("position","selection",["node","selection","line"])],Xw=Uw.concat([Bn("type","contextformbutton"),Bn("primary",!1),kn("onAction"),Yn("original",a)]),Jw=Ww.concat([Bn("type","contextformbutton"),Bn("primary",!1),kn("onAction"),Yn("original",a)]),Zw=Uw.concat([Bn("type","contextformbutton")]),Qw=Ww.concat([Bn("type","contextformtogglebutton")]),e_=ln("type",{contextformbutton:Xw,contextformtogglebutton:Jw}),t_=Bt([Bn("type","contextform"),$n("initValue",(function(){return""})),Ln("label"),Dn("commands",e_),En("launch",ln("type",{contextformbutton:Zw,contextformtogglebutton:Qw}))].concat(Kw)),n_=function(e){return nn("ContextForm",t_,e)},r_=Bt([Bn("type","contexttoolbar"),_n("items")].concat(Kw)),o_=function(e){return nn("ContextToolbar",r_,e)},i_=function(e){var t={};return W(e,(function(e){t[e]={}})),Me(t)},a_=function(e){var t=e.ui.registry.getAll().popups,n=Ee(t,(function(e){return Hw(e).fold((function(e){throw new Error(an(e))}),(function(e){return e}))})),r=i_(Pe(n,(function(e){return e.ch}))),o=Be(n),i=function(e){return K(o,(function(t){return t.ch===e}))};return{dataset:n,triggerChars:r,lookupByChar:i}};(function(e){e[e["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE",e[e["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(sw||(sw={}));var s_,l_=sw,u_="tox-menu-nav__js",c_="tox-collection__item",d_="tox-swatch",f_={normal:u_,color:d_},p_="tox-collection__item--enabled",h_="tox-collection__group-heading",m_="tox-collection__item-icon",g_="tox-collection__item-label",v_="tox-collection__item-accessory",y_="tox-collection__item-caret",b_="tox-collection__item-checkmark",x_="tox-collection__item--active",w_="tox-collection__item-icon-rtl",__="tox-collection__item-container",C_="tox-collection__item-container--column",S_="tox-collection__item-container--row",k_="tox-collection__item-container--align-right",O_="tox-collection__item-container--align-left",T_="tox-collection__item-container--valign-top",M_="tox-collection__item-container--valign-middle",D_="tox-collection__item-container--valign-bottom",I_=function(e){return Fe(f_,e).getOr(u_)},E_=function(e){return"color"===e?"tox-swatches":"tox-menu"},A_=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:E_(e),tieredMenu:"tox-tiered-menu"}},L_=function(e){var t=A_(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:I_(e)}},j_=function(e,t,n){var r=A_(n);return{tag:"div",classes:te([[r.menu,"tox-menu-"+t+"-column"],e?[r.hasIcons]:[]])}},N_=[_x.parts.items({})],P_=function(e,t,n){var r=A_(n),o={tag:"div",classes:te([[r.tieredMenu]])};return{dom:o,markers:L_(n)}},R_=function(e,t){return function(n){var r=$(n,t);return q(r,(function(t){return{dom:e,components:t}}))}},B_=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[_x.parts.items({preprocess:"auto"!==e?R_({tag:"div",classes:["tox-swatches__row"]},e):a})]}]}},F_=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[_x.parts.items({preprocess:R_({tag:"div",classes:["tox-collection__group"]},e)})]}},z_=function(e,t){var n=[],r=[];return W(e,(function(e,o){t(e,o)?(r.length>0&&n.push(r),r=[],ze(e.dom,"innerHtml")&&r.push(e)):r.push(e)})),r.length>0&&n.push(r),q(n,(function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}}))},V_=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[_x.parts.items({preprocess:function(n){return"auto"!==e&&e>1?R_({tag:"div",classes:["tox-collection__group"]},e)(n):z_(n,(function(e,n){return"separator"===t[n].type}))}})]}},H_=function(e,t){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[_x.parts.items({preprocess:function(t){return z_(t,(function(t,n){return"separator"===e[n].type}))}})]}},U_=function(e){return H(e,(function(e){return"icon"in e&&void 0!==e.icon}))},$_=function(e){return w.none()},q_=function(e,t,n,r,o){var i=H_(n);return{value:e,dom:i.dom,components:i.components,items:n}},W_=function(e,t,n,r,o){if("color"===o){var i=B_(r);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===o&&"auto"===r){i=V_(r,n);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===o&&1===r){i=V_(1,n);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===o){i=V_(r,n);return{value:e,dom:i.dom,components:i.components,items:n}}if("listpreview"===o&&"auto"!==r){i=F_(r);return{value:e,dom:i.dom,components:i.components,items:n}}return{value:e,dom:j_(t,r,o),components:N_,items:n}},G_=[_n("type"),_n("src"),Ln("alt"),Wn("classes",[],pn)],Y_=Bt(G_),K_=[_n("type"),_n("text"),Ln("name"),Wn("classes",["tox-collection__item-label"],pn)],X_=Bt(K_),J_=Zt((function(){return sn("type",{cardimage:Y_,cardtext:X_,cardcontainer:Z_})})),Z_=Bt([_n("type"),Vn("direction","horizontal"),Vn("align","left"),Vn("valign","middle"),Dn("items",J_)]),Q_=[Un("disabled",!1),Ln("text"),Ln("shortcut"),Wt("value","value",nt((function(){return Ta("menuitem-value")})),cn()),Bn("meta",{})],eC=Bt([_n("type"),Ln("label"),Dn("items",J_),$n("onSetup",(function(){return t})),$n("onAction",t)].concat(Q_)),tC=function(e){return nn("cardmenuitem",eC,e)},nC=Bt([_n("type"),Un("active",!1),Ln("icon")].concat(Q_)),rC=function(e){return nn("choicemenuitem",nC,e)},oC=["inserttable","colorswatch"],iC=Bt([_n("type"),Cn("fancytype",oC),$n("onAction",t)]),aC=function(e){return nn("fancymenuitem",iC,e)},sC=Bt([_n("type"),$n("onSetup",(function(){return t})),$n("onAction",t),Ln("icon")].concat(Q_)),lC=function(e){return nn("menuitem",sC,e)},uC=Bt([_n("type"),kn("getSubmenuItems"),$n("onSetup",(function(){return t})),Ln("icon")].concat(Q_)),cC=function(e){return nn("nestedmenuitem",uC,e)},dC=Bt([_n("type"),Ln("icon"),Un("active",!1),$n("onSetup",(function(){return t})),kn("onAction")].concat(Q_)),fC=function(e){return nn("togglemenuitem",dC,e)},pC=function(e,t,n){var r=Pf(e.element,"."+n);if(r.length>0){var o=ee(r,(function(e){var n=e.dom.getBoundingClientRect().top,o=r[0].dom.getBoundingClientRect().top;return Math.abs(n-o)>t})).getOr(r.length);return w.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return w.none()},hC=function(e,t){return zc([Cb(e,t)])},mC=function(e){return hC(Ta("unnamed-events"),e)},gC={namedEvents:hC,unnamedEvents:mC},vC=[bn("lazySink"),bn("tooltipDom"),Bn("exclusive",!0),Bn("tooltipComponents",[]),Bn("delay",300),Hn("mode","normal",["normal","follow-highlight"]),Bn("anchor",(function(e){return{anchor:"hotspot",hotspot:e,layouts:{onLtr:i([xc,bc,mc,vc,gc,yc]),onRtl:i([xc,bc,mc,vc,gc,yc])}}})),Bu("onHide"),Bu("onShow")],yC=function(){var e=Kn(w.none()),t=Kn(w.none()),n=function(){return t.get()},r=function(e){t.set(w.some(e))},o=function(){t.set(w.none())},a=function(){e.get().each((function(e){clearTimeout(e)}))},s=function(t,n){a(),e.set(w.some(setTimeout((function(){t()}),n)))},l=function(){return t.get().isSome()},u=i("not-implemented");return Ya({getTooltip:n,isShowing:l,setTooltip:r,clearTooltip:o,clearTimer:a,resetTimer:s,readState:u})},bC=Object.freeze({__proto__:null,init:yC}),xC=Ta("tooltip.exclusive"),wC=Ta("tooltip.show"),_C=Ta("tooltip.hide"),CC=function(e,t,n){e.getSystem().broadcastOn([xC],{})},SC=function(e,t,n,r){n.getTooltip().each((function(e){e.getSystem().isConnected()&&wb.set(e,r)}))},kC=Object.freeze({__proto__:null,hideAllExclusive:CC,setComponents:SC}),OC=function(e,t){var n=function(n){t.getTooltip().each((function(r){Vp(r),e.onHide(n,r),t.clearTooltip()})),t.clearTimer()},r=function(n){if(!t.isShowing()){CC(n);var r=e.lazySink(n).getOrDie(),o=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:gi("normal"===e.mode?[xi(To(),(function(e){ci(n,wC)})),xi(ko(),(function(e){ci(n,_C)}))]:[]),behaviours:zc([wb.config({})])});t.setTooltip(o),Bp(r,o),e.onShow(n,o),Ap.position(r,e.anchor(n),o)}};return gi(te([[xi(wC,(function(n){t.resetTimer((function(){r(n)}),e.delay)})),xi(_C,(function(r){t.resetTimer((function(){n(r)}),e.delay)})),xi(Ho(),(function(e,t){var r=t;r.universal||V(r.channels,xC)&&n(e)})),Ei((function(e){n(e)}))],"normal"===e.mode?[xi(Mo(),(function(e){ci(e,wC)})),xi(zo(),(function(e){ci(e,_C)})),xi(To(),(function(e){ci(e,wC)})),xi(ko(),(function(e){ci(e,_C)}))]:[xi(li(),(function(e,t){ci(e,wC)})),xi(ui(),(function(e){ci(e,_C)}))]]))},TC=Object.freeze({__proto__:null,events:OC}),MC=Hc({fields:vC,name:"tooltipping",active:TC,state:bC,apis:kC}),DC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),IC=tinymce.util.Tools.resolve("tinymce.util.I18n"),EC=["input","button","textarea","select"],AC=function(e,t,n){var r=t.disabled()?zC:VC;r(e,t)},LC=function(e,t){return!0===t.useNative&&V(EC,ji(e.element))},jC=function(e){return va(e.element,"disabled")},NC=function(e){pa(e.element,"disabled","disabled")},PC=function(e){ya(e.element,"disabled")},RC=function(e){return"true"===ma(e.element,"aria-disabled")},BC=function(e){pa(e.element,"aria-disabled","true")},FC=function(e){pa(e.element,"aria-disabled","false")},zC=function(e,t,n){t.disableClass.each((function(t){Ts(e.element,t)}));var r=LC(e,t)?NC:BC;r(e),t.onDisabled(e)},VC=function(e,t,n){t.disableClass.each((function(t){Ds(e.element,t)}));var r=LC(e,t)?PC:FC;r(e),t.onEnabled(e)},HC=function(e,t){return LC(e,t)?jC(e):RC(e)},UC=function(e,t,n,r){var o=r?zC:VC;o(e,t)},$C=Object.freeze({__proto__:null,enable:VC,disable:zC,isDisabled:HC,onLoad:AC,set:UC}),qC=function(e,t){return Qa({classes:t.disabled()?t.disableClass.toArray():[]})},WC=function(e,t){return gi([vi(Uo(),(function(t,n){return HC(t,e)})),jc(e,t,AC)])},GC=Object.freeze({__proto__:null,exhibit:qC,events:WC}),YC=[$n("disabled",c),Bn("useNative",!0),In("disableClass"),Bu("onDisabled"),Bu("onEnabled")],KC=Hc({fields:YC,name:"disabling",active:GC,apis:$C}),XC=tinymce.util.Tools.resolve("tinymce.EditorManager"),JC=function(e){var t=e.getParam("skin"),n=e.getParam("skin_url");if(!1!==t){var r=t||"oxide";n=n?e.documentBaseURI.toAbsolute(n):XC.baseURL+"/skins/ui/"+r}return n},ZC=function(e){return e.getParam("readonly",!1,"boolean")},QC=function(e){return!1===e.getParam("skin")},eS=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))},tS=function(e){return e.getParam("width",DC.DOM.getStyle(e.getElement(),"width"))},nS=function(e){return w.from(e.getParam("min_width")).filter(j)},rS=function(e){return w.from(e.getParam("min_height")).filter(j)},oS=function(e){return w.from(e.getParam("max_width")).filter(j)},iS=function(e){return w.from(e.getParam("max_height")).filter(j)},aS=function(e){return w.from(e.getParam("style_formats")).filter(M)},sS=function(e){return e.getParam("style_formats_merge",!1,"boolean")},lS=function(e){return e.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},uS=function(e){return e.getParam("removed_menuitems","")},cS=function(e){return!1!==e.getParam("menubar",!0,"boolean")},dS=function(e){var t=e.getParam("toolbar",!0),n=!0===t,r=O(t),o=M(t)&&t.length>0;return!pS(e)&&(o||r||n)},fS=function(e){var t=U(9,(function(t){return e.getParam("toolbar"+(t+1),!1,"string")})),n=K(t,(function(e){return"string"===typeof e}));return n.length>0?w.some(n):w.none()},pS=function(e){return fS(e).fold((function(){var t=e.getParam("toolbar",[],"string[]");return t.length>0}),(function(){return!0}))};(function(e){e["default"]="wrap",e["floating"]="floating",e["sliding"]="sliding",e["scrolling"]="scrolling"})(s_||(s_={}));var hS,mS=function(e){return e.getParam("toolbar_mode","","string")};(function(e){e["auto"]="auto",e["top"]="top",e["bottom"]="bottom"})(hS||(hS={}));var gS,vS=function(e){return e.getParam("toolbar_groups",{},"object")},yS=function(e){return e.getParam("toolbar_location",hS.auto,"string")},bS=function(e){return yS(e)===hS.bottom},xS=function(e){return e.getParam("fixed_toolbar_container","","string")},wS=function(e){return e.getParam("toolbar_persist",!1,"boolean")},_S=function(e){var t=xS(e);return t.length>0&&e.inline?hu(qs(),t):w.none()},CS=function(e){return e.inline&&_S(e).isSome()},SS=function(e){var t=_S(e);return t.getOrThunk((function(){return Bs(Rs(tr.fromDom(e.getElement())))}))},kS=function(e){return e.inline&&!cS(e)&&!dS(e)&&!pS(e)},OS=function(e){var t=e.getParam("toolbar_sticky",!1,"boolean");return(t||e.inline)&&!CS(e)&&!kS(e)},TS=function(e){return e.getParam("draggable_modal",!1,"boolean")},MS=function(e){var t=e.getParam("menu");return t?Ee(t,(function(e){return p(p({},e),{items:e.items})})):{}},DS=function(e){return e.getParam("menubar")},IS=function(e){return e.getParam("toolbar",!0)},ES=function(e){return e.getParam("file_picker_callback")},AS=function(e){return e.getParam("file_picker_types")},LS=function(e){return e.getParam("file_browser_callback_types")},jS=function(e){return!1===e.getParam("typeahead_urls")},NS=function(e){return e.getParam("anchor_top","#top")},PS=function(e){return e.getParam("anchor_bottom","#bottom")},RS=function(e){var t=e.getParam("file_picker_validator_handler",void 0,"function");return void 0===t?e.getParam("filepicker_validator_handler",void 0,"function"):t},BS="silver.readonly",FS=Bt([Sn("readonly")]),zS=function(e,t){var n=e.outerContainer,r=n.element;t&&(e.mothership.broadcastOn([ph()],{target:r}),e.uiMothership.broadcastOn([ph()],{target:r})),e.mothership.broadcastOn([BS],{readonly:t}),e.uiMothership.broadcastOn([BS],{readonly:t})},VS=function(e,t){e.on("init",(function(){e.mode.isReadOnly()&&zS(t,!0)})),e.on("SwitchMode",(function(){return zS(t,e.mode.isReadOnly())})),ZC(e)&&e.setMode("readonly")},HS=function(){var e;return Wc.config({channels:(e={},e[BS]={schema:FS,onReceive:function(e,t){KC.set(e,t.readonly)}},e)})},US=function(e){return KC.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},$S=function(e){return KC.config({disabled:e})},qS=function(e){return KC.config({disabled:e,disableClass:"tox-tbtn--disabled"})},WS=function(e){return KC.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},GS={item:US,button:$S,splitButton:qS,toolbarButton:WS},YS=function(e,t){var n=e.getApi(t);return function(e){e(n)}},KS=function(e,t){return Ii((function(n){var r=YS(e,n);r((function(n){var r=e.onSetup(n);null!==r&&void 0!==r&&t.set(r)}))}))},XS=function(e,t){return Ei((function(n){return YS(e,n)(t.get())}))},JS=function(e,t){return Li((function(n,r){YS(e,n)(e.onAction),e.triggersSubmenu||t!==l_.CLOSE_ON_EXECUTE||(ci(n,Go()),r.stop())}))},ZS=(gS={},gS[Uo()]=["disabling","alloy.base.behaviour","toggling","item-events"],gS),QS=function(e){return ne(e,(function(e){return e.toArray()}))},ek=function(e,n,r,o){var i=Kn(t);return{type:"item",dom:n.dom,components:QS(n.optComponents),data:e.data,eventOrder:ZS,hasSubmenu:e.triggersSubmenu,itemBehaviours:zc([Cb("item-events",[JS(e,r),KS(e,i),XS(e,i)]),GS.item((function(){return e.disabled||o.isDisabled()})),HS(),wb.config({})].concat(e.itemBehaviours))}},tk=function(e){return{value:e.value,meta:p({text:e.text.getOr("")},e.meta)}},nk=tinymce.util.Tools.resolve("tinymce.Env"),rk=function(e){var t={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},n={meta:"Ctrl",access:"Shift+Alt"},r=nk.mac?t:n,o=e.split("+"),i=q(o,(function(e){var t=e.toLowerCase().trim();return ze(r,t)?r[t]:e}));return nk.mac?i.join(""):i.join("+")},ok=function(e){return{dom:{tag:"div",classes:[m_],innerHtml:e}}},ik=function(e){return{dom:{tag:"div",classes:[g_]},components:[gl(IC.translate(e))]}},ak=function(e,t){return{dom:{tag:"div",classes:t,innerHtml:e}}},sk=function(e,t){return{dom:{tag:"div",classes:[g_]},components:[{dom:{tag:e.tag,styles:e.styles},components:[gl(IC.translate(t))]}]}},lk=function(e){return{dom:{tag:"div",classes:[v_],innerHtml:rk(e)}}},uk=function(e){return{dom:{tag:"div",classes:[b_],innerHtml:ew("checkmark",e)}}},ck=function(e){return{dom:{tag:"div",classes:[y_],innerHtml:ew("chevron-right",e)}}},dk=function(e){return{dom:{tag:"div",classes:[y_],innerHtml:ew("chevron-down",e)}}},fk=function(e,t){var n="vertical"===e.direction?C_:S_,r="left"===e.align?O_:k_,o=function(){switch(e.valign){case"top":return T_;case"middle":return M_;case"bottom":return D_}};return{dom:{tag:"div",classes:[__,n,r,o()]},components:t}},pk=function(e,t,n){return{dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}},hk=function(e,t,n,r){var o="custom",i="remove",a=function(){var a=d_,s=n.getOr(""),l=e.map((function(e){return{title:r.translate(e)}})).getOr({}),u={tag:"div",attributes:l,classes:[a]};return p(p({},u),t===o?{tag:"button",classes:m(u.classes,["tox-swatches__picker-btn"]),innerHtml:s}:t===i?{classes:m(u.classes,["tox-swatch--remove"]),innerHtml:s}:{attributes:p(p({},u.attributes),{"data-mce-color":t}),styles:{"background-color":t}})};return{dom:a(),optComponents:[]}},mk=function(e,t){var n=t.map((function(e){return{attributes:{title:IC.translate(e)}}})).getOr({});return p({tag:"div",classes:[u_,c_].concat(e?[w_]:[])},n)},gk=function(e,t,n,r,o){var i=n?t.or(w.some("")).map(ok):w.none(),a=e.checkMark,s=e.htmlContent.fold((function(){return e.textContent.map(r)}),(function(e){return w.some(ak(e,[g_]))})),l={dom:mk(o,e.ariaLabel),optComponents:[i,s,e.shortcutContent.map(lk),a,e.caret]};return l},vk=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],yk=["list-bull-circle","list-bull-default","list-bull-square"],bk=function(e,t,n,r){void 0===r&&(r=w.none());var o=function(e){return e.map((function(e){return IC.isRtl()&&V(vk,e)?e+"-rtl":e}))},i=IC.isRtl()&&e.iconContent.exists((function(e){return V(yk,e)})),a=o(e.iconContent).map((function(e){return tw(e,t.icons,r)})),l=w.from(e.meta).fold((function(){return ik}),(function(e){return ze(e,"style")?s(sk,e.style):ik}));return"color"===e.presets?hk(e.ariaLabel,e.value,a,t):gk(e,a,n,l,i)},xk=function(e,t){return Fe(e,"tooltipWorker").map((function(e){return[MC.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{anchor:"submenu",item:e,overrides:{maxHeightFunction:Dd}}},mode:"follow-highlight",onShow:function(t,n){e((function(e){MC.setComponents(t,[vl({element:tr.fromDom(e)})])}))}})]})).getOr([])},wk=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},_k=function(e){return DC.DOM.encode(e)},Ck=function(e,t){var n=IC.translate(e),r=_k(n);if(t.length>0){var o=new RegExp(wk(t),"gi");return r.replace(o,(function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"}))}return r},Sk=function(e,t,n,r,o,i,a,s){void 0===s&&(s=!0);var l=bk({presets:r,textContent:w.none(),htmlContent:n?e.text.map((function(e){return Ck(e,t)})):w.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:w.none(),checkMark:w.none(),caret:w.none(),value:e.value},a.providers,s,e.icon);return ek({data:tk(e),disabled:e.disabled,getApi:function(){return{}},onAction:function(t){return o(e.value,e.meta)},onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:xk(e.meta,a)},l,i,a.providers)},kk=function(e,t,n,r,o,i,a,s){void 0===s&&(s=!0);var l=function(e){return{setActive:function(t){Jb.set(e,t)},isActive:function(){return Jb.isOn(e)},isDisabled:function(){return KC.isDisabled(e)},setDisabled:function(t){return KC.set(e,t)}}},u=bk({presets:n,textContent:t?e.text:w.none(),htmlContent:w.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:w.none(),checkMark:t?w.some(uk(a.icons)):w.none(),caret:w.none(),value:e.value},a,s);return Ye(ek({data:tk(e),disabled:e.disabled,getApi:l,onAction:function(t){return r(e.value)},onSetup:function(e){return e.setActive(o),function(){}},triggersSubmenu:!1,itemBehaviours:[]},u,i,a),{toggling:{toggleClass:p_,toggleOnExecute:!1,selected:e.active}})},Ok=Nm(cx(),dx()),Tk=function(e){return{value:e}},Mk=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Dk=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Ik=function(e){return Mk.test(e)||Dk.test(e)},Ek=function(e){var t=e.value.replace(Mk,(function(e,t,n,r){return t+t+n+n+r+r}));return{value:t}},Ak=function(e){var t=Ek(e),n=Dk.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n},Lk=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},jk=function(e){var t=Lk(e.red)+Lk(e.green)+Lk(e.blue);return Tk(t)},Nk=Math.min,Pk=Math.max,Rk=Math.round,Bk=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Fk=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,zk=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},Vk=function(e){var t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},Hk=function(e){var t,n,r,o=(e.hue||0)%360,i=e.saturation/100,a=e.value/100;if(i=Pk(0,Nk(i,1)),a=Pk(0,Nk(a,1)),0===i)return t=n=r=Rk(255*a),zk(t,n,r,1);var s=o/60,l=a*i,u=l*(1-Math.abs(s%2-1)),c=a-l;switch(Math.floor(s)){case 0:t=l,n=u,r=0;break;case 1:t=u,n=l,r=0;break;case 2:t=0,n=l,r=u;break;case 3:t=0,n=u,r=l;break;case 4:t=u,n=0,r=l;break;case 5:t=l,n=0,r=u;break;default:t=n=r=0}return t=Rk(255*(t+c)),n=Rk(255*(n+c)),r=Rk(255*(r+c)),zk(t,n,r,1)},Uk=function(e){var t=Ak(e),n=parseInt(t[1],16),r=parseInt(t[2],16),o=parseInt(t[3],16);return zk(n,r,o,1)},$k=function(e,t,n,r){var o=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),s=parseFloat(r);return zk(o,i,a,s)},qk=function(e){if("transparent"===e)return w.some(zk(0,0,0,0));var t=Bk.exec(e);if(null!==t)return w.some($k(t[1],t[2],t[3],"1"));var n=Fk.exec(e);return null!==n?w.some($k(n[1],n[2],n[3],n[4])):w.none()},Wk=function(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"},Gk=zk(255,0,0,1),Yk=function(e){return e.fire("SkinLoaded")},Kk=function(e,t){return e.fire("SkinLoadError",t)},Xk=function(e){return e.fire("ResizeEditor")},Jk=function(e,t){return e.fire("ResizeContent",t)},Zk=function(e,t){return e.fire("ScrollContent",t)},Qk=function(e,t){return e.fire("TextColorChange",t)},eO=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),tO="tinymce-custom-colors";function nO(e){void 0===e&&(e=10);var t=eO.getItem(tO),n=O(t)?JSON.parse(t):[],r=function(t){var n=e-t.length;return n<0?t.slice(0,e):t},o=r(n),i=function(t){z(o,t).each(a),o.unshift(t),o.length>e&&o.pop(),eO.setItem(tO,JSON.stringify(o))},a=function(e){o.splice(e,1)},s=function(){return o.slice(0)};return{add:i,state:s}}var rO="choiceitem",oO=[{type:rO,text:"Light Green",value:"#BFEDD2"},{type:rO,text:"Light Yellow",value:"#FBEEB8"},{type:rO,text:"Light Red",value:"#F8CAC6"},{type:rO,text:"Light Purple",value:"#ECCAFA"},{type:rO,text:"Light Blue",value:"#C2E0F4"},{type:rO,text:"Green",value:"#2DC26B"},{type:rO,text:"Yellow",value:"#F1C40F"},{type:rO,text:"Red",value:"#E03E2D"},{type:rO,text:"Purple",value:"#B96AD9"},{type:rO,text:"Blue",value:"#3598DB"},{type:rO,text:"Dark Turquoise",value:"#169179"},{type:rO,text:"Orange",value:"#E67E23"},{type:rO,text:"Dark Red",value:"#BA372A"},{type:rO,text:"Dark Purple",value:"#843FA1"},{type:rO,text:"Dark Blue",value:"#236FA1"},{type:rO,text:"Light Gray",value:"#ECF0F1"},{type:rO,text:"Medium Gray",value:"#CED4D9"},{type:rO,text:"Gray",value:"#95A5A6"},{type:rO,text:"Dark Gray",value:"#7E8C8D"},{type:rO,text:"Navy Blue",value:"#34495E"},{type:rO,text:"Black",value:"#000000"},{type:rO,text:"White",value:"#ffffff"}],iO=nO(10),aO=function(e){var t=[],n=document.createElement("canvas");n.height=1,n.width=1;for(var r=n.getContext("2d"),o=function(e,t){var n=255,r=t/255,o=Math.round(e*r+n*(1-r));return("0"+o.toString(16)).slice(-2).toUpperCase()},i=function(e){if(/^[0-9A-Fa-f]{6}$/.test(e))return"#"+e.toUpperCase();r.clearRect(0,0,n.width,n.height),r.fillStyle="#FFFFFF",r.fillStyle=e,r.fillRect(0,0,1,1);var t=r.getImageData(0,0,1,1).data,i=t[0],a=t[1],s=t[2],l=t[3];return"#"+o(i,l)+o(a,l)+o(s,l)},a=0;a<e.length;a+=2)t.push({text:e[a+1],value:i(e[a]),type:"choiceitem"});return t},sO=function(e,t){return e.getParam("color_cols",t,"number")},lO=function(e){return!1!==e.getParam("custom_colors")},uO=function(e){return e.getParam("color_map")},cO=function(e){var t=uO(e);return void 0!==t?aO(t):oO},dO=function(){return q(iO.state(),(function(e){return{type:rO,text:e,value:e}}))},fO=function(e){iO.add(e)},pO=function(e,t){var n;return e.dom.getParents(e.selection.getStart(),(function(e){var r;(r=e.style["forecolor"===t?"color":"background-color"])&&(n=n||r)})),n},hO=function(e,t,n){e.undoManager.transact((function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))},mO=function(e,t){e.undoManager.transact((function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()}))},gO=function(e){e.addCommand("mceApplyTextcolor",(function(t,n){hO(e,t,n)})),e.addCommand("mceRemoveTextcolor",(function(t){mO(e,t)}))},vO=function(e){return Math.max(5,Math.ceil(Math.sqrt(e)))},yO=function(e){var t=cO(e),n=vO(t.length);return sO(e,n)},bO=function(e){var t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},r={type:t,text:"Custom color",icon:"color-picker",value:"custom"};return e?[n,r]:[n]},xO=function(e,t,n,r){if("custom"===n){var o=OO(e);o((function(n){n.each((function(n){fO(n),e.execCommand("mceApplyTextcolor",t,n),r(n)}))}),"#000000")}else"remove"===n?(r(""),e.execCommand("mceRemoveTextcolor",t)):(r(n),e.execCommand("mceApplyTextcolor",t,n))},wO=function(e,t){return e.concat(dO().concat(bO(t)))},_O=function(e,t){return function(n){n(wO(e,t))}},CO=function(e,t,n){var r=function(t,n){e.setIconFill(t,n),e.setIconStroke(t,n)},o="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";r(o,n)},SO=function(e,t,n,r,o){e.ui.registry.addSplitButton(t,{tooltip:r,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){var r=w.from(pO(e,n));return r.bind((function(e){return qk(e).map((function(e){var n=jk(e).value;return hr(t.toLowerCase(),n)}))})).getOr(!1)},columns:yO(e),fetch:_O(cO(e),lO(e)),onAction:function(t){null!==o.get()&&xO(e,n,o.get(),(function(){}))},onItemAction:function(r,i){xO(e,n,i,(function(n){o.set(n),Qk(e,{name:t,color:n})}))},onSetup:function(n){null!==o.get()&&CO(n,t,o.get());var r=function(e){e.name===t&&CO(n,e.name,e.color)};return e.on("TextColorChange",r),function(){e.off("TextColorChange",r)}}})},kO=function(e,n,r,o){e.ui.registry.addNestedMenuItem(n,{text:o,icon:"forecolor"===n?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(n){xO(e,r,n.value,t)}}]}})},OO=function(e){return function(t,n){var r=function(e){return function(t){var n=t.getData();e(w.from(n.colorpicker)),t.close()}},o=function(e,t){"hex-valid"===t.name&&(t.value?e.enable("ok"):e.disable("ok"))},i={colorpicker:n},a=r(t);e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i,onAction:o,onSubmit:a,onClose:function(){},onCancel:function(){t(w.none())}})}},TO=function(e){gO(e);var t=Kn(null),n=Kn(null);SO(e,"forecolor","forecolor","Text color",t),SO(e,"backcolor","hilitecolor","Background color",n),kO(e,"forecolor","forecolor","Text color"),kO(e,"backcolor","hilitecolor","Background color")},MO=function(e,t,n,r,o,i,a,s){var l=U_(t),u="color"!==o?"normal":"color",c=DO(t,n,r,u,i,a,s);return W_(e,l,c,r,o)},DO=function(e,t,n,r,o,i,a){return ug(q(e,(function(s){return"choiceitem"===s.type?rC(s).fold($_,(function(l){return w.some(kk(l,1===n,r,t,i(s.value),o,a,U_(e)))})):w.none()})))},IO=function(e,t){var n=L_(t);if(1===e)return{mode:"menu",moveOnTab:!0};if("auto"===e)return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}};var r="color"===t?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+r}},EO=function(e,t){return 1===e?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===e?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===t?".tox-swatches__row":".tox-collection__group",cell:"color"===t?"."+d_:"."+c_}}};function AO(e,t){var n=wO(t.colorinput.getColors(),t.colorinput.hasCustomColors()),r=t.colorinput.getColorCols(),o="color",i=MO(Ta("menu-value"),n,(function(t){e.onAction({value:t})}),r,o,l_.CLOSE_ON_EXECUTE,(function(){return!1}),t.shared.providers),a=p(p({},i),{markers:L_(o),movement:IO(r,o)});return{type:"widget",data:{value:Ta("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Ok.widget(_x.sketch(a))]}}var LO,jO=Ta("cell-over"),NO=Ta("cell-execute"),PO=function(e,t,n){var r,o=function(n){return di(n,jO,{row:e,col:t})},i=function(n){return di(n,NO,{row:e,col:t})},a=function(e,t){t.stop(),i(e)};return bl({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:zc([Cb("insert-table-picker-cell",[xi(To(),Ab.focus),xi(Uo(),i),xi(jo(),a),xi(qo(),a)]),Jb.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Ab.config({onFocus:o})])})},RO=function(e,t,n){for(var r=[],o=0;o<t;o++){for(var i=[],a=0;a<n;a++)i.push(PO(o,a,e));r.push(i)}return r},BO=function(e,t,n,r,o){for(var i=0;i<r;i++)for(var a=0;a<o;a++)Jb.set(e[i][a],i<=t&&a<=n)},FO=function(e){return ne(e,(function(e){return q(e,xl)}))},zO=function(e,t){return gl(t+1+"x"+(e+1))},VO=function(e){var t=10,n=10,r=Ta("size-label"),o=RO(r,t,n),i=Zx({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:r}},components:[gl("0x0")],behaviours:zc([wb.config({})])});return{type:"widget",data:{value:Ta("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Ok.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:FO(o).concat(i.asSpec()),behaviours:zc([Cb("insert-table-picker",[Oi(jO,(function(e,r,a){var s=a.event.row,l=a.event.col;BO(o,s,l,t,n),wb.set(i.get(e),[zO(s,l)])})),Oi(NO,(function(t,n,r){e.onAction({numRows:r.event.row+1,numColumns:r.event.col+1}),ci(t,Go())}))]),db.config({initSize:{numRows:t,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}},HO={inserttable:VO,colorswatch:AO},UO=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?w.some(e[t]):w.none()},$O=function(e,t){return UO(HO,e.fancytype).map((function(n){return n(e,t)}))},qO=function(e,n,r,o,i){void 0===o&&(o=!0),void 0===i&&(i=!1);var a=i?dk(r.icons):ck(r.icons),s=function(e){return{isDisabled:function(){return KC.isDisabled(e)},setDisabled:function(t){return KC.set(e,t)}}},l=bk({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:w.none(),ariaLabel:e.text,caret:w.some(a),checkMark:w.none(),shortcutContent:e.shortcut},r,o);return ek({data:tk(e),getApi:s,disabled:e.disabled,onAction:t,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},l,n,r)},WO=function(e,t,n,r){void 0===r&&(r=!0);var o=function(e){return{isDisabled:function(){return KC.isDisabled(e)},setDisabled:function(t){return KC.set(e,t)}}},i=bk({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:w.none(),ariaLabel:e.text,caret:w.none(),checkMark:w.none(),shortcutContent:e.shortcut},n,r);return ek({data:tk(e),getApi:o,disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n)},GO=function(e){var t=e.text.fold((function(){return{}}),(function(e){return{innerHtml:e}}));return{type:"separator",dom:p({tag:"div",classes:[c_,h_]},t),components:[]}},YO=function(e,t,n,r){void 0===r&&(r=!0);var o=function(e){return{setActive:function(t){Jb.set(e,t)},isActive:function(){return Jb.isOn(e)},isDisabled:function(){return KC.isDisabled(e)},setDisabled:function(t){return KC.set(e,t)}}},i=bk({iconContent:e.icon,textContent:e.text,htmlContent:w.none(),ariaLabel:e.text,checkMark:w.some(uk(n.icons)),caret:w.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,r);return Ye(ek({data:tk(e),disabled:e.disabled,getApi:o,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n),{toggling:{toggleClass:p_,toggleOnExecute:!1,selected:e.active}})},KO=function(e,t){return q(e,(function(e){switch(e.type){case"cardcontainer":return fk(e,KO(e.items,t));case"cardimage":return pk(e.src,e.classes,e.alt);case"cardtext":var n=e.name.exists((function(e){return V(t.cardText.highlightOn,e)})),r=n?w.from(t.cardText.matchText).getOr(""):"";return ak(Ck(e.text,r),e.classes)}}))},XO=function(e,t,n,r){var o=function(e){return{isDisabled:function(){return KC.isDisabled(e)},setDisabled:function(t){KC.set(e,t),W(Pf(e.element,"*"),(function(n){e.getSystem().getByDom(n).each((function(e){e.hasConfigured(KC)&&KC.set(e,t)}))}))}}},i={dom:mk(!1,e.label),optComponents:[w.some({dom:{tag:"div",classes:[__,S_]},components:KO(e.items,r)})]};return ek({data:tk(p({text:w.none()},e)),disabled:e.disabled,getApi:o,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:w.from(r.itemBehaviours).getOr([])},i,t,n.providers)},JO=Sk,ZO=GO,QO=WO,eT=qO,tT=YO,nT=$O,rT=XO;(function(e){e[e["ContentFocus"]=0]="ContentFocus",e[e["UiFocus"]=1]="UiFocus"})(LO||(LO={}));var oT=function(e,t,n,r,o){var i=n.shared.providers,a=function(e){return o?p(p({},e),{shortcut:w.none(),icon:e.text.isSome()?w.none():e.icon}):e};switch(e.type){case"menuitem":return lC(e).fold($_,(function(e){return w.some(QO(a(e),t,i,r))}));case"nestedmenuitem":return cC(e).fold($_,(function(e){return w.some(eT(a(e),t,i,r,o))}));case"togglemenuitem":return fC(e).fold($_,(function(e){return w.some(tT(a(e),t,i,r))}));case"separator":return Rw(e).fold($_,(function(e){return w.some(ZO(e))}));case"fancymenuitem":return aC(e).fold($_,(function(e){return nT(a(e),n)}));default:return w.none()}},iT=function(e,t,n,r,o,i,a){var s=1===r,l=!s||U_(e);return ug(q(e,(function(e){switch(e.type){case"separator":return zw(e).fold($_,(function(e){return w.some(ZO(e))}));case"cardmenuitem":return tC(e).fold($_,(function(e){return w.some(rT(p(p({},e),{onAction:function(t){e.onAction(t),n(e.value,e.meta)}}),o,i,{itemBehaviours:xk(e.meta,i),cardText:{matchText:t,highlightOn:a}}))}));case"autocompleteitem":default:return Vw(e).fold($_,(function(e){return w.some(JO(e,t,s,"normal",n,o,i,l))}))}})))},aT=function(e,t,n,r,o){var i=U_(t),a=ug(q(t,(function(e){var t=function(e){return o?!e.hasOwnProperty("text"):i},a=function(e){return oT(e,n,r,t(e),o)};return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?a(p(p({},e),{disabled:!0})):a(e)}))),s=o?q_:W_;return s(e,i,a,1,"normal")},sT=function(e){return jx.singleData(e.value,e)},lT=function(e,t,n,r){var o=n===LO.ContentFocus?lv():sv(),i=IO(t,r),a=L_(r);return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:n===LO.ContentFocus,focusManager:o,menuBehaviours:gC.unnamedEvents("auto"!==t?[]:[Ii((function(e,t){pC(e,4,a.item).each((function(t){var n=t.numColumns,r=t.numRows;db.setGridSize(e,r,n)}))}))])}},uT=function(e,t){var n=Kn(w.none()),r=Kn(!1),o=bl(Rx.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:zc([Cb("dismissAutocompleter",[xi(ni(),(function(){return l()}))])]),lazySink:t.getSink})),i=function(){return Rx.isOpen(o)},a=function(){return n.get().isSome()},s=function(){a()&&Rx.hide(o)},l=function(){if(a()){var t=n.get().map((function(e){return e.element}));mw(t.getOr(tr.fromDom(e.selection.getNode()))).each(sa),s(),n.set(w.none()),r.set(!1)}},u=Xe((function(){return a_(e)})),c=function(n,o){var i=fe(o,(function(e){return w.from(e.columns)})).getOr(1);return ne(o,(function(o){var a=o.items;return iT(a,o.matchText,(function(t,i){var a=e.selection.getRng();_w(e.dom,a,n).fold((function(){}),(function(e){var n=e.range,a={hide:function(){l()},reload:function(e){s(),h(e)}};r.set(!0),o.onAction(a,n,t,i),r.set(!1)}))}),i,l_.BUBBLE_TO_SANDBOX,t,o.highlightOn)}))},d=function(t){if(!a()){var o=hw(e,t.range);n.set(w.some({triggerChar:t.triggerChar,element:o,matchLength:t.text.length})),r.set(!1)}},f=function(t,n,r,i){t.matchLength=n.text.length;var a=fe(r,(function(e){return w.from(e.columns)})).getOr(1);Rx.showAt(o,{anchor:"node",root:tr.fromDom(e.getBody()),node:w.from(t.element)},_x.sketch(lT(W_("autocompleter-value",!0,i,a,"normal"),a,LO.ContentFocus,"normal"))),Rx.getContent(o).each(Fg.highlightFirst)},p=function(t){return n.get().map((function(n){return _w(e.dom,e.selection.getRng(),n.triggerChar).bind((function(n){return Nw(e,u,n,t)}))})).getOrThunk((function(){return jw(e,u)}))},h=function(e){p(e).fold(l,(function(e){d(e.context),e.lookupData.then((function(t){n.get().map((function(n){var r=e.context;if(n.triggerChar===r.triggerChar){var o=c(r.triggerChar,t);o.length>0?f(n,r,t,o):r.text.length-n.matchLength>=10?l():s()}}))}))}))},m=uw((function(e){27!==e.which&&h()}),50),g={onKeypress:m,cancelIfNecessary:l,isMenuOpen:i,isActive:a,isProcessingAction:r.get,getView:function(){return Rx.getContent(o)}};!1===e.hasPlugin("rtc")&&Sw.setup(g,e)},cT={register:uT},dT=d,fT=function(e,t,n){return Vl(e,t,dT,n)},pT=function(e,t,n){return Hl(e,t,dT,n)},hT=Bl,mT=function(e,t,n){return mu(e,t,n).isSome()};function gT(e,t){var n=null,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n=setTimeout((function(){e.apply(null,r),n=null}),t)},o=function(){null!==n&&(clearTimeout(n),n=null)};return{cancel:o,schedule:r}}var vT=5,yT=400,bT=function(e){var t=e.raw;return void 0===t.touches||1!==t.touches.length?w.none():w.some(t.touches[0])},xT=function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>vT||r>vT},wT=function(e){var t=Kn(w.none()),n=Kn(!1),r=gT((function(t){e.triggerEvent(Wo(),t),n.set(!0)}),yT),o=function(e){return bT(e).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:e.target};r.schedule(e),n.set(!1),t.set(w.some(i))})),w.none()},i=function(e){return r.cancel(),bT(e).each((function(e){t.get().each((function(n){xT(e,n)&&t.set(w.none())}))})),w.none()},a=function(o){r.cancel();var i=function(e){return oo(e.target,o.target)};return t.get().filter(i).map((function(t){return n.get()?(o.prevent(),!1):e.triggerEvent(qo(),o)}))},s=ct([{key:bo(),value:o},{key:xo(),value:i},{key:wo(),value:a}]),l=function(e,t){return Fe(s,t).bind((function(t){return t(e)}))};return{fireIfReady:l}},_T=function(e){var t=e.raw;return t.which===zg[0]&&!V(["input","textarea"],ji(e.target))&&!mT(e.target,'[contenteditable="true"]')},CT=function(){return Gr().browser.isFirefox()},ST=Rt([kn("triggerEvent"),Bn("stopBackspace",!0)]),kT=function(e,t){return CT()?pT(e,"focus",t):fT(e,"focusin",t)},OT=function(e,t){return CT()?pT(e,"blur",t):fT(e,"focusout",t)},TT=function(e,t){var n=on("Getting GUI events settings",ST,t),r=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],o=wT(n),i=q(r.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(t){return fT(e,t,(function(e){o.fireIfReady(e,t).each((function(t){t&&e.kill()}));var r=n.triggerEvent(t,e);r&&e.kill()}))})),a=Kn(w.none()),s=fT(e,"paste",(function(e){o.fireIfReady(e,"paste").each((function(t){t&&e.kill()}));var t=n.triggerEvent("paste",e);t&&e.kill(),a.set(w.some(setTimeout((function(){n.triggerEvent(Vo(),e)}),0)))})),l=fT(e,"keydown",(function(e){var t=n.triggerEvent("keydown",e);t?e.kill():!0===n.stopBackspace&&_T(e)&&e.prevent()})),u=kT(e,(function(e){var t=n.triggerEvent("focusin",e);t&&e.kill()})),c=Kn(w.none()),d=OT(e,(function(e){var t=n.triggerEvent("focusout",e);t&&e.kill(),c.set(w.some(setTimeout((function(){n.triggerEvent(zo(),e)}),0)))})),f=function(){W(i,(function(e){e.unbind()})),l.unbind(),u.unbind(),d.unbind(),s.unbind(),a.get().each(clearTimeout),c.get().each(clearTimeout)};return{unbind:f}},MT=function(e,t){var n=Fe(e,"target").getOr(t);return Kn(n)},DT=function(e,t){var n=Kn(!1),r=Kn(!1),o=function(){n.set(!0)},i=function(){r.set(!0)};return{stop:o,cut:i,isStopped:n.get,isCut:r.get,event:e,setSource:t.set,getSource:t.get}},IT=function(e){var n=Kn(!1),r=function(){n.set(!0)};return{stop:r,cut:t,isStopped:n.get,isCut:c,event:e,setSource:u("Cannot set source of a broadcasted event"),getSource:u("Cannot get source of a broadcasted event")}},ET=Ue.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),AT=function(e,t,n,r,o,i){var a=e(t,r),s=DT(n,o);return a.fold((function(){return i.logEventNoHandlers(t,r),ET.complete()}),(function(e){var n=e.descHandler,r=as(n);return r(s),s.isStopped()?(i.logEventStopped(t,e.element,n.purpose),ET.stopped()):s.isCut()?(i.logEventCut(t,e.element,n.purpose),ET.complete()):qi(e.element).fold((function(){return i.logNoParent(t,e.element,n.purpose),ET.complete()}),(function(r){return i.logEventResponse(t,e.element,n.purpose),ET.resume(r)}))}))},LT=function(e,t,n,r,o,i){return AT(e,t,n,r,o,i).fold((function(){return!0}),(function(r){return LT(e,t,n,r,o,i)}),(function(){return!1}))},jT=function(e,t,n,r,o){var i=MT(n,r);return AT(e,t,n,r,i,o)},NT=function(e,t,n){var r=IT(t);return W(e,(function(e){var t=e.descHandler,n=as(t);n(r)})),r.isStopped()},PT=function(e,t,n,r){return RT(e,t,n,n.target,r)},RT=function(e,t,n,r,o){var i=MT(n,r);return LT(e,t,n,r,i,o)},BT=function(e,t){return{element:e,descHandler:t}},FT=function(e,t){return{id:e,descHandler:t}};function zT(){var e={},t=function(t,n,r){Ie(r,(function(r,o){var i=void 0!==e[o]?e[o]:{};i[n]=is(r,t),e[o]=i}))},n=function(e,t){return ja(t).fold((function(){return w.none()}),(function(n){return e.bind((function(e){return Fe(e,n)})).map((function(e){return BT(t,e)}))}))},r=function(t){return Fe(e,t).map((function(e){return Pe(e,(function(e,t){return FT(t,e)}))})).getOr([])},o=function(t,r,o){var i=Fe(e,r);return co(o,(function(e){return n(i,e)}),t)},i=function(t){Ie(e,(function(e,n){e.hasOwnProperty(t)&&delete e[t]}))};return{registerId:t,unregisterId:i,filterByType:r,find:o}}function VT(){var e=zT(),t={},n=function(e){var t=e.element;return ja(t).fold((function(){return Aa("uid-",e.element)}),(function(e){return e}))},r=function(e,n){var r=t[n];if(r!==e)throw new Error('The tagId "'+n+'" is already used by: '+_a(r.element)+"\nCannot use it for: "+_a(e.element)+"\nThe conflicting element is"+($s(r.element)?" ":" not ")+"already in the DOM");i(e)},o=function(o){var i=n(o);Ve(t,i)&&r(o,i);var a=[o];e.registerId(a,i,o.events),t[i]=o},i=function(n){ja(n.element).each((function(n){delete t[n],e.unregisterId(n)}))},a=function(t){return e.filterByType(t)},s=function(t,n,r){return e.find(t,n,r)},l=function(e){return Fe(t,e)};return{find:s,filter:a,register:o,unregister:i,getById:l}}var HT=function(e){var t=e.dom,n=t.attributes,r=h(t,["attributes"]);return{uid:e.uid,dom:p({tag:"div",attributes:p({role:"presentation"},n)},r),components:e.components,behaviours:Xh(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},UT=sg({name:"Container",factory:HT,configFields:[Bn("components",[]),Kh("containerBehaviours",[]),Bn("events",{}),Bn("domModification",{}),Bn("eventOrder",{})]}),$T=function(e){var n=function(t){return qi(e.element).fold((function(){return!0}),(function(e){return oo(t,e)}))},r=VT(),o=function(e,t){return r.find(n,e,t)},a=TT(e.element,{triggerEvent:function(e,t){return Mu(e,t.target,(function(n){return PT(o,e,t,n)}))}}),s={debugInfo:i("real"),triggerEvent:function(e,t,n){Mu(e,t,(function(r){return RT(o,e,n,t,r)}))},triggerFocus:function(e,n){ja(e).fold((function(){Xc(e)}),(function(r){Mu(Fo(),e,(function(r){return jT(o,Fo(),{originator:n,kill:t,prevent:t,target:e},e,r),!1}))}))},triggerEscape:function(e,t){s.triggerEvent("keydown",e.element,t.event)},getByUid:function(e){return y(e)},getByDom:function(e){return b(e)},build:bl,addToGui:function(e){c(e)},removeFromGui:function(e){f(e)},addToWorld:function(e){l(e)},removeFromWorld:function(e){u(e)},broadcast:function(e){m(e)},broadcastOn:function(e,t){g(e,t)},broadcastEvent:function(e,t){v(e,t)},isConnected:d},l=function(e){e.connect(s),Bi(e.element)||(r.register(e),W(e.components(),l),s.triggerEvent(Ko(),e.element,{target:e.element}))},u=function(e){Bi(e.element)||(W(e.components(),u),r.unregister(e)),e.disconnect()},c=function(t){Bp(e,t)},f=function(e){Vp(e)},p=function(){a.unbind(),aa(e.element)},h=function(e){var t=r.filter(Ho());W(t,(function(t){var n=t.descHandler,r=as(n);r(e)}))},m=function(e){h({universal:!0,data:e})},g=function(e,t){h({universal:!1,channels:e,data:t})},v=function(e,t){var n=r.filter(e);return NT(n,t)},y=function(e){return r.getById(e).fold((function(){return ge.error(new Error('Could not find component with uid: "'+e+'" in system.'))}),ge.value)},b=function(e){var t=ja(e).getOr("not found");return y(t)};return l(e),{root:e,element:e.element,destroy:p,add:c,remove:f,getByUid:y,getByDom:b,addToWorld:l,removeFromWorld:u,broadcast:m,broadcastOn:g,broadcastEvent:v}},qT=function(e,t){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:q(e.items,t.interpreter)}},WT=i([Bn("prefix","form-field"),Kh("fieldBehaviours",[bg,Yh])]),GT=i([Dm({schema:[bn("dom")],name:"label"}),Dm({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[bn("text")],name:"aria-descriptor"}),Tm({factory:{sketch:function(e){var t=lt(e,["factory"]);return e.factory.sketch(t)}},schema:[bn("factory")],name:"field"})]),YT=function(e,t,n,r){var o=Jh(e.fieldBehaviours,[bg.config({find:function(t){return Hm(t,e,"field")}}),Yh.config({store:{mode:"manual",getValue:function(e){return bg.getCurrent(e).bind(Yh.getValue)},setValue:function(e,t){bg.getCurrent(e).each((function(e){Yh.setValue(e,t)}))}}})]),i=gi([Ii((function(t,n){var r=$m(t,e,["label","field","aria-descriptor"]);r.field().each((function(t){var n=Ta(e.prefix);r.label().each((function(e){pa(e.element,"for",n),pa(t.element,"id",n)})),r["aria-descriptor"]().each((function(n){var r=Ta(e.prefix);pa(n.element,"id",r),pa(t.element,"aria-describedby",r)}))}))}))]),a={getField:function(t){return Hm(t,e,"field")},getLabel:function(t){return Hm(t,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:i,apis:a}},KT=lg({name:"FormField",configFields:WT(),partFields:GT(),factory:YT,apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}}),XT=function(e,t){return Qa({attributes:ct([{key:t.tabAttr,value:"true"}])})},JT=Object.freeze({__proto__:null,exhibit:XT}),ZT=[Bn("tabAttr","data-alloy-tabstop")],QT=Hc({fields:ZT,name:"tabstopping",active:JT}),eM=tinymce.util.Tools.resolve("tinymce.html.Entities"),tM=function(e,t,n,r){var o=rM(e,t,n,r);return KT.sketch(o)},nM=function(e,t){return tM(e,t,[],[])},rM=function(e,t,n,r){return{dom:iM(n),components:e.toArray().concat([t]),fieldBehaviours:zc(r)}},oM=function(){return iM([])},iM=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},aM=function(e,t){return KT.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})},sM=Ta("form-component-change"),lM=Ta("form-close"),uM=Ta("form-cancel"),cM=Ta("form-action"),dM=Ta("form-submit"),fM=Ta("form-block"),pM=Ta("form-unblock"),hM=Ta("form-tabchange"),mM=Ta("form-resize"),gM=function(e,t){var n,r=e.label.map((function(e){return aM(e,t)})),o=function(e){return function(t,n){mu(n.event.target,"[data-collection-item-value]").each((function(r){e(t,n,r,ma(r,"data-collection-item-value"))}))}},i=function(n,r){var o=q(r,(function(n){var r=IC.translate(n.text),o=1===e.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",i='<div class="tox-collection__item-icon">'+n.icon+"</div>",a={_:" "," - ":" ","-":" "},s=r.replace(/\_| \- |\-/g,(function(e){return a[e]})),l=t.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+l+'" tabindex="-1" data-collection-item-value="'+eM.encodeAllRaw(n.value)+'" title="'+s+'" aria-label="'+s+'">'+i+o+"</div>"})),i="auto"!==e.columns&&e.columns>1?$(o,e.columns):[o],a=q(i,(function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"}));ca(n.element,a.join(""))},s=o((function(n,r,o,i){r.stop(),t.isDisabled()||di(n,cM,{name:e.name,value:i})})),l=[xi(To(),o((function(e,t,n){Xc(n)}))),xi(jo(),s),xi(qo(),s),xi(Mo(),o((function(e,t,n){hu(e.element,"."+x_).each((function(e){Ds(e,x_)})),Ts(n,x_)}))),xi(Do(),o((function(e){hu(e.element,"."+x_).each((function(e){Ds(e,x_)}))}))),Li(o((function(t,n,r,o){di(t,cM,{name:e.name,value:o})})))],u=function(e,t){return q(Pf(e.element,".tox-collection__item"),t)},c=KT.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:a},behaviours:zc([KC.config({disabled:t.isDisabled,onDisabled:function(e){u(e,(function(e){Ts(e,"tox-collection__item--state-disabled"),pa(e,"aria-disabled",!0)}))},onEnabled:function(e){u(e,(function(e){Ds(e,"tox-collection__item--state-disabled"),ya(e,"aria-disabled")}))}}),HS(),wb.config({}),Yh.config({store:{mode:"memory",initialValue:[]},onSetValue:function(t,n){i(t,n),"auto"===e.columns&&pC(t,5,"tox-collection__item").each((function(e){var n=e.numRows,r=e.numColumns;db.setGridSize(t,n,r)})),ci(t,mM)}}),QT.config({}),db.config(EO(e.columns,"normal")),Cb("collection-events",l)]),eventOrder:(n={},n[Uo()]=["disabling","alloy.base.behaviour","collection-events"],n)}),d=["tox-form__group--collection"];return tM(r,c,d,[])},vM=i([In("data"),Bn("inputAttributes",{}),Bn("inputStyles",{}),Bn("tag","input"),Bn("inputClasses",[]),Bu("onSetValue"),Bn("styles",{}),Bn("eventOrder",{}),Kh("inputBehaviours",[Yh,Ab]),Bn("selectOnFocus",!0)]),yM=function(e){return zc([Ab.config({onFocus:e.selectOnFocus?function(e){var t=e.element,n=il(t);t.dom.setSelectionRange(0,n.length)}:t})])},bM=function(e){return p(p({},yM(e)),Jh(e.inputBehaviours,[Yh.config({store:p(p({mode:"manual"},e.data.map((function(e){return{initialValue:e}})).getOr({})),{getValue:function(e){return il(e.element)},setValue:function(e,t){var n=il(e.element);n!==t&&al(e.element,t)}}),onSetValue:e.onSetValue})]))},xM=function(e){return{tag:e.tag,attributes:p({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},wM=function(e,t){return{uid:e.uid,dom:xM(e),components:[],behaviours:bM(e),eventOrder:e.eventOrder}},_M=sg({name:"Input",configFields:vM(),factory:wM}),CM={},SM={exports:CM};(function(t,n,r,o){(function(o){if("object"===typeof n&&"undefined"!==typeof r)r.exports=o();else if("function"===typeof t&&t.amd)t([],o);else{var i;i="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:this,i.EphoxContactWrapper=o()}})((function(){return function(){function e(t,n,r){function i(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof o&&o;if(!l&&u)return u(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};t[s][0].call(d.exports,(function(e){var n=t[s][1][e];return i(n||e)}),d,d.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof o&&o,s=0;s<r.length;s++)i(r[s]);return i}return e}()({1:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"===typeof clearTimeout?clearTimeout:s}catch(e){o=s}})();var c,d=[],f=!1,p=-1;function h(){f&&c&&(f=!1,c.length?d=c.concat(d):p=-1,d.length&&m())}function m(){if(!f){var e=l(h);f=!0;var t=d.length;while(t){c=d,d=[];while(++p<t)c&&c[p].run();p=-1,t=d.length}c=null,f=!1,u(e)}}function g(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new g(e,t)),1!==d.length||f||l(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){(function(n){var r=setTimeout;function o(){}function i(e,t){return function(){e.apply(t,arguments)}}function a(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function s(e,t){while(3===e._state)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void u(t.promise,o)}l(t.promise,r)}else(1===e._state?l:u)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void c(e);if("function"===typeof n)return void f(i(n,t),e)}e._state=1,e._value=t,c(e)}catch(r){u(e,r)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(r){if(n)return;n=!0,u(t,r)}}a.prototype["catch"]=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(o);return s(this,new d(e,t,n)),n},a.all=function(e){var t=Array.prototype.slice.call(e);return new a((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(e){o(i,e)}),n)}t[i]=a,0===--r&&e(t)}catch(l){n(l)}}for(var i=0;i<t.length;i++)o(i,t[i])}))},a.resolve=function(e){return e&&"object"===typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},a._immediateFn="function"===typeof e?function(t){e(t)}:function(e){r(e,0)},a._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console},a._setImmediateFn=function(e){a._immediateFn=e},a._setUnhandledRejectionFn=function(e){a._unhandledRejectionFn=e},"undefined"!==typeof t&&t.exports?t.exports=a:n.Promise||(n.Promise=a)})(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,s={},l=0;function u(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new u(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new u(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"===typeof t?t:function(e){var t=l++,r=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,o((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"===typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o=function(){return"undefined"!==typeof window?window:Function("return this;")()}();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,CM,SM,void 0);var kM,OM=SM.exports.boltExport,TM=function(e){var t=w.none(),n=[],r=function(e){return TM((function(t){o((function(n){t(e(n))}))}))},o=function(e){a()?l(e):n.push(e)},i=function(e){a()||(t=w.some(e),s(n),n=[])},a=function(){return t.isSome()},s=function(e){W(e,l)},l=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))};return e(i),{get:o,map:r,isReady:a}},MM=function(e){return TM((function(t){t(e)}))},DM={nu:TM,pure:MM},IM=function(e){setTimeout((function(){throw e}),0)},EM=function(e){var t=function(t){e().then(t,IM)},n=function(t){return EM((function(){return e().then(t)}))},r=function(t){return EM((function(){return e().then((function(e){return t(e).toPromise()}))}))},o=function(t){return EM((function(){return e().then((function(){return t.toPromise()}))}))},i=function(){return DM.nu(t)},a=function(){var t=null;return EM((function(){return null===t&&(t=e()),t}))},s=e;return{map:n,bind:r,anonBind:o,toLazy:i,toCached:a,toPromise:s,get:t}},AM=function(e){return EM((function(){return new OM(e)}))},LM=function(e){return EM((function(){return OM.resolve(e)}))},jM={nu:AM,pure:LM},NM=["input","textarea"],PM=function(e){var t=ji(e);return V(NM,t)},RM=function(e,t){var n=t.getRoot(e).getOr(e.element);Ds(n,t.invalidClass),t.notify.each((function(t){PM(e.element)&&pa(e.element,"aria-invalid",!1),t.getContainer(e).each((function(e){ca(e,t.validHtml)})),t.onValid(e)}))},BM=function(e,t,n,r){var o=t.getRoot(e).getOr(e.element);Ts(o,t.invalidClass),t.notify.each((function(t){PM(e.element)&&pa(e.element,"aria-invalid",!0),t.getContainer(e).each((function(e){ca(e,r)})),t.onInvalid(e,r)}))},FM=function(e,t,n){return t.validator.fold((function(){return jM.pure(ge.value(!0))}),(function(t){return t.validate(e)}))},zM=function(e,t,n){return t.notify.each((function(t){t.onValidate(e)})),FM(e,t).map((function(r){return e.getSystem().isConnected()?r.fold((function(r){return BM(e,t,n,r),ge.error(r)}),(function(n){return RM(e,t),ge.value(n)})):ge.error("No longer in system")}))},VM=function(e,t){var n=t.getRoot(e).getOr(e.element);return Is(n,t.invalidClass)},HM=Object.freeze({__proto__:null,markValid:RM,markInvalid:BM,query:FM,run:zM,isInvalid:VM}),UM=function(e,n){return e.validator.map((function(r){return gi([xi(r.onEvent,(function(t){zM(t,e,n).get(a)}))].concat(r.validateOnLoad?[Ii((function(r){zM(r,e,n).get(t)}))]:[]))})).getOr({})},$M=Object.freeze({__proto__:null,events:UM}),qM=[bn("invalidClass"),Bn("getRoot",w.none),Pn("notify",[Bn("aria","alert"),Bn("getContainer",w.none),Bn("validHtml",""),Bu("onValid"),Bu("onInvalid"),Bu("onValidate")]),Pn("validator",[bn("validate"),Bn("onEvent","input"),Bn("validateOnLoad",!0)])],WM=Hc({fields:qM,name:"invalidating",active:$M,apis:HM,extra:{validation:function(e){return function(t){var n=Yh.getValue(t);return jM.pure(e(n))}}}}),GM=function(e,t,n,r){return n.getOrCreate(e,t,r)},YM=Object.freeze({__proto__:null,getCoupled:GM}),KM=[xn("others",en(ge.value,cn()))],XM=function(){var e={},t=function(t,n,r){var o=Me(n.others);if(o)return Fe(e,r).getOrThunk((function(){var o=Fe(n.others,r).getOrDie("No information found for coupled component: "+r),i=o(t),a=t.getSystem().build(i);return e[r]=a,a}));throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))},n=i({});return Ya({readState:n,getOrCreate:t})},JM=Object.freeze({__proto__:null,init:XM}),ZM=Hc({fields:KM,name:"coupling",apis:YM,state:JM}),QM=i("sink"),eD=i(Dm({name:QM(),overrides:i({dom:{tag:"div"},behaviours:zc([Ap.config({useFixed:d})]),events:gi([Ti(Io()),Ti(Co()),Ti(jo())])})}));(function(e){e[e["HighlightFirst"]=0]="HighlightFirst",e[e["HighlightNone"]=1]="HighlightNone"})(kM||(kM={}));var tD=function(e,t){var n=e.getHotspot(t).getOr(t),r="hotspot",o=e.getAnchorOverrides();return e.layouts.fold((function(){return{anchor:r,hotspot:n,overrides:o}}),(function(e){return{anchor:r,hotspot:n,overrides:o,layouts:e}}))},nD=function(e,t,n){var r=e.fetch;return r(n).map(t)},rD=function(e,t,n,r,o,i,a){var s=nD(e,t,r),l=lD(r,e);return s.map((function(e){return e.bind((function(e){return w.from(jx.sketch(p(p({},i.menu()),{uid:Na(""),data:e,highlightImmediately:a===kM.HighlightFirst,onOpenMenu:function(e,t){var r=l().getOrDie();Ap.position(r,n,t),fh.decloak(o)},onOpenSubmenu:function(e,t,n){var r=l().getOrDie();Ap.position(r,{anchor:"submenu",item:t},n),fh.decloak(o)},onRepositionMenu:function(e,t,r){var o=l().getOrDie();Ap.position(o,n,t),W(r,(function(e){Ap.position(o,{anchor:"submenu",item:e.triggeringItem},e.triggeredMenu)}))},onEscape:function(){return Ab.focus(r),fh.close(o),w.some(!0)}})))}))}))},oD=function(e,t,n,r,o,i,a){var s=tD(e,n),l=rD(e,t,s,n,r,o,a);return l.map((function(e){return e.fold((function(){fh.isOpen(r)&&fh.close(r)}),(function(e){fh.cloak(r),fh.open(r,e),i(r)})),r}))},iD=function(e,t,n,r,o,i,a){return fh.close(r),jM.pure(r)},aD=function(e,t,n,r,o,i){var a=ZM.getCoupled(n,"sandbox"),s=fh.isOpen(a),l=s?iD:oD;return l(e,t,n,a,r,o,i)},sD=function(e,t,n){var r=bg.getCurrent(t).getOr(t),o=jl(e.element);n?Ks(r.element,"min-width",o+"px"):Ll(r.element,o)},lD=function(e,t){return e.getSystem().getByUid(t.uid+"-"+QM()).map((function(e){return function(){return ge.value(e)}})).getOrThunk((function(){return t.lazySink.fold((function(){return function(){return ge.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(t){return function(){return t(e)}}))}))},uD=function(e){fh.getState(e).each((function(e){jx.repositionMenus(e)}))},cD=function(e,t,n){var r=vu(),o=function(o,i){var a=tD(e,t);r.link(t.element),e.matchWidth&&sD(a.hotspot,i,e.useMinWidth),e.onOpen(a,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},i=function(e,o){r.unlink(t.element),void 0!==n&&void 0!==n.onClose&&n.onClose(e,o)},a=lD(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:Zh.augment(e.sandboxBehaviours,[Yh.config({store:{mode:"memory",initialValue:t}}),fh.config({onOpen:o,onClose:i,isPartOf:function(e,n,r){return bu(n,r)||bu(t,r)},getAttachPoint:function(){return a().getOrDie()}}),bg.config({find:function(e){return fh.getState(e).bind((function(e){return bg.getCurrent(e)}))}}),Wc.config({channels:p(p({},vh({isExtraPart:c})),bh({doReposition:uD}))})])}},dD=function(e){var t=ZM.getCoupled(e,"sandbox");uD(t)},fD=function(){return[Bn("sandboxClasses",[]),Zh.field("sandboxBehaviours",[bg,Wc,fh,Yh])]},pD=i([bn("dom"),bn("fetch"),Bu("onOpen"),Fu("onExecute"),Bn("getHotspot",w.some),Bn("getAnchorOverrides",i({})),Vd(),Kh("dropdownBehaviours",[Jb,ZM,db,Ab]),bn("toggleClass"),Bn("eventOrder",{}),In("lazySink"),Bn("matchWidth",!1),Bn("useMinWidth",!1),In("role")].concat(fD())),hD=i([Mm({schema:[Nu()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),eD()]),mD=function(e,n,r,o){var i,a=function(t){return Fe(e.dom,"attributes").bind((function(e){return Fe(e,t)}))},s=function(e){fh.getState(e).each((function(e){jx.highlightPrimary(e)}))},l=function(n){var r=s;aD(e,(function(e){return e}),n,o,r,kM.HighlightFirst).get(t)},u={expand:function(n){Jb.isOn(n)||aD(e,(function(e){return e}),n,o,t,kM.HighlightNone).get(t)},open:function(n){Jb.isOn(n)||aD(e,(function(e){return e}),n,o,t,kM.HighlightFirst).get(t)},isOpen:Jb.isOn,close:function(n){Jb.isOn(n)&&aD(e,(function(e){return e}),n,o,t,kM.HighlightFirst).get(t)},repositionMenus:function(e){Jb.isOn(e)&&dD(e)}},c=function(e,t){return fi(e),w.some(!0)};return{uid:e.uid,dom:e.dom,components:n,behaviours:Jh(e.dropdownBehaviours,[Jb.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),ZM.config({others:{sandbox:function(t){return cD(e,t,{onOpen:function(){Jb.on(t)},onClose:function(){Jb.off(t)}})}}}),db.config({mode:"special",onSpace:c,onEnter:c,onDown:function(e,t){if(gD.isOpen(e)){var n=ZM.getCoupled(e,"sandbox");s(n)}else gD.open(e);return w.some(!0)},onEscape:function(e,t){return gD.isOpen(e)?(gD.close(e),w.some(!0)):w.none()}}),Ab.config({})]),events:Qb(w.some(l)),eventOrder:p(p({},e.eventOrder),(i={},i[Uo()]=["disabling","toggling","alloy.base.behaviour"],i)),apis:u,domModification:{attributes:p(p({"aria-haspopup":"true"},e.role.fold((function(){return{}}),(function(e){return{role:e}}))),"button"===e.dom.tag?{type:a("type").getOr("button")}:{})}}},gD=lg({name:"Dropdown",configFields:pD(),partFields:hD(),factory:mD,apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}}),vD=function(){return Qa({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},yD=function(){return gi([vi(Po(),d)])},bD=Object.freeze({__proto__:null,events:yD,exhibit:vD}),xD=Hc({fields:[],name:"unselecting",active:bD}),wD=function(e,t){return gD.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:zc([GS.button(t.providers.isDisabled),HS(),xD.config({}),QT.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(n){return jM.nu((function(t){return e.fetch(t)})).map((function(r){return w.from(sT(Ye(MO(Ta("menu-value"),r,(function(t){e.onItemAction(n,t)}),e.columns,e.presets,l_.CLOSE_ON_EXECUTE,(function(){return!1}),t.providers),{movement:IO(e.columns,e.presets)})))}))},parts:{menu:P_(!1,1,e.presets)}})},_D=Ta("color-input-change"),CD=Ta("color-swatch-change"),SD=Ta("color-picker-cancel"),kD=function(e,t,n){var r=KT.parts.field({factory:_M,inputClasses:["tox-textfield"],onSetValue:function(e){return WM.run(e).get((function(){}))},inputBehaviours:zc([KC.config({disabled:t.providers.isDisabled}),HS(),QT.config({}),WM.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return qi(e.element)},notify:{onValid:function(e){var t=Yh.getValue(e);di(e,_D,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=Yh.getValue(e);if(0===t.length)return jM.pure(ge.value(!0));var n=tr.fromTag("span");Ks(n,"background-color",t);var r=el(n,"background-color").fold((function(){return ge.error("blah")}),(function(e){return ge.value(t)}));return jM.pure(r)}}})]),selectOnFocus:!1}),o=e.label.map((function(e){return aM(e,t.providers)})),i=function(e,t){di(e,CD,{value:t})},a=function(e,t){s.getOpt(e).each((function(e){"custom"===t?n.colorPicker((function(t){t.fold((function(){return ci(e,SD)}),(function(t){i(e,t),fO(t)}))}),"#ffffff"):i(e,"remove"===t?"":t)}))},s=Zx(wD({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[gc,mc,xc]},onLtr:function(){return[mc,gc,xc]}},components:[],fetch:_O(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:a},t));return KT.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,s.asSpec()]}]),fieldBehaviours:zc([Cb("form-field-events",[xi(_D,(function(t,n){s.getOpt(t).each((function(e){Ks(e.element,"background-color",n.event.color)})),di(t,sM,{name:e.name})})),xi(CD,(function(e,t){KT.getField(e).each((function(n){Yh.setValue(n,t.event.value),bg.getCurrent(e).each(Ab.focus)}))})),xi(SD,(function(e,t){KT.getField(e).each((function(t){bg.getCurrent(e).each(Ab.focus)}))}))])])})},OD=function(e,t,n){return{hue:e,saturation:t,value:n}},TD=function(e){var t=0,n=0,r=0,o=e.red/255,i=e.green/255,a=e.blue/255,s=Math.min(o,Math.min(i,a)),l=Math.max(o,Math.max(i,a));if(s===l)return r=s,OD(0,0,100*r);var u=o===s?i-a:a===s?o-i:a-o;return t=o===s?3:a===s?1:5,t=60*(t-u/(l-s)),n=(l-s)/l,r=l,OD(Math.round(t),Math.round(100*n),Math.round(100*r))},MD=function(e){var t=(100-e)/100*360,n=OD(t,100,100),r=Hk(n);return jk(r)},DD=Ta("rgb-hex-update"),ID=Ta("slider-update"),ED=Ta("palette-update"),AD=Dm({schema:[bn("dom")],name:"label"}),LD=function(e){return Dm({name:e+"-edge",overrides:function(t){var n=t.model.manager.edgeActions[e];return n.fold((function(){return{}}),(function(e){return{events:gi([wi(bo(),(function(t,n,r){return e(t,r)}),[t]),wi(Co(),(function(t,n,r){return e(t,r)}),[t]),wi(So(),(function(t,n,r){r.mouseIsDown.get()&&e(t,r)}),[t])])}}))}})},jD=LD("top-left"),ND=LD("top"),PD=LD("top-right"),RD=LD("right"),BD=LD("bottom-right"),FD=LD("bottom"),zD=LD("bottom-left"),VD=LD("left"),HD=Tm({name:"thumb",defaults:i({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:gi([ki(bo(),e,"spectrum"),ki(xo(),e,"spectrum"),ki(wo(),e,"spectrum"),ki(Co(),e,"spectrum"),ki(So(),e,"spectrum"),ki(Oo(),e,"spectrum")])}}}),UD=Tm({schema:[Yn("mouseIsDown",(function(){return Kn(!1)}))],name:"spectrum",overrides:function(e){var t=e.model,n=t.manager,r=function(t,r){return n.getValueFromEvent(r).map((function(r){return n.setValueFrom(t,e,r)}))};return{behaviours:zc([db.config({mode:"special",onLeft:function(t){return n.onLeft(t,e)},onRight:function(t){return n.onRight(t,e)},onUp:function(t){return n.onUp(t,e)},onDown:function(t){return n.onDown(t,e)}}),Ab.config({})]),events:gi([xi(bo(),r),xi(xo(),r),xi(Co(),r),xi(So(),(function(t,n){e.mouseIsDown.get()&&r(t,n)}))])}}}),$D=[AD,VD,RD,ND,FD,jD,PD,zD,BD,HD,UD],qD="slider.change.value",WD=i(qD),GD=function(e){return-1!==e.type.indexOf("touch")},YD=function(e){var t=e.event.raw;if(GD(t)){var n=t;return void 0!==n.touches&&1===n.touches.length?w.some(n.touches[0]).map((function(e){return Tl(e.clientX,e.clientY)})):w.none()}var r=t;return void 0!==r.clientX?w.some(r).map((function(e){return Tl(e.clientX,e.clientY)})):w.none()},KD="top",XD="right",JD="bottom",ZD="left",QD=function(e){return e.model.minX},eI=function(e){return e.model.minY},tI=function(e){return e.model.minX-1},nI=function(e){return e.model.minY-1},rI=function(e){return e.model.maxX},oI=function(e){return e.model.maxY},iI=function(e){return e.model.maxX+1},aI=function(e){return e.model.maxY+1},sI=function(e,t,n){return t(e)-n(e)},lI=function(e){return sI(e,rI,QD)},uI=function(e){return sI(e,oI,eI)},cI=function(e){return lI(e)/2},dI=function(e){return uI(e)/2},fI=function(e){return e.stepSize},pI=function(e){return e.snapToGrid},hI=function(e){return e.snapStart},mI=function(e){return e.rounded},gI=function(e,t){return void 0!==e[t+"-edge"]},vI=function(e){return gI(e,ZD)},yI=function(e){return gI(e,XD)},bI=function(e){return gI(e,KD)},xI=function(e){return gI(e,JD)},wI=function(e){return e.model.value.get()},_I=function(e){return{x:e}},CI=function(e){return{y:e}},SI=function(e,t){return{x:e,y:t}},kI=function(e,t){di(e,WD(),{value:t})},OI=function(e,t){kI(e,SI(tI(t),nI(t)))},TI=function(e,t){kI(e,CI(nI(t)))},MI=function(e,t){kI(e,SI(cI(t),nI(t)))},DI=function(e,t){kI(e,SI(iI(t),nI(t)))},II=function(e,t){kI(e,_I(iI(t)))},EI=function(e,t){kI(e,SI(iI(t),dI(t)))},AI=function(e,t){kI(e,SI(iI(t),aI(t)))},LI=function(e,t){kI(e,CI(aI(t)))},jI=function(e,t){kI(e,SI(cI(t),aI(t)))},NI=function(e,t){kI(e,SI(tI(t),aI(t)))},PI=function(e,t){kI(e,_I(tI(t)))},RI=function(e,t){kI(e,SI(tI(t),dI(t)))},BI=function(e,t,n,r){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-r)},FI=function(e,t,n,r){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+r)},zI=function(e,t,n){return Math.max(t,Math.min(n,e))},VI=function(e,t,n,r,o){return o.fold((function(){var o=e-t,i=Math.round(o/r)*r;return zI(t+i,t-1,n+1)}),(function(t){var o=(e-t)%r,i=Math.round(o/r),a=Math.floor((e-t)/r),s=Math.floor((n-t)/r),l=Math.min(s,a+i),u=t+l*r;return Math.max(t,u)}))},HI=function(e,t,n){return Math.min(n,Math.max(e,t))-t},UI=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.step,a=e.snap,s=e.snapStart,l=e.rounded,u=e.hasMinEdge,c=e.hasMaxEdge,d=e.minBound,f=e.maxBound,p=e.screenRange,h=u?t-1:t,m=c?n+1:n;if(o<d)return h;if(o>f)return m;var g=HI(o,d,f),v=zI(g/p*r+t,h,m);return a&&v>=t&&v<=n?VI(v,t,n,i,s):l?Math.round(v):v},$I=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.hasMinEdge,a=e.hasMaxEdge,s=e.maxBound,l=e.maxOffset,u=e.centerMinEdge,c=e.centerMaxEdge;return o<t?i?0:u:o>n?a?s:c:(o-t)/r*l},qI="top",WI="right",GI="bottom",YI="left",KI="width",XI="height",JI=function(e){return e.element.dom.getBoundingClientRect()},ZI=function(e,t){return e[t]},QI=function(e){var t=JI(e);return ZI(t,YI)},eE=function(e){var t=JI(e);return ZI(t,WI)},tE=function(e){var t=JI(e);return ZI(t,qI)},nE=function(e){var t=JI(e);return ZI(t,GI)},rE=function(e){var t=JI(e);return ZI(t,KI)},oE=function(e){var t=JI(e);return ZI(t,XI)},iE=function(e,t,n){return(e+t)/2-n},aE=function(e,t){var n=JI(e),r=JI(t),o=ZI(n,YI),i=ZI(n,WI),a=ZI(r,YI);return iE(o,i,a)},sE=function(e,t){var n=JI(e),r=JI(t),o=ZI(n,qI),i=ZI(n,GI),a=ZI(r,qI);return iE(o,i,a)},lE=function(e,t){di(e,WD(),{value:t})},uE=function(e){return{x:e}},cE=function(e,t,n){var r={min:QD(t),max:rI(t),range:lI(t),value:n,step:fI(t),snap:pI(t),snapStart:hI(t),rounded:mI(t),hasMinEdge:vI(t),hasMaxEdge:yI(t),minBound:QI(e),maxBound:eE(e),screenRange:rE(e)};return UI(r)},dE=function(e,t,n){var r=cE(e,t,n),o=uE(r);return lE(e,o),r},fE=function(e,t){var n=QD(t);lE(e,uE(n))},pE=function(e,t){var n=rI(t);lE(e,uE(n))},hE=function(e,t,n){var r=e>0?FI:BI,o=r(wI(n).x,QD(n),rI(n),fI(n));return lE(t,uE(o)),w.some(o)},mE=function(e){return function(t,n){return hE(e,t,n).map((function(){return!0}))}},gE=function(e){var t=YD(e);return t.map((function(e){return e.left}))},vE=function(e,t,n,r,o){var i=0,a=rE(e),s=r.bind((function(t){return w.some(aE(t,e))})).getOr(i),l=o.bind((function(t){return w.some(aE(t,e))})).getOr(a),u={min:QD(t),max:rI(t),range:lI(t),value:n,hasMinEdge:vI(t),hasMaxEdge:yI(t),minBound:QI(e),minOffset:i,maxBound:eE(e),maxOffset:a,centerMinEdge:s,centerMaxEdge:l};return $I(u)},yE=function(e,t,n,r,o,i){var a=vE(t,i,n,r,o);return QI(t)-QI(e)+a},bE=function(e,t,n,r){var o=wI(n),i=yE(e,r.getSpectrum(e),o.x,r.getLeftEdge(e),r.getRightEdge(e),n),a=jl(t.element)/2;Ks(t.element,"left",i-a+"px")},xE=mE(-1),wE=mE(1),_E=w.none,CE=w.none,SE={"top-left":w.none(),top:w.none(),"top-right":w.none(),right:w.some(II),"bottom-right":w.none(),bottom:w.none(),"bottom-left":w.none(),left:w.some(PI)},kE=Object.freeze({__proto__:null,setValueFrom:dE,setToMin:fE,setToMax:pE,findValueOfOffset:cE,getValueFromEvent:gE,findPositionOfValue:yE,setPositionFromValue:bE,onLeft:xE,onRight:wE,onUp:_E,onDown:CE,edgeActions:SE}),OE=function(e,t){di(e,WD(),{value:t})},TE=function(e){return{y:e}},ME=function(e,t,n){var r={min:eI(t),max:oI(t),range:uI(t),value:n,step:fI(t),snap:pI(t),snapStart:hI(t),rounded:mI(t),hasMinEdge:bI(t),hasMaxEdge:xI(t),minBound:tE(e),maxBound:nE(e),screenRange:oE(e)};return UI(r)},DE=function(e,t,n){var r=ME(e,t,n),o=TE(r);return OE(e,o),r},IE=function(e,t){var n=eI(t);OE(e,TE(n))},EE=function(e,t){var n=oI(t);OE(e,TE(n))},AE=function(e,t,n){var r=e>0?FI:BI,o=r(wI(n).y,eI(n),oI(n),fI(n));return OE(t,TE(o)),w.some(o)},LE=function(e){return function(t,n){return AE(e,t,n).map((function(){return!0}))}},jE=function(e){var t=YD(e);return t.map((function(e){return e.top}))},NE=function(e,t,n,r,o){var i=0,a=oE(e),s=r.bind((function(t){return w.some(sE(t,e))})).getOr(i),l=o.bind((function(t){return w.some(sE(t,e))})).getOr(a),u={min:eI(t),max:oI(t),range:uI(t),value:n,hasMinEdge:bI(t),hasMaxEdge:xI(t),minBound:tE(e),minOffset:i,maxBound:nE(e),maxOffset:a,centerMinEdge:s,centerMaxEdge:l};return $I(u)},PE=function(e,t,n,r,o,i){var a=NE(t,i,n,r,o);return tE(t)-tE(e)+a},RE=function(e,t,n,r){var o=wI(n),i=PE(e,r.getSpectrum(e),o.y,r.getTopEdge(e),r.getBottomEdge(e),n),a=Cl(t.element)/2;Ks(t.element,"top",i-a+"px")},BE=w.none,FE=w.none,zE=LE(-1),VE=LE(1),HE={"top-left":w.none(),top:w.some(TI),"top-right":w.none(),right:w.none(),"bottom-right":w.none(),bottom:w.some(LI),"bottom-left":w.none(),left:w.none()},UE=Object.freeze({__proto__:null,setValueFrom:DE,setToMin:IE,setToMax:EE,findValueOfOffset:ME,getValueFromEvent:jE,findPositionOfValue:PE,setPositionFromValue:RE,onLeft:BE,onRight:FE,onUp:zE,onDown:VE,edgeActions:HE}),$E=function(e,t){di(e,WD(),{value:t})},qE=function(e,t){return{x:e,y:t}},WE=function(e,t,n){var r=cE(e,t,n.left),o=ME(e,t,n.top),i=qE(r,o);return $E(e,i),i},GE=function(e,t,n,r){var o=e>0?FI:BI,i=t?wI(r).x:o(wI(r).x,QD(r),rI(r),fI(r)),a=t?o(wI(r).y,eI(r),oI(r),fI(r)):wI(r).y;return $E(n,qE(i,a)),w.some(i)},YE=function(e,t){return function(n,r){return GE(e,t,n,r).map((function(){return!0}))}},KE=function(e,t){var n=QD(t),r=eI(t);$E(e,qE(n,r))},XE=function(e,t){var n=rI(t),r=oI(t);$E(e,qE(n,r))},JE=function(e){return YD(e)},ZE=function(e,t,n,r){var o=wI(n),i=yE(e,r.getSpectrum(e),o.x,r.getLeftEdge(e),r.getRightEdge(e),n),a=PE(e,r.getSpectrum(e),o.y,r.getTopEdge(e),r.getBottomEdge(e),n),s=jl(t.element)/2,l=Cl(t.element)/2;Ks(t.element,"left",i-s+"px"),Ks(t.element,"top",a-l+"px")},QE=YE(-1,!1),eA=YE(1,!1),tA=YE(-1,!0),nA=YE(1,!0),rA={"top-left":w.some(OI),top:w.some(MI),"top-right":w.some(DI),right:w.some(EI),"bottom-right":w.some(AI),bottom:w.some(jI),"bottom-left":w.some(NI),left:w.some(RI)},oA=Object.freeze({__proto__:null,setValueFrom:WE,setToMin:KE,setToMax:XE,getValueFromEvent:JE,setPositionFromValue:ZE,onLeft:QE,onRight:eA,onUp:tA,onDown:nA,edgeActions:rA}),iA=[Bn("stepSize",1),Bn("onChange",t),Bn("onChoose",t),Bn("onInit",t),Bn("onDragStart",t),Bn("onDragEnd",t),Bn("snapToGrid",!1),Bn("rounded",!0),In("snapStart"),xn("model",ln("mode",{x:[Bn("minX",0),Bn("maxX",100),Yn("value",(function(e){return Kn(e.mode.minX)})),bn("getInitialValue"),Hu("manager",kE)],y:[Bn("minY",0),Bn("maxY",100),Yn("value",(function(e){return Kn(e.mode.minY)})),bn("getInitialValue"),Hu("manager",UE)],xy:[Bn("minX",0),Bn("maxX",100),Bn("minY",0),Bn("maxY",100),Yn("value",(function(e){return Kn({x:e.mode.minX,y:e.mode.minY})})),bn("getInitialValue"),Hu("manager",oA)]})),Kh("sliderBehaviours",[db,Yh]),Yn("mouseIsDown",(function(){return Kn(!1)}))],aA=function(e,t,n,r){var o,i=function(t){return Um(t,e,"thumb")},a=function(t){return Um(t,e,"spectrum")},s=function(t){return Hm(t,e,"left-edge")},l=function(t){return Hm(t,e,"right-edge")},u=function(t){return Hm(t,e,"top-edge")},c=function(t){return Hm(t,e,"bottom-edge")},f=e.model,p=f.manager,h=function(t,n){p.setPositionFromValue(t,n,e,{getLeftEdge:s,getRightEdge:l,getTopEdge:u,getBottomEdge:c,getSpectrum:a})},m=function(t,n){f.value.set(n);var r=i(t);return h(t,r),e.onChange(t,r,n),w.some(!0)},g=function(t){p.setToMin(t,e)},v=function(t){p.setToMax(t,e)},y=function(t){var n=function(){Hm(t,e,"thumb").each((function(n){var r=f.value.get();e.onChoose(t,n,r)}))},r=e.mouseIsDown.get();e.mouseIsDown.set(!1),r&&n()},b=function(t,n){n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,i(t))},x=function(t,n){n.stop(),e.onDragEnd(t,i(t)),y(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Jh(e.sliderBehaviours,[db.config({mode:"special",focusIn:function(t){return Hm(t,e,"spectrum").map(db.focusIn).map(d)}}),Yh.config({store:{mode:"manual",getValue:function(e){return f.value.get()}}}),Wc.config({channels:(o={},o[mh()]={onReceive:y},o)})]),events:gi([xi(WD(),(function(e,t){m(e,t.event.value)})),Ii((function(t,n){var r=f.getInitialValue();f.value.set(r);var o=i(t);h(t,o);var s=a(t);e.onInit(t,o,s,f.value.get())})),xi(bo(),b),xi(wo(),x),xi(Co(),b),xi(Oo(),x)]),apis:{resetToMin:g,resetToMax:v,changeValue:m,refresh:h},domModification:{styles:{position:"relative"}}}},sA=lg({name:"Slider",configFields:iA,partFields:$D,factory:aA,apis:{resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),lA=function(e,t){var n=sA.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=sA.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return sA.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:i({y:0})},components:[n,r],sliderBehaviours:zc([Ab.config({})]),onChange:function(e,t,n){di(e,ID,{value:n})}})},uA="form",cA=[Kh("formBehaviours",[Yh])],dA=function(e){return"<alloy.field."+e+">"},fA=function(e){var t=function(){var e=[],t=function(t,n){return e.push(t),Rm(uA,dA(t),n)};return{field:t,record:function(){return e}}}(),n=e(t),r=t.record(),o=q(r,(function(e){return Tm({name:e,pname:dA(e)})}));return eg(uA,cA,o,hA,n)},pA=function(e,t){return e.fold((function(){return ge.error(t)}),ge.value)},hA=function(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:Jh(e.formBehaviours,[Yh.config({store:{mode:"manual",getValue:function(t){var n=qm(t,e);return Ee(n,(function(e,t){return e().bind((function(e){var n=bg.getCurrent(e);return pA(n,new Error("Cannot find a current component to extract the value from for form part '"+t+"': "+_a(e.element)))})).map(Yh.getValue)}))},setValue:function(t,n){Ie(n,(function(n,r){Hm(t,e,r).each((function(e){bg.getCurrent(e).each((function(e){Yh.setValue(e,n)}))}))}))}}})]),apis:{getField:function(t,n){return Hm(t,e,n).bind(bg.getCurrent)}}}},mA={getField:Wa((function(e,t,n){return e.getField(t,n)})),sketch:fA},gA=Ta("valid-input"),vA=Ta("invalid-input"),yA=Ta("validating-input"),bA="colorcustom.rgb.",xA=function(e,n,r,o){var i=function(t,r){return WM.config({invalidClass:n("invalid"),notify:{onValidate:function(e){di(e,yA,{type:t})},onValid:function(e){di(e,gA,{type:t,value:Yh.getValue(e)})},onInvalid:function(e){di(e,vA,{type:t,value:Yh.getValue(e)})}},validator:{validate:function(t){var n=Yh.getValue(t),o=r(n)?ge.value(!0):ge.error(e("aria.input.invalid"));return jM.pure(o)},validateOnLoad:!1}})},a=function(r,o,a,s,l){var u=e(bA+"range"),c=KT.parts.label({dom:{tag:"label",innerHtml:a,attributes:{"aria-label":s}}}),d=KT.parts.field({data:l,factory:_M,inputAttributes:p({type:"text"},"hex"===o?{"aria-live":"polite"}:{}),inputClasses:[n("textfield")],inputBehaviours:zc([i(o,r),QT.config({})]),onSetValue:function(e){if(WM.isInvalid(e)){var n=WM.run(e);n.get(t)}}}),f=[c,d],h="hex"!==o?[KT.parts["aria-descriptor"]({text:u})]:[],m=f.concat(h);return{dom:{tag:"div",attributes:{role:"presentation"}},components:m}},s=function(e,t){var n=jk(t);return mA.getField(e,"hex").each((function(t){Ab.isFocused(t)||Yh.setValue(e,{hex:n.value})})),n},l=function(e,t){var n=t.red,r=t.green,o=t.blue;Yh.setValue(e,{red:n,green:r,blue:o})},u=Zx({dom:{tag:"div",classes:[n("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),c=function(e,t){u.getOpt(e).each((function(e){Ks(e.element,"background-color","#"+t.value)}))},d=function(){var t={red:Kn(w.some(255)),green:Kn(w.some(255)),blue:Kn(w.some(255)),hex:Kn(w.some("ffffff"))},i=function(e,t){var n=Uk(t);l(e,n),h(n)},d=function(e){return t[e].get()},f=function(e,n){t[e].set(n)},p=function(){return d("red").bind((function(e){return d("green").bind((function(t){return d("blue").map((function(n){return zk(e,t,n,1)}))}))}))},h=function(e){var t=e.red,n=e.green,r=e.blue;f("red",w.some(t)),f("green",w.some(n)),f("blue",w.some(r))},m=function(e,t){var n=t.event;"hex"!==n.type?f(n.type,w.none()):o(e)},g=function(e,t){r(e);var n=Tk(t);f("hex",w.some(t));var o=Uk(n);l(e,o),h(o),di(e,DD,{hex:n}),c(e,n)},v=function(e,t,n){var r=parseInt(n,10);f(t,w.some(r)),p().each((function(t){var n=s(e,t);c(e,n)}))},y=function(e){return"hex"===e.type},b=function(e,t){var n=t.event;y(n)?g(e,n.value):v(e,n.type,n.value)},x=function(t){return{label:e(bA+t+".label"),description:e(bA+t+".description")}},_=x("red"),C=x("green"),S=x("blue"),k=x("hex");return Ye(mA.sketch((function(t){return{dom:{tag:"form",classes:[n("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[t.field("red",KT.sketch(a(Vk,"red",_.label,_.description,255))),t.field("green",KT.sketch(a(Vk,"green",C.label,C.description,255))),t.field("blue",KT.sketch(a(Vk,"blue",S.label,S.description,255))),t.field("hex",KT.sketch(a(Ik,"hex",k.label,k.description,"ffffff"))),u.asSpec()],formBehaviours:zc([WM.config({invalidClass:n("form-invalid")}),Cb("rgb-form-events",[xi(gA,b),xi(vA,m),xi(yA,m)])])}})),{apis:{updateHex:function(e,t){Yh.setValue(e,{hex:t.value}),i(e,t),c(e,t)}}})},f=sg({factory:d,name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}});return f},wA=function(e,t){var n=sA.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),r=sA.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}}),o=function(e,t){var n=e.width,r=e.height,o=e.getContext("2d");if(null!==o){o.fillStyle=t,o.fillRect(0,0,n,r);var i=o.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,n,r);var a=o.createLinearGradient(0,0,0,r);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=a,o.fillRect(0,0,n,r)}},a=function(e,t){var n=e.components()[0].element.dom;o(n,Wk(t))},s=function(e){var a=i({x:0,y:0}),s=function(e,t,n){di(e,ED,{value:n})},l=function(e,t,n,r){o(n.element.dom,Wk(Gk))},u=zc([bg.config({find:w.some}),Ab.config({})]);return sA.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:a},rounded:!1,components:[n,r],onChange:s,onInit:l,sliderBehaviours:u})},l=sg({factory:s,name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(e,t,n){a(t,n)}},extraApis:{}});return l},_A=function(e,n){var r=function(t){var r=xA(e,n,t.onValidHex,t.onInvalidHex),o=wA(e,n),i={paletteRgba:Kn(Gk)},a=Zx(o.sketch({})),s=Zx(r.sketch({})),l=function(e,t){a.getOpt(e).each((function(e){var n=Uk(t);i.paletteRgba.set(n),o.setRgba(e,n)}))},u=function(e,t){s.getOpt(e).each((function(e){r.updateHex(e,t)}))},c=function(e,t,n){W(n,(function(n){n(e,t)}))},d=function(){var e=[u];return function(t,n){var r=n.event.value,o=i.paletteRgba.get(),a=TD(o),s=OD(a.hue,r.x,100-r.y),l=Hk(s),u=jk(l);c(t,u,e)}},f=function(){var e=[l,u];return function(t,n){var r=n.event.value,o=MD(r.y);c(t,o,e)}};return{uid:t.uid,dom:t.dom,components:[a.asSpec(),lA(e,n),s.asSpec()],behaviours:zc([Cb("colour-picker-events",[xi(ED,d()),xi(ID,f())]),bg.config({find:function(e){return s.getOpt(e)}}),db.config({mode:"acyclic"})])}},o=sg({name:"ColourPicker",configFields:[bn("dom"),Bn("onValidHex",t),Bn("onInvalidHex",t)],factory:r});return o},CA=function(){return bg.config({find:w.some})},SA=function(e){return bg.config({find:e.getOpt})},kA=function(e){return bg.config({find:function(t){return Xi(t.element,e).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}})},OA={self:CA,memento:SA,childAt:kA},TA={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},MA=function(e){return TA[e]},DA=function(e){return MA(e)},IA=function(e){var t=function(e){return"tox-"+e},n=_A(DA,t),r=function(e){di(e,cM,{name:"hex-valid",value:!0})},o=function(e){di(e,cM,{name:"hex-valid",value:!1})},i=Zx(n.sketch({dom:{tag:"div",classes:[t("color-picker-container")],attributes:{role:"presentation"}},onValidHex:r,onInvalidHex:o}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:zc([Yh.config({store:{mode:"manual",getValue:function(e){var t=i.get(e),n=bg.getCurrent(t),r=n.bind((function(e){var t=Yh.getValue(e);return t.hex}));return r.map((function(e){return"#"+e})).getOr("")},setValue:function(e,t){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,r=n.exec(t),o=i.get(e),a=bg.getCurrent(o);a.fold((function(){}),(function(e){Yh.setValue(e,{hex:w.from(r[1]).getOr("")}),mA.getField(e,"hex").each((function(e){ci(e,Ao())}))}))}}}),OA.self()])}},EA=tinymce.util.Tools.resolve("tinymce.Resource"),AA=function(e){return Object.prototype.hasOwnProperty.call(e,"init")},LA=function(e){var t=Kn(w.none()),n=Zx({dom:{tag:e.tag}}),r=Kn(w.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:zc([Cb("custom-editor-events",[Ii((function(o){n.getOpt(o).each((function(n){(AA(e)?e.init(n.element.dom):EA.load(e.scriptId,e.scriptUrl).then((function(t){return t(n.element.dom,e.settings)}))).then((function(e){r.get().each((function(t){e.setValue(t)})),r.set(w.none()),t.set(w.some(e))}))}))}))]),Yh.config({store:{mode:"manual",getValue:function(){return t.get().fold((function(){return r.get().getOr("")}),(function(e){return e.getValue()}))},setValue:function(e,n){t.get().fold((function(){r.set(w.some(n))}),(function(e){return e.setValue(n)}))}}}),OA.self()]),components:[n.asSpec()]}},jA=tinymce.util.Tools.resolve("tinymce.util.Tools"),NA=Bt([Bn("preprocess",a),Bn("postprocess",a)]),PA=function(e,t){var n=on("RepresentingConfigs.memento processors",NA,t);return Yh.config({store:{mode:"manual",getValue:function(t){var r=e.get(t),o=Yh.getValue(r);return n.postprocess(o)},setValue:function(t,r){var o=n.preprocess(r),i=e.get(t);Yh.setValue(i,o)}}})},RA=function(e,t,n){return Yh.config(Ye({store:{mode:"manual",getValue:t,setValue:n}},e.map((function(e){return{store:{initialValue:e}}})).getOr({})))},BA=function(e,t,n){return RA(e,(function(e){return t(e.element)}),(function(e,t){return n(e.element,t)}))},FA=function(e){return BA(e,il,al)},zA=function(e){return BA(e,ua,ca)},VA=function(e){return Yh.config({store:{mode:"memory",initialValue:e}})},HA={memento:PA,withElement:BA,withComp:RA,domValue:FA,domHtml:zA,memory:VA},UA="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",$A=function(e,t){var n=jA.explode(t.getSetting("images_file_types",UA,"string")),r=function(e){return H(n,(function(t){return mr(e.name,"."+t)}))};return K(de(e),r)},qA=function(e,t){var n=function(e,t){t.stop()},r=function(e){return function(t,n){W(e,(function(e){e(t,n)}))}},o=function(e,t){if(!KC.isDisabled(e)){var n=t.event.raw;a(e,n.dataTransfer.files)}},i=function(e,t){var n=t.event.raw.target;a(e,n.files)},a=function(n,r){Yh.setValue(n,$A(r,t)),di(n,sM,{name:e.name})},s=Zx({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:zc([Cb("input-file-events",[Ti(jo()),Ti(qo())])])}),l=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:zc([HA.memory([]),OA.self(),KC.config({}),Jb.config({toggleClass:"dragenter",toggleOnExecute:!1}),Cb("dropzone-events",[xi("dragenter",r([n,Jb.toggle])),xi("dragleave",r([n,Jb.toggle])),xi("dragover",n),xi("drop",r([n,o])),xi(Lo(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},Jx.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[s.asSpec()],action:function(e){var t=s.get(e);t.element.dom.click()},buttonBehaviours:zc([QT.config({}),GS.button(t.isDisabled),HS()])})]}]}},u=e.label.map((function(e){return aM(e,t)})),c=KT.parts.field({factory:{sketch:l}});return tM(u,c,["tox-form__group--stretched"],[])},WA=function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:q(e.items,t.interpreter)}},GA=Ta("alloy-fake-before-tabstop"),YA=Ta("alloy-fake-after-tabstop"),KA=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:zc([Ab.config({ignore:!0}),QT.config({})])}},XA=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[KA([GA]),e,KA([YA])],behaviours:zc([OA.childAt(1)])}},JA=function(e,t){di(e,Io(),{raw:{which:9,shiftKey:t}})},ZA=function(e,t){var n=t.element;Is(n,GA)?JA(e,!0):Is(n,YA)&&JA(e,!1)},QA=function(e){return mT(e,["."+GA,"."+YA].join(","),c)},eL=!(Gr().browser.isIE()||Gr().browser.isEdge()),tL=function(e){var t=Kn("");return{getValue:function(e){return t.get()},setValue:function(n,r){if(e)pa(n.element,"srcdoc",r);else{pa(n.element,"src","javascript:''");var o=n.element.dom.contentWindow.document;o.open(),o.write(r),o.close()}t.set(r)}}},nL=function(e,t){var n=eL&&e.sandboxed,r=p(p({},e.label.map((function(e){return{title:e}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),o=tL(n),i=e.label.map((function(e){return aM(e,t)})),a=function(e){return XA({uid:e.uid,dom:{tag:"iframe",attributes:r},behaviours:zc([QT.config({}),Ab.config({}),HA.withComp(w.none(),o.getValue,o.setValue)])})},s=KT.parts.field({factory:{sketch:a}});return tM(i,s,["tox-form__group--stretched"],[])};function rL(e,t){return aL(document.createElement("canvas"),e,t)}function oL(e){var t=rL(e.width,e.height),n=iL(t);return n.drawImage(e,0,0),t}function iL(e){return e.getContext("2d")}function aL(e,t,n){return e.width=t,e.height=n,e}function sL(e){return e.naturalWidth||e.width}function lL(e){return e.naturalHeight||e.height}var uL=function(){var e=function(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(e,r(a,this),r(s,this))},t=window,n=e.immediateFn||"function"===typeof t.setImmediate&&t.setImmediate||function(e){setTimeout(e,1)};function r(e,t){return function(){return e.apply(t,arguments)}}var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e){var t=this;null!==this._state?n((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(o){return void e.reject(o)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var t=e.then;if("function"===typeof t)return void c(r(t,e),r(a,this),r(s,this))}this._state=!0,this._value=e,l.call(this)}catch(n){s.call(this,n)}}function s(e){this._state=!1,this._value=e,l.call(this)}function l(){for(var e=0,t=this._deferreds;e<t.length;e++){var n=t[e];i.call(this,n)}this._deferreds=[]}function u(e,t,n,r){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=r}function c(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(o){if(r)return;r=!0,n(o)}}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.then=function(t,n){var r=this;return new e((function(e,o){i.call(r,new u(t,n,e,o))}))},e.all=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.prototype.slice.call(1===t.length&&o(t[0])?t[0]:t);return new e((function(e,t){if(0===r.length)return e([]);var n=r.length;function o(i,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(e){o(i,e)}),t)}r[i]=a,0===--n&&e(r)}catch(l){t(l)}}for(var i=0;i<r.length;i++)o(i,r[i])}))},e.resolve=function(t){return t&&"object"===typeof t&&t.constructor===e?t:new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=0,o=t;r<o.length;r++){var i=o[r];i.then(e,n)}}))},e},cL=window.Promise?window.Promise:uL();function dL(e){return new cL((function(t,n){var r=URL.createObjectURL(e),o=new Image,i=function(){o.removeEventListener("load",a),o.removeEventListener("error",s)};function a(){i(),t(o)}function s(){i(),n("Unable to load data of type "+e.type+": "+r)}o.addEventListener("load",a),o.addEventListener("error",s),o.src=r,o.complete&&a()}))}function fL(e){var t=e.split(","),n=/data:([^;]+)/.exec(t[0]);if(!n)return w.none();for(var r=n[1],o=t[1],i=1024,a=atob(o),s=a.length,l=Math.ceil(s/i),u=new Array(l),c=0;c<l;++c){for(var d=c*i,f=Math.min(d+i,s),p=new Array(f-d),h=d,m=0;h<f;++m,++h)p[m]=a[h].charCodeAt(0);u[c]=new Uint8Array(p)}return w.some(new Blob(u,{type:r}))}function pL(e){return new cL((function(t,n){fL(e).fold((function(){n("uri is not base64: "+e)}),t)}))}function hL(e,t,n){return t=t||"image/png",L(HTMLCanvasElement.prototype.toBlob)?new cL((function(r,o){e.toBlob((function(e){e?r(e):o()}),t,n)})):pL(e.toDataURL(t,n))}function mL(e,t,n){return t=t||"image/png",e.toDataURL(t,n)}function gL(e){return dL(e).then((function(e){yL(e);var t=rL(sL(e),lL(e)),n=iL(t);return n.drawImage(e,0,0),t}))}function vL(e){return new cL((function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)}))}function yL(e){URL.revokeObjectURL(e.src)}function bL(e,t,n){var r=t.type,o=i(r);function a(){return cL.resolve(t)}var s=i(n);function l(){return n.split(",")[1]}function u(t,n){return e.then((function(e){return hL(e,t,n)}))}function c(t,n){return e.then((function(e){return mL(e,t,n)}))}function d(e,t){return c(e,t).then((function(e){return e.split(",")[1]}))}function f(){return e.then(oL)}return{getType:o,toBlob:a,toDataURL:s,toBase64:l,toAdjustedBlob:u,toAdjustedDataURL:c,toAdjustedBase64:d,toCanvas:f}}function xL(e){return vL(e).then((function(t){return bL(gL(e),e,t)}))}function wL(e,t){return hL(e,t).then((function(t){return bL(cL.resolve(e),t,e.toDataURL())}))}var _L=function(e){return xL(e)};function CL(e,t,n){var r="string"===typeof e?parseFloat(e):e;return r>n?r=n:r<t&&(r=t),r}function SL(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}var kL=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];function OL(e,t){for(var n,r=[],o=new Array(25),i=0;i<5;i++){for(var a=0;a<5;a++)r[a]=t[a+5*i];for(a=0;a<5;a++){n=0;for(var s=0;s<5;s++)n+=e[a+5*s]*r[s];o[a+5*i]=n}}return o}function TL(e,t){var n;return t=CL(t,-1,1),t*=100,t<0?n=127+t/100*127:(n=t%1,n=0===n?kL[t]:kL[Math.floor(t)]*(1-n)+kL[Math.floor(t)+1]*n,n=127*n+127),OL(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])}function ML(e,t){return t=CL(255*t,-255,255),OL(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])}function DL(e,t,n,r){return t=CL(t,0,2),n=CL(n,0,2),r=CL(r,0,2),OL(e,[t,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])}function IL(e,t){return e.toCanvas().then((function(n){return EL(n,e.getType(),t)}))}function EL(e,t,n){var r=iL(e);function o(e,t){for(var n,r,o,i,a=e.data,s=t[0],l=t[1],u=t[2],c=t[3],d=t[4],f=t[5],p=t[6],h=t[7],m=t[8],g=t[9],v=t[10],y=t[11],b=t[12],x=t[13],w=t[14],_=t[15],C=t[16],S=t[17],k=t[18],O=t[19],T=0;T<a.length;T+=4)n=a[T],r=a[T+1],o=a[T+2],i=a[T+3],a[T]=n*s+r*l+o*u+i*c+d,a[T+1]=n*f+r*p+o*h+i*m+g,a[T+2]=n*v+r*y+o*b+i*x+w,a[T+3]=n*_+r*C+o*S+i*k+O;return e}var i=o(r.getImageData(0,0,e.width,e.height),n);return r.putImageData(i,0,0),wL(e,t)}function AL(e,t){return e.toCanvas().then((function(n){return LL(n,e.getType(),t)}))}function LL(e,t,n){var r=iL(e);function o(e,t,n){function r(e,t,n){return e>n?e=n:e<t&&(e=t),e}for(var o=Math.round(Math.sqrt(n.length)),i=Math.floor(o/2),a=e.data,s=t.data,l=e.width,u=e.height,c=0;c<u;c++)for(var d=0;d<l;d++){for(var f=0,p=0,h=0,m=0;m<o;m++)for(var g=0;g<o;g++){var v=r(d+g-i,0,l-1),y=r(c+m-i,0,u-1),b=4*(y*l+v),x=n[m*o+g];f+=a[b]*x,p+=a[b+1]*x,h+=a[b+2]*x}var w=4*(c*l+d);s[w]=r(f,0,255),s[w+1]=r(p,0,255),s[w+2]=r(h,0,255)}return t}var i=r.getImageData(0,0,e.width,e.height),a=r.getImageData(0,0,e.width,e.height);return a=o(i,a,n),r.putImageData(a,0,0),wL(e,t)}function jL(e){var t=function(t,n,r){var o=iL(t),i=new Array(256);function a(e,t){for(var n=e.data,r=0;r<n.length;r+=4)n[r]=t[n[r]],n[r+1]=t[n[r+1]],n[r+2]=t[n[r+2]];return e}for(var s=0;s<i.length;s++)i[s]=e(s,r);var l=a(o.getImageData(0,0,t.width,t.height),i);return o.putImageData(l,0,0),wL(t,n)};return function(e,n){return e.toCanvas().then((function(r){return t(r,e.getType(),n)}))}}function NL(e){return function(t,n){return IL(t,e(SL(),n))}}function PL(e){return function(t){return IL(t,e)}}function RL(e){return function(t){return AL(t,e)}}var BL=PL([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),FL=NL(ML),zL=NL(TL),VL=function(e,t,n,r){return IL(e,DL(SL(),t,n,r))},HL=RL([0,-1,0,-1,5,-1,0,-1,0]),UL=jL((function(e,t){return 255*Math.pow(e/255,1-t)}));function $L(e,t,n){var r=sL(e),o=lL(e),i=t/r,a=n/o,s=!1;(i<.5||i>2)&&(i=i<.5?.5:2,s=!0),(a<.5||a>2)&&(a=a<.5?.5:2,s=!0);var l=qL(e,i,a);return s?l.then((function(e){return $L(e,t,n)})):l}function qL(e,t,n){return new cL((function(r){var o=sL(e),i=lL(e),a=Math.floor(o*t),s=Math.floor(i*n),l=rL(a,s),u=iL(l);u.drawImage(e,0,0,o,i,0,0,a,s),r(l)}))}function WL(e,t){return e.toCanvas().then((function(n){return GL(n,e.getType(),t)}))}function GL(e,t,n){var r=rL(e.width,e.height),o=iL(r),i=0,a=0;return n=n<0?360+n:n,90!==n&&270!==n||aL(r,r.height,r.width),90!==n&&180!==n||(i=r.width),270!==n&&180!==n||(a=r.height),o.translate(i,a),o.rotate(n*Math.PI/180),o.drawImage(e,0,0),wL(r,t)}function YL(e,t){return e.toCanvas().then((function(n){return KL(n,e.getType(),t)}))}function KL(e,t,n){var r=rL(e.width,e.height),o=iL(r);return"v"===n?(o.scale(1,-1),o.drawImage(e,0,-r.height)):(o.scale(-1,1),o.drawImage(e,-r.width,0)),wL(r,t)}function XL(e,t,n,r,o){return e.toCanvas().then((function(i){return JL(i,e.getType(),t,n,r,o)}))}function JL(e,t,n,r,o,i){var a=rL(o,i),s=iL(a);return s.drawImage(e,-n,-r),wL(a,t)}function ZL(e,t,n){return e.toCanvas().then((function(r){return $L(r,t,n).then((function(t){return wL(t,e.getType())}))}))}var QL,ej=function(e){return BL(e)},tj=function(e){return HL(e)},nj=function(e,t){return UL(e,t)},rj=function(e,t,n,r){return VL(e,t,n,r)},oj=function(e,t){return FL(e,t)},ij=function(e,t){return zL(e,t)},aj=function(e,t){return YL(e,t)},sj=function(e,t,n,r,o){return XL(e,t,n,r,o)},lj=function(e,t,n){return ZL(e,t,n)},uj=function(e,t){return WL(e,t)},cj=function(e,t){return p({dom:{tag:"span",innerHtml:e,classes:["tox-icon","tox-tbtn__icon-wrap"]}},t)},dj=function(e,t){return cj(ew(e,t),{})},fj=function(e,t){return cj(ew(e,t),{behaviours:zc([wb.config({})])})},pj=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:zc([wb.config({})])}},hj=Ta("toolbar.button.execute"),mj=function(e){return Li((function(t,n){YS(e,t)((function(n){di(t,hj,{buttonApi:n}),e.onAction(n)}))}))},gj=(QL={},QL[Uo()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],QL),vj=Ta("update-menu-text"),yj=Ta("update-menu-icon"),bj=function(e,n,r){var o=Kn(t),i=e.text.map((function(e){return Zx(pj(e,n,r.providers))})),a=e.icon.map((function(e){return Zx(fj(e,r.providers.icons))})),l=function(e,t){var n=Yh.getValue(e);return Ab.focus(n),di(n,"keydown",{raw:t.event.raw}),gD.close(n),w.some(!0)},u=e.role.fold((function(){return{}}),(function(e){return{role:e}})),c=e.tooltip.fold((function(){return{}}),(function(e){var t=r.providers.translate(e);return{title:t,"aria-label":t}})),d=Zx(gD.sketch(p(p(p({},e.uid?{uid:e.uid}:{}),u),{dom:{tag:"button",classes:[n,n+"--select"].concat(q(e.classes,(function(e){return n+"--"+e}))),attributes:p({},c)},components:QS([a.map((function(e){return e.asSpec()})),i.map((function(e){return e.asSpec()})),w.some({dom:{tag:"div",classes:[n+"__select-chevron"],innerHtml:ew("chevron-down",r.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:zc(m(e.dropdownBehaviours,[GS.button((function(){return e.disabled||r.providers.isDisabled()})),HS(),xD.config({}),wb.config({}),Cb("dropdown-events",[KS(e,o),XS(e,o)]),Cb("menubutton-update-display-text",[xi(vj,(function(e,t){i.bind((function(t){return t.getOpt(e)})).each((function(e){wb.set(e,[gl(r.providers.translate(t.event.text))])}))})),xi(yj,(function(e,t){a.bind((function(t){return t.getOpt(e)})).each((function(e){wb.set(e,[fj(t.event.icon,r.providers.icons)])}))}))])])),eventOrder:Ye(gj,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:zc([db.config({mode:"special",onLeft:l,onRight:l})]),lazySink:r.getSink,toggleClass:n+"--active",parts:{menu:P_(!1,e.columns,e.presets)},fetch:function(t){return jM.nu(s(e.fetch,t))}})));return d.asSpec()},xj=function(e){return O(e)},wj=function(e){return"separator"===e.type},_j=function(e){return ze(e,"getSubmenuItems")},Cj={type:"separator"},Sj=function(e,t){var n=J(e,(function(e,n){return xj(n)?""===n?e:"|"===n?e.length>0&&!wj(e[e.length-1])?e.concat([Cj]):e:ze(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])}),[]);return n.length>0&&wj(n[n.length-1])&&n.pop(),n},kj=function(e,t){var n=e.getSubmenuItems(),r=Mj(n,t),o=Ye(r.menus,ut(e.value,r.items)),i=Ye(r.expansions,ut(e.value,e.value));return{item:e,menus:o,expansions:i}},Oj=function(e,t){return _j(e)?kj(e,t):{item:e,menus:{},expansions:{}}},Tj=function(e){if(wj(e))return e;var t=Fe(e,"value").getOrThunk((function(){return Ta("generated-menu-item")}));return Ye({value:t},e)},Mj=function(e,t){var n=Sj(O(e)?e.split(" "):e,t);return X(n,(function(e,n){var r=Tj(n),o=Oj(r,t);return{menus:Ye(e.menus,o.menus),items:[o.item].concat(e.items),expansions:Ye(e.expansions,o.expansions)}}),{menus:{},expansions:{},items:[]})},Dj=function(e,t,n,r){var o=Ta("primary-menu"),i=Mj(e,n.shared.providers.menuItems());if(0===i.items.length)return w.none();var a=aT(o,i.items,t,n,r),s=Ee(i.menus,(function(e,r){return aT(r,e,t,n,!1)})),l=Ye(s,ut(o,a));return w.from(jx.tieredData(o,l,i.expansions))},Ij=function(e){return{isDisabled:function(){return KC.isDisabled(e)},setDisabled:function(t){return KC.set(e,t)},setActive:function(t){var n=e.element;t?(Ts(n,"tox-tbtn--enabled"),pa(n,"aria-pressed",!0)):(Ds(n,"tox-tbtn--enabled"),ya(n,"aria-pressed"))},isActive:function(){return Is(e.element,"tox-tbtn--enabled")}}},Ej=function(e,t,n,r){return bj({text:e.text,icon:e.icon,tooltip:e.tooltip,role:r,fetch:function(t,r){e.fetch((function(e){r(Dj(e,l_.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:e.onSetup,getApi:Ij,columns:1,presets:"normal",classes:[],dropdownBehaviours:[QT.config({})]},t,n.shared)},Aj=function(e,t,n){var r=function(e){return function(r){var o=!r.isActive();r.setActive(o),e.storage.set(o),n.shared.getSink().each((function(n){t().getOpt(n).each((function(t){Xc(t.element),di(t,cM,{name:e.name,value:e.storage.get()})}))}))}},o=function(e){return function(t){t.setActive(e.storage.get())}};return function(t){t(q(e,(function(e){var t=e.text.fold((function(){return{}}),(function(e){return{text:e}}));return p(p({type:e.type,active:!1},t),{onAction:r(e),onSetup:o(e)})})))}},Lj=function(e,t,n,r,o,i){void 0===n&&(n=[]);var a=t.fold((function(){return{}}),(function(e){return{action:e}})),s=p({buttonBehaviours:zc([GS.button((function(){return e.disabled||i.isDisabled()})),HS(),QT.config({}),Cb("button press",[bi("click"),bi("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),l=Ye(s,{dom:r});return Ye(l,{components:o})},jj=function(e,t,n,r){void 0===r&&(r=[]);var o=e.tooltip.map((function(e){return{"aria-label":n.translate(e),title:n.translate(e)}})).getOr({}),i={tag:"button",classes:["tox-tbtn"],attributes:o},a=e.icon.map((function(e){return dj(e,n.icons)})),s=QS([a]);return Lj(e,t,r,i,s,n)},Nj=function(e,t,n,r){void 0===r&&(r=[]);var o=jj(e,w.some(t),n,r);return Jx.sketch(o)},Pj=function(e,t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=n.translate(e.text),a=e.icon?e.icon.map((function(e){return dj(e,n.icons)})):w.none(),s=a.isSome()?QS([a]):[],l=a.isSome()?{}:{innerHtml:i},u=m(e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"],a.isSome()?["tox-button--icon"]:[],e.borderless?["tox-button--naked"]:[],o),c=p(p({tag:"button",classes:u},l),{attributes:{title:i}});return Lj(e,t,r,c,s,n)},Rj=function(e,t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=Pj(e,w.some(t),n,r,o);return Jx.sketch(i)},Bj=function(e,t){return function(n){"custom"===t?di(n,cM,{name:e,value:{}}):"submit"===t?ci(n,dM):"cancel"===t&&ci(n,uM)}},Fj=function(e,t){return"menu"===t},zj=function(e,t){return"custom"===t||"cancel"===t||"submit"===t},Vj=function(e,n,r){if(Fj(e,n)){var o=function(){return s},i=e,a=p(p({},e),{onSetup:function(n){return n.setDisabled(e.disabled),t},fetch:Aj(i.items,o,r)}),s=Zx(Ej(a,"tox-tbtn",r,w.none()));return s.asSpec()}if(zj(e,n)){var l=Bj(e.name,n),u=p(p({},e),{borderless:!1});return Rj(u,l,r.shared.providers,[])}},Hj=function(e,t){var n=Bj(e.name,"custom");return nM(w.none(),KT.parts.field(p({factory:Jx},Pj(e,w.some(n),t,[HA.memory(""),OA.self()]))))},Uj=i([Bn("field1Name","field1"),Bn("field2Name","field2"),zu("onLockedChange"),Pu(["lockClass"]),Bn("locked",!1),Zh.field("coupledFieldBehaviours",[bg,Yh])]),$j=function(e,t,n){return Hm(e,t,n).bind(bg.getCurrent)},qj=function(e,t){return Tm({factory:KT,name:e,overrides:function(e){return{fieldBehaviours:zc([Cb("coupled-input-behaviour",[xi(Ao(),(function(n){$j(n,e,t).each((function(t){Hm(n,e,"lock").each((function(r){Jb.isOn(r)&&e.onLockedChange(n,t,r)}))}))}))])])}}})},Wj=i([qj("field1","field2"),qj("field2","field1"),Tm({factory:Jx,schema:[bn("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:zc([Jb.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),Gj=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:Zh.augment(e.coupledFieldBehaviours,[bg.config({find:w.some}),Yh.config({store:{mode:"manual",getValue:function(t){var n,r=Gm(t,e,["field1","field2"]);return n={},n[e.field1Name]=Yh.getValue(r.field1()),n[e.field2Name]=Yh.getValue(r.field2()),n},setValue:function(t,n){var r=Gm(t,e,["field1","field2"]);Ve(n,e.field1Name)&&Yh.setValue(r.field1(),n[e.field1Name]),Ve(n,e.field2Name)&&Yh.setValue(r.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return Hm(t,e,"field1")},getField2:function(t){return Hm(t,e,"field2")},getLock:function(t){return Hm(t,e,"lock")}}}},Yj=lg({name:"FormCoupledInputs",configFields:Uj(),partFields:Wj(),factory:Gj,apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}}),Kj=function(e){var t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=function(e){return e in t?t[e]:1},r=e.value.toFixed(n(e.unit));return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+e.unit},Xj=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,n=t.exec(e);if(null!==n){var r=parseFloat(n[1]),o=n[2];return ge.value({value:r,unit:o})}return ge.error(e)},Jj=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(e){return Object.prototype.hasOwnProperty.call(n,e)};return e.unit===t?w.some(e.value):r(e.unit)&&r(t)?n[e.unit]===n[t]?w.some(e.value):w.some(e.value/n[e.unit]*n[t]):w.none()},Zj=function(e){return w.none()},Qj=function(e,t){return function(n){return Jj(n,t).map((function(n){return{value:n*e,unit:t}}))}},eN=function(e,t){var n=Xj(e).toOptional(),r=Xj(t).toOptional();return dg(n,r,(function(e,t){return Jj(e,t.unit).map((function(e){return t.value/e})).map((function(e){return Qj(e,t.unit)})).getOr(Zj)})).getOr(Zj)},tN=function(e,t){var n=Zj,r=Ta("ratio-event"),o=Yj.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:ew("lock",t.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:ew("unlock",t.icons)}}],buttonBehaviours:zc([KC.config({disabled:function(){return e.disabled||t.isDisabled()}}),HS(),QT.config({})])}),i=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}},a=function(n){return KT.parts.field({factory:_M,inputClasses:["tox-textfield"],inputBehaviours:zc([KC.config({disabled:function(){return e.disabled||t.isDisabled()}}),HS(),QT.config({}),Cb("size-input-events",[xi(Mo(),(function(e,t){di(e,r,{isField1:n})})),xi(Lo(),(function(t,n){di(t,sM,{name:e.name})}))])]),selectOnFocus:!1})},s=function(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}},l=Yj.parts.field1(i([KT.parts.label(s("Width")),a(!0)])),u=Yj.parts.field2(i([KT.parts.label(s("Height")),a(!1)]));return Yj.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[l,u,i([s("&nbsp;"),o])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,r){Xj(Yh.getValue(e)).each((function(e){n(e).each((function(e){Yh.setValue(t,Kj(e))}))}))},coupledFieldBehaviours:zc([KC.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){Yj.getField1(e).bind(KT.getField).each(KC.disable),Yj.getField2(e).bind(KT.getField).each(KC.disable),Yj.getLock(e).each(KC.disable)},onEnabled:function(e){Yj.getField1(e).bind(KT.getField).each(KC.enable),Yj.getField2(e).bind(KT.getField).each(KC.enable),Yj.getLock(e).each(KC.enable)}}),HS(),Cb("size-input-events2",[xi(r,(function(e,t){var r=t.event.isField1,o=r?Yj.getField1(e):Yj.getField2(e),i=r?Yj.getField2(e):Yj.getField1(e),a=o.map(Yh.getValue).getOr(""),s=i.map(Yh.getValue).getOr("");n=eN(a,s)}))])])})},nN=i(Ta("undo")),rN=i(Ta("redo")),oN=i(Ta("zoom")),iN=i(Ta("back")),aN=i(Ta("apply")),sN=i(Ta("swap")),lN=i(Ta("transform")),uN=i(Ta("temp-transform")),cN=i(Ta("transform-apply")),dN={undo:nN,redo:rN,zoom:oN,back:iN,apply:aN,swap:sN,transform:lN,tempTransform:uN,transformApply:cN},fN=i("save-state"),pN=i("disable"),hN=i("enable"),mN={formActionEvent:cM,saveState:fN,disable:pN,enable:hN},gN=function(e,n){var r=function(e,t,r,o){return Zx(Rj({name:e,text:e,disabled:r,primary:o,icon:w.none(),borderless:!1},t,n))},o=function(e,t,r,o){return Zx(Nj({name:e,icon:w.some(e),tooltip:w.some(t),disabled:o,primary:!1,borderless:!1},r,n))},a=function(e,t){e.map((function(e){var n=e.get(t);n.hasConfigured(KC)&&KC.disable(n)}))},s=function(e,t){e.map((function(e){var n=e.get(t);n.hasConfigured(KC)&&KC.enable(n)}))},l={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},u=t,c=function(e,t,n){di(e,t,n)},d=function(e){return ci(e,mN.disable())},f=function(e){return ci(e,mN.enable())},p=function(e,t){d(e),c(e,dN.transform(),{transform:t}),f(e)},h=function(e,t){d(e),c(e,dN.tempTransform(),{transform:t}),f(e)},m=function(e){return function(){ae.getOpt(e).each((function(e){wb.set(e,[oe])}))}},g=function(e,t){d(e),c(e,dN.transformApply(),{transform:t,swap:m(e)}),f(e)},v=function(){return r("Back",(function(e){return c(e,dN.back(),{swap:m(e)})}),!1,!1)},y=function(){return Zx({dom:{tag:"div",classes:["tox-spacer"]},behaviours:zc([KC.config({})])})},b=function(){return r("Apply",(function(e){return c(e,dN.apply(),{swap:m(e)})}),!0,!0)},x=function(){return function(t){var n=e.getRect();return sj(t,n.x,n.y,n.w,n.h)}},_=[v(),y(),r("Apply",(function(t){var n=x();g(t,n),e.hideCrop()}),!1,!0)],C=UT.sketch({dom:l,components:_.map((function(e){return e.asSpec()})),containerBehaviours:zc([Cb("image-tools-crop-buttons-events",[xi(mN.disable(),(function(e,t){a(_,e)})),xi(mN.enable(),(function(e,t){s(_,e)}))])])}),S=Zx(tN({name:"size",label:w.none(),constrain:!0,disabled:!1},n)),k=function(e,t){return function(n){return lj(n,e,t)}},O=[v(),y(),S,y(),r("Apply",(function(e){S.getOpt(e).each((function(t){var n=Yh.getValue(t),r=parseInt(n.width,10),o=parseInt(n.height,10),i=k(r,o);g(e,i)}))}),!1,!0)],T=UT.sketch({dom:l,components:O.map((function(e){return e.asSpec()})),containerBehaviours:zc([Cb("image-tools-resize-buttons-events",[xi(mN.disable(),(function(e,t){a(O,e)})),xi(mN.enable(),(function(e,t){s(O,e)}))])])}),M=function(e,t){return function(n){return e(n,t)}},D=M(aj,"h"),I=M(aj,"v"),E=M(uj,-90),A=M(uj,90),L=function(e,t){h(e,t)},j=[v(),y(),o("flip-horizontally","Flip horizontally",(function(e){L(e,D)}),!1),o("flip-vertically","Flip vertically",(function(e){L(e,I)}),!1),o("rotate-left","Rotate counterclockwise",(function(e){L(e,E)}),!1),o("rotate-right","Rotate clockwise",(function(e){L(e,A)}),!1),y(),b()],N=UT.sketch({dom:l,components:j.map((function(e){return e.asSpec()})),containerBehaviours:zc([Cb("image-tools-fliprotate-buttons-events",[xi(mN.disable(),(function(e,t){a(j,e)})),xi(mN.enable(),(function(e,t){s(j,e)}))])])}),P=function(e,t,r,o,a){var s=sA.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(e)}}),l=sA.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),u=sA.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Zx(sA.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:a,getInitialValue:i({x:o})},components:[s,l,u],sliderBehaviours:zc([Ab.config({})]),onChoose:t}))},R=function(e,t,n,r,o){var i=function(e,n,r){var o=M(t,r.x/100);p(e,o)};return P(e,i,n,r,o)},B=function(e,t,n,r,o){return[v(),R(e,t,n,r,o),b()]},F=function(e,t,n,r,o){var i=B(e,t,n,r,o);return UT.sketch({dom:l,components:i.map((function(e){return e.asSpec()})),containerBehaviours:zc([Cb("image-tools-filter-panel-buttons-events",[xi(mN.disable(),(function(e,t){a(i,e)})),xi(mN.enable(),(function(e,t){s(i,e)}))])])})},z=[v(),y(),b()],V=UT.sketch({dom:l,components:z.map((function(e){return e.asSpec()}))}),H=F("Brightness",oj,-100,0,100),U=F("Contrast",ij,-100,0,100),$=F("Gamma",nj,-100,0,100),q=function(e,t,n){return function(r){return rj(r,e,t,n)}},W=function(e){var t=function(e,t,n){var r=G.getOpt(e),o=K.getOpt(e),i=Y.getOpt(e);r.each((function(t){o.each((function(n){i.each((function(r){var o=Yh.getValue(t).x/100,i=Yh.getValue(r).x/100,a=Yh.getValue(n).x/100,s=q(o,i,a);p(e,s)}))}))}))};return P(e,t,0,100,200)},G=W("R"),Y=W("G"),K=W("B"),X=[v(),G,Y,K,b()],J=UT.sketch({dom:l,components:X.map((function(e){return e.asSpec()}))}),Z=function(e,t,n){return function(r){var o=function(){ae.getOpt(r).each((function(t){wb.set(t,[e]),n(t)}))};c(r,dN.swap(),{transform:t,swap:o})}},Q=function(t){e.showCrop()},ee=function(t){S.getOpt(t).each((function(t){var n=e.getMeasurements(),r=n.width,o=n.height;Yh.setValue(t,{width:r,height:o})}))},te=w.some(tj),ne=w.some(ej),re=[o("crop","Crop",Z(C,w.none(),Q),!1),o("resize","Resize",Z(T,w.none(),ee),!1),o("orientation","Orientation",Z(N,w.none(),u),!1),o("brightness","Brightness",Z(H,w.none(),u),!1),o("sharpen","Sharpen",Z(V,te,u),!1),o("contrast","Contrast",Z(U,w.none(),u),!1),o("color-levels","Color levels",Z(J,w.none(),u),!1),o("gamma","Gamma",Z($,w.none(),u),!1),o("invert","Invert",Z(V,ne,u),!1)],oe=UT.sketch({dom:l,components:re.map((function(e){return e.asSpec()}))}),ie=UT.sketch({dom:{tag:"div"},components:[oe],containerBehaviours:zc([wb.config({})])}),ae=Zx(ie),se=function(e){return ae.getOpt(e).map((function(e){var t=e.components()[0];return t.components()[t.components().length-1]}))};return{memContainer:ae,getApplyButton:se}},vN=tinymce.util.Tools.resolve("tinymce.geom.Rect"),yN=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),bN=tinymce.util.Tools.resolve("tinymce.util.Observable"),xN=tinymce.util.Tools.resolve("tinymce.util.VK");function wN(e){var t=Math.max,n=e.documentElement,r=e.body,o=t(n.scrollWidth,r.scrollWidth),i=t(n.clientWidth,r.clientWidth),a=t(n.offsetWidth,r.offsetWidth),s=t(n.scrollHeight,r.scrollHeight),l=t(n.clientHeight,r.clientHeight),u=t(n.offsetHeight,r.offsetHeight);return{width:o<a?i:o,height:s<u?l:s}}function _N(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function CN(e,t){var n,r,o,i,a=t.document||document,s=a.getElementById(t.handle||e),l=function(e){var l,d=wN(a);_N(e),e.preventDefault(),r=e.button;var f=s;o=e.screenX,i=e.screenY,l=window.getComputedStyle?window.getComputedStyle(f,null).getPropertyValue("cursor"):f.runtimeStyle.cursor,n=yN("<div></div>").css({position:"absolute",top:0,left:0,width:d.width,height:d.height,zIndex:2147483647,opacity:1e-4,cursor:l}).appendTo(a.body),yN(a).on("mousemove touchmove",u).on("mouseup touchend",c),t.start(e)},u=function(e){if(_N(e),e.button!==r)return c(e);e.deltaX=e.screenX-o,e.deltaY=e.screenY-i,e.preventDefault(),t.drag(e)},c=function(e){_N(e),yN(a).off("mousemove touchmove",u).off("mouseup touchend",c),n.remove(),t.stop&&t.stop(e)};this.destroy=function(){yN(s).off()},yN(s).on("mousedown touchstart",l)}var SN=0,kN=function(e,t,n,r,o){var i,a="tox-",s=a+"crid-"+SN++,l=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],u=["top","right","bottom","left"],c=function(e,t){return{x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},d=function(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}},f=function(){return d(n,e)};function p(t,r,o,i){var a,s,l,u,c;a=r.x,s=r.y,l=r.w,u=r.h,a+=o*t.deltaX,s+=i*t.deltaY,l+=o*t.deltaW,u+=i*t.deltaH,l<20&&(l=20),u<20&&(u=20),c=e=vN.clamp({x:a,y:s,w:l,h:u},n,"move"===t.name),c=d(n,c),_.fire("updateRect",{rect:c}),b(c)}function h(){function t(t){var n;return new CN(s,{document:r.ownerDocument,handle:s+"-"+t.name,start:function(){n=e},drag:function(e){p(t,n,e.deltaX,e.deltaY)}})}yN('<div id="'+s+'" class="'+a+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),jA.each(u,(function(e){yN("#"+s,r).append('<div id="'+s+"-"+e+'"class="'+a+'croprect-block" style="display: none" data-mce-bogus="all">')})),jA.each(l,(function(e){yN("#"+s,r).append('<div id="'+s+"-"+e.name+'" class="'+a+"croprect-handle "+a+"croprect-handle-"+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false" title="'+e.label+'">')})),i=jA.map(l,t),g(e),yN(r).on("focusin focusout",(function(e){yN(e.target).attr("aria-grabbed","focus"===e.type?"true":"false")})),yN(r).on("keydown",(function(t){var n;function r(e,t,r,o,i){e.stopPropagation(),e.preventDefault(),p(n,r,o,i)}switch(jA.each(l,(function(e){if(t.target.id===s+"-"+e.name)return n=e,!1})),t.keyCode){case xN.LEFT:r(t,n,e,-10,0);break;case xN.RIGHT:r(t,n,e,10,0);break;case xN.UP:r(t,n,e,0,-10);break;case xN.DOWN:r(t,n,e,0,10);break;case xN.ENTER:case xN.SPACEBAR:t.preventDefault(),o();break}}))}function m(e){var t=jA.map(l,(function(e){return"#"+s+"-"+e.name})).concat(jA.map(u,(function(e){return"#"+s+"-"+e}))).join(",");e?yN(t,r).show():yN(t,r).hide()}function g(e){function n(e,t){t.h<0&&(t.h=0),t.w<0&&(t.w=0),yN("#"+s+"-"+e,r).css({left:t.x,top:t.y,width:t.w,height:t.h})}jA.each(l,(function(t){yN("#"+s+"-"+t.name,r).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})})),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)}function v(t){e=t,g(e)}function y(n){t=n,g(e)}function b(e){v(c(n,e))}function x(t){n=t,g(e)}function w(){jA.each(i,(function(e){e.destroy()})),i=[]}h();var _=jA.extend({toggleVisibility:m,setClampRect:x,setRect:v,getInnerRect:f,setInnerRect:b,setViewPortRect:y,destroy:w},bN);return _},ON={create:kN},TN=function(e){return new kw((function(t){var n=function(){e.removeEventListener("load",n),t(e)};e.complete?t(e):e.addEventListener("load",n)}))},MN=function(e){var t=Zx({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=Kn(1),r=Kn(w.none()),o=Kn({x:0,y:0,w:1,h:1}),i=Kn({x:0,y:0,w:1,h:1}),a=function(e,i){h.getOpt(e).each((function(e){var a=n.get(),s=jl(e.element),l=Cl(e.element),u=i.dom.naturalWidth*a,c=i.dom.naturalHeight*a,d=Math.max(0,s/2-u/2),f=Math.max(0,l/2-c/2),p={left:d.toString()+"px",top:f.toString()+"px",width:u.toString()+"px",height:c.toString()+"px",position:"absolute"};Xs(i,p),t.getOpt(e).each((function(e){Xs(e.element,p)})),r.get().each((function(e){var t=o.get();e.setRect({x:t.x*a+d,y:t.y*a+f,w:t.w*a,h:t.h*a}),e.setClampRect({x:d,y:f,w:u,h:c}),e.setViewPortRect({x:0,y:0,w:s,h:l})}))}))},s=function(e,t){h.getOpt(e).each((function(e){var r=jl(e.element),o=Cl(e.element),i=t.dom.naturalWidth,a=t.dom.naturalHeight,s=Math.min(r/i,o/a);s>=1?n.set(1):n.set(s)}))},l=function(e,t){var n=tr.fromTag("img");return pa(n,"src",t),TN(n.dom).then((function(){return h.getOpt(e).map((function(e){var t=vl({element:n});wb.replaceAt(e,1,w.some(t));var r=i.get(),l={x:0,y:0,w:n.dom.naturalWidth,h:n.dom.naturalHeight};i.set(l);var u=vN.inflate(l,-20,-20);return o.set(u),r.w===l.w&&r.h===l.h||s(e,n),a(e,n),n}))}))},u=function(e,t){var r=n.get(),o=t>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(o),h.getOpt(e).each((function(e){var t=e.components()[1].element;a(e,t)}))},c=function(){r.get().each((function(e){e.toggleVisibility(!0)}))},d=function(){r.get().each((function(e){e.toggleVisibility(!1)}))},f=function(){return o.get()},p=UT.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[t.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:zc([Cb("image-panel-crop-events",[Ii((function(e){h.getOpt(e).each((function(e){var t=e.element.dom,i=ON.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t,(function(){}));i.toggleVisibility(!1),i.on("updateRect",(function(e){var t=e.rect,r=n.get(),i={x:Math.round(t.x/r),y:Math.round(t.y/r),w:Math.round(t.w/r),h:Math.round(t.h/r)};o.set(i)})),r.set(w.some(i))}))}))])])}],containerBehaviours:zc([wb.config({}),Cb("image-panel-events",[Ii((function(t){l(t,e)}))])])}),h=Zx(p),m=function(){var e=i.get();return{width:e.w,height:e.h}};return{memContainer:h,updateSrc:l,zoom:u,showCrop:c,hideCrop:d,getRect:f,getMeasurements:m}},DN=function(e,t,n,r,o){return Nj({name:e,icon:w.some(t),disabled:n,tooltip:w.some(e),primary:!1,borderless:!1},r,o)},IN=function(e,t){t?KC.enable(e):KC.disable(e)},EN=function(e){var t=function(e,t,o){n.getOpt(e).each((function(e){IN(e,t)})),r.getOpt(e).each((function(e){IN(e,o)}))},n=Zx(DN("Undo","undo",!0,(function(e){di(e,dN.undo(),{direction:1})}),e)),r=Zx(DN("Redo","redo",!0,(function(e){di(e,dN.redo(),{direction:1})}),e)),o=UT.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),r.asSpec(),DN("Zoom in","zoom-in",!1,(function(e){di(e,dN.zoom(),{direction:1})}),e),DN("Zoom out","zoom-out",!1,(function(e){di(e,dN.zoom(),{direction:-1})}),e)]});return{container:o,updateButtonUndoStates:t}};function AN(){var e=[],t=-1;function n(n){var r=e.splice(++t);return e.push(n),{state:n,removed:r}}function r(){if(i())return e[--t]}function o(){if(a())return e[++t]}function i(){return t>0}function a(){return-1!==t&&t<e.length-1}return{data:e,add:n,undo:r,redo:o,canUndo:i,canRedo:a}}var LN,jN=function(e){var t=Kn(e),n=Kn(w.none()),r=AN();r.add(e);var o=function(){return t.get()},i=function(e){t.set(e)},a=function(){return n.get().fold((function(){return t.get()}),(function(e){return e}))},s=function(e){var t=l(e);return d(),n.set(w.some(t)),t.url},l=function(e){return{blob:e,url:URL.createObjectURL(e)}},u=function(e){URL.revokeObjectURL(e.url)},c=function(e){jA.each(e,u)},d=function(){n.get().each(u),n.set(w.none())},f=function(e){var t=l(e);i(t);var n=r.add(t).removed;return c(n),t.url},p=function(e){var t=l(e);return n.set(w.some(t)),t.url},h=function(e){return n.get().fold((function(){}),(function(t){f(t.blob),e()}))},m=function(){var e=r.undo();return i(e),e.url},g=function(){var e=r.redo();return i(e),e.url},v=function(){var e=r.canUndo(),t=r.canRedo();return{undoEnabled:e,redoEnabled:t}};return{getBlobState:o,setBlobState:i,addBlobState:f,getTempState:a,updateTempState:s,addTempState:p,applyTempState:h,destroyTempState:d,undo:m,redo:g,getHistoryStates:v}},NN=function(e,n){var r=jN(e.currentState),o=function(e,t){var n=t.event.direction;S.zoom(e,n)},i=function(e){var t=r.getHistoryStates();k.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled),di(e,mN.formActionEvent,{name:mN.saveState(),value:t.undoEnabled})},a=function(e){k.updateButtonUndoStates(e,!1,!1)},s=function(e,t){var n=r.undo();f(e,n).then((function(t){d(e),i(e)}))},l=function(e,t){var n=r.redo();f(e,n).then((function(t){d(e),i(e)}))},u=function(e){return e.toBlob()},c=function(e){di(e,mN.formActionEvent,{name:mN.disable(),value:{}})},d=function(e){O.getApplyButton(e).each((function(e){KC.enable(e)})),di(e,mN.formActionEvent,{name:mN.enable(),value:{}})},f=function(e,t){return c(e),S.updateSrc(e,t)},p=function(e,t,n,r,o){return c(e),_L(t).then(n).then(u).then(r).then((function(t){return f(e,t).then((function(t){return i(e),o(),d(e),t}))})).catch((function(t){return d(e),t}))},h=function(e,t,n){var o=r.getBlobState().blob,i=function(e){return r.updateTempState(e)};p(e,o,t,i,n)},m=function(e,n){var o=r.getTempState().blob,i=function(e){return r.addTempState(e)};p(e,o,n,i,t)},g=function(e,t,n){var o=r.getBlobState().blob,i=function(t){var n=r.addBlobState(t);return y(e),n};p(e,o,t,i,n)},v=function(e,t){var n=function(){y(e);var n=t.event.swap;n()};r.applyTempState(n)},y=function(e){var t=r.getBlobState().url;return r.destroyTempState(),i(e),t},b=function(e){var t=y(e);f(e,t).then((function(t){d(e)}))},x=function(e,t){b(e);var n=t.event.swap;n(),S.hideCrop()},w=function(e,n){return h(e,n.event.transform,t)},_=function(e,t){return m(e,t.event.transform)},C=function(e,t){return g(e,t.event.transform,t.event.swap)},S=MN(e.currentState.url),k=EN(n),O=gN(S,n),T=function(e,t){a(e);var n=t.event.transform,r=t.event.swap;n.fold((function(){r()}),(function(t){h(e,t,r)}))};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[O.memContainer.asSpec(),S.memContainer.asSpec(),k.container],behaviours:zc([Yh.config({store:{mode:"manual",getValue:function(){return r.getBlobState()}}}),Cb("image-tools-events",[xi(dN.undo(),s),xi(dN.redo(),l),xi(dN.zoom(),o),xi(dN.back(),x),xi(dN.apply(),v),xi(dN.transform(),w),xi(dN.tempTransform(),_),xi(dN.transformApply(),C),xi(dN.swap(),T)]),OA.self()])}},PN=function(e,t){var n={dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}},r=q(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(r),behaviours:zc([OA.self(),wb.config({}),HA.domHtml(w.none()),db.config({mode:"acyclic"})])}},RN=function(e){return!ze(e,"items")},BN="data-value",FN=function(e,t,n,r){return q(n,(function(n){return RN(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===r,onAction:function(){Yh.setValue(e,n.value),di(e,sM,{name:t}),Ab.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:function(){return FN(e,t,n.items,r)}}}))},zN=function(e,t){return fe(e,(function(e){return RN(e)?hg(e.value===t,e):zN(e.items,t)}))},VN=function(e,n){var r=n.shared.providers,o=ue(e.items).filter(RN),a=e.label.map((function(e){return aM(e,r)})),s=KT.parts.field({dom:{},factory:{sketch:function(r){return bj({uid:r.uid,text:o.map((function(e){return e.text})),icon:w.none(),tooltip:e.label,role:w.none(),fetch:function(t,r){var o=FN(t,e.name,e.items,Yh.getValue(t));r(Dj(o,l_.CLOSE_ON_EXECUTE,n,!1))},onSetup:i(t),getApi:i({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[QT.config({}),Yh.config({store:{mode:"manual",initialValue:o.map((function(e){return e.value})).getOr(""),getValue:function(e){return ma(e.element,BN)},setValue:function(t,n){zN(e.items,n).each((function(e){pa(t.element,BN,e.value),di(t,vj,{text:e.text})}))}}})]},"tox-listbox",n.shared)}}}),l={dom:{tag:"div",classes:["tox-listboxfield"]},components:[s]};return KT.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:te([a.toArray(),[l]]),fieldBehaviours:zc([KC.config({disabled:i(e.disabled),onDisabled:function(e){KT.getField(e).each(KC.disable)},onEnabled:function(e){KT.getField(e).each(KC.enable)}})])})},HN=function(e,t){return{dom:{tag:"div",classes:e.classes},components:q(e.items,t.shared.interpreter)}},UN=function(e,t){var n=q(e.options,(function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}})),r=e.data.map((function(e){return ut("initialValue",e)})).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:Jh(e.selectBehaviours,[Ab.config({}),Yh.config({store:p({mode:"manual",getValue:function(e){return il(e.element)},setValue:function(t,n){var r=Q(e.options,(function(e){return e.value===n}));r.isSome()&&al(t.element,n)}},r)})])}},$N=sg({name:"HtmlSelect",configFields:[bn("options"),Kh("selectBehaviours",[Ab,Yh]),Bn("selectClasses",[]),Bn("selectAttributes",{}),In("data")],factory:UN}),qN=function(e,t){var n=q(e.items,(function(e){return{text:t.translate(e.text),value:e.value}})),r=e.label.map((function(e){return aM(e,t)})),o=KT.parts.field({dom:{},selectAttributes:{size:e.size},options:n,factory:$N,selectBehaviours:zc([KC.config({disabled:function(){return e.disabled||t.isDisabled()}}),QT.config({}),Cb("selectbox-change",[xi(Lo(),(function(t,n){di(t,sM,{name:e.name})}))])])}),i=e.size>1?w.none():w.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:ew("chevron-down",t.icons)}}),a={dom:{tag:"div",classes:["tox-selectfield"]},components:te([[o],i.toArray()])};return KT.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:te([r.toArray(),[a]]),fieldBehaviours:zc([KC.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){KT.getField(e).each(KC.disable)},onEnabled:function(e){KT.getField(e).each(KC.enable)}}),HS()])})},WN=function(e,t){var n=function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}},r=function(e){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:q(e,n)}]}},o=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}},i=function(e){return{dom:{tag:"tr"},components:q(e,o)}},a=function(e){return{dom:{tag:"tbody"},components:q(e,i)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[r(e.header),a(e.cells)],behaviours:zc([QT.config({}),Ab.config({})])}},GN=function(e,t){var n=e.label.map((function(e){return aM(e,t)})),r=[KC.config({disabled:function(){return e.disabled||t.isDisabled()}}),HS(),db.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return ci(e,dM),w.some(!0)}}),Cb("textfield-change",[xi(Ao(),(function(t,n){di(t,sM,{name:e.name})})),xi(Vo(),(function(t,n){di(t,sM,{name:e.name})}))]),QT.config({})],o=e.validation.map((function(e){return WM.config({getRoot:function(e){return qi(e.element)},invalidClass:"tox-invalid",validator:{validate:function(t){var n=Yh.getValue(t),r=e.validator(n);return jM.pure(!0===r?ge.value(n):ge.error(r))},validateOnLoad:e.validateOnLoad}})})).toArray(),a=e.placeholder.fold(i({}),(function(e){return{placeholder:t.translate(e)}})),s=e.inputMode.fold(i({}),(function(e){return{inputmode:e}})),l=p(p({},a),s),u=KT.parts.field({tag:!0===e.multiline?"textarea":"input",inputAttributes:l,inputClasses:[e.classname],inputBehaviours:zc(te([r,o])),selectOnFocus:!1,factory:_M}),c=e.flex?["tox-form__group--stretched"]:[],d=c.concat(e.maximized?["tox-form-group--maximize"]:[]),f=[KC.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){KT.getField(e).each(KC.disable)},onEnabled:function(e){KT.getField(e).each(KC.enable)}}),HS()];return tM(n,u,d,f)},YN=function(e,t){return GN({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:e.disabled,classname:"tox-textfield",validation:w.none(),maximized:e.maximized},t)},KN=function(e,t){return GN({name:e.name,multiline:!0,label:e.label,inputMode:w.none(),placeholder:e.placeholder,flex:!0,disabled:e.disabled,classname:"tox-textarea",validation:w.none(),maximized:e.maximized},t)},XN=function(e,t){var n=e.stream.streams,r=n.setup(e,t);return gi([xi(e.event,r),Ei((function(){return t.cancel()}))].concat(e.cancelEvent.map((function(e){return[xi(e,(function(){return t.cancel()}))]})).getOr([])))},JN=Object.freeze({__proto__:null,events:XN}),ZN=function(e){var t=Kn(null),n=function(){return{timer:null!==t.get()?"set":"unset"}},r=function(e){t.set(e)},o=function(){var e=t.get();null!==e&&e.cancel()};return Ya({readState:n,setTimer:r,cancel:o})},QN=function(e){return e.stream.streams.state(e)},eP=Object.freeze({__proto__:null,throttle:ZN,init:QN}),tP=function(e,t){var n=e.stream,r=uw(e.onStream,n.delay);return t.setTimer(r),function(e,t){r.throttle(e,t),n.stopEvent&&t.stop()}},nP=[xn("stream",ln("mode",{throttle:[bn("delay"),Bn("stopEvent",!0),Hu("streams",{setup:tP,state:ZN})]})),Bn("event","input"),In("cancelEvent"),zu("onStream")],rP=Hc({fields:nP,name:"streaming",active:JN,state:eP}),oP=function(e,t,n){var r=Yh.getValue(n);Yh.setValue(t,r),aP(t)},iP=function(e,t){var n=e.element,r=il(n),o=n.dom;"number"!==ma(n,"type")&&t(o,r)},aP=function(e){iP(e,(function(e,t){return e.setSelectionRange(t.length,t.length)}))},sP=function(e,t){iP(e,(function(e,n){return e.setSelectionRange(t,n.length)}))},lP=function(e,t,n){if(e.selectsOver){var r=Yh.getValue(t),o=e.getDisplayText(r),i=Yh.getValue(n),a=e.getDisplayText(i);return 0===a.indexOf(o)?w.some((function(){oP(e,t,n),sP(t,o.length)})):w.none()}return w.none()},uP=i("alloy.typeahead.itemexecute"),cP=function(e,n,r,o){var i=function(n,r,i){e.previewing.set(!1);var a=ZM.getCoupled(n,"sandbox");if(fh.isOpen(a))bg.getCurrent(a).each((function(e){Fg.getHighlighted(e).fold((function(){i(e)}),(function(){mi(a,e.element,"keydown",r)}))}));else{var l=function(e){bg.getCurrent(e).each(i)};oD(e,s(n),n,a,o,l,kM.HighlightFirst).get(t)}},a=yM(e),s=function(e){return function(t){return t.map((function(t){var n=Be(t.menus),r=ne(n,(function(e){return K(e.items,(function(e){return"item"===e.type}))})),o=Yh.getState(e);return o.update(q(r,(function(e){return e.data}))),t}))}},l=[Ab.config({}),Yh.config({onSetValue:e.onSetValue,store:p({mode:"dataset",getDataKey:function(e){return il(e.element)},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){al(t.element,e.model.getDisplayText(n))}},e.initialData.map((function(e){return ut("initialValue",e)})).getOr({}))}),rP.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(n,r){var i=ZM.getCoupled(n,"sandbox"),a=Ab.isFocused(n);if(a&&il(n.element).length>=e.minChars){var l=bg.getCurrent(i).bind((function(e){return Fg.getHighlighted(e).map(Yh.getValue)}));e.previewing.set(!0);var u=function(t){bg.getCurrent(i).each((function(t){l.fold((function(){e.model.selectsOver&&Fg.highlightFirst(t)}),(function(e){Fg.highlightBy(t,(function(t){var n=Yh.getValue(t);return n.value===e.value})),Fg.getHighlighted(t).orThunk((function(){return Fg.highlightFirst(t),w.none()}))}))}))};oD(e,s(n),n,i,o,u,kM.HighlightFirst).get(t)}},cancelEvent:Yo()}),db.config({mode:"special",onDown:function(e,t){return i(e,t,Fg.highlightFirst),w.some(!0)},onEscape:function(e){var t=ZM.getCoupled(e,"sandbox");return fh.isOpen(t)?(fh.close(t),w.some(!0)):w.none()},onUp:function(e,t){return i(e,t,Fg.highlightLast),w.some(!0)},onEnter:function(t){var n=ZM.getCoupled(t,"sandbox"),r=fh.isOpen(n);if(r&&!e.previewing.get())return bg.getCurrent(n).bind((function(e){return Fg.getHighlighted(e)})).map((function(e){return di(t,uP(),{item:e}),!0}));var o=Yh.getValue(t);return ci(t,Yo()),e.onExecute(n,t,o),r&&fh.close(n),w.some(!0)}}),Jb.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),ZM.config({others:{sandbox:function(t){return cD(e,t,{onOpen:function(){return Jb.on(t)},onClose:function(){return Jb.off(t)}})}}}),Cb("typeaheadevents",[Li((function(n){var r=t;aD(e,s(n),n,o,r,kM.HighlightFirst).get(t)})),xi(uP(),(function(t,n){var r=ZM.getCoupled(t,"sandbox");oP(e.model,t,n.event.item),ci(t,Yo()),e.onItemExecute(t,r,n.event.item,Yh.getValue(t)),fh.close(r),aP(t)}))].concat(e.dismissOnBlur?[xi(zo(),(function(e){var t=ZM.getCoupled(e,"sandbox");ed(t.element).isNone()&&fh.close(t)}))]:[]))];return{uid:e.uid,dom:xM(Ye(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:p(p({},a),Jh(e.typeaheadBehaviours,l)),eventOrder:e.eventOrder}},dP=i([In("lazySink"),bn("fetch"),Bn("minChars",5),Bn("responseTime",1e3),Bu("onOpen"),Bn("getHotspot",w.some),Bn("getAnchorOverrides",i({})),Bn("layouts",w.none()),Bn("eventOrder",{}),Gn("model",{},[Bn("getDisplayText",(function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value})),Bn("selectsOver",!0),Bn("populateFromBrowse",!0)]),Bu("onSetValue"),Fu("onExecute"),Bu("onItemExecute"),Bn("inputClasses",[]),Bn("inputAttributes",{}),Bn("inputStyles",{}),Bn("matchWidth",!0),Bn("useMinWidth",!1),Bn("dismissOnBlur",!0),Pu(["openClass"]),In("initialData"),Kh("typeaheadBehaviours",[Ab,Yh,rP,db,Jb,ZM]),Yn("previewing",(function(){return Kn(!0)}))].concat(vM()).concat(fD())),fP=i([Mm({schema:[Nu()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each((function(r){lP(e.model,r,n).fold((function(){return Fg.dehighlight(t,n)}),(function(e){return e()}))})):t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&oP(e.model,t,n)})),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOptional().map((function(e){return di(e,uP(),{item:n}),!0}))},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&oP(e.model,t,n)}))}}}})]),pP=lg({name:"Typeahead",configFields:dP(),partFields:fP(),factory:cP}),hP=function(e){var t=function(){return hP(e.toCached())},n=function(t){return hP(e.bind((function(e){return e.fold((function(e){return jM.pure(ge.error(e))}),(function(e){return t(e)}))})))},r=function(t){return hP(e.map((function(e){return e.bind(t)})))},o=function(t){return hP(e.map((function(e){return e.map(t)})))},i=function(t){return hP(e.map((function(e){return e.mapError(t)})))},a=function(t,n){return e.map((function(e){return e.fold(t,n)}))},s=function(t,n){return hP(jM.nu((function(r){var o=!1,i=setTimeout((function(){o=!0,r(ge.error(n()))}),t);e.get((function(e){o||(clearTimeout(i),r(e))}))})))};return p(p({},e),{toCached:t,bindFuture:n,bindResult:r,mapResult:o,mapError:i,foldResult:a,withTimeout:s})},mP=function(e){return hP(jM.nu(e))},gP=function(e){return hP(jM.pure(ge.value(e)))},vP=function(e){return hP(jM.pure(ge.error(e)))},yP=function(e){return hP(jM.pure(e))},bP=function(e){return hP(e.map(ge.value))},xP=function(e){return mP((function(t){e.then((function(e){t(ge.value(e))}),(function(e){t(ge.error(e))}))}))},wP={nu:mP,wrap:hP,pure:gP,value:gP,error:vP,fromResult:yP,fromFuture:bP,fromPromise:xP},_P={type:"separator"},CP=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:function(){}}},SP=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:function(){}}},kP=function(e){return q(e,CP)},OP=function(e,t){return K(t,(function(t){return t.type===e}))},TP=function(e,t){return kP(OP(e,t))},MP=function(e){return TP("header",e.targets)},DP=function(e){return TP("anchor",e.targets)},IP=function(e){return w.from(e.anchorTop).map((function(e){return SP("<top>",e)})).toArray()},EP=function(e){return w.from(e.anchorBottom).map((function(e){return SP("<bottom>",e)})).toArray()},AP=function(e){return q(e,(function(e){return SP(e,e)}))},LP=function(e){return J(e,(function(e,t){var n=0===e.length||0===t.length;return n?e.concat(t):e.concat(_P,t)}),[])},jP=function(e,t){var n=e.toLowerCase();return K(t,(function(e){var t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return hr(t.toLowerCase(),n)||hr(e.value.toLowerCase(),n)}))},NP=function(e,t,n){var r=Yh.getValue(t),o=void 0!==r.meta.text?r.meta.text:r.value,i=n.getLinkInformation();return i.fold((function(){return[]}),(function(t){var r=jP(o,AP(n.getHistory(e)));return"file"===e?LP([r,jP(o,MP(t)),jP(o,te([IP(t),DP(t),EP(t)]))]):r}))},PP=Ta("aria-invalid"),RP=function(e,n,r){var o,i=n.shared.providers,a=function(t){var n=Yh.getValue(t);r.addToHistory(n.value,e.filetype)},s=KT.parts.field({factory:pP,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":PP,type:"url"},minChars:0,responseTime:0,fetch:function(t){var o=NP(e.filetype,t,r),i=Dj(o,l_.BUBBLE_TO_SANDBOX,n,!1);return jM.pure(i)},getHotspot:function(e){return m.getOpt(e)},onSetValue:function(e,n){e.hasConfigured(WM)&&WM.run(e).get(t)},typeaheadBehaviours:zc(te([r.getValidationHandler().map((function(t){return WM.config({getRoot:function(e){return qi(e.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){c.getOpt(e).each((function(e){pa(e.element,"title",i.translate(t))}))}},validator:{validate:function(n){var r=Yh.getValue(n);return wP.nu((function(n){t({type:e.filetype,url:r.value},(function(e){if("invalid"===e.status){var t=ge.error(e.message);n(t)}else{var r=ge.value(e.message);n(r)}}))}))},validateOnLoad:!1}})})).toArray(),[KC.config({disabled:function(){return e.disabled||i.isDisabled()}}),QT.config({}),Cb("urlinput-events",te(["file"===e.filetype?[xi(Ao(),(function(t){di(t,sM,{name:e.name})}))]:[],[xi(Lo(),(function(t){di(t,sM,{name:e.name}),a(t)})),xi(Vo(),(function(t){di(t,sM,{name:e.name}),a(t)}))]]))]])),eventOrder:(o={},o[Ao()]=["streaming","urlinput-events","invalidating"],o),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:n.shared.getSink,parts:{menu:P_(!1,1,"normal")},onExecute:function(e,t,n){di(t,dM,{})},onItemExecute:function(t,n,r,o){a(t),di(t,sM,{name:e.name})}}),l=e.label.map((function(e){return aM(e,i)})),u=function(e,t,n,r){return void 0===n&&(n=e),void 0===r&&(r=e),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],innerHtml:ew(n,i.icons),attributes:p({title:i.translate(r),"aria-live":"polite"},t.fold((function(){return{}}),(function(e){return{id:e}})))}}},c=Zx(u("invalid",w.some(PP),"warning")),d=Zx({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[c.asSpec()]}),f=r.getUrlPicker(e.filetype),h=Ta("browser.url.event"),m=Zx({dom:{tag:"div",classes:["tox-control-wrap"]},components:[s,d.asSpec()],behaviours:zc([KC.config({disabled:function(){return e.disabled||i.isDisabled()}})])}),g=Zx(Rj({name:e.name,icon:w.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},(function(e){return ci(e,h)}),i,[],["tox-browse-url"])),v=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:te([[m.asSpec()],f.map((function(){return g.asSpec()})).toArray()])}},y=function(t){bg.getCurrent(t).each((function(n){var r=Yh.getValue(n),o=p({fieldname:e.name},r);f.each((function(r){r(o).get((function(r){Yh.setValue(n,r),di(t,sM,{name:e.name})}))}))}))};return KT.sketch({dom:oM(),components:l.toArray().concat([v()]),fieldBehaviours:zc([KC.config({disabled:function(){return e.disabled||i.isDisabled()},onDisabled:function(e){KT.getField(e).each(KC.disable),g.getOpt(e).each(KC.disable)},onEnabled:function(e){KT.getField(e).each(KC.enable),g.getOpt(e).each(KC.enable)}}),HS(),Cb("url-input-events",[xi(h,y)])])})},BP=function(e,t){return UT.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+e.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Jx.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:ew(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:function(t){di(t,cM,{name:"alert-banner",value:e.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})},FP=function(e,t){var n=Yh.config({store:{mode:"manual",getValue:function(e){var t=e.element.dom;return t.checked},setValue:function(e,t){var n=e.element.dom;n.checked=t}}}),r=function(e){return e.element.dom.click(),w.some(!0)},o=KT.parts.field({factory:{sketch:a},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:zc([OA.self(),KC.config({disabled:function(){return e.disabled||t.isDisabled()}}),QT.config({}),Ab.config({}),n,db.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),Cb("checkbox-events",[xi(Lo(),(function(t,n){di(t,sM,{name:e.name})}))])])}),i=KT.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:zc([xD.config({})])}),s=function(e){var n="checked"===e?"selected":"unselected";return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e],innerHtml:ew(n,t.icons)}}},l=Zx({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[s("checked"),s("unchecked")]});return KT.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,l.asSpec(),i],fieldBehaviours:zc([KC.config({disabled:function(){return e.disabled||t.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(e){KT.getField(e).each(KC.disable)},onEnabled:function(e){KT.getField(e).each(KC.enable)}}),HS()])})},zP=function(e){return"presentation"===e.presets?UT.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):UT.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:zc([QT.config({}),Ab.config({})])})},VP=function(e){return function(t,n,r){return Fe(n,"name").fold((function(){return e(n,r)}),(function(o){return t.field(o,e(n,r))}))}},HP=function(e){return function(t,n,r){var o=Ye(n,{source:"dynamic"});return VP(e)(t,o,r)}},UP={bar:VP((function(e,t){return qT(e,t.shared)})),collection:VP((function(e,t){return gM(e,t.shared.providers)})),alertbanner:VP((function(e,t){return BP(e,t.shared.providers)})),input:VP((function(e,t){return YN(e,t.shared.providers)})),textarea:VP((function(e,t){return KN(e,t.shared.providers)})),label:VP((function(e,t){return PN(e,t.shared)})),iframe:HP((function(e,t){return nL(e,t.shared.providers)})),button:VP((function(e,t){return Hj(e,t.shared.providers)})),checkbox:VP((function(e,t){return FP(e,t.shared.providers)})),colorinput:VP((function(e,t){return kD(e,t.shared,t.colorinput)})),colorpicker:VP(IA),dropzone:VP((function(e,t){return qA(e,t.shared.providers)})),grid:VP((function(e,t){return WA(e,t.shared)})),listbox:VP((function(e,t){return VN(e,t)})),selectbox:VP((function(e,t){return qN(e,t.shared.providers)})),sizeinput:VP((function(e,t){return tN(e,t.shared.providers)})),urlinput:VP((function(e,t){return RP(e,t,t.urlinput)})),customeditor:VP(LA),htmlpanel:VP(zP),imagetools:VP((function(e,t){return NN(e,t.shared.providers)})),table:VP((function(e,t){return WN(e,t.shared.providers)})),panel:VP((function(e,t){return HN(e,t)}))},$P={field:function(e,t){return t}},qP=function(e,t,n){var r=Ye(n,{shared:{interpreter:function(t){return WP(e,t,r)}}});return WP(e,t,r)},WP=function(e,t,n){return Fe(UP,t.type).fold((function(){return t}),(function(r){return r(e,t,n)}))},GP=function(e,t){var n=$P;return WP(n,e,t)},YP={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},KP=function(e,t,n){var r=jd(-12,12,YP),o={maxHeightFunction:Dd()},i=function(){return{anchor:"node",root:Bs(e()),node:w.from(e()),bubble:r,layouts:{onRtl:function(){return[Wx]},onLtr:function(){return[qx]}},overrides:o}},a=function(){return{anchor:"hotspot",hotspot:t(),bubble:r,layouts:{onRtl:function(){return[mc]},onLtr:function(){return[gc]}},overrides:o}};return function(){return n()?i():a()}},XP=function(e,t,n){var r=function(){return{anchor:"node",root:Bs(e()),node:w.from(e()),layouts:{onRtl:function(){return[Gx]},onLtr:function(){return[Gx]}}}},o=function(){return{anchor:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[xc]},onLtr:function(){return[xc]}}}};return function(){return n()?r():o()}},JP=function(e,t){return function(){return{anchor:"selection",root:t(),getSelection:function(){var t=e.selection.getRng();return w.some(pf.range(tr.fromDom(t.startContainer),t.startOffset,tr.fromDom(t.endContainer),t.endOffset))}}}},ZP=function(e){return function(t){return{anchor:"node",root:e(),node:t}}},QP=function(e,t,n){var r=CS(e),o=function(){return tr.fromDom(e.getBody())},i=function(){return tr.fromDom(e.getContentAreaContainer())},a=function(){return r||!n()};return{inlineDialog:KP(i,t,a),banner:XP(i,t,a),cursor:JP(e,o),node:ZP(o)}},eR=function(e){return function(t,n){var r=OO(e);r(t,n)}},tR=function(e){return function(){return lO(e)}},nR=function(e){return function(){return cO(e)}},rR=function(e){return function(){return yO(e)}},oR=function(e){return{colorPicker:eR(e),hasCustomColors:tR(e),getColors:nR(e),getColorCols:rR(e)}},iR=function(e){return function(){return TS(e)}},aR=function(e){return{isDraggableModal:iR(e)}},sR=function(e){var t=Kn(bS(e)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===t.get()},getDockingMode:t.get,setDockingMode:t.set}},lR=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],uR=function(e){return ze(e,"items")},cR=function(e){return ze(e,"block")},dR=function(e){return ze(e,"inline")},fR=function(e){return ze(e,"selector")},pR=function(e){return J(e,(function(e,t){if(uR(t)){var n=pR(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(dR(t)||cR(t)||fR(t)){var r=O(t.name)?t.name:t.title.toLowerCase(),o="custom-"+r;return{customFormats:e.customFormats.concat([{name:o,format:t}]),formats:e.formats.concat([{title:t.title,format:o,icon:t.icon}])}}return p(p({},e),{formats:e.formats.concat(t)})}),{customFormats:[],formats:[]})},hR=function(e,t){var n=pR(t),r=function(t){W(t,(function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?r(n.customFormats):e.on("init",(function(){r(n.customFormats)})),n.formats},mR=function(e){return aS(e).map((function(t){var n=hR(e,t);return sS(e)?lR.concat(n):n})).getOr(lR)},gR=function(e,t,n){var r={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return Ye(e,r)},vR=function(e,t,n,r){var o=function(e){return gR(e,n,r)},i=function(e){var t={type:"submenu"};return Ye(e,t)},a=function(t){var o=O(t.name)?t.name:Ta(t.title),i="custom-"+o,a={type:"formatter",format:i,isSelected:n(i),getStylePreview:r(i)},s=Ye(t,a);return e.formatter.register(o,s),s},s=function(e){return q(e,(function(e){var t=Me(e);if(Ve(e,"items")){var n=s(e.items);return Ye(i(e),{getStyleItems:function(){return n}})}return Ve(e,"format")?o(e):1===t.length&&V(t,"title")?Ye(e,{type:"separator"}):a(e)}))};return s(t)},yR=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?w.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):w.none()}},r=function(e){var t=e.items;return void 0!==t&&t.length>0?ne(t,r):[e.format]},o=Kn([]),i=Kn([]),a=Kn([]),s=Kn([]),l=Kn(!1);e.on("PreInit",(function(a){var s=mR(e),l=vR(e,s,t,n);o.set(l),i.set(ne(l,r))})),e.on("addStyleModifications",(function(o){var i=vR(e,o.items,t,n);a.set(i),l.set(o.replace),s.set(ne(i,r))}));var u=function(){var e=l.get()?[]:o.get(),t=a.get();return e.concat(t)},c=function(){var e=l.get()?[]:i.get(),t=s.get();return e.concat(t)};return{getData:u,getFlattenedKeys:c}},bR=jA.trim,xR=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},wR=xR("true"),_R=xR("false"),CR=function(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}},SR=function(e){while(e=e.parentNode){var t=e.contentEditable;if(t&&"inherit"!==t)return wR(e)}return!1},kR=function(e,t){return q(Pf(tr.fromDom(t),e),(function(e){return e.dom}))},OR=function(e){return e.innerText||e.textContent},TR=function(e){return e.id?e.id:Ta("h")},MR=function(e){return e&&"A"===e.nodeName&&void 0!==(e.id||e.name)},DR=function(e){return MR(e)&&ER(e)},IR=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},ER=function(e){return SR(e)&&!_R(e)},AR=function(e){return IR(e)&&ER(e)},LR=function(e){return IR(e)?parseInt(e.nodeName.substr(1),10):0},jR=function(e){var t=TR(e),n=function(){e.id=t};return CR("header",OR(e),"#"+t,LR(e),n)},NR=function(e){var n=e.id||e.name,r=OR(e);return CR("anchor",r||"#"+n,"#"+n,0,t)},PR=function(e){return q(K(e,AR),jR)},RR=function(e){return q(K(e,DR),NR)},BR=function(e){var t=kR("h1,h2,h3,h4,h5,h6,a:not([href])",e);return t},FR=function(e){return bR(e.title).length>0},zR=function(e){var t=BR(e);return K(PR(t).concat(RR(t)),FR)},VR={find:zR},HR="tinymce-url-history",UR=5,$R=function(e){return O(e)&&/^https?/.test(e)},qR=function(e){return M(e)&&e.length<=UR&&re(e,$R)},WR=function(e){return T(e)&&Re(e,(function(e){return!qR(e)})).isNone()},GR=function(){var e,t=eO.getItem(HR);if(null===t)return{};try{e=JSON.parse(t)}catch(n){if(n instanceof SyntaxError)return{};throw n}return WR(e)?e:{}},YR=function(e){if(!WR(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));eO.setItem(HR,JSON.stringify(e))},KR=function(e){var t=GR();return Object.prototype.hasOwnProperty.call(t,e)?t[e]:[]},XR=function(e,t){if($R(e)){var n=GR(),r=Object.prototype.hasOwnProperty.call(n,t)?n[t]:[],o=K(r,(function(t){return t!==e}));n[t]=[e].concat(o).slice(0,UR),YR(n)}},JR=function(e){return!!e},ZR=function(e){return Ee(jA.makeMap(e,/[, ]/),JR)},QR=function(e){return w.from(ES(e)).filter(L)},eB=function(e){var t=w.some(AS(e)).filter(JR),n=w.some(LS(e)).filter(JR),r=t.or(n).map(ZR);return QR(e).fold((function(){return!1}),(function(e){return r.fold((function(){return!0}),(function(e){return Me(e).length>0&&e}))}))},tB=function(e,t){var n=eB(e);return D(n)?n?QR(e):w.none():n[t]?QR(e):w.none()},nB=function(e,t){return tB(e,t).map((function(n){return function(r){return jM.nu((function(o){var i=function(e,t){if(!O(e))throw new Error("Expected value to be string");if(void 0!==t&&!T(t))throw new Error("Expected meta to be a object");var n={value:e,meta:t};o(n)},a=p({filetype:t,fieldname:r.fieldname},w.from(r.meta).getOr({}));n.call(e,i,r.value,a)}))}}))},rB=function(e){return w.from(e).filter(O).getOrUndefined()},oB=function(e){return jS(e)?w.none():w.some({targets:VR.find(e.getBody()),anchorTop:rB(NS(e)),anchorBottom:rB(PS(e))})},iB=function(e){return w.from(RS(e))},aB=function(e){return{getHistory:KR,addToHistory:XR,getLinkInformation:function(){return oB(e)},getValidationHandler:function(){return iB(e)},getUrlPicker:function(t){return nB(e,t)}}},sB=function(e,t,n){var r=Kn(!1),o=sR(t),i={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:IC.translate,isDisabled:function(){return t.mode.isReadOnly()||t.ui.isDisabled()},getSetting:t.getParam.bind(t)},interpreter:function(e){return GP(e,i)},anchors:QP(t,n,o.isPositionedAtTop),header:o,getSink:function(){return ge.value(e)}},urlinput:aB(t),styleselect:yR(t),colorinput:oR(t),dialog:aR(t),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(e){return r.set(e)}};return i},lB=i((function(e,t){Pl(e,Math.floor(t))})),uB="contexttoolbar-show",cB="contexttoolbar-hide",dB=i([bn("dom"),Bn("shell",!0),Kh("toolbarBehaviours",[wb])]),fB=function(){return{behaviours:zc([wb.config({})])}},pB=i([Dm({name:"groups",overrides:fB})]),hB=function(e,t,n,r){var o=function(e,t){i(e).fold((function(){throw new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(e){wb.set(e,t)}))},i=function(t){return e.shell?w.some(t):Hm(t,e,"groups")},a=e.shell?{behaviours:[wb.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:Jh(e.toolbarBehaviours,a.behaviours),apis:{setGroups:o},domModification:{attributes:{role:"group"}}}},mB=lg({name:"Toolbar",configFields:dB(),partFields:pB(),factory:hB,apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),gB=function(e,t){var n={len:0,list:[]},r=J(e,(function(e,n){var r=t(n,e.len);return r.fold(i(e),(function(t){return{len:t.finish,list:e.list.concat([t])}}))}),n);return r.list},vB=function(e,t,n){return{within:e,extra:t,withinWidth:n}},yB=function(e,t,n){var r=gB(e,(function(e,t){var r=n(e);return w.some({element:e,start:t,finish:t+r,width:r})})),o=K(r,(function(e){return e.finish<=t})),i=X(o,(function(e,t){return e+t.width}),0),a=r.slice(o.length);return{within:o,extra:a,withinWidth:i}},bB=function(e){return q(e,(function(e){return e.element}))},xB=function(e,t,n){var r=bB(e.concat(t));return vB(r,[],n)},wB=function(e,t,n,r){var o=bB(e).concat([n]);return vB(o,bB(t),r)},_B=function(e,t,n){return vB(bB(e),[],n)},CB=function(e,t,n){var r=yB(t,e,n);return 0===r.extra.length?w.some(r):w.none()},SB=function(e,t,n,r){var o=CB(e,t,n).getOrThunk((function(){return yB(t,e-n(r),n)})),i=o.within,a=o.extra,s=o.withinWidth;return 1===a.length&&a[0].width<=n(r)?xB(i,a,s):a.length>=1?wB(i,a,r,s):_B(i,a,s)},kB=function(e,t){var n=q(t,(function(e){return xl(e)}));mB.setGroups(e,n)},OB=function(e){return fe(e,(function(e){return ed(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}))},TB=function(e,t,n){var r=Um(e,t,"primary"),o=ZM.getCoupled(e,"overflowGroup");Ks(r.element,"visibility","hidden");var i=t.builtGroups.get().concat([o]),a=OB(i);n([]),kB(r,i);var s=jl(r.element),l=SB(s,t.builtGroups.get(),(function(e){return jl(e.element)}),o);0===l.extra.length?(wb.remove(r,o),n([])):(kB(r,l.within),n(l.extra)),rl(r.element,"visibility"),ol(r.element),a.each(Ab.focus)},MB=i([Kh("splitToolbarBehaviours",[ZM]),Yn("builtGroups",(function(){return Kn([])}))]),DB=i([Pu(["overflowToggledClass"]),jn("getOverflowBounds"),bn("lazySink"),Yn("overflowGroups",(function(){return Kn([])}))].concat(MB())),IB=i([Tm({factory:mB,schema:dB(),name:"primary"}),Mm({schema:dB(),name:"overflow"}),Mm({name:"overflow-button"}),Mm({name:"overflow-group"})]),EB=i([Pu(["toggledClass"]),bn("lazySink"),kn("fetch"),jn("getBounds"),Pn("fireDismissalEventInstead",[Bn("event",ni())]),Vd()]),AB=i([Mm({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:zc([Jb.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Mm({factory:mB,schema:dB(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:zc([db.config({mode:"cyclic",onEscape:function(t){return Hm(t,e,"button").each(Ab.focus),w.none()}})])}}})]),LB=function(e,t){var n=ZM.getCoupled(e,"toolbarSandbox");fh.isOpen(n)?fh.close(n):fh.open(n,t.toolbar())},jB=function(e,t,n,r){var o=n.getBounds.map((function(e){return e()})),i=n.lazySink(e).getOrDie();Ap.positionWithinBounds(i,{anchor:"hotspot",hotspot:e,layouts:r,overrides:{maxWidthFunction:lB()}},t,o)},NB=function(e,t,n,r,o){mB.setGroups(t,o),jB(e,t,n,r),Jb.on(e)},PB=function(e,t,n){var r=vu(),o=function(o,i){n.fetch().get((function(o){NB(e,i,n,t.layouts,o),r.link(e.element),db.focusIn(i)}))},i=function(){Jb.off(e),Ab.focus(e),r.unlink(e.element)};return{dom:{tag:"div",attributes:{id:r.id}},behaviours:zc([db.config({mode:"special",onEscape:function(e){return fh.close(e),w.some(!0)}}),fh.config({onOpen:o,onClose:i,isPartOf:function(t,n,r){return bu(n,r)||bu(e,r)},getAttachPoint:function(){return n.lazySink(e).getOrDie()}}),Wc.config({channels:p(p({},vh(p({isExtraPart:c},n.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),bh({doReposition:function(){fh.getState(ZM.getCoupled(e,"toolbarSandbox")).each((function(r){jB(e,r,n,t.layouts)}))}}))})])}},RB=function(e,t,n,r){return p(p({},Jx.sketch(p(p({},r.button()),{action:function(e){LB(e,r)},buttonBehaviours:Zh.augment({dump:r.button().buttonBehaviours},[ZM.config({others:{toolbarSandbox:function(t){return PB(t,n,e)}}})])}))),{apis:{setGroups:function(t,r){fh.getState(ZM.getCoupled(t,"toolbarSandbox")).each((function(o){NB(t,o,e,n.layouts,r)}))},reposition:function(t){fh.getState(ZM.getCoupled(t,"toolbarSandbox")).each((function(r){jB(t,r,e,n.layouts)}))},toggle:function(e){LB(e,r)},getToolbar:function(e){return fh.getState(ZM.getCoupled(e,"toolbarSandbox"))},isOpen:function(e){return fh.isOpen(ZM.getCoupled(e,"toolbarSandbox"))}}})},BB=lg({name:"FloatingToolbarButton",factory:RB,configFields:EB(),partFields:AB(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)},isOpen:function(e,t){return e.isOpen(t)}}}),FB=i([bn("items"),Pu(["itemSelector"]),Kh("tgroupBehaviours",[db])]),zB=i([Im({name:"items",unit:"item"})]),VB=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:Jh(e.tgroupBehaviours,[db.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},HB=lg({name:"ToolbarGroup",configFields:FB(),partFields:zB(),factory:VB}),UB=function(e){return q(e,(function(e){return xl(e)}))},$B=function(e,t,n){TB(e,n,(function(r){n.overflowGroups.set(r),t.getOpt(e).each((function(e){BB.setGroups(e,UB(r))}))}))},qB=function(e,t,n,r){var o=Zx(BB.sketch({fetch:function(){return jM.nu((function(t){t(UB(e.overflowGroups.get()))}))},layouts:{onLtr:function(){return[gc,mc]},onRtl:function(){return[mc,gc]},onBottomLtr:function(){return[yc,vc]},onBottomRtl:function(){return[vc,yc]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:Jh(e.splitToolbarBehaviours,[ZM.config({others:{overflowGroup:function(){return HB.sketch(p(p({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(t,n){e.builtGroups.set(q(n,t.getSystem().build)),$B(t,o,e)},refresh:function(t){return $B(t,o,e)},toggle:function(e){o.getOpt(e).each((function(e){BB.toggle(e)}))},isOpen:function(e){return o.getOpt(e).map(BB.isOpen).getOr(!1)},reposition:function(e){o.getOpt(e).each((function(e){BB.reposition(e)}))},getOverflow:function(e){return o.getOpt(e).bind(BB.getToolbar)}},domModification:{attributes:{role:"group"}}}},WB=lg({name:"SplitFloatingToolbar",configFields:DB(),partFields:IB(),factory:qB,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)},getOverflow:function(e,t){return e.getOverflow(t)}}}),GB=function(e,t){return t.getAnimationRoot.fold((function(){return e.element}),(function(t){return t(e)}))},YB=function(e){return e.dimension.property},KB=function(e,t){return e.dimension.getDimension(t)},XB=function(e,t){var n=GB(e,t);As(n,[t.shrinkingClass,t.growingClass])},JB=function(e,t){Ds(e.element,t.openClass),Ts(e.element,t.closedClass),Ks(e.element,YB(t),"0px"),ol(e.element)},ZB=function(e,t){Ds(e.element,t.closedClass),Ts(e.element,t.openClass),rl(e.element,YB(t))},QB=function(e,t,n,r){n.setCollapsed(),Ks(e.element,YB(t),KB(t,e.element)),ol(e.element),XB(e,t),JB(e,t),t.onStartShrink(e),t.onShrunk(e)},eF=function(e,t,n,r){var o=r.getOrThunk((function(){return KB(t,e.element)}));n.setCollapsed(),Ks(e.element,YB(t),o),ol(e.element);var i=GB(e,t);Ds(i,t.growingClass),Ts(i,t.shrinkingClass),JB(e,t),t.onStartShrink(e)},tF=function(e,t,n){var r=KB(t,e.element),o="0px"===r?QB:eF;o(e,t,n,w.some(r))},nF=function(e,t,n){var r=GB(e,t),o=Is(r,t.shrinkingClass),i=KB(t,e.element);ZB(e,t);var a=KB(t,e.element),s=function(){Ks(e.element,YB(t),i),ol(e.element)},l=function(){JB(e,t)},u=o?s:l;u(),Ds(r,t.shrinkingClass),Ts(r,t.growingClass),ZB(e,t),Ks(e.element,YB(t),a),n.setExpanded(),t.onStartGrow(e)},rF=function(e,t,n){if(n.isExpanded()){rl(e.element,YB(t));var r=KB(t,e.element);Ks(e.element,YB(t),r)}},oF=function(e,t,n){n.isExpanded()||nF(e,t,n)},iF=function(e,t,n){n.isExpanded()&&tF(e,t,n)},aF=function(e,t,n){n.isExpanded()&&QB(e,t,n,w.none())},sF=function(e,t,n){return n.isExpanded()},lF=function(e,t,n){return n.isCollapsed()},uF=function(e,t,n){var r=GB(e,t);return!0===Is(r,t.growingClass)},cF=function(e,t,n){var r=GB(e,t);return!0===Is(r,t.shrinkingClass)},dF=function(e,t,n){return!0===uF(e,t)||!0===cF(e,t)},fF=function(e,t,n){var r=n.isExpanded()?tF:nF;r(e,t,n)},pF=Object.freeze({__proto__:null,refresh:rF,grow:oF,shrink:iF,immediateShrink:aF,hasGrown:sF,hasShrunk:lF,isGrowing:uF,isShrinking:cF,isTransitioning:dF,toggleGrow:fF,disableTransitions:XB}),hF=function(e,t,n){var r=t.expanded;return Qa(r?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:ut(t.dimension.property,"0px")})},mF=function(e,t){return gi([Di(No(),(function(n,r){var o=r.event.raw;if(o.propertyName===e.dimension.property){XB(n,e),t.isExpanded()&&rl(n.element,e.dimension.property);var i=t.isExpanded()?e.onGrown:e.onShrunk;i(n)}}))])},gF=Object.freeze({__proto__:null,exhibit:hF,events:mF}),vF=[bn("closedClass"),bn("openClass"),bn("shrinkingClass"),bn("growingClass"),In("getAnimationRoot"),Bu("onShrunk"),Bu("onStartShrink"),Bu("onGrown"),Bu("onStartGrow"),Bn("expanded",!1),xn("dimension",ln("property",{width:[Hu("property","width"),Hu("getDimension",(function(e){return jl(e)+"px"}))],height:[Hu("property","height"),Hu("getDimension",(function(e){return Cl(e)+"px"}))]}))],yF=function(e){var t=Kn(e.expanded),n=function(){return"expanded: "+t.get()};return Ya({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:s(t.set,!1),setExpanded:s(t.set,!0),readState:n})},bF=Object.freeze({__proto__:null,init:yF}),xF=Hc({fields:vF,name:"sliding",active:gF,apis:pF,state:bF}),wF=i([Pu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Bu("onOpened"),Bu("onClosed")].concat(MB())),_F=i([Tm({factory:mB,schema:dB(),name:"primary"}),Tm({factory:mB,schema:dB(),name:"overflow",overrides:function(e){return{toolbarBehaviours:zc([xF.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){Hm(t,e,"overflow-button").each((function(e){Jb.off(e),Ab.focus(e)})),e.onClosed(t)},onGrown:function(t){db.focusIn(t),e.onOpened(t)},onStartGrow:function(t){Hm(t,e,"overflow-button").each(Jb.on)}}),db.config({mode:"acyclic",onEscape:function(t){return Hm(t,e,"overflow-button").each(Ab.focus),w.some(!0)}})])}}}),Mm({name:"overflow-button",overrides:function(e){return{buttonBehaviours:zc([Jb.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Mm({name:"overflow-group"})]),CF=function(e,t){return Hm(e,t,"overflow").map(xF.hasGrown).getOr(!1)},SF=function(e,t){Hm(e,t,"overflow-button").bind((function(){return Hm(e,t,"overflow")})).each((function(n){kF(e,t),xF.toggleGrow(n)}))},kF=function(e,t){Hm(e,t,"overflow").each((function(n){TB(e,t,(function(e){var t=q(e,(function(e){return xl(e)}));mB.setGroups(n,t)})),Hm(e,t,"overflow-button").each((function(e){xF.hasGrown(n)&&Jb.on(e)})),xF.refresh(n)}))},OF=function(e,t,n,r){var o="alloy.toolbar.toggle",i=function(t,n){var r=q(n,t.getSystem().build);e.builtGroups.set(r)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Jh(e.splitToolbarBehaviours,[ZM.config({others:{overflowGroup:function(e){return HB.sketch(p(p({},r["overflow-group"]()),{items:[Jx.sketch(p(p({},r["overflow-button"]()),{action:function(t){ci(e,o)}}))]}))}}}),Cb("toolbar-toggle-events",[xi(o,(function(t){SF(t,e)}))])]),apis:{setGroups:function(t,n){i(t,n),kF(t,e)},refresh:function(t){return kF(t,e)},toggle:function(t){return SF(t,e)},isOpen:function(t){return CF(t,e)}},domModification:{attributes:{role:"group"}}}},TF=lg({name:"SplitSlidingToolbar",configFields:wF(),partFields:_F(),factory:OF,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)}}}),MF=i(Ta("toolbar-height-change")),DF=function(e){var t=e.title.fold((function(){return{}}),(function(e){return{attributes:{title:e}}}));return{dom:p({tag:"div",classes:["tox-toolbar__group"]},t),components:[HB.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:zc([QT.config({}),Ab.config({})])}},IF=function(e){return HB.sketch(DF(e))},EF=function(e,t){var n=Ii((function(t){var n=q(e.initGroups,IF);mB.setGroups(t,n)}));return zc([GS.toolbarButton(e.providers.isDisabled),HS(),db.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Cb("toolbar-events",[n])])},AF=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":DF({title:w.none(),items:[]}),"overflow-button":jj({name:"more",icon:w.some("more-drawer"),disabled:!1,tooltip:w.some("More..."),primary:!1,borderless:!1},w.none(),e.providers)},splitToolbarBehaviours:EF(e,t)}},LF=function(e){var t=AF(e),n=4,r=WB.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return WB.sketch(p(p({},t),{lazySink:e.getSink,getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element,r=iu(t),o=Ui(t),i=iu(o),a=Math.max(o.dom.scrollHeight,i.height);return ru(r.x+n,i.y,r.width-2*n,a)},parts:p(p({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},jF=function(e){var t=TF.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=TF.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=AF(e);return TF.sketch(p(p({},r),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([MF()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([MF()],{type:"closed"})}}))},NF=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return mB.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===s_.scrolling?["tox-toolbar--scrolling"]:[])},components:[mB.parts.groups({})],toolbarBehaviours:EF(e,t)})},PF=Bt([_n("type"),xn("items",zt([Xt([_n("name"),Dn("items",pn)]),pn]))].concat(Uw)),RF=function(e){return nn("GroupToolbarButton",PF,e)},BF=[Ln("text"),Ln("tooltip"),Ln("icon"),kn("fetch"),$n("onSetup",(function(){return t}))],FF=Bt(m([_n("type")],BF)),zF=function(e){return nn("menubutton",FF,e)},VF=Bt([_n("type"),Ln("tooltip"),Ln("icon"),Ln("text"),jn("select"),kn("fetch"),$n("onSetup",(function(){return t})),Hn("presets","normal",["normal","color","listpreview"]),Bn("columns",1),kn("onAction"),kn("onItemAction")]),HF=function(e){return nn("SplitButton",VF,e)},UF=function(e,t){var n=function(n,r){e.updateState.each((function(e){var o=e(n,r);t.set(o)})),e.renderComponents.each((function(e){var o=e(r,t.get()),i=q(o,n.getSystem().build);Rp(n,i)}))};return gi([xi(Ho(),(function(t,r){var o=r;if(!o.universal){var i=e.channel;V(o.channels,i)&&n(t,o.data)}})),Ii((function(t,r){e.initialData.each((function(e){n(t,e)}))}))])},$F=Object.freeze({__proto__:null,events:UF}),qF=function(e,t,n){return n},WF=Object.freeze({__proto__:null,getState:qF}),GF=[bn("channel"),In("renderComponents"),In("updateState"),In("initialData")],YF=function(){var e=Kn(w.none()),t=function(t){return e.set(t)},n=function(){return e.set(w.none())},r=function(){return e.get()},o=function(){return e.get().fold((function(){return"none"}),(function(e){return e}))};return{readState:o,get:r,set:t,clear:n}},KF=Object.freeze({__proto__:null,init:YF}),XF=Hc({fields:GF,name:"reflecting",active:$F,apis:WF,state:KF}),JF=i([bn("toggleClass"),bn("fetch"),zu("onExecute"),Bn("getHotspot",w.some),Bn("getAnchorOverrides",i({})),Vd(),zu("onItemExecute"),In("lazySink"),bn("dom"),Bu("onOpen"),Kh("splitDropdownBehaviours",[ZM,db,Ab]),Bn("matchWidth",!1),Bn("useMinWidth",!1),Bn("eventOrder",{}),In("role")].concat(fD())),ZF=Tm({factory:Jx,schema:[bn("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:zc([Ab.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(fi)},buttonBehaviours:zc([Jb.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),QF=Tm({factory:Jx,schema:[bn("dom")],name:"button",defaults:function(){return{buttonBehaviours:zc([Ab.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each((function(n){e.onExecute(n,t)}))}}}}),ez=i([ZF,QF,Dm({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[bn("text")],name:"aria-descriptor"}),Mm({schema:[Nu()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each((function(r){e.onItemExecute(r,t,n)}))}}}}),eD()]),tz=function(e,n,r,o){var i,a=function(e){bg.getCurrent(e).each((function(e){Fg.highlightFirst(e),db.focusIn(e)}))},s=function(n){var r=a;aD(e,(function(e){return e}),n,o,r,kM.HighlightFirst).get(t)},l=function(e){return s(e),w.some(!0)},u=function(t){var n=Um(t,e,"button");return fi(n),w.some(!0)},c=p(p({},gi([Ii((function(t,n){var r=Hm(t,e,"aria-descriptor");r.each((function(e){var n=Ta("aria");pa(e.element,"id",n),pa(t.element,"aria-describedby",n)}))}))])),Qb(w.some(s))),d={repositionMenus:function(e){Jb.isOn(e)&&dD(e)}};return{uid:e.uid,dom:e.dom,components:n,apis:d,eventOrder:p(p({},e.eventOrder),(i={},i[Uo()]=["disabling","toggling","alloy.base.behaviour"],i)),events:c,behaviours:Jh(e.splitDropdownBehaviours,[ZM.config({others:{sandbox:function(t){var n=Um(t,e,"arrow"),r={onOpen:function(){Jb.on(n),Jb.on(t)},onClose:function(){Jb.off(n),Jb.off(t)}};return cD(e,t,r)}}}),db.config({mode:"special",onSpace:u,onEnter:u,onDown:l}),Ab.config({}),Jb.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},nz=lg({name:"SplitDropdown",configFields:JF(),partFields:ez(),factory:tz,apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}}),rz=function(e){return{isDisabled:function(){return KC.isDisabled(e)},setDisabled:function(t){return KC.set(e,t)}}},oz=function(e){return{setActive:function(t){Jb.set(e,t)},isActive:function(){return Jb.isOn(e)},isDisabled:function(){return KC.isDisabled(e)},setDisabled:function(t){return KC.set(e,t)}}},iz=function(e,t){return e.map((function(e){return{"aria-label":t.translate(e),title:t.translate(e)}})).getOr({})},az=Ta("focus-button"),sz=["checklist","ordered-list"],lz=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],uz=function(e,t,n,r,o,i){var a,s=function(e){return IC.isRtl()&&V(sz,e)?e+"-rtl":e},l=IC.isRtl()&&e.exists((function(e){return V(lz,e)}));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]).concat(l?["tox-tbtn__icon-rtl"]:[]),attributes:iz(n,i)},components:QS([e.map((function(e){return dj(s(e),i.icons)})),t.map((function(e){return pj(e,"tox-tbtn",i)}))]),eventOrder:(a={},a[Co()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:zc([GS.toolbarButton(i.isDisabled),HS(),Cb("common-button-display-events",[xi(Co(),(function(e,t){t.event.prevent(),ci(e,az)}))])].concat(r.map((function(n){return XF.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return QS([e.icon.map((function(e){return dj(s(e),i.icons)})),e.text.map((function(e){return pj(e,"tox-tbtn",i)}))])}})})).toArray()).concat(o.getOr([])))}},cz=function(e,t,n,r){var o=t.shared;return BB.sketch({lazySink:o.getSink,fetch:function(){return jM.nu((function(t){t(q(n(e.items),IF))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:uz(e.icon,e.text,e.tooltip,w.none(),w.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})},dz=function(e,n,r){var o=Kn(t),i=uz(e.icon,e.text,e.tooltip,w.none(),w.none(),r);return Jx.sketch({dom:i.dom,components:i.components,eventOrder:gj,buttonBehaviours:zc([Cb("toolbar-button-events",[mj({onAction:e.onAction,getApi:n.getApi}),KS(n,o),XS(n,o)]),GS.toolbarButton((function(){return e.disabled||r.isDisabled()})),HS()].concat(n.toolbarButtonBehaviours))})},fz=function(e,t){return pz(e,t,[])},pz=function(e,t,n){return dz(e,{toolbarButtonBehaviours:[].concat(n.length>0?[Cb("toolbarButtonWith",n)]:[]),getApi:rz,onSetup:e.onSetup},t)},hz=function(e,t){return mz(e,t,[])},mz=function(e,t,n){return Ye(dz(e,{toolbarButtonBehaviours:[wb.config({}),Jb.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Cb("toolbarToggleButtonWith",n)]:[]),getApi:oz,onSetup:e.onSetup},t))},gz=function(e,t,n){return function(r){return jM.nu((function(e){return t.fetch(e)})).map((function(o){return w.from(sT(Ye(MO(Ta("menu-value"),o,(function(n){t.onItemAction(e(r),n)}),t.columns,t.presets,l_.CLOSE_ON_EXECUTE,t.select.getOr((function(){return!1})),n),{movement:IO(t.columns,t.presets),menuBehaviours:gC.unnamedEvents("auto"!==t.columns?[]:[Ii((function(e,n){pC(e,4,I_(t.presets)).each((function(t){var n=t.numRows,r=t.numColumns;db.setGridSize(e,n,r)}))}))])})))}))}},vz=function(e,n){var r,o=Ta("channel-update-split-dropdown-display"),i=function(e){return{isDisabled:function(){return KC.isDisabled(e)},setDisabled:function(t){return KC.set(e,t)},setIconFill:function(t,n){hu(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){pa(e,"fill",n)}))},setIconStroke:function(t,n){hu(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){pa(e,"stroke",n)}))},setActive:function(t){pa(e.element,"aria-pressed",t),hu(e.element,"span").each((function(n){e.getSystem().getByDom(n).each((function(e){return Jb.set(e,t)}))}))},isActive:function(){return hu(e.element,"span").exists((function(t){return e.getSystem().getByDom(t).exists(Jb.isOn)}))}}},a=Kn(t),s={getApi:i,onSetup:e.onSetup};return nz.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:p({"aria-pressed":!1},iz(e.tooltip,n.providers))},onExecute:function(t){e.onAction(i(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:zc([GS.splitButton(n.providers.isDisabled),HS(),Cb("split-dropdown-events",[xi(az,Ab.focus),KS(s,a),XS(s,a)]),xD.config({})]),eventOrder:(r={},r[ei()]=["alloy.base.behaviour","split-dropdown-events"],r),toggleClass:"tox-tbtn--enabled",lazySink:n.getSink,fetch:gz(i,e,n.providers),parts:{menu:P_(!1,e.columns,e.presets)},components:[nz.parts.button(uz(e.icon,e.text,w.none(),w.some(o),w.some([Jb.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),n.providers)),nz.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:ew("chevron-down",n.providers.icons)},buttonBehaviours:zc([GS.splitButton(n.providers.isDisabled),HS()])}),nz.parts["aria-descriptor"]({text:n.providers.translate("To open the popup, press Shift+Enter")})]})},yz=function(e){return{hide:function(){return ci(e,Go())},getValue:function(){return Yh.getValue(e)}}},bz=function(e,t){return xi(hj,(function(n,r){var o=e.get(n),i=yz(o);t.onAction(i,r.event.buttonApi)}))},xz=function(e,t,n){var r=t.original,o=(r.primary,h(r,["primary"])),i=rn(qw(p(p({},o),{type:"button",onAction:function(){}})));return pz(i,n.backstage.shared.providers,[bz(e,t)])},wz=function(e,t,n){var r=t.original,o=(r.primary,h(r,["primary"])),i=rn(Yw(p(p({},o),{type:"togglebutton",onAction:function(){}})));return mz(i,n.backstage.shared.providers,[bz(e,t)])},_z=function(e,t,n){var r={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?wz(e,t,r):xz(e,t,r)},Cz=function(e,t,n){var r=q(t,(function(t){return Zx(_z(e,t,n))})),o=function(){return q(r,(function(e){return e.asSpec()}))},i=function(e){return fe(t,(function(t,n){return t.primary?w.from(r[n]).bind((function(t){return t.getOpt(e)})).filter(l(KC.isDisabled)):w.none()}))};return{asSpecs:o,findPrimary:i}},Sz=function(e,t){var n=e.label.fold((function(){return{}}),(function(e){return{"aria-label":e}})),r=Zx(_M.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:zc([db.config({mode:"special",onEnter:function(e){return o.findPrimary(e).map((function(e){return fi(e),!0}))},onLeft:function(e,t){return t.cut(),w.none()},onRight:function(e,t){return t.cut(),w.none()}})])})),o=Cz(r,e.commands,t);return[{title:w.none(),items:[r.asSpec()]},{title:w.none(),items:o.asSpecs()}]},kz=function(e,t,n){return NF({type:e,uid:Ta("context-toolbar"),initGroups:Sz(t,n),onEscape:w.none,cyclicKeying:!0,providers:n})},Oz={renderContextForm:kz,buildInitGroups:Sz},Tz=function(e,t){var n=Math.max(t.x,e.x),r=e.right-n,o=t.width-(n-t.x),i=Math.min(r,o);return{x:n,width:i}},Mz=function(e,t,n,r){var o=tr.fromDom(e.getContainer()),i=hu(o,".tox-editor-header").getOr(o),a=ou(i),s=a.y>=t.bottom,l=r&&!s;if(e.inline&&l)return{y:Math.max(a.bottom,n.y),bottom:n.bottom};if(e.inline&&!l)return{y:n.y,bottom:Math.min(a.y,n.bottom)};var u=ou(o);return l?{y:Math.max(a.bottom,n.y),bottom:Math.min(u.bottom,n.bottom)}:{y:Math.max(u.y,n.y),bottom:Math.min(a.y,n.bottom)}},Dz=function(e,t){var n=Yl(window),r=ou(tr.fromDom(e.getContentAreaContainer())),o=cS(e)||dS(e)||pS(e),i=Tz(r,n),a=i.x,s=i.width;if(e.inline&&!o)return ru(a,n.y,s,n.height);var l=t.header.isPositionedAtTop(),u=Mz(e,r,n,l),c=u.y,d=u.bottom;return ru(a,c,s,d-c)},Iz=function(e,t){var n=K(t,(function(t){return t.predicate(e.dom)})),r=Y(n,(function(e){return"contexttoolbar"===e.type})),o=r.pass,i=r.fail;return{contextToolbars:o,contextForms:i}},Ez=function(e){if(e.length<=1)return e;var t=function(t){return H(e,(function(e){return e.position===t}))},n=function(t){return K(e,(function(e){return e.position===t}))},r=t("selection"),o=t("node");if(r||o){if(o&&r){var i=n("node"),a=q(n("selection"),(function(e){return p(p({},e),{position:"node"})}));return i.concat(a)}return n(r?"selection":"node")}return n("line")},Az=function(e){if(e.length<=1)return e;var t=function(t){return Q(e,(function(e){return e.position===t}))},n=t("selection").orThunk((function(){return t("node")})).orThunk((function(){return t("line")})).map((function(e){return e.position}));return n.fold((function(){return[]}),(function(t){return K(e,(function(e){return e.position===t}))}))},Lz=function(e,t,n){var r=Iz(e,t);if(r.contextForms.length>0)return w.some({elem:e,toolbars:[r.contextForms[0]]});var o=Iz(e,n);if(o.contextForms.length>0)return w.some({elem:e,toolbars:[o.contextForms[0]]});if(r.contextToolbars.length>0||o.contextToolbars.length>0){var i=Ez(r.contextToolbars.concat(o.contextToolbars));return w.some({elem:e,toolbars:i})}return w.none()},jz=function(e,t,n){return e(t)?w.none():uo(t,(function(e){var t=Iz(e,n.inNodeScope),r=t.contextToolbars,o=t.contextForms,i=o.length>0?o:Az(r);return i.length>0?w.some({elem:e,toolbars:i}):w.none()}),e)},Nz=function(e,t){var n=tr.fromDom(t.getBody()),r=function(e){return oo(e,n)},o=function(e){return!r(e)&&!so(n,e)},i=tr.fromDom(t.selection.getNode());return o(i)?w.none():Lz(i,e.inNodeScope,e.inEditorScope).orThunk((function(){return jz(r,i,e)}))},Pz=function(e,t){var n={},r=[],o=[],i={},a={},s=function(e,s){var l=rn(n_(s));n[e]=l,l.launch.map((function(n){i["form:"+e]=p(p({},s.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){t(l)}})})),"editor"===l.scope?o.push(l):r.push(l),a[e]=l},l=function(e,t){o_(t).each((function(n){"editor"===t.scope?o.push(n):r.push(n),a[e]=n}))},u=Me(e);return W(u,(function(t){var n=e[t];"contextform"===n.type?s(t,n):"contexttoolbar"===n.type&&l(t,n)})),{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:a,formNavigators:i}},Rz=Ta("forward-slide"),Bz=Ta("backward-slide"),Fz=Ta("change-slide-event"),zz="tox-pop--resizing",Vz=function(e){var t=Kn([]);return Rx.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){t.set([]),Rx.getContent(e).each((function(e){rl(e.element,"visibility")})),Ds(e.element,zz),rl(e.element,"width")},inlineBehaviours:zc([Cb("context-toolbar-events",[Di(No(),(function(e,t){Ds(e.element,zz),rl(e.element,"width")})),xi(Fz,(function(e,t){rl(e.element,"width");var n=jl(e.element);Rx.setContent(e,t.event.contents),Ts(e.element,zz);var r=jl(e.element);Ks(e.element,"width",n+"px"),Rx.getContent(e).each((function(n){t.event.focus.bind((function(t){return Xc(t),ed(e.element)})).orThunk((function(){return db.focusIn(n),Qc()}))})),Kx.setTimeout((function(){Ks(e.element,"width",r+"px")}),0)})),xi(Rz,(function(e,n){Rx.getContent(e).each((function(e){t.set(t.get().concat([{bar:e,focus:Qc()}]))})),di(e,Fz,{contents:n.event.forwardContents,focus:w.none()})})),xi(Bz,(function(e,n){ce(t.get()).each((function(n){t.set(t.get().slice(0,t.get().length-1)),di(e,Fz,{contents:xl(n.bar),focus:n.focus})}))}))]),db.config({mode:"special",onEscape:function(n){return ce(t.get()).fold((function(){return e.onEscape()}),(function(e){return ci(n,Bz),w.some(!0)}))}})]),lazySink:function(){return ge.value(e.sink)}})},Hz=function(e,t,n){var r=function(e,r,i,a){var s=t.shared.providers.translate(e.title);if("separator"===e.type)return w.some({type:"separator",text:s});if("submenu"===e.type){var l=ne(e.getStyleItems(),(function(e){return o(e,r,a)}));return 0===r&&l.length<=0?w.none():w.some({type:"nestedmenuitem",text:s,disabled:l.length<=0,getSubmenuItems:function(){return ne(e.getStyleItems(),(function(e){return o(e,r,a)}))}})}return w.some(p({type:"togglemenuitem",text:s,icon:e.icon,active:e.isSelected(a),disabled:i,onAction:n.onAction(e)},e.getStylePreview().fold((function(){return{}}),(function(e){return{meta:{style:e}}}))))},o=function(e,t,o){var i="formatter"===e.type&&n.isInvalid(e);return 0===t?i?[]:r(e,t,!1,o).toArray():r(e,t,i,o).toArray()},i=function(e){var t=n.getCurrentValue(),r=n.shouldHide?0:1;return ne(e,(function(e){return o(e,r,t)}))},a=function(e,t){return function(n,r){var o=t(),a=i(o),s=Dj(a,l_.CLOSE_ON_EXECUTE,e,!1);r(s)}};return{validateItems:i,getFetch:a}},Uz=function(e,t,n){var r=n.dataset,o="basic"===r.type?function(){return q(r.data,(function(e){return gR(e,n.isSelectedFor,n.getPreviewFor)}))}:r.getData;return{items:Hz(e,t,n),getStyleItems:o}},$z=function(e,n,r){var o=Uz(e,n,r),i=o.items,a=o.getStyleItems,s=function(e){return{getComponent:function(){return e}}},l=function(n){return r.setInitialValue.each((function(e){return e(n.getComponent())})),r.nodeChangeHandler.map((function(t){var r=t(n.getComponent());return e.on("NodeChange",r),function(){e.off("NodeChange",r)}})).getOr(t)};return bj({text:r.icon.isSome()?w.none():w.some(""),icon:r.icon,tooltip:w.from(r.tooltip),role:w.none(),fetch:i.getFetch(n,a),onSetup:l,getApi:s,columns:1,presets:"normal",classes:r.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",n.shared)},qz=function(e){return q(e,(function(e){var t=e,n=e,r=e.split("=");return r.length>1&&(t=r[0],n=r[1]),{title:t,format:n}}))},Wz=function(e){return{type:"basic",data:e}};(function(e){e[e["SemiColon"]=0]="SemiColon",e[e["Space"]=1]="Space"})(LN||(LN={}));var Gz,Yz=function(e,t){return t===LN.SemiColon?e.replace(/;$/,"").split(";"):e.split(" ")},Kz=function(e,t,n,r){var o=e.getParam(t,n,"string"),i=qz(Yz(o,r));return{type:"basic",data:i}},Xz=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Jz=function(e){var t=function(){return Q(Xz,(function(t){return e.formatter.match(t.format)}))},n=function(t){return function(){return e.formatter.match(t)}},r=function(e){return function(){return w.none()}},o=function(e){var n=t(),r=n.fold((function(){return"left"}),(function(e){return e.title.toLowerCase()}));di(e,yj,{icon:"align-"+r})},i=w.some((function(e){return function(){return o(e)}})),a=w.some((function(e){return o(e)})),s=Wz(Xz),l=function(t){return function(){return Q(Xz,(function(e){return e.format===t.format})).each((function(t){return e.execCommand(t.command)}))}};return{tooltip:"Align",icon:w.some("align-left"),isSelectedFor:n,getCurrentValue:w.none,getPreviewFor:r,onAction:l,setInitialValue:a,nodeChangeHandler:i,dataset:s,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},Zz=function(e,t){return $z(e,t,Jz(e))},Qz=function(e,t){var n=Uz(e,t,Jz(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},eV="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",tV=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],nV=function(e){var t=e.split(/\s*,\s*/);return q(t,(function(e){return e.replace(/^['"]+|['"]+$/g,"")}))},rV=function(e){var t=function(){var t=nV(e.toLowerCase());return re(tV,(function(e){return t.indexOf(e.toLowerCase())>-1}))};return 0===e.indexOf("-apple-system")&&t()},oV=function(e){var t=function(){var t=function(e){return e?nV(e)[0]:""},n=e.queryCommandValue("FontName"),r=u.data,o=n?n.toLowerCase():"",i=Q(r,(function(e){var n=e.format;return n.toLowerCase()===o||t(n).toLowerCase()===t(o).toLowerCase()})).orThunk((function(){return rV(o)?w.from({title:"System Font",format:o}):w.none()}));return{matchOpt:i,font:n}},n=function(e){return function(t){return t.exists((function(t){return t.format===e}))}},r=function(){var e=t().matchOpt;return e},o=function(e){return function(){return w.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}})}},i=function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontName",!1,t.format)}))}},a=function(e){var n=t(),r=n.matchOpt,o=n.font,i=r.fold((function(){return o}),(function(e){return e.title}));di(e,vj,{text:i})},s=w.some((function(e){return function(){return a(e)}})),l=w.some((function(e){return a(e)})),u=Kz(e,"font_formats",eV,LN.SemiColon);return{tooltip:"Fonts",icon:w.none(),isSelectedFor:n,getCurrentValue:r,getPreviewFor:o,onAction:i,setInitialValue:l,nodeChangeHandler:s,dataset:u,shouldHide:!1,isInvalid:function(){return!1}}},iV=function(e,t){return $z(e,t,oV(e))},aV=function(e,t){var n=Uz(e,t,oV(e));e.ui.registry.addNestedMenuItem("fontformats",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},sV="8pt 10pt 12pt 14pt 18pt 24pt 36pt",lV={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},uV={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},cV=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},dV=function(e,t){return/[0-9.]+px$/.test(e)?cV(72*parseInt(e,10)/96,t||0)+"pt":Fe(uV,e).getOr(e)},fV=function(e){return Fe(lV,e).getOr("")},pV=function(e){var t=function(){var t=w.none(),n=c.data,r=e.queryCommandValue("FontSize");if(r)for(var o=function(e){var o=dV(r,e),i=fV(o);t=Q(n,(function(e){return e.format===r||e.format===o||e.format===i}))},i=3;t.isNone()&&i>=0;i--)o(i);return{matchOpt:t,size:r}},n=function(e){return function(t){return t.exists((function(t){return t.format===e}))}},r=function(){var e=t().matchOpt;return e},o=i(w.none),a=function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("FontSize",!1,t.format)}))}},s=function(e){var n=t(),r=n.matchOpt,o=n.size,i=r.fold((function(){return o}),(function(e){return e.title}));di(e,vj,{text:i})},l=w.some((function(e){return function(){return s(e)}})),u=w.some((function(e){return s(e)})),c=Kz(e,"fontsize_formats",sV,LN.Space);return{tooltip:"Font sizes",icon:w.none(),isSelectedFor:n,getPreviewFor:o,getCurrentValue:r,onAction:a,setInitialValue:u,nodeChangeHandler:l,dataset:c,shouldHide:!1,isInvalid:function(){return!1}}},hV=function(e,t){return $z(e,t,pV(e))},mV=function(e,t){var n=Uz(e,t,pV(e));e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},gV=function(e,t){var n=t(),r=q(n,(function(e){return e.format}));return w.from(e.formatter.closest(r)).bind((function(e){return Q(n,(function(t){return t.format===e}))})).orThunk((function(){return hg(e.formatter.match("p"),{title:"Paragraph",format:"p"})}))},vV=function(e){var t=Kn(w.none()),n=function(){return t.get().each(e)},r=function(){n(),t.set(w.none())},o=function(){return t.get().isSome()},i=function(e){n(),t.set(w.some(e))};return{clear:r,isSet:o,set:i}},yV=function(){return vV((function(e){return e.destroy()}))},bV=function(){return vV((function(e){return e.unbind()}))},xV=function(){var e=Kn(w.none()),t=function(){return e.set(w.none())},n=function(t){return e.set(w.some(t))},r=function(){return e.get().isSome()},o=function(t){return e.get().each(t)};return{clear:t,set:n,isSet:r,on:o}},wV=function(e,t){return function(n){var r=bV(),o=function(){n.setActive(e.formatter.match(t));var o=e.formatter.formatChanged(t,n.setActive);r.set(o)};return e.initialized?o():e.on("init",o),r.clear}},_V=function(e){return function(t){return function(){e.undoManager.transact((function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))}}},CV="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",SV=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return w.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}},r=function(t){var n=gV(e,(function(){return a.data})),r=n.fold((function(){return"Paragraph"}),(function(e){return e.title}));di(t,vj,{text:r})},o=w.some((function(e){return function(){return r(e)}})),i=w.some((function(e){return r(e)})),a=Kz(e,"block_formats",CV,LN.SemiColon);return{tooltip:"Blocks",icon:w.none(),isSelectedFor:t,getCurrentValue:w.none,getPreviewFor:n,onAction:_V(e),setInitialValue:i,nodeChangeHandler:o,dataset:a,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},kV=function(e,t){return $z(e,t,SV(e))},OV=function(e,t){var n=Uz(e,t,SV(e));e.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},TV=function(e,t){var n=function(t){return function(){return e.formatter.match(t)}},r=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?w.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):w.none()}},o=function(t){var n=function(e){var t=e.items;return void 0!==t&&t.length>0?ne(t,n):[{title:e.title,format:e.format}]},r=ne(mR(e),n),o=gV(e,(function(){return r})),i=o.fold((function(){return"Paragraph"}),(function(e){return e.title}));di(t,vj,{text:i})},i=w.some((function(e){return function(){return o(e)}})),a=w.some((function(e){return o(e)}));return{tooltip:"Formats",icon:w.none(),isSelectedFor:n,getCurrentValue:w.none,getPreviewFor:r,onAction:_V(e),setInitialValue:a,nodeChangeHandler:i,shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}},MV=function(e,t){var n=p({type:"advanced"},t.styleselect);return $z(e,t,TV(e,n))},DV=function(e,t){var n=p({type:"advanced"},t.styleselect),r=Uz(e,t,TV(e,n));e.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},IV=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],EV=function(e,t){return function(n,r,o){var i=e(n).mapError((function(e){return an(e)})).getOrDie();return t(i,r,o)}},AV={button:EV(qw,(function(e,t){return fz(e,t.backstage.shared.providers)})),togglebutton:EV(Yw,(function(e,t){return hz(e,t.backstage.shared.providers)})),menubutton:EV(zF,(function(e,t){return Ej(e,"tox-tbtn",t.backstage,w.none())})),splitbutton:EV(HF,(function(e,t){return vz(e,t.backstage.shared)})),grouptoolbarbutton:EV(RF,(function(e,t,n){var r,o=n.ui.registry.getAll().buttons,i=function(e){return zV(n,{buttons:o,toolbar:e,allowToolbarGroups:!1},t,w.none())},a=(r={},r[Fd]=t.backstage.shared.header.isPositionedAtTop()?wu.TopToBottom:wu.BottomToTop,r);switch(mS(n)){case s_.floating:return cz(e,t.backstage,i,a);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(e,t){return MV(e,t.backstage)},fontsizeSelectButton:function(e,t){return hV(e,t.backstage)},fontSelectButton:function(e,t){return iV(e,t.backstage)},formatButton:function(e,t){return kV(e,t.backstage)},alignMenuButton:function(e,t){return Zz(e,t.backstage)}},LV=function(e,t,n){return Fe(AV,e.type).fold((function(){return w.none()}),(function(r){return w.some(r(e,t,n))}))},jV={styleselect:AV.styleSelectButton,fontsizeselect:AV.fontsizeSelectButton,fontselect:AV.fontSelectButton,formatselect:AV.formatButton,align:AV.alignMenuButton},NV=function(e){var t=q(IV,(function(t){var n=K(t.items,(function(t){return ze(e,t)||ze(jV,t)}));return{name:t.name,items:n}}));return K(t,(function(e){return e.items.length>0}))},PV=function(e){var t=e.split("|");return q(t,(function(e){return{items:e.trim().split(" ")}}))},RV=function(e){return N(e,(function(e){return ze(e,"name")&&ze(e,"items")}))},BV=function(e){var t=e.toolbar,n=e.buttons;return!1===t?[]:void 0===t||!0===t?NV(n):O(t)?PV(t):RV(t)?t:[]},FV=function(e,t,n,r,o,i){return Fe(t,n.toLowerCase()).orThunk((function(){return i.bind((function(e){return fe(e,(function(e){return Fe(t,e+n.toLowerCase())}))}))})).fold((function(){return Fe(jV,n.toLowerCase()).map((function(t){return t(e,o)})).orThunk((function(){return w.none()}))}),(function(t){return"grouptoolbarbutton"!==t.type||r?LV(t,o,e):w.none()}))},zV=function(e,t,n,r){var o=BV(t),i=q(o,(function(o){var i=ne(o.items,(function(o){return 0===o.trim().length?[]:FV(e,t.buttons,o,t.allowToolbarGroups,n,r).toArray()}));return{title:w.from(e.translate(o.name)),items:i}}));return K(i,(function(e){return e.items.length>0}))},VV=12,HV={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},UV={maxHeightFunction:Dd(),maxWidthFunction:lB()},$V={onLtr:function(){return[bc,xc,vc,mc,yc,gc,Gx,Yx,qx,Ux,Wx,$x]},onRtl:function(){return[bc,xc,yc,gc,vc,mc,Gx,Yx,Wx,$x,qx,Ux]}},qV={onLtr:function(){return[xc,mc,gc,vc,yc,bc,Gx,Yx,qx,Ux,Wx,$x]},onRtl:function(){return[xc,gc,mc,yc,vc,bc,Gx,Yx,Wx,$x,qx,Ux]}},WV=function(e,t){return"line"===e?{bubble:jd(VV,0,HV),layouts:{onLtr:function(){return[wc]},onRtl:function(){return[_c]}},overrides:UV}:{bubble:jd(0,VV,HV),layouts:t?qV:$V,overrides:UV}},GV=function(e,t,n,r){var o=Gr().deviceType.isTouch,i=bl(Vz({sink:n,onEscape:function(){return e.focus(),w.some(!0)}})),a=function(){return Dz(e,r.backstage.shared)},s=function(e,t,n,r){return Math.max(e,n)<=Math.min(t,r)},l=function(){var t=h.get().filter((function(e){return $s(tr.fromDom(e))})).map((function(e){return e.getBoundingClientRect()})).getOrThunk((function(){return e.selection.getRng().getBoundingClientRect()})),n=e.inline?$l().top:iu(tr.fromDom(e.getBody())).y;return{y:t.top+n,bottom:t.bottom+n}},u=function(){if(o()&&r.backstage.isContextMenuOpen())return!0;var e=l(),t=a();return!s(e.y,e.bottom,t.y,t.bottom)},c=function(){Rx.hide(i)},d=function(){f.get().each((function(e){var t=i.element;rl(t,"display"),u()?Ks(t,"display","none"):Ap.positionWithinBounds(n,e,i,w.some(a()))}))},f=Kn(w.none()),h=Kn(w.none()),m=Kn(null),g=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:zc([db.config({mode:"acyclic"}),Cb("pop-dialog-wrap-events",[Ii((function(t){e.shortcuts.add("ctrl+F9","focus statusbar",(function(){return db.focusIn(t)}))})),Ei((function(t){e.shortcuts.remove("ctrl+F9")}))])])}},v=Xe((function(){return Pz(t,(function(e){var t=x([e]);di(i,Rz,{forwardContents:g(t)})}))})),y=function(t,n){return zV(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},r,w.some(["form:"]))},b=function(e,t){return Oz.buildInitGroups(e,t)},x=function(t){var n=e.ui.registry.getAll().buttons,o=v(),i=p(p({},n),o.formNavigators),a=mS(e)===s_.scrolling?s_.scrolling:s_.default,s=te(q(t,(function(e){return"contexttoolbar"===e.type?y(i,e):b(e,r.backstage.shared.providers)})));return NF({type:a,uid:Ta("context-toolbar"),initGroups:s,onEscape:w.none,cyclicKeying:!0,providers:r.backstage.shared.providers})};e.on(uB,(function(t){var n=v();Fe(n.lookupTable,t.toolbarKey).each((function(n){C([n],t.target===e?w.none():w.some(t)),Rx.getContent(i).each(db.focusIn)}))}));var _=function(e,t){var n="node"===e?r.backstage.shared.anchors.node(t):r.backstage.shared.anchors.cursor();return Ye(n,WV(e,o()))},C=function(e,t){if(k(),!o()||!r.backstage.isContextMenuOpen()){var n=x(e),s=t.map(tr.fromDom),l=_(e[0].position,s);f.set(w.some(l)),h.set(t);var c=i.element;rl(c,"display"),Rx.showWithinBounds(i,l,g(n),(function(){return w.some(a())})),u()&&Ks(c,"display","none")}},S=function(){if(e.hasFocus()){var t=v();Nz(t,e).fold((function(){f.set(w.none()),Rx.hide(i)}),(function(e){C(e.toolbars,w.some(e.elem.dom))}))}},k=function(){var e=m.get();null!==e&&(Kx.clearTimeout(e),m.set(null))},O=function(e){k(),m.set(e)};e.on("init",(function(){e.on(cB,c),e.on("ScrollContent ScrollWindow longpress",d),e.on("click keyup focus SetContent ObjectResized ResizeEditor",(function(){O(Kx.setEditorTimeout(e,S,0))})),e.on("focusout",(function(t){Kx.setEditorTimeout(e,(function(){ed(n.element).isNone()&&ed(i.element).isNone()&&(f.set(w.none()),Rx.hide(i))}),0)})),e.on("SwitchMode",(function(){e.mode.isReadOnly()&&(f.set(w.none()),Rx.hide(i))})),e.on("NodeChange",(function(t){ed(i.element).fold((function(){O(Kx.setEditorTimeout(e,S,0))}),(function(e){}))}))}))},YV=function(e,t,n){var r=function(e,r){W([t,n],(function(t){t.broadcastEvent(e,r)}))},o=function(e,r){W([t,n],(function(t){t.broadcastOn([e],r)}))},i=function(e){return o(ph(),{target:e.target})},a=fT(tr.fromDom(document),"touchstart",i),s=fT(tr.fromDom(document),"touchmove",(function(e){return r(Xo(),e)})),l=fT(tr.fromDom(document),"touchend",(function(e){return r(Jo(),e)})),u=fT(tr.fromDom(document),"mousedown",i),c=fT(tr.fromDom(document),"mouseup",(function(e){0===e.raw.button&&o(mh(),{target:e.target})})),d=function(e){return o(ph(),{target:tr.fromDom(e.target)})},f=function(e){0===e.button&&o(mh(),{target:tr.fromDom(e.target)})},p=function(e){return r(Zo(),hT(e))},h=function(e){o(hh(),{}),r(Qo(),hT(e))},m=function(){return o(hh(),{})};e.on("PostRender",(function(){e.on("click",d),e.on("tap",d),e.on("mouseup",f),e.on("ScrollWindow",p),e.on("ResizeWindow",h),e.on("ResizeEditor",m)})),e.on("remove",(function(){e.off("click",d),e.off("tap",d),e.off("mouseup",f),e.off("ScrollWindow",p),e.off("ResizeWindow",h),e.off("ResizeEditor",m),u.unbind(),a.unbind(),s.unbind(),l.unbind(),c.unbind()})),e.on("detach",(function(){Wp(t),Wp(n),t.destroy(),n.destroy()}))},KV=Xm,XV=Am,JV=i([Bn("shell",!1),bn("makeItem"),Bn("setupItem",t),Zh.field("listBehaviours",[wb])]),ZV=function(){return{behaviours:zc([wb.config({})])}},QV=Dm({name:"items",overrides:ZV}),eH=i([QV]),tH=i("CustomList"),nH=function(e,t,n,r){var o=function(t,n){a(t).fold((function(){throw new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(r){var o=wb.contents(r),i=n.length,a=i-o.length,s=a>0?U(a,(function(){return e.makeItem()})):[],l=o.slice(i);W(l,(function(e){return wb.remove(r,e)})),W(s,(function(e){return wb.append(r,e)}));var u=wb.contents(r);W(u,(function(r,o){e.setupItem(t,r,n[o],o)}))}))},i=e.shell?{behaviours:[wb.config({})],components:[]}:{behaviours:[],components:t},a=function(t){return e.shell?w.some(t):Hm(t,e,"items")};return{uid:e.uid,dom:e.dom,components:i.components,behaviours:Jh(e.listBehaviours,i.behaviours),apis:{setItems:o}}},rH=lg({name:tH(),configFields:JV(),partFields:eH(),factory:nH,apis:{setItems:function(e,t,n){e.setItems(t,n)}}}),oH=t,iH=c,aH=i([]),sH=Object.freeze({__proto__:null,setup:oH,isDocked:iH,getBehaviours:aH}),lH=function(e){var t=el(e,"position").is("fixed"),n=t?w.none():Gi(e);return n.orThunk((function(){var t=tr.fromTag("span");return qi(e).bind((function(e){ta(e,t);var n=Gi(t);return aa(t),n}))}))},uH=function(e){return lH(e).map(Il).getOrThunk((function(){return Tl(0,0)}))},cH=Ue.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),dH=function(e,t){var n=e.element;Ts(n,t.transitionClass),Ds(n,t.fadeOutClass),Ts(n,t.fadeInClass),t.onShow(e)},fH=function(e,t){var n=e.element;Ts(n,t.transitionClass),Ds(n,t.fadeInClass),Ts(n,t.fadeOutClass),t.onHide(e)},pH=function(e,t){return e.y<t.bottom&&e.bottom>t.y},hH=function(e,t){return e.y>=t.y},mH=function(e,t){return e.bottom<=t.bottom},gH=function(e,t,n){return re(e,(function(e){switch(e){case"bottom":return mH(t,n);case"top":return hH(t,n)}}))},vH=function(e,t){return t.getInitialPosition().map((function(t){return ru(t.bounds.x,t.bounds.y,jl(e),Cl(e))}))},yH=function(e,t,n){n.setInitialPosition(w.some({style:tl(e),position:Zs(e,"position")||"static",bounds:t}))},bH=function(e,t,n){return n.getInitialPosition().bind((function(r){switch(n.setInitialPosition(w.none()),r.position){case"static":return w.some(cH.static());case"absolute":var o=lH(e).map(ou).getOrThunk((function(){return ou(qs())}));return w.some(cH.absolute(nd("absolute",Fe(r.style,"left").map((function(e){return t.x-o.x})),Fe(r.style,"top").map((function(e){return t.y-o.y})),Fe(r.style,"right").map((function(e){return o.right-t.right})),Fe(r.style,"bottom").map((function(e){return o.bottom-t.bottom})))));default:return w.none()}}))},xH=function(e,t,n){return vH(e,n).filter((function(e){return gH(n.getModes(),e,t)})).bind((function(t){return bH(e,t,n)}))},wH=function(e,t,n){var r=ou(e);if(gH(n.getModes(),r,t))return w.none();yH(e,r,n);var o=au(),i=r.x-o.x,a=t.y-o.y,s=o.bottom-t.bottom,l=r.y<=t.y;return w.some(cH.fixed(nd("fixed",w.some(i),l?w.some(a):w.none(),w.none(),l?w.none():w.some(s))))},_H=function(e,t,n){var r=e.element,o=el(r,"position").is("fixed");return o?xH(r,t,n):wH(r,t,n)},CH=function(e,t){var n=e.element;return vH(n,t).bind((function(e){return bH(n,e,t)}))},SH=function(e,t){W(["left","right","top","bottom","position"],(function(t){return rl(e.element,t)})),t.onUndocked(e)},kH=function(e,t,n){rd(e.element,n);var r="fixed"===n.position?t.onDocked:t.onUndocked;r(e)},OH=function(e,t,n,r,o){void 0===o&&(o=!1),t.contextual.each((function(t){t.lazyContext(e).each((function(i){var a=pH(i,r);if(a!==n.isVisible())if(n.setVisible(a),o&&!a)Es(e.element,[t.fadeOutClass]),t.onHide(e);else{var s=a?dH:fH;s(e,t)}}))}))},TH=function(e,t,n){var r=t.lazyViewport(e),o=n.isDocked();o&&OH(e,t,n,r),_H(e,r,n).each((function(i){n.setDocked(!o),i.fold((function(){return SH(e,t)}),(function(n){return kH(e,t,n)}),(function(o){OH(e,t,n,r,!0),kH(e,t,o)}))}))},MH=function(e,n,r){var o=e.element;r.setDocked(!1),CH(e,r).each((function(r){r.fold((function(){return SH(e,n)}),(function(t){return kH(e,n,t)}),t)})),r.setVisible(!0),n.contextual.each((function(t){As(o,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),DH(e,n,r)},DH=function(e,t,n){e.getSystem().isConnected()&&TH(e,t,n)},IH=function(e,t,n){n.isDocked()&&MH(e,t,n)},EH=function(e,t,n){return n.isDocked()},AH=function(e,t,n,r){return n.setModes(r)},LH=function(e,t,n){return n.getModes()},jH=Object.freeze({__proto__:null,refresh:DH,reset:IH,isDocked:EH,getModes:LH,setModes:AH}),NH=function(e,t){return gi([Di(No(),(function(n,r){e.contextual.each((function(e){if(Is(n.element,e.transitionClass)){As(n.element,[e.transitionClass,e.fadeInClass]);var o=t.isVisible()?e.onShown:e.onHidden;o(n)}r.stop()}))})),xi(Zo(),(function(n,r){DH(n,e,t)})),xi(Qo(),(function(n,r){IH(n,e,t)}))])},PH=Object.freeze({__proto__:null,events:NH}),RH=[Pn("contextual",[_n("fadeInClass"),_n("fadeOutClass"),_n("transitionClass"),kn("lazyContext"),Bu("onShow"),Bu("onShown"),Bu("onHide"),Bu("onHidden")]),$n("lazyViewport",au),Wn("modes",["top","bottom"],pn),Bu("onDocked"),Bu("onUndocked")],BH=function(e){var t=Kn(!1),n=Kn(!0),r=Kn(w.none()),o=Kn(e.modes),i=function(){return"docked:  "+t.get()+", visible: "+n.get()+", modes: "+o.get().join(",")};return Ya({isDocked:t.get,setDocked:t.set,getInitialPosition:r.get,setInitialPosition:r.set,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:i})},FH=Object.freeze({__proto__:null,init:BH}),zH=Hc({fields:RH,name:"docking",active:PH,apis:jH,state:FH}),VH={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},HH="tox-tinymce--toolbar-sticky-on",UH="tox-tinymce--toolbar-sticky-off",$H=function(e,t){var n=Vi(t),r=n.dom.defaultView.innerHeight,o=$l(n),i=tr.fromDom(e.elm),a=iu(i),s=Cl(i),l=a.y,u=l+s,c=Il(t),d=Cl(t),f=c.top,p=f+d,h=Math.abs(f-o.top)<2,m=Math.abs(p-(o.top+r))<2;if(h&&l<p)ql(o.left,l-d,n);else if(m&&u>f){var g=l-r+s+d;ql(o.left,g,n)}},qH=function(e,t){return V(zH.getModes(e),t)},WH=function(e){var t=function(e){return Sl(e)+(parseInt(Zs(e,"margin-top"),10)||0)+(parseInt(Zs(e,"margin-bottom"),10)||0)},n=e.element;qi(n).each((function(r){var o="padding-"+zH.getModes(e)[0];if(zH.isDocked(e)){var i=jl(r);Ks(n,"width",i+"px"),Ks(r,o,t(n)+"px")}else rl(n,"width"),rl(r,o)}))},GH=function(e,t){t?(Ds(e,VH.fadeOutClass),Es(e,[VH.transitionClass,VH.fadeInClass])):(Ds(e,VH.fadeInClass),Es(e,[VH.fadeOutClass,VH.transitionClass]))},YH=function(e,t){var n=tr.fromDom(e.getContainer());t?(Ts(n,HH),Ds(n,UH)):(Ts(n,UH),Ds(n,HH))},KH=function(e,t){var n=Vi(t);Qc(n).filter((function(e){return!oo(t,e)})).filter((function(t){return oo(t,tr.fromDom(n.dom.body))||so(e,t)})).each((function(){return Xc(t)}))},XH=function(e,t){return ed(e).orThunk((function(){return t().toOptional().bind((function(e){return ed(e.element)}))}))},JH=function(e,t,n){e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(function(){n().each(zH.reset)})),e.on("ResizeWindow ResizeEditor",(function(){n().each(WH)})),e.on("SkinLoaded",(function(){n().each((function(e){zH.isDocked(e)?zH.reset(e):zH.refresh(e)}))})),e.on("FullscreenStateChanged",(function(){n().each(zH.reset)}))),e.on("AfterScrollIntoView",(function(e){n().each((function(t){zH.refresh(t);var n=t.element;Lv(n)&&$H(e,n)}))})),e.on("PostRender",(function(){YH(e,!1)}))},ZH=function(e){return e().map(zH.isDocked).getOr(!1)},QH=function(){var e;return[Wc.config({channels:(e={},e[MF()]={onReceive:WH},e)})]},eU=function(e,t){var n=Kn(w.none()),r=t.getSink,o=function(e){r().each((function(t){return e(t.element)}))},i=function(t){e.inline||WH(t),YH(e,zH.isDocked(t)),t.getSystem().broadcastOn([hh()],{}),r().each((function(e){return e.getSystem().broadcastOn([hh()],{})}))},a=e.inline?[]:QH();return m([Ab.config({}),zH.config({contextual:p({lazyContext:function(t){var n=Sl(t.element),r=e.inline?e.getContentAreaContainer():e.getContainer(),o=ou(tr.fromDom(r)),i=o.height-n,a=o.y+(qH(t,"top")?0:n);return w.some(ru(o.x,a,o.width,i))},onShow:function(){o((function(e){return GH(e,!0)}))},onShown:function(e){o((function(e){return As(e,[VH.transitionClass,VH.fadeInClass])})),n.get().each((function(t){KH(e.element,t),n.set(w.none())}))},onHide:function(e){n.set(XH(e.element,r)),o((function(e){return GH(e,!1)}))},onHidden:function(){o((function(e){return As(e,[VH.transitionClass])}))}},VH),modes:[t.header.getDockingMode()],onDocked:i,onUndocked:i})],a)},tU=Object.freeze({__proto__:null,setup:JH,isDocked:ZH,getBehaviours:eU}),nU=function(e){var t=e.editor,n=e.sticky?eU:aH;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:zc(n(t,e.sharedBackstage))}},rU=function(e,t){var n=function(e,n){var r=q(n,(function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}},r=zF(n).mapError((function(e){return an(e)})).getOrDie();return Ej(r,"tox-mbtn",t.backstage,w.some("menuitem"))}));wb.set(e,r)},r={focus:db.focusIn,setMenus:n};return{uid:e.uid,dom:e.dom,components:[],behaviours:zc([wb.config({}),Cb("menubar-events",[Ii((function(t){e.onSetup(t)})),xi(To(),(function(e,t){hu(e.element,".tox-mbtn--active").each((function(n){mu(t.event.target,".tox-mbtn").each((function(t){oo(n,t)||e.getSystem().getByDom(n).each((function(n){e.getSystem().getByDom(t).each((function(e){gD.expand(e),gD.close(n),Ab.focus(e)}))}))}))}))})),xi(oi(),(function(e,t){t.event.prevFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(n){t.event.newFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(e){gD.isOpen(n)&&(gD.expand(e),gD.close(n))}))}))}))]),db.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),w.some(!0)}}),QT.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},oU=sg({factory:rU,name:"silver.Menubar",configFields:[bn("dom"),bn("uid"),bn("onEscape"),bn("backstage"),Bn("onSetup",t)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),iU="container",aU=[Kh("slotBehaviours",[])],sU=function(e){return"<alloy.field."+e+">"},lU=function(e){var t=function(){var e=[],t=function(t,n){return e.push(t),Rm(iU,sU(t),n)};return{slot:t,record:function(){return e}}}(),n=e(t),r=t.record(),o=q(r,(function(e){return Tm({name:e,pname:sU(e)})}));return eg(iU,aU,o,uU,n)},uU=function(e,t){var n=function(t){return Wm(e)},r=function(t,n){return Hm(t,e,n)},o=function(t,n){return function(r,o){return Hm(r,e,o).map((function(e){return t(e,o)})).getOr(n)}},i=function(e){return function(t,n){W(n,(function(n){return e(t,n)}))}},a=function(e,t){return"true"!==ma(e.element,"aria-hidden")},s=function(e,t){if(!a(e)){var n=e.element;rl(n,"display"),ya(n,"aria-hidden"),di(e,ii(),{name:t,visible:!0})}},l=function(e,t){if(a(e)){var n=e.element;Ks(n,"display","none"),pa(n,"aria-hidden","true"),di(e,ii(),{name:t,visible:!1})}},u=o(a,!1),c=o(l),d=i(c),f=function(e){return d(e,n())},p=o(s),h={getSlotNames:n,getSlot:r,isShowing:u,hideSlot:c,hideAllSlots:f,showSlot:p};return{uid:e.uid,dom:e.dom,components:t,behaviours:Xh(e.slotBehaviours),apis:h}},cU=Ee({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},(function(e){return Wa(e)})),dU=p(p({},cU),{sketch:lU}),fU=Bt([Ln("icon"),Ln("tooltip"),$n("onShow",t),$n("onHide",t),$n("onSetup",(function(){return t}))]),pU=function(e){return nn("sidebar",fU,e)},hU=function(e){var t=e.ui.registry.getAll().sidebars;W(Me(t),(function(n){var r=t[n],o=function(){return w.from(e.queryCommandValue("ToggleSidebar")).is(n)};e.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",!1,n),t.setActive(o())},onSetup:function(t){var n=function(){return t.setActive(o())};return e.on("ToggleSidebar",n),function(){e.off("ToggleSidebar",n)}}})}))},mU=function(e){return{element:function(){return e.element.dom}}},gU=function(e,n){var r=q(Me(n),(function(e){var t=n[e],r=rn(pU(t));return{name:e,getApi:mU,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}));return q(r,(function(n){var o=Kn(t);return e.slot(n.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:gC.unnamedEvents([KS(n,o),XS(n,o),xi(ii(),(function(e,t){var n=t.event,o=Q(r,(function(e){return e.name===n.name}));o.each((function(t){var r=n.visible?t.onShow:t.onHide;r(t.getApi(e))}))}))])})}))},vU=function(e){return dU.sketch((function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:gU(t,e),slotBehaviours:gC.unnamedEvents([Ii((function(e){return dU.hideAllSlots(e)}))])}}))},yU=function(e,t){var n=bg.getCurrent(e);n.each((function(e){return wb.set(e,[vU(t)])}))},bU=function(e,t){var n=bg.getCurrent(e);n.each((function(e){var n=bg.getCurrent(e);n.each((function(n){xF.hasGrown(e)?dU.isShowing(n,t)?xF.shrink(e):(dU.hideAllSlots(n),dU.showSlot(n,t)):(dU.hideAllSlots(n),dU.showSlot(n,t),xF.grow(e))}))}))},xU=function(e){var t=bg.getCurrent(e);return t.bind((function(e){var t=xF.isGrowing(e)||xF.hasGrown(e);if(t){var n=bg.getCurrent(e);return n.bind((function(e){return Q(dU.getSlotNames(e),(function(t){return dU.isShowing(e,t)}))}))}return w.none()}))},wU=Ta("FixSizeEvent"),_U=Ta("AutoSizeEvent"),CU=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:zc([QT.config({}),Ab.config({}),xF.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){var t=bg.getCurrent(e);t.each(dU.hideAllSlots),ci(e,_U)},onGrown:function(e){ci(e,_U)},onStartGrow:function(e){di(e,wU,{width:el(e.element,"width").getOr("")})},onStartShrink:function(e){di(e,wU,{width:jl(e.element)+"px"})}}),wb.config({}),bg.config({find:function(e){var t=wb.contents(e);return ue(t)}})])}],behaviours:zc([OA.childAt(0),Cb("sidebar-sliding-events",[xi(wU,(function(e,t){Ks(e.element,"width",t.event.width)})),xi(_U,(function(e,t){rl(e.element,"width")}))])])}},SU=function(e){var t=void 0!==e.dom.attributes?e.dom.attributes:[];return J(t,(function(e,t){var n;return"class"===t.name?e:p(p({},e),(n={},n[t.name]=t.value,n))}),{})},kU=function(e){return Array.prototype.slice.call(e.dom.classList,0)},OU=function(e){var t=tr.fromHtml(e),n=Ki(t),r=SU(t),o=kU(t),i=0===n.length?{}:{innerHtml:ua(t)};return p({tag:ji(t),classes:o,attributes:r},i)},TU=function(e){return{dom:{tag:"div",attributes:{"aria-label":e.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:OU('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:zc([db.config({mode:"special",onTab:function(){return w.some(!0)},onShiftTab:function(){return w.some(!0)}}),Ab.config({})])}},MU=function(e,t,n){var r=e.element;!0===t?(wb.set(e,[TU(n)]),rl(r,"display"),ya(r,"aria-hidden")):(wb.set(e,[]),Ks(r,"display","none"),pa(r,"aria-hidden","true"))},DU=function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:zc([wb.config({})]),components:[]}},IU=function(e,t,n){var r=Kn(!1),o=Kn(w.none()),i=function(e){e!==r.get()&&(MU(t(),e,n.providers),r.set(e))};e.on("ProgressState",(function(t){if(o.get().each(Kx.clearTimeout),j(t.time)){var n=Kx.setEditorTimeout(e,(function(){return i(t.state)}),t.time);o.set(w.some(n))}else i(t.state),o.set(w.none())}))},EU=function(e,t,n){var r={getSocket:function(t){return KV.getPart(t,e,"socket")},setSidebar:function(t,n){KV.getPart(t,e,"sidebar").each((function(e){return yU(e,n)}))},toggleSidebar:function(t,n){KV.getPart(t,e,"sidebar").each((function(e){return bU(e,n)}))},whichSidebar:function(t){return KV.getPart(t,e,"sidebar").bind(xU).getOrNull()},getHeader:function(t){return KV.getPart(t,e,"header")},getToolbar:function(t){return KV.getPart(t,e,"toolbar")},setToolbar:function(t,n){KV.getPart(t,e,"toolbar").each((function(e){e.getApis().setGroups(e,n)}))},setToolbars:function(t,n){KV.getPart(t,e,"multiple-toolbar").each((function(e){rH.setItems(e,n)}))},refreshToolbar:function(t){var n=KV.getPart(t,e,"toolbar");n.each((function(e){return e.getApis().refresh(e)}))},toggleToolbarDrawer:function(t){KV.getPart(t,e,"toolbar").each((function(e){pg(e.getApis().toggle,(function(t){return t(e)}))}))},isToolbarDrawerToggled:function(t){return KV.getPart(t,e,"toolbar").bind((function(e){return w.from(e.getApis().isOpen).map((function(t){return t(e)}))})).getOr(!1)},getThrobber:function(t){return KV.getPart(t,e,"throbber")},focusToolbar:function(t){var n=KV.getPart(t,e,"toolbar").orThunk((function(){return KV.getPart(t,e,"multiple-toolbar")}));n.each((function(e){db.focusIn(e)}))},setMenubar:function(t,n){KV.getPart(t,e,"menubar").each((function(e){oU.setMenus(e,n)}))},focusMenubar:function(t){KV.getPart(t,e,"menubar").each((function(e){oU.focus(e)}))}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},AU=XV.optional({factory:oU,name:"menubar",schema:[bn("backstage")]}),LU=function(e){return e.type===s_.sliding?jF:e.type===s_.floating?LF:NF},jU=XV.optional({factory:{sketch:function(e){return rH.sketch({uid:e.uid,dom:e.dom,listBehaviours:zc([db.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return NF({type:e.type,uid:Ta("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:function(){return e.onEscape(),w.some(!0)}})},setupItem:function(e,t,n,r){mB.setGroups(t,n)},shell:!0})}},name:"multiple-toolbar",schema:[bn("dom"),bn("onEscape")]}),NU=XV.optional({factory:{sketch:function(e){var t=LU(e),n={type:e.type,uid:e.uid,onEscape:function(){return e.onEscape(),w.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes};return t(n)}},name:"toolbar",schema:[bn("dom"),bn("onEscape"),bn("getSink")]}),PU=XV.optional({factory:{sketch:nU},name:"header",schema:[bn("dom")]}),RU=XV.optional({name:"socket",schema:[bn("dom")]}),BU=XV.optional({factory:{sketch:CU},name:"sidebar",schema:[bn("dom")]}),FU=XV.optional({factory:{sketch:DU},name:"throbber",schema:[bn("dom")]}),zU=lg({name:"OuterContainer",factory:EU,configFields:[bn("dom"),bn("behaviours")],partFields:[PU,AU,NU,jU,RU,BU,FU],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var r=q(n,(function(e){return IF(e)}));e.setToolbar(t,r)},setToolbars:function(e,t,n){var r=q(n,(function(e){return q(e,IF)}));e.setToolbars(t,r)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},toggleToolbarDrawer:function(e,t){e.toggleToolbarDrawer(t)},isToolbarDrawerToggled:function(e,t){return e.isToolbarDrawerToggled(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}}),VU="file edit view insert format tools table help",HU={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},UU=function(e,t,n){var r=uS(n).split(/[ ,]/);return{text:e.title,getItems:function(){return ne(e.items,(function(e){var n=e.toLowerCase();return 0===n.trim().length||H(r,(function(e){return e===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}}},$U=function(e){return"string"===typeof e?e.split(" "):e},qU=function(e,t){var n=p(p({},HU),t.menus),r=Me(t.menus).length>0,o=void 0===t.menubar||!0===t.menubar?$U(VU):$U(!1===t.menubar?"":t.menubar),i=K(o,(function(e){return r&&t.menus.hasOwnProperty(e)&&t.menus[e].hasOwnProperty("items")||HU.hasOwnProperty(e)})),a=q(i,(function(r){var o=n[r];return UU({title:o.title,items:$U(o.items)},t,e)}));return K(a,(function(e){var t=function(e){return"separator"!==e.type};return e.getItems().length>0&&H(e.getItems(),t)}))},WU=function(e){var t=function(){e._skinLoaded=!0,Yk(e)};return function(){e.initialized?t():e.on("init",t)}},GU=function(e,t){return function(){return Kk(e,{message:t})}},YU=function(e,t,n){return new kw((function(r,o){n.load(t,r,o),e.on("remove",(function(){return n.unload(t)}))}))},KU=function(e,t){var n=t+"/skin.min.css";return YU(e,n,e.ui.styleSheetLoader)},XU=function(e,t){var n=Fs(tr.fromDom(e.getElement()));if(n){var r=t+"/skin.shadowdom.min.css";return YU(e,r,DC.DOM.styleSheetLoader)}return kw.resolve()},JU=function(e,t){var n=JC(t);n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css"),!1===QC(t)&&O(n)?kw.all([KU(t,n),XU(t,n)]).then(WU(t),GU(t,"Skin could not be loaded")):WU(t)()},ZU=s(JU,!1),QU=s(JU,!0),e$=function(e,t,n,r){var o=t.outerContainer,i=n.toolbar,a=n.buttons;if(N(i,O)){var s=i.map((function(t){var o={toolbar:t,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return zV(e,o,{backstage:r},w.none())}));zU.setToolbars(o,s)}else zU.setToolbar(o,zV(e,n,{backstage:r},w.none()))},t$=Gr(),n$=t$.os.isiOS()&&t$.os.version.major<=12,r$=function(e,t){var n=e.dom,r=e.getWin(),o=e.getDoc().documentElement,i=Kn(Tl(r.innerWidth,r.innerHeight)),a=Kn(Tl(o.offsetWidth,o.offsetHeight)),s=function(){var t=i.get();t.left===r.innerWidth&&t.top===r.innerHeight||(i.set(Tl(r.innerWidth,r.innerHeight)),Jk(e))},l=function(){var t=e.getDoc().documentElement,n=a.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(a.set(Tl(t.offsetWidth,t.offsetHeight)),Jk(e))},u=function(t){return Zk(e,t)};n.bind(r,"resize",s),n.bind(r,"scroll",u);var c=pT(tr.fromDom(e.getBody()),"load",l),d=t.uiMothership.element;e.on("hide",(function(){Ks(d,"display","none")})),e.on("show",(function(){rl(d,"display")})),e.on("NodeChange",l),e.on("remove",(function(){c.unbind(),n.unbind(r,"resize",s),n.unbind(r,"scroll",u),r=null}))},o$=function(e,t,n,r,o){var i=Kn(0),a=t.outerContainer;ZU(e);var s=tr.fromDom(o.targetNode),l=Bs(Rs(s));$p(s,t.mothership),Up(l,t.uiMothership),e.on("PostRender",(function(){e$(e,t,n,r),i.set(e.getWin().innerWidth),zU.setMenubar(a,qU(e,n)),zU.setSidebar(a,n.sidebar),r$(e,t)}));var u=zU.getSocket(a).getOrDie("Could not find expected socket element");if(n$){Xs(u.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var c=lw((function(){e.fire("ScrollContent")}),20),d=fT(u.element,"scroll",c.throttle);e.on("remove",d.unbind)}VS(e,t),e.addCommand("ToggleSidebar",(function(t,n){zU.toggleSidebar(a,n),e.fire("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(function(){return zU.whichSidebar(a)}));var f=mS(e),p=function(){zU.refreshToolbar(t.outerContainer)};f!==s_.sliding&&f!==s_.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var t=e.getWin().innerWidth;t!==i.get()&&(p(),i.set(t))}));var h={enable:function(){zS(t,!1)},disable:function(){zS(t,!0)},isDisabled:function(){return KC.isDisabled(a)}};return{iframeContainer:u.element.dom,editorContainer:a.element.dom,api:h}},i$=Object.freeze({__proto__:null,render:o$}),a$=function(e){var t=/^[0-9\.]+(|px)$/i;return t.test(""+e)?w.some(parseInt(""+e,10)):w.none()},s$=function(e){return j(e)?e+"px":e},l$=function(e,t,n){var r=t.filter((function(t){return e<t})),o=n.filter((function(t){return e>t}));return r.or(o).getOr(e)},u$=function(e){var t=eS(e),n=rS(e),r=iS(e);return a$(t).map((function(e){return l$(e,n,r)}))},c$=function(e){var t=u$(e);return t.getOr(eS(e))},d$=function(e){var t=tS(e),n=nS(e),r=oS(e);return a$(t).map((function(e){return l$(e,n,r)}))},f$=function(e){var t=d$(e);return t.getOr(tS(e))},p$=function(e,t,n,r,o){var i=n.uiMothership,a=n.outerContainer,s=DC.DOM,l=CS(e),u=OS(e),c=oS(e).or(d$(e)),d=r.shared.header,f=d.isPositionedAtTop,p=mS(e),h=p===s_.sliding||p===s_.floating,m=Kn(!1),g=function(){return m.get()&&!e.removed},v=function(e){return h?e.fold((function(){return 0}),(function(e){return e.components().length>1?Cl(e.components()[1].element):0})):0},y=function(n){switch(yS(e)){case hS.auto:var r=zU.getToolbar(a),o=v(r),i=Cl(n.element)-o,s=ou(t),l=s.y>i;if(l)return"top";var u=Ui(t),c=Math.max(u.dom.scrollHeight,Cl(u)),d=s.bottom<c-i;if(d)return"bottom";var f=au(),p=f.bottom<s.bottom-i;return p?"bottom":"top";case hS.bottom:return"bottom";case hS.top:default:return"top"}},b=function(e){var t=o.get();zH.setModes(t,[e]),d.setDockingMode(e);var n=f()?wu.TopToBottom:wu.BottomToTop;pa(t.element,Fd,n)},x=function(){var e=c.getOrThunk((function(){var e=a$(Zs(qs(),"margin-left")).getOr(0);return jl(qs())-Il(t).left+e}));Ks(o.get().element,"max-width",e+"px")},w=function(){var e=zU.getToolbar(a),n=v(e),r=ou(t),i=f()?Math.max(r.y-Cl(o.get().element)+n,0):r.bottom;Xs(a.element,{position:"absolute",top:Math.round(i)+"px",left:Math.round(r.x)+"px"})},_=function(){i.broadcastOn([hh()],{})},C=function(e){if(void 0===e&&(e=!1),g()){if(l||x(),h&&zU.refreshToolbar(a),l||w(),u){var t=o.get();e?zH.reset(t):zH.refresh(t)}_()}},S=function(e){if(void 0===e&&(e=!0),!l&&u&&g()){var t=d.getDockingMode(),n=y(o.get());n!==t&&(b(n),e&&C(!0))}},k=function(){m.set(!0),Ks(a.element,"display","flex"),s.addClass(e.getBody(),"mce-edit-focus"),rl(i.element,"display"),S(!1),C()},O=function(){m.set(!1),n.outerContainer&&(Ks(a.element,"display","none"),s.removeClass(e.getBody(),"mce-edit-focus")),Ks(i.element,"display","none")};return{isVisible:g,isPositionedAtTop:f,show:k,hide:O,update:C,updateMode:S,repositionPopups:_}},h$=function(e,t){var n=ou(e);return{pos:t?n.y:n.bottom,bounds:n}},m$=function(e,t,n,r){var o=Kn(h$(t,n.isPositionedAtTop())),i=function(r){var i=h$(t,n.isPositionedAtTop()),a=i.pos,s=i.bounds,l=o.get(),u=l.pos,c=l.bounds,d=s.height!==c.height||s.width!==c.width;o.set({pos:a,bounds:s}),d&&Jk(e,r),n.isVisible()&&(u!==a?n.update(!0):d&&(n.updateMode(),n.repositionPopups()))};r||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(function(){return n.update(!0)})),e.on("NodeChange keydown",(function(e){Kx.requestAnimationFrame((function(){return i(e)}))})),e.on("ScrollWindow",(function(){return n.updateMode()}));var a=bV();a.set(pT(tr.fromDom(e.getBody()),"load",i)),e.on("remove",(function(){a.clear()}))},g$=function(e,t,n,r,o){var i=t.mothership,a=t.uiMothership,s=t.outerContainer,l=Kn(null),u=tr.fromDom(o.targetNode),c=p$(e,u,t,r,l),d=wS(e);QU(e);var f=function(){if(l.get())c.show();else{l.set(zU.getHeader(s).getOrDie());var o=SS(e);Up(o,i),Up(o,a),e$(e,t,n,r),zU.setMenubar(s,qU(e,n)),c.show(),m$(e,u,c,d),e.nodeChanged()}};e.on("show",f),e.on("hide",c.hide),d||(e.on("focus",f),e.on("blur",c.hide)),e.on("init",(function(){(e.hasFocus()||d)&&f()})),VS(e,t);var p={show:function(){c.show()},hide:function(){c.hide()},enable:function(){zS(t,!1)},disable:function(){zS(t,!0)},isDisabled:function(){return KC.isDisabled(s)}};return{editorContainer:s.element.dom,api:p}},v$=Object.freeze({__proto__:null,render:g$}),y$=function(e){var t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];jA.each(t,(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,onAction:function(){return e.execCommand(t.cmd)},icon:t.icon,onSetup:wV(e,t.name)})}));var n={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"};e.ui.registry.addButton(n.name,{tooltip:n.text,onAction:function(){return e.execCommand(n.cmd)},icon:n.icon})},b$=function(e,t){Qz(e,t),aV(e,t),DV(e,t),OV(e,t),mV(e,t)},x$=function(e,t){e.setDisabled(!t.queryCommandState("outdent"));var n=function(){e.setDisabled(!t.queryCommandState("outdent"))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}},w$=function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(t){return x$(t,e)},onAction:function(){return e.execCommand("outdent")}}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return e.execCommand("indent")}})},_$=function(e){w$(e)},C$=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},S$=function(e){jA.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:wV(e,t.name),onAction:C$(e,t.name)})}));for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:wV(e,n),onAction:C$(e,n)})}},k$=function(e){jA.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)}})}))},O$=function(e){jA.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)},onSetup:wV(e,t.name)})}))},T$=function(e){S$(e),k$(e),O$(e)},M$=function(e){jA.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:function(){return e.execCommand(t.action)}})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:C$(e,"code")})},D$=function(e){T$(e),M$(e)},I$=function(e,t,n){var r=function(){return!!t.undoManager&&t.undoManager[n]()},o=function(){e.setDisabled(t.mode.isReadOnly()||!r())};return e.setDisabled(!r()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o),function(){return t.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}},E$=function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(t){return I$(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(t){return I$(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},A$=function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(t){return I$(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(t){return I$(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},L$=function(e){E$(e),A$(e)},j$=function(e,t){e.setActive(t.hasVisual);var n=function(t){e.setActive(t.hasVisual)};return t.on("VisualAid",n),function(){return t.off("VisualAid",n)}},N$=function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(t){return j$(t,e)},onAction:function(){e.execCommand("mceToggleVisualAid")}})},P$=function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return e.execCommand("mceToggleVisualAid")}})},R$=function(e){P$(e),N$(e)},B$={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},F$=function(){var e="[0-9]+",t="[+-]?"+e,n="[eE]"+t,r="\\.",o=function(e){return"(?:"+e+")?"},i=["Infinity",e+r+o(e)+o(n),r+e+o(n),e+o(n)].join("|"),a="[+-]?(?:"+i+")";return new RegExp("^("+a+")(.*)$")}(),z$=function(e,t){return H(t,(function(t){return H(B$[t],(function(t){return e===t}))}))},V$=function(e,t){var n=w.from(F$.exec(e));return n.bind((function(e){var n=Number(e[1]),r=e[2];return z$(r,t)?w.some({value:n,unit:r}):w.none()}))},H$=function(e,t){return V$(e,t).map((function(e){var t=e.value,n=e.unit;return t+n}))},U$=function(e){return H$(e,["fixed","relative","empty"]).getOr(e)},$$=function(e){var t=lS(e),n=new Map,r=yV(),o=function(){var t=U$(e.queryCommandValue("LineHeight"));w.from(n.get(t)).fold((function(){return r.clear()}),(function(e){r.set({destroy:function(){e.setActive(!1)}}),e.setActive(!0)}))};return e.on("nodeChange",o),q(t,(function(i,a){return{type:"togglemenuitem",text:i,onSetup:function(s){return n.set(U$(i),s),a+1===t.length&&o(),function(){0===a&&(e.off("nodeChange",o),r.clear())}},onAction:function(){return e.execCommand("LineHeight",!1,i)}}}))},q$=function(e){e.ui.registry.addNestedMenuItem("lineheight",{type:"nestedmenuitem",text:"Line height",getSubmenuItems:function(){return $$(e)}})},W$=function(e){e.ui.registry.addMenuButton("lineheight",{tooltip:"Line height",icon:"line-height",fetch:function(t){return t($$(e))}})},G$=function(e){q$(e),W$(e)},Y$=function(e,t){y$(e),D$(e),b$(e,t),L$(e),TO(e),R$(e),_$(e),G$(e)},K$=function(e,t){return{anchor:"makeshift",x:e,y:t}},X$=function(e,t,n){return K$(e.x+t,e.y+n)},J$=function(e){return"longpress"===e.type||0===e.type.indexOf("touch")},Z$=function(e){if(J$(e)){var t=e.touches[0];return K$(t.pageX,t.pageY)}return K$(e.pageX,e.pageY)},Q$=function(e){if(J$(e)){var t=e.touches[0];return K$(t.clientX,t.clientY)}return K$(e.clientX,e.clientY)},eq=function(e,t){var n=DC.DOM.getPos(e);return X$(t,n.x,n.y)},tq=function(e,t){return"contextmenu"===t.type||"longpress"===t.type?e.inline?Z$(t):eq(e.getContentAreaContainer(),Q$(t)):nq(e)},nq=function(e){return{anchor:"selection",root:tr.fromDom(e.selection.getNode())}},rq=function(e){return{anchor:"node",node:w.some(tr.fromDom(e.selection.getNode())),root:tr.fromDom(e.getBody())}},oq=function(e,t,n,r,o,i){var a=n(),s=i?rq(e):tq(e,t);Dj(a,l_.CLOSE_ON_EXECUTE,r,!1).map((function(e){t.preventDefault(),Rx.showMenuAt(o,s,{menu:{markers:L_("normal")},data:e})}))},iq={onLtr:function(){return[xc,mc,gc,vc,yc,bc,Gx,Yx,qx,Ux,Wx,$x]},onRtl:function(){return[xc,gc,mc,yc,vc,bc,Gx,Yx,Wx,$x,qx,Ux]}},aq=12,sq={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},lq=function(e,t){var n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;var r=t.touches[0],o=n.getRng(),i=Uf(e.getWin(),pf.domRange(o));return i.exists((function(e){return e.left<=r.clientX&&e.right>=r.clientX&&e.top<=r.clientY&&e.bottom>=r.clientY}))},uq=function(e,t){return p({bubble:jd(0,aq,sq),layouts:iq,overrides:{maxWidthFunction:lB(),maxHeightFunction:Dd()}},tq(e,t))},cq=function(e){var t=e.selection.getRng(),n=function(){Kx.setEditorTimeout(e,(function(){e.selection.setRng(t)}),10),i()};e.once("touchend",n);var r=function(e){e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",r,!0);var o=function(){return i()};e.once("longpresscancel",o);var i=function(){e.off("touchend",n),e.off("longpresscancel",o),e.off("mousedown",r)}},dq=function(e,t,n,r,o,i,a){var s=i?rq(e):uq(e,t);Dj(n,l_.CLOSE_ON_EXECUTE,r,!0).map((function(n){t.preventDefault(),Rx.showMenuWithinBounds(o,s,{menu:{markers:L_("normal"),highlightImmediately:a},data:n,type:"horizontal"},(function(){return w.some(Dz(e,r.shared))})),e.fire(cB)}))},fq=function(e,t,n,r,o,i){var a=Gr(),s=a.os.isiOS(),l=a.os.isOSX(),u=a.os.isAndroid(),c=a.deviceType.isTouch(),d=function(){return!(u||s||l&&c)},f=function(){var a=n();dq(e,t,a,r,o,i,d())};if(!l&&!s||i)u&&!i&&e.selection.setCursorLocation(t.target,0),f();else{var p=function(){cq(e),f()};lq(e,t)?p():(e.once("selectionchange",p),e.once("touchend",(function(){return e.off("selectionchange",p)})))}},pq=function(e){return"string"===typeof e?e.split(/[ ,]/):e},hq=function(e){return e.getParam("contextmenu_never_use_native",!1,"boolean")},mq=function(e,t,n){var r=e.ui.registry.getAll().contextMenus;return w.from(e.getParam(t)).map(pq).getOrThunk((function(){return K(pq(n),(function(e){return ze(r,e)}))}))},gq=function(e){return!1===e.getParam("contextmenu")},vq=function(e){return mq(e,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},yq=function(e){return e.getParam("contextmenu_avoid_overlap","","string")},bq=function(e){return O(e)?"|"===e:"separator"===e.type},xq={type:"separator"},wq=function(e){if(O(e))return e;switch(e.type){case"separator":return xq;case"submenu":return{type:"nestedmenuitem",text:e.text,icon:e.icon,getSubmenuItems:function(){var t=e.getSubmenuItems();return O(t)?t:q(t,wq)}};default:return{type:"menuitem",text:e.text,icon:e.icon,onAction:n(e.onAction)}}},_q=function(e,t){if(0===t.length)return e;var n=ce(e).filter((function(e){return!bq(e)})),r=n.fold((function(){return[]}),(function(e){return[xq]}));return e.concat(r).concat(t).concat([xq])},Cq=function(e,t,n){var r=J(t,(function(t,r){if(ze(e,r)){var o=e[r].update(n);if(O(o))return _q(t,o.split(" "));if(o.length>0){var i=q(o,wq);return _q(t,i)}return t}return t.concat([r])}),[]);return r.length>0&&bq(r[r.length-1])&&r.pop(),r},Sq=function(e,t){return t.ctrlKey&&!hq(e)},kq=function(e,t){return"longpress"!==t.type&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType)},Oq=function(e,t){return kq(e,t)?e.selection.getStart(!0):t.target},Tq=function(e,t){var n=yq(e);if(kq(e,t))return!0;if(n){var r=Oq(e,t);return mT(tr.fromDom(r),n)}return!1},Mq=function(e,t,n){var r=Gr(),o=r.deviceType.isTouch,i=bl(Rx.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:zc([Cb("dismissContextMenu",[xi(ni(),(function(t,n){fh.close(t),e.focus()}))])])})),a=function(e){return Rx.hide(i)},s=function(t){if(hq(e)&&t.preventDefault(),!Sq(e,t)&&!gq(e)){var r=Tq(e,t),a=function(){var n=Oq(e,t),r=e.ui.registry.getAll(),o=vq(e);return Cq(r.contextMenus,o,n)},s=o()?fq:oq;s(e,t,a,n,i,r)}};e.on("init",(function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");e.on(t,a),e.on("longpress contextmenu",s)}))},Dq=Ue.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Iq=function(e){return function(t){return t.translate(-e.left,-e.top)}},Eq=function(e){return function(t){return t.translate(e.left,e.top)}},Aq=function(e){return function(t,n){return J(e,(function(e,t){return t(e)}),Tl(t,n))}},Lq=function(e,t,n){return e.fold(Aq([Eq(n),Iq(t)]),Aq([Iq(t)]),Aq([]))},jq=function(e,t,n){return e.fold(Aq([Eq(n)]),Aq([]),Aq([Eq(t)]))},Nq=function(e,t,n){return e.fold(Aq([]),Aq([Iq(n)]),Aq([Eq(t),Iq(n)]))},Pq=function(e,t,n,r,o,i){var a=jq(e,o,i),s=jq(t,o,i);return Math.abs(a.left-s.left)<=n&&Math.abs(a.top-s.top)<=r},Rq=function(e,t,n,r,o,i){var a=jq(e,o,i),s=jq(t,o,i),l=Math.abs(a.left-s.left),u=Math.abs(a.top-s.top);return Tl(l,u)},Bq=function(e,t,n){var r=e.fold((function(e,t){return{position:w.some("absolute"),left:w.some(e+"px"),top:w.some(t+"px")}}),(function(e,t){return{position:w.some("absolute"),left:w.some(e-n.left+"px"),top:w.some(t-n.top+"px")}}),(function(e,t){return{position:w.some("fixed"),left:w.some(e+"px"),top:w.some(t+"px")}}));return p({right:w.none(),bottom:w.none()},r)},Fq=function(e,t,n){return e.fold((function(e,r){return Vq(e+t,r+n)}),(function(e,r){return Hq(e+t,r+n)}),(function(e,r){return Uq(e+t,r+n)}))},zq=function(e,t,n,r){var o=function(e,o){return function(i,a){var s=e(t,n,r);return o(i.getOr(s.left),a.getOr(s.top))}};return e.fold(o(Nq,Vq),o(jq,Hq),o(Lq,Uq))},Vq=Dq.offset,Hq=Dq.absolute,Uq=Dq.fixed,$q=function(e,t){var n=ma(e,t);return I(n)?NaN:parseInt(n,10)},qq=function(e,t){var n=e.element,r=$q(n,t.leftAttr),o=$q(n,t.topAttr);return isNaN(r)||isNaN(o)?w.none():w.some(Tl(r,o))},Wq=function(e,t,n){var r=e.element;pa(r,t.leftAttr,n.left+"px"),pa(r,t.topAttr,n.top+"px")},Gq=function(e,t){var n=e.element;ya(n,t.leftAttr),ya(n,t.topAttr)},Yq=function(e,t,n,r){return qq(e,t).fold((function(){return n}),(function(e){return Uq(e.left+r.left,e.top+r.top)}))},Kq=function(e,t,n,r,o,i){var a=Yq(e,t,n,r),s=t.mustSnap?Zq(e,t,a,o,i):Qq(e,t,a,o,i),l=Lq(a,o,i);return Wq(e,t,l),s.fold((function(){return{coord:Uq(l.left,l.top),extra:w.none()}}),(function(e){return{coord:e.output,extra:e.extra}}))},Xq=function(e,t){Gq(e,t)},Jq=function(e,t,n,r){return fe(e,(function(e){var o=e.sensor,i=Pq(t,o,e.range.left,e.range.top,n,r);return i?w.some({output:zq(e.output,t,n,r),extra:e.extra}):w.none()}))},Zq=function(e,t,n,r,o){var i=t.getSnapPoints(e),a=Jq(i,n,r,o);return a.orThunk((function(){var e=J(i,(function(e,t){var i=t.sensor,a=Rq(n,i,t.range.left,t.range.top,r,o);return e.deltas.fold((function(){return{deltas:w.some(a),snap:w.some(t)}}),(function(n){var r=(a.left+a.top)/2,o=(n.left+n.top)/2;return r<=o?{deltas:w.some(a),snap:w.some(t)}:e}))}),{deltas:w.none(),snap:w.none()});return e.snap.map((function(e){return{output:zq(e.output,n,r,o),extra:e.extra}}))}))},Qq=function(e,t,n,r,o){var i=t.getSnapPoints(e);return Jq(i,n,r,o)},eW=function(e,t,n){return{coord:zq(e.output,e.output,t,n),extra:e.extra}},tW=function(e,t,n,r){var o=t.getTarget(e.element);if(t.repositionTarget){var i=Vi(e.element),a=$l(i),s=uH(o),l=eW(r,a,s),u=Bq(l.coord,a,s);Js(o,u)}},nW=Object.freeze({__proto__:null,snapTo:tW}),rW="data-initial-z-index",oW=function(e){qi(e.element).filter(Ri).each((function(e){ga(e,rW).fold((function(){return rl(e,"z-index")}),(function(t){return Ks(e,"z-index",t)})),ya(e,rW)}))},iW=function(e){qi(e.element).filter(Ri).each((function(t){el(t,"z-index").each((function(e){pa(t,rW,e)})),Ks(t,"z-index",Zs(e.element,"z-index"))}))},aW=function(e,t){e.getSystem().addToGui(t),iW(t)},sW=function(e){oW(e),e.getSystem().removeFromGui(e)},lW=function(e,t,n){return e.getSystem().build(UT.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))},uW=Pn("snaps",[bn("getSnapPoints"),Bu("onSensor"),bn("leftAttr"),bn("topAttr"),Bn("lazyViewport",au),Bn("mustSnap",!1)]),cW=[Bn("useFixed",c),bn("blockerClass"),Bn("getTarget",a),Bn("onDrag",t),Bn("repositionTarget",!0),Bn("onDrop",t),$n("getBounds",au),uW],dW=function(e){return fg(el(e,"left"),el(e,"top"),el(e,"position"),(function(e,t,n){var r="fixed"===n?Uq:Vq;return r(parseInt(e,10),parseInt(t,10))})).getOrThunk((function(){var t=Il(e);return Hq(t.left,t.top)}))},fW=function(e,t,n,r,o){var i=o.bounds,a=jq(t,n,r),s=gd(a.left,i.x,i.x+i.width-o.width),l=gd(a.top,i.y,i.y+i.height-o.height),u=Hq(s,l);return t.fold((function(){var e=Nq(u,n,r);return Vq(e.left,e.top)}),(function(){return u}),(function(){var e=Lq(u,n,r);return Uq(e.left,e.top)}))},pW=function(e,t,n,r,o,i,a){var s=t.fold((function(){var e=Fq(n,i.left,i.top),t=Lq(e,r,o);return Uq(t.left,t.top)}),(function(t){var a=Kq(e,t,n,i,r,o);return a.extra.each((function(n){t.onSensor(e,n)})),a.coord}));return fW(e,s,r,o,a)},hW=function(e,t,n,r){var o=t.getTarget(e.element);if(t.repositionTarget){var i=Vi(e.element),a=$l(i),s=uH(o),l=dW(o),u=pW(e,t.snaps,l,a,s,r,n),c=Bq(u,a,s);Js(o,c)}t.onDrag(e,o,r)},mW=function(e,t){return{bounds:e.getBounds(),height:Sl(t.element),width:Nl(t.element)}},gW=function(e,t,n,r,o){var i=n.update(r,o),a=n.getStartData().getOrThunk((function(){return mW(t,e)}));i.each((function(n){hW(e,t,a,n)}))},vW=function(e,t,n,r){t.each(sW),n.snaps.each((function(t){Xq(e,t)}));var o=n.getTarget(e.element);r.reset(),n.onDrop(e,o)},yW=function(e){return function(t,n){var r=function(e){n.setStartData(mW(t,e))};return gi(m([xi(Zo(),(function(e){n.getStartData().each((function(){return r(e)}))}))],e(t,n,r)))}},bW=function(e){return gi([xi(Co(),e.forceDrop),xi(Oo(),e.drop),xi(So(),(function(t,n){e.move(n.event)})),xi(ko(),e.delayDrop)])},xW=function(e){return w.from(Tl(e.x,e.y))},wW=function(e,t){return Tl(t.left-e.left,t.top-e.top)},_W=Object.freeze({__proto__:null,getData:xW,getDelta:wW}),CW=function(e,t,n){return[xi(Co(),(function(r,o){var i=o.event.raw;if(0===i.button){o.stop();var a=function(){return vW(r,w.some(u),e,t)},s=gT(a,200),l={drop:a,delayDrop:s.schedule,forceDrop:a,move:function(n){s.cancel(),gW(r,e,t,_W,n)}},u=lW(r,e.blockerClass,bW(l)),c=function(){n(r),aW(r,u)};c()}}))]},SW=m(cW,[Hu("dragger",{handlers:yW(CW)})]),kW=function(e){return gi([xi(bo(),e.forceDrop),xi(wo(),e.drop),xi(_o(),e.drop),xi(xo(),(function(t,n){e.move(n.event)}))])},OW=function(e){var t=e[0];return w.some(Tl(t.clientX,t.clientY))},TW=function(e){var t=e.raw,n=t.touches;return 1===n.length?OW(n):w.none()},MW=function(e,t){return Tl(t.left-e.left,t.top-e.top)},DW=Object.freeze({__proto__:null,getData:TW,getDelta:MW}),IW=function(e,t,n){var r=Kn(w.none());return[xi(bo(),(function(o,i){i.stop();var a=function(){vW(o,r.get(),e,t),r.set(w.none())},s={drop:a,delayDrop:function(){},forceDrop:a,move:function(n){gW(o,e,t,DW,n)}},l=lW(o,e.blockerClass,kW(s));r.set(w.some(l));var u=function(){n(o),aW(o,l)};u()})),xi(xo(),(function(n,r){r.stop(),gW(n,e,t,DW,r.event)})),xi(wo(),(function(n,o){o.stop(),vW(n,r.get(),e,t),r.set(w.none())})),xi(_o(),(function(n){vW(n,r.get(),e,t),r.set(w.none())}))]},EW=m(cW,[Hu("dragger",{handlers:yW(IW)})]),AW=function(e,t,n){return m(CW(e,t,n),IW(e,t,n))},LW=m(cW,[Hu("dragger",{handlers:yW(AW)})]),jW=SW,NW=EW,PW=LW,RW=Object.freeze({__proto__:null,mouse:jW,touch:NW,mouseOrTouch:PW}),BW=function(){var e=w.none(),t=w.none(),n=function(){e=w.none(),t=w.none()},r=function(t,n){var r=e.map((function(e){return t.getDelta(e,n)}));return e=w.some(n),r},o=function(e,t){return e.getData(t).bind((function(t){return r(e,t)}))},a=function(e){t=w.some(e)},s=function(){return t},l=i({});return Ya({readState:l,reset:n,update:o,getStartData:s,setStartData:a})},FW=Object.freeze({__proto__:null,init:BW}),zW=$c({branchKey:"mode",branches:RW,name:"dragging",active:{events:function(e,t){var n=e.dragger;return n.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:w.from(e.extra)}}},state:FW,apis:nW}),VW=40,HW=VW/2,UW=function(e,t,n,r,o,i){return e.fold((function(){return zW.snap({sensor:Hq(n-HW,r-HW),range:Tl(o,i),output:Hq(w.some(n),w.some(r)),extra:{td:t}})}),(function(e){var o=n-HW,i=r-HW,a=VW,s=VW,l=e.element.dom.getBoundingClientRect();return zW.snap({sensor:Hq(o,i),range:Tl(a,s),output:Hq(w.some(n-l.width/2),w.some(r-l.height/2)),extra:{td:t}})}))},$W=function(e,t,n){var r=function(e,t){return e.exists((function(e){return oo(e,t)}))};return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,o){var i=o.td;r(t.get(),i)||(t.set(w.some(i)),n(i))},mustSnap:!0}},qW=function(e){return Zx(Jx.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:zc([zW.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),xD.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},WW=function(e,t){var n=Kn([]),r=Kn([]),o=Kn(!1),i=Kn(w.none()),a=Kn(w.none()),s=function(e){var n=iu(e);return UW(p.getOpt(t),e,n.x,n.y,n.width,n.height)},l=function(){return q(n.get(),(function(e){return s(e)}))},u=function(e){var n=iu(e);return UW(h.getOpt(t),e,n.right,n.bottom,n.width,n.height)},c=function(){return q(r.get(),(function(e){return u(e)}))},d=$W(l,i,(function(t){a.get().each((function(n){e.fire("TableSelectorChange",{start:t,finish:n})}))})),f=$W(c,a,(function(t){i.get().each((function(n){e.fire("TableSelectorChange",{start:n,finish:t})}))})),p=qW(d),h=qW(f),m=bl(p.asSpec()),g=bl(h.asSpec()),v=function(t,n,r,o){var i=n.dom.getBoundingClientRect();rl(t.element,"display");var a=$i(tr.fromDom(e.getBody())).dom.innerHeight,s=r(i),l=o(i,a);(s||l)&&Ks(t.element,"display","none")},y=function(e,t,n,r){var o=n(t);zW.snapTo(e,o);var i=function(e){return e[r]<0},a=function(e,t){return e[r]>t};v(e,t,i,a)},b=function(e){return y(m,e,s,"top")},x=function(){return i.get().each(b)},_=function(e){return y(g,e,u,"bottom")},C=function(){return a.get().each(_)};Gr().deviceType.isTouch()&&(e.on("TableSelectionChange",(function(e){o.get()||(Bp(t,m),Bp(t,g),o.set(!0)),i.set(w.some(e.start)),a.set(w.some(e.finish)),e.otherCells.each((function(t){n.set(t.upOrLeftCells),r.set(t.downOrRightCells),b(e.start),_(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(function(){x(),C()})),e.on("TableSelectionClear",(function(){o.get()&&(Vp(m),Vp(g),o.set(!1)),i.set(w.none()),a.set(w.none())})))};(function(e){e[e["None"]=0]="None",e[e["Both"]=1]="Both",e[e["Vertical"]=2]="Vertical"})(Gz||(Gz={}));var GW=function(e,t,n,r,o){var i={};return i.height=l$(r+t.top,rS(e),iS(e)),n===Gz.Both&&(i.width=l$(o+t.left,nS(e),oS(e))),i},YW=function(e,t,n){var r=tr.fromDom(e.getContainer()),o=GW(e,t,n,Cl(r),jl(r));Ie(o,(function(e,t){return Ks(r,t,s$(e))})),Xk(e)},KW=function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1},XW=function(e,t,n){t.delimiter||(t.delimiter="»");var r=function(r){var o=r||[],i=q(o,(function(t,r){return Jx.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:t.name},action:function(n){e.focus(),e.selection.select(t.element),e.nodeChanged()},buttonBehaviours:zc([GS.button(n.isDisabled),HS()])})})),a={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}};return J(i.slice(1),(function(e,t){var n=e;return n.push(a),n.push(t),n}),[i[0]])},o=function(t){var n=[],r=t.length;while(r-- >0){var o=t[r];if(1===o.nodeType&&!KW(o)){var i=e.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(i.isDefaultPrevented()||n.push({name:i.name,element:o}),i.isPropagationStopped())break}}return n};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:zc([db.config({mode:"flow",selector:"div[role=button]"}),KC.config({disabled:n.isDisabled}),HS(),QT.config({}),wb.config({}),Cb("elementPathEvents",[Ii((function(t,n){e.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return db.focusIn(t)})),e.on("NodeChange",(function(e){var n=o(e.parents);n.length>0?wb.set(t,r(n)):wb.set(t,[])}))}))])]),components:[]}},JW=function(e,t){var n,r=function(e,n,r){return wb.set(e,[gl(t.translate(["{0} "+r,n[r]]))])};return Jx.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:zc([GS.button(t.isDisabled),HS(),QT.config({}),wb.config({}),Yh.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Cb("wordcount-events",[Li((function(e){var t=Yh.getValue(e),n="words"===t.mode?"characters":"words";Yh.setValue(e,{mode:n,count:t.count}),r(e,t.count,n)})),Ii((function(t){e.on("wordCountUpdate",(function(e){var n=Yh.getValue(t).mode;Yh.setValue(t,{mode:n,count:e.wordCount}),r(t,e.wordCount,n)}))}))])]),eventOrder:(n={},n[Uo()]=["disabling","alloy.base.behaviour","wordcount-events"],n)})},ZW=function(e,t){var n=function(n){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize"),"aria-hidden":"true"},innerHtml:ew("resize-handle",t.icons)},behaviours:zc([zW.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,r,o){YW(e,o,n)},blockerClass:"tox-blocker"})])}},r=function(){var e=IC.translate(["Powered by {0}","Tiny"]),t='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+e+'">'+e+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:t}}},o=function(e){var t=!e.hasPlugin("autoresize"),n=e.getParam("resize",t);return!1===n?Gz.None:"both"===n?Gz.Both:Gz.Vertical},i=function(){var n=[];return e.getParam("elementpath",!0,"boolean")&&n.push(XW(e,{},t)),e.hasPlugin("wordcount")&&n.push(JW(e,t)),e.getParam("branding",!0,"boolean")&&n.push(r()),n.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]:[]},a=function(){var t=i(),r=o(e);return r!==Gz.None&&t.push(n(r)),t};return{dom:{tag:"div",classes:["tox-statusbar"]},components:a()}},QW=function(e){var t,n=e.inline,r=n?v$:i$,o=OS(e)?tU:sH,i=w.none(),a=Gr(),s=a.browser.isIE(),l=s?["tox-platform-ie"]:[],u=a.deviceType.isTouch(),c="tox-platform-touch",d=u?[c]:[],f=bS(e),h=SS(e),m=IC.isRtl()?{attributes:{dir:"rtl"}}:{},g={attributes:(t={},t[Fd]=f?wu.BottomToTop:wu.TopToBottom,t)},v=function(){return i.bind(zU.getHeader)},y=function(){return o.isDocked(v)},b=function(){Ks(J.element,"width",document.body.clientWidth+"px")},x=function(){var e=oo(qs(),h)&&"grid"===Zs(h,"display"),t={dom:p({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(l).concat(d)},m),behaviours:zc([Ap.config({useFixed:function(){return y()}})])},n={dom:{styles:{width:document.body.clientWidth+"px"}},events:gi([xi(Qo(),b)])};return Ye(t,e?n:{})},_=bl(x()),C=function(){return ge.value(_)},S=Zx({dom:{tag:"div",classes:["tox-anchorbar"]}}),k=function(){return i.bind((function(e){return S.getOpt(e)})).getOrDie("Could not find a anchor bar element")},O=function(){return i.bind((function(e){return zU.getToolbar(e)})).getOrDie("Could not find more toolbar element")},T=function(){return i.bind((function(e){return zU.getThrobber(e)})).getOrDie("Could not find throbber element")},M=sB(_,e,k),D=zU.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:M,onEscape:function(){e.focus()}}),I=mS(e),E=zU.parts.toolbar(p({dom:{tag:"div",classes:["tox-toolbar"]},getSink:C,providers:M.shared.providers,onEscape:function(){e.focus()},type:I,lazyToolbar:O,lazyHeader:function(){return v().getOrDie("Could not find header element")}},g)),A=zU.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:M.shared.providers,onEscape:function(){e.focus()},type:I}),L=zU.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),j=zU.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),N=zU.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:M}),P=e.getParam("statusbar",!0,"boolean"),R=P&&!n?w.some(ZW(e,M.shared.providers)):w.none(),B={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[L,j]},F=pS(e),z=dS(e),V=cS(e),H=function(){return F?[A]:z?[E]:[]},U=zU.parts.header({dom:p({tag:"div",classes:["tox-editor-header"]},g),components:te([V?[D]:[],H(),CS(e)?[]:[S.asSpec()]]),sticky:OS(e),editor:e,sharedBackstage:M.shared}),$=te([f?[]:[U],n?[]:[B],f?[U]:[]]),q={dom:{tag:"div",classes:["tox-editor-container"]},components:$},W=te([[q],n?[]:R.toArray(),[N]]),G=kS(e),Y=p(p({role:"application"},IC.isRtl()?{dir:"rtl"}:{}),G?{"aria-hidden":"true"}:{}),K=bl(zU.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(f?["tox-tinymce--toolbar-bottom"]:[]).concat(d).concat(l),styles:p({visibility:"hidden"},G?{opacity:"0",border:"0"}:{}),attributes:Y},components:W,behaviours:zc([HS(),KC.config({disableClass:"tox-tinymce--disabled"}),db.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}));i=w.some(K),e.shortcuts.add("alt+F9","focus menubar",(function(){zU.focusMenubar(K)})),e.shortcuts.add("alt+F10","focus toolbar",(function(){zU.focusToolbar(K)})),e.addCommand("ToggleToolbarDrawer",(function(){zU.toggleToolbarDrawer(K)})),e.addQueryStateHandler("ToggleToolbarDrawer",(function(){return zU.isToolbarDrawerToggled(K)}));var X=$T(K),J=$T(_);YV(e,X,J);var Z=function(){var e={broadcastAll:J.broadcast,broadcastOn:J.broadcastOn,register:function(){}};return{channels:e}},Q=function(){var t=s$(c$(e)),n=s$(f$(e));return e.inline||(nl("div","width",n)&&Ks(K.element,"width",n),nl("div","height",t)?Ks(K.element,"height",t):Ks(K.element,"height","200px")),t},ee=function(){o.setup(e,M.shared,v),Y$(e,M),Mq(e,C,M),hU(e),IU(e,T,M.shared),Ee(vS(e),(function(t,n){e.ui.registry.addGroupToolbarButton(n,t)}));var t=e.ui.registry.getAll(),n=t.buttons,i=t.menuItems,a=t.contextToolbars,s=t.sidebars,l=fS(e),u={menuItems:i,menus:MS(e),menubar:DS(e),toolbar:l.getOrThunk((function(){return IS(e)})),allowToolbarGroups:I===s_.floating,buttons:n,sidebar:s};GV(e,a,_,{backstage:M}),WW(e,_);var c=e.getElement(),d=Q(),f={mothership:X,uiMothership:J,outerContainer:K},p={targetNode:c,height:d};return r.render(e,f,u,M,p)};return{mothership:X,uiMothership:J,backstage:M,renderUI:ee,getUi:Z}},eG=function(e,t){var n=w.from(ma(e,"id")).fold((function(){var e=Ta("dialog-describe");return pa(t,"id",e),e}),a);pa(e,"aria-describedby",n)},tG=function(e,t){var n=ga(e,"id").fold((function(){var e=Ta("dialog-label");return pa(t,"id",e),e}),a);pa(e,"aria-labelledby",n)},nG=i([bn("lazySink"),In("dragBlockClass"),$n("getBounds",au),Bn("useTabstopAt",d),Bn("eventOrder",{}),Kh("modalBehaviours",[db]),Fu("onExecute"),Vu("onEscape")]),rG={sketch:a},oG=i([Dm({name:"draghandle",overrides:function(e,t){return{behaviours:zc([zW.config({mode:"mouse",getTarget:function(e){return pu(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),Tm({schema:[bn("dom")],name:"title"}),Tm({factory:rG,schema:[bn("dom")],name:"close"}),Tm({factory:rG,schema:[bn("dom")],name:"body"}),Dm({factory:rG,schema:[bn("dom")],name:"footer"}),Mm({factory:{sketch:function(e,t){return p(p({},e),{dom:t.dom,components:t.components})}},schema:[Bn("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Bn("components",[])],name:"blocker"})]),iG=function(e,t,n,r){pa(e.element,"aria-busy",!0);var o=t.getRoot(e).getOr(e),i=zc([db.config({mode:"special",onTab:function(){return w.some(!0)},onShiftTab:function(){return w.some(!0)}}),Ab.config({})]),a=r(o,i),s=o.getSystem().build(a);wb.append(o,xl(s)),s.hasConfigured(db)&&db.focusIn(s),n.isBlocked()||t.onBlock(e),n.blockWith((function(){return wb.remove(o,s)}))},aG=function(e,t,n){ya(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()},sG=Object.freeze({__proto__:null,block:iG,unblock:aG}),lG=[$n("getRoot",w.none),Bu("onBlock"),Bu("onUnblock")],uG=function(){var e=yV(),t=function(t){e.set({destroy:t})};return Ya({readState:e.isSet,blockWith:t,clear:e.clear,isBlocked:e.isSet})},cG=Object.freeze({__proto__:null,init:uG}),dG=Hc({fields:lG,name:"blocking",apis:sG,state:cG}),fG=function(e,t,n,r){var o,i=Kn(w.none()),a=function(t){i.set(w.some(t));var n=e.lazySink(t).getOrDie(),o=r.blocker(),a=n.getSystem().build(p(p({},o),{components:o.components.concat([xl(t)]),behaviours:zc([Ab.config({}),Cb("dialog-blocker-events",[Di(Mo(),(function(){db.focusIn(t)}))])])}));Bp(n,a),db.focusIn(t)},s=function(e){i.set(w.none()),qi(e.element).each((function(t){e.getSystem().getByDom(t).each((function(e){Vp(e)}))}))},l=function(t){return Um(t,e,"body")},u=function(t){return Um(t,e,"footer")},c=function(e,t){dG.block(e,t)},d=function(e){dG.unblock(e)},f=Ta("modal-events"),h=p(p({},e.eventOrder),(o={},o[ei()]=[f].concat(e.eventOrder["alloy.system.attached"]||[]),o));return{uid:e.uid,dom:e.dom,components:t,apis:{show:a,hide:s,getBody:l,getFooter:u,setIdle:d,setBusy:c},eventOrder:h,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Jh(e.modalBehaviours,[wb.config({}),db.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),dG.config({getRoot:i.get}),Cb(f,[Ii((function(t){tG(t.element,Um(t,e,"title").element),eG(t.element,Um(t,e,"body").element)}))])])}},pG=lg({name:"ModalDialog",configFields:nG(),partFields:oG(),factory:fG,apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),hG=Bt([_n("type"),_n("name")].concat(Q_)),mG=hn,gG=[Wt("name","name",nt((function(){return Ta("button-name")})),pn),Ln("icon"),Hn("align","end",["start","end"]),Un("primary",!1),Un("disabled",!1)],vG=m(gG,[_n("text")]),yG=m([Cn("type",["submit","cancel","custom"])],vG),bG=m([Cn("type",["menu"]),Ln("text"),Ln("tooltip"),Ln("icon"),Dn("items",hG)],gG),xG=ln("type",{submit:yG,cancel:yG,custom:yG,menu:bG}),wG=[_n("type"),_n("text"),Cn("level",["info","warn","error","success"]),_n("icon"),Bn("url","")],_G=Bt(wG),CG=function(e){return[_n("type"),e]},SG=[_n("type"),_n("text"),Un("disabled",!1),Un("primary",!1),Wt("name","name",nt((function(){return Ta("button-name")})),pn),Ln("icon"),Un("borderless",!1)],kG=Bt(SG),OG=[_n("type"),_n("name"),_n("label"),Un("disabled",!1)],TG=Bt(OG),MG=hn,DG=[_n("type"),_n("name")],IG=DG.concat([Ln("label")]),EG=IG.concat([Bn("columns","auto")]),AG=Bt(EG),LG=Xt([_n("value"),_n("text"),_n("icon")]),jG=IG,NG=Bt(jG),PG=pn,RG=IG,BG=Bt(RG),FG=pn,zG=DG.concat([Vn("tag","textarea"),_n("scriptId"),_n("scriptUrl"),qn("settings",void 0)]),VG=DG.concat([Vn("tag","textarea"),kn("init")]),HG=Qt((function(e){return nn("customeditor.old",Rt(VG),e).orThunk((function(){return nn("customeditor.new",Rt(zG),e)}))})),UG=pn,$G=IG,qG=Bt($G),WG=Jt(),GG=function(e){return[_n("type"),wn("columns"),e]},YG=[_n("type"),_n("html"),Hn("presets","presentation",["presentation","document"])],KG=Bt(YG),XG=IG.concat([Un("sandboxed",!0)]),JG=Bt(XG),ZG=pn,QG=IG.concat([xn("currentState",Bt([bn("blob"),_n("url")]))]),eY=Bt(QG),tY=IG.concat([Ln("inputMode"),Ln("placeholder"),Un("maximized",!1),Un("disabled",!1)]),nY=Bt(tY),rY=pn,oY=function(e){return[_n("type"),_n("label"),e]},iY=[_n("text"),_n("value")],aY=[_n("text"),Dn("items",un("items",(function(){return sY})))],sY=zt([Bt(iY),Bt(aY)]),lY=IG.concat([Dn("items",sY),Un("disabled",!1)]),uY=Bt(lY),cY=pn,dY=IG.concat([Mn("items",[_n("text"),_n("value")]),zn("size",1),Un("disabled",!1)]),fY=Bt(dY),pY=pn,hY=IG.concat([Un("constrain",!0),Un("disabled",!1)]),mY=Bt(hY),gY=Bt([_n("width"),_n("height")]),vY=[_n("type"),Dn("header",pn),Dn("cells",Ft(pn))],yY=Bt(vY),bY=IG.concat([Ln("placeholder"),Un("maximized",!1),Un("disabled",!1)]),xY=Bt(bY),wY=pn,_Y=IG.concat([Hn("filetype","file",["image","media","file"]),Bn("disabled",!1)]),CY=Bt(_Y),SY=Bt([_n("value"),Bn("meta",{})]),kY=function(e){return Wt("items","items",et(),Ft(Qt((function(t){return nn("Checking item of "+e,OY,t).fold((function(e){return ge.error(an(e))}),(function(e){return ge.value(e)}))}))))},OY=Zt((function(){return sn("type",{alertbanner:_G,bar:Bt(CG(kY("bar"))),button:kG,checkbox:TG,colorinput:NG,colorpicker:BG,dropzone:qG,grid:Bt(GG(kY("grid"))),iframe:JG,input:nY,listbox:uY,selectbox:fY,sizeinput:mY,textarea:xY,urlinput:CY,customeditor:HG,htmlpanel:KG,imagetools:eY,collection:AG,label:Bt(oY(kY("label"))),table:yY,panel:MY})})),TY=[_n("type"),Bn("classes",[]),Dn("items",OY)],MY=Bt(TY),DY=[Wt("name","name",nt((function(){return Ta("tab-name")})),pn),_n("title"),Dn("items",OY)],IY=[_n("type"),Mn("tabs",DY)],EY=Bt(IY),AY=vG,LY=xG,jY=Bt([_n("title"),xn("body",sn("type",{panel:MY,tabpanel:EY})),Vn("size","normal"),Dn("buttons",LY),Bn("initialData",{}),$n("onAction",t),$n("onChange",t),$n("onSubmit",t),$n("onClose",t),$n("onCancel",t),Bn("onTabChange",t)]),NY=function(e){return nn("dialog",jY,e)},PY=Bt(m([Cn("type",["cancel","custom"])],AY)),RY=Bt([_n("title"),_n("url"),An("height"),An("width"),Nn("buttons",PY),$n("onAction",t),$n("onCancel",t),$n("onClose",t),$n("onMessage",t)]),BY=function(e){return nn("dialog",RY,e)},FY=function(e){return T(e)?[e].concat(ne(Be(e),FY)):M(e)?ne(e,FY):[]},zY=function(e){return O(e.type)&&O(e.name)},VY={checkbox:MG,colorinput:PG,colorpicker:FG,dropzone:WG,input:rY,iframe:ZG,sizeinput:gY,selectbox:pY,listbox:cY,size:gY,textarea:wY,urlinput:SY,customeditor:UG,collection:LG,togglemenuitem:mG},HY=function(e){return w.from(VY[e.type])},UY=function(e){return K(FY(e),zY)},$Y=function(e){var t=UY(e),n=ne(t,(function(e){return HY(e).fold((function(){return[]}),(function(t){return[xn(e.name,t)]}))}));return Bt(n)},qY=function(e){var t=rn(NY(e)),n=$Y(e),r=e.initialData;return{internalDialog:t,dataValidator:n,initialData:r}},WY={open:function(e,t){var n=qY(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){var n=rn(BY(t));return e(n)},redial:function(e){return qY(e)}},GY=function(e){var t=[],n={};return Ie(e,(function(e,r){e.fold((function(){t.push(r)}),(function(e){n[r]=e}))})),t.length>0?ge.error(t):ge.value(n)},YY=function(e,t){var n=Zx(mA.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:q(e.items,(function(e){return qP(n,e,t)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:zc([db.config({mode:"acyclic",useTabstopAt:l(QA)}),OA.memento(n),HA.memento(n,{postprocess:function(e){return GY(e).fold((function(e){return{}}),(function(e){return e}))}})])}},KY=function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:Qb(e.action),behaviours:Jh(e.tabButtonBehaviours,[Ab.config({}),db.config({mode:"execution",useSpace:!0,useEnter:!0}),Yh.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}},XY=sg({name:"TabButton",configFields:[Bn("uid",void 0),bn("value"),Wt("dom","dom",rt((function(){return{attributes:{role:"tab",id:Ta("aria"),"aria-selected":"false"}}})),cn()),In("action"),Bn("domModification",{}),Kh("tabButtonBehaviours",[Ab,db,Yh]),bn("view")],factory:KY}),JY=i([bn("tabs"),bn("dom"),Bn("clickToDismiss",!1),Kh("tabbarBehaviours",[Fg,db]),Pu(["tabClass","selectedClass"])]),ZY=Im({factory:XY,name:"tabs",unit:"tab",overrides:function(e){var n=function(e,t){Fg.dehighlight(e,t),di(e,si(),{tabbar:e,button:t})},r=function(e,t){Fg.highlight(e,t),di(e,ai(),{tabbar:e,button:t})};return{action:function(o){var i=o.getSystem().getByUid(e.uid).getOrDie(),a=Fg.isHighlighted(i,o),s=function(){return a&&e.clickToDismiss?n:a?t:r}();s(i,o)},domModification:{classes:[e.markers.tabClass]}}}}),QY=i([ZY]),eK=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Jh(e.tabbarBehaviours,[Fg.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){pa(t.element,"aria-selected","true")},onDehighlight:function(e,t){pa(t.element,"aria-selected","false")}}),db.config({mode:"flow",getInitial:function(e){return Fg.getHighlighted(e).map((function(e){return e.element}))},selector:"."+e.markers.tabClass,executeOnMove:!0})])}},tK=lg({name:"Tabbar",configFields:JY(),partFields:QY(),factory:eK}),nK=function(e,t){return{uid:e.uid,dom:e.dom,behaviours:Jh(e.tabviewBehaviours,[wb.config({})]),domModification:{attributes:{role:"tabpanel"}}}},rK=sg({name:"Tabview",configFields:[Kh("tabviewBehaviours",[wb])],factory:nK}),oK=i([Bn("selectFirst",!0),Bu("onChangeTab"),Bu("onDismissTab"),Bn("tabs",[]),Kh("tabSectionBehaviours",[])]),iK=Tm({factory:tK,schema:[bn("dom"),Tn("markers",[bn("tabClass"),bn("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),aK=Tm({factory:rK,name:"tabview"}),sK=i([iK,aK]),lK=function(e,t,n,r){var o=function(t){var n=Yh.getValue(t);Hm(t,e,"tabview").each((function(r){var o=Q(e.tabs,(function(e){return e.value===n}));o.each((function(n){var o=n.view();ga(t.element,"id").each((function(e){pa(r.element,"aria-labelledby",e)})),wb.set(r,o),e.onChangeTab(r,t,o)}))}))},i=function(t,n){Hm(t,e,"tabbar").each((function(e){n(e).each(fi)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:Xh(e.tabSectionBehaviours),events:gi(te([e.selectFirst?[Ii((function(e,t){i(e,Fg.getFirst)}))]:[],[xi(ai(),(function(e,t){var n=t.event.button;o(n)})),xi(si(),(function(t,n){var r=n.event.button;e.onDismissTab(t,r)}))]])),apis:{getViewItems:function(t){return Hm(t,e,"tabview").map((function(e){return wb.contents(e)})).getOr([])},showTab:function(e,t){var n=function(e){var n=Fg.getCandidates(e),r=Q(n,(function(e){return Yh.getValue(e)===t}));return r.filter((function(t){return!Fg.isHighlighted(e,t)}))};i(e,n)}}}},uK=lg({name:"TabSection",configFields:oK(),partFields:sK(),factory:lK,apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}}),cK=function(e,t,n){return q(e,(function(r,o){wb.set(n,e[o].view());var i=t.dom.getBoundingClientRect();return wb.set(n,[]),i.height}))},dK=function(e){return ue(se(e,(function(e,t){return e>t?-1:e<t?1:0})))},fK=function(e,t,n){var r,o=Ui(e).dom,i=pu(e,".tox-dialog-wrap").getOr(e),a="fixed"===Zs(i,"position");r=a?Math.max(o.clientHeight,window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);var s=Cl(t),l=t.dom.offsetLeft>=n.dom.offsetLeft+jl(n),u=l?Math.max(Cl(n),s):s,c=parseInt(Zs(e,"margin-top"),10)||0,d=parseInt(Zs(e,"margin-bottom"),10)||0,f=Cl(e)+c+d,p=f-u;return r-p},pK=function(e,t){ue(e).each((function(e){return uK.showTab(t,e.value)}))},hK=function(e,t){Ks(e,"height",t+"px"),Gr().browser.isIE()?rl(e,"flex-basis"):Ks(e,"flex-basis",t+"px")},mK=function(e,t,n){pu(e,'[role="dialog"]').each((function(e){hu(e,'[role="tablist"]').each((function(r){n.get().map((function(n){return Ks(t,"height","0"),Ks(t,"flex-basis","0"),Math.min(n,fK(e,t,r))})).each((function(e){hK(t,e)}))}))}))},gK=function(e){return hu(e,'[role="tabpanel"]')},vK=function(e){var t=function(){var t=Kn(w.none()),n=[Ii((function(n){var r=n.element;gK(r).each((function(o){Ks(o,"visibility","hidden"),n.getSystem().getByDom(o).toOptional().each((function(n){var r=cK(e,o,n),i=dK(r);t.set(i)})),mK(r,o,t),rl(o,"visibility"),pK(e,n),Kx.requestAnimationFrame((function(){mK(r,o,t)}))}))})),xi(Qo(),(function(e){var n=e.element;gK(n).each((function(e){mK(n,e,t)}))})),xi(mM,(function(e,n){var r=e.element;gK(r).each((function(e){var n=Qc();Ks(e,"visibility","hidden");var o=el(e,"height").map((function(e){return parseInt(e,10)}));rl(e,"height"),rl(e,"flex-basis");var i=e.dom.getBoundingClientRect().height,a=o.forall((function(e){return i>e}));a?(t.set(w.from(i)),mK(r,e,t)):o.each((function(t){hK(e,t)})),rl(e,"visibility"),n.each(Xc)}))}))],r=!1;return{extraEvents:n,selectFirst:r}}(),n=function(){var e=[],t=!0;return{extraEvents:e,selectFirst:t}}();return{smartTabHeight:t,naiveTabHeight:n}},yK="send-data-to-section",bK="send-data-to-view",xK=function(e,t){var n=Kn({}),r=function(e){var t=Yh.getValue(e),r=GY(t).getOr({}),o=n.get(),i=Ye(o,r);n.set(i)},o=function(e){var t=n.get();Yh.setValue(e,t)},i=Kn(null),a=q(e.tabs,(function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[mA.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:q(e.items,(function(e){return qP(n,e,t)})),formBehaviours:zc([db.config({mode:"acyclic",useTabstopAt:l(QA)}),Cb("TabView.form.events",[Ii(o),Ei(r)]),Wc.config({channels:ct([{key:yK,value:{onReceive:r}},{key:bK,value:{onReceive:o}}])})])}}))]}}})),s=vK(a).smartTabHeight;return uK.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var r=Yh.getValue(t);di(e,hM,{name:r,oldName:i.get()}),i.set(r)},tabs:a,components:[uK.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[tK.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:zc([QT.config({})])}),uK.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:s.selectFirst,tabSectionBehaviours:zc([Cb("tabpanel",s.extraEvents),db.config({mode:"acyclic"}),bg.config({find:function(e){return ue(uK.getViewItems(e))}}),Yh.config({store:{mode:"manual",getValue:function(e){return e.getSystem().broadcastOn([yK],{}),n.get()},setValue:function(e,t){n.set(t),e.getSystem().broadcastOn([bK],{})}}})])})},wK=Ta("update-dialog"),_K=Ta("update-title"),CK=Ta("update-body"),SK=Ta("update-footer"),kK=Ta("body-send-message"),OK=function(e,t,n,r){var o=function(e){switch(e.body.type){case"tabpanel":return[xK(e.body,n)];default:return[YY(e.body,n)]}},i=function(e,t){return w.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},a={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:p(p({},t.map((function(e){return{id:e}})).getOr({})),r?a:{})},components:[],behaviours:zc([OA.childAt(0),XF.config({channel:CK,updateState:i,renderComponents:o,initialData:e})])}},TK=function(e,t,n,r){return OK(e,w.some(t),n,r)},MK=function(e,t){var n=OK(e,w.none(),t,!1);return pG.parts.body(n)},DK=function(e){var t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[XA({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:zc([QT.config({}),Ab.config({})])})]}],behaviours:zc([db.config({mode:"acyclic",useTabstopAt:l(QA)})])};return pG.parts.body(t)},IK=nk.deviceType.isTouch(),EK=function(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}},AK=function(e,t){return pG.parts.close(Jx.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:zc([QT.config({})])}))},LK=function(){return pG.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},jK=function(e,t){return pG.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:OU("<p>"+t.translate(e)+"</p>")}]}]})},NK=function(e){return pG.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})},PK=function(e,t){return[UT.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),UT.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]},RK=function(e){var t,n="tox-dialog",r=n+"-wrap",o=r+"__backdrop",i=n+"__disable-scroll";return pG.sketch({lazySink:e.lazySink,onEscape:function(t){return e.onEscape(t),w.some(!0)},useTabstopAt:function(e){return!QA(e)},dom:{tag:"div",classes:[n].concat(e.extraClasses),styles:p({position:"relative"},e.extraStyles)},components:m([e.header,e.body],e.footer.toArray()),parts:{blocker:{dom:OU('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:IK?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:zc(m([Ab.config({}),Cb("dialog-events",e.dialogEvents.concat([Di(Mo(),(function(e,t){db.focusIn(e)}))])),Cb("scroll-lock",[Ii((function(){Ts(qs(),i)})),Ei((function(){Ds(qs(),i)}))])],e.extraBehaviours)),eventOrder:p((t={},t[Uo()]=["dialog-events"],t[ei()]=["scroll-lock","dialog-events","alloy.base.behaviour"],t[ti()]=["alloy.base.behaviour","dialog-events","scroll-lock"],t),e.eventOrder)})},BK=function(e){return Jx.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:ew("close",e.icons)}}],action:function(e){ci(e,uM)}})},FK=function(e,t,n){var r=function(e){return[gl(n.translate(e.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:p({},t.map((function(e){return{id:e}})).getOr({}))},components:r(e),behaviours:zc([XF.config({channel:_K,renderComponents:r})])}},zK=function(){return{dom:OU('<div class="tox-dialog__draghandle"></div>')}},VK=function(e,t,n){return UT.sketch({dom:OU('<div class="tox-dialog__header"></div>'),components:[FK(e,w.some(t),n),zK(),BK(n)],containerBehaviours:zc([zW.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return mu(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},HK=function(e,t){var n=pG.parts.title(FK(e,w.none(),t)),r=pG.parts.draghandle(zK()),o=pG.parts.close(BK(t)),i=[n].concat(e.draggable?[r]:[]).concat([o]);return UT.sketch({dom:OU('<div class="tox-dialog__header"></div>'),components:i})},UK=function(e,t){return HK({title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},t.shared.providers)},$K=function(e,t){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":e},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:OU('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},qK=function(e,t){return{onClose:function(){return t.closeWindow()},onBlock:function(t){pG.setBusy(e(),(function(e,n){return $K(t.message,n)}))},onUnblock:function(){pG.setIdle(e())}}},WK=function(e,t,n,r){var o,i=function(e,t){return w.some(t)};return bl(RK(p(p({},e),{lazySink:r.shared.getSink,extraBehaviours:m([XF.config({channel:wK,updateState:i,initialData:t}),HA.memory({})],e.extraBehaviours),onEscape:function(e){ci(e,uM)},dialogEvents:n,eventOrder:(o={},o[Ho()]=[XF.name(),Wc.name()],o[ei()]=["scroll-lock",XF.name(),"messages","dialog-events","alloy.base.behaviour"],o[ti()]=["alloy.base.behaviour","dialog-events","messages",XF.name(),"scroll-lock"],o)})))},GK=function(e){var t=function(e){var t=q(e.items,(function(e){var t=Kn(!1);return p(p({},e),{storage:t})}));return p(p({},e),{items:t})};return q(e,(function(e){return"menu"===e.type?t(e):e}))},YK=function(e){return J(e,(function(e,t){if("menu"===t.type){var n=t;return J(n.items,(function(e,t){return e[t.name]=t.storage,e}),e)}return e}),{})},KK=function(e,t){return[Oi(Mo(),ZA),e(lM,(function(e,n){t.onClose(),n.onClose()})),e(uM,(function(e,t,n,r){t.onCancel(e),ci(r,lM)})),xi(pM,(function(e,n){return t.onUnblock()})),xi(fM,(function(e,n){return t.onBlock(n.event)}))]},XK=function(e,t){var n=function(t,n){return xi(t,(function(t,o){r(t,(function(r,i){n(e(),r,o.event,t)}))}))},r=function(e,t){XF.getState(e).get().each((function(n){t(n,e)}))};return m(KK(n,t),[n(cM,(function(e,t,n){t.onAction(e,{name:n.name})}))])},JK=function(e,t,n){var r=function(t,n){return xi(t,(function(t,r){o(t,(function(o,i){n(e(),o,r.event,t)}))}))},o=function(e,t){XF.getState(e).get().each((function(n){t(n.internalDialog,e)}))};return m(KK(r,t),[r(dM,(function(e,t){return t.onSubmit(e)})),r(sM,(function(e,t,n){t.onChange(e,{name:n.name})})),r(cM,(function(e,t,r,o){var i=function(){return db.focusIn(o)},a=function(e){return va(e,"disabled")||ga(e,"aria-disabled").exists((function(e){return"true"===e}))},s=Rs(o.element),l=Qc(s);t.onAction(e,{name:r.name,value:r.value}),Qc(s).fold(i,(function(e){a(e)||l.exists((function(t){return so(e,t)&&a(t)}))?i():n().toOptional().filter((function(t){return!so(t.element,e)})).each(i)}))})),r(hM,(function(e,t,n){t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),Ei((function(t){var n=e();Yh.setValue(t,n.getData())}))])},ZK={initUrlDialog:XK,initDialog:JK},QK=function(e,t){return Vj(e,e.type,t)},eX=function(e,t,n){return Q(t,(function(e){return e.name===n})).bind((function(t){return t.memento.getOpt(e)}))},tX=function(e,t){var n=t.map((function(e){return e.footerButtons})).getOr([]),r=Y(n,(function(e){return"start"===e.align})),o=function(e,t){return UT.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:q(t,(function(e){return e.memento.asSpec()}))})},i=o("start",r.pass),a=o("end",r.fail);return[i,a]},nX=function(e,t){var n=function(e,n){var r=q(n.buttons,(function(e){var n=Zx(QK(e,t));return{name:e.name,align:e.align,memento:n}})),o=function(e,t){return eX(e,r,t)};return w.some({lookupByName:o,footerButtons:r})};return{dom:OU('<div class="tox-dialog__footer"></div>'),components:[],behaviours:zc([XF.config({channel:SK,initialData:e,updateState:n,renderComponents:tX})])}},rX=function(e,t){return nX(e,t)},oX=function(e,t){return pG.parts.footer(nX(e,t))},iX=function(e,t){var n=e.getRoot();if(n.getSystem().isConnected()){var r=bg.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return mA.getField(r,t).fold((function(){var n=e.getFooter(),o=XF.getState(n);return o.get().bind((function(e){return e.lookupByName(r,t)}))}),(function(e){return w.some(e)}))}return w.none()},aX=function(e,t){var n=e.getRoot();return XF.getState(n).get().map((function(e){return rn(nn("data",e.dataValidator,t))})).getOr(t)},sX=function(e,t,n){var r=function(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)},o=function(){var t=e.getRoot(),r=t.getSystem().isConnected()?e.getFormWrapper():t,o=Yh.getValue(r),i=Ee(n,(function(e){return e.get()}));return p(p({},o),i)},i=function(t){r((function(r){var o=m.getData(),i=p(p({},o),t),a=aX(e,i),s=e.getFormWrapper();Yh.setValue(s,a),Ie(n,(function(e,t){ze(i,t)&&e.set(i[t])}))}))},a=function(t){iX(e,t).each(KC.disable)},s=function(t){iX(e,t).each(KC.enable)},l=function(t){iX(e,t).each(Ab.focus)},u=function(e){if(!O(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r((function(t){di(t,fM,{message:e})}))},c=function(){r((function(e){ci(e,pM)}))},d=function(t){r((function(n){var r=e.getBody(),o=XF.getState(r);o.get().exists((function(e){return e.isTabPanel()}))&&bg.getCurrent(r).each((function(e){uK.showTab(e,t)}))}))},f=function(e){r((function(n){var r=t(e);n.getSystem().broadcastOn([wK],r),n.getSystem().broadcastOn([_K],r.internalDialog),n.getSystem().broadcastOn([CK],r.internalDialog),n.getSystem().broadcastOn([SK],r.internalDialog),m.setData(r.initialData)}))},h=function(){r((function(e){ci(e,lM)}))},m={getData:o,setData:i,disable:a,enable:s,focus:l,block:u,unblock:c,showTab:d,redial:f,close:h};return m},lX=function(e){switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},uX=function(e,t,n){var r=UK(e.internalDialog.title,n),o=MK({body:e.internalDialog.body},n),i=GK(e.internalDialog.buttons),a=YK(i),s=oX({buttons:i},n),l=ZK.initDialog((function(){return p}),qK((function(){return d}),t),n.shared.getSink),u=lX(e.internalDialog.size),c={header:r,body:o,footer:w.some(s),extraClasses:u,extraBehaviours:[],extraStyles:{}},d=WK(c,e,l,n),f=function(){var e=function(){var e=pG.getBody(d);return bg.getCurrent(e).getOr(e)};return{getRoot:function(){return d},getBody:function(){return pG.getBody(d)},getFooter:function(){return pG.getFooter(d)},getFormWrapper:e}}(),p=sX(f,t.redial,a);return{dialog:d,instanceApi:p}},cX=function(e,t,n,r){var o,i,a=Ta("dialog-label"),s=Ta("dialog-content"),l=function(e,t){return w.some(t)},u=Zx(VK({title:e.internalDialog.title,draggable:!0},a,n.shared.providers)),c=Zx(TK({body:e.internalDialog.body},s,n,r)),d=GK(e.internalDialog.buttons),f=YK(d),p=Zx(rX({buttons:d},n)),h=ZK.initDialog((function(){return g}),{onBlock:function(e){dG.block(m,(function(t,n){return $K(e.message,n)}))},onUnblock:function(){dG.unblock(m)},onClose:function(){return t.closeWindow()}},n.shared.getSink),m=bl({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=a,o["aria-describedby"]=""+s,o)},eventOrder:(i={},i[Ho()]=[XF.name(),Wc.name()],i[Uo()]=["execute-on-form"],i[ei()]=["reflecting","execute-on-form"],i),behaviours:zc([db.config({mode:"cyclic",onEscape:function(e){return ci(e,lM),w.some(!0)},useTabstopAt:function(e){return!QA(e)&&("button"!==ji(e)||"disabled"!==ma(e,"disabled"))}}),XF.config({channel:wK,updateState:l,initialData:e}),Ab.config({}),Cb("execute-on-form",h.concat([Di(Mo(),(function(e,t){db.focusIn(e)}))])),dG.config({getRoot:function(){return w.some(m)}}),wb.config({}),HA.memory({})]),components:[u.asSpec(),c.asSpec(),p.asSpec()]}),g=sX({getRoot:function(){return m},getFooter:function(){return p.get(m)},getBody:function(){return c.get(m)},getFormWrapper:function(){var e=c.get(m);return bg.getCurrent(e).getOr(e)}},t.redial,f);return{dialog:m,instanceApi:g}},dX=tinymce.util.Tools.resolve("tinymce.util.URI"),fX=function(e){var t=function(t){e.getSystem().isConnected()&&t(e)},n=function(e){if(!O(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((function(t){di(t,fM,{message:e})}))},r=function(){t((function(e){ci(e,pM)}))},o=function(){t((function(e){ci(e,lM)}))},i=function(e){t((function(t){t.getSystem().broadcastOn([kK],e)}))};return{block:n,unblock:r,close:o,sendMessage:i}},pX=["insertContent","setContent","execCommand","close","block","unblock"],hX=function(e){return T(e)&&-1!==pX.indexOf(e.mceAction)},mX=function(e){return!hX(e)&&T(e)&&ze(e,"mceAction")},gX=function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var r=!!D(n.ui)&&n.ui;e.execCommand(n.cmd,r,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock();break}},vX=function(e,t,n,r){var o,i=UK(e.title,r),a=DK(e),s=e.buttons.bind((function(e){return 0===e.length?w.none():w.some(oX({buttons:e},r))})),l=ZK.initUrlDialog((function(){return y}),qK((function(){return v}),t)),u=p(p({},e.height.fold((function(){return{}}),(function(e){return{height:e+"px","max-height":e+"px"}}))),e.width.fold((function(){return{}}),(function(e){return{width:e+"px","max-width":e+"px"}}))),c=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],d=new dX(e.url,{base_uri:new dX(window.location.href)}),f=d.protocol+"://"+d.host+(d.port?":"+d.port:""),h=Kn(w.none()),m=[Cb("messages",[Ii((function(){var t=fT(tr.fromDom(window),"message",(function(t){if(d.isSameOrigin(new dX(t.raw.origin))){var r=t.raw.data;hX(r)?gX(n,y,r):mX(r)&&e.onMessage(y,r)}}));h.set(w.some(t))})),Ei((function(){h.get().each((function(e){return e.unbind()}))}))]),Wc.config({channels:(o={},o[kK]={onReceive:function(e,t){hu(e.element,"iframe").each((function(e){var n=e.dom.contentWindow;n.postMessage(t,f)}))}},o)})],g={header:i,body:a,footer:s,extraClasses:c,extraBehaviours:m,extraStyles:u},v=WK(g,e,l,r),y=fX(v);return{dialog:v,instanceApi:y}},yX=function(e){var t=e.backstage.shared,n=function(n,r){var o=function(){pG.hide(l),r()},i=Zx(Vj({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:w.none()},"cancel",e.backstage)),a=LK(),s=AK(o,t.providers),l=bl(RK({lazySink:function(){return t.getSink()},header:EK(a,s),body:jK(n,t.providers),footer:w.some(NK(PK([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xi(uM,o)],eventOrder:{}}));pG.show(l);var u=i.get(l);Ab.focus(u)};return{open:n}},bX=function(e){var t=e.backstage.shared,n=function(n,r){var o=function(e){pG.hide(u),r(e)},i=Zx(Vj({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:w.none()},"submit",e.backstage)),a=Vj({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:w.none()},"cancel",e.backstage),s=LK(),l=AK((function(){return o(!1)}),t.providers),u=bl(RK({lazySink:function(){return t.getSink()},header:EK(s,l),body:jK(n,t.providers),footer:w.some(NK(PK([],[a,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[xi(uM,(function(){return o(!1)})),xi(dM,(function(){return o(!0)}))],eventOrder:{}}));pG.show(u);var c=i.get(u);Ab.focus(c)};return{open:n}},xX=function(e,t){return rn(nn("data",t,e))},wX=function(e){return mT(e,".tox-alert-dialog")||mT(e,".tox-confirm-dialog")},_X=function(e,t,n){return t&&n?[]:[zH.config({contextual:{lazyContext:function(){return w.some(ou(tr.fromDom(e.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},CX=function(e){var t=e.backstage,n=e.editor,r=OS(n),o=yX(e),i=bX(e),a=function(e,n,r){return void 0!==n&&"toolbar"===n.inline?c(e,t.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?c(e,t.shared.anchors.cursor(),r,n.ariaAttrs):u(e,r)},s=function(e,t){return l(e,t)},l=function(e,r){var o=function(e){var o=vX(e,{closeWindow:function(){pG.hide(o.dialog),r(o.instanceApi)}},n,t);return pG.show(o.dialog),o.instanceApi};return WY.openUrl(o,e)},u=function(e,n){var r=function(e,r,o){var i=r,a={dataValidator:o,initialData:i,internalDialog:e},s=uX(a,{redial:WY.redial,closeWindow:function(){pG.hide(s.dialog),n(s.instanceApi)}},t);return pG.show(s.dialog),s.instanceApi.setData(i),s.instanceApi};return WY.open(r,e)},c=function(e,o,i,a){var s=function(e,s,l){var u=xX(s,l),c=xV(),d=t.shared.header.isPositionedAtTop(),f={dataValidator:l,initialData:u,internalDialog:e},h=function(){return c.on((function(e){Rx.reposition(e),zH.refresh(e)}))},g=cX(f,{redial:WY.redial,closeWindow:function(){c.on(Rx.hide),n.off("ResizeEditor",h),c.clear(),i(g.instanceApi)}},t,a),v=bl(Rx.sketch(p(p({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},d?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:zc(m([Cb("window-manager-inline-events",[xi(ni(),(function(e,t){ci(g.dialog,uM)}))])],_X(n,r,d))),isExtraPart:function(e,t){return wX(t)}})));return c.set(v),Rx.showWithin(v,o,xl(g.dialog),w.some(qs())),r&&d||(zH.refresh(v),n.on("ResizeEditor",h)),g.instanceApi.setData(u),db.focusIn(g.dialog),g.instanceApi};return WY.open(s,e)},d=function(e,t){i.open(e,(function(e){t(e)}))},f=function(e,t){o.open(e,(function(){t()}))},h=function(e){e.close()};return{open:a,openUrl:s,alert:f,close:h,confirm:d}};function SX(){f.add("silver",(function(e){var t=QW(e),n=t.uiMothership,r=t.backstage,o=t.renderUI,a=t.getUi;cT.register(e,r.shared);var s=CX({editor:e,backstage:r});return{renderUI:o,getWindowManagerImpl:i(s),getNotificationManagerImpl:function(){return aw(e,{backstage:r},n)},ui:a()}}))}SX()})()}).call(this,n("2409"))},8268:function(e,t,n){},"82b1":function(e,t,n){"use strict";n("ce82")},"82ef":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-form",{staticStyle:{"max-width":"500px",margin:"40px auto 0"}},[n("a-form-item",{attrs:{label:"付款账户",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-select",{attrs:{value:"1",placeholder:"ant-design@alipay.com"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("ant-design@alipay.com")])],1)],1),n("a-form-item",{attrs:{label:"收款账户",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-input-group",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{compact:!0}},[n("a-select",{staticStyle:{width:"100px"},attrs:{defaultValue:"alipay"}},[n("a-select-option",{attrs:{value:"alipay"}},[e._v("支付宝")]),n("a-select-option",{attrs:{value:"wexinpay"}},[e._v("微信")])],1),n("a-input",{style:{width:"calc(100% - 100px)"},attrs:{value:"test@example.com"}})],1)],1),n("a-form-item",{attrs:{label:"收款人姓名",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-input",{attrs:{value:"Alex"}})],1),n("a-form-item",{attrs:{label:"转账金额",labelCol:{span:5},wrapperCol:{span:19}}},[n("a-input",{attrs:{prefix:"￥",value:"5000"}})],1),n("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[n("a-button",{attrs:{type:"primary"},on:{click:e.nextStep}},[e._v("下一步")])],1)],1)],1)},o=[],i={name:"Step1",methods:{nextStep:function(){this.$emit("nextStep")}}},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,"1745cd50",null);t["default"]=l.exports},8343:function(e,t,n){"use strict";n("488a")},8359:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"登录平台"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["platform",e.validatorRules.platform],expression:"['platform', validatorRules.platform ]"}],attrs:{placeholder:"请输入登录平台"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"app"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["appcode",e.validatorRules.appcode],expression:"['appcode', validatorRules.appcode ]"}],attrs:{placeholder:"请输入app"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"手机号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",e.validatorRules.mobile],expression:"['mobile', validatorRules.mobile ]"}],attrs:{placeholder:"请输入手机号"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"token"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["token",{}],expression:"['token', {}]"}],attrs:{placeholder:"请输入token"}})],1)],1)],1)],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=(n("caaf"),{name:"AppRegisterModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{platform:{rules:[{required:!0,message:"请输入登录平台!"}]},appcode:{rules:[{required:!0,message:"请输入app!"}]},mobile:{rules:[{required:!0,message:"请输入手机号!"}]}},url:{add:"/message/appRegister/add",edit:"/message/appRegister/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"platform","appcode","mobile","token"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}}),u=l,c=n("5d22"),d=Object(c["a"])(u,r,o,!1,null,"7e84ee21",null);t["default"]=d.exports},8390:function(e,t,n){"use strict";n("4af8")},8428:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单号"}},[n("a-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.queryParam.orderCode,callback:function(t){e.$set(e.queryParam,"orderCode",t)},expression:"queryParam.orderCode"}})],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单类型"}},[n("a-select",{attrs:{placeholder:"请输入订单类型"},model:{value:e.queryParam.ctype,callback:function(t){e.$set(e.queryParam,"ctype",t)},expression:"queryParam.ctype"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:!1,expandedRowKeys:e.expandedRowKeys,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange,expand:e.handleExpand},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)}},{key:"expandedRowRender",fn:function(t){return n("a-table",{attrs:{columns:e.innerColumns,dataSource:e.innerData,size:"middle",bordered:"",rowKey:"id",pagination:!1,loading:e.loading}})}}])})],1),n("jeecgOrderDMain-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("0fea"),a=n("dd9d"),s=n("b65a"),l={name:"TableDemo",mixins:[s["a"]],components:{JeecgOrderDMainModal:a["default"]},data:function(){return{innerColumns:[{title:"客户名",align:"center",width:100,dataIndex:"name",key:"name"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return 1==e?"男":2==e?"女":e}},{title:"身份证号码",align:"center",dataIndex:"idcard"},{title:"电话",dataIndex:"telphone",align:"center"}],innerData:[],expandedRowKeys:[],id:" ",description:"列表展开子表Demo",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"订单号",align:"center",dataIndex:"orderCode"},{title:"订单类型",align:"center",dataIndex:"ctype",customRender:function(e){var t="";return"1"===e?t="国内订单":"2"===e&&(t="国际订单"),t}},{title:"订单日期",align:"center",dataIndex:"orderDate"},{title:"订单金额",align:"center",dataIndex:"orderMoney"},{title:"订单备注",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],type:"radio",url:{list:"/test/order/orderList",delete:"/test/order/delete",deleteBatch:"/test/order/deleteBatch",customerListByMainId:"/test/order/listOrderCustomerByMainId"}}},computed:{currentId:function(){return this.id}},methods:{handleExpand:function(e,t){var n=this;this.expandedRowKeys=[],this.innerData=[],!0===e&&(this.loading=!0,this.expandedRowKeys.push(t.id),Object(i["c"])(this.url.customerListByMainId,{mainId:t.id}).then((function(e){e.success&&(n.loading=!1,n.innerData=e.result)})))}}},u=l,c=(n("b334"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"159dd516",null);t["default"]=d.exports},"84a7":function(e,t,n){"use strict";n("9e65")},8500:function(e,t,n){"use strict";n("1d20")},8519:function(e,t,n){"use strict";n("8268")},8552:function(e,t,n){},8559:function(e,t,n){"use strict";n("f937")},"85ee":function(e,t,n){(function(t){var n=1/0,r=9007199254740991,o="[object Arguments]",i="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",l="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=l||u||Function("return this")();function d(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function f(e,t){var n=-1,r=e?e.length:0,o=Array(r);while(++n<r)o[n]=t(e[n],n,e);return o}function p(e,t){var n=-1,r=t.length,o=e.length;while(++n<r)e[o+n]=t[n];return e}var h=Object.prototype,m=h.hasOwnProperty,g=h.toString,v=c.Symbol,y=h.propertyIsEnumerable,b=v?v.isConcatSpreadable:void 0,x=Math.max;function w(e,t,n,r,o){var i=-1,a=e.length;n||(n=k),o||(o=[]);while(++i<a){var s=e[i];t>0&&n(s)?t>1?w(s,t-1,n,r,o):p(o,s):r||(o[o.length]=s)}return o}function _(e,t){return e=Object(e),C(e,t,(function(t,n){return n in e}))}function C(e,t,n){var r=-1,o=t.length,i={};while(++r<o){var a=t[r],s=e[a];n(s,a)&&(i[a]=s)}return i}function S(e,t){return t=x(void 0===t?e.length-1:t,0),function(){var n=arguments,r=-1,o=x(n.length-t,0),i=Array(o);while(++r<o)i[r]=n[t+r];r=-1;var a=Array(t+1);while(++r<t)a[r]=n[r];return a[t]=i,d(e,this,a)}}function k(e){return M(e)||T(e)||!!(b&&e&&e[b])}function O(e){if("string"==typeof e||N(e))return e;var t=e+"";return"0"==t&&1/e==-n?"-0":t}function T(e){return I(e)&&m.call(e,"callee")&&(!y.call(e,"callee")||g.call(e)==o)}var M=Array.isArray;function D(e){return null!=e&&A(e.length)&&!E(e)}function I(e){return j(e)&&D(e)}function E(e){var t=L(e)?g.call(e):"";return t==i||t==a}function A(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function L(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function j(e){return!!e&&"object"==typeof e}function N(e){return"symbol"==typeof e||j(e)&&g.call(e)==s}var P=S((function(e,t){return null==e?{}:_(e,f(w(t,1),O))}));e.exports=P}).call(this,n("2409"))},8629:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-col",{attrs:{span:18}},[n("a-spin",{attrs:{tip:"Loading...",spinning:e.spinning}},[n("div",[n("a-row",[n("a-col",{attrs:{span:18}},[n("p",[n("a-divider",{attrs:{orientation:"left"}},[e._v("组一")])],1)]),n("a-col",{attrs:{span:6}}),n("a-col",{attrs:{span:12}},[e._l(e.dataSource[0].fileDetails,(function(t,r){return n("div",{key:r},[n("div",{staticStyle:{float:"left",width:"104px",height:"104px","margin-right":"10px",margin:"0 8px 8px 0"}},[n("div",{staticStyle:{width:"100%",height:"100%",position:"relative",padding:"8px",border:"1px solid #d9d9d9","border-radius":"4px"}},[n("img",{staticStyle:{width:"100%"},attrs:{src:t.imgUrl,preview:e.dataSource[0].key}})])])])}))],2)],1)],1),n("div",[n("a-row",[n("a-col",{attrs:{span:18}},[n("p",[n("a-divider",{attrs:{orientation:"left"}},[e._v("组二")])],1)]),n("a-col",{attrs:{span:6}}),n("a-col",{attrs:{span:12}},[e._l(e.dataSource[1].fileDetails,(function(t,r){return n("div",{key:r},[n("div",{staticStyle:{float:"left",width:"104px",height:"104px","margin-right":"10px",margin:"0 8px 8px 0"}},[n("div",{staticStyle:{width:"100%",height:"100%",position:"relative",padding:"8px",border:"1px solid #d9d9d9","border-radius":"4px"}},[n("img",{staticStyle:{width:"100%"},attrs:{src:t.imgUrl,preview:e.dataSource[1].key}})])])])}))],2)],1)],1)]),n("p")],1)],1)},o=[],i=n("cb0a"),a={name:"ImagPreview",components:{ARow:i["a"]},data:function(){return{description:"电子档补扫页面",spinning:!1,dataSource:[{key:0,fileDetails:[{imgUrl:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=2735633715,2749454924&fm=27&gp=0.jpg"},{imgUrl:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3967239004,1951414302&fm=27&gp=0.jpg"},{imgUrl:"https://ss0.bdstatic.com/6Ox1bjeh1BF3odCf/it/u=3660968530,985748925&fm=191&app=48&size=h300&n=0&g=4n&f=JPEG?sec=1853310920&t=5e64af964be378c6c2a3b0acc65dfe24"}]},{key:1,fileDetails:[{imgUrl:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=889120611,3801177793&fm=27&gp=0.jpg"},{imgUrl:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=2445468140,2491956848&fm=27&gp=0.jpg"}]}],url:{}}},created:function(){},methods:{}},s=a,l=(n("489a"),n("5d22")),u=Object(l["a"])(s,r,o,!1,null,"9f3b344a",null);t["default"]=u.exports},8661:function(e,t,n){},8665:function(e,t,n){},"867f":function(e,t,n){},"875a":function(e,t,n){},8770:function(e,t,n){n("5e72")},8866:function(e,t,n){},8891:function(e,t,n){},"88b9":function(e,t,n){},"88f4":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"模块名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"['name', validatorRules.name ]"}],attrs:{placeholder:"请输入模块名"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"访问地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["url",{}],expression:"['url', {}]"}],attrs:{placeholder:"请输入访问地址"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"图标"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["icon",{}],expression:"['icon', {}]"}],attrs:{placeholder:"请输入图标"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否启用"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["state",{}],expression:"['state', {}]"}],attrs:{placeholder:"请输入是否启用"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sortNo",{}],expression:"[ 'sortNo', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{}],expression:"['description', {}]"}],attrs:{placeholder:"请输入描述"}})],1)],1)],1)],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=(n("caaf"),{name:"SysModulesModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{name:{rules:[{required:!0,message:"请输入模块名!"}]}},url:{add:"/system/sysModules/add",edit:"/system/sysModules/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"name","url","icon","state","sortNo","description"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}}),u=l,c=n("5d22"),d=Object(c["a"])(u,r,o,!1,null,"0a6293c4",null);t["default"]=d.exports},"89b0":function(e,t,n){"use strict";n("c380")},"89f2":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n("ca55"),o=n.n(r),i=n("4ec3");n("0fea");function a(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,l,"next",e)}function l(e){a(i,r,o,s,l,"throw",e)}s(void 0)}))}}function l(e){return u.apply(this,arguments)}function u(){return u=s(o.a.mark((function e(t){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","字典Code不能为空!");case 2:return e.next=4,Object(i["f"])(t);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function c(e,t){var n="";return e.forEach((function(e){t===e.value&&(n=e.text)})),n}},"89f5":function(e,t,n){"use strict";n("cb91")},"8a45":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1200,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderCode",{rules:[{required:!0,message:"请输入订单号!"}]}],expression:"['orderCode', {rules: [{ required: true, message: '请输入订单号!' }]}]"}],attrs:{placeholder:"请输入订单号"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ctype",{}],expression:"['ctype',{}]"}],attrs:{placeholder:"请输入订单类型"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单日期"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderDate",{}],expression:"[ 'orderDate',{}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单金额"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderMoney",{}],expression:"[ 'orderMoney', {}]"}],staticStyle:{width:"200px"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单备注"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{}],expression:"['content', {}]"}],attrs:{placeholder:"请输入订单备注"}})],1)],1)],1),n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"客户信息"}},[n("div",[n("a-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:5}},[e._v("客户名")]),n("a-col",{attrs:{span:5}},[e._v("性别")]),n("a-col",{attrs:{span:5}},[e._v("身份证号码")]),n("a-col",{attrs:{span:5}},[e._v("手机号")]),n("a-col",{attrs:{span:4}},[e._v("操作")])],1),e._l(e.orderMainModel.jeecgOrderCustomerList,(function(t,r){return n("a-row",{key:r,staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:5}},[n("a-form-item",[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderCustomerList["+r+"].name",{initialValue:t.name,rules:[{required:!0,message:"请输入用户名!"}]}],expression:"['jeecgOrderCustomerList['+index+'].name', {'initialValue':item.name,rules: [{ required: true, message: '请输入用户名!' }]}]"}],attrs:{placeholder:"客户名"}})],1)],1),n("a-col",{attrs:{span:5}},[n("a-form-item",[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderCustomerList["+r+"].sex",{initialValue:t.sex}],expression:"['jeecgOrderCustomerList['+index+'].sex', {'initialValue':item.sex}]"}],attrs:{placeholder:"性别"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("男")]),n("a-select-option",{attrs:{value:"2"}},[e._v("女")])],1)],1)],1),n("a-col",{attrs:{span:5}},[n("a-form-item",[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderCustomerList["+r+"].idcard",{initialValue:t.idcard,rules:[{pattern:"^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|[xX])$",message:"身份证号格式不对!"}]}],expression:"['jeecgOrderCustomerList['+index+'].idcard', {'initialValue':item.idcard,rules: [{ pattern: '^\\\\d{6}(18|19|20)?\\\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\\\d|3[01])\\\\d{3}(\\\\d|[xX])$', message: '身份证号格式不对!' }]}]"}],attrs:{placeholder:"身份证号"}})],1)],1),n("a-col",{attrs:{span:5}},[n("a-form-item",[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderCustomerList["+r+"].telphone",{initialValue:t.telphone,rules:[{pattern:"^1(3|4|5|7|8)\\d{9}$",message:"手机号格式不对!"}]}],expression:"['jeecgOrderCustomerList['+index+'].telphone', {'initialValue':item.telphone,rules: [{ pattern: '^1(3|4|5|7|8)\\\\d{9}$', message: '手机号格式不对!' }]}]"}],attrs:{placeholder:"手机号"}})],1)],1),n("a-col",{attrs:{span:4}},[n("a-form-item",[n("a-button",{attrs:{icon:"plus"},on:{click:e.addRowCustom}}),e._v(" \n                  "),n("a-button",{attrs:{icon:"minus"},on:{click:function(t){return e.delRowCustom(r)}}})],1)],1)],1)}))],2)]),n("a-tab-pane",{key:"2",attrs:{tab:"机票信息",forceRender:""}},[n("div",[n("a-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:6}},[e._v("航班号")]),n("a-col",{attrs:{span:6}},[e._v("航班时间")]),n("a-col",{attrs:{span:6}},[e._v("操作")])],1),e._l(e.orderMainModel.jeecgOrderTicketList,(function(t,r){return n("a-row",{key:r,staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:6}},[n("a-form-item",[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderTicketList["+r+"].ticketCode",{initialValue:t.ticketCode,rules:[{required:!0,message:"请输入航班号!"}]}],expression:"['jeecgOrderTicketList['+index+'].ticketCode', {'initialValue':item.ticketCode,rules: [{ required: true, message: '请输入航班号!' }]}]"}],attrs:{placeholder:"航班号"}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",[n("j-date",{directives:[{name:"decorator",rawName:"v-decorator",value:["jeecgOrderTicketList["+r+"].tickectDate",{initialValue:t.tickectDate}],expression:"['jeecgOrderTicketList['+index+'].tickectDate', {'initialValue':item.tickectDate}]"}],attrs:{placeholder:"航班时间","trigger-change":!0}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",[n("a-button",{attrs:{icon:"plus"},on:{click:e.addRowTicket}}),e._v(" \n                  "),n("a-button",{attrs:{icon:"minus"},on:{click:function(t){return e.delRowTicket(r)}}})],1)],1)],1)}))],2)])],1)],1)],1)],1)},o=[],i=n("0fea"),a=n("2dab"),s=n("85ee"),l=n.n(s),u=n("caaf"),c=n.n(u);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={name:"JeecgOrderMainModal",components:{JDate:a["default"]},data:function(){return{title:"操作",visible:!1,orderMainModel:{jeecgOrderCustomerList:[{}],jeecgOrderTicketList:[{}]},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/test/jeecgOrderMain/add",edit:"/test/jeecgOrderMain/edit",orderCustomerList:"/test/jeecgOrderMain/queryOrderCustomerListByMainId",orderTicketList:"/test/jeecgOrderMain/queryOrderTicketListByMainId"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;if(this.form.resetFields(),this.orderMainModel=Object.assign({},e),this.orderMainModel.jeecgOrderCustomerList=[{}],this.orderMainModel.jeecgOrderTicketList=[{}],this.orderMainModel.id){var n={id:this.orderMainModel.id};Object(i["c"])(this.url.orderCustomerList,n).then((function(e){e.success&&(t.orderMainModel.jeecgOrderCustomerList=e.result,t.$forceUpdate())})),Object(i["c"])(this.url.orderTicketList,n).then((function(e){e.success&&(t.orderMainModel.jeecgOrderTicketList=e.result,t.$forceUpdate())}))}this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(l()(t.orderMainModel,"orderCode","ctype","orderMoney","content")),t.form.setFieldsValue({orderDate:t.orderMainModel.orderDate?c()(t.orderMainModel.orderDate):null})}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.orderMainModel.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.orderMainModel,r);s.orderDate=s.orderDate?s.orderDate.format("YYYY-MM-DD HH:mm:ss"):null;var l=f(f({},s),{},{jeecgOrderCustomerList:s.jeecgOrderCustomerList,jeecgOrderTicketList:s.jeecgOrderTicketList});Object(i["g"])(o,l,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},addRowCustom:function(){this.orderMainModel.jeecgOrderCustomerList.push({}),this.$forceUpdate()},delRowCustom:function(e){this.orderMainModel.jeecgOrderCustomerList.splice(e,1),this.$forceUpdate()},addRowTicket:function(){this.orderMainModel.jeecgOrderTicketList.push({}),this.$forceUpdate()},delRowTicket:function(e){this.orderMainModel.jeecgOrderTicketList.splice(e,1),this.$forceUpdate()}}},m=h,g=(n("6816"),n("5d22")),v=Object(g["a"])(m,r,o,!1,null,"731c89df",null);t["default"]=v.exports},"8c22":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator",staticStyle:{margin:"-25px 0px 10px 2px"},attrs:{md:24,sm:24}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("JeecgOrderTicket-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("aa8e"),a=n("b65a"),s=n("0fea"),l={name:"JeecgOrderTicketList",mixins:[a["a"]],components:{JeecgOrderTicketModal:i["default"]},data:function(){return{description:"机票信息",columns:[{title:"航班号",align:"center",dataIndex:"ticketCode"},{title:"航班时间",align:"center",dataIndex:"tickectDate"},{title:"订单号码",align:"center",dataIndex:"orderId"},{title:"创建人",align:"center",dataIndex:"createBy"},{title:"创建时间",align:"center",dataIndex:"createTime",sorter:!0},{title:"操作",key:"operation",align:"center",width:130,scopedSlots:{customRender:"action"}}],url:{list:"/test/order/listOrderTicketByMainId",delete:"/test/order/deleteTicket",deleteBatch:"/test/order/deleteBatchTicket"}}},methods:{loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(s["c"])(this.url.list,{mainId:n.mainId}).then((function(e){e.success?t.dataSource=e.result:t.dataSource=null}))},getOrderMain:function(e){this.queryParam.mainId=e,this.loadData(1)},handleAdd:function(){this.$refs.modalForm.add(this.queryParam.mainId),this.$refs.modalForm.title="添加机票信息"}}},u=l,c=(n("63c3"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"87faa3a4",null);t["default"]=d.exports},"8c3f":function(e,t,n){},"8c6e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"5%","max-height":"95%"},attrs:{title:"高级查询构造器",width:800,visible:e.visible,confirmLoading:e.confirmLoading,mask:!1,wrapClassName:"ant-modal-cust-warp"},on:{cancel:e.handleCancel}},[n("template",{slot:"footer"},[n("a-button",{on:{click:e.handleCancel}},[e._v("关 闭")]),n("a-button",{staticStyle:{float:"left"},on:{click:e.handleReset}},[e._v("重 置")]),n("a-button",{attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("查 询")])],1),n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",[n("div",e._l(e.queryParamsModel,(function(t,r){return n("a-row",{key:r,staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:6}},[n("a-select",{attrs:{placeholder:"选择查询字段"},on:{select:function(n,r){return e.handleSelected(r,t)}},model:{value:t.field,callback:function(n){e.$set(t,"field",n)},expression:"item.field"}},e._l(e.fieldList,(function(t,r){return n("a-select-option",{key:"field"+r,attrs:{value:t.value,"data-type":t.type}},[e._v(e._s(t.text))])})),1)],1),n("a-col",{attrs:{span:6}},[n("a-select",{attrs:{placeholder:"选择匹配规则"},model:{value:t.rule,callback:function(n){e.$set(t,"rule",n)},expression:"item.rule"}},[n("a-select-option",{attrs:{value:"eq"}},[e._v("等于")]),n("a-select-option",{attrs:{value:"ne"}},[e._v("不等于")]),n("a-select-option",{attrs:{value:"gt"}},[e._v("大于")]),n("a-select-option",{attrs:{value:"ge"}},[e._v("大于等于")]),n("a-select-option",{attrs:{value:"lt"}},[e._v("小于")]),n("a-select-option",{attrs:{value:"le"}},[e._v("小于等于")]),n("a-select-option",{attrs:{value:"right_like"}},[e._v("以..开始")]),n("a-select-option",{attrs:{value:"left_like"}},[e._v("以..结尾")]),n("a-select-option",{attrs:{value:"like"}},[e._v("包含")]),n("a-select-option",{attrs:{value:"in"}},[e._v("在...中")])],1)],1),n("a-col",{attrs:{span:6}},["date"==t.type?n("j-date",{attrs:{placeholder:"请选择日期"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):"datetime"==t.type?n("j-date",{attrs:{placeholder:"请选择时间","show-time":!0,"date-format":"YYYY-MM-DD HH:mm:ss"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):"int"==t.type||"number"==t.type?n("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入数值"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}}):n("a-input",{attrs:{placeholder:"请输入值"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}})],1),n("a-col",{attrs:{span:6}},[n("a-button",{attrs:{icon:"plus"},on:{click:e.handleAdd}}),e._v(" \n            "),n("a-button",{attrs:{icon:"minus"},on:{click:function(t){return e.handleDel(r)}}})],1)],1)})),1)])],1)],2)},o=[],i=n("14b1"),a=n("2dab"),s={name:"JSuperQuery",components:{ACol:i["b"],JDate:a["default"]},data:function(){return{visible:!1,confirmLoading:!1,queryParamsModel:[{}]}},props:{fieldList:{type:Array,required:!0},callback:{type:String,required:!1,default:"handleSuperQuery"}},methods:{show:function(){this.queryParamsModel&&0!=this.queryParamsModel.length||(this.queryParamsModel=[{}]),this.visible=!0},handleOk:function(){this.isNullArray()?this.$emit(this.callback):this.$emit(this.callback,this.queryParamsModel)},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1},handleAdd:function(){this.queryParamsModel.push({})},handleDel:function(e){this.queryParamsModel.splice(e,1),this.$message.warning("请关闭后重新打开")},handleSelected:function(e,t){t["type"]=e.data.attrs["data-type"]},handleReset:function(){this.queryParamsModel=[{}],this.$emit(this.callback)},isNullArray:function(){if(!this.queryParamsModel||0==this.queryParamsModel.length)return!0;if(1==this.queryParamsModel.length){var e=this.queryParamsModel[0];if(!e.field||!e.val||!e.rule)return!0}return!1}}},l=s,u=n("5d22"),c=Object(u["a"])(l,r,o,!1,null,null,null);t["default"]=c.exports},"8ca6":function(e,t,n){},"8cbe":function(e,t,n){"use strict";n("867f")},"8cdbc":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  404 page\n")])},o=[],i={name:"404"},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,"5f82220d",null);t["default"]=l.exports},"8d67":function(e,t,n){},"8d90":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{visible:e.visible,title:"修改头像",maskClosable:!1,confirmLoading:e.confirmLoading,width:800}},[n("a-row",[n("a-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[n("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,autoCrop:e.options.autoCrop,autoCropWidth:e.options.autoCropWidth,autoCropHeight:e.options.autoCropHeight,fixedBox:e.options.fixedBox},on:{realTime:e.realTime}})],1),n("a-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[n("div",{staticClass:"avatar-upload-preview"},[n("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),n("template",{slot:"footer"},[n("a-button",{key:"back",on:{click:e.cancelHandel}},[e._v("取消")]),n("a-button",{key:"submit",attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.okHandel}},[e._v("保存")])],1)],2)},o=[],i=n("4c99"),a={components:{VueCropper:i["VueCropper"]},data:function(){return{visible:!1,id:null,confirmLoading:!1,options:{img:"/avatar2.jpg",autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{edit:function(e){this.visible=!0,this.id=e},close:function(){this.id=null,this.visible=!1},cancelHandel:function(){this.close()},okHandel:function(){var e=this;e.confirmLoading=!0,setTimeout((function(){e.confirmLoading=!1,e.close(),e.$message.success("上传头像成功")}),2e3)},realTime:function(e){this.previews=e}}},s=a,l=(n("89b0"),n("5d22")),u=Object(l["a"])(s,r,o,!1,null,"17f9d473",null);t["default"]=u.exports},"8dd6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form",{staticClass:"form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:6,md:12,sm:24}},[n("a-form-item",{attrs:{label:"任务名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.name",{rules:[{required:!0,message:"请输入任务名称",whitespace:!0}]}],expression:"[ 'task.name', {rules: [{ required: true, message: '请输入任务名称', whitespace: true}]} ]"}],attrs:{placeholder:"请输入任务名称"}})],1)],1),n("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[n("a-form-item",{attrs:{label:"任务描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.description",{rules:[{required:!0,message:"请输入任务描述",whitespace:!0}]}],expression:"[ 'task.description', {rules: [{ required: true, message: '请输入任务描述', whitespace: true}]} ]"}],attrs:{placeholder:"请输入任务描述"}})],1)],1),n("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[n("a-form-item",{attrs:{label:"执行人"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.executor",{rules:[{required:!0,message:"请选择执行人"}]}],expression:"[\n            'task.executor',\n            {rules: [{ required: true, message: '请选择执行人'}]}\n          ]"}],attrs:{placeholder:"请选择执行人"}},[n("a-select-option",{attrs:{value:"黄丽丽"}},[e._v("黄丽丽")]),n("a-select-option",{attrs:{value:"李大刀"}},[e._v("李大刀")])],1)],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:6,md:12,sm:24}},[n("a-form-item",{attrs:{label:"责任人"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.manager",{rules:[{required:!0,message:"请选择责任人"}]}],expression:"[\n            'task.manager',\n            {rules: [{ required: true, message: '请选择责任人'}]}\n          ]"}],attrs:{placeholder:"请选择责任人"}},[n("a-select-option",{attrs:{value:"王伟"}},[e._v("王伟")]),n("a-select-option",{attrs:{value:"李红军"}},[e._v("李红军")])],1)],1)],1),n("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[n("a-form-item",{attrs:{label:"提醒时间"}},[n("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.time",{rules:[{required:!0,message:"请选择提醒时间"}]}],expression:"[\n            'task.time',\n            {rules: [{ required: true, message: '请选择提醒时间'}]}\n          ]"}],staticStyle:{width:"100%"}})],1)],1),n("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[n("a-form-item",{attrs:{label:"任务类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["task.type",{rules:[{required:!0,message:"请选择任务类型"}]}],expression:"[ 'task.type', {rules: [{ required: true, message: '请选择任务类型'}]} ]"}],attrs:{placeholder:"请选择任务类型"}},[n("a-select-option",{attrs:{value:"定时执行"}},[e._v("定时执行")]),n("a-select-option",{attrs:{value:"周期执行"}},[e._v("周期执行")])],1)],1)],1)],1),e.showSubmit?n("a-form-item",[n("a-button",{attrs:{htmlType:"submit"}},[e._v("Submit")])],1):e._e()],1)},o=[],i={name:"TaskForm",props:{showSubmit:{type:Boolean,default:!1}},data:function(){return{form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,n){e||t.$notification["error"]({message:"Received values of form:",description:n})}))}}},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,"74600c93",null);t["default"]=l.exports},9008:function(e,t,n){"use strict";n("b0dd")},9038:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"所属应用"}},[n("a-select",{attrs:{placeholder:"所属应用"},model:{value:e.queryParam.code,callback:function(t){e.$set(e.queryParam,"code",t)},expression:"queryParam.code"}},[n("a-select-option",{attrs:{value:"office"}},[e._v("掌上办公")]),n("a-select-option",{attrs:{value:"estate"}},[e._v("掌上物业")]),n("a-select-option",{attrs:{value:"shequyijia"}},[e._v("社区e家")]),n("a-select-option",{attrs:{value:"chat"}},[e._v("网页聊天室")])],1)],1)],1),n("a-col",{attrs:{md:16,sm:16}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")])],1)])],1)],1)],1),n("div",[n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")])])}}])})],1),n("appConfig-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("a2fc"),a=n("b65a"),s={name:"AppConfigList",mixins:[a["a"]],components:{AppConfigModal:i["default"]},data:function(){return{description:"账户配置管理页面",isorter:{column:"id",order:"desc"},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"名称",align:"center",dataIndex:"name"},{title:"所属应用",align:"center",dataIndex:"code",customRender:function(e,t,n){return"office"==t.code?"掌上办公":"estate"==t.code?"掌上物业":"shequyijia"==t.code?"社区e家":"chat"==t.code?"网页聊天室":""}},{title:"推送平台",align:"center",dataIndex:"platform",customRender:function(e,t,n){return"jiguang"==t.platform?"极光推送":"HuaweiPush"==t.platform?"华为推送":"MIPush"==t.platform?"小米推送":""}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/message/appConfig/list",delete:"/message/appConfig/delete",deleteBatch:"/message/appConfig/deleteBatch",exportXlsUrl:"message/appConfig/exportXls",importExcelUrl:"message/appConfig/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{}},l=s,u=(n("949c"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"a2181158",null);t["default"]=c.exports},9089:function(e,t,n){"use strict";n("61a3")},"90ce":function(e,t,n){},"90cf":function(e,t,n){},"91a8":function(e,t,n){"use strict";n("f6c5")},"91b6":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{class:{abcdefg:!0},attrs:{bordered:!1}},[n("div",{staticClass:"no-print",staticStyle:{"text-align":"right"}},[n("a-button",{directives:[{name:"print",rawName:"v-print",value:"#printContent",expression:"'#printContent'"}],attrs:{ghost:"",type:"primary"}},[e._v("打印")])],1),n("section",{ref:"print",staticClass:"abcdefg",attrs:{id:"printContent"}},[n("div",{staticStyle:{"text-align":"center"}},[n("p",{staticStyle:{"font-size":"24px","font-weight":"800"}},[e._v("打印测试表单")])]),n("a-col",{attrs:{md:24,sm:24}},[n("div",{staticClass:"sign",staticStyle:{"text-align":"left",height:"inherit"}},[n("a-col",{attrs:{span:24}},[n("span",[e._v("\n          打印人员:\n        ")]),n("a-input",{staticStyle:{width:"30%"},model:{value:e.printer,callback:function(t){e.printer=t},expression:"printer"}}),n("span",{staticStyle:{"margin-left":"12.5%"}},[e._v("打印日期:")]),n("a-input",{staticStyle:{width:"30%"},model:{value:e.printTime,callback:function(t){e.printTime=t},expression:"printTime"}})],1),n("a-col",{attrs:{span:24}}),n("a-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[n("span",[e._v("打印内容:")]),n("a-input",{staticStyle:{width:"80%"},model:{value:e.printContent,callback:function(t){e.printContent=t},expression:"printContent"}})],1),n("a-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[n("span",[e._v("打印目的:")]),n("a-input",{staticStyle:{width:"80%"},model:{value:e.printReason,callback:function(t){e.printReason=t},expression:"printReason"}})],1),n("a-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[n("span",[e._v("打印图片:")]),n("br"),n("a-upload",{attrs:{action:"/jsonplaceholder.typicode.com/posts/",listType:"picture-card",fileList:e.fileList},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<3?n("div",[n("a-icon",{attrs:{type:"plus"}}),n("div",{staticClass:"ant-upload-text"},[e._v("Upload")])],1):e._e()]),n("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[n("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)],1)])],1)])},o=[],i=n("14b1"),a=n("cb0a"),s=n("66d4"),l={components:{ATextarea:s["a"],ARow:a["a"],ACol:i["b"]},name:"Printgzsld",props:{reBizCode:{type:String,default:""}},data:function(){return{columns:[{}],labelCol:{xs:{span:24},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:8}},printer:"张三",printTime:"2019-02-01 12:00:00",printContent:"打印内容就是,做一个打印测试",printReason:"做一个打印测试",previewVisible:!1,previewImage:"",fileList:[{uid:"-1",name:"xxx.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"},{uid:"-2",name:"pic1.png",status:"done",url:"https://www.gizbot.com/img/2016/11/whatsapp-error-lead-image-08-1478607387.jpg"}],url:{loadApplicant:"/sps/register/loadApplicants",loadRegisterFiles:"/sps/register/getRegisterFilesConfig"}}},created:function(){this.getDate()},methods:{loadData:function(){},getDate:function(){},handleCancel:function(){this.previewVisible=!1},handlePreview:function(e){this.previewImage=e.url||e.thumbUrl,this.previewVisible=!0},handleChange:function(e){var t=e.fileList;this.fileList=t}}},u=l,c=(n("41b7"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"a6fead70",null);t["default"]=d.exports},"91be":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-list",{attrs:{itemLayout:"horizontal",dataSource:e.data}})},o=[],i={data:function(){return{data:[]}},methods:{}},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,"e454e91e",null);t["default"]=l.exports},9204:function(e,t,n){"use strict";n("0355")},"93d8":function(e,t,n){"use strict";n("ff0a")},"942d":function(e,t,n){"use strict";n.r(t);for(var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{width:null==e.width?"auto":e.width+"px"}},[n("v-chart",{attrs:{forceFit:null==e.width,height:e.height,data:e.data,padding:"0"}},[n("v-tooltip"),n("v-bar",{attrs:{position:"x*y"}})],1)],1)},o=[],i=n("a397"),a=n.n(i),s=[],l=(new Date).getTime(),u=0;u<10;u++)s.push({x:a()(new Date(l+864e5*u)).format("YYYY-MM-DD"),y:Math.round(10*Math.random())});var c=["x*y",function(e,t){return{name:e,value:t}}],d=[{dataKey:"x",min:2},{dataKey:"y",title:"时间",min:1,max:30}],f={name:"MiniBar",props:{dataSource:{type:Array,default:function(){return[]}},width:{type:Number,default:null},height:{type:Number,default:200}},created:function(){0===this.dataSource.length?this.data=s:this.data=this.dataSource},data:function(){return{tooltip:c,data:[],scale:d}}},p=f,h=(n("d259"),n("5d22")),m=Object(h["a"])(p,r,o,!1,null,"977e29aa",null);t["default"]=m.exports},9445:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"正常订单超过："}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["normalOrderOvertime",e.validatorRules.normalOrderOvertime],expression:"['normalOrderOvertime', validatorRules.normalOrderOvertime]"}],attrs:{suffix:"分钟未付款，自动取消"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"发货超过："}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirmOvertime",e.validatorRules.confirmOvertime],expression:"['confirmOvertime', validatorRules.confirmOvertime]"}],attrs:{suffix:"天未收货，订单自动完成"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单完成超过："}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["finishOvertime",e.validatorRules.finishOvertime],expression:"['finishOvertime', validatorRules.finishOvertime]"}],attrs:{suffix:"天自动结束交易，不能申请售后"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单完成超过："}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["commentOvertime",e.validatorRules.commentOvertime],expression:"['commentOvertime', validatorRules.commentOvertime]"}],attrs:{suffix:"天自动五星好评"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"一公益币价值："}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["coinMoney",e.validatorRules.coinMoney],expression:"['coinMoney', validatorRules.coinMoney]"}],attrs:{suffix:"元"}})],1),n("a-form-item",{staticClass:"mg-auto tc",attrs:{wrapperCol:e.wrapperCol}},[n("a-button",{staticClass:"mg-10",attrs:{type:"primary","html-type":"submit",disabled:e.confirmLoading},on:{click:function(t){return e.update()}}},[e._v("提交修改")])],1)],1)],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l={name:"OmsOrderSetting",data:function(){return{form:this.$form.createForm(this),model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:12},sm:{span:12}},confirmLoading:!1,validatorRules:{normalOrderOvertime:{rules:[{required:!0,message:"请输入超时时间"},{validator:this.changeKey}]},confirmOvertime:{rules:[{required:!0,message:"确认收货超时时间"},{validator:this.changeKey}]},finishOvertime:{rules:[{required:!0,message:"超时申请售后时间"},{validator:this.changeKey}]},commentOvertime:{rules:[{required:!0,message:"超时自动好评时间"},{validator:this.changeKey}]},coinMoney:{rules:[{required:!0,message:"一个公益币价值"},{validator:this.changeKeyFloat}]}},url:{list:"/mall/omsOrderSetting/query",update:"/mall/omsOrderSetting/edit"}}},created:function(){this.query()},methods:{changeKey:function(e,t,n){var r=/^[1-9]{1}[0-9]*$/;r.test(t)?n():n(new Error("请填写正确的数字"))},changeKeyFloat:function(e,t,n){var r=/^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$/;r.test(t)?n():n(new Error("请填写正确的数字"))},query:function(){var e=this;Object(i["c"])(this.url.list).then((function(t){t.success&&(e.model=t.result,e.form.setFieldsValue(s()(e.model,"normalOrderOvertime","confirmOvertime","finishOvertime","commentOvertime","coinMoney")))}))},update:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o=Object.assign(e.model,r);Object(i["i"])(e.url.update,o).then((function(e){e.success&&t.$message.success("修改成功")})).finally((function(){t.confirmLoading=!1}))}}))}}},u=l,c=(n("14eb"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"5d4a74ed",null);t["default"]=d.exports},"949c":function(e,t,n){"use strict";n("2768")},"95a4":function(e,t,n){},9606:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{"min-width":"500px","overflow-x":"auto"}},[n("p",[e._v("我是右侧页面")]),n("img-turn-page")],1)},o=[],i=n("4874"),a={name:"SplitPanelAModal",components:{ImgTurnPage:i["default"]},data:function(){return{}},created:function(){},methods:{}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"233ad4e8",null);t["default"]=u.exports},"972f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("v-chart",{attrs:{forceFit:!0,height:350,data:e.chartData,scale:e.scale}},[n("v-coord",{attrs:{type:"polar",startAngle:-202.5,endAngle:22.5,radius:.75}}),n("v-axis",{attrs:{dataKey:"value",zIndex:2,line:null,label:e.axisLabel,subTickCount:4,subTickLine:e.axisSubTickLine,tickLine:e.axisTickLine,grid:null}}),n("v-axis",{attrs:{dataKey:"1",show:!1}}),n("v-series",{attrs:{gemo:"point",position:"value*1",shape:"pointer",color:"#1890FF",active:!1}}),n("v-guide",{attrs:{type:"arc",zIndex:0,top:!1,start:e.arcGuide1Start,end:e.arcGuide1End,vStyle:e.arcGuide1Style}}),n("v-guide",{attrs:{type:"arc",zIndex:1,start:e.arcGuide2Start,end:e.getArcGuide2End(),vStyle:e.arcGuide2Style}}),n("v-guide",{attrs:{type:"html",position:e.htmlGuidePosition,html:e.getHtmlGuideHtml()}})],1)],1)},o=[],i=n("8c92");Object(i["b"])("point","pointer",{draw:function(e,t){var n=e.points[0];n=this.parsePoint(n);var r=this.parsePoint({x:0,y:0});return t.addShape("line",{attrs:{x1:r.x,y1:r.y,x2:n.x,y2:n.y+15,stroke:e.color,lineWidth:5,lineCap:"round"}}),t.addShape("circle",{attrs:{x:r.x,y:r.y,r:9.75,stroke:e.color,lineWidth:4.5,fill:"#fff"}})}});var a=[{dataKey:"value",min:0,max:9,tickInterval:1,nice:!1}],s=[{value:0}],l={name:"DashChartDemo",props:{datasource:{type:Number,default:0},title:{type:String,default:""}},created:function(){this.datasource?this.chartData=[{value:this.datasource}]:this.chartData=s,this.getChartData()},watch:{datasource:function(e){this.chartData=[{value:e}],this.getChartData()}},methods:{getChartData:function(){this.chartData&&this.chartData.length>0?this.abcd=10*this.chartData[0].value:this.abcd=70},getHtmlGuideHtml:function(){return'<div style="width: 300px;text-align: center;">\n<p style="font-size: 14px;color: #545454;margin: 0;">'+this.title+'</p>\n<p style="font-size: 36px;color: #545454;margin: 0;">'+this.abcd+"%</p>\n</div>"},getArcGuide2End:function(){return[this.chartData[0].value,.945]}},data:function(){return{chartData:[],height:400,scale:a,abcd:70,axisLabel:{offset:-16,textStyle:{fontSize:18,textAlign:"center",textBaseline:"middle"}},axisSubTickLine:{length:-8,stroke:"#fff",strokeOpacity:1},axisTickLine:{length:-17,stroke:"#fff",strokeOpacity:1},arcGuide1Start:[0,.945],arcGuide1End:[9,.945],arcGuide1Style:{stroke:"#CBCBCB",lineWidth:18},arcGuide2Start:[0,.945],arcGuide2Style:{stroke:"#1890FF",lineWidth:18},htmlGuidePosition:["50%","100%"],htmlGuideHtml:'\n      <div style="width: 300px;text-align: center;">\n        <p style="font-size: 14px;color: #545454;margin: 0;">'.concat(this.title,'</p>\n        <p style="font-size: 36px;color: #545454;margin: 0;">').concat(this.abcd,"%</p>\n      </div>\n    ")}}},u=l,c=n("5d22"),d=Object(c["a"])(u,r,o,!1,null,null,null);t["default"]=d.exports},"97c7":function(e,t,n){},"98bb2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"所属应用"}},[n("a-select",{attrs:{placeholder:"所属应用"},model:{value:e.queryParam.appcode,callback:function(t){e.$set(e.queryParam,"appcode",t)},expression:"queryParam.appcode"}},[n("a-select-option",{attrs:{value:"office"}},[e._v("掌上办公")]),n("a-select-option",{attrs:{value:"estate"}},[e._v("掌上物业")]),n("a-select-option",{attrs:{value:"shequyijia"}},[e._v("社区e家")]),n("a-select-option",{attrs:{value:"chat"}},[e._v("网页聊天室")])],1)],1)],1),n("a-col",{attrs:{md:16,sm:16}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")])],1)])],1)],1)],1),n("div",[n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"portrait",fn:function(e,t){return n("span",{},[n("img",{attrs:{src:t.portrait,width:"30px"}})])}},{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")])])}}])})],1),n("appUser-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("163d"),a=n("b65a"),s={name:"AppUserList",mixins:[a["a"]],components:{AppUserModal:i["default"]},data:function(){return{description:"消息对象管理页面",isorter:{column:"appcode",order:"asc"},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"所属应用",align:"center",dataIndex:"appcode",customRender:function(e,t,n){return"office"==t.appcode?"掌上办公":"estate"==t.appcode?"掌上物业":"shequyijia"==t.appcode?"社区e家":"chat"==t.appcode?"网页聊天室":""}},{title:"显示昵称",align:"center",dataIndex:"nickname"},{title:"登录名",align:"center",dataIndex:"username"},{title:"显示头像",align:"center",dataIndex:"portrait",scopedSlots:{customRender:"portrait"}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/message/appUser/list",delete:"/message/appUser/delete",deleteBatch:"/message/appUser/deleteBatch",exportXlsUrl:"message/appUser/exportXls",importExcelUrl:"message/appUser/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{}},l=s,u=(n("2124"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"166d85c5",null);t["default"]=c.exports},"9af4":function(e,t,n){},"9b15":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单号"}},[n("a-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.queryParam.orderCode,callback:function(t){e.$set(e.queryParam,"orderCode",t)},expression:"queryParam.orderCode"}})],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单类型"}},[n("a-select",{attrs:{placeholder:"请输入订单类型"},model:{value:e.queryParam.ctype,callback:function(t){e.$set(e.queryParam,"ctype",t)},expression:"queryParam.ctype"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("一对多示例")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("jeecgOrderMain-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("8a45"),a=n("b65a"),s={name:"JeecgOrderMainList",mixins:[a["a"]],components:{JeecgOrderMainModal:i["default"]},data:function(){return{description:"订单管理页面",importExcelUrl:"".concat(window._CONFIG["domianURL"],"/test/jeecgOrderMain/importExcel"),columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"订单号",align:"center",dataIndex:"orderCode"},{title:"订单类型",align:"center",dataIndex:"ctype",customRender:function(e,t,n){var r="";return"1"===e?r="国内订单":"2"===e&&(r="国际订单"),r}},{title:"订单日期",align:"center",dataIndex:"orderDate"},{title:"订单金额",align:"center",dataIndex:"orderMoney"},{title:"订单备注",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/test/jeecgOrderMain/list",delete:"/test/jeecgOrderMain/delete",deleteBatch:"/test/jeecgOrderMain/deleteBatch",exportXlsUrl:"/test/jeecgOrderMain/exportXls"}}},methods:{}},l=s,u=(n("1bc3"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"1f16717b",null);t["default"]=c.exports},"9c51":function(e,t,n){},"9caf":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"用户列表",width:1e3,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[n("a-table",{ref:"table",attrs:{bordered:"",size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}}})],1)},o=[],i=n("4ec3"),a=n("b65a"),s={name:"SelectUserListModal",mixins:[a["a"]],data:function(){return{title:"操作",visible:!1,model:{},confirmLoading:!1,url:{add:"/act/model/create",list:"/sys/user/list"},columns:[{title:"用户账号",align:"center",dataIndex:"username",fixed:"left",width:200},{title:"用户真实姓名",align:"center",dataIndex:"realname"},{title:"性别",align:"center",dataIndex:"sex_dictText"},{title:"手机号码",align:"center",dataIndex:"phone"},{title:"邮箱",align:"center",dataIndex:"email"},{title:"状态",align:"center",dataIndex:"status_dictText"}]}},created:function(){var e=this;Object(i["v"])().then((function(t){t.success&&(e.dataSource=t.result.records,e.ipagination.total=t.result.total)}))},methods:{open:function(){this.visible=!0,this.selectedRowKeys=[],this.selectedRows=[]},close:function(){this.$emit("close"),this.visible=!1},handleChange:function(e){var t=e.file;t.response.success?(this.$message.success(t.response.message),this.$emit("ok"),this.close()):(this.$message.warn(t.response.message),this.close())},handleCancel:function(){this.close()},handleSubmit:function(){this.$emit("ok",this.selectionRows),this.close()}}},l=s,u=n("5d22"),c=Object(u["a"])(l,r,o,!1,null,null,null);t["default"]=c.exports},"9cbf":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-content"},[n("router-view")],1)},o=[],i={name:"SearchLayout",data:function(){var e=this;return{tabs:{items:[{key:"1",title:"文章"},{key:"2",title:"项目"},{key:"3",title:"应用"}],active:function(){switch(e.$route.path){case"/list/search/article":return"1";case"/list/search/project":return"2";case"/list/search/application":return"3";default:return"1"}},callback:function(t){switch(t){case"1":e.$router.push("/list/search/article");break;case"2":e.$router.push("/list/search/project");break;case"3":e.$router.push("/list/search/application");break;default:e.$router.push("/workplace")}}},search:!0}},computed:{},methods:{}},a=i,s=(n("d841"),n("5d22")),l=Object(s["a"])(a,r,o,!1,null,"58ecbe9c",null);t["default"]=l.exports},"9d9c":function(e,t,n){"use strict";n("8ca6")},"9dbe":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=function(){return"undefined"!==typeof window?window:e},o=function(){var e=r();return e&&e.tinymce?e.tinymce:null}}).call(this,n("2409"))},"9e65":function(e,t,n){},"9efe":function(e,t,n){},a061:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tinymce-editor"},[n("editor",{attrs:{init:e.init,disabled:e.disabled},on:{onClick:e.onClick},model:{value:e.myValue,callback:function(t){e.myValue=t},expression:"myValue"}})],1)},o=[],i=n("1422"),a=n.n(i),s=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],l=function(e){return-1!==s.indexOf(e)},u=function(e,t,n){Object.keys(t).filter(l).forEach((function(r){var o=t[r];"function"===typeof o&&("onInit"===r?o(e,n):n.on(r.substring(2),(function(e){return o(e,n)})))}))},c=function(e,t){var n,r=e.$props.modelEvents?e.$props.modelEvents:null,o=Array.isArray(r)?r.join(" "):r;e.$watch("value",(function(e,r){t&&"string"===typeof e&&e!==n&&e!==r&&(t.setContent(e),n=e)})),t.on(o||"change keyup undo redo",(function(){n=t.getContent(),e.$emit("input",n)}))},d=function(e,t,n){var r=t.$props.value?t.$props.value:"",o=t.$props.initialValue?t.$props.initialValue:"";n.setContent(r||o),t.$listeners.input&&c(t,n),u(e,t.$listeners,n)},f=0,p=function(e){var t=Date.now(),n=Math.floor(1e9*Math.random());return f++,e+"_"+n+f+String(t)},h=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},m=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},g=function(e,t){return m(e).concat(m(t))},v=function(e,t,n,r){var o=t.createElement("script");o.type="application/javascript",o.id=e,o.addEventListener("load",r),o.src=n,t.head&&t.head.appendChild(o)},y=function(){return{listeners:[],scriptId:p("tiny-script"),scriptLoaded:!1}},b=function(e,t,n,r){e.scriptLoaded?r():(e.listeners.push(r),t.getElementById(e.scriptId)||v(e.scriptId,t,n,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0})))},x=n("9dbe"),w={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean},_=function(){return _=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_.apply(this,arguments)},C=y(),S=function(e,t,n){return e(n||"div",{attrs:{id:t}})},k=function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})},O=function(e){return function(){var t=_({},e.$props.init,{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:g(e.$props.init&&e.$props.init.plugins,e.$props.plugins),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",(function(n){return d(n,e,t)})),e.$props.init&&"function"===typeof e.$props.init.setup&&e.$props.init.setup(t)}});h(e.element)&&(e.element.style.visibility=""),Object(x["a"])().init(t)}},T={props:w,created:function(){this.elementId=this.$props.id||p("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(x["a"])())O(this)();else if(this.element&&this.element.ownerDocument){var e=this.element.ownerDocument,t=this.$props.cloudChannel?this.$props.cloudChannel:"5",n=this.$props.apiKey?this.$props.apiKey:"no-api-key";b(C,e,"https://cdn.tiny.cloud/1/"+n+"/tinymce/"+t+"/tinymce.min.js",O(this))}},beforeDestroy:function(){null!==Object(x["a"])()&&Object(x["a"])().remove(this.editor)},render:function(e){return this.inlineEditor?S(e,this.elementId,this.$props.tagName):k(e,this.elementId)}},M=T,D=(n("81d18"),n("0581"),n("6412"),n("8770"),n("10f5"),n("5069"),n("d1c1"),n("7fb9"),n("666d"),n("f563"),{components:{Editor:M},props:{value:{type:String,required:!1},triggerChange:{type:Boolean,default:!1,required:!1},disabled:{type:Boolean,default:!1},plugins:{type:[String,Array],default:"lists image media table textcolor wordcount contextmenu fullscreen"},toolbar:{type:[String,Array],default:"undo redo |  formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | lists image media table | removeformat | fullscreen"}},data:function(){return{init:{language_url:"/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"/tinymce/skins/lightgray",height:300,plugins:this.plugins,toolbar:this.toolbar,branding:!1,menubar:!1,images_upload_handler:function(e,t){var n="data:image/jpeg;base64,"+e.base64();t(n)}},myValue:this.value}},mounted:function(){a.a.init({})},methods:{onClick:function(e){this.$emit("onClick",e,a.a)},clear:function(){this.myValue=""}},watch:{value:function(e){this.myValue=null==e?"":e},myValue:function(e){this.triggerChange?this.$emit("change",e):this.$emit("input",e)}}}),I=D,E=n("5d22"),A=Object(E["a"])(I,r,o,!1,null,"3fcf7ca2",null);t["default"]=A.exports},a1ee:function(e,t,n){"use strict";n("16bd")},a2fc:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"['name', validatorRules.name ]"}],attrs:{placeholder:"请输入名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属应用"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",e.validatorRules.code],expression:"['code', validatorRules.code ]"}],attrs:{placeholder:"所属应用"}},[n("a-select-option",{attrs:{value:"office"}},[e._v("掌上办公")]),n("a-select-option",{attrs:{value:"estate"}},[e._v("掌上物业")]),n("a-select-option",{attrs:{value:"shequyijia"}},[e._v("社区e家")]),n("a-select-option",{attrs:{value:"chat"}},[e._v("网页聊天室")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属平台"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["platform",e.validatorRules.platform],expression:"['platform', validatorRules.platform]"}],attrs:{placeholder:"所属平台"}},[n("a-select-option",{attrs:{value:"jiguang"}},[e._v("极光推送")]),n("a-select-option",{attrs:{value:"HuaweiPush"}},[e._v("华为推送")]),n("a-select-option",{attrs:{value:"MIPush"}},[e._v("小米推送")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"钥匙"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["appkey",{}],expression:"['appkey', {}]"}],attrs:{placeholder:"请输入钥匙"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"密匙"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["appsecret",{}],expression:"['appsecret', {}]"}],attrs:{placeholder:"请输入密匙"}})],1)],1)],1)],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=(n("caaf"),{name:"AppConfigModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{name:{rules:[{required:!0,message:"请输入名称!"}]},code:{rules:[{required:!0,message:"请选择应用!"}]},platform:{rules:[{required:!0,message:"请选择平台!"}]}},url:{add:"/message/appConfig/add",edit:"/message/appConfig/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"name","code","platform","appkey","appsecret"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}}),u=l,c=n("5d22"),d=Object(c["a"])(u,r,o,!1,null,"03a74f1f",null);t["default"]=d.exports},a316:function(e,t,n){"use strict";n("f6b9")},a462:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-form",{staticStyle:{margin:"40px auto 0"}},[n("result",{attrs:{title:"操作成功","is-success":!0,description:"预计两小时内到账"}},[n("div",{staticClass:"information"},[n("a-row",[n("a-col",{attrs:{sm:8,xs:24}},[e._v("付款账户：")]),n("a-col",{attrs:{sm:16,xs:24}},[e._v("ant-design@alipay.com")])],1),n("a-row",[n("a-col",{attrs:{sm:8,xs:24}},[e._v("收款账户：")]),n("a-col",{attrs:{sm:16,xs:24}},[e._v("test@example.com")])],1),n("a-row",[n("a-col",{attrs:{sm:8,xs:24}},[e._v("收款人姓名：")]),n("a-col",{attrs:{sm:16,xs:24}},[e._v("辉夜")])],1),n("a-row",[n("a-col",{attrs:{sm:8,xs:24}},[e._v("转账金额：")]),n("a-col",{attrs:{sm:16,xs:24}},[n("span",{staticClass:"money"},[e._v("500")]),e._v(" 元")])],1)],1),n("div",{attrs:{slot:"action"},slot:"action"},[n("a-button",{attrs:{type:"primary"},on:{click:e.finish}},[e._v("再转一笔")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.toOrderList}},[e._v("查看账单")])],1)])],1)],1)},o=[],i=n("9a3d"),a={name:"Step3",components:{Result:i["default"]},data:function(){return{loading:!1}},methods:{finish:function(){this.$emit("finish")},toOrderList:function(){this.$router.push("/list/query-list")}}},s=a,l=(n("a1ee"),n("5d22")),u=Object(l["a"])(s,r,o,!1,null,"db5dd8b4",null);t["default"]=u.exports},a468:function(e,t,n){"use strict";n("61dc")},a4dc:function(e,t,n){},a505:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{"margin-top":"-70px"},attrs:{width:e.modalWidth,visible:e.visible,title:e.title,cancelText:"关闭",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleSubmit,cancel:e.close}},[n("a-row",{staticStyle:{"background-color":"#ececec",padding:"10px",margin:"-10px"},attrs:{gutter:10}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("a-directory-tree",{attrs:{selectable:"",selectedKeys:e.selectedKeys,checkStrictly:!0,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree},on:{select:this.onSelect}})],1)],1),n("a-col",{attrs:{md:18,sm:24}},[n("a-card",{attrs:{bordered:!1}},[e._v("\n        用户账号:\n        "),n("a-input-search",{style:{width:"150px",marginBottom:"15px"},attrs:{placeholder:"请输入用户账号"},on:{search:e.onSearch},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}}),n("a-button",{staticStyle:{"margin-left":"20px"},attrs:{icon:"redo"},on:{click:function(t){return e.searchReset(1)}}},[e._v("重置")]),n("a-table",{ref:"table",attrs:{scroll:e.scrollTrigger,size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange}})],1)],1)],1)],1)},o=[],i=n("ca00"),a=n("4ec3"),s={name:"JSelectUserByDepModal",components:{},props:["modalWidth"],data:function(){return{queryParam:{username:""},columns:[{title:"用户账号",align:"center",dataIndex:"username"},{title:"真实姓名",align:"center",dataIndex:"realname"},{title:"角色名称",align:"center",dataIndex:"roleName"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return 1===e?"男":2===e?"女":e}},{title:"手机号码",align:"center",dataIndex:"phone"},{title:"邮箱",align:"center",dataIndex:"email"}],scrollTrigger:{},dataSource:[],selectedKeys:[],userNameArr:[],departName:"",userRolesMap:{},title:"根据部门选择用户",ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},selectedRowKeys:[],selectedRows:[],departTree:[],visible:!1,form:this.$form.createForm(this)}},created:function(){this.resetScreenSize(),this.queryUserRoleMap()},methods:{loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(a["v"])(n).then((function(e){e.success&&(t.dataSource=e.result.records,t.assignRoleName(t.dataSource),t.ipagination.total=e.result.total)}))},queryUserRoleMap:function(){var e=this;Object(a["H"])().then((function(t){t.success&&(e.userRolesMap=t.result,e.loadData())}))},resetScreenSize:function(){var e=document.body.clientWidth;this.scrollTrigger=e<500?{x:800}:{}},showModal:function(){this.visible=!0,this.assignRoleName(this.dataSource),this.queryDepartTree(),this.form.resetFields()},getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(i["b"])(e)},getQueryField:function(){for(var e="id,",t=0;t<this.columns.length;t++)e+=","+this.columns[t].dataIndex;return e},searchReset:function(e){var t=this;0!==e&&(t.queryParam={},t.loadData(1)),t.selectedRowKeys=[],t.userNameArr=[],t.selectedKeys=[]},close:function(){this.searchReset(0),this.visible=!1},handleTableChange:function(e,t,n){Object.keys(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"===n.order?"asc":"desc"),this.ipagination=e,this.loadData()},handleSubmit:function(){for(var e=this,t=0,n=this.selectedRowKeys.length;t<n;t++)this.getUserNames(this.selectedRowKeys[t]);e.$emit("ok",e.userNameArr.join(",")),e.close()},getUserNames:function(e){for(var t=this.dataSource,n=0,r=t.length;n<r;n++)e===t[n].id&&this.userNameArr.push(t[n].realname)},onSelect:function(e){null!=e[0]&&(this.queryUserByDepId(e),this.selectedKeys[0]!==e[0]&&(this.selectedKeys=[e[0]]))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onSearch:function(){this.loadData(1)},queryUserByDepId:function(e){var t=this;Object(a["F"])({id:e.toString()}).then((function(e){e.success&&(t.dataSource=e.result,t.ipagination.total=e.result.length,t.assignRoleName(t.dataSource))}))},queryUserRole:function(e){var t=this.userRolesMap,n=[];for(var r in t)e===r&&n.push(t[r]);return n.join(",")},queryDepartTree:function(){var e=this;Object(a["x"])().then((function(t){t.success&&(e.departTree=t.result)}))},assignRoleName:function(e){for(var t="",n="",r=0,o=e.length;r<o;r++)t=this.dataSource[r].id,n=this.queryUserRole(t),this.dataSource[r].roleName=n},modalFormOk:function(){this.loadData()}}},l=s,u=(n("515f"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"2a545c26",null);t["default"]=c.exports},a626:function(e,t,n){"use strict";n("fa07")},a645:function(e,t,n){"use strict";n("0506")},a71a:function(e,t,n){},a726:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-checkbox-group",{attrs:{options:e.options,value:e.checkboxArray},on:{change:e.onChange}})},o=[],i={name:"JCheckbox",props:{value:{type:String,required:!1},options:{type:Array,required:!0}},data:function(){return{checkboxArray:this.value?this.value.split(","):[]}},watch:{value:function(e){this.checkboxArray=e?this.value.split(","):[]}},methods:{onChange:function(e){this.$emit("change",e.join(","))}},model:{prop:"value",event:"change"}},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,null,null);t["default"]=l.exports},a78d:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"10px"},attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"['name', validatorRules.name ]"}],attrs:{placeholder:"请输入名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",{}],expression:"['code', {}]"}],attrs:{placeholder:"请输入编码"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"数据"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["data",{}],expression:"['data', {}]"}],attrs:{placeholder:"请输入数据",autoSize:{minRows:5,maxRows:10}}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["des",{}],expression:"['des', {}]"}],attrs:{placeholder:"请输入描述"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"显示分类"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["showType",{}],expression:"['showType', {}]"}],attrs:{placeholder:"显示分类"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("展示图片")]),n("a-select-option",{attrs:{value:"2"}},[e._v("不展示图片")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"动作分类"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["action",{}],expression:"['action', {}]"}],attrs:{placeholder:"请输入动作分类"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"链接前缀"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["prefix",{}],expression:"['prefix', {}]"}],attrs:{placeholder:"请输入链接前缀"}})],1)],1)],1)],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=(n("caaf"),{name:"AppTemplateModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{name:{rules:[{required:!0,message:"请输入名称!"}]}},url:{add:"/message/appTemplate/add",edit:"/message/appTemplate/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"name","code","isThumb","data","des","showType","action","prefix"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}}),u=l,c=n("5d22"),d=Object(c["a"])(u,r,o,!1,null,"7749da59",null);t["default"]=d.exports},a85e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"名称"}},[n("a-input",{attrs:{placeholder:"请输入名称"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),n("a-col",{attrs:{md:16,sm:16}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")])],1)])],1)],1)],1),n("div",[n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")])])}}])})],1),n("appTemplate-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("a78d"),a=n("b65a"),s={name:"AppTemplateList",mixins:[a["a"]],components:{AppTemplateModal:i["default"]},data:function(){return{description:"消息模板管理页面",isorter:{column:"id",order:"desc"},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"名称",align:"center",dataIndex:"name"},{title:"描述",align:"center",dataIndex:"des"},{title:"动作分类",align:"center",dataIndex:"action"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/message/appTemplate/list",delete:"/message/appTemplate/delete",deleteBatch:"/message/appTemplate/deleteBatch",exportXlsUrl:"message/appTemplate/exportXls",importExcelUrl:"message/appTemplate/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{}},l=s,u=(n("e98d"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"de3e0f38",null);t["default"]=c.exports},a862:function(e,t,n){},a8760:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._b({},"div",e.fullScreenParentProps,!1),[e.fullScreen?n("a-icon",{staticClass:"full-screen-icon",attrs:{type:"fullscreen"},on:{click:function(){return e.fullCoder=!e.fullCoder}}}):e._e(),n("div",{staticClass:"code-editor-cust full-screen-child"},[n("textarea",{ref:"textarea"}),n("span",{staticClass:"null-tip",class:{"null-tip-hidden":e.hasCode},style:e.nullTipStyle,on:{click:e.nullTipClick}},[e._v(e._s(e.placeholderShow))]),e.languageChange?[n("a-select",{staticClass:"code-mode-select",attrs:{size:"small",placeholder:"请选择主题"},on:{change:e.changeMode},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},e._l(e.modes,(function(t){return n("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),1)]:e._e()],2)],1)},o=[],i=n("fc0f"),a=n.n(i),s=(n("4ede"),n("97c7"),n("ee9a"),n("3564"),n("01d8"),n("ddb7"),n("7527"),n("fbca"),n("b566"),n("ebc6"),n("0c85"),n("d9b3"),n("b2a0"),n("f568"),window.CodeMirror||a.a),l={name:"JCodeEditor",props:{value:{type:String,default:""},language:{type:String,default:null},languageChange:{type:Boolean,default:!1,required:!1},placeholder:{type:String,default:null},lineNumbers:{type:Boolean,default:!0},fullScreen:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:999}},data:function(){return{code:"",hasCode:!1,mode:"javascript",coder:null,options:{tabSize:2,theme:"panda-syntax",line:!0,hintOptions:{tables:{users:["name","score","birthDate"],countries:["name","population","size"]}}},modes:[{value:"css",label:"CSS"},{value:"javascript",label:"Javascript"},{value:"html",label:"XML/HTML"},{value:"x-java",label:"Java"},{value:"x-objectivec",label:"Objective-C"},{value:"x-python",label:"Python"},{value:"x-rsrc",label:"R"},{value:"x-sh",label:"Shell"},{value:"x-sql",label:"SQL"},{value:"x-swift",label:"Swift"},{value:"x-vue",label:"Vue"},{value:"markdown",label:"Markdown"}],fullCoder:!1}},watch:{language:{immediate:!0,handler:function(e){var t=this;this._getCoder().then((function(){if(e){var n=t._getLanguage(e);n&&(t.mode=n.label,t.coder.setOption("mode","text/".concat(n.value)))}}))}}},computed:{placeholderShow:function(){return null==this.placeholder?"请在此输入".concat(this.language,"代码"):this.placeholder},nullTipStyle:function(){return this.lineNumbers?{left:"36px"}:{left:"12px"}},coderOptions:function(){return{tabSize:this.options.tabSize,theme:this.options.theme,lineNumbers:this.lineNumbers,line:!0,hintOptions:this.options.hintOptions}},fullScreenParentProps:function(){var e={class:["full-screen-parent",this.fullCoder?"full-screen":""],style:{}};return this.fullCoder&&(e.style["z-index"]=this.zIndex),e}},mounted:function(){this._initialize()},methods:{_initialize:function(){var e=this;this.coder=s.fromTextArea(this.$refs.textarea,this.coderOptions),this.coder.setValue(this.value||this.code),this.value||this.code?this.hasCode=!0:this.hasCode=!1,this.coder.on("change",(function(t){e.code=t.getValue(),e.code?e.hasCode=!0:e.hasCode=!1,e.$emit&&e.$emit("input",e.code)})),this.coder.on("focus",(function(){e.hasCode=!0})),this.coder.on("blur",(function(){e.code?e.hasCode=!0:e.hasCode=!1}))},getCodeContent:function(){return this.code},setCodeContent:function(e){this.coder.setValue(e)},_getLanguage:function(e){return this.modes.find((function(t){var n=e.toLowerCase(),r=t.label.toLowerCase(),o=t.value.toLowerCase();return r===n||o===n}))},_getCoder:function(){var e=this;return new Promise((function(t){(function n(){e.coder?t(e.coder):setTimeout(n,10)})()}))},changeMode:function(e){this.coder.setOption("mode","text/".concat(e));var t=this._getLanguage(e).label.toLowerCase();this.$emit("language-change",t)},nullTipClick:function(){this.coder.focus()}}},u=l,c=(n("480d"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,null,null);t["default"]=d.exports},a935:function(e,t,n){},a9a9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-list",{attrs:{itemLayout:"horizontal",dataSource:e.data},scopedSlots:e._u([{key:"renderItem",fn:function(t,r){return n("a-list-item",{key:r},[n("a-list-item-meta",[n("a",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))]),n("span",{attrs:{slot:"description"},slot:"description"},[n("span",{staticClass:"security-list-description"},[e._v(e._s(t.description))]),t.value?n("span",[e._v(" : ")]):e._e(),n("span",{staticClass:"security-list-value"},[e._v(e._s(t.value))])])]),t.actions?[n("a",{attrs:{slot:"actions"},on:{click:t.actions.callback},slot:"actions"},[e._v(e._s(t.actions.title))])]:e._e()],2)}}])})},o=[],i={data:function(){var e=this;return{data:[{title:"账户密码",description:"当前密码强度",value:"强",actions:{title:"修改",callback:function(){e.$message.info("This is a normal message")}}},{title:"密保手机",description:"已绑定手机",value:"138****8293",actions:{title:"修改",callback:function(){e.$message.success("This is a message of success")}}},{title:"密保问题",description:"未设置密保问题，密保问题可有效保护账户安全",value:"",actions:{title:"设置",callback:function(){e.$message.error("This is a message of error")}}},{title:"备用邮箱",description:"已绑定邮箱",value:"ant***sign.com",actions:{title:"修改",callback:function(){e.$message.warning("This is message of warning")}}},{title:"MFA 设备",description:"未绑定 MFA 设备，绑定后，可以进行二次确认",value:"",actions:{title:"绑定",callback:function(){e.$message.info("This is a normal message")}}}]}}},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,"9a371cb2",null);t["default"]=l.exports},aa8e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,okButtonProps:{props:{disabled:e.disableSubmit}},confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"航班号",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ticketCode",{rules:[{required:!0,message:"请输入航班号!"}]}],expression:"['ticketCode', {rules:[{ required: true,message: '请输入航班号!'}]}]"}],attrs:{placeholder:"请输入航班号",readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"航班时间",hasFeedback:""}},[n("j-date",{directives:[{name:"decorator",rawName:"v-decorator",value:["tickectDate",{trigger:"input",rules:[{required:!0,message:"请输入航班号!"}]}],expression:"['tickectDate',{trigger:'input',rules:[{ required: true,message: '请输入航班号!'}]}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单号码",hidden:e.hiding,hasFeedback:""},model:{value:this.orderId,callback:function(t){e.$set(this,"orderId",t)},expression:"this.orderId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderId",{}],expression:"[ 'orderId', {}]"}],attrs:{disabled:"disabled"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"创建人",hidden:e.hiding,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["createBy",{}],expression:"[ 'createBy', {}]"}],attrs:{readOnly:e.disableSubmit}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"创建时间",hidden:e.hiding,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["createTime",{}],expression:"[ 'createTime', {}]"}],attrs:{readOnly:e.disableSubmit}})],1)],1)],1)],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=n("caaf"),u=n.n(l),c=n("2dab"),d={components:{JDate:c["default"]},name:"JeecgOrderTicketModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},moment:u.a,format:"YYYY-MM-DD HH:mm:ss",disableSubmit:!1,orderId:"",hiding:!1,confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/test/order/addTicket",edit:"/test/order/editTicket"}}},created:function(){},methods:{add:function(e){e?this.edit({orderId:e},""):this.$message.warning("请选择一条航班数据")},detail:function(e){this.edit(e,"d")},edit:function(e,t){var n=this;"e"==t?(this.hiding=!1,this.disableSubmit=!1):"d"==t?(this.hiding=!1,this.disableSubmit=!0):(this.hiding=!0,this.disableSubmit=!1),this.form.resetFields(),this.orderId=e.orderId,this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){n.form.setFieldsValue(s()(n.model,"ticketCode","tickectDate","orderId","createBy","createTime","updateBy","updateTime"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);s.mainId=e.orderId,Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},f=d,p=n("5d22"),h=Object(p["a"])(f,r,o,!1,null,"2627f568",null);t["default"]=h.exports},aaf3:function(e,t,n){"use strict";var r=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return r.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},ac12:function(e,t,n){"use strict";n("b89b")},ace0:function(e,t,n){(function(e){e(n("fc0f"))})((function(e){"use strict";e.multiplexingMode=function(t){var n=Array.prototype.slice.call(arguments,1);function r(e,t,n,r){if("string"==typeof t){var o=e.indexOf(t,n);return r&&o>-1?o+t.length:o}var i=t.exec(n?e.slice(n):e);return i?i.index+n+(r?i[0].length:0):-1}return{startState:function(){return{outer:e.startState(t),innerActive:null,inner:null}},copyState:function(n){return{outer:e.copyState(t,n.outer),innerActive:n.innerActive,inner:n.innerActive&&e.copyState(n.innerActive.mode,n.inner)}},token:function(o,i){if(i.innerActive){var a=i.innerActive;u=o.string;if(!a.close&&o.sol())return i.innerActive=i.inner=null,this.token(o,i);f=a.close?r(u,a.close,o.pos,a.parseDelimiters):-1;if(f==o.pos&&!a.parseDelimiters)return o.match(a.close),i.innerActive=i.inner=null,a.delimStyle&&a.delimStyle+" "+a.delimStyle+"-close";f>-1&&(o.string=u.slice(0,f));var s=a.mode.token(o,i.inner);return f>-1&&(o.string=u),f==o.pos&&a.parseDelimiters&&(i.innerActive=i.inner=null),a.innerStyle&&(s=s?s+" "+a.innerStyle:a.innerStyle),s}for(var l=1/0,u=o.string,c=0;c<n.length;++c){var d=n[c],f=r(u,d.open,o.pos);if(f==o.pos){d.parseDelimiters||o.match(d.open),i.innerActive=d;var p=0;if(t.indent){var h=t.indent(i.outer,"","");h!==e.Pass&&(p=h)}return i.inner=e.startState(d.mode,p),d.delimStyle&&d.delimStyle+" "+d.delimStyle+"-open"}-1!=f&&f<l&&(l=f)}l!=1/0&&(o.string=u.slice(0,l));var m=t.token(o,i.outer);return l!=1/0&&(o.string=u),m},indent:function(n,r,o){var i=n.innerActive?n.innerActive.mode:t;return i.indent?i.indent(n.innerActive?n.inner:n.outer,r,o):e.Pass},blankLine:function(r){var o=r.innerActive?r.innerActive.mode:t;if(o.blankLine&&o.blankLine(r.innerActive?r.inner:r.outer),r.innerActive)"\n"===r.innerActive.close&&(r.innerActive=r.inner=null);else for(var i=0;i<n.length;++i){var a=n[i];"\n"===a.open&&(r.innerActive=a,r.inner=e.startState(a.mode,o.indent?o.indent(r.outer,"",""):0))}},electricChars:t.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:t}}}}}))},ad0d:function(e,t,n){},ae07:function(e,t,n){},ae14:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"dragDiv",staticClass:"drag"},[n("div",{staticClass:"drag_bg"}),n("div",{staticClass:"drag_text"},[e._v(e._s(e.confirmWords))]),n("div",{ref:"moveDiv",staticClass:"handler handler_bg",class:{handler_ok_bg:e.confirmSuccess},staticStyle:{border:"0.5px solid #fff",height:"34px",position:"absolute",top:"0px",left:"0px"},on:{mousedown:function(t){return e.mousedownFn(t)}}})])},o=[],i={name:"JSlider",data:function(){return{beginClientX:0,mouseMoveStata:!1,maxwidth:"",confirmWords:"拖动滑块验证",confirmSuccess:!1}},methods:{isSuccess:function(){return this.confirmSuccess},mousedownFn:function(e){this.confirmSuccess||(e.preventDefault&&e.preventDefault(),this.mouseMoveStata=!0,this.beginClientX=e.clientX)},successFunction:function(){this.confirmSuccess=!0,this.confirmWords="验证通过",window.addEventListener?(document.getElementsByTagName("html")[0].removeEventListener("mousemove",this.mouseMoveFn),document.getElementsByTagName("html")[0].removeEventListener("mouseup",this.moseUpFn)):document.getElementsByTagName("html")[0].removeEventListener("mouseup",(function(){})),document.getElementsByClassName("drag_text")[0].style.color="#fff",document.getElementsByClassName("handler")[0].style.left=this.maxwidth+"px",document.getElementsByClassName("drag_bg")[0].style.width=this.maxwidth+"px",this.$emit("onSuccess",!0)},mouseMoveFn:function(e){if(this.mouseMoveStata){var t=e.clientX-this.beginClientX;t>0&&t<=this.maxwidth?(document.getElementsByClassName("handler")[0].style.left=t+"px",document.getElementsByClassName("drag_bg")[0].style.width=t+"px"):t>this.maxwidth&&this.successFunction()}},moseUpFn:function(e){this.mouseMoveStata=!1;var t=e.clientX-this.beginClientX;t<this.maxwidth&&(document.getElementsByClassName("handler")[0].style.left="0px",document.getElementsByClassName("drag_bg")[0].style.width="0px")}},mounted:function(){this.maxwidth=this.$refs.dragDiv.clientWidth-this.$refs.moveDiv.clientWidth,document.getElementsByTagName("html")[0].addEventListener("mousemove",this.mouseMoveFn),document.getElementsByTagName("html")[0].addEventListener("mouseup",this.moseUpFn)}},a=i,s=(n("0d7e"),n("5d22")),l=Object(s["a"])(a,r,o,!1,null,"fe7c1600",null);t["default"]=l.exports},ae3b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{centered:"",title:e.title,width:1e3,visible:e.visible,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-row",{attrs:{gutter:18}},[n("a-col",{attrs:{span:16}},[n("a-card",{attrs:{title:"选择人员",bordered:!0}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:10}},[n("a-form-item",{attrs:{label:"姓名"}},[n("a-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),n("a-col",{attrs:{span:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",[n("a-table",{attrs:{size:"small",bordered:"",rowKey:"id",columns:e.columns1,dataSource:e.dataSource1,pagination:e.ipagination,loading:e.loading,scroll:{y:240},rowSelection:{selectedRowKeys:e.selectedRowKeys,onSelectAll:e.onSelectAll,onSelect:e.onSelect,onChange:e.onSelectChange}},on:{change:e.handleTableChange}})],1)])],1),n("a-col",{attrs:{span:8}},[n("a-card",{attrs:{title:"用户选择",bordered:!0}},[n("div",[n("a-table",{attrs:{size:"small",bordered:"",rowKey:"id",columns:e.columns2,dataSource:e.dataSource2,loading:e.loading,scroll:{y:240}},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a-button",{attrs:{type:"primary",size:"small",icon:"delete"},on:{click:function(t){return e.handleDelete(r)}}},[e._v("删除")])],1)}}])})],1)])],1)],1)],1)],1)},o=[],i=n("ca00"),a=n("0fea"),s={name:"SelectDemoModal",data:function(){return{title:"用户列表",names:[],visible:!1,placement:"right",description:"人员管理页面",queryParam:{},columns1:[{title:"#",dataIndex:"",key:"rowIndex",width:50,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"姓名",align:"center",width:113,dataIndex:"name"},{title:"年龄",align:"center",width:100,dataIndex:"age"},{title:"出生日期",align:"center",width:100,dataIndex:"birthday"}],columns2:[{title:"用户账号",align:"center",width:100,dataIndex:"name"},{title:"操作",dataIndex:"action",align:"center",width:100,scopedSlots:{customRender:"action"}}],dataSource1:[],dataSource2:[],ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},loading:!1,selectedRowKeys:[],selectedRows:[],url:{list:"/test/jeecgDemo/list"}}},created:function(){this.loadData()},methods:{searchQuery:function(){this.loadData(1)},searchReset:function(){this.queryParam={},this.loadData(1)},handleCancel:function(){this.visible=!1},handleOk:function(){this.$emit("selectFinished",this.dataSource2),this.visible=!1},add:function(){this.visible=!0},loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(a["c"])(this.url.list,n).then((function(e){e.success&&(t.dataSource1=e.result.records,t.ipagination.total=e.result.total)}))},getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(i["b"])(e)},getQueryField:function(){},onSelectAll:function(e,t,n){if(!0===e)for(var r=0;r<n.length;r++)this.dataSource2.push(n[r]);else for(var o=0;o<n.length;o++)this.dataSource2.splice(this.dataSource2.indexOf(n[o]),1)},onSelect:function(e,t){if(!0===t)this.dataSource2.push(e);else{var n=this.dataSource2.indexOf(e);n>=0&&this.dataSource2.splice(this.dataSource2.indexOf(e),1)}},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[]},handleDelete:function(e){this.dataSource2.splice(this.dataSource2.indexOf(e),1)},handleTableChange:function(e,t,n){Object.keys(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"==n.order?"asc":"desc"),this.ipagination=e,this.loadData()}}},l=s,u=(n("84a7"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"59dc54d2",null);t["default"]=c.exports},aee5:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"审核",width:500,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{cancel:e.handleCancel}},[n("a-textarea",{attrs:{placeholder:"请输入审核不通过原因",rows:4},model:{value:e.detail,callback:function(t){e.detail=t},expression:"detail"}}),n("template",{slot:"footer"},[n("a-button",{key:"back",attrs:{type:"danger"},on:{click:function(t){return e.submitForm("2")}}},[e._v("审核不通过")]),n("a-button",{key:"submit",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("1")}}},[e._v("审核通过")])],1)],2)},o=[],i=n("0fea"),a={name:"ProductVerifyModal",data:function(){return{visible:!1,productId:"",confirmLoading:!1,url:{verify:"/mall/pmsProduct/verifyProduct"},detail:""}},methods:{submitForm:function(e){var t=this;if("2"!=e||""!=this.detail.trim()){this.confirmLoading=!0;var n={productId:this.productId,detail:this.detail,status:e};Object(i["h"])(this.url.verify,n).then((function(e){e.success?(t.confirmLoading=!1,t.visible=!1,t.$message.success("审核成功"),t.$emit("ok")):t.$message.warning(e.message)}))}else this.$message.warning("请输入审核不通过原因")},open:function(e){this.visible=!0,this.productId=e},handleCancel:function(){this.visible=!1}}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"268c899e",null);t["default"]=u.exports},b020:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{borderd:!1}},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleTableCheck}},[e._v("表单验证")]),n("span",{staticStyle:{"padding-left":"8px"}}),n("a-tooltip",{attrs:{placement:"top",title:"获取值，忽略表单验证",autoAdjustOverflow:!0}},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleTableGet}},[e._v("获取值")])],1),n("span",{staticStyle:{"padding-left":"8px"}}),n("a-tooltip",{attrs:{placement:"top",title:"模拟加载1000条数据",autoAdjustOverflow:!0}},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleTableSet}},[e._v("设置值")])],1),n("j-editable-table",{ref:"editableTable",staticStyle:{"margin-top":"8px"},attrs:{loading:e.loading,columns:e.columns,dataSource:e.dataSource,rowNumber:!0,rowSelection:!0,actionButton:!0},on:{selectRowChange:e.handleSelectRowChange},scopedSlots:e._u([{key:"action",fn:function(t){return[n("a",{on:{click:function(n){return e.handleDelete(t)}}},[e._v(e._s(t.text))])]}}])})],1)},o=[],i=n("caaf"),a=n.n(i),s=n("7550"),l=n("e2e0"),u=n("ca00"),c={name:"JeecgEditableTableExample",components:{JEditableTable:s["default"]},data:function(){return{loading:!1,columns:[{title:"字段名称",key:"dbFieldName",width:"300px",type:l["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"请输入${title}"},{pattern:/^[a-z|A-Z][a-z|A-Z\d_-]{0,}$/,message:"${title}必须以字母开头，可包含数字、下划线、横杠"}]},{title:"文件域",key:"upload",type:l["a"].upload,width:"300px",placeholder:"点击上传",token:!0,responseName:"message",action:window._CONFIG["domianURL"]+"/sys/common/upload"},{title:"字段类型",key:"dbFieldType",width:"300px",type:l["a"].select,options:[{title:"String",value:"string"},{title:"Integer",value:"int"},{title:"Double",value:"double"},{title:"Boolean",value:"boolean"}],defaultValue:"",placeholder:"请选择${title}",validateRules:[{required:!0,message:"请选择${title}"}]},{title:"多选测试",key:"multipleSelect",width:"300px",type:l["a"].select,props:{mode:"multiple"},options:[{title:"String",value:"string"},{title:"Integer",value:"int"},{title:"Double",value:"double"},{title:"Boolean",value:"boolean"}],defaultValue:["int","boolean"],placeholder:"这里可以多选",validateRules:[{required:!0,message:"请选择${title}"}]},{title:"字段长度",key:"dbLength",width:"100px",type:l["a"].inputNumber,defaultValue:32,placeholder:"${title}",validateRules:[{required:!0,message:"请输入${title}"}]},{title:"日期",key:"datetime",width:"320px",type:l["a"].datetime,defaultValue:"2019-4-30 14:52:22",placeholder:"请选择${title}",validateRules:[{required:!0,message:"请选择${title}"}]},{title:"可以为空",key:"isNull",width:"100px",type:l["a"].checkbox,customValue:["Y","N"],defaultChecked:!1},{title:"操作",key:"action",width:"100px",type:l["a"].slot,slot:"action",defaultValue:"删除"}],dataSource:[],selectedRowIds:[]}},created:function(){},mounted:function(){this.randomData(23,!1)},methods:{handleTableCheck:function(){var e=this;this.$refs.editableTable.getValues((function(t){0===t?e.$message.success("验证通过"):e.$message.error("验证未通过")}))},handleTableGet:function(){this.$refs.editableTable.getValues((function(e,t){}),!1),this.$message.info("获取值成功，请看控制台输出")},handleTableSet:function(){this.randomData(1e3,!0)},handleSelectRowChange:function(e){this.selectedRowIds=e},randomData:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n&&(this.loading=!0);for(var r=function(){var e=parseInt(Object(u["d"])(1e3,9999999999999));return a()(new Date(e)).format("YYYY-MM-DD HH:mm:ss")},o=Date.now(),i=[],s=0;s<e;s++)i.push({id:Object(u["f"])(),dbFieldName:"name_".concat(s+1),multipleSelect:["string",["int","double","boolean"][Object(u["d"])(0,2)]],dbFieldType:["string","int","double","boolean"][Object(u["d"])(0,3)],dbLength:Object(u["d"])(0,233),datetime:r(),isNull:["Y","N"][Object(u["d"])(0,1)]});this.dataSource=i;var l=Date.now(),c=l-o;n&&c<e&&setTimeout((function(){t.loading=!1}),e-c)},handleDelete:function(e){var t=e.rowId,n=e.target;n.removeRows(t)}}},d=c,f=n("5d22"),p=Object(f["a"])(d,r,o,!1,null,"1fd2fa68",null);t["default"]=p.exports},b046:function(e,t,n){"use strict";n("e530")},b098:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-tree-select",{staticStyle:{width:"100%"},attrs:{allowClear:"",labelInValue:"",disabled:e.disabled,dropdownStyle:{maxHeight:"400px",overflow:"auto"},placeholder:e.placeholder,loadData:e.asyncLoadTreeData,value:e.treeValue,treeData:e.treeData},on:{change:e.onChange,search:e.onSearch}})},o=[],i=n("0fea");function a(e){return u(e)||l(e)||d(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return f(e)}function c(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function d(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={name:"JTreeSelect",props:{value:{type:String,required:!1},placeholder:{type:String,default:"请选择",required:!1},dict:{type:String,default:"",required:!1},pidField:{type:String,default:"pid",required:!1},pidValue:{type:String,default:"0",required:!1},disabled:{type:Boolean,default:!1,required:!1},hasChildField:{type:String,default:"",required:!1}},data:function(){return{treeValue:"",treeData:[],url:"/sys/dict/loadTreeData",view:"/sys/dict/loadDictItem/",tableName:"",text:"",code:""}},watch:{value:function(){this.loadItemByCode()},dict:function(){this.initDictInfo(),this.loadRoot()}},created:function(){this.initDictInfo(),this.loadRoot(),this.loadItemByCode()},methods:{loadItemByCode:function(){var e=this;this.value&&"0"!=this.value?Object(i["c"])("".concat(this.view).concat(this.dict),{key:this.value}).then((function(t){t.success&&(e.treeValue={key:e.value,value:e.value,label:t.result})})):this.treeValue=""},initDictInfo:function(){var e=this.dict.split(",");this.tableName=e[0],this.text=e[1],this.code=e[2]},asyncLoadTreeData:function(e){var t=this;return new Promise((function(n){if(e.$vnode.children)n();else{var r=e.$vnode.key,o={pid:r,tableName:t.tableName,text:t.text,code:t.code,pidField:t.pidField,hasChildField:t.hasChildField};Object(i["c"])(t.url,o).then((function(e){if(e.success){var o,i=c(e.result);try{for(i.s();!(o=i.n()).done;){var s=o.value;s.value=s.key,0==s.leaf?s.isLeaf=!1:1==s.leaf&&(s.isLeaf=!0)}}catch(l){i.e(l)}finally{i.f()}t.addChildren(r,e.result,t.treeData),t.treeData=a(t.treeData)}n()}))}}))},addChildren:function(e,t,n){if(n&&n.length>0){var r,o=c(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.key==e){t&&0!=t.length?i.children=t:i.isLeaf=!0;break}this.addChildren(e,t,i.children)}}catch(a){o.e(a)}finally{o.f()}}},loadRoot:function(){var e=this,t={pid:this.pidValue,tableName:this.tableName,text:this.text,code:this.code,pidField:this.pidField,hasChildField:this.hasChildField};Object(i["c"])(this.url,t).then((function(t){if(t.success&&t.result){var n,r=c(t.result);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.value=o.key,0==o.leaf?o.isLeaf=!1:1==o.leaf&&(o.isLeaf=!0)}}catch(i){r.e(i)}finally{r.f()}e.treeData=a(t.result)}}))},onChange:function(e){e?(this.$emit("change",e.value),this.treeValue=e):(this.$emit("change",""),this.treeValue="")},onSearch:function(e){},getCurrTreeData:function(){return this.treeData}},model:{prop:"value",event:"change"}},h=p,m=n("5d22"),g=Object(m["a"])(h,r,o,!1,null,null,null);t["default"]=g.exports},b0cd:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"选择部门",width:e.modalWidth,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[n("a-spin",{attrs:{tip:"Loading...",spinning:!1}},[n("a-input-search",{staticStyle:{"margin-bottom":"1px"},attrs:{placeholder:"请输入部门名称按回车进行搜索"},on:{search:e.onSearch}}),n("a-tree",{attrs:{checkable:"",treeData:e.treeData,checkStrictly:!0,autoExpandParent:e.autoExpandParent,expandedKeys:e.expandedKeys,checkedKeys:e.checkedKeys},on:{check:e.onCheck,select:e.onSelect,expand:e.onExpand},scopedSlots:e._u([{key:"title",fn:function(t){var r=t.title;return[r.indexOf(e.searchValue)>-1?n("span",[e._v("\n          "+e._s(r.substr(0,r.indexOf(e.searchValue)))+"\n          "),n("span",{staticStyle:{color:"#f50"}},[e._v(e._s(e.searchValue))]),e._v("\n          "+e._s(r.substr(r.indexOf(e.searchValue)+e.searchValue.length))+"\n        ")]):n("span",[e._v(e._s(r))])]}}])})],1)],1)},o=[],i=n("4ec3");function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function s(e){return d(e)||c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function c(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={name:"JSelectDepartModal",props:["modalWidth","multi","rootOpened","departId"],data:function(){return{visible:!1,confirmLoading:!1,treeData:[],autoExpandParent:!0,expandedKeys:[],dataList:[],checkedKeys:[],checkedRows:[],searchValue:""}},created:function(){this.loadDepart()},watch:{departId:function(){this.initDepartComponent()},visible:{handler:function(){this.departId?this.checkedKeys=this.departId.split(","):this.checkedKeys=[]}}},methods:{show:function(){this.visible=!0,this.checkedRows=[],this.checkedKeys=[]},loadDepart:function(){var e=this;Object(i["x"])().then((function(t){if(t.success){var n=s(t.result);e.reWriterWithSlot(n),e.treeData=n,e.initDepartComponent(),e.rootOpened&&e.initExpandedKeys(t.result)}}))},initDepartComponent:function(){var e="";if(this.departId){var t,n=this.departId,r=a(this.dataList);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.indexOf(o.key)>=0&&(e+=","+o.title)}}catch(i){r.e(i)}finally{r.f()}e&&(e=e.substring(1))}this.$emit("initComp",e)},reWriterWithSlot:function(e){var t,n=a(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.children&&r.children.length>0){this.reWriterWithSlot(r.children);var o=Object.assign({},r);o.children={},this.dataList.push(o)}else this.dataList.push(r),r.scopedSlots={title:"title"}}}catch(i){n.e(i)}finally{n.f()}},initExpandedKeys:function(e){if(e&&e.length>0){var t,n=[],r=a(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.children&&o.children.length>0&&n.push(o.id)}}catch(i){r.e(i)}finally{r.f()}this.expandedKeys=[].concat(n)}else this.expandedKeys=[]},onCheck:function(e,t){var n=this;if(this.multi)this.checkedKeys=e.checked,this.checkedRows.push(t.node.dataRef);else{var r=e.checked.filter((function(e){return n.checkedKeys.indexOf(e)<0}));this.checkedKeys=s(r),this.checkedRows=[t.node.dataRef]}},onSelect:function(e,t){var n=[];if(n.push(e[0]),this.checkedKeys&&0!=this.checkedKeys.length&&this.multi){var r,o=t.node.dataRef.key;if(this.checkedKeys.indexOf(o)>=0)this.checkedKeys=this.checkedKeys.filter((function(e){return e!=o})),this.checkedRows=this.checkedRows.filter((function(e){return e.key!=o}));else this.checkedRows.push(t.node.dataRef),(r=this.checkedKeys).push.apply(r,n)}else this.checkedKeys=[].concat(n),this.checkedRows=[t.node.dataRef]},onExpand:function(e){this.expandedKeys=e,this.autoExpandParent=!1},handleSubmit:function(){this.checkedKeys&&0!=this.checkedKeys.length?this.$emit("ok",this.checkedRows,this.checkedKeys.join(",")):this.$emit("ok",""),this.handleClear()},handleCancel:function(){this.handleClear()},handleClear:function(){this.visible=!1,this.checkedKeys=[]},getParentKey:function(e,t){for(var n,r=0;r<t.length;r++){var o=t[r];o.children&&(o.children.some((function(t){return t.key===e}))?n=o.key:this.getParentKey(e,o.children)&&(n=this.getParentKey(e,o.children)))}return n},onSearch:function(e){var t=this,n=this.dataList.map((function(n){return n.title.indexOf(e)>-1?t.getParentKey(n.key,t.treeData):null})).filter((function(e,t,n){return e&&n.indexOf(e)===t}));Object.assign(this,{expandedKeys:n,searchValue:e,autoExpandParent:!0})}}},h=p,m=n("5d22"),g=Object(m["a"])(h,r,o,!1,null,"9b701606",null);t["default"]=g.exports},b0dd:function(e,t,n){},b128:function(e,t,n){},b19f:function(e,t,n){},b1e2:function(e,t,n){e.exports=n.p+"img/用户管理.57fdd9ee.png"},b2a0:function(e,t,n){(function(e){e(n("fc0f"))})((function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var n=t(["_","var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","open","public","internal","fileprivate","private","deinit","init","new","override","self","subscript","super","convenience","dynamic","final","indirect","lazy","required","static","unowned","unowned(safe)","unowned(unsafe)","weak","as","is","break","case","continue","default","else","fallthrough","for","guard","if","in","repeat","switch","where","while","defer","return","inout","mutating","nonmutating","catch","do","rethrows","throw","throws","try","didSet","get","set","willSet","assignment","associativity","infix","left","none","operator","postfix","precedence","precedencegroup","prefix","right","Any","AnyObject","Type","dynamicType","Self","Protocol","__COLUMN__","__FILE__","__FUNCTION__","__LINE__"]),r=t(["var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","for"]),o=t(["true","false","nil","self","super","_"]),i=t(["Array","Bool","Character","Dictionary","Double","Float","Int","Int8","Int16","Int32","Int64","Never","Optional","Set","String","UInt8","UInt16","UInt32","UInt64","Void"]),a="+-/*%=|&<>~^?!",s=":;,.(){}[]",l=/^\-?0b[01][01_]*/,u=/^\-?0o[0-7][0-7_]*/,c=/^\-?0x[\dA-Fa-f][\dA-Fa-f_]*(?:(?:\.[\dA-Fa-f][\dA-Fa-f_]*)?[Pp]\-?\d[\d_]*)?/,d=/^\-?\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee]\-?\d[\d_]*)?/,f=/^\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1/,p=/^\.(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/,h=/^\#[A-Za-z]+/,m=/^@(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;function g(e,t,g){if(e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;var v,x=e.peek();if("/"==x){if(e.match("//"))return e.skipToEnd(),"comment";if(e.match("/*"))return t.tokenize.push(b),b(e,t)}if(e.match(h))return"builtin";if(e.match(m))return"attribute";if(e.match(l))return"number";if(e.match(u))return"number";if(e.match(c))return"number";if(e.match(d))return"number";if(e.match(p))return"property";if(a.indexOf(x)>-1)return e.next(),"operator";if(s.indexOf(x)>-1)return e.next(),e.match(".."),"punctuation";if(v=e.match(/("""|"|')/)){var w=y.bind(null,v[0]);return t.tokenize.push(w),w(e,t)}if(e.match(f)){var _=e.current();return i.hasOwnProperty(_)?"variable-2":o.hasOwnProperty(_)?"atom":n.hasOwnProperty(_)?(r.hasOwnProperty(_)&&(t.prev="define"),"keyword"):"define"==g?"def":"variable"}return e.next(),null}function v(){var e=0;return function(t,n,r){var o=g(t,n,r);if("punctuation"==o)if("("==t.current())++e;else if(")"==t.current()){if(0==e)return t.backUp(1),n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n);--e}return o}}function y(e,t,n){var r,o=1==e.length,i=!1;while(r=t.peek())if(i){if(t.next(),"("==r)return n.tokenize.push(v()),"string";i=!1}else{if(t.match(e))return n.tokenize.pop(),"string";t.next(),i="\\"==r}return o&&n.tokenize.pop(),"string"}function b(e,t){var n;while(1){if(e.match(/^[^/*]+/,!0),n=e.next(),!n)break;"/"===n&&e.eat("*")?t.tokenize.push(b):"*"===n&&e.eat("/")&&t.tokenize.pop()}return"comment"}function x(e,t,n){this.prev=e,this.align=t,this.indented=n}function w(e,t){var n=t.match(/^\s*($|\/[\/\*])/,!1)?null:t.column()+1;e.context=new x(e.context,n,e.indented)}function _(e){e.context&&(e.indented=e.context.indented,e.context=e.context.prev)}e.defineMode("swift",(function(e){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(e,t){var n=t.prev;t.prev=null;var r=t.tokenize[t.tokenize.length-1]||g,o=r(e,t,n);if(o&&"comment"!=o?t.prev||(t.prev=o):t.prev=n,"punctuation"==o){var i=/[\(\[\{]|([\]\)\}])/.exec(e.current());i&&(i[1]?_:w)(t,e)}return o},indent:function(t,n){var r=t.context;if(!r)return 0;var o=/^[\]\}\)]/.test(n);return null!=r.align?r.align-(o?1:0):r.indented+(o?0:e.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace",closeBrackets:"()[]{}''\"\"``"}})),e.defineMIME("text/x-swift","swift")}))},b2b7:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{height:"100%"},attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline",form:e.form}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"人员列表"}},[n("a-select",{attrs:{mode:"multiple",placeholder:"Please select",value:e.nameList},on:{change:e.handleChange}})],1)],1),n("a-col",{attrs:{span:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.handleSelect}},[e._v("选择")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.selectReset}},[e._v("清空")])],1)])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"人员列表"}},[n("a-input-search",{attrs:{placeholder:"请先选择用户",disabled:"",size:"large"},on:{search:e.onSearchDepUser},model:{value:this.selectedDepUsers,callback:function(t){e.$set(this,"selectedDepUsers",t)},expression:"this.selectedDepUsers"}},[n("a-button",{attrs:{slot:"enterButton"},slot:"enterButton"},[e._v("选择用户")])],1)],1)],1)],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"性别"}},[n("j-dict-select-tag",{attrs:{title:"性别",dictCode:"sex",disabled:""}})],1)],1)],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"选择部门"}},[n("j-select-depart",{directives:[{name:"decorator",rawName:"v-decorator",value:["departId"],expression:"['departId']"}],attrs:{"trigger-change":!0}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中的部门ID(v-decorator):"+e._s(e.getDepartIdValue()))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"选择部门"}},[n("j-select-depart",{model:{value:e.departId,callback:function(t){e.departId=t},expression:"departId"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中的部门ID(v-model):"+e._s(e.departId))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"选择用户"}},[n("j-select-user-by-dep",{model:{value:e.userRealName,callback:function(t){e.userRealName=t},expression:"userRealName"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中的用户(v-model):"+e._s(e.userRealName))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"选择用户"}},[n("j-select-multi-user",{model:{value:e.multiUser,callback:function(t){e.multiUser=t},expression:"multiUser"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("选中的用户(v-model):"+e._s(e.multiUser))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"多选组合"}},[n("j-checkbox",{attrs:{options:e.jcheckbox.options},model:{value:e.jcheckbox.values,callback:function(t){e.$set(e.jcheckbox,"values",t)},expression:"jcheckbox.values"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("多选组合(v-model)："+e._s(e.jcheckbox.values))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{staticStyle:{"min-height":"120px"},attrs:{label:"代码输入框"}},[n("j-code-editor",{staticStyle:{"min-height":"100px"},attrs:{language:"javascript",fullScreen:!0},model:{value:e.jcodedditor.value,callback:function(t){e.$set(e.jcodedditor,"value",t)},expression:"jcodedditor.value"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("代码输入框(v-model)："+e._s(e.jcodedditor.value))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"日期选择框"}},[n("j-date",{attrs:{showTime:!0,dateFormat:"YYYY-MM-DD HH:mm:ss"},model:{value:e.jdate.value,callback:function(t){e.$set(e.jdate,"value",t)},expression:"jdate.value"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("日期选择框(v-model)："+e._s(e.jdate.value))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{staticStyle:{"min-height":"300px"},attrs:{label:"富文本编辑器"}},[n("j-editor",{model:{value:e.jeditor.value,callback:function(t){e.$set(e.jeditor,"value",t)},expression:"jeditor.value"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("富文本编辑器(v-model)："+e._s(e.jeditor.value))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"过长剪切"}},[n("j-ellipsis",{attrs:{value:e.jellipsis.value,length:30}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("过长剪切："+e._s(e.jellipsis.value))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"验证码"}},[n("j-graphic-code",{on:{success:e.generateCode}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("验证码："+e._s(e.jgraphicCode.value))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"滑块验证码"}},[n("j-slider",{on:{onSuccess:e.handleJSliderSuccess}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("滑块验证码验证通过："+e._s(e.jslider.value))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:12}},[n("a-form-item",{attrs:{label:"多选下拉框"}},[n("j-select-multiple",{attrs:{options:e.jselectMultiple.options},model:{value:e.jselectMultiple.value,callback:function(t){e.$set(e.jselectMultiple,"value",t)},expression:"jselectMultiple.value"}})],1)],1),n("a-col",{attrs:{span:12}},[e._v("多选下拉框(v-model)："+e._s(e.jselectMultiple.value))])],1),n("a-row",{attrs:{gutter:24}},[n("a-col",[n("a-form-item",{attrs:{label:"最大化弹窗"}},[n("a-button",{on:{click:function(){return e.modal.visible=!0}}},[e._v("最大化弹窗")])],1),n("a-modal",{style:e.modal.style,attrs:{visible:e.modal.visible,width:e.modal.width},on:{ok:function(){return e.modal.visible=!1},cancel:function(){return e.modal.visible=!1}}},[n("template",{slot:"title"},[n("div",{staticStyle:{width:"100%",height:"20px","padding-right":"32px"}},[n("div",{staticStyle:{float:"left"}},[e._v(e._s(e.modal.title))]),n("div",{staticStyle:{float:"right"}},[n("a-button",{staticStyle:{width:"56px",height:"100%",border:"0"},attrs:{icon:"fullscreen"},on:{click:e.handleClickToggleFullScreen}})],1)])]),e._l(30,(function(t,r){return[n("p",{key:r},[e._v("这是主体内容，高度是自适应的")])]}))],2)],1)],1)],1)],1),n("j-select-multiple-user",{ref:"selectDemoModal",on:{selectFinished:e.selectOK}}),n("j-search-user-by-dep",{ref:"JSearchUserByDep",on:{ok:e.onSearchDepUserCallBack}})],1)},o=[],i=n("ae3b"),a=n("77fc"),s=n("7b16"),l=n("fe54"),u=n("c14a"),c=n("0f9d"),d=n("a726"),f=n("a8760"),p=n("2dab"),h=n("a061"),m=n("d579"),g=n("4201"),v=n("ae14"),y=n("13d2"),b={name:"SelectDemo",components:{JDictSelectTag:s["default"],JSelectMultipleUser:i["default"],JSearchUserByDep:a["default"],JSelectDepart:l["default"],JSelectUserByDep:u["default"],JSelectMultiUser:c["default"],JCheckbox:d["default"],JCodeEditor:f["default"],JDate:p["default"],JEditor:h["default"],JEllipsis:m["default"],JGraphicCode:g["default"],JSlider:v["default"],JSelectMultiple:y["default"]},data:function(){return{selectList:[],selectedDepUsers:"",form:this.$form.createForm(this),departId:"4f1765520d6346f9bd9c79e2479e5b12,57197590443c44f083d42ae24ef26a2c",userRealName:"",multiUser:"",jcheckbox:{values:"spring,jeecgboot",options:[{label:"Jeecg",value:"jeecg"},{label:"Jeecg-Boot",value:"jeecgboot"},{label:"Spring",value:"spring",disabled:!0},{label:"MyBaits",value:"mybatis"}]},jcodedditor:{value:"function sayHi(word) {\n  alert(word)\n}\nsayHi('hello, world!')"},jdate:{value:"2019-5-10 15:33:06"},jeditor:{value:'<h2 style="text-align: center;">富文本编辑器</h2> <p>这里是富文本编辑器。</p>'},jellipsis:{value:"这是一串很长很长的文字段落。这是一串很长很长的文字段落。这是一串很长很长的文字段落。这是一串很长很长的文字段落。"},jgraphicCode:{value:""},jslider:{value:!1},jselectMultiple:{options:[{text:"字符串",value:"String"},{text:"整数型",value:"Integer"},{text:"浮点型",value:"Double"},{text:"布尔型",value:"Boolean"}],value:"Integer,Boolean"},modal:{title:"这里是标题",visible:!1,width:"100%",style:{top:"20px"},fullScreen:!0}}},computed:{nameList:function(){for(var e=[],t=0;t<this.selectList.length;t++)e.push(this.selectList[t].name);return e}},methods:{handleChange:function(){},getDepartIdValue:function(){return this.form.getFieldValue("departId")},selectOK:function(e){this.selectList=e},handleSelect:function(){this.$refs.selectDemoModal.add()},selectReset:function(){this.selectList=[]},onSearchDepUser:function(){this.$refs.JSearchUserByDep.showModal(),this.selectedDepUsers="",this.$refs.JSearchUserByDep.title="根据部门查询用户"},onSearchDepUserCallBack:function(e){this.selectedDepUsers=e},generateCode:function(e){this.jgraphicCode.value=e.toLowerCase()},handleJSliderSuccess:function(e){this.jslider.value=e},handleClickToggleFullScreen:function(){var e=!this.modal.fullScreen;e?(this.modal.width="100%",this.modal.style.top="20px"):(this.modal.width="1200px",this.modal.style.top="50px"),this.modal.fullScreen=e}}},x=b,w=(n("82b1"),n("5d22")),_=Object(w["a"])(x,r,o,!1,null,"0a1c038a",null);t["default"]=_.exports},b2da:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单号"}},[n("a-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.queryParam.orderCode,callback:function(t){e.$set(e.queryParam,"orderCode",t)},expression:"queryParam.orderCode"}})],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("a-form-item",{attrs:{label:"订单类型"}},[n("a-select",{attrs:{placeholder:"请输入订单类型"},model:{value:e.queryParam.ctype,callback:function(t){e.$set(e.queryParam,"ctype",t)},expression:"queryParam.ctype"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{md:6,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),n("span",[e._v("已选择")]),n("a",{staticStyle:{"font-weight":"600"}},[e._v("\n        "+e._s(e.selectedRowKeys.length)+"\n      ")]),n("span",[e._v("项")]),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("jeecg-order-modal-for-j-editable-table",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("b65a"),a=n("b8ad"),s={name:"JeecgOrderMainListForJEditableTable",mixins:[i["a"]],components:{JeecgOrderModalForJEditableTable:a["default"]},data:function(){return{description:"订单管理页面",url:{list:"/test/jeecgOrderMain/list",delete:"/test/jeecgOrderMain/delete",deleteBatch:"/test/jeecgOrderMain/deleteBatch"},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"订单号",align:"center",dataIndex:"orderCode"},{title:"订单类型",align:"center",dataIndex:"ctype",customRender:function(e){var t="";return"1"===e?t="国内订单":"2"===e&&(t="国际订单"),t}},{title:"订单日期",align:"center",dataIndex:"orderDate"},{title:"订单金额",align:"center",dataIndex:"orderMoney"},{title:"订单备注",align:"center",dataIndex:"content"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}]}},methods:{initDictConfig:function(){}}},l=s,u=(n("e31a"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"1c6adbea",null);t["default"]=c.exports},b334:function(e,t,n){"use strict";n("6a13")},b3c4:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{centered:"",title:e.title,width:1e3,visible:e.visible,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:10}},[n("a-form-item",{attrs:{label:"姓名"}},[n("a-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}})],1)],1),n("a-col",{attrs:{span:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",[n("a-table",{attrs:{size:"small",bordered:"",rowKey:"id",columns:e.columns1,dataSource:e.dataSource1,pagination:e.ipagination,loading:e.loading,scroll:{y:240},rowSelection:{selectedRowKeys:e.selectedRowKeys,onSelectAll:e.onSelectAll,onSelect:e.onSelect,onChange:e.onSelectChange}},on:{change:e.handleTableChange}})],1)])],1)},o=[],i=n("ca00"),a=n("0fea"),s={name:"SelectUserModal",data:function(){return{title:"添加已有用户",names:[],visible:!1,placement:"right",description:"",queryParam:{},columns1:[{title:"#",dataIndex:"",key:"rowIndex",width:50,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"用户账号",align:"center",width:113,dataIndex:"username"},{title:"用户名称",align:"center",width:100,dataIndex:"realname"},{title:"状态",align:"center",width:100,dataIndex:"status"}],columns2:[{title:"用户账号",align:"center",dataIndex:"username"},{title:"用户名称",align:"center",dataIndex:"realname"},{title:"操作",dataIndex:"action",align:"center",width:100,scopedSlots:{customRender:"action"}}],dataSource1:[],dataSource2:[],ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},loading:!1,selectedRowKeys:[],selectedRows:[],url:{list:"/sys/user/list"}}},created:function(){this.loadData()},methods:{searchQuery:function(){this.loadData(1)},searchReset:function(){this.queryParam={},this.loadData(1)},handleCancel:function(){this.visible=!1},handleOk:function(){this.dataSource2=this.selectedRowKeys,this.$emit("selectFinished",this.dataSource2),this.visible=!1},add:function(){this.visible=!0},loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(a["c"])(this.url.list,n).then((function(e){e.success&&(t.dataSource1=e.result.records,t.ipagination.total=e.result.total)}))},getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(i["b"])(e)},getQueryField:function(){},onSelectAll:function(e,t,n){if(!0===e)for(var r=0;r<n.length;r++)this.dataSource2.push(n[r]);else for(var o=0;o<n.length;o++)this.dataSource2.splice(this.dataSource2.indexOf(n[o]),1)},onSelect:function(e,t){if(!0===t)this.dataSource2.push(e);else{var n=this.dataSource2.indexOf(e);n>=0&&this.dataSource2.splice(this.dataSource2.indexOf(e),1)}},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[]},handleDelete:function(e){this.dataSource2.splice(this.dataSource2.indexOf(e),1)},handleTableChange:function(e,t,n){Object.keys(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"==n.order?"asc":"desc"),this.ipagination=e,this.loadData()}}},l=s,u=(n("e3b5"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"81b16eaa",null);t["default"]=c.exports},b3d5:function(e,t,n){},b469:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{width:e.modalWidth,visible:e.visible,title:"数据对比窗口",confirmLoading:e.confirmLoading,cancelText:"取消"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{staticClass:"form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-row",{staticClass:"form-row",attrs:{gutter:24}},[n("a-col",{attrs:{md:12,sm:8}},[n("a-form-item",{attrs:{label:"数据库表名","label-col":{span:6},"wrapper-col":{span:15}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataTale",{}],expression:"[ 'dataTale', {}]"}],attrs:{placeholder:"请输入数据库表名",disabled:""},on:{blur:e.handleTableBlur}})],1)],1),n("a-col",{attrs:{md:12,sm:8}},[n("a-form-item",{attrs:{label:"数据ID","label-col":{span:5},"wrapper-col":{span:15}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataId",{}],expression:"[ 'dataId', {}]"}],attrs:{placeholder:"请输入数据ID",disabled:""},on:{blur:e.handleIdBlur}})],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:24}},[n("a-col",{attrs:{md:12,sm:8}},[n("a-form-item",{attrs:{label:"版本号1","label-col":{span:6},"wrapper-col":{span:15}}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataVersion1",{}],expression:"[ 'dataVersion1', {}]"}],attrs:{placeholder:"请选择版本号"},on:{change:e.handleChange1}},e._l(e.DataVersionList,(function(t,r){return n("a-select-option",{key:r.toString(),attrs:{value:t.id}},[e._v("\n                  "+e._s(t.dataVersion)+"\n                ")])})),1)],1)],1),n("a-col",{attrs:{md:12,sm:8}},[n("a-form-item",{attrs:{label:"版本号2","label-col":{span:5},"wrapper-col":{span:15}}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataVersion2",{}],expression:"[ 'dataVersion2', {}]"}],attrs:{placeholder:"请选择版本号"},on:{change:e.handleChange2}},e._l(e.DataVersionList,(function(t,r){return n("a-select-option",{key:r.toString(),attrs:{value:t.id}},[e._v("\n                  "+e._s(t.dataVersion)+"\n                ")])})),1)],1)],1)],1)],1)],1),n("data-log-compare-modal",{ref:"modal",on:{ok:e.modalFormOk}})],1)],1)},o=[],i=n("0fea"),a=n("fcbc"),s={name:"DataLogModal",components:{DataLogCompareModal:a["default"]},dataId1:"",dataId2:"",dataTable1:"",dataID3:"",data:function(){return{modalWidth:700,modaltoggleFlag:!0,confirmDirty:!1,title:"操作",visible:!1,model:{},confirmLoading:!1,headers:{},form:this.$form.createForm(this),url:{queryDataVerListUrl:"/sys/dataLog/queryDataVerList"},DataVersionList:[]}},created:function(){},methods:{addModal:function(e){var t=this,n=e[0].dataTable,r=e[0].dataId,o=e[0].dataVersion,i=e[1].dataVersion;this.dataId1=e[0].id,this.dataId2=e[1].id,this.dataTable1=e[0].dataTable,this.dataID3=e[0].dataId,this.initDataVersionList(),this.form.resetFields(),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue({dataTale:n,dataId:r,dataVersion1:o,dataVersion2:i})}))},handleOk:function(){this.close(),this.$refs.modal.compareModal(this.dataId1,this.dataId2),this.$refs.modal.title="数据比较"},handleCancel:function(){this.close()},handleSubmit:function(){},close:function(){this.$emit("close"),this.visible=!1,this.disableSubmit=!1},modalFormOk:function(){},initDataVersionList:function(){var e=this,t=this;Object(i["c"])(t.url.queryDataVerListUrl,{dataTable:this.dataTable1,dataId:this.dataID3}).then((function(t){t.success?e.DataVersionList=t.result:(e.DataVersionList=[],e.dataId1="",e.dataId2="")}))},handleChange1:function(e){this.dataId1=e},handleChange2:function(e){this.dataId2=e},handleTableBlur:function(e){this.dataTable1=e.target.value,this.initDataVersionList()},handleIdBlur:function(e){this.dataID3=e.target.value,this.initDataVersionList()}}},l=s,u=n("5d22"),c=Object(u["a"])(l,r,o,!1,null,"499ee242",null);t["default"]=c.exports},b46a:function(e,t,n){"use strict";n("d690")},b4e3:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:12}},[n("a-col",{attrs:{md:7,sm:8}},[n("a-form-item",{attrs:{label:"字典名称",labelCol:{span:6},wrapperCol:{span:14,offset:1}}},[n("a-input",{attrs:{placeholder:"请输入字典名称"},model:{value:e.queryParam.dictName,callback:function(t){e.$set(e.queryParam,"dictName",t)},expression:"queryParam.dictName"}})],1)],1),n("a-col",{attrs:{md:7,sm:8}},[n("a-form-item",{attrs:{label:"字典编号",labelCol:{span:6},wrapperCol:{span:14,offset:1}}},[n("a-input",{attrs:{placeholder:"请输入字典编号"},model:{value:e.queryParam.dictCode,callback:function(t){e.$set(e.queryParam,"dictCode",t)},expression:"queryParam.dictCode"}})],1)],1),n("a-col",{attrs:{md:7,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1),n("div",{staticClass:"table-operator",staticStyle:{"border-top":"5px"}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("添加")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("字典信息")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1)],1),n("a-table",{ref:"table",attrs:{rowKey:"id",size:"middle",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[n("a-icon",{attrs:{type:"edit"}}),e._v("\n          编辑\n        ")],1),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(t){return e.editDictItem(r)}}},[n("a-icon",{attrs:{type:"setting"}}),e._v(" 字典配置")],1),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)}}])})],1),n("dict-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),n("dict-item-list",{ref:"dictItemList"})],1)},o=[],i=n("ca00"),a=n("b65a"),s=n("57ed"),l=n("59a0"),u={name:"DictList",mixins:[a["a"]],components:{DictModal:s["default"],DictItemList:l["default"]},data:function(){return{description:"这是数据字典页面",visible:!1,queryParam:{dictCode:"",dictName:""},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:120,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"字典名称",align:"left",dataIndex:"dictName"},{title:"字典编号",align:"left",dataIndex:"dictCode"},{title:"描述",align:"left",dataIndex:"description"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],dict:"",labelCol:{xs:{span:8},sm:{span:5}},wrapperCol:{xs:{span:16},sm:{span:19}},url:{list:"/sys/dict/list",delete:"/sys/dict/delete",exportXlsUrl:"sys/dict/exportXls",importExcelUrl:"sys/dict/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(i["b"])(e)},cancelDict:function(){this.dict="",this.visible=!1,this.loadData()},editDictItem:function(e){this.$refs.dictItemList.edit(e)},searchReset:function(){var e=this;e.queryParam.dictName="",e.queryParam.dictCode="",e.loadData(this.ipagination.current)}},watch:{openKeys:function(e){}}},c=u,d=(n("507c"),n("5d22")),f=Object(d["a"])(c,r,o,!1,null,"ecd6e416",null);t["default"]=f.exports},b566:function(e,t,n){(function(e){e(n("fc0f"))})((function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var n=t(["and","or","not","is"]),r=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],o=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];function i(e){return e.scopes[e.scopes.length-1]}e.registerHelper("hintWords","python",r.concat(o)),e.defineMode("python",(function(a,s){for(var l="error",u=s.delimiters||s.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,c=[s.singleOperators,s.doubleOperators,s.doubleDelimiters,s.tripleDelimiters,s.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],d=0;d<c.length;d++)c[d]||c.splice(d--,1);var f=s.hangingIndent||a.indentUnit,p=r,h=o;void 0!=s.extra_keywords&&(p=p.concat(s.extra_keywords)),void 0!=s.extra_builtins&&(h=h.concat(s.extra_builtins));var m=!(s.version&&Number(s.version)<3);if(m){var g=s.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;p=p.concat(["nonlocal","False","True","None","async","await"]),h=h.concat(["ascii","bytes","exec","print"]);var v=new RegExp("^(([rbuf]|(br)|(fr))?('{3}|\"{3}|['\"]))","i")}else{g=s.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;p=p.concat(["exec","print"]),h=h.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);v=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var y=t(p),b=t(h);function x(e,t){var n=e.sol()&&"\\"!=t.lastToken;if(n&&(t.indent=e.indentation()),n&&"py"==i(t).type){var r=i(t).offset;if(e.eatSpace()){var o=e.indentation();return o>r?S(t):o<r&&O(e,t)&&"#"!=e.peek()&&(t.errorToken=!0),null}var a=w(e,t);return r>0&&O(e,t)&&(a+=" "+l),a}return w(e,t)}function w(e,t,r){if(e.eatSpace())return null;if(!r&&e.match(/^#.*/))return"comment";if(e.match(/^[0-9\.]/,!1)){var o=!1;if(e.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(o=!0),e.match(/^[\d_]+\.\d*/)&&(o=!0),e.match(/^\.\d+/)&&(o=!0),o)return e.eat(/J/i),"number";var i=!1;if(e.match(/^0x[0-9a-f_]+/i)&&(i=!0),e.match(/^0b[01_]+/i)&&(i=!0),e.match(/^0o[0-7_]+/i)&&(i=!0),e.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(e.eat(/J/i),i=!0),e.match(/^0(?![\dx])/i)&&(i=!0),i)return e.eat(/L/i),"number"}if(e.match(v)){var a=-1!==e.current().toLowerCase().indexOf("f");return a?(t.tokenize=_(e.current(),t.tokenize),t.tokenize(e,t)):(t.tokenize=C(e.current(),t.tokenize),t.tokenize(e,t))}for(var s=0;s<c.length;s++)if(e.match(c[s]))return"operator";return e.match(u)?"punctuation":"."==t.lastToken&&e.match(g)?"property":e.match(y)||e.match(n)?"keyword":e.match(b)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(g)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),r?null:l)}function _(e,t){while("rubf".indexOf(e.charAt(0).toLowerCase())>=0)e=e.substr(1);var n=1==e.length,r="string";function o(e){return function(t,n){var r=w(t,n,!0);return"punctuation"==r&&("{"==t.current()?n.tokenize=o(e+1):"}"==t.current()&&(n.tokenize=e>1?o(e-1):i)),r}}function i(i,a){while(!i.eol())if(i.eatWhile(/[^'"\{\}\\]/),i.eat("\\")){if(i.next(),n&&i.eol())return r}else{if(i.match(e))return a.tokenize=t,r;if(i.match("{{"))return r;if(i.match("{",!1))return a.tokenize=o(0),i.current()?r:a.tokenize(i,a);if(i.match("}}"))return r;if(i.match("}"))return l;i.eat(/['"]/)}if(n){if(s.singleLineStringErrors)return l;a.tokenize=t}return r}return i.isString=!0,i}function C(e,t){while("rubf".indexOf(e.charAt(0).toLowerCase())>=0)e=e.substr(1);var n=1==e.length,r="string";function o(o,i){while(!o.eol())if(o.eatWhile(/[^'"\\]/),o.eat("\\")){if(o.next(),n&&o.eol())return r}else{if(o.match(e))return i.tokenize=t,r;o.eat(/['"]/)}if(n){if(s.singleLineStringErrors)return l;i.tokenize=t}return r}return o.isString=!0,o}function S(e){while("py"!=i(e).type)e.scopes.pop();e.scopes.push({offset:i(e).offset+a.indentUnit,type:"py",align:null})}function k(e,t,n){var r=e.match(/^([\s\[\{\(]|#.*)*$/,!1)?null:e.column()+1;t.scopes.push({offset:t.indent+f,type:n,align:r})}function O(e,t){var n=e.indentation();while(t.scopes.length>1&&i(t).offset>n){if("py"!=i(t).type)return!0;t.scopes.pop()}return i(t).offset!=n}function T(e,t){e.sol()&&(t.beginningOfLine=!0);var n=t.tokenize(e,t),r=e.current();if(t.beginningOfLine&&"@"==r)return e.match(g,!1)?"meta":m?"operator":l;if(/\S/.test(r)&&(t.beginningOfLine=!1),"variable"!=n&&"builtin"!=n||"meta"!=t.lastToken||(n="meta"),"pass"!=r&&"return"!=r||(t.dedent+=1),"lambda"==r&&(t.lambda=!0),":"!=r||t.lambda||"py"!=i(t).type||S(t),1==r.length&&!/string|comment/.test(n)){var o="[({".indexOf(r);if(-1!=o&&k(e,t,"])}".slice(o,o+1)),o="])}".indexOf(r),-1!=o){if(i(t).type!=r)return l;t.indent=t.scopes.pop().offset-f}}return t.dedent>0&&e.eol()&&"py"==i(t).type&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),n}var M={startState:function(e){return{tokenize:x,scopes:[{offset:e||0,type:"py",align:null}],indent:e||0,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var r=T(e,t);return r&&"comment"!=r&&(t.lastToken="keyword"==r||"punctuation"==r?e.current():r),"punctuation"==r&&(r=null),e.eol()&&t.lambda&&(t.lambda=!1),n?r+" "+l:r},indent:function(t,n){if(t.tokenize!=x)return t.tokenize.isString?e.Pass:0;var r=i(t),o=r.type==n.charAt(0);return null!=r.align?r.align-(o?1:0):r.offset-(o?f:0)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return M})),e.defineMIME("text/x-python","python");var a=function(e){return e.split(" ")};e.defineMIME("text/x-cython",{name:"python",extra_keywords:a("by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE")})}))},b644:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("page-layout",{attrs:{title:"单号：234231029431",logo:"https://gw.alipayobjects.com/zos/rmsportal/nxkuOJlFJuAUhzlMTCEe.png"}},[r("detail-list",{staticClass:"detail-layout",attrs:{slot:"headerContent",size:"small",col:2},slot:"headerContent"},[r("detail-list-item",{attrs:{term:"创建人"}},[t._v("曲丽丽")]),r("detail-list-item",{attrs:{term:"订购产品"}},[t._v("XX服务")]),r("detail-list-item",{attrs:{term:"创建时间"}},[t._v("2018-08-07")]),r("detail-list-item",{attrs:{term:"关联单据"}},[r("a",[t._v("12421")])]),r("detail-list-item",{attrs:{term:"生效日期"}},[t._v("2018-08-07 ~ 2018-12-11")]),r("detail-list-item",{attrs:{term:"备注"}},[t._v("请于两个工作日内确认")])],1),r("a-row",{staticClass:"status-list",attrs:{slot:"extra"},slot:"extra"},[r("a-col",{attrs:{xs:12,sm:12}},[r("div",{staticClass:"text"},[t._v("状态")]),r("div",{staticClass:"heading"},[t._v("待审批")])]),r("a-col",{attrs:{xs:12,sm:12}},[r("div",{staticClass:"text"},[t._v("订单金额")]),r("div",{staticClass:"heading"},[t._v("¥ 568.08")])])],1),r("template",{slot:"action"},[r("a-button-group",{staticStyle:{"margin-right":"4px"}},[r("a-button",[t._v("操作")]),r("a-button",[t._v("操作")]),r("a-button",[r("a-icon",{attrs:{type:"ellipsis"}})],1)],1),r("a-button",{attrs:{type:"primary"}},[t._v("主操作")])],1),r("a-card",{attrs:{bordered:!1,title:"流程进度"}},[r("a-steps",{attrs:{direction:t.isMobile()?"vertical":"horizontal",current:1,progressDot:""}},[r("a-step",{attrs:{title:"创建项目"}}),r("a-step",{attrs:{title:"部门初审"}}),r("a-step",{attrs:{title:"财务复核"}}),r("a-step",{attrs:{title:"完成"}})],1)],1),r("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,title:"用户信息"}},[r("detail-list",[r("detail-list-item",{attrs:{term:"用户姓名"}},[t._v("付晓晓")]),r("detail-list-item",{attrs:{term:"会员卡号"}},[t._v("32943898021309809423")]),r("detail-list-item",{attrs:{term:"身份证"}},[t._v("3321944288191034921")]),r("detail-list-item",{attrs:{term:"联系方式"}},[t._v("18112345678")]),r("detail-list-item",{attrs:{term:"联系地址"}},[t._v("浙江省杭州市西湖区黄姑山路工专路交叉路口")])],1),r("detail-list",{attrs:{title:"信息组"}},[r("detail-list-item",{attrs:{term:"某某数据"}},[t._v("725")]),r("detail-list-item",{attrs:{term:"该数据更新时间"}},[t._v("2018-08-08")]),r("detail-list-item",[t._v(" ")]),r("detail-list-item",{attrs:{term:"某某数据"}},[t._v("725")]),r("detail-list-item",{attrs:{term:"该数据更新时间"}},[t._v("2018-08-08")]),r("detail-list-item",[t._v(" ")])],1),r("a-card",{attrs:{type:"inner",title:"多层信息组"}},[r("detail-list",{attrs:{title:"组名称",size:"small"}},[r("detail-list-item",{attrs:{term:"负责人"}},[t._v("林东东")]),r("detail-list-item",{attrs:{term:"角色码"}},[t._v("1234567")]),r("detail-list-item",{attrs:{term:"所属部门"}},[t._v("XX公司-YY部")]),r("detail-list-item",{attrs:{term:"过期时间"}},[t._v("2018-08-08")]),r("detail-list-item",{attrs:{term:"描述"}},[t._v("这段描述很长很长很长很长很长很长很长很长很长很长很长很长很长很长...")])],1),r("a-divider",{staticStyle:{margin:"16px 0"}}),r("detail-list",{attrs:{title:"组名称",size:"small",col:1}},[r("detail-list-item",{attrs:{term:"学名"}},[t._v("\tCitrullus lanatus (Thunb.) Matsum. et Nakai一年生蔓生藤本；茎、枝粗壮，具明显的棱。卷须较粗..")])],1),r("a-divider",{staticStyle:{margin:"16px 0"}}),r("detail-list",{attrs:{title:"组名称",size:"small",col:2}},[r("detail-list-item",{attrs:{term:"负责人"}},[t._v("付小小")]),r("detail-list-item",{attrs:{term:"角色码"}},[t._v("1234567")])],1)],1)],1),r("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,title:"用户近半年来电记录"}},[r("div",{staticClass:"no-data"},[r("a-icon",{attrs:{type:"frown-o"}}),t._v("暂无数据")],1)]),r("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,tabList:t.tabList,activeTabKey:t.activeTabKey},on:{tabChange:function(t){e.activeTabKey=t}}},["1"===t.activeTabKey?r("a-table",{attrs:{columns:t.operationColumns,dataSource:t.operation1,pagination:!1},scopedSlots:t._u([{key:"status",fn:function(e){return[r("a-badge",{attrs:{status:t._f("statusTypeFilter")(e),text:t._f("statusFilter")(e)}})]}}],null,!1,106314470)}):t._e(),"2"===t.activeTabKey?r("a-table",{attrs:{columns:t.operationColumns,dataSource:t.operation2,pagination:!1},scopedSlots:t._u([{key:"status",fn:function(e){return[r("a-badge",{attrs:{status:t._f("statusTypeFilter")(e),text:t._f("statusFilter")(e)}})]}}],null,!1,106314470)}):t._e(),"3"===t.activeTabKey?r("a-table",{attrs:{columns:t.operationColumns,dataSource:t.operation3,pagination:!1},scopedSlots:t._u([{key:"status",fn:function(e){return[r("a-badge",{attrs:{status:t._f("statusTypeFilter")(e),text:t._f("statusFilter")(e)}})]}}],null,!1,106314470)}):t._e()],1)],2)},o=[],i=n("ac0d"),a=n("b445"),s=n("c16f"),l=s["default"].Item,u={name:"Advanced",components:{PageLayout:a["default"],DetailList:s["default"],DetailListItem:l},mixins:[i["b"]],data:function(){return{tabList:[{key:"1",tab:"操作日志一"},{key:"2",tab:"操作日志二"},{key:"3",tab:"操作日志三"}],activeTabKey:"1",operationColumns:[{title:"操作类型",dataIndex:"type",key:"type"},{title:"操作人",dataIndex:"name",key:"name"},{title:"执行结果",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"操作时间",dataIndex:"updatedAt",key:"updatedAt"},{title:"备注",dataIndex:"remark",key:"remark"}],operation1:[{key:"op1",type:"订购关系生效",name:"曲丽丽",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"},{key:"op2",type:"财务复审",name:"付小小",status:"reject",updatedAt:"2017-10-03  19:23:12",remark:"不通过原因"},{key:"op3",type:"部门初审",name:"周毛毛",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"},{key:"op4",type:"提交订单",name:"林东东",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"很棒"},{key:"op5",type:"创建订单",name:"汗牙牙",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"}],operation2:[{key:"op2",type:"财务复审",name:"付小小",status:"reject",updatedAt:"2017-10-03  19:23:12",remark:"不通过原因"},{key:"op3",type:"部门初审",name:"周毛毛",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"},{key:"op4",type:"提交订单",name:"林东东",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"很棒"}],operation3:[{key:"op2",type:"财务复审",name:"付小小",status:"reject",updatedAt:"2017-10-03  19:23:12",remark:"不通过原因"},{key:"op3",type:"部门初审",name:"周毛毛",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"}]}},filters:{statusFilter:function(e){var t={agree:"成功",reject:"驳回"};return t[e]},statusTypeFilter:function(e){var t={agree:"success",reject:"error"};return t[e]}}},c=u,d=(n("9089"),n("5d22")),f=Object(d["a"])(c,r,o,!1,null,"2eb569c4",null);t["default"]=f.exports},b64b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:e.title,width:800,placement:"right",closable:!1,visible:e.visible},on:{close:e.close}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"['name', validatorRules.name ]"}],attrs:{placeholder:"请输入名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",{}],expression:"['code', {}]"}],attrs:{placeholder:"请输入编码"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"isThumb"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["isThumb",{}],expression:"['isThumb', {}]"}],attrs:{placeholder:"请输入isThumb"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"数据"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["data",{}],expression:"['data', {}]"}],attrs:{placeholder:"请输入数据"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["des",{}],expression:"['des', {}]"}],attrs:{placeholder:"请输入描述"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"显示分类"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["showType",{}],expression:"['showType', {}]"}],attrs:{placeholder:"请输入显示分类"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"动作分类"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["action",{}],expression:"['action', {}]"}],attrs:{placeholder:"请输入动作分类"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"链接前缀"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["prefix",{}],expression:"['prefix', {}]"}],attrs:{placeholder:"请输入链接前缀"}})],1)],1)],1),n("a-button",{attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("确定")]),n("a-button",{attrs:{type:"primary"},on:{click:e.handleCancel}},[e._v("取消")])],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=(n("caaf"),{name:"AppTemplateModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{name:{rules:[{required:!0,message:"请输入名称!"}]}},url:{add:"/message/appTemplate/add",edit:"/message/appTemplate/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"name","code","isThumb","data","des","showType","action","prefix"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}}),u=l,c=(n("bedd"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"db7a7a52",null);t["default"]=d.exports},b65a:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("ca00"),o=n("0fea"),i=n("a593"),a=n("9fb0");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={data:function(){return{tokenHeader:{"X-Access-Token":i["default"].ls.get(a["a"])},queryParam:{},dataSource:[],ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},filters:{},loading:!1,selectedRowKeys:[],selectionRows:[],toggleSearchStatus:!1,superQueryFlag:!1,superQueryParams:""}},created:function(){this.loadData(),this.initDictConfig(),this.selectedRowKeys=[],this.selectionRows=[]},methods:{unique:function(e){return Array.from(new Set(e))},loadData:function(e){var t=this;if(this.url.list){1===e&&(this.ipagination.current=1);var n=this.getQueryParams();this.loading=!0,Object(o["c"])(this.url.list,n).then((function(e){var n=t;e.success&&(e.result.persons?(t.dataSource=e.result.persons,e.result.persons.forEach((function(e,t){n.personIds+=e.id+","})),t.personIds=t.personIds.split(","),t.personIds=t.unique(t.personIds).join(","),e.result.owner&&(t.ownrerInfo=e.result.owner,t.ownerId=e.result.owner.id)):(t.dataSource=e.result.records,t.ipagination.total=e.result.total)),510===e.code&&t.$message.warning(e.message),t.loading=!1}))}else this.$message.error("请设置url.list属性!")},initDictConfig:function(){},handleSuperQuery:function(e){e?(this.superQueryFlag=!0,this.superQueryParams=JSON.stringify(e)):(this.superQueryParams="",this.superQueryFlag=!1),this.loadData()},getQueryParams:function(){var e={};this.superQueryParams&&(e["superQueryParams"]=encodeURI(this.superQueryParams));var t=Object.assign(e,this.queryParam,this.isorter,this.filters);return t.field=this.getQueryField(),t.pageNo=this.ipagination.current,t.pageSize=this.ipagination.pageSize,Object(r["b"])(t)},getQueryField:function(){var e="id,";return this.columns.forEach((function(t){e+=","+t.dataIndex})),e},onSelectChange:function(e,t){1==this.length&&e.length>1?(this.selectedRowKeys=e.splice(0,1),this.selectionRows=t.splice(0,1),this.$message.error("只能选择一位业主!")):(this.selectedRowKeys=e,this.selectionRows=t)},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[]},searchQuery:function(){this.loadData(1)},superQuery:function(){this.$refs.superQueryModal.show()},searchReset:function(){this.queryParam={},this.loadData(1)},batchDel:function(){if(this.url.deleteBatch)if(this.selectedRowKeys.length<=0)this.$message.warning("请选择一条记录！");else{for(var e="",t=0;t<this.selectedRowKeys.length;t++)e+=this.selectedRowKeys[t]+",";var n=this;this.$confirm({title:"确认删除",content:"是否删除选中数据?",onOk:function(){Object(o["a"])(n.url.deleteBatch,{ids:e}).then((function(e){e.success?(n.$message.success(e.message),n.loadData(),n.onClearSelected()):n.$message.warning(e.message)}))}})}else this.$message.error("请设置url.deleteBatch属性!")},handleDelete:function(e){if(this.url.delete){var t=this;Object(o["a"])(t.url.delete,{id:e}).then((function(e){e.success?(t.$message.success(e.message),t.loadData()):t.$message.warning(e.message)}))}else this.$message.error("请设置url.delete属性!")},handleEdit:function(e){this.$refs.modalForm.edit(e),this.$refs.modalForm.title="编辑",this.$refs.modalForm.disableSubmit=!1},handleAdd:function(){this.$refs.modalForm.add(),this.$refs.modalForm.title="新增",this.$refs.modalForm.disableSubmit=!1},handleTableChange:function(e,t,n){Object.keys(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"==n.order?"asc":"desc"),this.ipagination=e,this.loadData()},handleToggleSearch:function(){this.toggleSearchStatus=!this.toggleSearchStatus},modalFormOk:function(){this.loadData()},handleDetail:function(e){this.$refs.modalForm.edit(e),this.$refs.modalForm.title="详情",this.$refs.modalForm.disableSubmit=!0},handleExportXls2:function(){var e=encodeURI(JSON.stringify(this.getQueryParams())),t="".concat(window._CONFIG["domianURL"],"/").concat(this.url.exportXlsUrl,"?paramsStr=").concat(e);window.location.href=t},handleExportXls:function(e){var t=this;e&&"string"==typeof e||(e="导出文件");var n=l({},this.queryParam);this.selectedRowKeys&&this.selectedRowKeys.length>0&&(n["selections"]=this.selectedRowKeys.join(",")),Object(o["b"])(this.url.exportXlsUrl,n).then((function(n){if(n)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([n]),e+".xls");else{var r=window.URL.createObjectURL(new Blob([n])),o=document.createElement("a");o.style.display="none",o.href=r,o.setAttribute("download",e+".xls"),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(r)}else t.$message.warning("文件下载失败")}))},handleImportExcel:function(e){e.file.status,"done"===e.file.status?e.file.response.success?(this.$message.success("".concat(e.file.name," 文件上传成功")),this.loadData()):this.$message.error("".concat(e.file.name," ").concat(e.file.response.message,".")):"error"===e.file.status&&this.$message.error("文件上传失败: ".concat(e.file.msg," "))},getImgView:function(e){return e&&e.indexOf(",")>0&&(e=e.substring(0,e.indexOf(","))),window._CONFIG["imgDomainURL"]+"/"+e},uploadFile:function(e){e?(e.indexOf(",")>0&&(e=e.substring(0,e.indexOf(","))),window.open(window._CONFIG["domianURL"]+"/sys/common/download/"+e)):this.$message.warning("未知的文件")}}}},b6f5:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[n("div",[n("a-form-item",{attrs:{label:"用户名：","label-col":{span:5},"wrapper-col":{span:12}}},[n("a-input-search",{attrs:{placeholder:"点击右侧按钮选择用户",disabled:""},on:{search:e.onSearch},model:{value:e.userNames,callback:function(t){e.userNames=t},expression:"userNames"}},[n("a-button",{attrs:{slot:"enterButton",icon:"search"},slot:"enterButton"},[e._v("选择")])],1)],1)],1)]),n("select-user-list-modal",{ref:"selectUserListModal",on:{ok:e.getUserCallBack}})],1)},o=[],i=(n("4ec3"),n("9caf"));function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function s(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={name:"SelectUserModal",components:{SelectUserListModal:i["default"]},props:["taskId"],data:function(){return{title:"操作",visible:!1,selectUserListVisible:!1,model:{},confirmLoading:!1,userNames:"",userKeys:""}},created:function(){},methods:{open:function(){this.userNames="",this.userKeys="",this.visible=!0},close:function(){this.$emit("close"),this.visible=!1},handleCancel:function(){this.close()},onSearch:function(){this.$refs.selectUserListModal.open()},getUserCallBack:function(e){var t,n="",r="",o=a(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;n=i.realname+","+n,r=i.username+","+r}}catch(s){o.e(s)}finally{o.f()}this.userNames=n,this.userKeys=r},handleSubmit:function(){this.$emit("ok",this.userKeys,this.taskId),this.close()}}},c=u,d=n("5d22"),f=Object(d["a"])(c,r,o,!1,null,null,null);t["default"]=f.exports},b74e:function(e,t,n){(function(t,n){e.exports=n()})("undefined"!==typeof self&&self,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=195)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(103);n.d(t,"geoArea",(function(){return r["c"]}));var o=n(197);n.d(t,"geoBounds",(function(){return o["a"]}));var i=n(198);n.d(t,"geoCentroid",(function(){return i["a"]}));var a=n(104);n.d(t,"geoCircle",(function(){return a["b"]}));var s=n(65);n.d(t,"geoClipExtent",(function(){return s["b"]}));var l=n(217);n.d(t,"geoContains",(function(){return l["a"]}));var u=n(122);n.d(t,"geoDistance",(function(){return u["a"]}));var c=n(218);n.d(t,"geoGraticule",(function(){return c["a"]})),n.d(t,"geoGraticule10",(function(){return c["b"]}));var d=n(219);n.d(t,"geoInterpolate",(function(){return d["a"]}));var f=n(123);n.d(t,"geoLength",(function(){return f["a"]}));var p=n(220);n.d(t,"geoPath",(function(){return p["a"]}));var h=n(125);n.d(t,"geoAlbers",(function(){return h["a"]}));var m=n(230);n.d(t,"geoAlbersUsa",(function(){return m["a"]}));var g=n(231);n.d(t,"geoAzimuthalEqualArea",(function(){return g["b"]})),n.d(t,"geoAzimuthalEqualAreaRaw",(function(){return g["a"]}));var v=n(232);n.d(t,"geoAzimuthalEquidistant",(function(){return v["b"]})),n.d(t,"geoAzimuthalEquidistantRaw",(function(){return v["a"]}));var y=n(233);n.d(t,"geoConicConformal",(function(){return y["b"]})),n.d(t,"geoConicConformalRaw",(function(){return y["a"]}));var b=n(68);n.d(t,"geoConicEqualArea",(function(){return b["b"]})),n.d(t,"geoConicEqualAreaRaw",(function(){return b["a"]}));var x=n(234);n.d(t,"geoConicEquidistant",(function(){return x["b"]})),n.d(t,"geoConicEquidistantRaw",(function(){return x["a"]}));var w=n(127);n.d(t,"geoEquirectangular",(function(){return w["a"]})),n.d(t,"geoEquirectangularRaw",(function(){return w["b"]}));var _=n(235);n.d(t,"geoGnomonic",(function(){return _["a"]})),n.d(t,"geoGnomonicRaw",(function(){return _["b"]}));var C=n(236);n.d(t,"geoIdentity",(function(){return C["a"]}));var S=n(17);n.d(t,"geoProjection",(function(){return S["a"]})),n.d(t,"geoProjectionMutator",(function(){return S["b"]}));var k=n(71);n.d(t,"geoMercator",(function(){return k["a"]})),n.d(t,"geoMercatorRaw",(function(){return k["c"]}));var O=n(237);n.d(t,"geoOrthographic",(function(){return O["a"]})),n.d(t,"geoOrthographicRaw",(function(){return O["b"]}));var T=n(238);n.d(t,"geoStereographic",(function(){return T["a"]})),n.d(t,"geoStereographicRaw",(function(){return T["b"]}));var M=n(239);n.d(t,"geoTransverseMercator",(function(){return M["a"]})),n.d(t,"geoTransverseMercatorRaw",(function(){return M["b"]}));var D=n(50);n.d(t,"geoRotation",(function(){return D["a"]}));var I=n(22);n.d(t,"geoStream",(function(){return I["a"]}));var E=n(51);n.d(t,"geoTransform",(function(){return E["a"]}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"m",(function(){return s})),n.d(t,"n",(function(){return l})),n.d(t,"p",(function(){return u})),n.d(t,"q",(function(){return c})),n.d(t,"r",(function(){return d})),n.d(t,"t",(function(){return f})),n.d(t,"w",(function(){return p})),n.d(t,"x",(function(){return h})),n.d(t,"y",(function(){return m})),n.d(t,"F",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return y})),n.d(t,"s",(function(){return b})),n.d(t,"o",(function(){return x})),n.d(t,"u",(function(){return w})),n.d(t,"C",(function(){return _})),n.d(t,"D",(function(){return C})),n.d(t,"E",(function(){return S})),n.d(t,"H",(function(){return k})),n.d(t,"j",(function(){return O})),n.d(t,"v",(function(){return T})),t["z"]=M,t["e"]=D,t["b"]=I,t["B"]=E,t["G"]=A,t["A"]=L,t["i"]=j,t["d"]=N,t["c"]=P;var r=Math.abs,o=Math.atan,i=Math.atan2,a=(Math.ceil,Math.cos),s=Math.exp,l=Math.floor,u=Math.log,c=Math.max,d=Math.min,f=Math.pow,p=Math.round,h=Math.sign||function(e){return e>0?1:e<0?-1:0},m=Math.sin,g=Math.tan,v=1e-6,y=1e-12,b=Math.PI,x=b/2,w=b/4,_=Math.SQRT1_2,C=E(2),S=E(b),k=2*b,O=180/b,T=b/180;function M(e){return e?e/Math.sin(e):1}function D(e){return e>1?x:e<-1?-x:Math.asin(e)}function I(e){return e>1?0:e<-1?b:Math.acos(e)}function E(e){return e>0?Math.sqrt(e):0}function A(e){return e=s(2*e),(e-1)/(e+1)}function L(e){return(s(e)-s(-e))/2}function j(e){return(s(e)+s(-e))/2}function N(e){return u(e+E(e*e+1))}function P(e){return u(e+E(e*e-1))}},function(e,t,n){function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var i=n(3),a=n(77),s=n(76),l=n(356),u=n(139),c=n(39),d=n(84),f=function(e){function t(n){var r;void 0===n&&(n={state:{}}),r=e.call(this)||this;var a=o(o(r));return i(a,{_onChangeTimer:null,DataSet:t,isDataSet:!0,views:{}},n),r}r(t,e);var n=t.prototype;return n._getUniqueViewName=function(){var e=this,t=l("view_");while(e.views[t])t=l("view_");return t},n.createView=function(e,t){void 0===t&&(t={});var n=this;if(a(e)&&(e=n._getUniqueViewName()),s(e)&&(t=e,e=n._getUniqueViewName()),n.views[e])throw new Error("data view exists: "+e);var r=new c(n,t);return n.views[e]=r,r},n.getView=function(e){return this.views[e]},n.setView=function(e,t){this.views[e]=t},n.setState=function(e,t){var n=this;n.state[e]=t,n._onChangeTimer&&(clearTimeout(n._onChangeTimer),n._onChangeTimer=null),n._onChangeTimer=setTimeout((function(){n.emit("statechange",e,t)}),16)},t}(u);i(f,{CONSTANTS:d,DataSet:f,DataView:c,View:c,connectors:{},transforms:{},registerConnector:function(e,t){f.connectors[e]=t},getConnector:function(e){return f.connectors[e]||f.connectors.default},registerTransform:function(e,t){f.transforms[e]=t},getTransform:function(e){return f.transforms[e]||f.transforms.default}},d),c.DataSet=f,i(f.prototype,{view:f.prototype.createView}),f.version="0.10.2",e.exports=f},function(e,t){function n(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}var r=function(e,t,r,o){return t&&n(e,t),r&&n(e,r),o&&n(e,o),e};e.exports=r},function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"o",(function(){return i})),n.d(t,"l",(function(){return a})),n.d(t,"q",(function(){return s})),n.d(t,"w",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"r",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"n",(function(){return v})),n.d(t,"p",(function(){return y})),n.d(t,"t",(function(){return b})),n.d(t,"s",(function(){return x})),n.d(t,"u",(function(){return w})),n.d(t,"v",(function(){return _})),t["b"]=C,t["c"]=S,t["m"]=k;var r=1e-6,o=1e-12,i=Math.PI,a=i/2,s=i/4,l=2*i,u=180/i,c=i/180,d=Math.abs,f=Math.atan,p=Math.atan2,h=Math.cos,m=Math.ceil,g=Math.exp,v=(Math.floor,Math.log),y=Math.pow,b=Math.sin,x=Math.sign||function(e){return e>0?1:e<0?-1:0},w=Math.sqrt,_=Math.tan;function C(e){return e>1?0:e<-1?i:Math.acos(e)}function S(e){return e>1?a:e<-1?-a:Math.asin(e)}function k(e){return(e=b(e/2))*e}},function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"o",(function(){return i})),n.d(t,"l",(function(){return a})),n.d(t,"q",(function(){return s})),n.d(t,"w",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"r",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"n",(function(){return v})),n.d(t,"p",(function(){return y})),n.d(t,"t",(function(){return b})),n.d(t,"s",(function(){return x})),n.d(t,"u",(function(){return w})),n.d(t,"v",(function(){return _})),t["b"]=C,t["c"]=S,t["m"]=k;var r=1e-6,o=1e-12,i=Math.PI,a=i/2,s=i/4,l=2*i,u=180/i,c=i/180,d=Math.abs,f=Math.atan,p=Math.atan2,h=Math.cos,m=Math.ceil,g=Math.exp,v=(Math.floor,Math.log),y=Math.pow,b=Math.sin,x=Math.sign||function(e){return e>0?1:e<0?-1:0},w=Math.sqrt,_=Math.tan;function C(e){return e>1?0:e<-1?i:Math.acos(e)}function S(e){return e>1?a:e<-1?-a:Math.asin(e)}function k(e){return(e=b(e/2))*e}},function(e,t,n){var r=n(41),o=Array.isArray?Array.isArray:function(e){return r(e,"Array")};e.exports=o},function(e,t,n){var r=n(6),o=n(10),i="Invalid field: it must be a string!",a="Invalid fields: it must be an array!";e.exports={getField:function(e,t){var n=e.field,a=e.fields;if(o(n))return n;if(r(n))return n[0];if(o(a))return a;if(r(a)&&a.length)return a[0];if(t)return t;throw new TypeError(i)},getFields:function(e,t){var n=e.field,i=e.fields;if(r(i))return i;if(o(i))return[i];if(o(n))return[n];if(r(n)&&n.length)return n;if(t)return t;throw new TypeError(a)}}},function(e,t,n){var r;try{r=n(169)}catch(o){}r||(r=window._),e.exports=r},function(e,t,n){var r=n(76),o=n(6),i=function(e,t){if(e){var n=void 0;if(o(e)){for(var i=0,a=e.length;i<a;i++)if(n=t(e[i],i),!1===n)break}else if(r(e))for(var s in e)if(e.hasOwnProperty(s)&&(n=t(e[s],s),!1===n))break}};e.exports=i},function(e,t,n){var r=n(41),o=function(e){return r(e,"String")};e.exports=o},function(e,t,n){var r=n(41),o=function(e){return r(e,"Function")};e.exports=o},function(e,t,n){"use strict";var r=n(8),o=n(16).Graph;function i(e,t,n,o){var i;do{i=r.uniqueId(o)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function a(e){var t=(new o).setGraph(e.graph());return r.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),r.forEach(e.edges(),(function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),t}function s(e){var t=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),r.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t}function l(e){var t=r.map(e.nodes(),(function(t){var n={};return r.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return r.zipObject(e.nodes(),t)}function u(e){var t=r.map(e.nodes(),(function(t){var n={};return r.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return r.zipObject(e.nodes(),t)}function c(e,t){var n,r,o=e.x,i=e.y,a=t.x-o,s=t.y-i,l=e.width/2,u=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*l>Math.abs(a)*u?(s<0&&(u=-u),n=u*a/s,r=u):(a<0&&(l=-l),n=l,r=l*s/a),{x:o+n,y:i+r}}function d(e){var t=r.map(r.range(m(e)+1),(function(){return[]}));return r.forEach(e.nodes(),(function(n){var o=e.node(n),i=o.rank;r.isUndefined(i)||(t[i][o.order]=n)})),t}function f(e){var t=r.minBy(r.map(e.nodes(),(function(t){return e.node(t).rank})));r.forEach(e.nodes(),(function(n){var o=e.node(n);r.has(o,"rank")&&(o.rank-=t)}))}function p(e){var t=r.minBy(r.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];r.forEach(e.nodes(),(function(r){var o=e.node(r).rank-t;n[o]||(n[o]=[]),n[o].push(r)}));var o=0,i=e.graph().nodeRankFactor;r.forEach(n,(function(t,n){r.isUndefined(t)&&n%i!==0?--o:o&&r.forEach(t,(function(t){e.node(t).rank+=o}))}))}function h(e,t,n,r){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=r),i(e,"border",o,t)}function m(e){return r.max(r.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!r.isUndefined(n))return n})))}function g(e,t){var n={lhs:[],rhs:[]};return r.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n}function v(e,t){r.now();try{return t()}finally{}}function y(e,t){return t()}e.exports={addDummyNode:i,simplify:a,asNonCompoundGraph:s,successorWeights:l,predecessorWeights:u,intersectRect:c,buildLayerMatrix:d,normalizeRanks:f,removeEmptyRanks:p,addBorderNode:h,maxRank:m,partition:g,time:v,notime:y}},function(e,t,n){var r;try{r=n(169)}catch(o){}r||(r=window._),e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(109);n.d(t,"bisect",(function(){return r["c"]})),n.d(t,"bisectRight",(function(){return r["b"]})),n.d(t,"bisectLeft",(function(){return r["a"]}));var o=n(30);n.d(t,"ascending",(function(){return o["a"]}));var i=n(110);n.d(t,"bisector",(function(){return i["a"]}));var a=n(201);n.d(t,"cross",(function(){return a["a"]}));var s=n(202);n.d(t,"descending",(function(){return s["a"]}));var l=n(112);n.d(t,"deviation",(function(){return l["a"]}));var u=n(114);n.d(t,"extent",(function(){return u["a"]}));var c=n(203);n.d(t,"histogram",(function(){return c["a"]}));var d=n(206);n.d(t,"thresholdFreedmanDiaconis",(function(){return d["a"]}));var f=n(207);n.d(t,"thresholdScott",(function(){return f["a"]}));var p=n(118);n.d(t,"thresholdSturges",(function(){return p["a"]}));var h=n(208);n.d(t,"max",(function(){return h["a"]}));var m=n(209);n.d(t,"mean",(function(){return m["a"]}));var g=n(210);n.d(t,"median",(function(){return g["a"]}));var v=n(211);n.d(t,"merge",(function(){return v["a"]}));var y=n(119);n.d(t,"min",(function(){return y["a"]}));var b=n(111);n.d(t,"pairs",(function(){return b["a"]}));var x=n(212);n.d(t,"permute",(function(){return x["a"]}));var w=n(66);n.d(t,"quantile",(function(){return w["a"]}));var _=n(116);n.d(t,"range",(function(){return _["a"]}));var C=n(213);n.d(t,"scan",(function(){return C["a"]}));var S=n(214);n.d(t,"shuffle",(function(){return S["a"]}));var k=n(215);n.d(t,"sum",(function(){return k["a"]}));var O=n(117);n.d(t,"ticks",(function(){return O["a"]})),n.d(t,"tickIncrement",(function(){return O["b"]})),n.d(t,"tickStep",(function(){return O["c"]}));var T=n(120);n.d(t,"transpose",(function(){return T["a"]}));var M=n(113);n.d(t,"variance",(function(){return M["a"]}));var D=n(216);n.d(t,"zip",(function(){return D["a"]}))},function(e,t,n){var r=n(6),o=n(11),i=n(10),a=n(352),s=n(353);e.exports=function(e,t,n){void 0===n&&(n=[]);var l,u=e;n&&n.length&&(u=s(e,n)),o(t)?l=t:r(t)?l=function(e){return"_"+t.map((function(t){return e[t]})).join("-")}:i(t)&&(l=function(e){return"_"+e[t]});var c=a(u,l);return c}},function(e,t,n){var r;try{r=n(433)}catch(o){}r||(r=window.graphlib),e.exports=r},function(e,t,n){"use strict";t["a"]=h,t["b"]=m;var r=n(226),o=n(227),i=n(65),a=n(105),s=n(67),l=n(4),u=n(50),c=n(51),d=n(70),f=n(228),p=Object(c["b"])({point:function(e,t){this.stream.point(e*l["r"],t*l["r"])}});function h(e){return m((function(){return e}))()}function m(e){var t,n,c,h,m,g,v,y,b,x,w=150,_=480,C=250,S=0,k=0,O=0,T=0,M=0,D=null,I=r["a"],E=null,A=s["a"],L=.5,j=Object(f["a"])(R,L);function N(e){return e=m(e[0]*l["r"],e[1]*l["r"]),[e[0]*w+n,c-e[1]*w]}function P(e){return e=m.invert((e[0]-n)/w,(c-e[1])/w),e&&[e[0]*l["h"],e[1]*l["h"]]}function R(e,r){return e=t(e,r),[e[0]*w+n,c-e[1]*w]}function B(){m=Object(a["a"])(h=Object(u["b"])(O,T,M),t);var e=t(S,k);return n=_-e[0]*w,c=C+e[1]*w,F()}function F(){return b=x=null,N}return N.stream=function(e){return b&&x===e?b:b=p(I(h,j(A(x=e))))},N.clipAngle=function(e){return arguments.length?(I=+e?Object(o["a"])(D=e*l["r"],6*l["r"]):(D=null,r["a"]),F()):D*l["h"]},N.clipExtent=function(e){return arguments.length?(A=null==e?(E=g=v=y=null,s["a"]):Object(i["a"])(E=+e[0][0],g=+e[0][1],v=+e[1][0],y=+e[1][1]),F()):null==E?null:[[E,g],[v,y]]},N.scale=function(e){return arguments.length?(w=+e,B()):w},N.translate=function(e){return arguments.length?(_=+e[0],C=+e[1],B()):[_,C]},N.center=function(e){return arguments.length?(S=e[0]%360*l["r"],k=e[1]%360*l["r"],B()):[S*l["h"],k*l["h"]]},N.rotate=function(e){return arguments.length?(O=e[0]%360*l["r"],T=e[1]%360*l["r"],M=e.length>2?e[2]%360*l["r"]:0,B()):[O*l["h"],T*l["h"],M*l["h"]]},N.precision=function(e){return arguments.length?(j=Object(f["a"])(R,L=e*e),F()):Object(l["u"])(L)},N.fitExtent=function(e,t){return Object(d["a"])(N,e,t)},N.fitSize=function(e,t){return Object(d["b"])(N,e,t)},function(){return t=e.apply(this,arguments),N.invert=t.invert&&P,B()}}},function(e,t,n){"use strict";t["a"]=h,t["b"]=m;var r=n(336),o=n(338),i=n(145),a=n(144),s=n(150),l=n(5),u=n(78),c=n(81),d=n(154),f=n(339),p=Object(c["b"])({point:function(e,t){this.stream.point(e*l["r"],t*l["r"])}});function h(e){return m((function(){return e}))()}function m(e){var t,n,c,h,m,g,v,y,b,x,w=150,_=480,C=250,S=0,k=0,O=0,T=0,M=0,D=null,I=r["a"],E=null,A=s["a"],L=.5,j=Object(f["a"])(R,L);function N(e){return e=m(e[0]*l["r"],e[1]*l["r"]),[e[0]*w+n,c-e[1]*w]}function P(e){return e=m.invert((e[0]-n)/w,(c-e[1])/w),e&&[e[0]*l["h"],e[1]*l["h"]]}function R(e,r){return e=t(e,r),[e[0]*w+n,c-e[1]*w]}function B(){m=Object(a["a"])(h=Object(u["b"])(O,T,M),t);var e=t(S,k);return n=_-e[0]*w,c=C+e[1]*w,F()}function F(){return b=x=null,N}return N.stream=function(e){return b&&x===e?b:b=p(I(h,j(A(x=e))))},N.clipAngle=function(e){return arguments.length?(I=+e?Object(o["a"])(D=e*l["r"],6*l["r"]):(D=null,r["a"]),F()):D*l["h"]},N.clipExtent=function(e){return arguments.length?(A=null==e?(E=g=v=y=null,s["a"]):Object(i["a"])(E=+e[0][0],g=+e[0][1],v=+e[1][0],y=+e[1][1]),F()):null==E?null:[[E,g],[v,y]]},N.scale=function(e){return arguments.length?(w=+e,B()):w},N.translate=function(e){return arguments.length?(_=+e[0],C=+e[1],B()):[_,C]},N.center=function(e){return arguments.length?(S=e[0]%360*l["r"],k=e[1]%360*l["r"],B()):[S*l["h"],k*l["h"]]},N.rotate=function(e){return arguments.length?(O=e[0]%360*l["r"],T=e[1]%360*l["r"],M=e.length>2?e[2]%360*l["r"]:0,B()):[O*l["h"],T*l["h"],M*l["h"]]},N.precision=function(e){return arguments.length?(j=Object(f["a"])(R,L=e*e),F()):Object(l["u"])(L)},N.fitExtent=Object(d["a"])(N),N.fitSize=Object(d["b"])(N),function(){return t=e.apply(this,arguments),N.invert=t.invert&&P,B()}}},function(e,t,n){!function(e,n){n(t)}(0,(function(e){"use strict";function t(e){if(0===e.length)return 0;for(var t,n=e[0],r=0,o=1;o<e.length;o++)t=n+e[o],Math.abs(n)>=Math.abs(e[o])?r+=n-t+e[o]:r+=e[o]-t+n,n=t;return n+r}function n(e){if(0===e.length)throw new Error("mean requires at least one data point");return t(e)/e.length}function r(e,t){var r,o,i=n(e),a=0;if(2===t)for(o=0;o<e.length;o++)a+=(r=e[o]-i)*r;else for(o=0;o<e.length;o++)a+=Math.pow(e[o]-i,t);return a}function o(e){if(0===e.length)throw new Error("variance requires at least one data point");return r(e,2)/e.length}function i(e){if(1===e.length)return 0;var t=o(e);return Math.sqrt(t)}function a(e){if(0===e.length)throw new Error("mode requires at least one data point");if(1===e.length)return e[0];for(var t=e[0],n=NaN,r=0,o=1,i=1;i<e.length+1;i++)e[i]!==t?(r<o&&(r=o,n=t),o=1,t=e[i]):o++;return n}function s(e){return e.slice().sort((function(e,t){return e-t}))}function l(e){if(0===e.length)throw new Error("min requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return t}function u(e){if(0===e.length)throw new Error("max requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return t}function c(e,t){var n=e.length*t;if(0===e.length)throw new Error("quantile requires at least one data point.");if(t<0||1<t)throw new Error("quantiles must be between 0 and 1");return 1===t?e[e.length-1]:0===t?e[0]:n%1!=0?e[Math.ceil(n)-1]:e.length%2==0?(e[n-1]+e[n])/2:e[n]}function d(e,t,n,r){for(n=n||0,r=r||e.length-1;n<r;){if(600<r-n){var o=r-n+1,i=t-n+1,a=Math.log(o),s=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*s*(o-s)/o);i-o/2<0&&(l*=-1),d(e,t,Math.max(n,Math.floor(t-i*s/o+l)),Math.min(r,Math.floor(t+(o-i)*s/o+l)))}var u=e[t],c=n,p=r;for(f(e,n,t),e[r]>u&&f(e,n,r);c<p;){for(f(e,c,p),c++,p--;e[c]<u;)c++;for(;e[p]>u;)p--}e[n]===u?f(e,n,p):f(e,++p,r),p<=t&&(n=p+1),t<=p&&(r=p-1)}}function f(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function p(e,t){var n=e.slice();if(Array.isArray(t)){!function(e,t){for(var n=[0],r=0;r<t.length;r++)n.push(g(e.length,t[r]));n.push(e.length-1),n.sort(m);for(var o=[0,n.length-1];o.length;){var i=Math.ceil(o.pop()),a=Math.floor(o.pop());if(!(i-a<=1)){var s=Math.floor((a+i)/2);h(e,n[s],n[a],n[i]),o.push(a,s,s,i)}}}(n,t);for(var r=[],o=0;o<t.length;o++)r[o]=c(n,t[o]);return r}return h(n,g(n.length,t),0,n.length-1),c(n,t)}function h(e,t,n,r){t%1==0?d(e,t,n,r):(d(e,t=Math.floor(t),n,r),d(e,t+1,t+1,r))}function m(e,t){return e-t}function g(e,t){var n=e*t;return 1===t?e-1:0===t?0:n%1!=0?Math.ceil(n)-1:e%2==0?n-.5:n}function v(e,t){if(t<e[0])return 0;if(t>e[e.length-1])return 1;var n=function(e,t){for(var n=0,r=0,o=e.length;r<o;)t<=e[n=r+o>>>1]?o=n:r=-~n;return r}(e,t);if(e[n]!==t)return n/e.length;n++;var r=function(e,t){for(var n=0,r=0,o=e.length;r<o;)t>=e[n=r+o>>>1]?r=-~n:o=n;return r}(e,t);if(r===n)return n/e.length;var o=r-n+1;return o*(r+n)/2/o/e.length}function y(e){var t=p(e,.75),n=p(e,.25);if("number"==typeof t&&"number"==typeof n)return t-n}function b(e){return+p(e,.5)}function x(e){for(var t=b(e),n=[],r=0;r<e.length;r++)n.push(Math.abs(e[r]-t));return b(n)}function w(e,t){t=t||Math.random;for(var n,r,o=e.length;0<o;)r=Math.floor(t()*o--),n=e[o],e[o]=e[r],e[r]=n;return e}function _(e,t){return w(e.slice().slice(),t)}function C(e){for(var t,n=0,r=0;r<e.length;r++)0!==r&&e[r]===t||(t=e[r],n++);return n}function S(e,t){for(var n=[],r=0;r<e;r++){for(var o=[],i=0;i<t;i++)o.push(0);n.push(o)}return n}function k(e,t,n,r){var o;if(0<e){var i=(n[t]-n[e-1])/(t-e+1);o=r[t]-r[e-1]-(t-e+1)*i*i}else o=r[t]-n[t]*n[t]/(t+1);return o<0?0:o}function O(e,t,n,r,o,i,a){if(!(t<e)){var s=Math.floor((e+t)/2);r[n][s]=r[n-1][s-1],o[n][s]=s;var l=n;n<e&&(l=Math.max(l,o[n][e-1]||0)),l=Math.max(l,o[n-1][s]||0);var u,c,d,f=s-1;t<r.length-1&&(f=Math.min(f,o[n][t+1]||0));for(var p=f;l<=p&&!((u=k(p,s,i,a))+r[n-1][l-1]>=r[n][s]);--p)(c=k(l,s,i,a)+r[n-1][l-1])<r[n][s]&&(r[n][s]=c,o[n][s]=l),l++,(d=u+r[n-1][p-1])<r[n][s]&&(r[n][s]=d,o[n][s]=p);O(e,s-1,n,r,o,i,a),O(s+1,t,n,r,o,i,a)}}function T(e,t){if(e.length!==t.length)throw new Error("sampleCovariance requires samples with equal lengths");if(e.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var r=n(e),o=n(t),i=0,a=0;a<e.length;a++)i+=(e[a]-r)*(t[a]-o);return i/(e.length-1)}function M(e){if(e.length<2)throw new Error("sampleVariance requires at least two data points");return r(e,2)/(e.length-1)}function D(e){var t=M(e);return Math.sqrt(t)}function I(e,t,n,r){return(e*t+n*r)/(t+r)}function E(e){if(0===e.length)throw new Error("rootMeanSquare requires at least one data point");for(var t=0,n=0;n<e.length;n++)t+=Math.pow(e[n],2);return Math.sqrt(t/e.length)}function A(){this.totalCount=0,this.data={}}function L(){this.weights=[],this.bias=0}A.prototype.train=function(e,t){for(var n in this.data[t]||(this.data[t]={}),e){var r=e[n];void 0===this.data[t][n]&&(this.data[t][n]={}),void 0===this.data[t][n][r]&&(this.data[t][n][r]=0),this.data[t][n][r]++}this.totalCount++},A.prototype.score=function(e){var t,n={};for(var r in e){var o=e[r];for(t in this.data)n[t]={},this.data[t][r]?n[t][r+"_"+o]=(this.data[t][r][o]||0)/this.totalCount:n[t][r+"_"+o]=0}var i={};for(t in n)for(var a in i[t]=0,n[t])i[t]+=n[t][a];return i},L.prototype.predict=function(e){if(e.length!==this.weights.length)return null;for(var t=0,n=0;n<this.weights.length;n++)t+=this.weights[n]*e[n];return 0<(t+=this.bias)?1:0},L.prototype.train=function(e,t){if(0!==t&&1!==t)return null;e.length!==this.weights.length&&(this.weights=e,this.bias=1);var n=this.predict(e);if(n!==t){for(var r=t-n,o=0;o<this.weights.length;o++)this.weights[o]+=r*e[o];this.bias+=r}return this};var j=1e-4;function N(e){if(e<0)throw new Error("factorial requires a non-negative value");if(Math.floor(e)!==e)throw new Error("factorial requires an integer input");for(var t=1,n=2;n<=e;n++)t*=n;return t}var P=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],R=Math.log(Math.sqrt(2*Math.PI)),B={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}},F=Math.sqrt(2*Math.PI),z={gaussian:function(e){return Math.exp(-.5*e*e)/F}},V={nrd:function(e){var t=D(e),n=y(e);return"number"==typeof n&&(t=Math.min(t,n/1.34)),1.06*t*Math.pow(e.length,-.2)}};function H(e,t,n){var r,o;if(void 0===t)r=z.gaussian;else if("string"==typeof t){if(!z[t])throw new Error('Unknown kernel "'+t+'"');r=z[t]}else r=t;if(void 0===n)o=V.nrd(e);else if("string"==typeof n){if(!V[n])throw new Error('Unknown bandwidth method "'+n+'"');o=V[n](e)}else o=n;return function(t){var n=0,i=0;for(n=0;n<e.length;n++)i+=r((t-e[n])/o);return i/o/e.length}}var U=Math.sqrt(2*Math.PI);function $(e){for(var t=e,n=e,r=1;r<15;r++)t+=n*=e*e/(2*r+1);return Math.round(1e4*(.5+t/U*Math.exp(-e*e/2)))/1e4}for(var q=[],W=0;W<=3.09;W+=.01)q.push($(W));function G(e){var t=1/(1+.5*Math.abs(e)),n=t*Math.exp(-Math.pow(e,2)-1.26551223+1.00002368*t+.37409196*Math.pow(t,2)+.09678418*Math.pow(t,3)-.18628806*Math.pow(t,4)+.27886807*Math.pow(t,5)-1.13520398*Math.pow(t,6)+1.48851587*Math.pow(t,7)-.82215223*Math.pow(t,8)+.17087277*Math.pow(t,9));return 0<=e?1-n:n-1}function Y(e){var t=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),n=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*t)+Math.log(1-e*e)/2,2)-Math.log(1-e*e)/t)-(2/(Math.PI*t)+Math.log(1-e*e)/2));return 0<=e?n:-n}function K(e){if("number"==typeof e)return e<0?-1:0===e?0:1;throw new TypeError("not a number")}e.linearRegression=function(e){var t,n,r=e.length;if(1===r)n=e[t=0][1];else{for(var o,i,a,s=0,l=0,u=0,c=0,d=0;d<r;d++)s+=i=(o=e[d])[0],l+=a=o[1],u+=i*i,c+=i*a;n=l/r-(t=(r*c-s*l)/(r*u-s*s))*s/r}return{m:t,b:n}},e.linearRegressionLine=function(e){return function(t){return e.b+e.m*t}},e.standardDeviation=i,e.rSquared=function(e,t){if(e.length<2)return 1;for(var n,r=0,o=0;o<e.length;o++)r+=e[o][1];n=r/e.length;for(var i=0,a=0;a<e.length;a++)i+=Math.pow(n-e[a][1],2);for(var s=0,l=0;l<e.length;l++)s+=Math.pow(e[l][1]-t(e[l][0]),2);return 1-s/i},e.mode=function(e){return a(s(e))},e.modeFast=function(e){for(var t,n=new Map,r=0,o=0;o<e.length;o++){var i=n.get(e[o]);void 0===i?i=1:i++,r<i&&(t=e[o],r=i),n.set(e[o],i)}if(0===r)throw new Error("mode requires at last one data point");return t},e.modeSorted=a,e.min=l,e.max=u,e.extent=function(e){if(0===e.length)throw new Error("extent requires at least one data point");for(var t=e[0],n=e[0],r=1;r<e.length;r++)e[r]>n&&(n=e[r]),e[r]<t&&(t=e[r]);return[t,n]},e.minSorted=function(e){return e[0]},e.maxSorted=function(e){return e[e.length-1]},e.extentSorted=function(e){return[e[0],e[e.length-1]]},e.sum=t,e.sumSimple=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t},e.product=function(e){for(var t=1,n=0;n<e.length;n++)t*=e[n];return t},e.quantile=p,e.quantileSorted=c,e.quantileRank=function(e,t){return v(s(e),t)},e.quantileRankSorted=v,e.interquartileRange=y,e.iqr=y,e.medianAbsoluteDeviation=x,e.mad=x,e.chunk=function(e,t){var n=[];if(t<1)throw new Error("chunk size must be a positive number");if(Math.floor(t)!==t)throw new Error("chunk size must be an integer");for(var r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n},e.sampleWithReplacement=function(e,t,n){if(0===e.length)return[];n=n||Math.random;for(var r=e.length,o=[],i=0;i<t;i++){var a=Math.floor(n()*r);o.push(e[a])}return o},e.shuffle=_,e.shuffleInPlace=w,e.sample=function(e,t,n){return _(e,n).slice(0,t)},e.ckmeans=function(e,t){if(t>e.length)throw new Error("cannot generate more classes than there are data values");var n=s(e);if(1===C(n))return[n];var r=S(t,n.length),o=S(t,n.length);!function(e,t,n){for(var r,o=t[0].length,i=e[Math.floor(o/2)],a=[],s=[],l=0;l<o;++l)r=e[l]-i,0===l?(a.push(r),s.push(r*r)):(a.push(a[l-1]+r),s.push(s[l-1]+r*r)),t[0][l]=k(0,l,a,s),n[0][l]=0;for(var u=1;u<t.length;++u)O(u<t.length-1?u:o-1,o-1,u,t,n,a,s)}(n,r,o);for(var i=[],a=o[0].length-1,l=o.length-1;0<=l;l--){var u=o[l][a];i[l]=n.slice(u,a+1),0<l&&(a=u-1)}return i},e.uniqueCountSorted=C,e.sumNthPowerDeviations=r,e.equalIntervalBreaks=function(e,t){if(e.length<2)return e;for(var n=l(e),r=u(e),o=[n],i=(r-n)/t,a=1;a<t;a++)o.push(o[0]+i*a);return o.push(r),o},e.sampleCovariance=T,e.sampleCorrelation=function(e,t){return T(e,t)/D(e)/D(t)},e.sampleVariance=M,e.sampleStandardDeviation=D,e.sampleSkewness=function(e){if(e.length<3)throw new Error("sampleSkewness requires at least three data points");for(var t,r=n(e),o=0,i=0,a=0;a<e.length;a++)o+=(t=e[a]-r)*t,i+=t*t*t;var s=e.length-1,l=Math.sqrt(o/s),u=e.length;return u*i/((u-1)*(u-2)*Math.pow(l,3))},e.sampleKurtosis=function(e){var t=e.length;if(t<4)throw new Error("sampleKurtosis requires at least four data points");for(var r,o=n(e),i=0,a=0,s=0;s<t;s++)i+=(r=e[s]-o)*r,a+=r*r*r*r;return(t-1)/((t-2)*(t-3))*(t*(t+1)*a/(i*i)-3*(t-1))},e.permutationsHeap=function(e){for(var t=new Array(e.length),n=[e.slice()],r=0;r<e.length;r++)t[r]=0;for(r=0;r<e.length;)if(t[r]<r){var o=0;r%2!=0&&(o=t[r]);var i=e[o];e[o]=e[r],e[r]=i,n.push(e.slice()),t[r]++,r=0}else t[r]=0,r++;return n},e.combinations=function e(t,n){var r,o,i,a,s=[];for(r=0;r<t.length;r++)if(1===n)s.push([t[r]]);else for(i=e(t.slice(r+1,t.length),n-1),o=0;o<i.length;o++)(a=i[o]).unshift(t[r]),s.push(a);return s},e.combinationsReplacement=function e(t,n){for(var r=[],o=0;o<t.length;o++)if(1===n)r.push([t[o]]);else for(var i=e(t.slice(o,t.length),n-1),a=0;a<i.length;a++)r.push([t[o]].concat(i[a]));return r},e.addToMean=function(e,t,n){return e+(n-e)/(t+1)},e.combineMeans=I,e.combineVariances=function(e,t,n,r,o,i){var a=I(t,n,o,i);return(n*(e+Math.pow(t-a,2))+i*(r+Math.pow(o-a,2)))/(n+i)},e.geometricMean=function(e){if(0===e.length)throw new Error("geometricMean requires at least one data point");for(var t=1,n=0;n<e.length;n++){if(e[n]<=0)throw new Error("geometricMean requires only positive numbers as input");t*=e[n]}return Math.pow(t,1/e.length)},e.harmonicMean=function(e){if(0===e.length)throw new Error("harmonicMean requires at least one data point");for(var t=0,n=0;n<e.length;n++){if(e[n]<=0)throw new Error("harmonicMean requires only positive numbers as input");t+=1/e[n]}return e.length/t},e.average=n,e.mean=n,e.median=b,e.medianSorted=function(e){return c(e,.5)},e.subtractFromMean=function(e,t,n){return(e*t-n)/(t-1)},e.rootMeanSquare=E,e.rms=E,e.variance=o,e.tTest=function(e,t){return(n(e)-t)/(i(e)/Math.sqrt(e.length))},e.tTestTwoSample=function(e,t,r){var o=e.length,i=t.length;if(!o||!i)return null;r||(r=0);var a=n(e),s=n(t),l=M(e),u=M(t);if("number"==typeof a&&"number"==typeof s&&"number"==typeof l&&"number"==typeof u){var c=((o-1)*l+(i-1)*u)/(o+i-2);return(a-s-r)/Math.sqrt(c*(1/o+1/i))}},e.BayesianClassifier=A,e.bayesian=A,e.PerceptronModel=L,e.perceptron=L,e.epsilon=j,e.factorial=N,e.gamma=function e(t){if("number"==typeof(n=t)&&isFinite(n)&&Math.floor(n)===n)return t<=0?NaN:N(t-1);var n;if(--t<0)return Math.PI/(Math.sin(Math.PI*-t)*e(-t));var r=t+.25;return Math.pow(t/Math.E,t)*Math.sqrt(2*Math.PI*(t+1/6))*(1+1/144/Math.pow(r,2)-1/12960/Math.pow(r,3)-257/207360/Math.pow(r,4)-52/2612736/Math.pow(r,5)+5741173/9405849600/Math.pow(r,6)+37529/18811699200/Math.pow(r,7))},e.gammaln=function(e){if(e<=0)return 1/0;e--;for(var t=P[0],n=1;n<15;n++)t+=P[n]/(e+n);var r=5.2421875+e;return R+Math.log(t)-r+(e+.5)*Math.log(r)},e.bernoulliDistribution=function(e){if(e<0||1<e)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-e,e]},e.binomialDistribution=function(e,t){if(!(t<0||1<t||e<=0||e%1!=0)){for(var n=0,r=0,o=[],i=1;o[n]=i*Math.pow(t,n)*Math.pow(1-t,e-n),r+=o[n],i=i*(e-++n+1)/n,r<1-j;);return o}},e.poissonDistribution=function(e){if(!(e<=0)){for(var t=0,n=0,r=[],o=1;r[t]=Math.exp(-e)*Math.pow(e,t)/o,n+=r[t],o*=++t,n<1-j;);return r}},e.chiSquaredDistributionTable=B,e.chiSquaredGoodnessOfFit=function(e,t,r){for(var o,i,a=0,s=t(n(e)),l=[],u=[],c=0;c<e.length;c++)void 0===l[e[c]]&&(l[e[c]]=0),l[e[c]]++;for(c=0;c<l.length;c++)void 0===l[c]&&(l[c]=0);for(i in s)i in l&&(u[+i]=s[i]*e.length);for(i=u.length-1;0<=i;i--)u[i]<3&&(u[i-1]+=u[i],u.pop(),l[i-1]+=l[i],l.pop());for(i=0;i<l.length;i++)a+=Math.pow(l[i]-u[i],2)/u[i];return o=l.length-1-1,B[o][r]<a},e.kernelDensityEstimation=H,e.kde=H,e.zScore=function(e,t,n){return(e-t)/n},e.cumulativeStdNormalProbability=function(e){var t=Math.abs(e),n=Math.min(Math.round(100*t),q.length-1);return 0<=e?q[n]:+(1-q[n]).toFixed(4)},e.standardNormalTable=q,e.errorFunction=G,e.erf=G,e.inverseErrorFunction=Y,e.probit=function(e){return 0===e?e=j:1<=e&&(e=1-j),Math.sqrt(2)*Y(2*e-1)},e.permutationTest=function(e,t,r,o){if(void 0===o&&(o=1e4),void 0===r&&(r="two_side"),"two_side"!==r&&"greater"!==r&&"less"!==r)throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var i=n(e)-n(t),a=new Array(o),s=e.concat(t),l=Math.floor(s.length/2),u=0;u<o;u++){w(s);var c=s.slice(0,l),d=s.slice(l,s.length),f=n(c)-n(d);a[u]=f}var p=0;if("two_side"===r)for(u=0;u<=o;u++)Math.abs(a[u])>=Math.abs(i)&&(p+=1);else if("greater"===r)for(u=0;u<=o;u++)a[u]>=i&&(p+=1);else for(u=0;u<=o;u++)a[u]<=i&&(p+=1);return p/o},e.bisect=function(e,t,n,r,o){if("function"!=typeof e)throw new TypeError("func must be a function");for(var i=0;i<r;i++){var a=(t+n)/2;if(0===e(a)||Math.abs((n-t)/2)<o)return a;K(e(a))===K(e(t))?t=a:n=a}throw new Error("maximum number of iterations exceeded")},e.quickselect=d,e.sign=K,e.numericSort=s,Object.defineProperty(e,"__esModule",{value:!0})}))},function(e,t,n){"use strict";function r(){}t["a"]=r},function(e,t,n){"use strict";t["c"]=i,t["b"]=a,n.d(t,"d",(function(){return s}));var r=n(0),o=n(1);function i(e,t){var n,r=e*Object(o["y"])(t),i=30;do{t-=n=(t+Object(o["y"])(t)-r)/(1+Object(o["h"])(t))}while(Object(o["a"])(n)>o["k"]&&--i>0);return t/2}function a(e,t,n){function r(r,a){return[e*r*Object(o["h"])(a=i(n,a)),t*Object(o["y"])(a)]}return r.invert=function(r,i){return i=Object(o["e"])(i/t),[r/(e*Object(o["h"])(i)),Object(o["e"])((2*i+Object(o["y"])(2*i))/n)]},r}var s=a(o["D"]/o["o"],o["D"],o["s"]);t["a"]=function(){return Object(r["geoProjection"])(s).scale(169.529)}},function(e,t,n){"use strict";function r(e,t){e&&i.hasOwnProperty(e.type)&&i[e.type](e,t)}var o={Feature:function(e,t){r(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,o=-1,i=n.length;while(++o<i)r(n[o].geometry,t)}},i={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){a(e.coordinates,t,0)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)a(n[r],t,0)},Polygon:function(e,t){s(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)s(n[r],t)},GeometryCollection:function(e,t){var n=e.geometries,o=-1,i=n.length;while(++o<i)r(n[o],t)}};function a(e,t,n){var r,o=-1,i=e.length-n;t.lineStart();while(++o<i)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function s(e,t){var n=-1,r=e.length;t.polygonStart();while(++n<r)a(e[n],t,1);t.polygonEnd()}t["a"]=function(e,t){e&&o.hasOwnProperty(e.type)?o[e.type](e,t):r(e,t)}},function(e,t,n){"use strict";var r=n(14),o=n(0),i=n(1);function a(e,t){return Object(i["a"])(e[0]-t[0])<i["k"]&&Object(i["a"])(e[1]-t[1])<i["k"]}function s(e,t){var n,r,o,i=-1,a=e.length,s=e[0],l=[];while(++i<a){n=e[i],r=(n[0]-s[0])/t,o=(n[1]-s[1])/t;for(var u=0;u<t;++u)l.push([s[0]+u*r,s[1]+u*o]);s=n}return l.push(n),l}function l(e){var t,n,o,a,l,u,c,d=[],f=e[0].length;for(c=0;c<f;++c)t=e[0][c],n=t[0][0],o=t[0][1],a=t[1][1],l=t[2][0],u=t[2][1],d.push(s([[n+i["k"],o+i["k"]],[n+i["k"],a-i["k"]],[l-i["k"],a-i["k"]],[l-i["k"],u+i["k"]]],30));for(c=e[1].length-1;c>=0;--c)t=e[1][c],n=t[0][0],o=t[0][1],a=t[1][1],l=t[2][0],u=t[2][1],d.push(s([[l-i["k"],u-i["k"]],[l-i["k"],a+i["k"]],[n+i["k"],a+i["k"]],[n+i["k"],o-i["k"]]],30));return{type:"Polygon",coordinates:[Object(r["merge"])(d)]}}t["a"]=function(e,t){var n=l(t);t=t.map((function(e){return e.map((function(e){return[[e[0][0]*i["v"],e[0][1]*i["v"]],[e[1][0]*i["v"],e[1][1]*i["v"]],[e[2][0]*i["v"],e[2][1]*i["v"]]]}))}));var r=t.map((function(t){return t.map((function(t){var n,r=e(t[0][0],t[0][1])[0],o=e(t[2][0],t[2][1])[0],i=e(t[1][0],t[0][1])[1],a=e(t[1][0],t[1][1])[1];return i>a&&(n=i,i=a,a=n),[[r,i],[o,a]]}))}));function s(n,r){for(var o=r<0?-1:1,i=t[+(r<0)],a=0,s=i.length-1;a<s&&n>i[a][2][0];++a);var l=e(n-i[a][1][0],r);return l[0]+=e(i[a][1][0],o*r>o*i[a][0][1]?i[a][0][1]:r)[0],l}e.invert&&(s.invert=function(n,o){for(var i=r[+(o<0)],l=t[+(o<0)],u=0,c=i.length;u<c;++u){var d=i[u];if(d[0][0]<=n&&n<d[1][0]&&d[0][1]<=o&&o<d[1][1]){var f=e.invert(n-e(l[u][1][0],0)[0],o);return f[0]+=l[u][1][0],a(s(f[0],f[1]),[n,o])?f:null}}});var u=Object(o["geoProjection"])(s),c=u.stream;return u.stream=function(e){var t=u.rotate(),r=c(e),i=(u.rotate([0,0]),c(e));return u.rotate(t),r.sphere=function(){Object(o["geoStream"])(n,i)},r},u}},function(e,t,n){var r=n(9),o=n(11),i=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return r(e,(function(n,r){o(e)&&"prototype"===r||t.push(r)})),t};e.exports=i},function(e,t,n){"use strict";function r(){}t["a"]=r},function(e,t,n){"use strict";function r(e,t){e&&i.hasOwnProperty(e.type)&&i[e.type](e,t)}var o={Feature:function(e,t){r(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,o=-1,i=n.length;while(++o<i)r(n[o].geometry,t)}},i={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){a(e.coordinates,t,0)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)a(n[r],t,0)},Polygon:function(e,t){s(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)s(n[r],t)},GeometryCollection:function(e,t){var n=e.geometries,o=-1,i=n.length;while(++o<i)r(n[o],t)}};function a(e,t,n){var r,o=-1,i=e.length-n;t.lineStart();while(++o<i)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function s(e,t){var n=-1,r=e.length;t.polygonStart();while(++n<r)a(e[n],t,1);t.polygonEnd()}t["a"]=function(e,t){e&&o.hasOwnProperty(e.type)?o[e.type](e,t):r(e,t)}},function(e,t,n){"use strict";t["a"]=function(e){return function(){return e}}},function(e,t,n){var r=n(3);e.exports={assign:r}},function(e,t,n){"use strict";function r(){this.reset()}t["a"]=function(){return new r},r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(e){i(o,e,this.t),i(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new r;function i(e,t,n){var r=e.s=t+n,o=r-t,i=r-o;e.t=t-i+(n-o)}},function(e,t,n){"use strict";t["a"]=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},function(e,t,n){"use strict";var r=n(0),o=n(1);t["a"]=function(e){var t=0,n=Object(r["geoProjectionMutator"])(e),i=n(t);return i.parallel=function(e){return arguments.length?n(t=e*o["v"]):t*o["j"]},i}},function(e,t,n){var r=n(9),o=n(54),i=Object.prototype.hasOwnProperty,a=function(e,t){if(null===e||!o(e))return{};var n={};return r(t,(function(t){i.call(e,t)&&(n[t]=e[t])})),n};e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349);n.d(t,"path",(function(){return r["a"]}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(369);n.d(t,"cluster",(function(){return r["a"]}));var o=n(86);n.d(t,"hierarchy",(function(){return o["c"]}));var i=n(381);n.d(t,"pack",(function(){return i["a"]}));var a=n(160);n.d(t,"packSiblings",(function(){return a["a"]}));var s=n(161);n.d(t,"packEnclose",(function(){return s["a"]}));var l=n(383);n.d(t,"partition",(function(){return l["a"]}));var u=n(384);n.d(t,"stratify",(function(){return u["a"]}));var c=n(385);n.d(t,"tree",(function(){return c["a"]}));var d=n(386);n.d(t,"treemap",(function(){return d["a"]}));var f=n(387);n.d(t,"treemapBinary",(function(){return f["a"]}));var p=n(45);n.d(t,"treemapDice",(function(){return p["a"]}));var h=n(55);n.d(t,"treemapSlice",(function(){return h["a"]}));var m=n(388);n.d(t,"treemapSliceDice",(function(){return m["a"]}));var g=n(88);n.d(t,"treemapSquarify",(function(){return g["a"]}));var v=n(389);n.d(t,"treemapResquarify",(function(){return v["a"]}))},function(e,t,n){"use strict";t["g"]=o,t["a"]=i,t["d"]=a,t["c"]=s,t["b"]=l,t["f"]=u,t["e"]=c;var r=n(4);function o(e){return[Object(r["e"])(e[1],e[0]),Object(r["c"])(e[2])]}function i(e){var t=e[0],n=e[1],o=Object(r["g"])(n);return[o*Object(r["g"])(t),o*Object(r["t"])(t),Object(r["t"])(n)]}function a(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function s(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function l(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function u(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function c(e){var t=Object(r["u"])(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}},function(e,t,n){"use strict";t["a"]=function(e){return null===e?NaN:+e}},function(e,t,n){"use strict";t["b"]=o,t["a"]=i;var r=n(4);function o(e){return function(t,n){var o=Object(r["g"])(t),i=Object(r["g"])(n),a=e(o*i);return[a*i*Object(r["t"])(t),a*Object(r["t"])(n)]}}function i(e){return function(t,n){var o=Object(r["u"])(t*t+n*n),i=e(o),a=Object(r["t"])(i),s=Object(r["g"])(i);return[Object(r["e"])(t*a,o*s),Object(r["c"])(o&&n*a/o)]}}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){return[e*Object(o["h"])(t),t]}i.invert=function(e,t){return[e/Object(o["h"])(t),t]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(152.63)}},function(e,t,n){function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var i=n(139),a=n(3),s=n(40),l=n(40),u=n(320),c=n(9),d=n(6),f=n(54),p=n(140),h=n(76),m=n(10),g=n(24),v=n(32);function y(e){var t={};return c(e,(function(e,n){h(e)&&e.isView?t[n]=e:d(e)?t[n]=e.concat([]):f(e)?t[n]=s(e):t[n]=e})),t}var b=function(e){function t(t,n){var r;r=e.call(this)||this;var i=o(o(r));if(n=n||{},t=t||{},t.isDataSet||(n=t,t=null),a(i,{dataSet:t,loose:!t,dataType:"table",isView:!0,isDataView:!0,origin:[],rows:[],transforms:[],watchingStates:null},n),!i.loose){var s=i.watchingStates;t.on("statechange",(function(e){d(s)?s.indexOf(e)>-1&&i._reExecute():i._reExecute()}))}return r}r(t,e);var n=t.prototype;return n._parseStateExpression=function(e){var t=this.dataSet,n=/^\$state\.(\w+)/.exec(e);return n?t.state[n[1]]:e},n._preparseOptions=function(e){var t=this,n=y(e);return t.loose||c(n,(function(e,r){m(e)&&/^\$state\./.test(e)&&(n[r]=t._parseStateExpression(e))})),n},n._prepareSource=function(e,n){var r=this,o=t.DataSet;if(r._source={source:e,options:n},n)n=r._preparseOptions(n),r.origin=o.getConnector(n.type)(e,n,r);else if(e instanceof t||m(e))r.origin=o.getConnector("default")(e,r.dataSet);else if(d(e))r.origin=e;else{if(!h(e)||!e.type)throw new TypeError("Invalid source");n=r._preparseOptions(e),r.origin=o.getConnector(n.type)(n,r)}return r.rows=l(r.origin),r},n.source=function(e,t){var n=this;return n._prepareSource(e,t),n._reExecuteTransforms(),n.trigger("change"),n},n.transform=function(e){void 0===e&&(e={});var t=this;return t.transforms.push(e),t._executeTransform(e),t},n._executeTransform=function(e){var n=this;e=n._preparseOptions(e);var r=t.DataSet.getTransform(e.type);r(n,e)},n._reExecuteTransforms=function(){var e=this;e.transforms.forEach((function(t){e._executeTransform(t)}))},n.addRow=function(e){this.rows.push(e)},n.removeRow=function(e){this.rows.splice(e,1)},n.updateRow=function(e,t){a(this.rows[e],t)},n.findRows=function(e){return this.rows.filter((function(t){return p(t,e)}))},n.findRow=function(e){return u(this.rows,e)},n.getColumnNames=function(){var e=this.rows[0];return e?g(e):[]},n.getColumnName=function(e){return this.getColumnNames()[e]},n.getColumnIndex=function(e){var t=this.getColumnNames();return t.indexOf(e)},n.getColumn=function(e){return this.rows.map((function(t){return t[e]}))},n.getColumnData=function(e){return this.getColumn(e)},n.getSubset=function(e,t,n){for(var r=[],o=e;o<=t;o++)r.push(v(this.rows[o],n));return r},n.toString=function(e){var t=this;return e?JSON.stringify(t.rows,null,2):JSON.stringify(t.rows)},n._reExecute=function(){var e=this,t=e._source,n=t.source,r=t.options;e._prepareSource(n,r),e._reExecuteTransforms(),e.trigger("change")},t}(i);e.exports=b},function(e,t,n){var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(6),i=function e(t){if("object"!==("undefined"===typeof t?"undefined":r(t))||null===t)return t;var n=void 0;if(o(t)){n=[];for(var i=0,a=t.length;i<a;i++)"object"===r(t[i])&&null!=t[i]?n[i]=e(t[i]):n[i]=t[i]}else for(var s in n={},t)"object"===r(t[s])&&null!=t[s]?n[s]=e(t[s]):n[s]=t[s];return n};e.exports=i},function(e,t){var n={}.toString,r=function(e,t){return n.call(e)==="[object "+t+"]"};e.exports=r},function(e,t,n){"use strict";function r(){this.reset()}t["a"]=function(){return new r},r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(e){i(o,e,this.t),i(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new r;function i(e,t,n){var r=e.s=t+n,o=r-t,i=r-o;e.t=t-i+(n-o)}},function(e,t,n){"use strict";t["g"]=o,t["a"]=i,t["d"]=a,t["c"]=s,t["b"]=l,t["f"]=u,t["e"]=c;var r=n(5);function o(e){return[Object(r["e"])(e[1],e[0]),Object(r["c"])(e[2])]}function i(e){var t=e[0],n=e[1],o=Object(r["g"])(n);return[o*Object(r["g"])(t),o*Object(r["t"])(t),Object(r["t"])(n)]}function a(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function s(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function l(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function u(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function c(e){var t=Object(r["u"])(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}},function(e,t,n){"use strict";t["b"]=o,t["a"]=i;var r=n(5);function o(e){return function(t,n){var o=Object(r["g"])(t),i=Object(r["g"])(n),a=e(o*i);return[a*i*Object(r["t"])(t),a*Object(r["t"])(n)]}}function i(e){return function(t,n){var o=Object(r["u"])(t*t+n*n),i=e(o),a=Object(r["t"])(i),s=Object(r["g"])(i);return[Object(r["e"])(t*a,o*s),Object(r["c"])(o&&n*a/o)]}}},function(e,t,n){"use strict";t["a"]=function(e,t,n,r,o){var i,a=e.children,s=-1,l=a.length,u=e.value&&(r-t)/e.value;while(++s<l)i=a[s],i.y0=n,i.y1=o,i.x0=t,i.x1=t+=i.value*u}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"j",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"m",(function(){return p})),t["b"]=h,t["c"]=m;var r=Math.abs,o=Math.atan2,i=Math.cos,a=Math.max,s=Math.min,l=Math.sin,u=Math.sqrt,c=1e-12,d=Math.PI,f=d/2,p=2*d;function h(e){return e>1?0:e<-1?d:Math.acos(e)}function m(e){return e>=1?f:e<=-1?-f:Math.asin(e)}},function(e,t,n){"use strict";t["a"]=function(e,t){if((o=e.length)>1)for(var n,r,o,i=1,a=e[t[0]],s=a.length;i<o;++i)for(r=a,a=e[t[i]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}},function(e,t,n){"use strict";t["a"]=function(e){var t=e.length,n=new Array(t);while(--t>=0)n[t]=t;return n}},function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return a})),t["d"]=g;var r,o,i,a,s=n(513),l=n(191),u=n(192),c=n(100),d=n(99),f=1e-6,p=1e-12;function h(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function m(e,t){return t[1]-e[1]||t[0]-e[0]}function g(e,t){var n,f,p,h=e.sort(m).pop();a=[],o=new Array(e.length),r=new d["b"],i=new d["b"];while(1)if(p=u["c"],h&&(!p||h[1]<p.y||h[1]===p.y&&h[0]<p.x))h[0]===n&&h[1]===f||(Object(s["a"])(h),n=h[0],f=h[1]),h=e.pop();else{if(!p)break;Object(s["b"])(p.arc)}if(Object(l["d"])(),t){var g=+t[0][0],v=+t[0][1],y=+t[1][0],b=+t[1][1];Object(c["a"])(g,v,y,b),Object(l["b"])(g,v,y,b)}this.edges=a,this.cells=o,r=i=a=o=null}g.prototype={constructor:g,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return Object(l["a"])(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,r){if(i=(o=n.halfedges).length){var o,i,a,s=n.site,l=-1,u=t[o[i-1]],c=u.left===s?u.right:u.left;while(++l<i)a=c,u=t[o[l]],c=u.left===s?u.right:u.left,a&&c&&r<a.index&&r<c.index&&h(s,a,c)<0&&e.push([s.data,a.data,c.data])}})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){var r,o,i=this,a=i._found||0,s=i.cells.length;while(!(o=i.cells[a]))if(++a>=s)return null;var l=e-o.site[0],u=t-o.site[1],c=l*l+u*u;do{o=i.cells[r=a],a=null,o.halfedges.forEach((function(n){var r=i.edges[n],s=r.left;if(s!==o.site&&s||(s=r.right)){var l=e-s[0],u=t-s[1],d=l*l+u*u;d<c&&(c=d,a=s.index)}}))}while(null!==a);return i._found=r,null==n||c<=n*n?o.site:null}}},function(e,t,n){"use strict";t["b"]=a;var r=n(105),o=n(4);function i(e,t){return[e>o["o"]?e-o["w"]:e<-o["o"]?e+o["w"]:e,t]}function a(e,t,n){return(e%=o["w"])?t||n?Object(r["a"])(l(e),u(t,n)):l(e):t||n?u(t,n):i}function s(e){return function(t,n){return t+=e,[t>o["o"]?t-o["w"]:t<-o["o"]?t+o["w"]:t,n]}}function l(e){var t=s(e);return t.invert=s(-e),t}function u(e,t){var n=Object(o["g"])(e),r=Object(o["t"])(e),i=Object(o["g"])(t),a=Object(o["t"])(t);function s(e,t){var s=Object(o["g"])(t),l=Object(o["g"])(e)*s,u=Object(o["t"])(e)*s,c=Object(o["t"])(t),d=c*n+l*r;return[Object(o["e"])(u*i-d*a,l*n-c*r),Object(o["c"])(d*i+u*a)]}return s.invert=function(e,t){var s=Object(o["g"])(t),l=Object(o["g"])(e)*s,u=Object(o["t"])(e)*s,c=Object(o["t"])(t),d=c*i-u*a;return[Object(o["e"])(u*i+c*a,l*n+d*r),Object(o["c"])(d*n-l*r)]},s}i.invert=i,t["a"]=function(e){function t(t){return t=e(t[0]*o["r"],t[1]*o["r"]),t[0]*=o["h"],t[1]*=o["h"],t}return e=a(e[0]*o["r"],e[1]*o["r"],e.length>2?e[2]*o["r"]:0),t.invert=function(t){return t=e.invert(t[0]*o["r"],t[1]*o["r"]),t[0]*=o["h"],t[1]*=o["h"],t},t}},function(e,t,n){"use strict";function r(e){return function(t){var n=new o;for(var r in e)n[r]=e[r];return n.stream=t,n}}function o(){}t["b"]=r,t["a"]=function(e){return{stream:r(e)}},o.prototype={constructor:o,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(e,t,n){"use strict";var r=n(1);t["a"]=function(e,t,n,o,i,a,s,l){function u(u,c){if(!c)return[e*u/r["s"],0];var d=c*c,f=e+d*(t+d*(n+d*o)),p=c*(i-1+d*(a-l+d*s)),h=(f*f+p*p)/(2*p),m=u*Object(r["e"])(f/h)/r["s"];return[h*Object(r["y"])(m),c*(1+d*l)+h*(1-Object(r["h"])(m))]}return arguments.length<8&&(l=0),u.invert=function(u,c){var d,f,p=r["s"]*u/e,h=c,m=50;do{var g=h*h,v=e+g*(t+g*(n+g*o)),y=h*(i-1+g*(a-l+g*s)),b=v*v+y*y,x=2*y,w=b/x,_=w*w,C=Object(r["e"])(v/w)/r["s"],S=p*C,k=v*v,O=(2*t+g*(4*n+6*g*o))*h,T=i+g*(3*a+5*g*s),M=2*(v*O+y*(T-1)),D=2*(T-1),I=(M*x-b*D)/(x*x),E=Object(r["h"])(S),A=Object(r["y"])(S),L=w*E,j=w*A,N=p/r["s"]*(1/Object(r["B"])(1-k/_))*(O*w-v*I)/_,P=j-u,R=h*(1+g*l)+w-L-c,B=I*A+L*N,F=L*C,z=1+I-(I*E-j*N),V=j*C,H=B*V-z*F;if(!H)break;p-=d=(R*B-P*z)/H,h-=f=(P*V-R*F)/H}while((Object(r["a"])(d)>r["k"]||Object(r["a"])(f)>r["k"])&&--m>0);return[p,h]},u}},function(e,t,n){"use strict";var r=n(0),o=n(1),i=n(294);function a(e,t,n){var i,s,l=t.edges,u=l.length,c={type:"MultiPoint",coordinates:t.face},d=t.face.filter((function(e){return 90!==Object(o["a"])(e[1])})),f=Object(r["geoBounds"])({type:"MultiPoint",coordinates:d}),p=!1,h=-1,m=f[1][0]-f[0][0],g=180===m||360===m?[(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2]:Object(r["geoCentroid"])(c);if(n)while(++h<u)if(l[h]===n)break;++h;for(var v=0;v<u;++v)s=l[(v+h)%u],Array.isArray(s)?(p||(e.point((i=Object(r["geoInterpolate"])(s[0],g)(o["k"]))[0],i[1]),p=!0),e.point((i=Object(r["geoInterpolate"])(s[1],g)(o["k"]))[0],i[1])):(p=!1,s!==n&&a(e,s,t))}function s(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}function l(e,t){for(var n,r,o=e.length,i=null,a=0;a<o;++a){n=e[a];for(var s=t.length;--s>=0;)if(r=t[s],n[0]===r[0]&&n[1]===r[1]){if(i)return[i,n];i=n}}}function u(e){for(var t=e.length,n=[],r=e[t-1],o=0;o<t;++o)n.push([r,r=e[o]]);return n}function c(e){return e.project.invert||e.children&&e.children.some(c)}t["a"]=function(e,t,n){function d(e,t){if(e.edges=u(e.face),t.face){var n=e.shared=l(e.face,t.face),r=Object(i["a"])(n.map(t.project),n.map(e.project));e.transform=t.transform?Object(i["c"])(t.transform,r):r;for(var o=t.edges,a=0,c=o.length;a<c;++a)s(n[0],o[a][1])&&s(n[1],o[a][0])&&(o[a]=e),s(n[0],o[a][0])&&s(n[1],o[a][1])&&(o[a]=e);for(o=e.edges,a=0,c=o.length;a<c;++a)s(n[0],o[a][0])&&s(n[1],o[a][1])&&(o[a]=t),s(n[0],o[a][1])&&s(n[1],o[a][0])&&(o[a]=t)}else e.transform=t.transform;return e.children&&e.children.forEach((function(t){d(t,e)})),e}function f(e,n){var r,i=t(e,n),a=i.project([e*o["j"],n*o["j"]]);return(r=i.transform)?[r[0]*a[0]+r[1]*a[1]+r[2],-(r[3]*a[0]+r[4]*a[1]+r[5])]:(a[1]=-a[1],a)}function p(e,t){var n=e.project.invert,r=e.transform,o=t;if(r&&(r=Object(i["b"])(r),o=[r[0]*o[0]+r[1]*o[1]+r[2],r[3]*o[0]+r[4]*o[1]+r[5]]),n&&e===h(a=n(o)))return a;for(var a,s=e.children,l=0,u=s&&s.length;l<u;++l)if(a=p(s[l],t))return a}function h(e){return t(e[0]*o["v"],e[1]*o["v"])}n=null==n?-o["s"]/6:n,d(e,{transform:[Object(o["h"])(n),Object(o["y"])(n),0,-Object(o["y"])(n),Object(o["h"])(n),0]}),c(e)&&(f.invert=function(t,n){var r=p(e,[t,-n]);return r&&(r[0]*=o["v"],r[1]*=o["v"],r)});var m=Object(r["geoProjection"])(f),g=m.stream;return m.stream=function(t){var n=m.rotate(),r=g(t),o=(m.rotate([0,0]),g(t));return m.rotate(n),r.sphere=function(){o.polygonStart(),o.lineStart(),a(o,e),o.lineEnd(),o.polygonEnd()},r},m}},function(e,t,n){var r=n(321),o=n(41),i=function(e){if(!r(e)||!o(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;var t=e;while(null!==Object.getPrototypeOf(t))t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};e.exports=i},function(e,t,n){"use strict";t["a"]=function(e,t,n,r,o){var i,a=e.children,s=-1,l=a.length,u=e.value&&(o-n)/e.value;while(++s<l)i=a[s],i.x0=t,i.x1=r,i.y0=n,i.y1=n+=i.value*u}},function(e,t,n){var r=n(41),o=function(e){return r(e,"Number")};e.exports=o},function(e,t){e.exports=function(e,t){var n=t||1,r=e[0],o=e[1],i=[],a=r;while(a<o)i.push(a),a+=n;return i.push(o),i}},function(e,t,n){var r=n(19),o=r.standardDeviation,i=r.interquartileRange;e.exports={silverman:function(e){var t=o(e),n=4*Math.pow(t,5),r=3*e.length;return Math.pow(n/r,.2)},nrd:function(e){var t=o(e),n=i(e);return"number"===typeof n&&(t=Math.min(t,n/1.34)),1.06*t*Math.pow(e.length,-.2)}}},function(e,t,n){"use strict";var r=n(8);function o(e){var t={};function n(o){var i=e.node(o);if(r.has(t,o))return i.rank;t[o]=!0;var a=r.minBy(r.map(e.outEdges(o),(function(t){return n(t.w)-e.edge(t).minlen})));return a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0),i.rank=a}r.forEach(e.sources(),n)}function i(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}e.exports={longestPath:o,slack:i}},function(e,t,n){"use strict";function r(e){this._context=e}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}},t["a"]=function(e){return new r(e)}},function(e,t,n){"use strict";t["a"]=function(){}},function(e,t,n){"use strict";function r(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function o(e){this._context=e}t["b"]=r,t["a"]=o,o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},function(e,t,n){"use strict";function r(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function o(e,t){this._context=e,this._k=(1-t)/6}t["b"]=r,t["a"]=o,o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:r(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:r(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return new o(e,t)}return n.tension=function(t){return e(+t)},n})(0)},function(e,t,n){var r=n(193),o=function(){function e(e,t){void 0===t&&(t={});var n=this;n.options=t,n.rootNode=r(e,t)}var t=e.prototype;return t.execute=function(){throw new Error("please override this method")},e}();e.exports=o},function(e,t,n){"use strict";t["a"]=c;var r=n(4),o=n(106),i=n(200),a=n(107),s=n(14),l=1e9,u=-l;function c(e,t,n,c){function d(r,o){return e<=r&&r<=n&&t<=o&&o<=c}function f(r,o,i,a){var s=0,l=0;if(null==r||(s=p(r,i))!==(l=p(o,i))||m(r,o)<0^i>0)do{a.point(0===s||3===s?e:n,s>1?c:t)}while((s=(s+i+4)%4)!==l);else a.point(o[0],o[1])}function p(o,i){return Object(r["a"])(o[0]-e)<r["i"]?i>0?0:3:Object(r["a"])(o[0]-n)<r["i"]?i>0?2:1:Object(r["a"])(o[1]-t)<r["i"]?i>0?1:0:i>0?3:2}function h(e,t){return m(e.x,t.x)}function m(e,t){var n=p(e,1),r=p(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(r){var p,m,g,v,y,b,x,w,_,C,S,k=r,O=Object(o["a"])(),T={point:M,lineStart:A,lineEnd:L,polygonStart:I,polygonEnd:E};function M(e,t){d(e,t)&&k.point(e,t)}function D(){for(var t=0,n=0,r=m.length;n<r;++n)for(var o,i,a=m[n],s=1,l=a.length,u=a[0],d=u[0],f=u[1];s<l;++s)o=d,i=f,u=a[s],d=u[0],f=u[1],i<=c?f>c&&(d-o)*(c-i)>(f-i)*(e-o)&&++t:f<=c&&(d-o)*(c-i)<(f-i)*(e-o)&&--t;return t}function I(){k=O,p=[],m=[],S=!0}function E(){var e=D(),t=S&&e,n=(p=Object(s["merge"])(p)).length;(t||n)&&(r.polygonStart(),t&&(r.lineStart(),f(null,null,1,r),r.lineEnd()),n&&Object(a["a"])(p,h,e,f,r),r.polygonEnd()),k=r,p=m=g=null}function A(){T.point=j,m&&m.push(g=[]),C=!0,_=!1,x=w=NaN}function L(){p&&(j(v,y),b&&_&&O.rejoin(),p.push(O.result())),T.point=M,_&&k.lineEnd()}function j(r,o){var a=d(r,o);if(m&&g.push([r,o]),C)v=r,y=o,b=a,C=!1,a&&(k.lineStart(),k.point(r,o));else if(a&&_)k.point(r,o);else{var s=[x=Math.max(u,Math.min(l,x)),w=Math.max(u,Math.min(l,w))],f=[r=Math.max(u,Math.min(l,r)),o=Math.max(u,Math.min(l,o))];Object(i["a"])(s,f,e,t,n,c)?(_||(k.lineStart(),k.point(s[0],s[1])),k.point(f[0],f[1]),a||k.lineEnd(),S=!1):a&&(k.lineStart(),k.point(r,o),S=!1)}x=r,w=o,_=a}return T}}t["b"]=function(){var e,t,n,r=0,o=0,i=960,a=500;return n={stream:function(n){return e&&t===n?e:e=c(r,o,i,a)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],o=+s[0][1],i=+s[1][0],a=+s[1][1],e=t=null,n):[[r,o],[i,a]]}}}},function(e,t,n){"use strict";var r=n(36);t["a"]=function(e,t,n){if(null==n&&(n=r["a"]),o=e.length){if((t=+t)<=0||o<2)return+n(e[0],0,e);if(t>=1)return+n(e[o-1],o-1,e);var o,i=(o-1)*t,a=Math.floor(i),s=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return s+(l-s)*(i-a)}}},function(e,t,n){"use strict";t["a"]=function(e){return e}},function(e,t,n){"use strict";t["a"]=a;var r=n(4),o=n(69),i=n(229);function a(e,t){var n=Object(r["t"])(e),o=(n+Object(r["t"])(t))/2;if(Object(r["a"])(o)<r["i"])return Object(i["a"])(e);var a=1+n*(2*o-n),s=Object(r["u"])(a)/o;function l(e,t){var n=Object(r["u"])(a-2*o*Object(r["t"])(t))/o;return[n*Object(r["t"])(e*=o),s-n*Object(r["g"])(e)]}return l.invert=function(e,t){var n=s-t;return[Object(r["e"])(e,Object(r["a"])(n))/o*Object(r["s"])(n),Object(r["c"])((a-(e*e+n*n)*o*o)/(2*o))]},l}t["b"]=function(){return Object(o["a"])(a).scale(155.424).center([0,33.6442])}},function(e,t,n){"use strict";t["a"]=i;var r=n(4),o=n(17);function i(e){var t=0,n=r["o"]/3,i=Object(o["b"])(e),a=i(t,n);return a.parallels=function(e){return arguments.length?i(t=e[0]*r["r"],n=e[1]*r["r"]):[t*r["h"],n*r["h"]]},a}},function(e,t,n){"use strict";t["a"]=i,t["b"]=a;var r=n(22),o=n(124);function i(e,t,n){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=s&&e.clipExtent(null),Object(r["a"])(n,e.stream(o["a"]));var l=o["a"].result(),u=Math.min(i/(l[1][0]-l[0][0]),a/(l[1][1]-l[0][1])),c=+t[0][0]+(i-u*(l[1][0]+l[0][0]))/2,d=+t[0][1]+(a-u*(l[1][1]+l[0][1]))/2;return null!=s&&e.clipExtent(s),e.scale(150*u).translate([c,d])}function a(e,t,n){return i(e,[[0,0],t],n)}},function(e,t,n){"use strict";t["c"]=a,t["b"]=s;var r=n(4),o=n(50),i=n(17);function a(e,t){return[e,Object(r["n"])(Object(r["v"])((r["l"]+t)/2))]}function s(e){var t,n,s,l=Object(i["a"])(e),u=l.center,c=l.scale,d=l.translate,f=l.clipExtent,p=null;function h(){var i=r["o"]*c(),u=l(Object(o["a"])(l.rotate()).invert([0,0]));return f(null==p?[[u[0]-i,u[1]-i],[u[0]+i,u[1]+i]]:e===a?[[Math.max(u[0]-i,p),t],[Math.min(u[0]+i,n),s]]:[[p,Math.max(u[1]-i,t)],[n,Math.min(u[1]+i,s)]])}return l.scale=function(e){return arguments.length?(c(e),h()):c()},l.translate=function(e){return arguments.length?(d(e),h()):d()},l.center=function(e){return arguments.length?(u(e),h()):u()},l.clipExtent=function(e){return arguments.length?(null==e?p=t=n=s=null:(p=+e[0][0],t=+e[0][1],n=+e[1][0],s=+e[1][1]),h()):null==p?null:[[p,t],[n,s]]},h()}a.invert=function(e,t){return[e,2*Object(r["d"])(Object(r["k"])(t))-r["l"]]},t["a"]=function(){return s(a).scale(961/r["w"])}},function(e,t,n){"use strict";t["a"]=i;var r=n(0),o=n(1);function i(e,t){var n=Object(o["B"])(1-Object(o["y"])(t));return[2/o["E"]*e*n,o["E"]*(1-n)]}i.invert=function(e,t){var n=(n=t/o["E"]-1)*n;return[n>0?e*Object(o["B"])(o["s"]/n)/2:0,Object(o["e"])(1-n)]},t["b"]=function(){return Object(r["geoProjection"])(i).scale(95.6464).center([0,30])}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),t["c"]=l;var r=n(0),o=n(21),i=n(38),a=.7109889596207567,s=.0528035274542;function l(e,t){return t>-a?(e=Object(o["d"])(e,t),e[1]+=s,e):Object(i["b"])(e,t)}l.invert=function(e,t){return t>-a?o["d"].invert(e,t-s):i["b"].invert(e,t)},t["a"]=function(){return Object(r["geoProjection"])(l).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}},function(e,t,n){"use strict";var r=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]];t["a"]=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map((function(e){return e.map((function(e){return r[e]}))}))},function(e,t,n){"use strict";var r=n(0),o=n(1);t["a"]=function(e){var t=e(o["o"],0)[0]-e(-o["o"],0)[0];function n(n,r){var i=Object(o["a"])(n)<o["o"],a=e(i?n:n>0?n-o["s"]:n+o["s"],r),s=(a[0]-a[1])*o["C"],l=(a[0]+a[1])*o["C"];if(i)return[s,l];var u=t*o["C"],c=s>0^l>0?-1:1;return[c*s-Object(o["x"])(l)*u,c*l-Object(o["x"])(s)*u]}return e.invert&&(n.invert=function(n,r){var i=(n+r)*o["C"],a=(r-n)*o["C"],s=Object(o["a"])(i)<.5*t&&Object(o["a"])(a)<.5*t;if(!s){var l=t*o["C"],u=i>0^a>0?-1:1,c=-u*n+(a>0?1:-1)*l,d=-u*r+(i>0?1:-1)*l;i=(-c-d)*o["C"],a=(c-d)*o["C"]}var f=e.invert(i,a);return s||(f[0]+=i>0?o["s"]:-o["s"]),f}),Object(r["geoProjection"])(n).rotate([-90,-90,45]).clipAngle(179.999)}},function(e,t){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e){var t="undefined"===typeof e?"undefined":n(e);return null!==e&&"object"===t||"function"===t};e.exports=r},function(e,t){var n=function(e){return null===e||void 0===e};e.exports=n},function(e,t,n){"use strict";t["b"]=a;var r=n(144),o=n(5);function i(e,t){return[e>o["o"]?e-o["w"]:e<-o["o"]?e+o["w"]:e,t]}function a(e,t,n){return(e%=o["w"])?t||n?Object(r["a"])(l(e),u(t,n)):l(e):t||n?u(t,n):i}function s(e){return function(t,n){return t+=e,[t>o["o"]?t-o["w"]:t<-o["o"]?t+o["w"]:t,n]}}function l(e){var t=s(e);return t.invert=s(-e),t}function u(e,t){var n=Object(o["g"])(e),r=Object(o["t"])(e),i=Object(o["g"])(t),a=Object(o["t"])(t);function s(e,t){var s=Object(o["g"])(t),l=Object(o["g"])(e)*s,u=Object(o["t"])(e)*s,c=Object(o["t"])(t),d=c*n+l*r;return[Object(o["e"])(u*i-d*a,l*n-c*r),Object(o["c"])(d*i+u*a)]}return s.invert=function(e,t){var s=Object(o["g"])(t),l=Object(o["g"])(e)*s,u=Object(o["t"])(e)*s,c=Object(o["t"])(t),d=c*i-u*a;return[Object(o["e"])(u*i+c*a,l*n+d*r),Object(o["c"])(d*n-l*r)]},s}i.invert=i,t["a"]=function(e){function t(t){return t=e(t[0]*o["r"],t[1]*o["r"]),t[0]*=o["h"],t[1]*=o["h"],t}return e=a(e[0]*o["r"],e[1]*o["r"],e.length>2?e[2]*o["r"]:0),t.invert=function(t){return t=e.invert(t[0]*o["r"],t[1]*o["r"]),t[0]*=o["h"],t[1]*=o["h"],t},t}},function(e,t,n){"use strict";t["a"]=i;var r=n(5),o=n(80);function i(e,t){var n=Object(r["t"])(e),o=(n+Object(r["t"])(t))/2,i=1+n*(2*o-n),a=Object(r["u"])(i)/o;function s(e,t){var n=Object(r["u"])(i-2*o*Object(r["t"])(t))/o;return[n*Object(r["t"])(e*=o),a-n*Object(r["g"])(e)]}return s.invert=function(e,t){var n=a-t;return[Object(r["e"])(e,n)/o,Object(r["c"])((i-(e*e+n*n)*o*o)/(2*o))]},s}t["b"]=function(){return Object(o["a"])(i).scale(155.424).center([0,33.6442])}},function(e,t,n){"use strict";t["a"]=i;var r=n(5),o=n(18);function i(e){var t=0,n=r["o"]/3,i=Object(o["b"])(e),a=i(t,n);return a.parallels=function(e){return arguments.length?i(t=e[0]*r["r"],n=e[1]*r["r"]):[t*r["h"],n*r["h"]]},a}},function(e,t,n){"use strict";function r(e){function t(){}var n=t.prototype=Object.create(o.prototype);for(var r in e)n[r]=e[r];return function(e){var n=new t;return n.stream=e,n}}function o(){}t["b"]=r,t["a"]=function(e){return{stream:r(e)}},o.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(e,t,n){"use strict";t["c"]=i,t["b"]=a;var r=n(18),o=n(5);function i(e,t){return[e,Object(o["n"])(Object(o["v"])((o["l"]+t)/2))]}function a(e){var t,n=Object(r["a"])(e),i=n.scale,a=n.translate,s=n.clipExtent;return n.scale=function(e){return arguments.length?(i(e),t&&n.clipExtent(null),n):i()},n.translate=function(e){return arguments.length?(a(e),t&&n.clipExtent(null),n):a()},n.clipExtent=function(e){if(!arguments.length)return t?null:s();if(t=null==e){var r=o["o"]*i(),l=a();e=[[l[0]-r,l[1]-r],[l[0]+r,l[1]+r]]}return s(e),n},n.clipExtent(null)}i.invert=function(e,t){return[e,2*Object(o["d"])(Object(o["k"])(t))-o["l"]]},t["a"]=function(){return a(i).scale(961/o["w"])}},function(e,t,n){var r=n(9),o=n(11),i=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return r(e,(function(n,r){o(e)&&"prototype"===r||t.push(n)})),t};e.exports=i},function(e,t){e.exports={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]}},function(e,t,n){"use strict";var r={},o={},i=34,a=10,s=13;function l(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}")}function u(e,t){var n=l(e);return function(r,o){return t(n(r),o,e)}}function c(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}t["a"]=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function d(e,t){var n,r,o=f(e,(function(e,o){if(n)return n(e,o-1);r=e,n=t?u(e,t):l(e)}));return o.columns=r||[],o}function f(e,t){var l,u=[],c=e.length,d=0,f=0,p=c<=0,h=!1;function m(){if(p)return o;if(h)return h=!1,r;var t,l,u=d;if(e.charCodeAt(u)===i){while(d++<c&&e.charCodeAt(d)!==i||e.charCodeAt(++d)===i);return(t=d)>=c?p=!0:(l=e.charCodeAt(d++))===a?h=!0:l===s&&(h=!0,e.charCodeAt(d)===a&&++d),e.slice(u+1,t-1).replace(/""/g,'"')}while(d<c){if((l=e.charCodeAt(t=d++))===a)h=!0;else if(l===s)h=!0,e.charCodeAt(d)===a&&++d;else if(l!==n)continue;return e.slice(u,t)}return p=!0,e.slice(u,c)}e.charCodeAt(c-1)===a&&--c,e.charCodeAt(c-1)===s&&--c;while((l=m())!==o){var g=[];while(l!==r&&l!==o)g.push(l),l=m();t&&null==(g=t(g,f++))||u.push(g)}return u}function p(t,n){return null==n&&(n=c(t)),[n.map(g).join(e)].concat(t.map((function(t){return n.map((function(e){return g(t[e])})).join(e)}))).join("\n")}function h(e){return e.map(m).join("\n")}function m(t){return t.map(g).join(e)}function g(e){return null==e?"":t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:d,parseRows:f,format:p,formatRows:h}}},function(e,t,n){"use strict";t["c"]=h,t["b"]=y,t["a"]=b;var r=n(370),o=n(371),i=n(372),a=n(373),s=n(374),l=n(375),u=n(376),c=n(377),d=n(378),f=n(379),p=n(380);function h(e,t){var n,r,o,i,a,s=new b(e),l=+e.value&&(s.value=e.value),u=[s];null==t&&(t=g);while(n=u.pop())if(l&&(n.value=+n.data.value),(o=t(n.data))&&(a=o.length))for(n.children=new Array(a),i=a-1;i>=0;--i)u.push(r=n.children[i]=new b(o[i])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(y)}function m(){return h(this).eachBefore(v)}function g(e){return e.children}function v(e){e.data=e.data.data}function y(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function b(e){this.data=e,this.depth=this.height=0,this.parent=null}b.prototype=h.prototype={constructor:b,count:r["a"],each:o["a"],eachAfter:a["a"],eachBefore:i["a"],sum:s["a"],sort:l["a"],path:u["a"],ancestors:c["a"],descendants:d["a"],leaves:f["a"],links:p["a"],copy:m}},function(e,t,n){"use strict";function r(e){return null==e?null:o(e)}function o(e){if("function"!==typeof e)throw new Error;return e}t["a"]=r,t["b"]=o},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),t["c"]=a;var r=n(45),o=n(55),i=(1+Math.sqrt(5))/2;function a(e,t,n,i,a,s){var l,u,c,d,f,p,h,m,g,v,y,b=[],x=t.children,w=0,_=0,C=x.length,S=t.value;while(w<C){c=a-n,d=s-i;do{f=x[_++].value}while(!f&&_<C);for(p=h=f,v=Math.max(d/c,c/d)/(S*e),y=f*f*v,g=Math.max(h/y,y/p);_<C;++_){if(f+=u=x[_].value,u<p&&(p=u),u>h&&(h=u),y=f*f*v,m=Math.max(h/y,y/p),m>g){f-=u;break}g=m}b.push(l={value:f,dice:c<d,children:x.slice(w,_)}),l.dice?Object(r["a"])(l,n,i,a,S?i+=d*f/S:s):Object(o["a"])(l,n,i,S?n+=c*f/S:a,s),S-=f,w=_}return b}t["a"]=function e(t){function n(e,n,r,o,i){a(t,e,n,r,o,i)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(i)},function(e,t,n){"use strict";var r=n(165);t["a"]=function(e){if(null==e)return r["a"];var t,n,o=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,r){r||(t=n=0);var l=2,u=e.length,c=new Array(u);c[0]=(t+=e[0])*o+a,c[1]=(n+=e[1])*i+s;while(l<u)c[l]=e[l],++l;return c}}},function(e,t,n){"use strict";t["b"]=a;var r=n(392),o=n(89);function i(e,t){var n=t.id,r=t.bbox,o=null==t.properties?{}:t.properties,i=a(e,t);return null==n&&null==r?{type:"Feature",properties:o,geometry:i}:null==r?{type:"Feature",id:n,properties:o,geometry:i}:{type:"Feature",id:n,bbox:r,properties:o,geometry:i}}function a(e,t){var n=Object(o["a"])(e.transform),i=e.arcs;function a(e,t){t.length&&t.pop();for(var o=i[e<0?~e:e],a=0,s=o.length;a<s;++a)t.push(n(o[a],a));e<0&&Object(r["a"])(t,s)}function s(e){return n(e)}function l(e){for(var t=[],n=0,r=e.length;n<r;++n)a(e[n],t);return t.length<2&&t.push(t[0]),t}function u(e){var t=l(e);while(t.length<4)t.push(t[0]);return t}function c(e){return e.map(u)}function d(e){var t,n=e.type;switch(n){case"GeometryCollection":return{type:n,geometries:e.geometries.map(d)};case"Point":t=s(e.coordinates);break;case"MultiPoint":t=e.coordinates.map(s);break;case"LineString":t=l(e.arcs);break;case"MultiLineString":t=e.arcs.map(l);break;case"Polygon":t=c(e.arcs);break;case"MultiPolygon":t=e.arcs.map(c);break;default:return null}return{type:n,coordinates:t}}return d(t)}t["a"]=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return i(e,t)}))}:i(e,t)}},function(e,t){var n=function(e){return null!==e&&"function"!==typeof e&&isFinite(e.length)};e.exports=n},function(e,t){function n(e){return Math.abs(e)<=1?.5:0}function r(e){var t=1-Math.pow(Math.abs(e),3);return Math.pow(t,3)}e.exports={boxcar:n,cosine:function(e){return Math.abs(e)<=1?Math.PI/4*Math.cos(Math.PI/2*e):0},epanechnikov:function(e){return Math.abs(e)<1?.75*(1-e*e):0},gaussian:function(e){return.3989422804*Math.exp(-.5*e*e)},quartic:function(e){if(Math.abs(e)<1){var t=1-e*e;return 15/16*t*t}return 0},triangular:function(e){var t=Math.abs(e);return t<1?1-t:0},tricube:function(e){return Math.abs(e)<1?70/81*r(e):0},triweight:function(e){if(Math.abs(e)<1){var t=1-e*e;return 35/32*t*t*t}return 0},uniform:n}},function(e,t,n){"use strict";var r=n(13);e.exports=s;var o="\0",i="\0",a="";function s(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[i]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function l(e,t){e[t]?e[t]++:e[t]=1}function u(e,t){--e[t]||delete e[t]}function c(e,t,n,i){var s=""+t,l=""+n;if(!e&&s>l){var u=s;s=l,l=u}return s+a+l+a+(r.isUndefined(i)?o:i)}function d(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return r&&(s.name=r),s}function f(e,t){return c(e,t.v,t.w,t.name)}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(e){return this._label=e,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return r.keys(this._nodes)},s.prototype.sources=function(){var e=this;return r.filter(this.nodes(),(function(t){return r.isEmpty(e._in[t])}))},s.prototype.sinks=function(){var e=this;return r.filter(this.nodes(),(function(t){return r.isEmpty(e._out[t])}))},s.prototype.setNodes=function(e,t){var n=arguments,o=this;return r.each(e,(function(e){n.length>1?o.setNode(e,t):o.setNode(e)})),this},s.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=i,this._children[e]={},this._children[i][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},s.prototype.node=function(e){return this._nodes[e]},s.prototype.hasNode=function(e){return r.has(this._nodes,e)},s.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},s.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=i;else{t+="";for(var n=t;!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},s.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},s.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==i)return t}},s.prototype.children=function(e){if(r.isUndefined(e)&&(e=i),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===i)return this.nodes();if(this.hasNode(e))return[]}},s.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},s.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},s.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},s.prototype.isLeaf=function(e){var t;return t=this.isDirected()?this.successors(e):this.neighbors(e),0===t.length},s.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){e(r)&&t.setNode(r,n)})),r.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var o={};function i(e){var r=n.parent(e);return void 0===r||t.hasNode(r)?(o[e]=r,r):r in o?o[r]:i(r)}return this._isCompound&&r.each(t.nodes(),(function(e){t.setParent(e,i(e))})),t},s.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return r.values(this._edgeObjs)},s.prototype.setPath=function(e,t){var n=this,o=arguments;return r.reduce(e,(function(e,r){return o.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r})),this},s.prototype.setEdge=function(){var e,t,n,o,i=!1,a=arguments[0];"object"===typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,n=a.name,2===arguments.length&&(o=arguments[1],i=!0)):(e=a,t=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var s=c(this._isDirected,e,t,n);if(r.has(this._edgeLabels,s))return i&&(this._edgeLabels[s]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[s]=i?o:this._defaultEdgeLabelFn(e,t,n);var u=d(this._isDirected,e,t,n);return e=u.v,t=u.w,Object.freeze(u),this._edgeObjs[s]=u,l(this._preds[t],e),l(this._sucs[e],t),this._in[t][s]=u,this._out[e][s]=u,this._edgeCount++,this},s.prototype.edge=function(e,t,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):c(this._isDirected,e,t,n);return this._edgeLabels[r]},s.prototype.hasEdge=function(e,t,n){var o=1===arguments.length?f(this._isDirected,arguments[0]):c(this._isDirected,e,t,n);return r.has(this._edgeLabels,o)},s.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):c(this._isDirected,e,t,n),o=this._edgeObjs[r];return o&&(e=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],u(this._preds[t],e),u(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},s.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var o=r.values(n);return t?r.filter(o,(function(e){return e.v===t})):o}},s.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var o=r.values(n);return t?r.filter(o,(function(e){return e.w===t})):o}},s.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var r="$";function o(){}function i(e,t){var n=new o;if(e instanceof o)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,a=e.length;if(null==t)while(++i<a)n.set(i,e[i]);else while(++i<a)n.set(t(r=e[i],i,e),r)}else if(e)for(var s in e)n.set(s,e[s]);return n}o.prototype=i.prototype={constructor:o,has:function(e){return r+e in this},get:function(e){return this[r+e]},set:function(e,t){return this[r+e]=t,this},remove:function(e){var t=r+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===r&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===r&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===r&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===r&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===r&&++e;return e},empty:function(){for(var e in this)if(e[0]===r)return!1;return!0},each:function(e){for(var t in this)t[0]===r&&e(this[t],t.slice(1),this)}},t["a"]=i},function(e,t,n){"use strict";var r=n(33),o=n(27),i=n(60),a=n(96);t["a"]=function(){var e=a["a"],t=a["b"],n=Object(o["a"])(!0),s=null,l=i["a"],u=null;function c(o){var i,a,c,d=o.length,f=!1;for(null==s&&(u=l(c=Object(r["path"])())),i=0;i<=d;++i)!(i<d&&n(a=o[i],i,o))===f&&((f=!f)?u.lineStart():u.lineEnd()),f&&u.point(+e(a,i,o),+t(a,i,o));if(c)return u=null,c+""||null}return c.x=function(t){return arguments.length?(e="function"===typeof t?t:Object(o["a"])(+t),c):e},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Object(o["a"])(+e),c):t},c.defined=function(e){return arguments.length?(n="function"===typeof e?e:Object(o["a"])(!!e),c):n},c.curve=function(e){return arguments.length?(l=e,null!=s&&(u=l(s)),c):l},c.context=function(e){return arguments.length?(null==e?s=u=null:u=l(s=e),c):s},c}},function(e,t,n){"use strict";function r(e){return e[0]}function o(e){return e[1]}t["a"]=r,t["b"]=o},function(e,t,n){"use strict";t["a"]=i;var r=n(46),o=n(63);function i(e,t,n){var o=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>r["f"]){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);o=(o*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>r["f"]){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/d,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/d}e._context.bezierCurveTo(o,i,a,s,e._x2,e._y2)}function a(e,t){this._context=e,this._alpha=t}a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:i(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return t?new a(e,t):new o["a"](e,0)}return n.alpha=function(t){return e(+t)},n})(.5)},function(e,t,n){"use strict";t["b"]=o;var r=n(48);function o(e){var t,n=0,r=-1,o=e.length;while(++r<o)(t=+e[r][1])&&(n+=t);return n}t["a"]=function(e){var t=e.map(o);return Object(r["a"])(e).sort((function(e,n){return t[e]-t[n]}))}},function(e,t,n){"use strict";function r(){this._=null}function o(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function i(e,t){var n=t,r=t.R,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function a(e,t){var n=t,r=t.L,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function s(e){while(e.L)e=e.L;return e}t["a"]=o,r.prototype={constructor:r,insert:function(e,t){var n,r,o;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){e=e.R;while(e.L)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=s(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);t.L=t.R=null,t.U=n,t.C=!0,e=t;while(n&&n.C)r=n.U,n===r.L?(o=r.R,o&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.R&&(i(this,n),e=n,n=e.U),n.C=!1,r.C=!0,a(this,r))):(o=r.L,o&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.L&&(a(this,n),e=n,n=e.U),n.C=!1,r.C=!0,i(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,o=e.U,l=e.L,u=e.R;if(n=l?u?s(u):l:u,o?o.L===e?o.L=n:o.R=n:this._=n,l&&u?(r=n.C,n.C=e.C,n.L=l,l.U=n,n!==u?(o=n.U,n.U=e.U,e=n.R,o.L=e,n.R=u,u.U=n):(n.U=o,o=n,e=n.R)):(r=e.C,e=n),e&&(e.U=o),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===o.L){if(t=o.R,t.C&&(t.C=!1,o.C=!0,i(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,a(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,i(this,o),e=this._;break}}else if(t=o.L,t.C&&(t.C=!1,o.C=!0,a(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,i(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,a(this,o),e=this._;break}t.C=!0,e=o,o=o.U}while(!e.C);e&&(e.C=!1)}}},t["b"]=r},function(e,t,n){"use strict";t["c"]=o,t["b"]=i,t["d"]=a,t["a"]=u;var r=n(49);function o(e,t,n,o){var i=[null,null],s=r["e"].push(i)-1;return i.left=e,i.right=t,n&&a(i,e,t,n),o&&a(i,t,e,o),r["b"][e.index].halfedges.push(s),r["b"][t.index].halfedges.push(s),i}function i(e,t,n){var r=[t,n];return r.left=e,r}function a(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function s(e,t,n,r,o){var i,a=e[0],s=e[1],l=a[0],u=a[1],c=s[0],d=s[1],f=0,p=1,h=c-l,m=d-u;if(i=t-l,h||!(i>0)){if(i/=h,h<0){if(i<f)return;i<p&&(p=i)}else if(h>0){if(i>p)return;i>f&&(f=i)}if(i=r-l,h||!(i<0)){if(i/=h,h<0){if(i>p)return;i>f&&(f=i)}else if(h>0){if(i<f)return;i<p&&(p=i)}if(i=n-u,m||!(i>0)){if(i/=m,m<0){if(i<f)return;i<p&&(p=i)}else if(m>0){if(i>p)return;i>f&&(f=i)}if(i=o-u,m||!(i<0)){if(i/=m,m<0){if(i>p)return;i>f&&(f=i)}else if(m>0){if(i<f)return;i<p&&(p=i)}return!(f>0||p<1)||(f>0&&(e[0]=[l+f*h,u+f*m]),p<1&&(e[1]=[l+p*h,u+p*m]),!0)}}}}}function l(e,t,n,r,o){var i=e[1];if(i)return!0;var a,s,l=e[0],u=e.left,c=e.right,d=u[0],f=u[1],p=c[0],h=c[1],m=(d+p)/2,g=(f+h)/2;if(h===f){if(m<t||m>=r)return;if(d>p){if(l){if(l[1]>=o)return}else l=[m,n];i=[m,o]}else{if(l){if(l[1]<n)return}else l=[m,o];i=[m,n]}}else if(a=(d-p)/(h-f),s=g-a*m,a<-1||a>1)if(d>p){if(l){if(l[1]>=o)return}else l=[(n-s)/a,n];i=[(o-s)/a,o]}else{if(l){if(l[1]<n)return}else l=[(o-s)/a,o];i=[(n-s)/a,n]}else if(f<h){if(l){if(l[0]>=r)return}else l=[t,a*t+s];i=[r,a*r+s]}else{if(l){if(l[0]<t)return}else l=[r,a*r+s];i=[t,a*t+s]}return e[0]=l,e[1]=i,!0}function u(e,t,n,o){var i,a=r["e"].length;while(a--)l(i=r["e"][a],e,t,n,o)&&s(i,e,t,n,o)&&(Math.abs(i[0][0]-i[1][0])>r["f"]||Math.abs(i[0][1]-i[1][1])>r["f"])||delete r["e"][a]}},function(e,t,n){var r={compactBox:n(516),dendrogram:n(518),indented:n(520),mindmap:n(522)};e.exports=r},function(e,t,n){var r=n(194),o=["LR","RL","TB","BT","H","V"],i=["LR","RL","H"],a=function(e){return i.indexOf(e)>-1},s=o[0];e.exports=function(e,t,n){var i=t.direction||s;if(t.isHorizontal=a(i),i&&-1===o.indexOf(i))throw new TypeError("Invalid direction: "+i);if(i===o[0])n(e,t);else if(i===o[1])n(e,t),e.right2left();else if(i===o[2])n(e,t);else if(i===o[3])n(e,t),e.bottom2top();else if(i===o[4]||i===o[5]){var l=r(e,t),u=l.left,c=l.right;n(u,t),n(c,t),t.isHorizontal?u.right2left():u.bottom2top(),c.translate(u.x-c.x,u.y-c.y),e.x=u.x,e.y=c.y;var d=e.getBoundingBox();t.isHorizontal?d.top<0&&e.translate(0,-d.top):d.left<0&&e.translate(-d.left,0)}return e.translate(-(e.x+e.width/2+e.hgap),-(e.y+e.height/2+e.vgap)),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r,o,i,a,s,l=n(29),u=n(4),c=n(20),d=n(22),f=Object(l["a"])(),p=Object(l["a"])(),h={point:c["a"],lineStart:c["a"],lineEnd:c["a"],polygonStart:function(){f.reset(),h.lineStart=m,h.lineEnd=g},polygonEnd:function(){var e=+f;p.add(e<0?u["w"]+e:e),this.lineStart=this.lineEnd=this.point=c["a"]},sphere:function(){p.add(u["w"])}};function m(){h.point=v}function g(){y(r,o)}function v(e,t){h.point=y,r=e,o=t,e*=u["r"],t*=u["r"],i=e,a=Object(u["g"])(t=t/2+u["q"]),s=Object(u["t"])(t)}function y(e,t){e*=u["r"],t*=u["r"],t=t/2+u["q"];var n=e-i,r=n>=0?1:-1,o=r*n,l=Object(u["g"])(t),c=Object(u["t"])(t),d=s*c,p=a*l+d*Object(u["g"])(o),h=d*r*Object(u["t"])(o);f.add(Object(u["e"])(h,p)),i=e,a=l,s=c}t["c"]=function(e){return p.reset(),Object(d["a"])(e,h),2*p}},function(e,t,n){"use strict";t["a"]=s;var r=n(35),o=n(199),i=n(4),a=n(50);function s(e,t,n,o,a,s){if(n){var u=Object(i["g"])(t),c=Object(i["t"])(t),d=o*n;null==a?(a=t+o*i["w"],s=t-d/2):(a=l(u,a),s=l(u,s),(o>0?a<s:a>s)&&(a+=o*i["w"]));for(var f,p=a;o>0?p>s:p<s;p-=d)f=Object(r["g"])([u,-c*Object(i["g"])(p),-c*Object(i["t"])(p)]),e.point(f[0],f[1])}}function l(e,t){t=Object(r["a"])(t),t[0]-=e,Object(r["e"])(t);var n=Object(i["b"])(-t[1]);return((-t[2]<0?-n:n)+i["w"]-i["i"])%i["w"]}t["b"]=function(){var e,t,n=Object(o["a"])([0,0]),r=Object(o["a"])(90),l=Object(o["a"])(6),u={point:c};function c(n,r){e.push(n=t(n,r)),n[0]*=i["h"],n[1]*=i["h"]}function d(){var o=n.apply(this,arguments),c=r.apply(this,arguments)*i["r"],d=l.apply(this,arguments)*i["r"];return e=[],t=Object(a["b"])(-o[0]*i["r"],-o[1]*i["r"],0).invert,s(u,c,d,1),o={type:"Polygon",coordinates:[e]},e=t=null,o}return d.center=function(e){return arguments.length?(n="function"===typeof e?e:Object(o["a"])([+e[0],+e[1]]),d):n},d.radius=function(e){return arguments.length?(r="function"===typeof e?e:Object(o["a"])(+e),d):r},d.precision=function(e){return arguments.length?(l="function"===typeof e?e:Object(o["a"])(+e),d):l},d}},function(e,t,n){"use strict";t["a"]=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}},function(e,t,n){"use strict";var r=n(20);t["a"]=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:r["a"],rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}},function(e,t,n){"use strict";var r=n(108);function o(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function i(e){if(t=e.length){var t,n,r=0,o=e[0];while(++r<t)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}t["a"]=function(e,t,n,a,s){var l,u,c=[],d=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,i=e[0],a=e[t];if(Object(r["a"])(i,a)){for(s.lineStart(),l=0;l<t;++l)s.point((i=e[l])[0],i[1]);s.lineEnd()}else c.push(n=new o(i,e,null,!0)),d.push(n.o=new o(i,null,n,!1)),c.push(n=new o(a,e,null,!1)),d.push(n.o=new o(a,null,n,!0))}})),c.length){for(d.sort(t),i(c),i(d),l=0,u=d.length;l<u;++l)d[l].e=n=!n;var f,p,h=c[0];while(1){var m=h,g=!0;while(m.v)if((m=m.n)===h)return;f=m.z,s.lineStart();do{if(m.v=m.o.v=!0,m.e){if(g)for(l=0,u=f.length;l<u;++l)s.point((p=f[l])[0],p[1]);else a(m.x,m.n.x,1,s);m=m.n}else{if(g)for(f=m.p.z,l=f.length-1;l>=0;--l)s.point((p=f[l])[0],p[1]);else a(m.x,m.p.x,-1,s);m=m.p}m=m.o,f=m.z,g=!g}while(!m.v);s.lineEnd()}}}},function(e,t,n){"use strict";var r=n(4);t["a"]=function(e,t){return Object(r["a"])(e[0]-t[0])<r["i"]&&Object(r["a"])(e[1]-t[1])<r["i"]}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(30),o=n(110),i=Object(o["a"])(r["a"]),a=i.right,s=i.left;t["c"]=a},function(e,t,n){"use strict";var r=n(30);function o(e){return function(t,n){return Object(r["a"])(e(t),n)}}t["a"]=function(e){return 1===e.length&&(e=o(e)),{left:function(t,n,r,o){null==r&&(r=0),null==o&&(o=t.length);while(r<o){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r},right:function(t,n,r,o){null==r&&(r=0),null==o&&(o=t.length);while(r<o){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}}},function(e,t,n){"use strict";function r(e,t){return[e,t]}t["b"]=r,t["a"]=function(e,t){null==t&&(t=r);var n=0,o=e.length-1,i=e[0],a=new Array(o<0?0:o);while(n<o)a[n]=t(i,i=e[++n]);return a}},function(e,t,n){"use strict";var r=n(113);t["a"]=function(e,t){var n=Object(r["a"])(e,t);return n?Math.sqrt(n):n}},function(e,t,n){"use strict";var r=n(36);t["a"]=function(e,t){var n,o,i=e.length,a=0,s=-1,l=0,u=0;if(null==t)while(++s<i)isNaN(n=Object(r["a"])(e[s]))||(o=n-l,l+=o/++a,u+=o*(n-l));else while(++s<i)isNaN(n=Object(r["a"])(t(e[s],s,e)))||(o=n-l,l+=o/++a,u+=o*(n-l));if(a>1)return u/(a-1)}},function(e,t,n){"use strict";t["a"]=function(e,t){var n,r,o,i=e.length,a=-1;if(null==t){while(++a<i)if(null!=(n=e[a])&&n>=n){r=o=n;while(++a<i)null!=(n=e[a])&&(r>n&&(r=n),o<n&&(o=n))}}else while(++a<i)if(null!=(n=t(e[a],a,e))&&n>=n){r=o=n;while(++a<i)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),o<n&&(o=n))}return[r,o]}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=Array.prototype,o=r.slice,i=r.map},function(e,t,n){"use strict";t["a"]=function(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);while(++r<o)i[r]=e+r*n;return i}},function(e,t,n){"use strict";t["b"]=a,t["c"]=s;var r=Math.sqrt(50),o=Math.sqrt(10),i=Math.sqrt(2);function a(e,t,n){var a=(t-e)/Math.max(0,n),s=Math.floor(Math.log(a)/Math.LN10),l=a/Math.pow(10,s);return s>=0?(l>=r?10:l>=o?5:l>=i?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(l>=r?10:l>=o?5:l>=i?2:1)}function s(e,t,n){var a=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),l=a/s;return l>=r?s*=10:l>=o?s*=5:l>=i&&(s*=2),t<e?-s:s}t["a"]=function(e,t,n){var r,o,i,s,l=-1;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(s=a(e,t,n))||!isFinite(s))return[];if(s>0){e=Math.ceil(e/s),t=Math.floor(t/s),i=new Array(o=Math.ceil(t-e+1));while(++l<o)i[l]=(e+l)*s}else{e=Math.floor(e*s),t=Math.ceil(t*s),i=new Array(o=Math.ceil(e-t+1));while(++l<o)i[l]=(e-l)/s}return r&&i.reverse(),i}},function(e,t,n){"use strict";t["a"]=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}},function(e,t,n){"use strict";t["a"]=function(e,t){var n,r,o=e.length,i=-1;if(null==t){while(++i<o)if(null!=(n=e[i])&&n>=n){r=n;while(++i<o)null!=(n=e[i])&&r>n&&(r=n)}}else while(++i<o)if(null!=(n=t(e[i],i,e))&&n>=n){r=n;while(++i<o)null!=(n=t(e[i],i,e))&&r>n&&(r=n)}return r}},function(e,t,n){"use strict";var r=n(119);function o(e){return e.length}t["a"]=function(e){if(!(a=e.length))return[];for(var t=-1,n=Object(r["a"])(e,o),i=new Array(n);++t<n;)for(var a,s=-1,l=i[t]=new Array(a);++s<a;)l[s]=e[s][t];return i}},function(e,t,n){"use strict";var r=n(29),o=n(35),i=n(4),a=Object(r["a"])();t["a"]=function(e,t){var n=t[0],r=t[1],s=[Object(i["t"])(n),-Object(i["g"])(n),0],l=0,u=0;a.reset();for(var c=0,d=e.length;c<d;++c)if(p=(f=e[c]).length)for(var f,p,h=f[p-1],m=h[0],g=h[1]/2+i["q"],v=Object(i["t"])(g),y=Object(i["g"])(g),b=0;b<p;++b,m=w,v=C,y=S,h=x){var x=f[b],w=x[0],_=x[1]/2+i["q"],C=Object(i["t"])(_),S=Object(i["g"])(_),k=w-m,O=k>=0?1:-1,T=O*k,M=T>i["o"],D=v*C;if(a.add(Object(i["e"])(D*O*Object(i["t"])(T),y*S+D*Object(i["g"])(T))),l+=M?k+O*i["w"]:k,M^m>=n^w>=n){var I=Object(o["c"])(Object(o["a"])(h),Object(o["a"])(x));Object(o["e"])(I);var E=Object(o["c"])(s,I);Object(o["e"])(E);var A=(M^k>=0?-1:1)*Object(i["c"])(E[2]);(r>A||r===A&&(I[0]||I[1]))&&(u+=M^k>=0?1:-1)}}return(l<-i["i"]||l<i["i"]&&a<-i["i"])^1&u}},function(e,t,n){"use strict";var r=n(123),o=[null,null],i={type:"LineString",coordinates:o};t["a"]=function(e,t){return o[0]=e,o[1]=t,Object(r["a"])(i)}},function(e,t,n){"use strict";var r,o,i,a=n(29),s=n(4),l=n(20),u=n(22),c=Object(a["a"])(),d={sphere:l["a"],point:l["a"],lineStart:f,lineEnd:l["a"],polygonStart:l["a"],polygonEnd:l["a"]};function f(){d.point=h,d.lineEnd=p}function p(){d.point=d.lineEnd=l["a"]}function h(e,t){e*=s["r"],t*=s["r"],r=e,o=Object(s["t"])(t),i=Object(s["g"])(t),d.point=m}function m(e,t){e*=s["r"],t*=s["r"];var n=Object(s["t"])(t),a=Object(s["g"])(t),l=Object(s["a"])(e-r),u=Object(s["g"])(l),d=Object(s["t"])(l),f=a*d,p=i*n-o*a*u,h=o*n+i*a*u;c.add(Object(s["e"])(Object(s["u"])(f*f+p*p),h)),r=e,o=n,i=a}t["a"]=function(e){return c.reset(),Object(u["a"])(e,d),+c}},function(e,t,n){"use strict";var r=n(20),o=1/0,i=o,a=-o,s=a,l={point:u,lineStart:r["a"],lineEnd:r["a"],polygonStart:r["a"],polygonEnd:r["a"],result:function(){var e=[[o,i],[a,s]];return a=s=-(i=o=1/0),e}};function u(e,t){e<o&&(o=e),e>a&&(a=e),t<i&&(i=t),t>s&&(s=t)}t["a"]=l},function(e,t,n){"use strict";var r=n(68);t["a"]=function(){return Object(r["b"])().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},function(e,t,n){"use strict";var r=n(106),o=n(107),i=n(4),a=n(121),s=n(14);function l(e){return e.length>1}function u(e,t){return((e=e.x)[0]<0?e[1]-i["l"]-i["i"]:i["l"]-e[1])-((t=t.x)[0]<0?t[1]-i["l"]-i["i"]:i["l"]-t[1])}t["a"]=function(e,t,n,i){return function(c,d){var f,p,h,m=t(d),g=c.invert(i[0],i[1]),v=Object(r["a"])(),y=t(v),b=!1,x={point:w,lineStart:C,lineEnd:S,polygonStart:function(){x.point=k,x.lineStart=O,x.lineEnd=T,p=[],f=[]},polygonEnd:function(){x.point=w,x.lineStart=C,x.lineEnd=S,p=Object(s["merge"])(p);var e=Object(a["a"])(f,g);p.length?(b||(d.polygonStart(),b=!0),Object(o["a"])(p,u,e,n,d)):e&&(b||(d.polygonStart(),b=!0),d.lineStart(),n(null,null,1,d),d.lineEnd()),b&&(d.polygonEnd(),b=!1),p=f=null},sphere:function(){d.polygonStart(),d.lineStart(),n(null,null,1,d),d.lineEnd(),d.polygonEnd()}};function w(t,n){var r=c(t,n);e(t=r[0],n=r[1])&&d.point(t,n)}function _(e,t){var n=c(e,t);m.point(n[0],n[1])}function C(){x.point=_,m.lineStart()}function S(){x.point=w,m.lineEnd()}function k(e,t){h.push([e,t]);var n=c(e,t);y.point(n[0],n[1])}function O(){y.lineStart(),h=[]}function T(){k(h[0][0],h[0][1]),y.lineEnd();var e,t,n,r,o=y.clean(),i=v.result(),a=i.length;if(h.pop(),f.push(h),h=null,a)if(1&o){if(n=i[0],(t=n.length-1)>0){for(b||(d.polygonStart(),b=!0),d.lineStart(),e=0;e<t;++e)d.point((r=n[e])[0],r[1]);d.lineEnd()}}else a>1&&2&o&&i.push(i.pop().concat(i.shift())),p.push(i.filter(l))}return x}}},function(e,t,n){"use strict";t["b"]=o;var r=n(17);function o(e,t){return[e,t]}o.invert=o,t["a"]=function(){return Object(r["a"])(o).scale(152.63)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(240);n.d(t,"geoAiry",(function(){return r["b"]})),n.d(t,"geoAiryRaw",(function(){return r["a"]}));var o=n(129);n.d(t,"geoAitoff",(function(){return o["b"]})),n.d(t,"geoAitoffRaw",(function(){return o["a"]}));var i=n(241);n.d(t,"geoArmadillo",(function(){return i["b"]})),n.d(t,"geoArmadilloRaw",(function(){return i["a"]}));var a=n(130);n.d(t,"geoAugust",(function(){return a["b"]})),n.d(t,"geoAugustRaw",(function(){return a["a"]}));var s=n(242);n.d(t,"geoBaker",(function(){return s["b"]})),n.d(t,"geoBakerRaw",(function(){return s["a"]}));var l=n(243);n.d(t,"geoBerghaus",(function(){return l["b"]})),n.d(t,"geoBerghausRaw",(function(){return l["a"]}));var u=n(131);n.d(t,"geoBoggs",(function(){return u["b"]})),n.d(t,"geoBoggsRaw",(function(){return u["a"]}));var c=n(244);n.d(t,"geoBonne",(function(){return c["b"]})),n.d(t,"geoBonneRaw",(function(){return c["a"]}));var d=n(245);n.d(t,"geoBottomley",(function(){return d["b"]})),n.d(t,"geoBottomleyRaw",(function(){return d["a"]}));var f=n(246);n.d(t,"geoBromley",(function(){return f["b"]})),n.d(t,"geoBromleyRaw",(function(){return f["a"]}));var p=n(247);n.d(t,"geoChamberlin",(function(){return p["c"]})),n.d(t,"geoChamberlinRaw",(function(){return p["b"]})),n.d(t,"geoChamberlinAfrica",(function(){return p["a"]}));var h=n(72);n.d(t,"geoCollignon",(function(){return h["b"]})),n.d(t,"geoCollignonRaw",(function(){return h["a"]}));var m=n(248);n.d(t,"geoCraig",(function(){return m["b"]})),n.d(t,"geoCraigRaw",(function(){return m["a"]}));var g=n(249);n.d(t,"geoCraster",(function(){return g["b"]})),n.d(t,"geoCrasterRaw",(function(){return g["a"]}));var v=n(132);n.d(t,"geoCylindricalEqualArea",(function(){return v["b"]})),n.d(t,"geoCylindricalEqualAreaRaw",(function(){return v["a"]}));var y=n(250);n.d(t,"geoCylindricalStereographic",(function(){return y["b"]})),n.d(t,"geoCylindricalStereographicRaw",(function(){return y["a"]}));var b=n(251);n.d(t,"geoEckert1",(function(){return b["a"]})),n.d(t,"geoEckert1Raw",(function(){return b["b"]}));var x=n(252);n.d(t,"geoEckert2",(function(){return x["a"]})),n.d(t,"geoEckert2Raw",(function(){return x["b"]}));var w=n(253);n.d(t,"geoEckert3",(function(){return w["a"]})),n.d(t,"geoEckert3Raw",(function(){return w["b"]}));var _=n(254);n.d(t,"geoEckert4",(function(){return _["a"]})),n.d(t,"geoEckert4Raw",(function(){return _["b"]}));var C=n(255);n.d(t,"geoEckert5",(function(){return C["a"]})),n.d(t,"geoEckert5Raw",(function(){return C["b"]}));var S=n(256);n.d(t,"geoEckert6",(function(){return S["a"]})),n.d(t,"geoEckert6Raw",(function(){return S["b"]}));var k=n(257);n.d(t,"geoEisenlohr",(function(){return k["a"]})),n.d(t,"geoEisenlohrRaw",(function(){return k["b"]}));var O=n(258);n.d(t,"geoFahey",(function(){return O["a"]})),n.d(t,"geoFaheyRaw",(function(){return O["b"]}));var T=n(259);n.d(t,"geoFoucaut",(function(){return T["a"]})),n.d(t,"geoFoucautRaw",(function(){return T["b"]}));var M=n(260);n.d(t,"geoGilbert",(function(){return M["a"]}));var D=n(261);n.d(t,"geoGingery",(function(){return D["a"]})),n.d(t,"geoGingeryRaw",(function(){return D["b"]}));var I=n(262);n.d(t,"geoGinzburg4",(function(){return I["a"]})),n.d(t,"geoGinzburg4Raw",(function(){return I["b"]}));var E=n(263);n.d(t,"geoGinzburg5",(function(){return E["a"]})),n.d(t,"geoGinzburg5Raw",(function(){return E["b"]}));var A=n(264);n.d(t,"geoGinzburg6",(function(){return A["a"]})),n.d(t,"geoGinzburg6Raw",(function(){return A["b"]}));var L=n(265);n.d(t,"geoGinzburg8",(function(){return L["a"]})),n.d(t,"geoGinzburg8Raw",(function(){return L["b"]}));var j=n(266);n.d(t,"geoGinzburg9",(function(){return j["a"]})),n.d(t,"geoGinzburg9Raw",(function(){return j["b"]}));var N=n(133);n.d(t,"geoGringorten",(function(){return N["a"]})),n.d(t,"geoGringortenRaw",(function(){return N["b"]}));var P=n(135);n.d(t,"geoGuyou",(function(){return P["a"]})),n.d(t,"geoGuyouRaw",(function(){return P["b"]}));var R=n(268);n.d(t,"geoHammer",(function(){return R["a"]})),n.d(t,"geoHammerRaw",(function(){return R["b"]}));var B=n(269);n.d(t,"geoHammerRetroazimuthal",(function(){return B["a"]})),n.d(t,"geoHammerRetroazimuthalRaw",(function(){return B["b"]}));var F=n(270);n.d(t,"geoHealpix",(function(){return F["a"]})),n.d(t,"geoHealpixRaw",(function(){return F["b"]}));var z=n(271);n.d(t,"geoHill",(function(){return z["a"]})),n.d(t,"geoHillRaw",(function(){return z["b"]}));var V=n(136);n.d(t,"geoHomolosine",(function(){return V["a"]})),n.d(t,"geoHomolosineRaw",(function(){return V["b"]}));var H=n(23);n.d(t,"geoInterrupt",(function(){return H["a"]}));var U=n(272);n.d(t,"geoInterruptedBoggs",(function(){return U["a"]}));var $=n(273);n.d(t,"geoInterruptedHomolosine",(function(){return $["a"]}));var q=n(274);n.d(t,"geoInterruptedMollweide",(function(){return q["a"]}));var W=n(275);n.d(t,"geoInterruptedMollweideHemispheres",(function(){return W["a"]}));var G=n(276);n.d(t,"geoInterruptedSinuMollweide",(function(){return G["a"]}));var Y=n(277);n.d(t,"geoInterruptedSinusoidal",(function(){return Y["a"]}));var K=n(278);n.d(t,"geoKavrayskiy7",(function(){return K["a"]})),n.d(t,"geoKavrayskiy7Raw",(function(){return K["b"]}));var X=n(279);n.d(t,"geoLagrange",(function(){return X["a"]})),n.d(t,"geoLagrangeRaw",(function(){return X["b"]}));var J=n(280);n.d(t,"geoLarrivee",(function(){return J["a"]})),n.d(t,"geoLarriveeRaw",(function(){return J["b"]}));var Z=n(281);n.d(t,"geoLaskowski",(function(){return Z["a"]})),n.d(t,"geoLaskowskiRaw",(function(){return Z["b"]}));var Q=n(282);n.d(t,"geoLittrow",(function(){return Q["a"]})),n.d(t,"geoLittrowRaw",(function(){return Q["b"]}));var ee=n(283);n.d(t,"geoLoximuthal",(function(){return ee["a"]})),n.d(t,"geoLoximuthalRaw",(function(){return ee["b"]}));var te=n(284);n.d(t,"geoMiller",(function(){return te["a"]})),n.d(t,"geoMillerRaw",(function(){return te["b"]}));var ne=n(285);n.d(t,"geoModifiedStereographic",(function(){return ne["a"]})),n.d(t,"geoModifiedStereographicRaw",(function(){return ne["g"]})),n.d(t,"geoModifiedStereographicAlaska",(function(){return ne["b"]})),n.d(t,"geoModifiedStereographicGs48",(function(){return ne["c"]})),n.d(t,"geoModifiedStereographicGs50",(function(){return ne["d"]})),n.d(t,"geoModifiedStereographicMiller",(function(){return ne["f"]})),n.d(t,"geoModifiedStereographicLee",(function(){return ne["e"]}));var re=n(21);n.d(t,"geoMollweide",(function(){return re["a"]})),n.d(t,"geoMollweideRaw",(function(){return re["d"]}));var oe=n(286);n.d(t,"geoMtFlatPolarParabolic",(function(){return oe["a"]})),n.d(t,"geoMtFlatPolarParabolicRaw",(function(){return oe["b"]}));var ie=n(287);n.d(t,"geoMtFlatPolarQuartic",(function(){return ie["a"]})),n.d(t,"geoMtFlatPolarQuarticRaw",(function(){return ie["b"]}));var ae=n(288);n.d(t,"geoMtFlatPolarSinusoidal",(function(){return ae["a"]})),n.d(t,"geoMtFlatPolarSinusoidalRaw",(function(){return ae["b"]}));var se=n(289);n.d(t,"geoNaturalEarth",(function(){return se["a"]})),n.d(t,"geoNaturalEarthRaw",(function(){return se["b"]}));var le=n(290);n.d(t,"geoNaturalEarth2",(function(){return le["a"]})),n.d(t,"geoNaturalEarth2Raw",(function(){return le["b"]}));var ue=n(291);n.d(t,"geoNellHammer",(function(){return ue["a"]})),n.d(t,"geoNellHammerRaw",(function(){return ue["b"]}));var ce=n(292);n.d(t,"geoPatterson",(function(){return ce["a"]})),n.d(t,"geoPattersonRaw",(function(){return ce["b"]}));var de=n(293);n.d(t,"geoPolyconic",(function(){return de["a"]})),n.d(t,"geoPolyconicRaw",(function(){return de["b"]}));var fe=n(53);n.d(t,"geoPolyhedral",(function(){return fe["a"]}));var pe=n(295);n.d(t,"geoPolyhedralButterfly",(function(){return pe["a"]}));var he=n(296);n.d(t,"geoPolyhedralCollignon",(function(){return he["a"]}));var me=n(297);n.d(t,"geoPolyhedralWaterman",(function(){return me["a"]}));var ge=n(298);n.d(t,"geoProject",(function(){return ge["a"]}));var ve=n(302);n.d(t,"geoGringortenQuincuncial",(function(){return ve["a"]}));var ye=n(137);n.d(t,"geoPeirceQuincuncial",(function(){return ye["a"]})),n.d(t,"geoPierceQuincuncial",(function(){return ye["a"]}));var be=n(303);n.d(t,"geoQuantize",(function(){return be["a"]}));var xe=n(75);n.d(t,"geoQuincuncial",(function(){return xe["a"]}));var we=n(304);n.d(t,"geoRectangularPolyconic",(function(){return we["a"]})),n.d(t,"geoRectangularPolyconicRaw",(function(){return we["b"]}));var _e=n(305);n.d(t,"geoRobinson",(function(){return _e["a"]})),n.d(t,"geoRobinsonRaw",(function(){return _e["b"]}));var Ce=n(306);n.d(t,"geoSatellite",(function(){return Ce["a"]})),n.d(t,"geoSatelliteRaw",(function(){return Ce["b"]}));var Se=n(73);n.d(t,"geoSinuMollweide",(function(){return Se["a"]})),n.d(t,"geoSinuMollweideRaw",(function(){return Se["c"]}));var ke=n(38);n.d(t,"geoSinusoidal",(function(){return ke["a"]})),n.d(t,"geoSinusoidalRaw",(function(){return ke["b"]}));var Oe=n(307);n.d(t,"geoStitch",(function(){return Oe["a"]}));var Te=n(308);n.d(t,"geoTimes",(function(){return Te["a"]})),n.d(t,"geoTimesRaw",(function(){return Te["b"]}));var Me=n(309);n.d(t,"geoTwoPointAzimuthal",(function(){return Me["a"]})),n.d(t,"geoTwoPointAzimuthalRaw",(function(){return Me["b"]})),n.d(t,"geoTwoPointAzimuthalUsa",(function(){return Me["c"]}));var De=n(310);n.d(t,"geoTwoPointEquidistant",(function(){return De["a"]})),n.d(t,"geoTwoPointEquidistantRaw",(function(){return De["b"]})),n.d(t,"geoTwoPointEquidistantUsa",(function(){return De["c"]}));var Ie=n(311);n.d(t,"geoVanDerGrinten",(function(){return Ie["a"]})),n.d(t,"geoVanDerGrintenRaw",(function(){return Ie["b"]}));var Ee=n(312);n.d(t,"geoVanDerGrinten2",(function(){return Ee["a"]})),n.d(t,"geoVanDerGrinten2Raw",(function(){return Ee["b"]}));var Ae=n(313);n.d(t,"geoVanDerGrinten3",(function(){return Ae["a"]})),n.d(t,"geoVanDerGrinten3Raw",(function(){return Ae["b"]}));var Le=n(314);n.d(t,"geoVanDerGrinten4",(function(){return Le["a"]})),n.d(t,"geoVanDerGrinten4Raw",(function(){return Le["b"]}));var je=n(315);n.d(t,"geoWagner4",(function(){return je["a"]})),n.d(t,"geoWagner4Raw",(function(){return je["b"]}));var Ne=n(316);n.d(t,"geoWagner6",(function(){return Ne["a"]})),n.d(t,"geoWagner6Raw",(function(){return Ne["b"]}));var Pe=n(317);n.d(t,"geoWagner7",(function(){return Pe["a"]})),n.d(t,"geoWagner7Raw",(function(){return Pe["b"]}));var Re=n(318);n.d(t,"geoWiechel",(function(){return Re["a"]})),n.d(t,"geoWiechelRaw",(function(){return Re["b"]}));var Be=n(319);n.d(t,"geoWinkel3",(function(){return Be["a"]})),n.d(t,"geoWinkel3Raw",(function(){return Be["b"]}))},function(e,t,n){"use strict";t["a"]=i;var r=n(0),o=n(1);function i(e,t){var n=Object(o["h"])(t),r=Object(o["z"])(Object(o["b"])(n*Object(o["h"])(e/=2)));return[2*n*Object(o["y"])(e)*r,Object(o["y"])(t)*r]}i.invert=function(e,t){if(!(e*e+4*t*t>o["s"]*o["s"]+o["k"])){var n=e,r=t,i=25;do{var a,s=Object(o["y"])(n),l=Object(o["y"])(n/2),u=Object(o["h"])(n/2),c=Object(o["y"])(r),d=Object(o["h"])(r),f=Object(o["y"])(2*r),p=c*c,h=d*d,m=l*l,g=1-h*u*u,v=g?Object(o["b"])(d*u)*Object(o["B"])(a=1/g):a=0,y=2*v*d*l-e,b=v*c-t,x=a*(h*m+v*d*u*p),w=a*(.5*s*f-2*v*c*l),_=.25*a*(f*l-v*c*h*s),C=a*(p*u+v*m*d),S=w*_-C*x;if(!S)break;var k=(b*w-y*C)/S,O=(y*_-b*x)/S;n-=k,r-=O}while((Object(o["a"])(k)>o["k"]||Object(o["a"])(O)>o["k"])&&--i>0);return[n,r]}},t["b"]=function(){return Object(r["geoProjection"])(i).scale(152.63)}},function(e,t,n){"use strict";t["a"]=i;var r=n(0),o=n(1);function i(e,t){var n=Object(o["F"])(t/2),r=Object(o["B"])(1-n*n),i=1+r*Object(o["h"])(e/=2),a=Object(o["y"])(e)*r/i,s=n/i,l=a*a,u=s*s;return[4/3*a*(3+l-3*u),4/3*s*(3+3*l-u)]}i.invert=function(e,t){if(e*=3/8,t*=3/8,!e&&Object(o["a"])(t)>1)return null;var n=e*e,r=t*t,i=1+n+r,a=Object(o["B"])((i-Object(o["B"])(i*i-4*t*t))/2),s=Object(o["e"])(a)/3,l=a?Object(o["c"])(Object(o["a"])(t/a))/3:Object(o["d"])(Object(o["a"])(e))/3,u=Object(o["h"])(s),c=Object(o["i"])(l),d=c*c-u*u;return[2*Object(o["x"])(e)*Object(o["g"])(Object(o["A"])(l)*u,.25-d),2*Object(o["x"])(t)*Object(o["g"])(c*Object(o["y"])(s),.25+d)]},t["b"]=function(){return Object(r["geoProjection"])(i).scale(66.1603)}},function(e,t,n){"use strict";t["a"]=l;var r=n(0),o=n(21),i=n(1),a=2.00276,s=1.11072;function l(e,t){var n=Object(o["c"])(i["s"],t);return[a*e/(1/Object(i["h"])(t)+s/Object(i["h"])(n)),(t+i["D"]*Object(i["y"])(n))/a]}l.invert=function(e,t){var n,r,o=a*t,l=t<0?-i["u"]:i["u"],u=25;do{r=o-i["D"]*Object(i["y"])(l),l-=n=(Object(i["y"])(2*l)+2*l-i["s"]*Object(i["y"])(r))/(2*Object(i["h"])(2*l)+2+i["s"]*Object(i["h"])(r)*i["D"]*Object(i["h"])(l))}while(Object(i["a"])(n)>i["k"]&&--u>0);return r=o-i["D"]*Object(i["y"])(l),[e*(1/Object(i["h"])(r)+s/Object(i["h"])(l))/a,r]},t["b"]=function(){return Object(r["geoProjection"])(l).scale(160.857)}},function(e,t,n){"use strict";t["a"]=i;var r=n(1),o=n(31);function i(e){var t=Object(r["h"])(e);function n(e,n){return[e*t,Object(r["y"])(n)/t]}return n.invert=function(e,n){return[e/t,Object(r["e"])(n*t)]},n}t["b"]=function(){return Object(o["a"])(i).parallel(38.58).scale(195.044)}},function(e,t,n){"use strict";t["b"]=a;var r=n(0),o=n(1),i=n(134);function a(e,t){var n=Object(o["x"])(e),r=Object(o["x"])(t),i=Object(o["h"])(t),a=Object(o["h"])(e)*i,l=Object(o["y"])(e)*i,u=Object(o["y"])(r*t);e=Object(o["a"])(Object(o["g"])(l,u)),t=Object(o["e"])(a),Object(o["a"])(e-o["o"])>o["k"]&&(e%=o["o"]);var c=s(e>o["s"]/4?o["o"]-e:e,t);return e>o["s"]/4&&(u=c[0],c[0]=-c[1],c[1]=-u),c[0]*=n,c[1]*=-r,c}function s(e,t){if(t===o["o"])return[0,0];var n,r,i=Object(o["y"])(t),a=i*i,s=a*a,l=1+s,u=1+3*s,c=1-s,d=Object(o["e"])(1/Object(o["B"])(l)),f=c+a*l*d,p=(1-i)/f,h=Object(o["B"])(p),m=p*l,g=Object(o["B"])(m),v=h*c;if(0===e)return[0,-(v+a*g)];var y,b=Object(o["h"])(t),x=1/b,w=2*i*b,_=(-3*a+d*u)*w,C=(-f*b-(1-i)*_)/(f*f),S=.5*C/h,k=c*S-2*a*h*w,O=a*l*C+p*u*w,T=-x*w,M=-x*O,D=-2*x*k,I=4*e/o["s"];if(e>.222*o["s"]||t<o["s"]/4&&e>.175*o["s"]){if(n=(v+a*Object(o["B"])(m*(1+s)-v*v))/(1+s),e>o["s"]/4)return[n,n];var E=n,A=.5*n;n=.5*(A+E),r=50;do{var L=Object(o["B"])(m-n*n),j=n*(D+T*L)+M*Object(o["e"])(n/g)-I;if(!j)break;j<0?A=n:E=n,n=.5*(A+E)}while(Object(o["a"])(E-A)>o["k"]&&--r>0)}else{n=o["k"],r=25;do{var N=n*n,P=Object(o["B"])(m-N),R=D+T*P,B=n*R+M*Object(o["e"])(n/g)-I,F=R+(M-T*N)/P;n-=y=P?B/F:0}while(Object(o["a"])(y)>o["k"]&&--r>0)}return[n,-v-a*Object(o["B"])(m-n*n)]}function l(e,t){var n=0,r=1,i=.5,a=50;while(1){var s=i*i,l=Object(o["B"])(i),u=Object(o["e"])(1/Object(o["B"])(1+s)),c=1-s+i*(1+s)*u,d=(1-l)/c,f=Object(o["B"])(d),p=d*(1+s),h=f*(1-s),m=p-e*e,g=Object(o["B"])(m),v=t+h+i*g;if(Object(o["a"])(r-n)<o["l"]||0===--a||0===v)break;v>0?n=i:r=i,i=.5*(n+r)}if(!a)return null;var y=Object(o["e"])(l),b=Object(o["h"])(y),x=1/b,w=2*l*b,_=(-3*i+u*(1+3*s))*w,C=(-c*b-(1-l)*_)/(c*c),S=.5*C/f,k=(1-s)*S-2*i*f*w,O=-2*x*k,T=-x*w,M=-x*(i*(1+s)*C+d*(1+3*s)*w);return[o["s"]/4*(e*(O+T*g)+M*Object(o["e"])(e/Object(o["B"])(p))),y]}a.invert=function(e,t){Object(o["a"])(e)>1&&(e=2*Object(o["x"])(e)-e),Object(o["a"])(t)>1&&(t=2*Object(o["x"])(t)-t);var n=Object(o["x"])(e),r=Object(o["x"])(t),i=-n*e,a=-r*t,s=a/i<1,u=l(s?a:i,s?i:a),c=u[0],d=u[1],f=Object(o["h"])(d);return s&&(c=-o["o"]-c),[n*(Object(o["g"])(Object(o["y"])(c)*f,-Object(o["y"])(d))+o["s"]),r*Object(o["e"])(Object(o["h"])(c)*f)]},t["a"]=function(){return Object(r["geoProjection"])(Object(i["a"])(a)).scale(239.75)}},function(e,t,n){"use strict";var r=n(1);t["a"]=function(e){var t=e(r["o"],0)[0]-e(-r["o"],0)[0];function n(n,o){var i=n>0?-.5:.5,a=e(n+i*r["s"],o);return a[0]-=i*t,a}return e.invert&&(n.invert=function(n,o){var i=n>0?-.5:.5,a=e.invert(n+i*t,o),s=a[0]-i*r["s"];return s<-r["s"]?s+=2*r["s"]:s>r["s"]&&(s-=2*r["s"]),a[0]=s,a}),n}},function(e,t,n){"use strict";t["b"]=s;var r=n(0),o=n(267),i=n(1),a=n(134);function s(e,t){var n=(i["D"]-1)/(i["D"]+1),r=Object(i["B"])(1-n*n),a=Object(o["a"])(i["o"],r*r),s=-1,u=Object(i["p"])(Object(i["F"])(i["s"]/4+Object(i["a"])(t)/2)),c=Object(i["m"])(s*u)/Object(i["B"])(n),d=l(c*Object(i["h"])(s*e),c*Object(i["y"])(s*e)),f=Object(o["b"])(d[0],d[1],r*r);return[-f[1],(t>=0?1:-1)*(.5*a-f[0])]}function l(e,t){var n=e*e,r=t+1,o=1-n-t*t;return[.5*((e>=0?i["o"]:-i["o"])-Object(i["g"])(o,2*e)),-.25*Object(i["p"])(o*o+4*n)+.5*Object(i["p"])(r*r+n)]}function u(e,t){var n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}s.invert=function(e,t){var n=(i["D"]-1)/(i["D"]+1),r=Object(i["B"])(1-n*n),a=Object(o["a"])(i["o"],r*r),s=-1,l=Object(o["c"])(.5*a-t,-e,r*r),c=u(l[0],l[1]),d=Object(i["g"])(c[1],c[0])/s;return[d,2*Object(i["f"])(Object(i["m"])(.5/s*Object(i["p"])(n*c[0]*c[0]+n*c[1]*c[1])))-i["o"]]},t["a"]=function(){return Object(r["geoProjection"])(Object(a["a"])(s)).scale(151.496)}},function(e,t,n){"use strict";t["b"]=l;var r=n(0),o=n(1),i=n(21),a=n(38),s=n(73);function l(e,t){return Object(o["a"])(t)>s["b"]?(e=Object(i["d"])(e,t),e[1]-=t>0?s["d"]:-s["d"],e):Object(a["b"])(e,t)}l.invert=function(e,t){return Object(o["a"])(t)>s["b"]?i["d"].invert(e,t+(t>0?s["d"]:-s["d"])):a["b"].invert(e,t)},t["a"]=function(){return Object(r["geoProjection"])(l).scale(152.63)}},function(e,t,n){"use strict";var r=n(135),o=n(75);t["a"]=function(){return Object(o["a"])(r["b"]).scale(111.48)}},function(e,t,n){"use strict";var r=n(0),o=n(1);t["a"]=function(e,t,n){var i=Object(r["geoInterpolate"])(t,n),a=i(.5),s=Object(r["geoRotation"])([-a[0],-a[1]])(t),l=i.distance/2,u=-Object(o["e"])(Object(o["y"])(s[1]*o["v"])/Object(o["y"])(l)),c=[-a[0],-a[1],-(s[0]>0?o["s"]-u:u)*o["j"]],d=Object(r["geoProjection"])(e(l)).rotate(c),f=Object(r["geoRotation"])(c),p=d.center;return delete d.rotate,d.center=function(e){return arguments.length?p(f(e)):f.invert(p())},d.clipAngle(90)}},function(e,t,n){var r;
/*!
 * EventEmitter v5.1.0 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */(function(t){"use strict";function o(){}var i=o.prototype,a=t.EventEmitter;function s(e,t){var n=e.length;while(n--)if(e[n].listener===t)return n;return-1}function l(e){return function(){return this[e].apply(this,arguments)}}function u(e){return"function"===typeof e||e instanceof RegExp||!(!e||"object"!==typeof e)&&u(e.listener)}i.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,t){if(!u(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),o="object"===typeof t;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},i.on=l("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=l("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(n=s(o[r],t),-1!==n&&o[r].splice(n,1));return this},i.off=l("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var r,o,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!==typeof t||t instanceof RegExp){r=n.length;while(r--)i.call(this,t,n[r])}else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"===typeof o?i.call(this,r,o):a.call(this,r,o));return this},i.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},i.removeAllListeners=l("removeEvent"),i.emitEvent=function(e,t){var n,r,o,i,a,s=this.getListenersAsObject(e);for(i in s)if(s.hasOwnProperty(i))for(n=s[i].slice(0),o=0;o<n.length;o++)r=n[o],!0===r.once&&this.removeListener(e,r.listener),a=r.listener.apply(this,t||[]),a===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},i.trigger=l("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=a,o},r=function(){return o}.call(t,n,t,e),void 0===r||(e.exports=r)})(this||{})},function(e,t,n){var r=n(24),o=n(77);function i(e,t){var n=r(t),i=n.length;if(o(e))return!i;for(var a=0;a<i;a+=1){var s=n[a];if(t[s]!==e[s]||!(s in e))return!1}return!0}e.exports=i},function(e,t,n){var r=n(11),o=n(10),i=n(0),a=n(128),s=n(322);e.exports=function(e,t){if(r(e))return t?e:e();if(o(e)){if(i[e])return t?i[e]:i[e]();if(a[e])return t?a[e]:a[e]();if(s[e])return t?s[e]:s[e]()}return null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r,o,i,a,s,l=n(42),u=n(5),c=n(25),d=n(26),f=Object(l["a"])(),p=Object(l["a"])(),h={point:c["a"],lineStart:c["a"],lineEnd:c["a"],polygonStart:function(){f.reset(),h.lineStart=m,h.lineEnd=g},polygonEnd:function(){var e=+f;p.add(e<0?u["w"]+e:e),this.lineStart=this.lineEnd=this.point=c["a"]},sphere:function(){p.add(u["w"])}};function m(){h.point=v}function g(){y(r,o)}function v(e,t){h.point=y,r=e,o=t,e*=u["r"],t*=u["r"],i=e,a=Object(u["g"])(t=t/2+u["q"]),s=Object(u["t"])(t)}function y(e,t){e*=u["r"],t*=u["r"],t=t/2+u["q"];var n=e-i,r=n>=0?1:-1,o=r*n,l=Object(u["g"])(t),c=Object(u["t"])(t),d=s*c,p=a*l+d*Object(u["g"])(o),h=d*r*Object(u["t"])(o);f.add(Object(u["e"])(h,p)),i=e,a=l,s=c}t["c"]=function(e){return p.reset(),Object(d["a"])(e,h),2*p}},function(e,t,n){"use strict";t["a"]=s;var r=n(43),o=n(326),i=n(5),a=n(78);function s(e,t,n,o,a,s){if(n){var u=Object(i["g"])(t),c=Object(i["t"])(t),d=o*n;null==a?(a=t+o*i["w"],s=t-d/2):(a=l(u,a),s=l(u,s),(o>0?a<s:a>s)&&(a+=o*i["w"]));for(var f,p=a;o>0?p>s:p<s;p-=d)f=Object(r["g"])([u,-c*Object(i["g"])(p),-c*Object(i["t"])(p)]),e.point(f[0],f[1])}}function l(e,t){t=Object(r["a"])(t),t[0]-=e,Object(r["e"])(t);var n=Object(i["b"])(-t[1]);return((-t[2]<0?-n:n)+i["w"]-i["i"])%i["w"]}t["b"]=function(){var e,t,n=Object(o["a"])([0,0]),r=Object(o["a"])(90),l=Object(o["a"])(6),u={point:c};function c(n,r){e.push(n=t(n,r)),n[0]*=i["h"],n[1]*=i["h"]}function d(){var o=n.apply(this,arguments),c=r.apply(this,arguments)*i["r"],d=l.apply(this,arguments)*i["r"];return e=[],t=Object(a["b"])(-o[0]*i["r"],-o[1]*i["r"],0).invert,s(u,c,d,1),o={type:"Polygon",coordinates:[e]},e=t=null,o}return d.center=function(e){return arguments.length?(n="function"===typeof e?e:Object(o["a"])([+e[0],+e[1]]),d):n},d.radius=function(e){return arguments.length?(r="function"===typeof e?e:Object(o["a"])(+e),d):r},d.precision=function(e){return arguments.length?(l="function"===typeof e?e:Object(o["a"])(+e),d):l},d}},function(e,t,n){"use strict";t["a"]=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}},function(e,t,n){"use strict";t["a"]=c;var r=n(5),o=n(146),i=n(327),a=n(147),s=n(14),l=1e9,u=-l;function c(e,t,n,c){function d(r,o){return e<=r&&r<=n&&t<=o&&o<=c}function f(r,o,i,a){var s=0,l=0;if(null==r||(s=p(r,i))!==(l=p(o,i))||m(r,o)<0^i>0)do{a.point(0===s||3===s?e:n,s>1?c:t)}while((s=(s+i+4)%4)!==l);else a.point(o[0],o[1])}function p(o,i){return Object(r["a"])(o[0]-e)<r["i"]?i>0?0:3:Object(r["a"])(o[0]-n)<r["i"]?i>0?2:1:Object(r["a"])(o[1]-t)<r["i"]?i>0?1:0:i>0?3:2}function h(e,t){return m(e.x,t.x)}function m(e,t){var n=p(e,1),r=p(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(r){var p,m,g,v,y,b,x,w,_,C,S,k=r,O=Object(o["a"])(),T={point:M,lineStart:A,lineEnd:L,polygonStart:I,polygonEnd:E};function M(e,t){d(e,t)&&k.point(e,t)}function D(){for(var t=0,n=0,r=m.length;n<r;++n)for(var o,i,a=m[n],s=1,l=a.length,u=a[0],d=u[0],f=u[1];s<l;++s)o=d,i=f,u=a[s],d=u[0],f=u[1],i<=c?f>c&&(d-o)*(c-i)>(f-i)*(e-o)&&++t:f<=c&&(d-o)*(c-i)<(f-i)*(e-o)&&--t;return t}function I(){k=O,p=[],m=[],S=!0}function E(){var e=D(),t=S&&e,n=(p=Object(s["merge"])(p)).length;(t||n)&&(r.polygonStart(),t&&(r.lineStart(),f(null,null,1,r),r.lineEnd()),n&&Object(a["a"])(p,h,e,f,r),r.polygonEnd()),k=r,p=m=g=null}function A(){T.point=j,m&&m.push(g=[]),C=!0,_=!1,x=w=NaN}function L(){p&&(j(v,y),b&&_&&O.rejoin(),p.push(O.result())),T.point=M,_&&k.lineEnd()}function j(r,o){var a=d(r,o);if(m&&g.push([r,o]),C)v=r,y=o,b=a,C=!1,a&&(k.lineStart(),k.point(r,o));else if(a&&_)k.point(r,o);else{var s=[x=Math.max(u,Math.min(l,x)),w=Math.max(u,Math.min(l,w))],f=[r=Math.max(u,Math.min(l,r)),o=Math.max(u,Math.min(l,o))];Object(i["a"])(s,f,e,t,n,c)?(_||(k.lineStart(),k.point(s[0],s[1])),k.point(f[0],f[1]),a||k.lineEnd(),S=!1):a&&(k.lineStart(),k.point(r,o),S=!1)}x=r,w=o,_=a}return T}}t["b"]=function(){var e,t,n,r=0,o=0,i=960,a=500;return n={stream:function(n){return e&&t===n?e:e=c(r,o,i,a)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],o=+s[0][1],i=+s[1][0],a=+s[1][1],e=t=null,n):[[r,o],[i,a]]}}}},function(e,t,n){"use strict";var r=n(25);t["a"]=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:r["a"],rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}},function(e,t,n){"use strict";var r=n(148);function o(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function i(e){if(t=e.length){var t,n,r=0,o=e[0];while(++r<t)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}t["a"]=function(e,t,n,a,s){var l,u,c=[],d=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,i=e[0],a=e[t];if(Object(r["a"])(i,a)){for(s.lineStart(),l=0;l<t;++l)s.point((i=e[l])[0],i[1]);s.lineEnd()}else c.push(n=new o(i,e,null,!0)),d.push(n.o=new o(i,null,n,!1)),c.push(n=new o(a,e,null,!1)),d.push(n.o=new o(a,null,n,!0))}})),c.length){for(d.sort(t),i(c),i(d),l=0,u=d.length;l<u;++l)d[l].e=n=!n;var f,p,h=c[0];while(1){var m=h,g=!0;while(m.v)if((m=m.n)===h)return;f=m.z,s.lineStart();do{if(m.v=m.o.v=!0,m.e){if(g)for(l=0,u=f.length;l<u;++l)s.point((p=f[l])[0],p[1]);else a(m.x,m.n.x,1,s);m=m.n}else{if(g)for(f=m.p.z,l=f.length-1;l>=0;--l)s.point((p=f[l])[0],p[1]);else a(m.x,m.p.x,-1,s);m=m.p}m=m.o,f=m.z,g=!g}while(!m.v);s.lineEnd()}}}},function(e,t,n){"use strict";var r=n(5);t["a"]=function(e,t){return Object(r["a"])(e[0]-t[0])<r["i"]&&Object(r["a"])(e[1]-t[1])<r["i"]}},function(e,t,n){"use strict";var r,o,i,a=n(42),s=n(5),l=n(25),u=n(26),c=Object(a["a"])(),d={sphere:l["a"],point:l["a"],lineStart:f,lineEnd:l["a"],polygonStart:l["a"],polygonEnd:l["a"]};function f(){d.point=h,d.lineEnd=p}function p(){d.point=d.lineEnd=l["a"]}function h(e,t){e*=s["r"],t*=s["r"],r=e,o=Object(s["t"])(t),i=Object(s["g"])(t),d.point=m}function m(e,t){e*=s["r"],t*=s["r"];var n=Object(s["t"])(t),a=Object(s["g"])(t),l=Object(s["a"])(e-r),u=Object(s["g"])(l),d=Object(s["t"])(l),f=a*d,p=i*n-o*a*u,h=o*n+i*a*u;c.add(Object(s["e"])(Object(s["u"])(f*f+p*p),h)),r=e,o=n,i=a}t["a"]=function(e){return c.reset(),Object(u["a"])(e,d),+c}},function(e,t,n){"use strict";t["a"]=function(e){return e}},function(e,t,n){"use strict";var r=n(25),o=1/0,i=o,a=-o,s=a,l={point:u,lineStart:r["a"],lineEnd:r["a"],polygonStart:r["a"],polygonEnd:r["a"],result:function(){var e=[[o,i],[a,s]];return a=s=-(i=o=1/0),e}};function u(e,t){e<o&&(o=e),e>a&&(a=e),t<i&&(i=t),t>s&&(s=t)}t["a"]=l},function(e,t,n){"use strict";var r=n(79);t["a"]=function(){return Object(r["b"])().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},function(e,t,n){"use strict";var r=n(146),o=n(147),i=n(5),a=n(337),s=n(14);function l(e){return e.length>1}function u(e,t){return((e=e.x)[0]<0?e[1]-i["l"]-i["i"]:i["l"]-e[1])-((t=t.x)[0]<0?t[1]-i["l"]-i["i"]:i["l"]-t[1])}t["a"]=function(e,t,n,i){return function(c,d){var f,p,h,m=t(d),g=c.invert(i[0],i[1]),v=Object(r["a"])(),y=t(v),b=!1,x={point:w,lineStart:C,lineEnd:S,polygonStart:function(){x.point=k,x.lineStart=O,x.lineEnd=T,p=[],f=[]},polygonEnd:function(){x.point=w,x.lineStart=C,x.lineEnd=S,p=Object(s["merge"])(p);var e=Object(a["a"])(f,g);p.length?(b||(d.polygonStart(),b=!0),Object(o["a"])(p,u,e,n,d)):e&&(b||(d.polygonStart(),b=!0),d.lineStart(),n(null,null,1,d),d.lineEnd()),b&&(d.polygonEnd(),b=!1),p=f=null},sphere:function(){d.polygonStart(),d.lineStart(),n(null,null,1,d),d.lineEnd(),d.polygonEnd()}};function w(t,n){var r=c(t,n);e(t=r[0],n=r[1])&&d.point(t,n)}function _(e,t){var n=c(e,t);m.point(n[0],n[1])}function C(){x.point=_,m.lineStart()}function S(){x.point=w,m.lineEnd()}function k(e,t){h.push([e,t]);var n=c(e,t);y.point(n[0],n[1])}function O(){y.lineStart(),h=[]}function T(){k(h[0][0],h[0][1]),y.lineEnd();var e,t,n,r,o=y.clean(),i=v.result(),a=i.length;if(h.pop(),f.push(h),h=null,a)if(1&o){if(n=i[0],(t=n.length-1)>0){for(b||(d.polygonStart(),b=!0),d.lineStart(),e=0;e<t;++e)d.point((r=n[e])[0],r[1]);d.lineEnd()}}else a>1&&2&o&&i.push(i.pop().concat(i.shift())),p.push(i.filter(l))}return x}}},function(e,t,n){"use strict";t["b"]=a,t["a"]=s;var r=n(26),o=n(151);function i(e,t,n){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=s&&e.clipExtent(null),Object(r["a"])(n,e.stream(o["a"]));var l=o["a"].result(),u=Math.min(i/(l[1][0]-l[0][0]),a/(l[1][1]-l[0][1])),c=+t[0][0]+(i-u*(l[1][0]+l[0][0]))/2,d=+t[0][1]+(a-u*(l[1][1]+l[0][1]))/2;return null!=s&&e.clipExtent(s),e.scale(150*u).translate([c,d])}function a(e){return function(t,n){return i(e,[[0,0],t],n)}}function s(e){return function(t,n){return i(e,t,n)}}},function(e,t,n){"use strict";t["b"]=o;var r=n(18);function o(e,t){return[e,t]}o.invert=o,t["a"]=function(){return Object(r["a"])(o).scale(152.63)}},function(e,t,n){var r=n(6),o=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(r(t))for(var o=0;o<t.length;o+=1)e(t[o],n);else n.push(t);return n};e.exports=o},function(e,t){e.exports=function(e){for(var t=1/e,n=[],r=0;r<=1;r+=t)n.push(r);return n}},function(e,t,n){var r=n(159),o=n(40),i=n(0),a=i.geoPath,s=n(2),l=s.GEO,u=s.registerConnector,c=a();function d(e,t,n){n.dataType=l;var i=o(e.features);return i.forEach((function(e){e.name=e.properties.name,e.longitude=[],e.latitude=[];var t=e.pathData=c(e),n=r(t);n._path.forEach((function(t){e.longitude.push(t[1]),e.latitude.push(t[2])}));var o=c.centroid(e);e.centroidX=o[0],e.centroidY=o[1]})),i}u("geo",d),u("geojson",d),u("GeoJSON",d),e.exports=d},function(e,t,n){var r=n(362),o=n(363),i=n(364);function a(e){if(!(this instanceof a))return new a(e);this._path=o(e)?e:r(e),this._path=i(this._path),this._path=l(this._path)}function s(e,t,n,r){var o=e-n,i=t-r;return Math.sqrt(o*o+i*i)}function l(e){for(var t=[],n=["L",0,0],r=0,o=e.length;r<o;r++){var i=e[r];switch(i[0]){case"M":n=["L",i[1],i[2]],t.push(i);break;case"Z":t.push(n);break;default:t.push(i)}}return t}e.exports=a,a.prototype.at=function(e,t){return this._walk(e,t).pos},a.prototype.length=function(){return this._walk(null).length},a.prototype._walk=function(e,t){var n=[0,0],r=[0,0,0],o=0,i=1.045;"number"===typeof e&&(e*=i);for(var a=0;a<this._path.length;a++){var l=this._path[a];if("M"===l[0]){if(n[0]=l[1],n[1]=l[2],0===e)return{length:o,pos:n}}else if("C"===l[0]){r[0]=n[0],r[1]=n[1],r[2]=o;for(var u=100,c=0;c<=u;c++){var d=c/u,f=g(l,d),p=v(l,d);if(o+=s(n[0],n[1],f,p),n[0]=f,n[1]=p,"number"===typeof e&&o>=e){var h=(o-e)/(o-r[2]),m=[n[0]*(1-h)+r[0]*h,n[1]*(1-h)+r[1]*h];return{length:o,pos:m}}r[0]=n[0],r[1]=n[1],r[2]=o}}else if("Q"===l[0]){r[0]=n[0],r[1]=n[1],r[2]=o;for(u=100,c=0;c<=u;c++){d=c/u,f=y(l,d),p=b(l,d);if(o+=s(n[0],n[1],f,p),n[0]=f,n[1]=p,"number"===typeof e&&o>=e){h=(o-e)/(o-r[2]),m=[n[0]*(1-h)+r[0]*h,n[1]*(1-h)+r[1]*h];return{length:o,pos:m}}r[0]=n[0],r[1]=n[1],r[2]=o}}else if("L"===l[0]){if(r[0]=n[0],r[1]=n[1],r[2]=o,o+=s(n[0],n[1],l[1],l[2]),n[0]=l[1],n[1]=l[2],"number"===typeof e&&o>=e){h=(o-e)/(o-r[2]),m=[n[0]*(1-h)+r[0]*h,n[1]*(1-h)+r[1]*h];return{length:o,pos:m}}r[0]=n[0],r[1]=n[1],r[2]=o}}return{length:o/i,pos:n};function g(e,t){return Math.pow(1-t,3)*n[0]+3*Math.pow(1-t,2)*t*e[1]+3*(1-t)*Math.pow(t,2)*e[3]+Math.pow(t,3)*e[5]}function v(e,t){return Math.pow(1-t,3)*n[1]+3*Math.pow(1-t,2)*t*e[2]+3*(1-t)*Math.pow(t,2)*e[4]+Math.pow(t,3)*e[6]}function y(e,t){return Math.pow(1-t,2)*n[0]+2*(1-t)*t*e[1]+Math.pow(t,2)*e[3]}function b(e,t){return Math.pow(1-t,2)*n[1]+2*(1-t)*t*e[2]+Math.pow(t,2)*e[4]}}},function(e,t,n){"use strict";t["b"]=l;var r=n(161);function o(e,t,n){var r=e.x,o=e.y,i=t.r+n.r,a=e.r+n.r,s=t.x-r,l=t.y-o,u=s*s+l*l;if(u){var c=.5+((a*=a)-(i*=i))/(2*u),d=Math.sqrt(Math.max(0,2*i*(a+u)-(a-=u)*a-i*i))/(2*u);n.x=r+c*s+d*l,n.y=o+c*l-d*s}else n.x=r+a,n.y=o}function i(e,t){var n=t.x-e.x,r=t.y-e.y,o=e.r+t.r;return o*o-1e-6>n*n+r*r}function a(e){var t=e._,n=e.next._,r=t.r+n.r,o=(t.x*n.r+n.x*t.r)/r,i=(t.y*n.r+n.y*t.r)/r;return o*o+i*i}function s(e){this._=e,this.next=null,this.previous=null}function l(e){if(!(u=e.length))return 0;var t,n,l,u,c,d,f,p,h,m,g;if(t=e[0],t.x=0,t.y=0,!(u>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(u>2))return t.r+n.r;o(n,t,l=e[2]),t=new s(t),n=new s(n),l=new s(l),t.next=l.previous=n,n.next=t.previous=l,l.next=n.previous=t;e:for(f=3;f<u;++f){o(t._,n._,l=e[f]),l=new s(l),p=n.next,h=t.previous,m=n._.r,g=t._.r;do{if(m<=g){if(i(p._,l._)){n=p,t.next=n,n.previous=t,--f;continue e}m+=p._.r,p=p.next}else{if(i(h._,l._)){t=h,t.next=n,n.previous=t,--f;continue e}g+=h._.r,h=h.previous}}while(p!==h.next);l.previous=t,l.next=n,t.next=n.previous=n=l,c=a(t);while((l=l.next)!==n)(d=a(l))<c&&(t=l,c=d);n=t.next}t=[n._],l=n;while((l=l.next)!==n)t.push(l._);for(l=Object(r["a"])(t),f=0;f<u;++f)t=e[f],t.x-=l.x,t.y-=l.y;return l.r}t["a"]=function(e){return l(e),e}},function(e,t,n){"use strict";var r=n(382);function o(e,t){var n,r;if(s(t,e))return[t];for(n=0;n<e.length;++n)if(i(t,e[n])&&s(c(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(i(c(e[n],e[r]),t)&&i(c(e[n],t),e[r])&&i(c(e[r],t),e[n])&&s(d(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function i(e,t){var n=e.r-t.r,r=t.x-e.x,o=t.y-e.y;return n<0||n*n<r*r+o*o}function a(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,o=t.y-e.y;return n>0&&n*n>r*r+o*o}function s(e,t){for(var n=0;n<t.length;++n)if(!a(e,t[n]))return!1;return!0}function l(e){switch(e.length){case 1:return u(e[0]);case 2:return c(e[0],e[1]);case 3:return d(e[0],e[1],e[2])}}function u(e){return{x:e.x,y:e.y,r:e.r}}function c(e,t){var n=e.x,r=e.y,o=e.r,i=t.x,a=t.y,s=t.r,l=i-n,u=a-r,c=s-o,d=Math.sqrt(l*l+u*u);return{x:(n+i+l/d*c)/2,y:(r+a+u/d*c)/2,r:(d+o+s)/2}}function d(e,t,n){var r=e.x,o=e.y,i=e.r,a=t.x,s=t.y,l=t.r,u=n.x,c=n.y,d=n.r,f=r-a,p=r-u,h=o-s,m=o-c,g=l-i,v=d-i,y=r*r+o*o-i*i,b=y-a*a-s*s+l*l,x=y-u*u-c*c+d*d,w=p*h-f*m,_=(h*x-m*b)/(2*w)-r,C=(m*g-h*v)/w,S=(p*b-f*x)/(2*w)-o,k=(f*v-p*g)/w,O=C*C+k*k-1,T=2*(i+_*C+S*k),M=_*_+S*S-i*i,D=-(O?(T+Math.sqrt(T*T-4*O*M))/(2*O):M/T);return{x:r+_+C*D,y:o+S+k*D,r:D}}t["a"]=function(e){var t,n,i=0,s=(e=Object(r["a"])(r["b"].call(e))).length,u=[];while(i<s)t=e[i],n&&a(n,t)?++i:(n=l(u=o(u,t)),i=0);return n}},function(e,t,n){"use strict";function r(){return 0}t["a"]=r,t["b"]=function(e){return function(){return e}}},function(e,t,n){"use strict";t["a"]=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}},function(e,t,n){"use strict";var r=n(89);t["a"]=function(e){var t,n=Object(r["a"])(e.transform),o=1/0,i=o,a=-o,s=-o;function l(e){e=n(e),e[0]<o&&(o=e[0]),e[0]>a&&(a=e[0]),e[1]<i&&(i=e[1]),e[1]>s&&(s=e[1])}function u(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(u);break;case"Point":l(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(l);break}}for(t in e.arcs.forEach((function(e){var t,r=-1,l=e.length;while(++r<l)t=n(e[r],r),t[0]<o&&(o=t[0]),t[0]>a&&(a=t[0]),t[1]<i&&(i=t[1]),t[1]>s&&(s=t[1])})),e.objects)u(e.objects[t]);return[o,i,a,s]}},function(e,t,n){"use strict";t["a"]=function(e){return e}},function(e,t,n){"use strict";t["a"]=function(e,t){var n={},r={},o={},i=[],a=-1;function s(t){var n,r=e.arcs[t<0?~t:t],o=r[0];return e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1],t<0?[n,o]:[o,n]}function l(e,t){for(var r in e){var o=e[r];delete t[o.start],delete o.start,delete o.end,o.forEach((function(e){n[e<0?~e:e]=1})),i.push(o)}}return t.forEach((function(n,r){var o,i=e.arcs[n<0?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++a],t[a]=n,t[r]=o)})),t.forEach((function(e){var t,n,i=s(e),a=i[0],l=i[1];if(t=o[a])if(delete o[t.end],t.push(e),t.end=l,n=r[l]){delete r[n.start];var u=n===t?t:t.concat(n);r[u.start=t.start]=o[u.end=n.end]=u}else r[t.start]=o[t.end]=t;else if(t=r[l])if(delete r[t.start],t.unshift(e),t.start=a,n=o[a]){delete o[n.end];var c=n===t?t:n.concat(t);r[c.start=n.start]=o[c.end=t.end]=c}else r[t.start]=o[t.end]=t;else t=[e],r[t.start=a]=o[t.end=l]=t})),l(o,r),l(r,o),t.forEach((function(e){n[e<0?~e:e]||i.push([e])})),i}},function(e,t,n){"use strict";var r=n(165);t["a"]=function(e){if(null==e)return r["a"];var t,n,o=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,r){r||(t=n=0);var l=2,u=e.length,c=new Array(u),d=Math.round((e[0]-a)/o),f=Math.round((e[1]-s)/i);c[0]=d-t,t=d,c[1]=f-n,n=f;while(l<u)c[l]=e[l],++l;return c}}},function(e,t,n){var r=n(91),o=Array.prototype.indexOf,i=function(e,t){return!!r(e)&&o.call(e,t)>-1};e.exports=i},function(e,t,n){(function(e,r){var o;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i,a="4.17.4",s=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="__lodash_hash_undefined__",d=500,f="__lodash_placeholder__",p=1,h=2,m=4,g=1,v=2,y=1,b=2,x=4,w=8,_=16,C=32,S=64,k=128,O=256,T=512,M=30,D="...",I=800,E=16,A=1,L=2,j=3,N=1/0,P=9007199254740991,R=17976931348623157e292,B=NaN,F=4294967295,z=F-1,V=F>>>1,H=[["ary",k],["bind",y],["bindKey",b],["curry",w],["curryRight",_],["flip",T],["partial",C],["partialRight",S],["rearg",O]],U="[object Arguments]",$="[object Array]",q="[object AsyncFunction]",W="[object Boolean]",G="[object Date]",Y="[object DOMException]",K="[object Error]",X="[object Function]",J="[object GeneratorFunction]",Z="[object Map]",Q="[object Number]",ee="[object Null]",te="[object Object]",ne="[object Promise]",re="[object Proxy]",oe="[object RegExp]",ie="[object Set]",ae="[object String]",se="[object Symbol]",le="[object Undefined]",ue="[object WeakMap]",ce="[object WeakSet]",de="[object ArrayBuffer]",fe="[object DataView]",pe="[object Float32Array]",he="[object Float64Array]",me="[object Int8Array]",ge="[object Int16Array]",ve="[object Int32Array]",ye="[object Uint8Array]",be="[object Uint8ClampedArray]",xe="[object Uint16Array]",we="[object Uint32Array]",_e=/\b__p \+= '';/g,Ce=/\b(__p \+=) '' \+/g,Se=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ke=/&(?:amp|lt|gt|quot|#39);/g,Oe=/[&<>"']/g,Te=RegExp(ke.source),Me=RegExp(Oe.source),De=/<%-([\s\S]+?)%>/g,Ie=/<%([\s\S]+?)%>/g,Ee=/<%=([\s\S]+?)%>/g,Ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/,je=/^\./,Ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/[\\^$.*+?()[\]{}|]/g,Re=RegExp(Pe.source),Be=/^\s+|\s+$/g,Fe=/^\s+/,ze=/\s+$/,Ve=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,He=/\{\n\/\* \[wrapped with (.+)\] \*/,Ue=/,? & /,$e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qe=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ge=/\w*$/,Ye=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,Xe=/^\[object .+?Constructor\]$/,Je=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,Qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,et=/($^)/,tt=/['\n\r\u2028\u2029\\]/g,nt="\\ud800-\\udfff",rt="\\u0300-\\u036f",ot="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",at=rt+ot+it,st="\\u2700-\\u27bf",lt="a-z\\xdf-\\xf6\\xf8-\\xff",ut="\\xac\\xb1\\xd7\\xf7",ct="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dt="\\u2000-\\u206f",ft=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="A-Z\\xc0-\\xd6\\xd8-\\xde",ht="\\ufe0e\\ufe0f",mt=ut+ct+dt+ft,gt="['’]",vt="["+nt+"]",yt="["+mt+"]",bt="["+at+"]",xt="\\d+",wt="["+st+"]",_t="["+lt+"]",Ct="[^"+nt+mt+xt+st+lt+pt+"]",St="\\ud83c[\\udffb-\\udfff]",kt="(?:"+bt+"|"+St+")",Ot="[^"+nt+"]",Tt="(?:\\ud83c[\\udde6-\\uddff]){2}",Mt="[\\ud800-\\udbff][\\udc00-\\udfff]",Dt="["+pt+"]",It="\\u200d",Et="(?:"+_t+"|"+Ct+")",At="(?:"+Dt+"|"+Ct+")",Lt="(?:"+gt+"(?:d|ll|m|re|s|t|ve))?",jt="(?:"+gt+"(?:D|LL|M|RE|S|T|VE))?",Nt=kt+"?",Pt="["+ht+"]?",Rt="(?:"+It+"(?:"+[Ot,Tt,Mt].join("|")+")"+Pt+Nt+")*",Bt="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Ft="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",zt=Pt+Nt+Rt,Vt="(?:"+[wt,Tt,Mt].join("|")+")"+zt,Ht="(?:"+[Ot+bt+"?",bt,Tt,Mt,vt].join("|")+")",Ut=RegExp(gt,"g"),$t=RegExp(bt,"g"),qt=RegExp(St+"(?="+St+")|"+Ht+zt,"g"),Wt=RegExp([Dt+"?"+_t+"+"+Lt+"(?="+[yt,Dt,"$"].join("|")+")",At+"+"+jt+"(?="+[yt,Dt+Et,"$"].join("|")+")",Dt+"?"+Et+"+"+Lt,Dt+"+"+jt,Ft,Bt,xt,Vt].join("|"),"g"),Gt=RegExp("["+It+nt+at+ht+"]"),Yt=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xt=-1,Jt={};Jt[pe]=Jt[he]=Jt[me]=Jt[ge]=Jt[ve]=Jt[ye]=Jt[be]=Jt[xe]=Jt[we]=!0,Jt[U]=Jt[$]=Jt[de]=Jt[W]=Jt[fe]=Jt[G]=Jt[K]=Jt[X]=Jt[Z]=Jt[Q]=Jt[te]=Jt[oe]=Jt[ie]=Jt[ae]=Jt[ue]=!1;var Zt={};Zt[U]=Zt[$]=Zt[de]=Zt[fe]=Zt[W]=Zt[G]=Zt[pe]=Zt[he]=Zt[me]=Zt[ge]=Zt[ve]=Zt[Z]=Zt[Q]=Zt[te]=Zt[oe]=Zt[ie]=Zt[ae]=Zt[se]=Zt[ye]=Zt[be]=Zt[xe]=Zt[we]=!0,Zt[K]=Zt[X]=Zt[ue]=!1;var Qt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},en={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rn=parseFloat,on=parseInt,an="object"==typeof e&&e&&e.Object===Object&&e,sn="object"==typeof self&&self&&self.Object===Object&&self,ln=an||sn||Function("return this")(),un="object"==typeof t&&t&&!t.nodeType&&t,cn=un&&"object"==typeof r&&r&&!r.nodeType&&r,dn=cn&&cn.exports===un,fn=dn&&an.process,pn=function(){try{return fn&&fn.binding&&fn.binding("util")}catch(e){}}(),hn=pn&&pn.isArrayBuffer,mn=pn&&pn.isDate,gn=pn&&pn.isMap,vn=pn&&pn.isRegExp,yn=pn&&pn.isSet,bn=pn&&pn.isTypedArray;function xn(e,t){return e.set(t[0],t[1]),e}function wn(e,t){return e.add(t),e}function _n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Cn(e,t,n,r){var o=-1,i=null==e?0:e.length;while(++o<i){var a=e[o];t(r,a,n(a),e)}return r}function Sn(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}function kn(e,t){var n=null==e?0:e.length;while(n--)if(!1===t(e[n],n,e))break;return e}function On(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!t(e[n],n,e))return!1;return!0}function Tn(e,t){var n=-1,r=null==e?0:e.length,o=0,i=[];while(++n<r){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Mn(e,t){var n=null==e?0:e.length;return!!n&&zn(e,t,0)>-1}function Dn(e,t,n){var r=-1,o=null==e?0:e.length;while(++r<o)if(n(t,e[r]))return!0;return!1}function In(e,t){var n=-1,r=null==e?0:e.length,o=Array(r);while(++n<r)o[n]=t(e[n],n,e);return o}function En(e,t){var n=-1,r=t.length,o=e.length;while(++n<r)e[o+n]=t[n];return e}function An(e,t,n,r){var o=-1,i=null==e?0:e.length;r&&i&&(n=e[++o]);while(++o<i)n=t(n,e[o],o,e);return n}function Ln(e,t,n,r){var o=null==e?0:e.length;r&&o&&(n=e[--o]);while(o--)n=t(n,e[o],o,e);return n}function jn(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}var Nn=$n("length");function Pn(e){return e.split("")}function Rn(e){return e.match($e)||[]}function Bn(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Fn(e,t,n,r){var o=e.length,i=n+(r?1:-1);while(r?i--:++i<o)if(t(e[i],i,e))return i;return-1}function zn(e,t,n){return t===t?mr(e,t,n):Fn(e,Hn,n)}function Vn(e,t,n,r){var o=n-1,i=e.length;while(++o<i)if(r(e[o],t))return o;return-1}function Hn(e){return e!==e}function Un(e,t){var n=null==e?0:e.length;return n?Yn(e,t)/n:B}function $n(e){return function(t){return null==t?i:t[e]}}function qn(e){return function(t){return null==e?i:e[t]}}function Wn(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Gn(e,t){var n=e.length;e.sort(t);while(n--)e[n]=e[n].value;return e}function Yn(e,t){var n,r=-1,o=e.length;while(++r<o){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Kn(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}function Xn(e,t){return In(t,(function(t){return[t,e[t]]}))}function Jn(e){return function(t){return e(t)}}function Zn(e,t){return In(t,(function(t){return e[t]}))}function Qn(e,t){return e.has(t)}function er(e,t){var n=-1,r=e.length;while(++n<r&&zn(t,e[n],0)>-1);return n}function tr(e,t){var n=e.length;while(n--&&zn(t,e[n],0)>-1);return n}function nr(e,t){var n=e.length,r=0;while(n--)e[n]===t&&++r;return r}var rr=qn(Qt),or=qn(en);function ir(e){return"\\"+nn[e]}function ar(e,t){return null==e?i:e[t]}function sr(e){return Gt.test(e)}function lr(e){return Yt.test(e)}function ur(e){var t,n=[];while(!(t=e.next()).done)n.push(t.value);return n}function cr(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function dr(e,t){return function(n){return e(t(n))}}function fr(e,t){var n=-1,r=e.length,o=0,i=[];while(++n<r){var a=e[n];a!==t&&a!==f||(e[n]=f,i[o++]=n)}return i}function pr(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hr(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function mr(e,t,n){var r=n-1,o=e.length;while(++r<o)if(e[r]===t)return r;return-1}function gr(e,t,n){var r=n+1;while(r--)if(e[r]===t)return r;return r}function vr(e){return sr(e)?xr(e):Nn(e)}function yr(e){return sr(e)?wr(e):Pn(e)}var br=qn(tn);function xr(e){var t=qt.lastIndex=0;while(qt.test(e))++t;return t}function wr(e){return e.match(qt)||[]}function _r(e){return e.match(Wt)||[]}var Cr=function e(t){t=null==t?ln:Sr.defaults(ln.Object(),t,Sr.pick(ln,Kt));var n=t.Array,r=t.Date,o=t.Error,$e=t.Function,nt=t.Math,rt=t.Object,ot=t.RegExp,it=t.String,at=t.TypeError,st=n.prototype,lt=$e.prototype,ut=rt.prototype,ct=t["__core-js_shared__"],dt=lt.toString,ft=ut.hasOwnProperty,pt=0,ht=function(){var e=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),mt=ut.toString,gt=dt.call(rt),vt=ln._,yt=ot("^"+dt.call(ft).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bt=dn?t.Buffer:i,xt=t.Symbol,wt=t.Uint8Array,_t=bt?bt.allocUnsafe:i,Ct=dr(rt.getPrototypeOf,rt),St=rt.create,kt=ut.propertyIsEnumerable,Ot=st.splice,Tt=xt?xt.isConcatSpreadable:i,Mt=xt?xt.iterator:i,Dt=xt?xt.toStringTag:i,It=function(){try{var e=Xa(rt,"defineProperty");return e({},"",{}),e}catch(t){}}(),Et=t.clearTimeout!==ln.clearTimeout&&t.clearTimeout,At=r&&r.now!==ln.Date.now&&r.now,Lt=t.setTimeout!==ln.setTimeout&&t.setTimeout,jt=nt.ceil,Nt=nt.floor,Pt=rt.getOwnPropertySymbols,Rt=bt?bt.isBuffer:i,Bt=t.isFinite,Ft=st.join,zt=dr(rt.keys,rt),Vt=nt.max,Ht=nt.min,qt=r.now,Wt=t.parseInt,Gt=nt.random,Yt=st.reverse,Qt=Xa(t,"DataView"),en=Xa(t,"Map"),tn=Xa(t,"Promise"),nn=Xa(t,"Set"),an=Xa(t,"WeakMap"),sn=Xa(rt,"create"),un=an&&new an,cn={},fn=js(Qt),pn=js(en),Nn=js(tn),Pn=js(nn),qn=js(an),mr=xt?xt.prototype:i,xr=mr?mr.valueOf:i,wr=mr?mr.toString:i;function Cr(e){if(Tc(e)&&!cc(e)&&!(e instanceof Mr)){if(e instanceof Tr)return e;if(ft.call(e,"__wrapped__"))return Ps(e)}return new Tr(e)}var kr=function(){function e(){}return function(t){if(!Oc(t))return{};if(St)return St(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Or(){}function Tr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Mr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function Dr(){var e=new Mr(this.__wrapped__);return e.__actions__=sa(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=sa(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=sa(this.__views__),e}function Ir(){if(this.__filtered__){var e=new Mr(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Er(){var e=this.__wrapped__.value(),t=this.__dir__,n=cc(e),r=t<0,o=n?e.length:0,i=ts(0,o,this.__views__),a=i.start,s=i.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,d=c.length,f=0,p=Ht(l,this.__takeCount__);if(!n||!r&&o==l&&p==l)return zi(e,this.__actions__);var h=[];e:while(l--&&f<p){u+=t;var m=-1,g=e[u];while(++m<d){var v=c[m],y=v.iteratee,b=v.type,x=y(g);if(b==L)g=x;else if(!x){if(b==A)continue e;break e}}h[f++]=g}return h}function Ar(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Lr(){this.__data__=sn?sn(null):{},this.size=0}function jr(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Nr(e){var t=this.__data__;if(sn){var n=t[e];return n===c?i:n}return ft.call(t,e)?t[e]:i}function Pr(e){var t=this.__data__;return sn?t[e]!==i:ft.call(t,e)}function Rr(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=sn&&t===i?c:t,this}function Br(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Fr(){this.__data__=[],this.size=0}function zr(e){var t=this.__data__,n=fo(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ot.call(t,n,1),--this.size,!0}function Vr(e){var t=this.__data__,n=fo(t,e);return n<0?i:t[n][1]}function Hr(e){return fo(this.__data__,e)>-1}function Ur(e,t){var n=this.__data__,r=fo(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function $r(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function qr(){this.size=0,this.__data__={hash:new Ar,map:new(en||Br),string:new Ar}}function Wr(e){var t=Ya(this,e)["delete"](e);return this.size-=t?1:0,t}function Gr(e){return Ya(this,e).get(e)}function Yr(e){return Ya(this,e).has(e)}function Kr(e,t){var n=Ya(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Xr(e){var t=-1,n=null==e?0:e.length;this.__data__=new $r;while(++t<n)this.add(e[t])}function Jr(e){return this.__data__.set(e,c),this}function Zr(e){return this.__data__.has(e)}function Qr(e){var t=this.__data__=new Br(e);this.size=t.size}function eo(){this.__data__=new Br,this.size=0}function to(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}function no(e){return this.__data__.get(e)}function ro(e){return this.__data__.has(e)}function oo(e,t){var n=this.__data__;if(n instanceof Br){var r=n.__data__;if(!en||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new $r(r)}return n.set(e,t),this.size=n.size,this}function io(e,t){var n=cc(e),r=!n&&uc(e),o=!n&&!r&&mc(e),i=!n&&!r&&!o&&Hc(e),a=n||r||o||i,s=a?Kn(e.length,it):[],l=s.length;for(var u in e)!t&&!ft.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||us(u,l))||s.push(u);return s}function ao(e){var t=e.length;return t?e[bi(0,t-1)]:i}function so(e,t){return Es(sa(e),yo(t,0,e.length))}function lo(e){return Es(sa(e))}function uo(e,t,n){(n!==i&&!ac(e[t],n)||n===i&&!(t in e))&&go(e,t,n)}function co(e,t,n){var r=e[t];ft.call(e,t)&&ac(r,n)&&(n!==i||t in e)||go(e,t,n)}function fo(e,t){var n=e.length;while(n--)if(ac(e[n][0],t))return n;return-1}function po(e,t,n,r){return So(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ho(e,t){return e&&la(t,Sd(t),e)}function mo(e,t){return e&&la(t,kd(t),e)}function go(e,t,n){"__proto__"==t&&It?It(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function vo(e,t){var r=-1,o=t.length,a=n(o),s=null==e;while(++r<o)a[r]=s?i:yd(e,t[r]);return a}function yo(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function bo(e,t,n,r,o,a){var s,l=t&p,u=t&h,c=t&m;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!Oc(e))return e;var d=cc(e);if(d){if(s=os(e),!l)return sa(e,s)}else{var f=es(e),g=f==X||f==J;if(mc(e))return Ki(e,l);if(f==te||f==U||g&&!o){if(s=u||g?{}:is(e),!l)return u?ca(e,mo(s,e)):ua(e,ho(s,e))}else{if(!Zt[f])return o?e:{};s=as(e,f,bo,l)}}a||(a=new Qr);var v=a.get(e);if(v)return v;a.set(e,s);var y=c?u?Ua:Ha:u?kd:Sd,b=d?i:y(e);return Sn(b||e,(function(r,o){b&&(o=r,r=e[o]),co(s,o,bo(r,t,n,o,e,a))})),s}function xo(e){var t=Sd(e);return function(n){return wo(n,e,t)}}function wo(e,t,n){var r=n.length;if(null==e)return!r;e=rt(e);while(r--){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function _o(e,t,n){if("function"!=typeof e)throw new at(u);return Ts((function(){e.apply(i,n)}),t)}function Co(e,t,n,r){var o=-1,i=Mn,a=!0,l=e.length,u=[],c=t.length;if(!l)return u;n&&(t=In(t,Jn(n))),r?(i=Dn,a=!1):t.length>=s&&(i=Qn,a=!1,t=new Xr(t));e:while(++o<l){var d=e[o],f=null==n?d:n(d);if(d=r||0!==d?d:0,a&&f===f){var p=c;while(p--)if(t[p]===f)continue e;u.push(d)}else i(t,f,r)||u.push(d)}return u}Cr.templateSettings={escape:De,evaluate:Ie,interpolate:Ee,variable:"",imports:{_:Cr}},Cr.prototype=Or.prototype,Cr.prototype.constructor=Cr,Tr.prototype=kr(Or.prototype),Tr.prototype.constructor=Tr,Mr.prototype=kr(Or.prototype),Mr.prototype.constructor=Mr,Ar.prototype.clear=Lr,Ar.prototype["delete"]=jr,Ar.prototype.get=Nr,Ar.prototype.has=Pr,Ar.prototype.set=Rr,Br.prototype.clear=Fr,Br.prototype["delete"]=zr,Br.prototype.get=Vr,Br.prototype.has=Hr,Br.prototype.set=Ur,$r.prototype.clear=qr,$r.prototype["delete"]=Wr,$r.prototype.get=Gr,$r.prototype.has=Yr,$r.prototype.set=Kr,Xr.prototype.add=Xr.prototype.push=Jr,Xr.prototype.has=Zr,Qr.prototype.clear=eo,Qr.prototype["delete"]=to,Qr.prototype.get=no,Qr.prototype.has=ro,Qr.prototype.set=oo;var So=pa(Lo),ko=pa(jo,!0);function Oo(e,t){var n=!0;return So(e,(function(e,r,o){return n=!!t(e,r,o),n})),n}function To(e,t,n){var r=-1,o=e.length;while(++r<o){var a=e[r],s=t(a);if(null!=s&&(l===i?s===s&&!Vc(s):n(s,l)))var l=s,u=a}return u}function Mo(e,t,n,r){var o=e.length;n=Xc(n),n<0&&(n=-n>o?0:o+n),r=r===i||r>o?o:Xc(r),r<0&&(r+=o),r=n>r?0:Jc(r);while(n<r)e[n++]=t;return e}function Do(e,t){var n=[];return So(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function Io(e,t,n,r,o){var i=-1,a=e.length;n||(n=ls),o||(o=[]);while(++i<a){var s=e[i];t>0&&n(s)?t>1?Io(s,t-1,n,r,o):En(o,s):r||(o[o.length]=s)}return o}var Eo=ha(),Ao=ha(!0);function Lo(e,t){return e&&Eo(e,t,Sd)}function jo(e,t){return e&&Ao(e,t,Sd)}function No(e,t){return Tn(t,(function(t){return Cc(e[t])}))}function Po(e,t){t=qi(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[Ls(t[n++])];return n&&n==r?e:i}function Ro(e,t,n){var r=t(e);return cc(e)?r:En(r,n(e))}function Bo(e){return null==e?e===i?le:ee:Dt&&Dt in rt(e)?Ja(e):_s(e)}function Fo(e,t){return e>t}function zo(e,t){return null!=e&&ft.call(e,t)}function Vo(e,t){return null!=e&&t in rt(e)}function Ho(e,t,n){return e>=Ht(t,n)&&e<Vt(t,n)}function Uo(e,t,r){var o=r?Dn:Mn,a=e[0].length,s=e.length,l=s,u=n(s),c=1/0,d=[];while(l--){var f=e[l];l&&t&&(f=In(f,Jn(t))),c=Ht(f.length,c),u[l]=!r&&(t||a>=120&&f.length>=120)?new Xr(l&&f):i}f=e[0];var p=-1,h=u[0];e:while(++p<a&&d.length<c){var m=f[p],g=t?t(m):m;if(m=r||0!==m?m:0,!(h?Qn(h,g):o(d,g,r))){l=s;while(--l){var v=u[l];if(!(v?Qn(v,g):o(e[l],g,r)))continue e}h&&h.push(g),d.push(m)}}return d}function $o(e,t,n,r){return Lo(e,(function(e,o,i){t(r,n(e),o,i)})),r}function qo(e,t,n){t=qi(t,e),e=Ss(e,t);var r=null==e?e:e[Ls(sl(t))];return null==r?i:_n(r,e,n)}function Wo(e){return Tc(e)&&Bo(e)==U}function Go(e){return Tc(e)&&Bo(e)==de}function Yo(e){return Tc(e)&&Bo(e)==G}function Ko(e,t,n,r,o){return e===t||(null==e||null==t||!Tc(e)&&!Tc(t)?e!==e&&t!==t:Xo(e,t,n,r,Ko,o))}function Xo(e,t,n,r,o,i){var a=cc(e),s=cc(t),l=a?$:es(e),u=s?$:es(t);l=l==U?te:l,u=u==U?te:u;var c=l==te,d=u==te,f=l==u;if(f&&mc(e)){if(!mc(t))return!1;a=!0,c=!1}if(f&&!c)return i||(i=new Qr),a||Hc(e)?Ba(e,t,n,r,o,i):Fa(e,t,l,n,r,o,i);if(!(n&g)){var p=c&&ft.call(e,"__wrapped__"),h=d&&ft.call(t,"__wrapped__");if(p||h){var m=p?e.value():e,v=h?t.value():t;return i||(i=new Qr),o(m,v,n,r,i)}}return!!f&&(i||(i=new Qr),za(e,t,n,r,o,i))}function Jo(e){return Tc(e)&&es(e)==Z}function Zo(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;e=rt(e);while(o--){var l=n[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}while(++o<a){l=n[o];var u=l[0],c=e[u],d=l[1];if(s&&l[2]){if(c===i&&!(u in e))return!1}else{var f=new Qr;if(r)var p=r(c,d,u,e,t,f);if(!(p===i?Ko(d,c,g|v,r,f):p))return!1}}return!0}function Qo(e){if(!Oc(e)||hs(e))return!1;var t=Cc(e)?yt:Xe;return t.test(js(e))}function ei(e){return Tc(e)&&Bo(e)==oe}function ti(e){return Tc(e)&&es(e)==ie}function ni(e){return Tc(e)&&kc(e.length)&&!!Jt[Bo(e)]}function ri(e){return"function"==typeof e?e:null==e?Lf:"object"==typeof e?cc(e)?ui(e[0],e[1]):li(e):Wf(e)}function oi(e){if(!gs(e))return zt(e);var t=[];for(var n in rt(e))ft.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ii(e){if(!Oc(e))return ws(e);var t=gs(e),n=[];for(var r in e)("constructor"!=r||!t&&ft.call(e,r))&&n.push(r);return n}function ai(e,t){return e<t}function si(e,t){var r=-1,o=fc(e)?n(e.length):[];return So(e,(function(e,n,i){o[++r]=t(e,n,i)})),o}function li(e){var t=Ka(e);return 1==t.length&&t[0][2]?ys(t[0][0],t[0][1]):function(n){return n===e||Zo(n,e,t)}}function ui(e,t){return ds(e)&&vs(t)?ys(Ls(e),t):function(n){var r=yd(n,e);return r===i&&r===t?xd(n,e):Ko(t,r,g|v)}}function ci(e,t,n,r,o){e!==t&&Eo(t,(function(a,s){if(Oc(a))o||(o=new Qr),di(e,t,s,n,ci,r,o);else{var l=r?r(e[s],a,s+"",e,t,o):i;l===i&&(l=a),uo(e,s,l)}}),kd)}function di(e,t,n,r,o,a,s){var l=e[n],u=t[n],c=s.get(u);if(c)uo(e,n,c);else{var d=a?a(l,u,n+"",e,t,s):i,f=d===i;if(f){var p=cc(u),h=!p&&mc(u),m=!p&&!h&&Hc(u);d=u,p||h||m?cc(l)?d=l:pc(l)?d=sa(l):h?(f=!1,d=Ki(u,!0)):m?(f=!1,d=na(u,!0)):d=[]:Pc(u)||uc(u)?(d=l,uc(l)?d=Qc(l):(!Oc(l)||r&&Cc(l))&&(d=is(u))):f=!1}f&&(s.set(u,d),o(d,u,r,a,s),s["delete"](u)),uo(e,n,d)}}function fi(e,t){var n=e.length;if(n)return t+=t<0?n:0,us(t,n)?e[t]:i}function pi(e,t,n){var r=-1;t=In(t.length?t:[Lf],Jn(Ga()));var o=si(e,(function(e,n,o){var i=In(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return Gn(o,(function(e,t){return oa(e,t,n)}))}function hi(e,t){return mi(e,t,(function(t,n){return xd(e,n)}))}function mi(e,t,n){var r=-1,o=t.length,i={};while(++r<o){var a=t[r],s=Po(e,a);n(s,a)&&ki(i,qi(a,e),s)}return i}function gi(e){return function(t){return Po(t,e)}}function vi(e,t,n,r){var o=r?Vn:zn,i=-1,a=t.length,s=e;e===t&&(t=sa(t)),n&&(s=In(e,Jn(n)));while(++i<a){var l=0,u=t[i],c=n?n(u):u;while((l=o(s,c,l,r))>-1)s!==e&&Ot.call(s,l,1),Ot.call(e,l,1)}return e}function yi(e,t){var n=e?t.length:0,r=n-1;while(n--){var o=t[n];if(n==r||o!==i){var i=o;us(o)?Ot.call(e,o,1):Ri(e,o)}}return e}function bi(e,t){return e+Nt(Gt()*(t-e+1))}function xi(e,t,r,o){var i=-1,a=Vt(jt((t-e)/(r||1)),0),s=n(a);while(a--)s[o?a:++i]=e,e+=r;return s}function wi(e,t){var n="";if(!e||t<1||t>P)return n;do{t%2&&(n+=e),t=Nt(t/2),t&&(e+=e)}while(t);return n}function _i(e,t){return Ms(Cs(e,t,Lf),e+"")}function Ci(e){return ao(Ud(e))}function Si(e,t){var n=Ud(e);return Es(n,yo(t,0,n.length))}function ki(e,t,n,r){if(!Oc(e))return e;t=qi(t,e);var o=-1,a=t.length,s=a-1,l=e;while(null!=l&&++o<a){var u=Ls(t[o]),c=n;if(o!=s){var d=l[u];c=r?r(d,u,l):i,c===i&&(c=Oc(d)?d:us(t[o+1])?[]:{})}co(l,u,c),l=l[u]}return e}var Oi=un?function(e,t){return un.set(e,t),e}:Lf,Ti=It?function(e,t){return It(e,"toString",{configurable:!0,enumerable:!1,value:Df(t),writable:!0})}:Lf;function Mi(e){return Es(Ud(e))}function Di(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;var a=n(i);while(++o<i)a[o]=e[o+t];return a}function Ii(e,t){var n;return So(e,(function(e,r,o){return n=t(e,r,o),!n})),!!n}function Ei(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t===t&&o<=V){while(r<o){var i=r+o>>>1,a=e[i];null!==a&&!Vc(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return Ai(e,t,Lf,n)}function Ai(e,t,n,r){t=n(t);var o=0,a=null==e?0:e.length,s=t!==t,l=null===t,u=Vc(t),c=t===i;while(o<a){var d=Nt((o+a)/2),f=n(e[d]),p=f!==i,h=null===f,m=f===f,g=Vc(f);if(s)var v=r||m;else v=c?m&&(r||p):l?m&&p&&(r||!h):u?m&&p&&!h&&(r||!g):!h&&!g&&(r?f<=t:f<t);v?o=d+1:a=d}return Ht(a,z)}function Li(e,t){var n=-1,r=e.length,o=0,i=[];while(++n<r){var a=e[n],s=t?t(a):a;if(!n||!ac(s,l)){var l=s;i[o++]=0===a?0:a}}return i}function ji(e){return"number"==typeof e?e:Vc(e)?B:+e}function Ni(e){if("string"==typeof e)return e;if(cc(e))return In(e,Ni)+"";if(Vc(e))return wr?wr.call(e):"";var t=e+"";return"0"==t&&1/e==-N?"-0":t}function Pi(e,t,n){var r=-1,o=Mn,i=e.length,a=!0,l=[],u=l;if(n)a=!1,o=Dn;else if(i>=s){var c=t?null:Aa(e);if(c)return pr(c);a=!1,o=Qn,u=new Xr}else u=t?[]:l;e:while(++r<i){var d=e[r],f=t?t(d):d;if(d=n||0!==d?d:0,a&&f===f){var p=u.length;while(p--)if(u[p]===f)continue e;t&&u.push(f),l.push(d)}else o(u,f,n)||(u!==l&&u.push(f),l.push(d))}return l}function Ri(e,t){return t=qi(t,e),e=Ss(e,t),null==e||delete e[Ls(sl(t))]}function Bi(e,t,n,r){return ki(e,t,n(Po(e,t)),r)}function Fi(e,t,n,r){var o=e.length,i=r?o:-1;while((r?i--:++i<o)&&t(e[i],i,e));return n?Di(e,r?0:i,r?i+1:o):Di(e,r?i+1:0,r?o:i)}function zi(e,t){var n=e;return n instanceof Mr&&(n=n.value()),An(t,(function(e,t){return t.func.apply(t.thisArg,En([e],t.args))}),n)}function Vi(e,t,r){var o=e.length;if(o<2)return o?Pi(e[0]):[];var i=-1,a=n(o);while(++i<o){var s=e[i],l=-1;while(++l<o)l!=i&&(a[i]=Co(a[i]||s,e[l],t,r))}return Pi(Io(a,1),t,r)}function Hi(e,t,n){var r=-1,o=e.length,a=t.length,s={};while(++r<o){var l=r<a?t[r]:i;n(s,e[r],l)}return s}function Ui(e){return pc(e)?e:[]}function $i(e){return"function"==typeof e?e:Lf}function qi(e,t){return cc(e)?e:ds(e,t)?[e]:As(td(e))}var Wi=_i;function Gi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:Di(e,t,n)}var Yi=Et||function(e){return ln.clearTimeout(e)};function Ki(e,t){if(t)return e.slice();var n=e.length,r=_t?_t(n):new e.constructor(n);return e.copy(r),r}function Xi(e){var t=new e.constructor(e.byteLength);return new wt(t).set(new wt(e)),t}function Ji(e,t){var n=t?Xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Zi(e,t,n){var r=t?n(cr(e),p):cr(e);return An(r,xn,new e.constructor)}function Qi(e){var t=new e.constructor(e.source,Ge.exec(e));return t.lastIndex=e.lastIndex,t}function ea(e,t,n){var r=t?n(pr(e),p):pr(e);return An(r,wn,new e.constructor)}function ta(e){return xr?rt(xr.call(e)):{}}function na(e,t){var n=t?Xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ra(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,a=Vc(e),s=t!==i,l=null===t,u=t===t,c=Vc(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!o)return 1;if(!r&&!a&&!c&&e<t||c&&n&&o&&!r&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}function oa(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;while(++r<a){var l=ra(o[r],i[r]);if(l){if(r>=s)return l;var u=n[r];return l*("desc"==u?-1:1)}}return e.index-t.index}function ia(e,t,r,o){var i=-1,a=e.length,s=r.length,l=-1,u=t.length,c=Vt(a-s,0),d=n(u+c),f=!o;while(++l<u)d[l]=t[l];while(++i<s)(f||i<a)&&(d[r[i]]=e[i]);while(c--)d[l++]=e[i++];return d}function aa(e,t,r,o){var i=-1,a=e.length,s=-1,l=r.length,u=-1,c=t.length,d=Vt(a-l,0),f=n(d+c),p=!o;while(++i<d)f[i]=e[i];var h=i;while(++u<c)f[h+u]=t[u];while(++s<l)(p||i<a)&&(f[h+r[s]]=e[i++]);return f}function sa(e,t){var r=-1,o=e.length;t||(t=n(o));while(++r<o)t[r]=e[r];return t}function la(e,t,n,r){var o=!n;n||(n={});var a=-1,s=t.length;while(++a<s){var l=t[a],u=r?r(n[l],e[l],l,n,e):i;u===i&&(u=e[l]),o?go(n,l,u):co(n,l,u)}return n}function ua(e,t){return la(e,Za(e),t)}function ca(e,t){return la(e,Qa(e),t)}function da(e,t){return function(n,r){var o=cc(n)?Cn:po,i=t?t():{};return o(n,e,Ga(r,2),i)}}function fa(e){return _i((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;a=e.length>3&&"function"==typeof a?(o--,a):i,s&&cs(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=rt(t);while(++r<o){var l=n[r];l&&e(t,l,r,a)}return t}))}function pa(e,t){return function(n,r){if(null==n)return n;if(!fc(n))return e(n,r);var o=n.length,i=t?o:-1,a=rt(n);while(t?i--:++i<o)if(!1===r(a[i],i,a))break;return n}}function ha(e){return function(t,n,r){var o=-1,i=rt(t),a=r(t),s=a.length;while(s--){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}function ma(e,t,n){var r=t&y,o=ya(e);function i(){var t=this&&this!==ln&&this instanceof i?o:e;return t.apply(r?n:this,arguments)}return i}function ga(e){return function(t){t=td(t);var n=sr(t)?yr(t):i,r=n?n[0]:t.charAt(0),o=n?Gi(n,1).join(""):t.slice(1);return r[e]()+o}}function va(e){return function(t){return An(Sf(Xd(t).replace(Ut,"")),e,"")}}function ya(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=kr(e.prototype),r=e.apply(n,t);return Oc(r)?r:n}}function ba(e,t,r){var o=ya(e);function a(){var s=arguments.length,l=n(s),u=s,c=Wa(a);while(u--)l[u]=arguments[u];var d=s<3&&l[0]!==c&&l[s-1]!==c?[]:fr(l,c);if(s-=d.length,s<r)return Ia(e,t,_a,a.placeholder,i,l,d,i,i,r-s);var f=this&&this!==ln&&this instanceof a?o:e;return _n(f,this,l)}return a}function xa(e){return function(t,n,r){var o=rt(t);if(!fc(t)){var a=Ga(n,3);t=Sd(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function wa(e){return Va((function(t){var n=t.length,r=n,o=Tr.prototype.thru;e&&t.reverse();while(r--){var a=t[r];if("function"!=typeof a)throw new at(u);if(o&&!s&&"wrapper"==qa(a))var s=new Tr([],!0)}r=s?r:n;while(++r<n){a=t[r];var l=qa(a),c="wrapper"==l?$a(a):i;s=c&&ps(c[0])&&c[1]==(k|w|C|O)&&!c[4].length&&1==c[9]?s[qa(c[0])].apply(s,c[3]):1==a.length&&ps(a)?s[l]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&cc(r))return s.plant(r).value();var o=0,i=n?t[o].apply(this,e):r;while(++o<n)i=t[o].call(this,i);return i}}))}function _a(e,t,r,o,a,s,l,u,c,d){var f=t&k,p=t&y,h=t&b,m=t&(w|_),g=t&T,v=h?i:ya(e);function x(){var i=arguments.length,y=n(i),b=i;while(b--)y[b]=arguments[b];if(m)var w=Wa(x),_=nr(y,w);if(o&&(y=ia(y,o,a,m)),s&&(y=aa(y,s,l,m)),i-=_,m&&i<d){var C=fr(y,w);return Ia(e,t,_a,x.placeholder,r,y,C,u,c,d-i)}var S=p?r:this,k=h?S[e]:e;return i=y.length,u?y=ks(y,u):g&&i>1&&y.reverse(),f&&c<i&&(y.length=c),this&&this!==ln&&this instanceof x&&(k=v||ya(k)),k.apply(S,y)}return x}function Ca(e,t){return function(n,r){return $o(n,e,t(r),{})}}function Sa(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=Ni(n),r=Ni(r)):(n=ji(n),r=ji(r)),o=e(n,r)}return o}}function ka(e){return Va((function(t){return t=In(t,Jn(Ga())),_i((function(n){var r=this;return e(t,(function(e){return _n(e,r,n)}))}))}))}function Oa(e,t){t=t===i?" ":Ni(t);var n=t.length;if(n<2)return n?wi(t,e):t;var r=wi(t,jt(e/vr(t)));return sr(t)?Gi(yr(r),0,e).join(""):r.slice(0,e)}function Ta(e,t,r,o){var i=t&y,a=ya(e);function s(){var t=-1,l=arguments.length,u=-1,c=o.length,d=n(c+l),f=this&&this!==ln&&this instanceof s?a:e;while(++u<c)d[u]=o[u];while(l--)d[u++]=arguments[++t];return _n(f,i?r:this,d)}return s}function Ma(e){return function(t,n,r){return r&&"number"!=typeof r&&cs(t,n,r)&&(n=r=i),t=Kc(t),n===i?(n=t,t=0):n=Kc(n),r=r===i?t<n?1:-1:Kc(r),xi(t,n,r,e)}}function Da(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Zc(t),n=Zc(n)),e(t,n)}}function Ia(e,t,n,r,o,a,s,l,u,c){var d=t&w,f=d?s:i,p=d?i:s,h=d?a:i,m=d?i:a;t|=d?C:S,t&=~(d?S:C),t&x||(t&=~(y|b));var g=[e,t,o,h,f,m,p,l,u,c],v=n.apply(i,g);return ps(e)&&Os(v,g),v.placeholder=r,Ds(v,e,t)}function Ea(e){var t=nt[e];return function(e,n){if(e=Zc(e),n=null==n?0:Ht(Xc(n),292),n){var r=(td(e)+"e").split("e"),o=t(r[0]+"e"+(+r[1]+n));return r=(td(o)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}var Aa=nn&&1/pr(new nn([,-0]))[1]==N?function(e){return new nn(e)}:Vf;function La(e){return function(t){var n=es(t);return n==Z?cr(t):n==ie?hr(t):Xn(t,e(t))}}function ja(e,t,n,r,o,a,s,l){var c=t&b;if(!c&&"function"!=typeof e)throw new at(u);var d=r?r.length:0;if(d||(t&=~(C|S),r=o=i),s=s===i?s:Vt(Xc(s),0),l=l===i?l:Xc(l),d-=o?o.length:0,t&S){var f=r,p=o;r=o=i}var h=c?i:$a(e),m=[e,t,n,r,o,f,p,a,s,l];if(h&&xs(m,h),e=m[0],t=m[1],n=m[2],r=m[3],o=m[4],l=m[9]=m[9]===i?c?0:e.length:Vt(m[9]-d,0),!l&&t&(w|_)&&(t&=~(w|_)),t&&t!=y)g=t==w||t==_?ba(e,t,l):t!=C&&t!=(y|C)||o.length?_a.apply(i,m):Ta(e,t,n,r);else var g=ma(e,t,n);var v=h?Oi:Os;return Ds(v(g,m),e,t)}function Na(e,t,n,r){return e===i||ac(e,ut[n])&&!ft.call(r,n)?t:e}function Pa(e,t,n,r,o,a){return Oc(e)&&Oc(t)&&(a.set(t,e),ci(e,t,i,Pa,a),a["delete"](t)),e}function Ra(e){return Pc(e)?i:e}function Ba(e,t,n,r,o,a){var s=n&g,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var d=-1,f=!0,p=n&v?new Xr:i;a.set(e,t),a.set(t,e);while(++d<l){var h=e[d],m=t[d];if(r)var y=s?r(m,h,d,t,e,a):r(h,m,d,e,t,a);if(y!==i){if(y)continue;f=!1;break}if(p){if(!jn(t,(function(e,t){if(!Qn(p,t)&&(h===e||o(h,e,n,r,a)))return p.push(t)}))){f=!1;break}}else if(h!==m&&!o(h,m,n,r,a)){f=!1;break}}return a["delete"](e),a["delete"](t),f}function Fa(e,t,n,r,o,i,a){switch(n){case fe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case de:return!(e.byteLength!=t.byteLength||!i(new wt(e),new wt(t)));case W:case G:case Q:return ac(+e,+t);case K:return e.name==t.name&&e.message==t.message;case oe:case ae:return e==t+"";case Z:var s=cr;case ie:var l=r&g;if(s||(s=pr),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=v,a.set(e,t);var c=Ba(s(e),s(t),r,o,i,a);return a["delete"](e),c;case se:if(xr)return xr.call(e)==xr.call(t)}return!1}function za(e,t,n,r,o,a){var s=n&g,l=Ha(e),u=l.length,c=Ha(t),d=c.length;if(u!=d&&!s)return!1;var f=u;while(f--){var p=l[f];if(!(s?p in t:ft.call(t,p)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var m=!0;a.set(e,t),a.set(t,e);var v=s;while(++f<u){p=l[f];var y=e[p],b=t[p];if(r)var x=s?r(b,y,p,t,e,a):r(y,b,p,e,t,a);if(!(x===i?y===b||o(y,b,n,r,a):x)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(m=!1)}return a["delete"](e),a["delete"](t),m}function Va(e){return Ms(Cs(e,i,Xs),e+"")}function Ha(e){return Ro(e,Sd,Za)}function Ua(e){return Ro(e,kd,Qa)}var $a=un?function(e){return un.get(e)}:Vf;function qa(e){var t=e.name+"",n=cn[t],r=ft.call(cn,t)?n.length:0;while(r--){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function Wa(e){var t=ft.call(Cr,"placeholder")?Cr:e;return t.placeholder}function Ga(){var e=Cr.iteratee||jf;return e=e===jf?ri:e,arguments.length?e(arguments[0],arguments[1]):e}function Ya(e,t){var n=e.__data__;return fs(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ka(e){var t=Sd(e),n=t.length;while(n--){var r=t[n],o=e[r];t[n]=[r,o,vs(o)]}return t}function Xa(e,t){var n=ar(e,t);return Qo(n)?n:i}function Ja(e){var t=ft.call(e,Dt),n=e[Dt];try{e[Dt]=i;var r=!0}catch(a){}var o=mt.call(e);return r&&(t?e[Dt]=n:delete e[Dt]),o}var Za=Pt?function(e){return null==e?[]:(e=rt(e),Tn(Pt(e),(function(t){return kt.call(e,t)})))}:Xf,Qa=Pt?function(e){var t=[];while(e)En(t,Za(e)),e=Ct(e);return t}:Xf,es=Bo;function ts(e,t,n){var r=-1,o=n.length;while(++r<o){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Ht(t,e+a);break;case"takeRight":e=Vt(e,t-a);break}}return{start:e,end:t}}function ns(e){var t=e.match(He);return t?t[1].split(Ue):[]}function rs(e,t,n){t=qi(t,e);var r=-1,o=t.length,i=!1;while(++r<o){var a=Ls(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:(o=null==e?0:e.length,!!o&&kc(o)&&us(a,o)&&(cc(e)||uc(e)))}function os(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ft.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function is(e){return"function"!=typeof e.constructor||gs(e)?{}:kr(Ct(e))}function as(e,t,n,r){var o=e.constructor;switch(t){case de:return Xi(e);case W:case G:return new o(+e);case fe:return Ji(e,r);case pe:case he:case me:case ge:case ve:case ye:case be:case xe:case we:return na(e,r);case Z:return Zi(e,r,n);case Q:case ae:return new o(e);case oe:return Qi(e);case ie:return ea(e,r,n);case se:return ta(e)}}function ss(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Ve,"{\n/* [wrapped with "+t+"] */\n")}function ls(e){return cc(e)||uc(e)||!!(Tt&&e&&e[Tt])}function us(e,t){return t=null==t?P:t,!!t&&("number"==typeof e||Ze.test(e))&&e>-1&&e%1==0&&e<t}function cs(e,t,n){if(!Oc(n))return!1;var r=typeof t;return!!("number"==r?fc(n)&&us(t,n.length):"string"==r&&t in n)&&ac(n[t],e)}function ds(e,t){if(cc(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Vc(e))||(Le.test(e)||!Ae.test(e)||null!=t&&e in rt(t))}function fs(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ps(e){var t=qa(e),n=Cr[t];if("function"!=typeof n||!(t in Mr.prototype))return!1;if(e===n)return!0;var r=$a(n);return!!r&&e===r[0]}function hs(e){return!!ht&&ht in e}(Qt&&es(new Qt(new ArrayBuffer(1)))!=fe||en&&es(new en)!=Z||tn&&es(tn.resolve())!=ne||nn&&es(new nn)!=ie||an&&es(new an)!=ue)&&(es=function(e){var t=Bo(e),n=t==te?e.constructor:i,r=n?js(n):"";if(r)switch(r){case fn:return fe;case pn:return Z;case Nn:return ne;case Pn:return ie;case qn:return ue}return t});var ms=ct?Cc:Jf;function gs(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ut;return e===n}function vs(e){return e===e&&!Oc(e)}function ys(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in rt(n)))}}function bs(e){var t=Hu(e,(function(e){return n.size===d&&n.clear(),e})),n=t.cache;return t}function xs(e,t){var n=e[1],r=t[1],o=n|r,i=o<(y|b|k),a=r==k&&n==w||r==k&&n==O&&e[7].length<=t[8]||r==(k|O)&&t[7].length<=t[8]&&n==w;if(!i&&!a)return e;r&y&&(e[2]=t[2],o|=n&y?0:x);var s=t[3];if(s){var l=e[3];e[3]=l?ia(l,s,t[4]):s,e[4]=l?fr(e[3],f):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?aa(l,s,t[6]):s,e[6]=l?fr(e[5],f):t[6]),s=t[7],s&&(e[7]=s),r&k&&(e[8]=null==e[8]?t[8]:Ht(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function ws(e){var t=[];if(null!=e)for(var n in rt(e))t.push(n);return t}function _s(e){return mt.call(e)}function Cs(e,t,r){return t=Vt(t===i?e.length-1:t,0),function(){var o=arguments,i=-1,a=Vt(o.length-t,0),s=n(a);while(++i<a)s[i]=o[t+i];i=-1;var l=n(t+1);while(++i<t)l[i]=o[i];return l[t]=r(s),_n(e,this,l)}}function Ss(e,t){return t.length<2?e:Po(e,Di(t,0,-1))}function ks(e,t){var n=e.length,r=Ht(t.length,n),o=sa(e);while(r--){var a=t[r];e[r]=us(a,n)?o[a]:i}return e}var Os=Is(Oi),Ts=Lt||function(e,t){return ln.setTimeout(e,t)},Ms=Is(Ti);function Ds(e,t,n){var r=t+"";return Ms(e,ss(r,Ns(ns(r),n)))}function Is(e){var t=0,n=0;return function(){var r=qt(),o=E-(r-n);if(n=r,o>0){if(++t>=I)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Es(e,t){var n=-1,r=e.length,o=r-1;t=t===i?r:t;while(++n<t){var a=bi(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var As=bs((function(e){var t=[];return je.test(e)&&t.push(""),e.replace(Ne,(function(e,n,r,o){t.push(r?o.replace(qe,"$1"):n||e)})),t}));function Ls(e){if("string"==typeof e||Vc(e))return e;var t=e+"";return"0"==t&&1/e==-N?"-0":t}function js(e){if(null!=e){try{return dt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ns(e,t){return Sn(H,(function(n){var r="_."+n[0];t&n[1]&&!Mn(e,r)&&e.push(r)})),e.sort()}function Ps(e){if(e instanceof Mr)return e.clone();var t=new Tr(e.__wrapped__,e.__chain__);return t.__actions__=sa(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Rs(e,t,r){t=(r?cs(e,t,r):t===i)?1:Vt(Xc(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];var a=0,s=0,l=n(jt(o/t));while(a<o)l[s++]=Di(e,a,a+=t);return l}function Bs(e){var t=-1,n=null==e?0:e.length,r=0,o=[];while(++t<n){var i=e[t];i&&(o[r++]=i)}return o}function Fs(){var e=arguments.length;if(!e)return[];var t=n(e-1),r=arguments[0],o=e;while(o--)t[o-1]=arguments[o];return En(cc(r)?sa(r):[r],Io(t,1))}var zs=_i((function(e,t){return pc(e)?Co(e,Io(t,1,pc,!0)):[]})),Vs=_i((function(e,t){var n=sl(t);return pc(n)&&(n=i),pc(e)?Co(e,Io(t,1,pc,!0),Ga(n,2)):[]})),Hs=_i((function(e,t){var n=sl(t);return pc(n)&&(n=i),pc(e)?Co(e,Io(t,1,pc,!0),i,n):[]}));function Us(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===i?1:Xc(t),Di(e,t<0?0:t,r)):[]}function $s(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===i?1:Xc(t),t=r-t,Di(e,0,t<0?0:t)):[]}function qs(e,t){return e&&e.length?Fi(e,Ga(t,3),!0,!0):[]}function Ws(e,t){return e&&e.length?Fi(e,Ga(t,3),!0):[]}function Gs(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&cs(e,t,n)&&(n=0,r=o),Mo(e,t,n,r)):[]}function Ys(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:Xc(n);return o<0&&(o=Vt(r+o,0)),Fn(e,Ga(t,3),o)}function Ks(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=Xc(n),o=n<0?Vt(r+o,0):Ht(o,r-1)),Fn(e,Ga(t,3),o,!0)}function Xs(e){var t=null==e?0:e.length;return t?Io(e,1):[]}function Js(e){var t=null==e?0:e.length;return t?Io(e,N):[]}function Zs(e,t){var n=null==e?0:e.length;return n?(t=t===i?1:Xc(t),Io(e,t)):[]}function Qs(e){var t=-1,n=null==e?0:e.length,r={};while(++t<n){var o=e[t];r[o[0]]=o[1]}return r}function el(e){return e&&e.length?e[0]:i}function tl(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:Xc(n);return o<0&&(o=Vt(r+o,0)),zn(e,t,o)}function nl(e){var t=null==e?0:e.length;return t?Di(e,0,-1):[]}var rl=_i((function(e){var t=In(e,Ui);return t.length&&t[0]===e[0]?Uo(t):[]})),ol=_i((function(e){var t=sl(e),n=In(e,Ui);return t===sl(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Uo(n,Ga(t,2)):[]})),il=_i((function(e){var t=sl(e),n=In(e,Ui);return t="function"==typeof t?t:i,t&&n.pop(),n.length&&n[0]===e[0]?Uo(n,i,t):[]}));function al(e,t){return null==e?"":Ft.call(e,t)}function sl(e){var t=null==e?0:e.length;return t?e[t-1]:i}function ll(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=Xc(n),o=o<0?Vt(r+o,0):Ht(o,r-1)),t===t?gr(e,t,o):Fn(e,Hn,o,!0)}function ul(e,t){return e&&e.length?fi(e,Xc(t)):i}var cl=_i(dl);function dl(e,t){return e&&e.length&&t&&t.length?vi(e,t):e}function fl(e,t,n){return e&&e.length&&t&&t.length?vi(e,t,Ga(n,2)):e}function pl(e,t,n){return e&&e.length&&t&&t.length?vi(e,t,i,n):e}var hl=Va((function(e,t){var n=null==e?0:e.length,r=vo(e,t);return yi(e,In(t,(function(e){return us(e,n)?+e:e})).sort(ra)),r}));function ml(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;t=Ga(t,3);while(++r<i){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return yi(e,o),n}function gl(e){return null==e?e:Yt.call(e)}function vl(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&cs(e,t,n)?(t=0,n=r):(t=null==t?0:Xc(t),n=n===i?r:Xc(n)),Di(e,t,n)):[]}function yl(e,t){return Ei(e,t)}function bl(e,t,n){return Ai(e,t,Ga(n,2))}function xl(e,t){var n=null==e?0:e.length;if(n){var r=Ei(e,t);if(r<n&&ac(e[r],t))return r}return-1}function wl(e,t){return Ei(e,t,!0)}function _l(e,t,n){return Ai(e,t,Ga(n,2),!0)}function Cl(e,t){var n=null==e?0:e.length;if(n){var r=Ei(e,t,!0)-1;if(ac(e[r],t))return r}return-1}function Sl(e){return e&&e.length?Li(e):[]}function kl(e,t){return e&&e.length?Li(e,Ga(t,2)):[]}function Ol(e){var t=null==e?0:e.length;return t?Di(e,1,t):[]}function Tl(e,t,n){return e&&e.length?(t=n||t===i?1:Xc(t),Di(e,0,t<0?0:t)):[]}function Ml(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===i?1:Xc(t),t=r-t,Di(e,t<0?0:t,r)):[]}function Dl(e,t){return e&&e.length?Fi(e,Ga(t,3),!1,!0):[]}function Il(e,t){return e&&e.length?Fi(e,Ga(t,3)):[]}var El=_i((function(e){return Pi(Io(e,1,pc,!0))})),Al=_i((function(e){var t=sl(e);return pc(t)&&(t=i),Pi(Io(e,1,pc,!0),Ga(t,2))})),Ll=_i((function(e){var t=sl(e);return t="function"==typeof t?t:i,Pi(Io(e,1,pc,!0),i,t)}));function jl(e){return e&&e.length?Pi(e):[]}function Nl(e,t){return e&&e.length?Pi(e,Ga(t,2)):[]}function Pl(e,t){return t="function"==typeof t?t:i,e&&e.length?Pi(e,i,t):[]}function Rl(e){if(!e||!e.length)return[];var t=0;return e=Tn(e,(function(e){if(pc(e))return t=Vt(e.length,t),!0})),Kn(t,(function(t){return In(e,$n(t))}))}function Bl(e,t){if(!e||!e.length)return[];var n=Rl(e);return null==t?n:In(n,(function(e){return _n(t,i,e)}))}var Fl=_i((function(e,t){return pc(e)?Co(e,t):[]})),zl=_i((function(e){return Vi(Tn(e,pc))})),Vl=_i((function(e){var t=sl(e);return pc(t)&&(t=i),Vi(Tn(e,pc),Ga(t,2))})),Hl=_i((function(e){var t=sl(e);return t="function"==typeof t?t:i,Vi(Tn(e,pc),i,t)})),Ul=_i(Rl);function $l(e,t){return Hi(e||[],t||[],co)}function ql(e,t){return Hi(e||[],t||[],ki)}var Wl=_i((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,Bl(e,n)}));function Gl(e){var t=Cr(e);return t.__chain__=!0,t}function Yl(e,t){return t(e),e}function Kl(e,t){return t(e)}var Xl=Va((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return vo(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Mr&&us(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Kl,args:[o],thisArg:i}),new Tr(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));function Jl(){return Gl(this)}function Zl(){return new Tr(this.value(),this.__chain__)}function Ql(){this.__values__===i&&(this.__values__=Yc(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function eu(){return this}function tu(e){var t,n=this;while(n instanceof Or){var r=Ps(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t}function nu(){var e=this.__wrapped__;if(e instanceof Mr){var t=e;return this.__actions__.length&&(t=new Mr(this)),t=t.reverse(),t.__actions__.push({func:Kl,args:[gl],thisArg:i}),new Tr(t,this.__chain__)}return this.thru(gl)}function ru(){return zi(this.__wrapped__,this.__actions__)}var ou=da((function(e,t,n){ft.call(e,n)?++e[n]:go(e,n,1)}));function iu(e,t,n){var r=cc(e)?On:Oo;return n&&cs(e,t,n)&&(t=i),r(e,Ga(t,3))}function au(e,t){var n=cc(e)?Tn:Do;return n(e,Ga(t,3))}var su=xa(Ys),lu=xa(Ks);function uu(e,t){return Io(yu(e,t),1)}function cu(e,t){return Io(yu(e,t),N)}function du(e,t,n){return n=n===i?1:Xc(n),Io(yu(e,t),n)}function fu(e,t){var n=cc(e)?Sn:So;return n(e,Ga(t,3))}function pu(e,t){var n=cc(e)?kn:ko;return n(e,Ga(t,3))}var hu=da((function(e,t,n){ft.call(e,n)?e[n].push(t):go(e,n,[t])}));function mu(e,t,n,r){e=fc(e)?e:Ud(e),n=n&&!r?Xc(n):0;var o=e.length;return n<0&&(n=Vt(o+n,0)),zc(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&zn(e,t,n)>-1}var gu=_i((function(e,t,r){var o=-1,i="function"==typeof t,a=fc(e)?n(e.length):[];return So(e,(function(e){a[++o]=i?_n(t,e,r):qo(e,t,r)})),a})),vu=da((function(e,t,n){go(e,n,t)}));function yu(e,t){var n=cc(e)?In:si;return n(e,Ga(t,3))}function bu(e,t,n,r){return null==e?[]:(cc(t)||(t=null==t?[]:[t]),n=r?i:n,cc(n)||(n=null==n?[]:[n]),pi(e,t,n))}var xu=da((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));function wu(e,t,n){var r=cc(e)?An:Wn,o=arguments.length<3;return r(e,Ga(t,4),n,o,So)}function _u(e,t,n){var r=cc(e)?Ln:Wn,o=arguments.length<3;return r(e,Ga(t,4),n,o,ko)}function Cu(e,t){var n=cc(e)?Tn:Do;return n(e,Uu(Ga(t,3)))}function Su(e){var t=cc(e)?ao:Ci;return t(e)}function ku(e,t,n){t=(n?cs(e,t,n):t===i)?1:Xc(t);var r=cc(e)?so:Si;return r(e,t)}function Ou(e){var t=cc(e)?lo:Mi;return t(e)}function Tu(e){if(null==e)return 0;if(fc(e))return zc(e)?vr(e):e.length;var t=es(e);return t==Z||t==ie?e.size:oi(e).length}function Mu(e,t,n){var r=cc(e)?jn:Ii;return n&&cs(e,t,n)&&(t=i),r(e,Ga(t,3))}var Du=_i((function(e,t){if(null==e)return[];var n=t.length;return n>1&&cs(e,t[0],t[1])?t=[]:n>2&&cs(t[0],t[1],t[2])&&(t=[t[0]]),pi(e,Io(t,1),[])})),Iu=At||function(){return ln.Date.now()};function Eu(e,t){if("function"!=typeof t)throw new at(u);return e=Xc(e),function(){if(--e<1)return t.apply(this,arguments)}}function Au(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,ja(e,k,i,i,i,i,t)}function Lu(e,t){var n;if("function"!=typeof t)throw new at(u);return e=Xc(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var ju=_i((function(e,t,n){var r=y;if(n.length){var o=fr(n,Wa(ju));r|=C}return ja(e,r,t,n,o)})),Nu=_i((function(e,t,n){var r=y|b;if(n.length){var o=fr(n,Wa(Nu));r|=C}return ja(t,r,e,n,o)}));function Pu(e,t,n){t=n?i:t;var r=ja(e,w,i,i,i,i,i,t);return r.placeholder=Pu.placeholder,r}function Ru(e,t,n){t=n?i:t;var r=ja(e,_,i,i,i,i,i,t);return r.placeholder=Ru.placeholder,r}function Bu(e,t,n){var r,o,a,s,l,c,d=0,f=!1,p=!1,h=!0;if("function"!=typeof e)throw new at(u);function m(t){var n=r,a=o;return r=o=i,d=t,s=e.apply(a,n),s}function g(e){return d=e,l=Ts(b,t),f?m(e):s}function v(e){var n=e-c,r=e-d,o=t-n;return p?Ht(o,a-r):o}function y(e){var n=e-c,r=e-d;return c===i||n>=t||n<0||p&&r>=a}function b(){var e=Iu();if(y(e))return x(e);l=Ts(b,v(e))}function x(e){return l=i,h&&r?m(e):(r=o=i,s)}function w(){l!==i&&Yi(l),d=0,r=c=o=l=i}function _(){return l===i?s:x(Iu())}function C(){var e=Iu(),n=y(e);if(r=arguments,o=this,c=e,n){if(l===i)return g(c);if(p)return l=Ts(b,t),m(c)}return l===i&&(l=Ts(b,t)),s}return t=Zc(t)||0,Oc(n)&&(f=!!n.leading,p="maxWait"in n,a=p?Vt(Zc(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),C.cancel=w,C.flush=_,C}var Fu=_i((function(e,t){return _o(e,1,t)})),zu=_i((function(e,t,n){return _o(e,Zc(t)||0,n)}));function Vu(e){return ja(e,T)}function Hu(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new at(u);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Hu.Cache||$r),n}function Uu(e){if("function"!=typeof e)throw new at(u);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function $u(e){return Lu(2,e)}Hu.Cache=$r;var qu=Wi((function(e,t){t=1==t.length&&cc(t[0])?In(t[0],Jn(Ga())):In(Io(t,1),Jn(Ga()));var n=t.length;return _i((function(r){var o=-1,i=Ht(r.length,n);while(++o<i)r[o]=t[o].call(this,r[o]);return _n(e,this,r)}))})),Wu=_i((function(e,t){var n=fr(t,Wa(Wu));return ja(e,C,i,t,n)})),Gu=_i((function(e,t){var n=fr(t,Wa(Gu));return ja(e,S,i,t,n)})),Yu=Va((function(e,t){return ja(e,O,i,i,i,t)}));function Ku(e,t){if("function"!=typeof e)throw new at(u);return t=t===i?t:Xc(t),_i(e,t)}function Xu(e,t){if("function"!=typeof e)throw new at(u);return t=null==t?0:Vt(Xc(t),0),_i((function(n){var r=n[t],o=Gi(n,0,t);return r&&En(o,r),_n(e,this,o)}))}function Ju(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new at(u);return Oc(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Bu(e,t,{leading:r,maxWait:t,trailing:o})}function Zu(e){return Au(e,1)}function Qu(e,t){return Wu($i(t),e)}function ec(){if(!arguments.length)return[];var e=arguments[0];return cc(e)?e:[e]}function tc(e){return bo(e,m)}function nc(e,t){return t="function"==typeof t?t:i,bo(e,m,t)}function rc(e){return bo(e,p|m)}function oc(e,t){return t="function"==typeof t?t:i,bo(e,p|m,t)}function ic(e,t){return null==t||wo(e,t,Sd(t))}function ac(e,t){return e===t||e!==e&&t!==t}var sc=Da(Fo),lc=Da((function(e,t){return e>=t})),uc=Wo(function(){return arguments}())?Wo:function(e){return Tc(e)&&ft.call(e,"callee")&&!kt.call(e,"callee")},cc=n.isArray,dc=hn?Jn(hn):Go;function fc(e){return null!=e&&kc(e.length)&&!Cc(e)}function pc(e){return Tc(e)&&fc(e)}function hc(e){return!0===e||!1===e||Tc(e)&&Bo(e)==W}var mc=Rt||Jf,gc=mn?Jn(mn):Yo;function vc(e){return Tc(e)&&1===e.nodeType&&!Pc(e)}function yc(e){if(null==e)return!0;if(fc(e)&&(cc(e)||"string"==typeof e||"function"==typeof e.splice||mc(e)||Hc(e)||uc(e)))return!e.length;var t=es(e);if(t==Z||t==ie)return!e.size;if(gs(e))return!oi(e).length;for(var n in e)if(ft.call(e,n))return!1;return!0}function bc(e,t){return Ko(e,t)}function xc(e,t,n){n="function"==typeof n?n:i;var r=n?n(e,t):i;return r===i?Ko(e,t,i,n):!!r}function wc(e){if(!Tc(e))return!1;var t=Bo(e);return t==K||t==Y||"string"==typeof e.message&&"string"==typeof e.name&&!Pc(e)}function _c(e){return"number"==typeof e&&Bt(e)}function Cc(e){if(!Oc(e))return!1;var t=Bo(e);return t==X||t==J||t==q||t==re}function Sc(e){return"number"==typeof e&&e==Xc(e)}function kc(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=P}function Oc(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Tc(e){return null!=e&&"object"==typeof e}var Mc=gn?Jn(gn):Jo;function Dc(e,t){return e===t||Zo(e,t,Ka(t))}function Ic(e,t,n){return n="function"==typeof n?n:i,Zo(e,t,Ka(t),n)}function Ec(e){return Nc(e)&&e!=+e}function Ac(e){if(ms(e))throw new o(l);return Qo(e)}function Lc(e){return null===e}function jc(e){return null==e}function Nc(e){return"number"==typeof e||Tc(e)&&Bo(e)==Q}function Pc(e){if(!Tc(e)||Bo(e)!=te)return!1;var t=Ct(e);if(null===t)return!0;var n=ft.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&dt.call(n)==gt}var Rc=vn?Jn(vn):ei;function Bc(e){return Sc(e)&&e>=-P&&e<=P}var Fc=yn?Jn(yn):ti;function zc(e){return"string"==typeof e||!cc(e)&&Tc(e)&&Bo(e)==ae}function Vc(e){return"symbol"==typeof e||Tc(e)&&Bo(e)==se}var Hc=bn?Jn(bn):ni;function Uc(e){return e===i}function $c(e){return Tc(e)&&es(e)==ue}function qc(e){return Tc(e)&&Bo(e)==ce}var Wc=Da(ai),Gc=Da((function(e,t){return e<=t}));function Yc(e){if(!e)return[];if(fc(e))return zc(e)?yr(e):sa(e);if(Mt&&e[Mt])return ur(e[Mt]());var t=es(e),n=t==Z?cr:t==ie?pr:Ud;return n(e)}function Kc(e){if(!e)return 0===e?e:0;if(e=Zc(e),e===N||e===-N){var t=e<0?-1:1;return t*R}return e===e?e:0}function Xc(e){var t=Kc(e),n=t%1;return t===t?n?t-n:t:0}function Jc(e){return e?yo(Xc(e),0,F):0}function Zc(e){if("number"==typeof e)return e;if(Vc(e))return B;if(Oc(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Oc(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Be,"");var n=Ke.test(e);return n||Je.test(e)?on(e.slice(2),n?2:8):Ye.test(e)?B:+e}function Qc(e){return la(e,kd(e))}function ed(e){return e?yo(Xc(e),-P,P):0===e?e:0}function td(e){return null==e?"":Ni(e)}var nd=fa((function(e,t){if(gs(t)||fc(t))la(t,Sd(t),e);else for(var n in t)ft.call(t,n)&&co(e,n,t[n])})),rd=fa((function(e,t){la(t,kd(t),e)})),od=fa((function(e,t,n,r){la(t,kd(t),e,r)})),id=fa((function(e,t,n,r){la(t,Sd(t),e,r)})),ad=Va(vo);function sd(e,t){var n=kr(e);return null==t?n:ho(n,t)}var ld=_i((function(e){return e.push(i,Na),_n(od,i,e)})),ud=_i((function(e){return e.push(i,Pa),_n(Dd,i,e)}));function cd(e,t){return Bn(e,Ga(t,3),Lo)}function dd(e,t){return Bn(e,Ga(t,3),jo)}function fd(e,t){return null==e?e:Eo(e,Ga(t,3),kd)}function pd(e,t){return null==e?e:Ao(e,Ga(t,3),kd)}function hd(e,t){return e&&Lo(e,Ga(t,3))}function md(e,t){return e&&jo(e,Ga(t,3))}function gd(e){return null==e?[]:No(e,Sd(e))}function vd(e){return null==e?[]:No(e,kd(e))}function yd(e,t,n){var r=null==e?i:Po(e,t);return r===i?n:r}function bd(e,t){return null!=e&&rs(e,t,zo)}function xd(e,t){return null!=e&&rs(e,t,Vo)}var wd=Ca((function(e,t,n){e[t]=n}),Df(Lf)),_d=Ca((function(e,t,n){ft.call(e,t)?e[t].push(n):e[t]=[n]}),Ga),Cd=_i(qo);function Sd(e){return fc(e)?io(e):oi(e)}function kd(e){return fc(e)?io(e,!0):ii(e)}function Od(e,t){var n={};return t=Ga(t,3),Lo(e,(function(e,r,o){go(n,t(e,r,o),e)})),n}function Td(e,t){var n={};return t=Ga(t,3),Lo(e,(function(e,r,o){go(n,r,t(e,r,o))})),n}var Md=fa((function(e,t,n){ci(e,t,n)})),Dd=fa((function(e,t,n,r){ci(e,t,n,r)})),Id=Va((function(e,t){var n={};if(null==e)return n;var r=!1;t=In(t,(function(t){return t=qi(t,e),r||(r=t.length>1),t})),la(e,Ua(e),n),r&&(n=bo(n,p|h|m,Ra));var o=t.length;while(o--)Ri(n,t[o]);return n}));function Ed(e,t){return Ld(e,Uu(Ga(t)))}var Ad=Va((function(e,t){return null==e?{}:hi(e,t)}));function Ld(e,t){if(null==e)return{};var n=In(Ua(e),(function(e){return[e]}));return t=Ga(t),mi(e,n,(function(e,n){return t(e,n[0])}))}function jd(e,t,n){t=qi(t,e);var r=-1,o=t.length;o||(o=1,e=i);while(++r<o){var a=null==e?i:e[Ls(t[r])];a===i&&(r=o,a=n),e=Cc(a)?a.call(e):a}return e}function Nd(e,t,n){return null==e?e:ki(e,t,n)}function Pd(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ki(e,t,n,r)}var Rd=La(Sd),Bd=La(kd);function Fd(e,t,n){var r=cc(e),o=r||mc(e)||Hc(e);if(t=Ga(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Oc(e)&&Cc(i)?kr(Ct(e)):{}}return(o?Sn:Lo)(e,(function(e,r,o){return t(n,e,r,o)})),n}function zd(e,t){return null==e||Ri(e,t)}function Vd(e,t,n){return null==e?e:Bi(e,t,$i(n))}function Hd(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Bi(e,t,$i(n),r)}function Ud(e){return null==e?[]:Zn(e,Sd(e))}function $d(e){return null==e?[]:Zn(e,kd(e))}function qd(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=Zc(n),n=n===n?n:0),t!==i&&(t=Zc(t),t=t===t?t:0),yo(Zc(e),t,n)}function Wd(e,t,n){return t=Kc(t),n===i?(n=t,t=0):n=Kc(n),e=Zc(e),Ho(e,t,n)}function Gd(e,t,n){if(n&&"boolean"!=typeof n&&cs(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Kc(e),t===i?(t=e,e=0):t=Kc(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Gt();return Ht(e+o*(t-e+rn("1e-"+((o+"").length-1))),t)}return bi(e,t)}var Yd=va((function(e,t,n){return t=t.toLowerCase(),e+(n?Kd(t):t)}));function Kd(e){return Cf(td(e).toLowerCase())}function Xd(e){return e=td(e),e&&e.replace(Qe,rr).replace($t,"")}function Jd(e,t,n){e=td(e),t=Ni(t);var r=e.length;n=n===i?r:yo(Xc(n),0,r);var o=n;return n-=t.length,n>=0&&e.slice(n,o)==t}function Zd(e){return e=td(e),e&&Me.test(e)?e.replace(Oe,or):e}function Qd(e){return e=td(e),e&&Re.test(e)?e.replace(Pe,"\\$&"):e}var ef=va((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),tf=va((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),nf=ga("toLowerCase");function rf(e,t,n){e=td(e),t=Xc(t);var r=t?vr(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Oa(Nt(o),n)+e+Oa(jt(o),n)}function of(e,t,n){e=td(e),t=Xc(t);var r=t?vr(e):0;return t&&r<t?e+Oa(t-r,n):e}function af(e,t,n){e=td(e),t=Xc(t);var r=t?vr(e):0;return t&&r<t?Oa(t-r,n)+e:e}function sf(e,t,n){return n||null==t?t=0:t&&(t=+t),Wt(td(e).replace(Fe,""),t||0)}function lf(e,t,n){return t=(n?cs(e,t,n):t===i)?1:Xc(t),wi(td(e),t)}function uf(){var e=arguments,t=td(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var cf=va((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));function df(e,t,n){return n&&"number"!=typeof n&&cs(e,t,n)&&(t=n=i),n=n===i?F:n>>>0,n?(e=td(e),e&&("string"==typeof t||null!=t&&!Rc(t))&&(t=Ni(t),!t&&sr(e))?Gi(yr(e),0,n):e.split(t,n)):[]}var ff=va((function(e,t,n){return e+(n?" ":"")+Cf(t)}));function pf(e,t,n){return e=td(e),n=null==n?0:yo(Xc(n),0,e.length),t=Ni(t),e.slice(n,n+t.length)==t}function hf(e,t,n){var r=Cr.templateSettings;n&&cs(e,t,n)&&(t=i),e=td(e),t=od({},t,r,Na);var o,a,s=od({},t.imports,r.imports,Na),l=Sd(s),u=Zn(s,l),c=0,d=t.interpolate||et,f="__p += '",p=ot((t.escape||et).source+"|"+d.source+"|"+(d===Ee?We:et).source+"|"+(t.evaluate||et).source+"|$","g"),h="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Xt+"]")+"\n";e.replace(p,(function(t,n,r,i,s,l){return r||(r=i),f+=e.slice(c,l).replace(tt,ir),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),f+="';\n";var m=t.variable;m||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(_e,""):f).replace(Ce,"$1").replace(Se,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=kf((function(){return $e(l,h+"return "+f).apply(i,u)}));if(g.source=f,wc(g))throw g;return g}function mf(e){return td(e).toLowerCase()}function gf(e){return td(e).toUpperCase()}function vf(e,t,n){if(e=td(e),e&&(n||t===i))return e.replace(Be,"");if(!e||!(t=Ni(t)))return e;var r=yr(e),o=yr(t),a=er(r,o),s=tr(r,o)+1;return Gi(r,a,s).join("")}function yf(e,t,n){if(e=td(e),e&&(n||t===i))return e.replace(ze,"");if(!e||!(t=Ni(t)))return e;var r=yr(e),o=tr(r,yr(t))+1;return Gi(r,0,o).join("")}function bf(e,t,n){if(e=td(e),e&&(n||t===i))return e.replace(Fe,"");if(!e||!(t=Ni(t)))return e;var r=yr(e),o=er(r,yr(t));return Gi(r,o).join("")}function xf(e,t){var n=M,r=D;if(Oc(t)){var o="separator"in t?t.separator:o;n="length"in t?Xc(t.length):n,r="omission"in t?Ni(t.omission):r}e=td(e);var a=e.length;if(sr(e)){var s=yr(e);a=s.length}if(n>=a)return e;var l=n-vr(r);if(l<1)return r;var u=s?Gi(s,0,l).join(""):e.slice(0,l);if(o===i)return u+r;if(s&&(l+=u.length-l),Rc(o)){if(e.slice(l).search(o)){var c,d=u;o.global||(o=ot(o.source,td(Ge.exec(o))+"g")),o.lastIndex=0;while(c=o.exec(d))var f=c.index;u=u.slice(0,f===i?l:f)}}else if(e.indexOf(Ni(o),l)!=l){var p=u.lastIndexOf(o);p>-1&&(u=u.slice(0,p))}return u+r}function wf(e){return e=td(e),e&&Te.test(e)?e.replace(ke,br):e}var _f=va((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Cf=ga("toUpperCase");function Sf(e,t,n){return e=td(e),t=n?i:t,t===i?lr(e)?_r(e):Rn(e):e.match(t)||[]}var kf=_i((function(e,t){try{return _n(e,i,t)}catch(n){return wc(n)?n:new o(n)}})),Of=Va((function(e,t){return Sn(t,(function(t){t=Ls(t),go(e,t,ju(e[t],e))})),e}));function Tf(e){var t=null==e?0:e.length,n=Ga();return e=t?In(e,(function(e){if("function"!=typeof e[1])throw new at(u);return[n(e[0]),e[1]]})):[],_i((function(n){var r=-1;while(++r<t){var o=e[r];if(_n(o[0],this,n))return _n(o[1],this,n)}}))}function Mf(e){return xo(bo(e,p))}function Df(e){return function(){return e}}function If(e,t){return null==e||e!==e?t:e}var Ef=wa(),Af=wa(!0);function Lf(e){return e}function jf(e){return ri("function"==typeof e?e:bo(e,p))}function Nf(e){return li(bo(e,p))}function Pf(e,t){return ui(e,bo(t,p))}var Rf=_i((function(e,t){return function(n){return qo(n,e,t)}})),Bf=_i((function(e,t){return function(n){return qo(e,n,t)}}));function Ff(e,t,n){var r=Sd(t),o=No(t,r);null!=n||Oc(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=No(t,Sd(t)));var i=!(Oc(n)&&"chain"in n)||!!n.chain,a=Cc(e);return Sn(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=sa(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,En([this.value()],arguments))})})),e}function zf(){return ln._===this&&(ln._=vt),this}function Vf(){}function Hf(e){return e=Xc(e),_i((function(t){return fi(t,e)}))}var Uf=ka(In),$f=ka(On),qf=ka(jn);function Wf(e){return ds(e)?$n(Ls(e)):gi(e)}function Gf(e){return function(t){return null==e?i:Po(e,t)}}var Yf=Ma(),Kf=Ma(!0);function Xf(){return[]}function Jf(){return!1}function Zf(){return{}}function Qf(){return""}function ep(){return!0}function tp(e,t){if(e=Xc(e),e<1||e>P)return[];var n=F,r=Ht(e,F);t=Ga(t),e-=F;var o=Kn(r,t);while(++n<e)t(n);return o}function np(e){return cc(e)?In(e,Ls):Vc(e)?[e]:sa(As(td(e)))}function rp(e){var t=++pt;return td(e)+t}var op=Sa((function(e,t){return e+t}),0),ip=Ea("ceil"),ap=Sa((function(e,t){return e/t}),1),sp=Ea("floor");function lp(e){return e&&e.length?To(e,Lf,Fo):i}function up(e,t){return e&&e.length?To(e,Ga(t,2),Fo):i}function cp(e){return Un(e,Lf)}function dp(e,t){return Un(e,Ga(t,2))}function fp(e){return e&&e.length?To(e,Lf,ai):i}function pp(e,t){return e&&e.length?To(e,Ga(t,2),ai):i}var hp=Sa((function(e,t){return e*t}),1),mp=Ea("round"),gp=Sa((function(e,t){return e-t}),0);function vp(e){return e&&e.length?Yn(e,Lf):0}function yp(e,t){return e&&e.length?Yn(e,Ga(t,2)):0}return Cr.after=Eu,Cr.ary=Au,Cr.assign=nd,Cr.assignIn=rd,Cr.assignInWith=od,Cr.assignWith=id,Cr.at=ad,Cr.before=Lu,Cr.bind=ju,Cr.bindAll=Of,Cr.bindKey=Nu,Cr.castArray=ec,Cr.chain=Gl,Cr.chunk=Rs,Cr.compact=Bs,Cr.concat=Fs,Cr.cond=Tf,Cr.conforms=Mf,Cr.constant=Df,Cr.countBy=ou,Cr.create=sd,Cr.curry=Pu,Cr.curryRight=Ru,Cr.debounce=Bu,Cr.defaults=ld,Cr.defaultsDeep=ud,Cr.defer=Fu,Cr.delay=zu,Cr.difference=zs,Cr.differenceBy=Vs,Cr.differenceWith=Hs,Cr.drop=Us,Cr.dropRight=$s,Cr.dropRightWhile=qs,Cr.dropWhile=Ws,Cr.fill=Gs,Cr.filter=au,Cr.flatMap=uu,Cr.flatMapDeep=cu,Cr.flatMapDepth=du,Cr.flatten=Xs,Cr.flattenDeep=Js,Cr.flattenDepth=Zs,Cr.flip=Vu,Cr.flow=Ef,Cr.flowRight=Af,Cr.fromPairs=Qs,Cr.functions=gd,Cr.functionsIn=vd,Cr.groupBy=hu,Cr.initial=nl,Cr.intersection=rl,Cr.intersectionBy=ol,Cr.intersectionWith=il,Cr.invert=wd,Cr.invertBy=_d,Cr.invokeMap=gu,Cr.iteratee=jf,Cr.keyBy=vu,Cr.keys=Sd,Cr.keysIn=kd,Cr.map=yu,Cr.mapKeys=Od,Cr.mapValues=Td,Cr.matches=Nf,Cr.matchesProperty=Pf,Cr.memoize=Hu,Cr.merge=Md,Cr.mergeWith=Dd,Cr.method=Rf,Cr.methodOf=Bf,Cr.mixin=Ff,Cr.negate=Uu,Cr.nthArg=Hf,Cr.omit=Id,Cr.omitBy=Ed,Cr.once=$u,Cr.orderBy=bu,Cr.over=Uf,Cr.overArgs=qu,Cr.overEvery=$f,Cr.overSome=qf,Cr.partial=Wu,Cr.partialRight=Gu,Cr.partition=xu,Cr.pick=Ad,Cr.pickBy=Ld,Cr.property=Wf,Cr.propertyOf=Gf,Cr.pull=cl,Cr.pullAll=dl,Cr.pullAllBy=fl,Cr.pullAllWith=pl,Cr.pullAt=hl,Cr.range=Yf,Cr.rangeRight=Kf,Cr.rearg=Yu,Cr.reject=Cu,Cr.remove=ml,Cr.rest=Ku,Cr.reverse=gl,Cr.sampleSize=ku,Cr.set=Nd,Cr.setWith=Pd,Cr.shuffle=Ou,Cr.slice=vl,Cr.sortBy=Du,Cr.sortedUniq=Sl,Cr.sortedUniqBy=kl,Cr.split=df,Cr.spread=Xu,Cr.tail=Ol,Cr.take=Tl,Cr.takeRight=Ml,Cr.takeRightWhile=Dl,Cr.takeWhile=Il,Cr.tap=Yl,Cr.throttle=Ju,Cr.thru=Kl,Cr.toArray=Yc,Cr.toPairs=Rd,Cr.toPairsIn=Bd,Cr.toPath=np,Cr.toPlainObject=Qc,Cr.transform=Fd,Cr.unary=Zu,Cr.union=El,Cr.unionBy=Al,Cr.unionWith=Ll,Cr.uniq=jl,Cr.uniqBy=Nl,Cr.uniqWith=Pl,Cr.unset=zd,Cr.unzip=Rl,Cr.unzipWith=Bl,Cr.update=Vd,Cr.updateWith=Hd,Cr.values=Ud,Cr.valuesIn=$d,Cr.without=Fl,Cr.words=Sf,Cr.wrap=Qu,Cr.xor=zl,Cr.xorBy=Vl,Cr.xorWith=Hl,Cr.zip=Ul,Cr.zipObject=$l,Cr.zipObjectDeep=ql,Cr.zipWith=Wl,Cr.entries=Rd,Cr.entriesIn=Bd,Cr.extend=rd,Cr.extendWith=od,Ff(Cr,Cr),Cr.add=op,Cr.attempt=kf,Cr.camelCase=Yd,Cr.capitalize=Kd,Cr.ceil=ip,Cr.clamp=qd,Cr.clone=tc,Cr.cloneDeep=rc,Cr.cloneDeepWith=oc,Cr.cloneWith=nc,Cr.conformsTo=ic,Cr.deburr=Xd,Cr.defaultTo=If,Cr.divide=ap,Cr.endsWith=Jd,Cr.eq=ac,Cr.escape=Zd,Cr.escapeRegExp=Qd,Cr.every=iu,Cr.find=su,Cr.findIndex=Ys,Cr.findKey=cd,Cr.findLast=lu,Cr.findLastIndex=Ks,Cr.findLastKey=dd,Cr.floor=sp,Cr.forEach=fu,Cr.forEachRight=pu,Cr.forIn=fd,Cr.forInRight=pd,Cr.forOwn=hd,Cr.forOwnRight=md,Cr.get=yd,Cr.gt=sc,Cr.gte=lc,Cr.has=bd,Cr.hasIn=xd,Cr.head=el,Cr.identity=Lf,Cr.includes=mu,Cr.indexOf=tl,Cr.inRange=Wd,Cr.invoke=Cd,Cr.isArguments=uc,Cr.isArray=cc,Cr.isArrayBuffer=dc,Cr.isArrayLike=fc,Cr.isArrayLikeObject=pc,Cr.isBoolean=hc,Cr.isBuffer=mc,Cr.isDate=gc,Cr.isElement=vc,Cr.isEmpty=yc,Cr.isEqual=bc,Cr.isEqualWith=xc,Cr.isError=wc,Cr.isFinite=_c,Cr.isFunction=Cc,Cr.isInteger=Sc,Cr.isLength=kc,Cr.isMap=Mc,Cr.isMatch=Dc,Cr.isMatchWith=Ic,Cr.isNaN=Ec,Cr.isNative=Ac,Cr.isNil=jc,Cr.isNull=Lc,Cr.isNumber=Nc,Cr.isObject=Oc,Cr.isObjectLike=Tc,Cr.isPlainObject=Pc,Cr.isRegExp=Rc,Cr.isSafeInteger=Bc,Cr.isSet=Fc,Cr.isString=zc,Cr.isSymbol=Vc,Cr.isTypedArray=Hc,Cr.isUndefined=Uc,Cr.isWeakMap=$c,Cr.isWeakSet=qc,Cr.join=al,Cr.kebabCase=ef,Cr.last=sl,Cr.lastIndexOf=ll,Cr.lowerCase=tf,Cr.lowerFirst=nf,Cr.lt=Wc,Cr.lte=Gc,Cr.max=lp,Cr.maxBy=up,Cr.mean=cp,Cr.meanBy=dp,Cr.min=fp,Cr.minBy=pp,Cr.stubArray=Xf,Cr.stubFalse=Jf,Cr.stubObject=Zf,Cr.stubString=Qf,Cr.stubTrue=ep,Cr.multiply=hp,Cr.nth=ul,Cr.noConflict=zf,Cr.noop=Vf,Cr.now=Iu,Cr.pad=rf,Cr.padEnd=of,Cr.padStart=af,Cr.parseInt=sf,Cr.random=Gd,Cr.reduce=wu,Cr.reduceRight=_u,Cr.repeat=lf,Cr.replace=uf,Cr.result=jd,Cr.round=mp,Cr.runInContext=e,Cr.sample=Su,Cr.size=Tu,Cr.snakeCase=cf,Cr.some=Mu,Cr.sortedIndex=yl,Cr.sortedIndexBy=bl,Cr.sortedIndexOf=xl,Cr.sortedLastIndex=wl,Cr.sortedLastIndexBy=_l,Cr.sortedLastIndexOf=Cl,Cr.startCase=ff,Cr.startsWith=pf,Cr.subtract=gp,Cr.sum=vp,Cr.sumBy=yp,Cr.template=hf,Cr.times=tp,Cr.toFinite=Kc,Cr.toInteger=Xc,Cr.toLength=Jc,Cr.toLower=mf,Cr.toNumber=Zc,Cr.toSafeInteger=ed,Cr.toString=td,Cr.toUpper=gf,Cr.trim=vf,Cr.trimEnd=yf,Cr.trimStart=bf,Cr.truncate=xf,Cr.unescape=wf,Cr.uniqueId=rp,Cr.upperCase=_f,Cr.upperFirst=Cf,Cr.each=fu,Cr.eachRight=pu,Cr.first=el,Ff(Cr,function(){var e={};return Lo(Cr,(function(t,n){ft.call(Cr.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Cr.VERSION=a,Sn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Cr[e].placeholder=Cr})),Sn(["drop","take"],(function(e,t){Mr.prototype[e]=function(n){n=n===i?1:Vt(Xc(n),0);var r=this.__filtered__&&!t?new Mr(this):this.clone();return r.__filtered__?r.__takeCount__=Ht(n,r.__takeCount__):r.__views__.push({size:Ht(n,F),type:e+(r.__dir__<0?"Right":"")}),r},Mr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Sn(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n==A||n==j;Mr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ga(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Sn(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Mr.prototype[e]=function(){return this[n](1).value()[0]}})),Sn(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Mr.prototype[e]=function(){return this.__filtered__?new Mr(this):this[n](1)}})),Mr.prototype.compact=function(){return this.filter(Lf)},Mr.prototype.find=function(e){return this.filter(e).head()},Mr.prototype.findLast=function(e){return this.reverse().find(e)},Mr.prototype.invokeMap=_i((function(e,t){return"function"==typeof e?new Mr(this):this.map((function(n){return qo(n,e,t)}))})),Mr.prototype.reject=function(e){return this.filter(Uu(Ga(e)))},Mr.prototype.slice=function(e,t){e=Xc(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Mr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(t=Xc(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},Mr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Mr.prototype.toArray=function(){return this.take(F)},Lo(Mr.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Cr[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Cr.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof Mr,u=s[0],c=l||cc(t),d=function(e){var t=o.apply(Cr,En([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=this.__chain__,p=!!this.__actions__.length,h=a&&!f,m=l&&!p;if(!a&&c){t=m?t:new Mr(this);var g=e.apply(t,s);return g.__actions__.push({func:Kl,args:[d],thisArg:i}),new Tr(g,f)}return h&&m?e.apply(this,s):(g=this.thru(d),h?r?g.value()[0]:g.value():g)})})),Sn(["pop","push","shift","sort","splice","unshift"],(function(e){var t=st[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Cr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(cc(o)?o:[],e)}return this[n]((function(n){return t.apply(cc(n)?n:[],e)}))}})),Lo(Mr.prototype,(function(e,t){var n=Cr[t];if(n){var r=n.name+"",o=cn[r]||(cn[r]=[]);o.push({name:t,func:n})}})),cn[_a(i,b).name]=[{name:"wrapper",func:i}],Mr.prototype.clone=Dr,Mr.prototype.reverse=Ir,Mr.prototype.value=Er,Cr.prototype.at=Xl,Cr.prototype.chain=Jl,Cr.prototype.commit=Zl,Cr.prototype.next=Ql,Cr.prototype.plant=tu,Cr.prototype.reverse=nu,Cr.prototype.toJSON=Cr.prototype.valueOf=Cr.prototype.value=ru,Cr.prototype.first=Cr.prototype.head,Mt&&(Cr.prototype[Mt]=eu),Cr},Sr=Cr();ln._=Sr,o=function(){return Sr}.call(t,n,t,r),o===i||(r.exports=o)}).call(this)}).call(t,n(435),n(436)(e))},function(e,t,n){var r=n(13),o=n(171);e.exports=a;var i=r.constant(1);function a(e,t,n,r){return s(e,String(t),n||i,r||function(t){return e.outEdges(t)})}function s(e,t,n,r){var i,a,s={},l=new o,u=function(e){var t=e.v!==i?e.v:e.w,r=s[t],o=n(e),u=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);u<r.distance&&(r.distance=u,r.predecessor=i,l.decrease(t,u))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},l.add(e,n)}));while(l.size()>0){if(i=l.removeMin(),a=s[i],a.distance===Number.POSITIVE_INFINITY)break;r(i).forEach(u)}return s}},function(e,t,n){var r=n(13);function o(){this._arr=[],this._keyIndices={}}e.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},o.prototype.has=function(e){return r.has(this._keyIndices,e)},o.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var o=this._arr,i=o.length;return n[e]=i,o.push({key:e,priority:t}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},o.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},o.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))},o.prototype._decrease=function(e){var t,n=this._arr,r=n[e].priority;while(0!==e){if(t=e>>1,n[t].priority<r)break;this._swap(e,t),e=t}},o.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t}},function(e,t,n){var r=n(13);function o(e){var t=0,n=[],o={},i=[];function a(s){var l=o[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach((function(e){r.has(o,e)?o[e].onStack&&(l.lowlink=Math.min(l.lowlink,o[e].index)):(a(e),l.lowlink=Math.min(l.lowlink,o[e].lowlink))})),l.lowlink===l.index){var u,c=[];do{u=n.pop(),o[u].onStack=!1,c.push(u)}while(s!==u);i.push(c)}}return e.nodes().forEach((function(e){r.has(o,e)||a(e)})),i}e.exports=o},function(e,t,n){var r=n(13);function o(e){var t={},n={},o=[];function a(s){if(r.has(n,s))throw new i;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],o.push(s))}if(r.each(e.sinks(),a),r.size(t)!==e.nodeCount())throw new i;return o}function i(){}e.exports=o,o.CycleException=i},function(e,t,n){var r=n(13);function o(e,t,n){r.isArray(t)||(t=[t]);var o=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],s={};return r.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);i(e,t,"post"===n,s,o,a)})),a}function i(e,t,n,o,a,s){r.has(o,t)||(o[t]=!0,n||s.push(t),r.each(a(t),(function(t){i(e,t,n,o,a,s)})),n&&s.push(t))}e.exports=o},function(e,t,n){"use strict";var r=n(8),o=n(16).Graph,i=n(59).slack;function a(e){var t,n,r=new o({directed:!1}),a=e.nodes()[0],c=e.nodeCount();r.setNode(a,{});while(s(r,e)<c)t=l(r,e),n=r.hasNode(t.v)?i(e,t):-i(e,t),u(r,e,n);return r}function s(e,t){function n(o){r.forEach(t.nodeEdges(o),(function(r){var a=r.v,s=o===a?r.w:a;e.hasNode(s)||i(t,r)||(e.setNode(s,{}),e.setEdge(o,s,{}),n(s))}))}return r.forEach(e.nodes(),n),e.nodeCount()}function l(e,t){return r.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return i(t,n)}))}function u(e,t,n){r.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}e.exports=a},function(e,t,n){"use strict";t["c"]=i,t["d"]=a,t["b"]=s,t["a"]=l;var r=n(14);function o(e){return e.target.depth}function i(e){return e.depth}function a(e,t){return t-1-e.height}function s(e,t){return e.sourceLinks.length?e.depth:t-1}function l(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?Object(r["min"])(e.sourceLinks,o)-1:0}},function(e,t,n){"use strict";var r=n(33),o=n(27),i=n(60),a=n(95),s=n(96);t["a"]=function(){var e=s["a"],t=null,n=Object(o["a"])(0),l=s["b"],u=Object(o["a"])(!0),c=null,d=i["a"],f=null;function p(o){var i,a,s,p,h,m=o.length,g=!1,v=new Array(m),y=new Array(m);for(null==c&&(f=d(h=Object(r["path"])())),i=0;i<=m;++i){if(!(i<m&&u(p=o[i],i,o))===g)if(g=!g)a=i,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),s=i-1;s>=a;--s)f.point(v[s],y[s]);f.lineEnd(),f.areaEnd()}g&&(v[i]=+e(p,i,o),y[i]=+n(p,i,o),f.point(t?+t(p,i,o):v[i],l?+l(p,i,o):y[i]))}if(h)return f=null,h+""||null}function h(){return Object(a["a"])().defined(u).curve(d).context(c)}return p.x=function(n){return arguments.length?(e="function"===typeof n?n:Object(o["a"])(+n),t=null,p):e},p.x0=function(t){return arguments.length?(e="function"===typeof t?t:Object(o["a"])(+t),p):e},p.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:Object(o["a"])(+e),p):t},p.y=function(e){return arguments.length?(n="function"===typeof e?e:Object(o["a"])(+e),l=null,p):n},p.y0=function(e){return arguments.length?(n="function"===typeof e?e:Object(o["a"])(+e),p):n},p.y1=function(e){return arguments.length?(l=null==e?null:"function"===typeof e?e:Object(o["a"])(+e),p):l},p.lineX0=p.lineY0=function(){return h().x(e).y(n)},p.lineY1=function(){return h().x(e).y(l)},p.lineX1=function(){return h().x(t).y(n)},p.defined=function(e){return arguments.length?(u="function"===typeof e?e:Object(o["a"])(!!e),p):u},p.curve=function(e){return arguments.length?(d=e,null!=c&&(f=d(c)),p):d},p.context=function(e){return arguments.length?(null==e?c=f=null:f=d(c=e),p):c},p}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),t["b"]=a;var r=n(60),o=a(r["a"]);function i(e){this._curve=e}function a(e){function t(t){return new i(e(t))}return t._curve=e,t}i.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}},function(e,t,n){"use strict";t["a"]=o;var r=n(178);n(95);function o(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(Object(r["b"])(e)):t()._curve},e}},function(e,t,n){"use strict";t["a"]=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.prototype.slice},function(e,t,n){"use strict";var r=n(46);t["a"]={draw:function(e,t){var n=Math.sqrt(t/r["j"]);e.moveTo(n,0),e.arc(0,0,n,0,r["m"])}}},function(e,t,n){"use strict";t["a"]={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}}},function(e,t,n){"use strict";var r=Math.sqrt(1/3),o=2*r;t["a"]={draw:function(e,t){var n=Math.sqrt(t/o),i=n*r;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}}},function(e,t,n){"use strict";var r=n(46),o=.8908130915292852,i=Math.sin(r["j"]/10)/Math.sin(7*r["j"]/10),a=Math.sin(r["m"]/10)*i,s=-Math.cos(r["m"]/10)*i;t["a"]={draw:function(e,t){var n=Math.sqrt(t*o),i=a*n,l=s*n;e.moveTo(0,-n),e.lineTo(i,l);for(var u=1;u<5;++u){var c=r["m"]*u/5,d=Math.cos(c),f=Math.sin(c);e.lineTo(f*n,-d*n),e.lineTo(d*i-f*l,f*i+d*l)}e.closePath()}}},function(e,t,n){"use strict";t["a"]={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}}},function(e,t,n){"use strict";var r=Math.sqrt(3);t["a"]={draw:function(e,t){var n=-Math.sqrt(t/(3*r));e.moveTo(0,2*n),e.lineTo(-r*n,-n),e.lineTo(r*n,-n),e.closePath()}}},function(e,t,n){"use strict";var r=-.5,o=Math.sqrt(3)/2,i=1/Math.sqrt(12),a=3*(i/2+1);t["a"]={draw:function(e,t){var n=Math.sqrt(t/a),s=n/2,l=n*i,u=s,c=n*i+n,d=-u,f=c;e.moveTo(s,l),e.lineTo(u,c),e.lineTo(d,f),e.lineTo(r*s-o*l,o*s+r*l),e.lineTo(r*u-o*c,o*u+r*c),e.lineTo(r*d-o*f,o*d+r*f),e.lineTo(r*s+o*l,r*l-o*s),e.lineTo(r*u+o*c,r*c-o*u),e.lineTo(r*d+o*f,r*f-o*d),e.closePath()}}},function(e,t,n){"use strict";t["a"]=i;var r=n(61),o=n(63);function i(e,t){this._context=e,this._k=(1-t)/6}i.prototype={areaStart:r["a"],areaEnd:r["a"],lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Object(o["b"])(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return new i(e,t)}return n.tension=function(t){return e(+t)},n})(0)},function(e,t,n){"use strict";t["a"]=o;var r=n(63);function o(e,t){this._context=e,this._k=(1-t)/6}o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(r["b"])(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return new o(e,t)}return n.tension=function(t){return e(+t)},n})(0)},function(e,t,n){"use strict";t["c"]=i,t["a"]=s,t["d"]=u,t["b"]=c;var r=n(100),o=n(49);function i(e){return o["b"][e.index]={site:e,halfedges:[]}}function a(e,t){var n=e.site,r=t.left,o=t.right;return n===o&&(o=r,r=n),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(n===r?(r=t[1],o=t[0]):(r=t[0],o=t[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function s(e,t){return t[+(t.left!==e.site)]}function l(e,t){return t[+(t.left===e.site)]}function u(){for(var e,t,n,r,i=0,s=o["b"].length;i<s;++i)if((e=o["b"][i])&&(r=(t=e.halfedges).length)){var l=new Array(r),u=new Array(r);for(n=0;n<r;++n)l[n]=n,u[n]=a(e,o["e"][t[n]]);for(l.sort((function(e,t){return u[t]-u[e]})),n=0;n<r;++n)u[n]=t[l[n]];for(n=0;n<r;++n)t[n]=u[n]}}function c(e,t,n,i){var a,u,c,d,f,p,h,m,g,v,y,b,x=o["b"].length,w=!0;for(a=0;a<x;++a)if(u=o["b"][a]){c=u.site,f=u.halfedges,d=f.length;while(d--)o["e"][f[d]]||f.splice(d,1);d=0,p=f.length;while(d<p)v=l(u,o["e"][f[d]]),y=v[0],b=v[1],h=s(u,o["e"][f[++d%p]]),m=h[0],g=h[1],(Math.abs(y-m)>o["f"]||Math.abs(b-g)>o["f"])&&(f.splice(d,0,o["e"].push(Object(r["b"])(c,v,Math.abs(y-e)<o["f"]&&i-b>o["f"]?[e,Math.abs(m-e)<o["f"]?g:i]:Math.abs(b-i)<o["f"]&&n-y>o["f"]?[Math.abs(g-i)<o["f"]?m:n,i]:Math.abs(y-n)<o["f"]&&b-t>o["f"]?[n,Math.abs(m-n)<o["f"]?g:t]:Math.abs(b-t)<o["f"]&&y-e>o["f"]?[Math.abs(g-t)<o["f"]?m:e,t]:null))-1),++p);p&&(w=!1)}if(w){var _,C,S,k=1/0;for(a=0,w=null;a<x;++a)(u=o["b"][a])&&(c=u.site,_=c[0]-e,C=c[1]-t,S=_*_+C*C,S<k&&(k=S,w=u));if(w){var O=[e,t],T=[e,i],M=[n,i],D=[n,t];w.halfedges.push(o["e"].push(Object(r["b"])(c=w.site,O,T))-1,o["e"].push(Object(r["b"])(c,T,M))-1,o["e"].push(Object(r["b"])(c,M,D))-1,o["e"].push(Object(r["b"])(c,D,O))-1)}}for(a=0;a<x;++a)(u=o["b"][a])&&(u.halfedges.length||delete o["b"][a])}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),t["a"]=l,t["b"]=u;var r,o=n(99),i=n(49),a=[];function s(){Object(o["a"])(this),this.x=this.y=this.arc=this.site=this.cy=null}function l(e){var t=e.P,n=e.N;if(t&&n){var o=t.site,l=e.site,u=n.site;if(o!==u){var c=l[0],d=l[1],f=o[0]-c,p=o[1]-d,h=u[0]-c,m=u[1]-d,g=2*(f*m-p*h);if(!(g>=-i["g"])){var v=f*f+p*p,y=h*h+m*m,b=(m*v-p*y)/g,x=(f*y-h*v)/g,w=a.pop()||new s;w.arc=e,w.site=l,w.x=b+c,w.y=(w.cy=x+d)+Math.sqrt(b*b+x*x),e.circle=w;var _=null,C=i["c"]._;while(C)if(w.y<C.y||w.y===C.y&&w.x<=C.x){if(!C.L){_=C.P;break}C=C.L}else{if(!C.R){_=C;break}C=C.R}i["c"].insert(_,w),_||(r=w)}}}}function u(e){var t=e.circle;t&&(t.P||(r=t.N),i["c"].remove(t),a.push(t),Object(o["a"])(t),e.circle=null)}},function(e,t,n){var r=n(28),o=18,i=2*o,a=o,s={getId:function(e){return e.id||e.name},getHGap:function(e){return e.hgap||a},getVGap:function(e){return e.vgap||a},getChildren:function(e){return e.children},getHeight:function(e){return e.height||i},getWidth:function(e){var t=e.name||" ";return e.width||t.split("").length*o}};function l(e,t){var n=this;if(n.vgap=n.hgap=0,e instanceof l)return e;n.data=e;var r=t.getHGap(e),o=t.getVGap(e);return n.width=t.getWidth(e),n.height=t.getHeight(e),n.id=t.getId(e),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,o),n}function u(e,t,n){void 0===t&&(t={}),t=r.assign({},s,t);var o,i=new l(e,t),a=[i];if(!n&&!e.collapsed)while(o=a.pop())if(!o.data.collapsed){var u=t.getChildren(o.data),c=u?u.length:0;if(o.children=new Array(c),u&&c)for(var d=0;d<c;d++){var f=new l(u[d],t);o.children[d]=f,a.push(f),f.parent=o,f.depth=o.depth+1}}return i}r.assign(l.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(e,t){var n=this;n.hgap+=e,n.vgap+=t,n.width+=2*e,n.height+=2*t},eachNode:function(e){var t,n=this,r=[n];while(t=r.pop())e(t),r=r.concat(t.children)},DFTraverse:function(e){this.eachNode(e)},BFTraverse:function(e){var t,n=this,r=[n];while(t=r.shift())e(t),r=r.concat(t.children)},getBoundingBox:function(){var e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.width=Math.max(e.width,t.x+t.width),e.height=Math.max(e.height,t.y+t.height)})),e},translate:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.eachNode((function(n){n.x+=e,n.y+=t}))},right2left:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.x=e.x-2*(e.x-t.left)-e.width})),e.translate(t.width,0)},bottom2top:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.y=e.y-2*(e.y-t.top)-e.height})),e.translate(0,t.height)}}),e.exports=u},function(e,t,n){var r=n(193);e.exports=function(e,t){for(var n=r(e.data,t,!0),o=r(e.data,t,!0),i=e.children.length,a=Math.round(i/2),s=t.getSide||function(e,t){return t<a?"right":"left"},l=0;l<i;l++){var u=e.children[l],c=s(u,l);"right"===c?o.children.push(u):n.children.push(u)}return n.eachNode((function(e){e.isRoot()||(e.side="left")})),o.eachNode((function(e){e.isRoot()||(e.side="right")})),{left:n,right:o}}},function(e,t,n){n(196),n(350),n(351),n(354),n(355),n(357),n(361),n(158),n(365),n(366),n(368),n(390),n(398),n(399),n(400),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(413),n(414),n(415),n(418),n(420),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(472),n(508),n(514),n(515),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(532),n(534),n(535),e.exports=n(2)},function(e,t,n){var r=n(3),o=n(0),i=o.geoArea,a=o.geoCentroid,s=o.geoContains,l=o.geoDistance,u=o.geoLength,c=n(128),d=c.geoProject,f=n(39),p=n(141);r(f.prototype,{geoArea:function(e){return i(e)},geoAreaByName:function(e){return i(this.geoFeatureByName(e))},geoCentroid:function(e){return a(e)},geoCentroidByName:function(e){return a(this.geoFeatureByName(e))},geoDistance:function(e,t){return l(e,t)},geoLength:function(e){return u(e)},geoLengthByName:function(e){return u(this.geoFeatureByName(e))},geoContains:function(e,t){return s(e,t)},geoFeatureByName:function(e){var t,n=this.rows;return n.some((function(n){return n.name===e&&(t=n,!0)})),t},geoFeatureByPosition:function(e){var t,n=this.rows;return n.some((function(n){return!!s(n,e)&&(t=n,!0)})),t},geoNameByPosition:function(e){var t=this.geoFeatureByPosition(e);if(t)return t.name},getGeoProjection:p,geoProject:function(e,t,n){return t=p(t,n),d(e,t)},geoProjectByName:function(e,t,n){return t=p(t,n),d(this.geoFeatureByName(e),t)},geoProjectPosition:function(e,t,n){return t=p(t,n),t(e)},geoProjectInvert:function(e,t,n){return t=p(t,n),t.invert(e)}})},function(e,t,n){"use strict";var r,o,i,a,s,l,u,c,d,f,p=n(29),h=n(103),m=n(35),g=n(4),v=n(22),y=Object(p["a"])(),b={point:x,lineStart:_,lineEnd:C,polygonStart:function(){b.point=S,b.lineStart=k,b.lineEnd=O,y.reset(),h["b"].polygonStart()},polygonEnd:function(){h["b"].polygonEnd(),b.point=x,b.lineStart=_,b.lineEnd=C,h["a"]<0?(r=-(i=180),o=-(a=90)):y>g["i"]?a=90:y<-g["i"]&&(o=-90),f[0]=r,f[1]=i}};function x(e,t){d.push(f=[r=e,i=e]),t<o&&(o=t),t>a&&(a=t)}function w(e,t){var n=Object(m["a"])([e*g["r"],t*g["r"]]);if(c){var l=Object(m["c"])(c,n),u=[l[1],-l[0],0],p=Object(m["c"])(u,l);Object(m["e"])(p),p=Object(m["g"])(p);var h,v=e-s,y=v>0?1:-1,b=p[0]*g["h"]*y,x=Object(g["a"])(v)>180;x^(y*s<b&&b<y*e)?(h=p[1]*g["h"],h>a&&(a=h)):(b=(b+360)%360-180,x^(y*s<b&&b<y*e)?(h=-p[1]*g["h"],h<o&&(o=h)):(t<o&&(o=t),t>a&&(a=t))),x?e<s?T(r,e)>T(r,i)&&(i=e):T(e,i)>T(r,i)&&(r=e):i>=r?(e<r&&(r=e),e>i&&(i=e)):e>s?T(r,e)>T(r,i)&&(i=e):T(e,i)>T(r,i)&&(r=e)}else d.push(f=[r=e,i=e]);t<o&&(o=t),t>a&&(a=t),c=n,s=e}function _(){b.point=w}function C(){f[0]=r,f[1]=i,b.point=x,c=null}function S(e,t){if(c){var n=e-s;y.add(Object(g["a"])(n)>180?n+(n>0?360:-360):n)}else l=e,u=t;h["b"].point(e,t),w(e,t)}function k(){h["b"].lineStart()}function O(){S(l,u),h["b"].lineEnd(),Object(g["a"])(y)>g["i"]&&(r=-(i=180)),f[0]=r,f[1]=i,c=null}function T(e,t){return(t-=e)<0?t+360:t}function M(e,t){return e[0]-t[0]}function D(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}t["a"]=function(e){var t,n,s,l,u,c,p;if(a=i=-(r=o=1/0),d=[],Object(v["a"])(e,b),n=d.length){for(d.sort(M),t=1,s=d[0],u=[s];t<n;++t)l=d[t],D(s,l[0])||D(s,l[1])?(T(s[0],l[1])>T(s[0],s[1])&&(s[1]=l[1]),T(l[0],s[1])>T(s[0],s[1])&&(s[0]=l[0])):u.push(s=l);for(c=-1/0,n=u.length-1,t=0,s=u[n];t<=n;s=l,++t)l=u[t],(p=T(s[1],l[0]))>c&&(c=p,r=l[0],i=s[1])}return d=f=null,r===1/0||o===1/0?[[NaN,NaN],[NaN,NaN]]:[[r,o],[i,a]]}},function(e,t,n){"use strict";var r,o,i,a,s,l,u,c,d,f,p,h,m,g,v,y,b=n(4),x=n(20),w=n(22),_={sphere:x["a"],point:C,lineStart:k,lineEnd:M,polygonStart:function(){_.lineStart=D,_.lineEnd=I},polygonEnd:function(){_.lineStart=k,_.lineEnd=M}};function C(e,t){e*=b["r"],t*=b["r"];var n=Object(b["g"])(t);S(n*Object(b["g"])(e),n*Object(b["t"])(e),Object(b["t"])(t))}function S(e,t,n){++r,i+=(e-i)/r,a+=(t-a)/r,s+=(n-s)/r}function k(){_.point=O}function O(e,t){e*=b["r"],t*=b["r"];var n=Object(b["g"])(t);g=n*Object(b["g"])(e),v=n*Object(b["t"])(e),y=Object(b["t"])(t),_.point=T,S(g,v,y)}function T(e,t){e*=b["r"],t*=b["r"];var n=Object(b["g"])(t),r=n*Object(b["g"])(e),i=n*Object(b["t"])(e),a=Object(b["t"])(t),s=Object(b["e"])(Object(b["u"])((s=v*a-y*i)*s+(s=y*r-g*a)*s+(s=g*i-v*r)*s),g*r+v*i+y*a);o+=s,l+=s*(g+(g=r)),u+=s*(v+(v=i)),c+=s*(y+(y=a)),S(g,v,y)}function M(){_.point=C}function D(){_.point=E}function I(){A(h,m),_.point=C}function E(e,t){h=e,m=t,e*=b["r"],t*=b["r"],_.point=A;var n=Object(b["g"])(t);g=n*Object(b["g"])(e),v=n*Object(b["t"])(e),y=Object(b["t"])(t),S(g,v,y)}function A(e,t){e*=b["r"],t*=b["r"];var n=Object(b["g"])(t),r=n*Object(b["g"])(e),i=n*Object(b["t"])(e),a=Object(b["t"])(t),s=v*a-y*i,h=y*r-g*a,m=g*i-v*r,x=Object(b["u"])(s*s+h*h+m*m),w=Object(b["c"])(x),_=x&&-w/x;d+=_*s,f+=_*h,p+=_*m,o+=w,l+=w*(g+(g=r)),u+=w*(v+(v=i)),c+=w*(y+(y=a)),S(g,v,y)}t["a"]=function(e){r=o=i=a=s=l=u=c=d=f=p=0,Object(w["a"])(e,_);var t=d,n=f,h=p,m=t*t+n*n+h*h;return m<b["j"]&&(t=l,n=u,h=c,o<b["i"]&&(t=i,n=a,h=s),m=t*t+n*n+h*h,m<b["j"])?[NaN,NaN]:[Object(b["e"])(n,t)*b["h"],Object(b["c"])(h/Object(b["u"])(m))*b["h"]]}},function(e,t,n){"use strict";t["a"]=function(e){return function(){return e}}},function(e,t,n){"use strict";t["a"]=function(e,t,n,r,o,i){var a,s=e[0],l=e[1],u=t[0],c=t[1],d=0,f=1,p=u-s,h=c-l;if(a=n-s,p||!(a>0)){if(a/=p,p<0){if(a<d)return;a<f&&(f=a)}else if(p>0){if(a>f)return;a>d&&(d=a)}if(a=o-s,p||!(a<0)){if(a/=p,p<0){if(a>f)return;a>d&&(d=a)}else if(p>0){if(a<d)return;a<f&&(f=a)}if(a=r-l,h||!(a>0)){if(a/=h,h<0){if(a<d)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>d&&(d=a)}if(a=i-l,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>d&&(d=a)}else if(h>0){if(a<d)return;a<f&&(f=a)}return d>0&&(e[0]=s+d*p,e[1]=l+d*h),f<1&&(t[0]=s+f*p,t[1]=l+f*h),!0}}}}}},function(e,t,n){"use strict";var r=n(111);t["a"]=function(e,t,n){var o,i,a,s,l=e.length,u=t.length,c=new Array(l*u);for(null==n&&(n=r["b"]),o=a=0;o<l;++o)for(s=e[o],i=0;i<u;++i,++a)c[a]=n(s,t[i]);return c}},function(e,t,n){"use strict";t["a"]=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}},function(e,t,n){"use strict";var r=n(115),o=n(109),i=n(204),a=n(114),s=n(205),l=n(116),u=n(117),c=n(118);t["a"]=function(){var e=s["a"],t=a["a"],n=c["a"];function d(r){var i,a,s=r.length,c=new Array(s);for(i=0;i<s;++i)c[i]=e(r[i],i,r);var d=t(c),f=d[0],p=d[1],h=n(c,f,p);Array.isArray(h)||(h=Object(u["c"])(f,p,h),h=Object(l["a"])(Math.ceil(f/h)*h,Math.floor(p/h)*h,h));var m=h.length;while(h[0]<=f)h.shift(),--m;while(h[m-1]>p)h.pop(),--m;var g,v=new Array(m+1);for(i=0;i<=m;++i)g=v[i]=[],g.x0=i>0?h[i-1]:f,g.x1=i<m?h[i]:p;for(i=0;i<s;++i)a=c[i],f<=a&&a<=p&&v[Object(o["c"])(h,a,0,m)].push(r[i]);return v}return d.value=function(t){return arguments.length?(e="function"===typeof t?t:Object(i["a"])(t),d):e},d.domain=function(e){return arguments.length?(t="function"===typeof e?e:Object(i["a"])([e[0],e[1]]),d):t},d.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?Object(i["a"])(r["b"].call(e)):Object(i["a"])(e),d):n},d}},function(e,t,n){"use strict";t["a"]=function(e){return function(){return e}}},function(e,t,n){"use strict";t["a"]=function(e){return e}},function(e,t,n){"use strict";var r=n(115),o=n(30),i=n(36),a=n(66);t["a"]=function(e,t,n){return e=r["a"].call(e,i["a"]).sort(o["a"]),Math.ceil((n-t)/(2*(Object(a["a"])(e,.75)-Object(a["a"])(e,.25))*Math.pow(e.length,-1/3)))}},function(e,t,n){"use strict";var r=n(112);t["a"]=function(e,t,n){return Math.ceil((n-t)/(3.5*Object(r["a"])(e)*Math.pow(e.length,-1/3)))}},function(e,t,n){"use strict";t["a"]=function(e,t){var n,r,o=e.length,i=-1;if(null==t){while(++i<o)if(null!=(n=e[i])&&n>=n){r=n;while(++i<o)null!=(n=e[i])&&n>r&&(r=n)}}else while(++i<o)if(null!=(n=t(e[i],i,e))&&n>=n){r=n;while(++i<o)null!=(n=t(e[i],i,e))&&n>r&&(r=n)}return r}},function(e,t,n){"use strict";var r=n(36);t["a"]=function(e,t){var n,o=e.length,i=o,a=-1,s=0;if(null==t)while(++a<o)isNaN(n=Object(r["a"])(e[a]))?--i:s+=n;else while(++a<o)isNaN(n=Object(r["a"])(t(e[a],a,e)))?--i:s+=n;if(i)return s/i}},function(e,t,n){"use strict";var r=n(30),o=n(36),i=n(66);t["a"]=function(e,t){var n,a=e.length,s=-1,l=[];if(null==t)while(++s<a)isNaN(n=Object(o["a"])(e[s]))||l.push(n);else while(++s<a)isNaN(n=Object(o["a"])(t(e[s],s,e)))||l.push(n);return Object(i["a"])(l.sort(r["a"]),.5)}},function(e,t,n){"use strict";t["a"]=function(e){var t,n,r,o=e.length,i=-1,a=0;while(++i<o)a+=e[i].length;n=new Array(a);while(--o>=0){r=e[o],t=r.length;while(--t>=0)n[--a]=r[t]}return n}},function(e,t,n){"use strict";t["a"]=function(e,t){var n=t.length,r=new Array(n);while(n--)r[n]=e[t[n]];return r}},function(e,t,n){"use strict";var r=n(30);t["a"]=function(e,t){if(n=e.length){var n,o,i=0,a=0,s=e[a];null==t&&(t=r["a"]);while(++i<n)(t(o=e[i],s)<0||0!==t(s,s))&&(s=o,a=i);return 0===t(s,s)?a:void 0}}},function(e,t,n){"use strict";t["a"]=function(e,t,n){var r,o,i=(null==n?e.length:n)-(t=null==t?0:+t);while(i)o=Math.random()*i--|0,r=e[i+t],e[i+t]=e[o+t],e[o+t]=r;return e}},function(e,t,n){"use strict";t["a"]=function(e,t){var n,r=e.length,o=-1,i=0;if(null==t)while(++o<r)(n=+e[o])&&(i+=n);else while(++o<r)(n=+t(e[o],o,e))&&(i+=n);return i}},function(e,t,n){"use strict";var r=n(120);t["a"]=function(){return Object(r["a"])(arguments)}},function(e,t,n){"use strict";var r=n(121),o=n(122),i=n(4),a={Feature:function(e,t){return l(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,r=-1,o=n.length;while(++r<o)if(l(n[r].geometry,t))return!0;return!1}},s={Sphere:function(){return!0},Point:function(e,t){return u(e.coordinates,t)},MultiPoint:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)if(u(n[r],t))return!0;return!1},LineString:function(e,t){return c(e.coordinates,t)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)if(c(n[r],t))return!0;return!1},Polygon:function(e,t){return d(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)if(d(n[r],t))return!0;return!1},GeometryCollection:function(e,t){var n=e.geometries,r=-1,o=n.length;while(++r<o)if(l(n[r],t))return!0;return!1}};function l(e,t){return!(!e||!s.hasOwnProperty(e.type))&&s[e.type](e,t)}function u(e,t){return 0===Object(o["a"])(e,t)}function c(e,t){var n=Object(o["a"])(e[0],e[1]),r=Object(o["a"])(e[0],t),a=Object(o["a"])(t,e[1]);return r+a<=n+i["i"]}function d(e,t){return!!Object(r["a"])(e.map(f),p(t))}function f(e){return e=e.map(p),e.pop(),e}function p(e){return[e[0]*i["r"],e[1]*i["r"]]}t["a"]=function(e,t){return(e&&a.hasOwnProperty(e.type)?a[e.type]:l)(e,t)}},function(e,t,n){"use strict";t["a"]=s,t["b"]=l;var r=n(14),o=n(4);function i(e,t,n){var i=Object(r["range"])(e,t-o["i"],n).concat(t);return function(e){return i.map((function(t){return[e,t]}))}}function a(e,t,n){var i=Object(r["range"])(e,t-o["i"],n).concat(t);return function(e){return i.map((function(t){return[t,e]}))}}function s(){var e,t,n,s,l,u,c,d,f,p,h,m,g=10,v=g,y=90,b=360,x=2.5;function w(){return{type:"MultiLineString",coordinates:_()}}function _(){return Object(r["range"])(Object(o["f"])(s/y)*y,n,y).map(h).concat(Object(r["range"])(Object(o["f"])(d/b)*b,c,b).map(m)).concat(Object(r["range"])(Object(o["f"])(t/g)*g,e,g).filter((function(e){return Object(o["a"])(e%y)>o["i"]})).map(f)).concat(Object(r["range"])(Object(o["f"])(u/v)*v,l,v).filter((function(e){return Object(o["a"])(e%b)>o["i"]})).map(p))}return w.lines=function(){return _().map((function(e){return{type:"LineString",coordinates:e}}))},w.outline=function(){return{type:"Polygon",coordinates:[h(s).concat(m(c).slice(1),h(n).reverse().slice(1),m(d).reverse().slice(1))]}},w.extent=function(e){return arguments.length?w.extentMajor(e).extentMinor(e):w.extentMinor()},w.extentMajor=function(e){return arguments.length?(s=+e[0][0],n=+e[1][0],d=+e[0][1],c=+e[1][1],s>n&&(e=s,s=n,n=e),d>c&&(e=d,d=c,c=e),w.precision(x)):[[s,d],[n,c]]},w.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],u=+n[0][1],l=+n[1][1],t>e&&(n=t,t=e,e=n),u>l&&(n=u,u=l,l=n),w.precision(x)):[[t,u],[e,l]]},w.step=function(e){return arguments.length?w.stepMajor(e).stepMinor(e):w.stepMinor()},w.stepMajor=function(e){return arguments.length?(y=+e[0],b=+e[1],w):[y,b]},w.stepMinor=function(e){return arguments.length?(g=+e[0],v=+e[1],w):[g,v]},w.precision=function(r){return arguments.length?(x=+r,f=i(u,l,90),p=a(t,e,x),h=i(d,c,90),m=a(s,n,x),w):x},w.extentMajor([[-180,-90+o["i"]],[180,90-o["i"]]]).extentMinor([[-180,-80-o["i"]],[180,80+o["i"]]])}function l(){return s()()}},function(e,t,n){"use strict";var r=n(4);t["a"]=function(e,t){var n=e[0]*r["r"],o=e[1]*r["r"],i=t[0]*r["r"],a=t[1]*r["r"],s=Object(r["g"])(o),l=Object(r["t"])(o),u=Object(r["g"])(a),c=Object(r["t"])(a),d=s*Object(r["g"])(n),f=s*Object(r["t"])(n),p=u*Object(r["g"])(i),h=u*Object(r["t"])(i),m=2*Object(r["c"])(Object(r["u"])(Object(r["m"])(a-o)+s*u*Object(r["m"])(i-n))),g=Object(r["t"])(m),v=m?function(e){var t=Object(r["t"])(e*=m)/g,n=Object(r["t"])(m-e)/g,o=n*d+t*p,i=n*f+t*h,a=n*l+t*c;return[Object(r["e"])(i,o)*r["h"],Object(r["e"])(a,Object(r["u"])(o*o+i*i))*r["h"]]}:function(){return[n*r["h"],o*r["h"]]};return v.distance=m,v}},function(e,t,n){"use strict";var r=n(67),o=n(22),i=n(221),a=n(124),s=n(222),l=n(223),u=n(224),c=n(225);t["a"]=function(e,t){var n,d,f=4.5;function p(e){return e&&("function"===typeof f&&d.pointRadius(+f.apply(this,arguments)),Object(o["a"])(e,n(d))),d.result()}return p.area=function(e){return Object(o["a"])(e,n(i["a"])),i["a"].result()},p.measure=function(e){return Object(o["a"])(e,n(u["a"])),u["a"].result()},p.bounds=function(e){return Object(o["a"])(e,n(a["a"])),a["a"].result()},p.centroid=function(e){return Object(o["a"])(e,n(s["a"])),s["a"].result()},p.projection=function(t){return arguments.length?(n=null==t?(e=null,r["a"]):(e=t).stream,p):e},p.context=function(e){return arguments.length?(d=null==e?(t=null,new c["a"]):new l["a"](t=e),"function"!==typeof f&&d.pointRadius(f),p):t},p.pointRadius=function(e){return arguments.length?(f="function"===typeof e?e:(d.pointRadius(+e),+e),p):f},p.projection(e).context(t)}},function(e,t,n){"use strict";var r,o,i,a,s=n(29),l=n(4),u=n(20),c=Object(s["a"])(),d=Object(s["a"])(),f={point:u["a"],lineStart:u["a"],lineEnd:u["a"],polygonStart:function(){f.lineStart=p,f.lineEnd=g},polygonEnd:function(){f.lineStart=f.lineEnd=f.point=u["a"],c.add(Object(l["a"])(d)),d.reset()},result:function(){var e=c/2;return c.reset(),e}};function p(){f.point=h}function h(e,t){f.point=m,r=i=e,o=a=t}function m(e,t){d.add(a*e-i*t),i=e,a=t}function g(){m(r,o)}t["a"]=f},function(e,t,n){"use strict";var r,o,i,a,s=n(4),l=0,u=0,c=0,d=0,f=0,p=0,h=0,m=0,g=0,v={point:y,lineStart:b,lineEnd:_,polygonStart:function(){v.lineStart=C,v.lineEnd=S},polygonEnd:function(){v.point=y,v.lineStart=b,v.lineEnd=_},result:function(){var e=g?[h/g,m/g]:p?[d/p,f/p]:c?[l/c,u/c]:[NaN,NaN];return l=u=c=d=f=p=h=m=g=0,e}};function y(e,t){l+=e,u+=t,++c}function b(){v.point=x}function x(e,t){v.point=w,y(i=e,a=t)}function w(e,t){var n=e-i,r=t-a,o=Object(s["u"])(n*n+r*r);d+=o*(i+e)/2,f+=o*(a+t)/2,p+=o,y(i=e,a=t)}function _(){v.point=y}function C(){v.point=k}function S(){O(r,o)}function k(e,t){v.point=O,y(r=i=e,o=a=t)}function O(e,t){var n=e-i,r=t-a,o=Object(s["u"])(n*n+r*r);d+=o*(i+e)/2,f+=o*(a+t)/2,p+=o,o=a*e-i*t,h+=o*(i+e),m+=o*(a+t),g+=3*o,y(i=e,a=t)}t["a"]=v},function(e,t,n){"use strict";t["a"]=i;var r=n(4),o=n(20);function i(e){this._context=e}i.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,r["w"]);break}},result:o["a"]}},function(e,t,n){"use strict";var r,o,i,a,s,l=n(29),u=n(4),c=n(20),d=Object(l["a"])(),f={point:c["a"],lineStart:function(){f.point=p},lineEnd:function(){r&&h(o,i),f.point=c["a"]},polygonStart:function(){r=!0},polygonEnd:function(){r=null},result:function(){var e=+d;return d.reset(),e}};function p(e,t){f.point=h,o=a=e,i=s=t}function h(e,t){a-=e,s-=t,d.add(Object(u["u"])(a*a+s*s)),a=e,s=t}t["a"]=f},function(e,t,n){"use strict";function r(){this._string=[]}function o(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}t["a"]=r,r.prototype={_radius:4.5,_circle:o(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=o(this._radius)),this._string.push("M",e,",",t,this._circle);break}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}}},function(e,t,n){"use strict";var r=n(126),o=n(4);function i(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(s,l){var u=s>0?o["o"]:-o["o"],c=Object(o["a"])(s-n);Object(o["a"])(c-o["o"])<o["i"]?(e.point(n,r=(r+l)/2>0?o["l"]:-o["l"]),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),e.point(s,r),t=0):i!==u&&c>=o["o"]&&(Object(o["a"])(n-i)<o["i"]&&(n-=i*o["i"]),Object(o["a"])(s-u)<o["i"]&&(s-=u*o["i"]),r=a(n,r,s,l),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),t=0),e.point(n=s,r=l),i=u},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function a(e,t,n,r){var i,a,s=Object(o["t"])(e-n);return Object(o["a"])(s)>o["i"]?Object(o["d"])((Object(o["t"])(t)*(a=Object(o["g"])(r))*Object(o["t"])(n)-Object(o["t"])(r)*(i=Object(o["g"])(t))*Object(o["t"])(e))/(i*a*s)):(t+r)/2}function s(e,t,n,r){var i;if(null==e)i=n*o["l"],r.point(-o["o"],i),r.point(0,i),r.point(o["o"],i),r.point(o["o"],0),r.point(o["o"],-i),r.point(0,-i),r.point(-o["o"],-i),r.point(-o["o"],0),r.point(-o["o"],i);else if(Object(o["a"])(e[0]-t[0])>o["i"]){var a=e[0]<t[0]?o["o"]:-o["o"];i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}t["a"]=Object(r["a"])((function(){return!0}),i,s,[-o["o"],-o["l"]])},function(e,t,n){"use strict";var r=n(35),o=n(104),i=n(4),a=n(108),s=n(126);t["a"]=function(e,t){var n=Object(i["g"])(e),l=n>0,u=Object(i["a"])(n)>i["i"];function c(n,r,i,a){Object(o["a"])(a,e,t,i,n,r)}function d(e,t){return Object(i["g"])(e)*Object(i["g"])(t)>n}function f(e){var t,n,r,o,s;return{lineStart:function(){o=r=!1,s=1},point:function(c,f){var m,g=[c,f],v=d(c,f),y=l?v?0:h(c,f):v?h(c+(c<0?i["o"]:-i["o"]),f):0;if(!t&&(o=r=v)&&e.lineStart(),v!==r&&(m=p(t,g),(!m||Object(a["a"])(t,m)||Object(a["a"])(g,m))&&(g[0]+=i["i"],g[1]+=i["i"],v=d(g[0],g[1]))),v!==r)s=0,v?(e.lineStart(),m=p(g,t),e.point(m[0],m[1])):(m=p(t,g),e.point(m[0],m[1]),e.lineEnd()),t=m;else if(u&&t&&l^v){var b;y&n||!(b=p(g,t,!0))||(s=0,l?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1])))}!v||t&&Object(a["a"])(t,g)||e.point(g[0],g[1]),t=g,r=v,n=y},lineEnd:function(){r&&e.lineEnd(),t=null},clean:function(){return s|(o&&r)<<1}}}function p(e,t,o){var a=Object(r["a"])(e),s=Object(r["a"])(t),l=[1,0,0],u=Object(r["c"])(a,s),c=Object(r["d"])(u,u),d=u[0],f=c-d*d;if(!f)return!o&&e;var p=n*c/f,h=-n*d/f,m=Object(r["c"])(l,u),g=Object(r["f"])(l,p),v=Object(r["f"])(u,h);Object(r["b"])(g,v);var y=m,b=Object(r["d"])(g,y),x=Object(r["d"])(y,y),w=b*b-x*(Object(r["d"])(g,g)-1);if(!(w<0)){var _=Object(i["u"])(w),C=Object(r["f"])(y,(-b-_)/x);if(Object(r["b"])(C,g),C=Object(r["g"])(C),!o)return C;var S,k=e[0],O=t[0],T=e[1],M=t[1];O<k&&(S=k,k=O,O=S);var D=O-k,I=Object(i["a"])(D-i["o"])<i["i"],E=I||D<i["i"];if(!I&&M<T&&(S=T,T=M,M=S),E?I?T+M>0^C[1]<(Object(i["a"])(C[0]-k)<i["i"]?T:M):T<=C[1]&&C[1]<=M:D>i["o"]^(k<=C[0]&&C[0]<=O)){var A=Object(r["f"])(y,(-b+_)/x);return Object(r["b"])(A,g),[C,Object(r["g"])(A)]}}}function h(t,n){var r=l?e:i["o"]-e,o=0;return t<-r?o|=1:t>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return Object(s["a"])(d,f,c,l?[0,-e]:[-i["o"],e-i["o"]])}},function(e,t,n){"use strict";var r=n(35),o=n(4),i=n(51),a=16,s=Object(o["g"])(30*o["r"]);function l(e){return Object(i["b"])({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function u(e,t){function n(r,i,a,l,u,c,d,f,p,h,m,g,v,y){var b=d-r,x=f-i,w=b*b+x*x;if(w>4*t&&v--){var _=l+h,C=u+m,S=c+g,k=Object(o["u"])(_*_+C*C+S*S),O=Object(o["c"])(S/=k),T=Object(o["a"])(Object(o["a"])(S)-1)<o["i"]||Object(o["a"])(a-p)<o["i"]?(a+p)/2:Object(o["e"])(C,_),M=e(T,O),D=M[0],I=M[1],E=D-r,A=I-i,L=x*E-b*A;(L*L/w>t||Object(o["a"])((b*E+x*A)/w-.5)>.3||l*h+u*m+c*g<s)&&(n(r,i,a,l,u,c,D,I,T,_/=k,C/=k,S,v,y),y.point(D,I),n(D,I,T,_,C,S,d,f,p,h,m,g,v,y))}}return function(t){var o,i,s,l,u,c,d,f,p,h,m,g,v={point:y,lineStart:b,lineEnd:w,polygonStart:function(){t.polygonStart(),v.lineStart=_},polygonEnd:function(){t.polygonEnd(),v.lineStart=b}};function y(n,r){n=e(n,r),t.point(n[0],n[1])}function b(){f=NaN,v.point=x,t.lineStart()}function x(o,i){var s=Object(r["a"])([o,i]),l=e(o,i);n(f,p,d,h,m,g,f=l[0],p=l[1],d=o,h=s[0],m=s[1],g=s[2],a,t),t.point(f,p)}function w(){v.point=y,t.lineEnd()}function _(){b(),v.point=C,v.lineEnd=S}function C(e,t){x(o=e,t),i=f,s=p,l=h,u=m,c=g,v.point=x}function S(){n(f,p,d,h,m,g,i,s,o,l,u,c,a,t),v.lineEnd=w,w()}return v}}t["a"]=function(e,t){return+t?u(e,t):l(e)}},function(e,t,n){"use strict";t["a"]=o;var r=n(4);function o(e){var t=Object(r["g"])(e);function n(e,n){return[e*t,Object(r["t"])(n)/t]}return n.invert=function(e,n){return[e/t,Object(r["c"])(n*t)]},n}},function(e,t,n){"use strict";var r=n(4),o=n(125),i=n(68),a=n(70);function s(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}t["a"]=function(){var e,t,n,l,u,c,d=Object(o["a"])(),f=Object(i["b"])().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p=Object(i["b"])().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(e,t){c=[e,t]}};function m(e){var t=e[0],r=e[1];return c=null,n.point(t,r),c||(l.point(t,r),c)||(u.point(t,r),c)}function g(){return e=t=null,m}return m.invert=function(e){var t=d.scale(),n=d.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?f:o>=.166&&o<.234&&r>=-.214&&r<-.115?p:d).invert(e)},m.stream=function(n){return e&&t===n?e:e=s([d.stream(t=n),f.stream(n),p.stream(n)])},m.precision=function(e){return arguments.length?(d.precision(e),f.precision(e),p.precision(e),g()):d.precision()},m.scale=function(e){return arguments.length?(d.scale(e),f.scale(.35*e),p.scale(e),m.translate(d.translate())):d.scale()},m.translate=function(e){if(!arguments.length)return d.translate();var t=d.scale(),o=+e[0],i=+e[1];return n=d.translate(e).clipExtent([[o-.455*t,i-.238*t],[o+.455*t,i+.238*t]]).stream(h),l=f.translate([o-.307*t,i+.201*t]).clipExtent([[o-.425*t+r["i"],i+.12*t+r["i"]],[o-.214*t-r["i"],i+.234*t-r["i"]]]).stream(h),u=p.translate([o-.205*t,i+.212*t]).clipExtent([[o-.214*t+r["i"],i+.166*t+r["i"]],[o-.115*t-r["i"],i+.234*t-r["i"]]]).stream(h),g()},m.fitExtent=function(e,t){return Object(a["a"])(m,e,t)},m.fitSize=function(e,t){return Object(a["b"])(m,e,t)},m.scale(1070)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),o=n(37),i=n(17),a=Object(o["b"])((function(e){return Object(r["u"])(2/(1+e))}));a.invert=Object(o["a"])((function(e){return 2*Object(r["c"])(e/2)})),t["b"]=function(){return Object(i["a"])(a).scale(124.75).clipAngle(179.999)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),o=n(37),i=n(17),a=Object(o["b"])((function(e){return(e=Object(r["b"])(e))&&e/Object(r["t"])(e)}));a.invert=Object(o["a"])((function(e){return e})),t["b"]=function(){return Object(i["a"])(a).scale(79.4188).clipAngle(179.999)}},function(e,t,n){"use strict";t["a"]=s;var r=n(4),o=n(69),i=n(71);function a(e){return Object(r["v"])((r["l"]+e)/2)}function s(e,t){var n=Object(r["g"])(e),o=e===t?Object(r["t"])(e):Object(r["n"])(n/Object(r["g"])(t))/Object(r["n"])(a(t)/a(e)),s=n*Object(r["p"])(a(e),o)/o;if(!o)return i["c"];function l(e,t){s>0?t<-r["l"]+r["i"]&&(t=-r["l"]+r["i"]):t>r["l"]-r["i"]&&(t=r["l"]-r["i"]);var n=s/Object(r["p"])(a(t),o);return[n*Object(r["t"])(o*e),s-n*Object(r["g"])(o*e)]}return l.invert=function(e,t){var n=s-t,i=Object(r["s"])(o)*Object(r["u"])(e*e+n*n);return[Object(r["e"])(e,Object(r["a"])(n))/o*Object(r["s"])(n),2*Object(r["d"])(Object(r["p"])(s/i,1/o))-r["l"]]},l}t["b"]=function(){return Object(o["a"])(s).scale(109.5).parallels([30,30])}},function(e,t,n){"use strict";t["a"]=a;var r=n(4),o=n(69),i=n(127);function a(e,t){var n=Object(r["g"])(e),o=e===t?Object(r["t"])(e):(n-Object(r["g"])(t))/(t-e),a=n/o+e;if(Object(r["a"])(o)<r["i"])return i["b"];function s(e,t){var n=a-t,i=o*e;return[n*Object(r["t"])(i),a-n*Object(r["g"])(i)]}return s.invert=function(e,t){var n=a-t;return[Object(r["e"])(e,Object(r["a"])(n))/o*Object(r["s"])(n),a-Object(r["s"])(o)*Object(r["u"])(e*e+n*n)]},s}t["b"]=function(){return Object(o["a"])(a).scale(131.154).center([0,13.9389])}},function(e,t,n){"use strict";t["b"]=a;var r=n(4),o=n(37),i=n(17);function a(e,t){var n=Object(r["g"])(t),o=Object(r["g"])(e)*n;return[n*Object(r["t"])(e)/o,Object(r["t"])(t)/o]}a.invert=Object(o["a"])(r["d"]),t["a"]=function(){return Object(i["a"])(a).scale(144.049).clipAngle(60)}},function(e,t,n){"use strict";var r=n(65),o=n(67),i=n(51),a=n(70);function s(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?o["a"]:Object(i["b"])({point:function(o,i){this.stream.point(o*e+n,i*t+r)}})}t["a"]=function(){var e,t,n,i,l,u,c=1,d=0,f=0,p=1,h=1,m=o["a"],g=null,v=o["a"];function y(){return i=l=null,u}return u={stream:function(e){return i&&l===e?i:i=m(v(l=e))},clipExtent:function(i){return arguments.length?(v=null==i?(g=e=t=n=null,o["a"]):Object(r["a"])(g=+i[0][0],e=+i[0][1],t=+i[1][0],n=+i[1][1]),y()):null==g?null:[[g,e],[t,n]]},scale:function(e){return arguments.length?(m=s((c=+e)*p,c*h,d,f),y()):c},translate:function(e){return arguments.length?(m=s(c*p,c*h,d=+e[0],f=+e[1]),y()):[d,f]},reflectX:function(e){return arguments.length?(m=s(c*(p=e?-1:1),c*h,d,f),y()):p<0},reflectY:function(e){return arguments.length?(m=s(c*p,c*(h=e?-1:1),d,f),y()):h<0},fitExtent:function(e,t){return Object(a["a"])(u,e,t)},fitSize:function(e,t){return Object(a["b"])(u,e,t)}}}},function(e,t,n){"use strict";t["b"]=a;var r=n(4),o=n(37),i=n(17);function a(e,t){return[Object(r["g"])(t)*Object(r["t"])(e),Object(r["t"])(t)]}a.invert=Object(o["a"])(r["c"]),t["a"]=function(){return Object(i["a"])(a).scale(249.5).clipAngle(90+r["i"])}},function(e,t,n){"use strict";t["b"]=a;var r=n(4),o=n(37),i=n(17);function a(e,t){var n=Object(r["g"])(t),o=1+Object(r["g"])(e)*n;return[n*Object(r["t"])(e)/o,Object(r["t"])(t)/o]}a.invert=Object(o["a"])((function(e){return 2*Object(r["d"])(e)})),t["a"]=function(){return Object(i["a"])(a).scale(250).clipAngle(142)}},function(e,t,n){"use strict";t["b"]=i;var r=n(4),o=n(71);function i(e,t){return[Object(r["n"])(Object(r["v"])((r["l"]+t)/2)),-e]}i.invert=function(e,t){return[-t,2*Object(r["d"])(Object(r["k"])(e))-r["l"]]},t["a"]=function(){var e=Object(o["b"])(i),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90]).scale(159.155)}},function(e,t,n){"use strict";t["a"]=i;var r=n(0),o=n(1);function i(e){var t=Object(o["F"])(e/2),n=2*Object(o["p"])(Object(o["h"])(e/2))/(t*t);function r(e,t){var r=Object(o["h"])(e),i=Object(o["h"])(t),a=Object(o["y"])(t),s=i*r,l=-((1-s?Object(o["p"])((1+s)/2)/(1-s):-.5)+n/(1+s));return[l*i*Object(o["y"])(e),l*a]}return r.invert=function(t,r){var i,a=Object(o["B"])(t*t+r*r),s=-e/2,l=50;if(!a)return[0,0];do{var u=s/2,c=Object(o["h"])(u),d=Object(o["y"])(u),f=Object(o["F"])(u),p=Object(o["p"])(1/c);s-=i=(2/f*p-n*f-a)/(-p/(d*d)+1-n/(2*c*c))}while(Object(o["a"])(i)>o["k"]&&--l>0);var h=Object(o["y"])(s);return[Object(o["g"])(t*h,a*Object(o["h"])(s)),Object(o["e"])(r*h/a)]},r}t["b"]=function(){var e=o["o"],t=Object(r["geoProjectionMutator"])(i),n=t(e);return n.radius=function(n){return arguments.length?t(e=n*o["v"]):e*o["j"]},n.scale(179.976).clipAngle(147)}},function(e,t,n){"use strict";t["a"]=i;var r=n(0),o=n(1);function i(e){var t=Object(o["y"])(e),n=Object(o["h"])(e),r=e>=0?1:-1,i=Object(o["F"])(r*e),a=(1+t-n)/2;function s(e,s){var l=Object(o["h"])(s),u=Object(o["h"])(e/=2);return[(1+l)*Object(o["y"])(e),(r*s>-Object(o["g"])(u,i)-.001?0:10*-r)+a+Object(o["y"])(s)*n-(1+l)*t*u]}return s.invert=function(e,s){var l=0,u=0,c=50;do{var d=Object(o["h"])(l),f=Object(o["y"])(l),p=Object(o["h"])(u),h=Object(o["y"])(u),m=1+p,g=m*f-e,v=a+h*n-m*t*d-s,y=m*d/2,b=-f*h,x=t*m*f/2,w=n*p+t*d*h,_=b*x-w*y,C=(v*b-g*w)/_/2,S=(g*x-v*y)/_;l-=C,u-=S}while((Object(o["a"])(C)>o["k"]||Object(o["a"])(S)>o["k"])&&--c>0);return r*u>-Object(o["g"])(Object(o["h"])(l),i)-.001?[2*l,u]:null},s}t["b"]=function(){var e=20*o["v"],t=e>=0?1:-1,n=Object(o["F"])(t*e),a=Object(r["geoProjectionMutator"])(i),s=a(e),l=s.stream;return s.parallel=function(r){return arguments.length?(n=Object(o["F"])((t=(e=r*o["v"])>=0?1:-1)*e),a(e)):e*o["j"]},s.stream=function(r){var i=s.rotate(),a=l(r),u=(s.rotate([0,0]),l(r));return s.rotate(i),a.sphere=function(){u.polygonStart(),u.lineStart();for(var r=-180*t;t*r<180;r+=90*t)u.point(r,90*t);while(t*(r-=e)>=-180)u.point(r,t*-Object(o["g"])(Object(o["h"])(r*o["v"]/2),n)*o["j"]);u.lineEnd(),u.polygonEnd()},a},s.scale(218.695).center([0,28.0974])}},function(e,t,n){"use strict";t["a"]=s;var r=n(0),o=n(1),i=Object(o["B"])(8),a=Object(o["p"])(1+o["D"]);function s(e,t){var n=Object(o["a"])(t);return n<o["u"]?[e,Object(o["p"])(Object(o["F"])(o["u"]+t/2))]:[e*Object(o["h"])(n)*(2*o["D"]-1/Object(o["y"])(n)),Object(o["x"])(t)*(2*o["D"]*(n-o["u"])-Object(o["p"])(Object(o["F"])(n/2)))]}s.invert=function(e,t){if((r=Object(o["a"])(t))<a)return[e,2*Object(o["f"])(Object(o["m"])(t))-o["o"]];var n,r,s=o["u"],l=25;do{var u=Object(o["h"])(s/2),c=Object(o["F"])(s/2);s-=n=(i*(s-o["u"])-Object(o["p"])(c)-r)/(i-u*u/(2*c))}while(Object(o["a"])(n)>o["l"]&&--l>0);return[e/(Object(o["h"])(s)*(i-1/Object(o["y"])(s))),Object(o["x"])(t)*s]},t["b"]=function(){return Object(r["geoProjection"])(s).scale(112.314)}},function(e,t,n){"use strict";t["a"]=i;var r=n(0),o=n(1);function i(e){var t=2*o["s"]/e;function n(e,n){var i=Object(r["geoAzimuthalEquidistantRaw"])(e,n);if(Object(o["a"])(e)>o["o"]){var a=Object(o["g"])(i[1],i[0]),s=Object(o["B"])(i[0]*i[0]+i[1]*i[1]),l=t*Object(o["w"])((a-o["o"])/t)+o["o"],u=Object(o["g"])(Object(o["y"])(a-=l),2-Object(o["h"])(a));a=l+Object(o["e"])(o["s"]/s*Object(o["y"])(u))-u,i[0]=s*Object(o["h"])(a),i[1]=s*Object(o["y"])(a)}return i}return n.invert=function(e,n){var i=Object(o["B"])(e*e+n*n);if(i>o["o"]){var a=Object(o["g"])(n,e),s=t*Object(o["w"])((a-o["o"])/t)+o["o"],l=a>s?-1:1,u=i*Object(o["h"])(s-a),c=1/Object(o["F"])(l*Object(o["b"])((u-o["s"])/Object(o["B"])(o["s"]*(o["s"]-2*u)+i*i)));a=s+2*Object(o["f"])((c+l*Object(o["B"])(c*c-3))/3),e=i*Object(o["h"])(a),n=i*Object(o["y"])(a)}return r["geoAzimuthalEquidistantRaw"].invert(e,n)},n}t["b"]=function(){var e=5,t=Object(r["geoProjectionMutator"])(i),n=t(e),a=n.stream,s=.01,l=-Object(o["h"])(s*o["v"]),u=Object(o["y"])(s*o["v"]);return n.lobes=function(n){return arguments.length?t(e=+n):e},n.stream=function(t){var r=n.rotate(),i=a(t),c=(n.rotate([0,0]),a(t));return n.rotate(r),i.sphere=function(){c.polygonStart(),c.lineStart();for(var t=0,n=360/e,r=2*o["s"]/e,i=90-180/e,a=o["o"];t<e;++t,i-=n,a-=r)c.point(Object(o["g"])(u*Object(o["h"])(a),l)*o["j"],Object(o["e"])(u*Object(o["y"])(a))*o["j"]),i<-90?(c.point(-90,-180-i-s),c.point(-90,-180-i+s)):(c.point(90,i+s),c.point(90,i-s));c.lineEnd(),c.polygonEnd()},i},n.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}},function(e,t,n){"use strict";t["a"]=a;var r=n(31),o=n(1),i=n(38);function a(e){if(!e)return i["b"];var t=1/Object(o["F"])(e);function n(n,r){var i=t+e-r,a=i?n*Object(o["h"])(r)/i:i;return[i*Object(o["y"])(a),t-i*Object(o["h"])(a)]}return n.invert=function(n,r){var i=Object(o["B"])(n*n+(r=t-r)*r),a=t+e-i;return[i/Object(o["h"])(a)*Object(o["g"])(n,r),a]},n}t["b"]=function(){return Object(r["a"])(a).scale(123.082).center([0,26.1441]).parallel(45)}},function(e,t,n){"use strict";t["a"]=i;var r=n(0),o=n(1);function i(e){function t(t,n){var r=o["o"]-n,i=r?t*e*Object(o["y"])(r)/r:r;return[r*Object(o["y"])(i)/e,o["o"]-r*Object(o["h"])(i)]}return t.invert=function(t,n){var r=t*e,i=o["o"]-n,a=Object(o["B"])(r*r+i*i),s=Object(o["g"])(r,i);return[(a?a/Object(o["y"])(a):1)*s/e,o["o"]-a]},t}t["b"]=function(){var e=.5,t=Object(r["geoProjectionMutator"])(i),n=t(e);return n.fraction=function(n){return arguments.length?t(e=+n):e},n.scale(158.837)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(1),i=n(21),a=Object(i["b"])(1,4/o["s"],o["s"]);t["b"]=function(){return Object(r["geoProjection"])(a).scale(152.63)}},function(e,t,n){"use strict";t["b"]=l,t["a"]=c,t["c"]=d;var r=n(0),o=n(1);function i(e,t,n,r,i,a){var s,l=Object(o["h"])(a);if(Object(o["a"])(e)>1||Object(o["a"])(a)>1)s=Object(o["b"])(n*i+t*r*l);else{var u=Object(o["y"])(e/2),c=Object(o["y"])(a/2);s=2*Object(o["e"])(Object(o["B"])(u*u+t*r*c*c))}return Object(o["a"])(s)>o["k"]?[s,Object(o["g"])(r*Object(o["y"])(a),t*i-n*r*l)]:[0,0]}function a(e,t,n){return Object(o["b"])((e*e+t*t-n*n)/(2*e*t))}function s(e){return e-2*o["s"]*Object(o["n"])((e+o["s"])/(2*o["s"]))}function l(e,t,n){for(var r,l=[[e[0],e[1],Object(o["y"])(e[1]),Object(o["h"])(e[1])],[t[0],t[1],Object(o["y"])(t[1]),Object(o["h"])(t[1])],[n[0],n[1],Object(o["y"])(n[1]),Object(o["h"])(n[1])]],u=l[2],c=0;c<3;++c,u=r)r=l[c],u.v=i(r[1]-u[1],u[3],u[2],r[3],r[2],r[0]-u[0]),u.point=[0,0];var d=a(l[0].v[0],l[2].v[0],l[1].v[0]),f=a(l[0].v[0],l[1].v[0],l[2].v[0]),p=o["s"]-d;l[2].point[1]=0,l[0].point[0]=-(l[1].point[0]=l[0].v[0]/2);var h=[l[2].point[0]=l[0].point[0]+l[2].v[0]*Object(o["h"])(d),2*(l[0].point[1]=l[1].point[1]=l[2].v[0]*Object(o["y"])(d))];function m(e,t){var n,r=Object(o["y"])(t),u=Object(o["h"])(t),c=new Array(3);for(n=0;n<3;++n){var d=l[n];if(c[n]=i(t-d[1],d[3],d[2],u,r,e-d[0]),!c[n][0])return d.point;c[n][1]=s(c[n][1]-d.v[1])}var m=h.slice();for(n=0;n<3;++n){var g=2==n?0:n+1,v=a(l[n].v[0],c[n][0],c[g][0]);c[n][1]<0&&(v=-v),n?1==n?(v=f-v,m[0]-=c[n][0]*Object(o["h"])(v),m[1]-=c[n][0]*Object(o["y"])(v)):(v=p-v,m[0]+=c[n][0]*Object(o["h"])(v),m[1]+=c[n][0]*Object(o["y"])(v)):(m[0]+=c[n][0]*Object(o["h"])(v),m[1]-=c[n][0]*Object(o["y"])(v))}return m[0]/=3,m[1]/=3,m}return m}function u(e){return e[0]*=o["v"],e[1]*=o["v"],e}function c(){return d([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function d(e,t,n){var o=Object(r["geoCentroid"])({type:"MultiPoint",coordinates:[e,t,n]}),i=[-o[0],-o[1]],a=Object(r["geoRotation"])(i),s=Object(r["geoProjection"])(l(u(a(e)),u(a(t)),u(a(n)))).rotate(i),c=s.center;return delete s.rotate,s.center=function(e){return arguments.length?c(a(e)):a.invert(c())},s.clipAngle(90)}},function(e,t,n){"use strict";t["a"]=i;var r=n(1),o=n(31);function i(e){var t=Object(r["F"])(e);function n(e,n){return[e,(e?e/Object(r["y"])(e):1)*(Object(r["y"])(n)*Object(r["h"])(e)-t*Object(r["h"])(n))]}return n.invert=t?function(e,n){e&&(n*=Object(r["y"])(e)/e);var o=Object(r["h"])(e);return[e,2*Object(r["g"])(Object(r["B"])(o*o+t*t-n*n)-o,t-n)]}:function(e,t){return[e,Object(r["e"])(e?t*Object(r["F"])(e)/e:t)]},n}t["b"]=function(){return Object(o["a"])(i).scale(249.828).clipAngle(90)}},function(e,t,n){"use strict";t["a"]=a;var r=n(0),o=n(1),i=Object(o["B"])(3);function a(e,t){return[i*e*(2*Object(o["h"])(2*t/3)-1)/o["E"],i*o["E"]*Object(o["y"])(t/3)]}a.invert=function(e,t){var n=3*Object(o["e"])(t/(i*o["E"]));return[o["E"]*e/(i*(2*Object(o["h"])(2*n/3)-1)),n]},t["b"]=function(){return Object(r["geoProjection"])(a).scale(156.19)}},function(e,t,n){"use strict";t["a"]=i;var r=n(1),o=n(31);function i(e){var t=Object(r["h"])(e);function n(e,n){return[e*t,(1+t)*Object(r["F"])(n/2)]}return n.invert=function(e,n){return[e/t,2*Object(r["f"])(n/(1+t))]},n}t["b"]=function(){return Object(o["a"])(i).scale(124.75)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){var n=Object(o["B"])(8/(3*o["s"]));return[n*e*(1-Object(o["a"])(t)/o["s"]),n*t]}i.invert=function(e,t){var n=Object(o["B"])(8/(3*o["s"])),r=t/n;return[e/(n*(1-Object(o["a"])(r)/o["s"])),r]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(165.664)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){var n=Object(o["B"])(4-3*Object(o["y"])(Object(o["a"])(t)));return[2/Object(o["B"])(6*o["s"])*e*n,Object(o["x"])(t)*Object(o["B"])(2*o["s"]/3)*(2-n)]}i.invert=function(e,t){var n=2-Object(o["a"])(t)/Object(o["B"])(2*o["s"]/3);return[e*Object(o["B"])(6*o["s"])/(2*n),Object(o["x"])(t)*Object(o["e"])((4-n*n)/3)]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(165.664)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){var n=Object(o["B"])(o["s"]*(4+o["s"]));return[2/n*e*(1+Object(o["B"])(1-4*t*t/(o["s"]*o["s"]))),4/n*t]}i.invert=function(e,t){var n=Object(o["B"])(o["s"]*(4+o["s"]))/2;return[e*n/(1+Object(o["B"])(1-t*t*(4+o["s"])/(4*o["s"]))),t*n/2]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(180.739)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){var n=(2+o["o"])*Object(o["y"])(t);t/=2;for(var r=0,i=1/0;r<10&&Object(o["a"])(i)>o["k"];r++){var a=Object(o["h"])(t);t-=i=(t+Object(o["y"])(t)*(a+2)-n)/(2*a*(1+a))}return[2/Object(o["B"])(o["s"]*(4+o["s"]))*e*(1+Object(o["h"])(t)),2*Object(o["B"])(o["s"]/(4+o["s"]))*Object(o["y"])(t)]}i.invert=function(e,t){var n=t*Object(o["B"])((4+o["s"])/o["s"])/2,r=Object(o["e"])(n),i=Object(o["h"])(r);return[e/(2/Object(o["B"])(o["s"]*(4+o["s"]))*(1+i)),Object(o["e"])((r+n*(i+2))/(2+o["o"]))]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(180.739)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){return[e*(1+Object(o["h"])(t))/Object(o["B"])(2+o["s"]),2*t/Object(o["B"])(2+o["s"])]}i.invert=function(e,t){var n=Object(o["B"])(2+o["s"]),r=t*n/2;return[n*e/(1+Object(o["h"])(r)),r]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(173.044)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){for(var n=(1+o["o"])*Object(o["y"])(t),r=0,i=1/0;r<10&&Object(o["a"])(i)>o["k"];r++)t-=i=(t+Object(o["y"])(t)-n)/(1+Object(o["h"])(t));return n=Object(o["B"])(2+o["s"]),[e*(1+Object(o["h"])(t))/n,2*t/n]}i.invert=function(e,t){var n=1+o["o"],r=Object(o["B"])(n/2);return[2*e*r/(1+Object(o["h"])(t*=r)),Object(o["e"])((t+Object(o["y"])(t))/n)]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(173.044)}},function(e,t,n){"use strict";t["b"]=s;var r=n(0),o=n(130),i=n(1),a=3+2*i["D"];function s(e,t){var n=Object(i["y"])(e/=2),r=Object(i["h"])(e),o=Object(i["B"])(Object(i["h"])(t)),s=Object(i["h"])(t/=2),l=Object(i["y"])(t)/(s+i["D"]*r*o),u=Object(i["B"])(2/(1+l*l)),c=Object(i["B"])((i["D"]*s+(r+n)*o)/(i["D"]*s+(r-n)*o));return[a*(u*(c-1/c)-2*Object(i["p"])(c)),a*(u*l*(c+1/c)-2*Object(i["f"])(l))]}s.invert=function(e,t){if(!(n=o["a"].invert(e/1.2,1.065*t)))return null;var n,r=n[0],s=n[1],l=20;e/=a,t/=a;do{var u=r/2,c=s/2,d=Object(i["y"])(u),f=Object(i["h"])(u),p=Object(i["y"])(c),h=Object(i["h"])(c),m=Object(i["h"])(s),g=Object(i["B"])(m),v=p/(h+i["D"]*f*g),y=v*v,b=Object(i["B"])(2/(1+y)),x=i["D"]*h+(f+d)*g,w=i["D"]*h+(f-d)*g,_=x/w,C=Object(i["B"])(_),S=C-1/C,k=C+1/C,O=b*S-2*Object(i["p"])(C)-e,T=b*v*k-2*Object(i["f"])(v)-t,M=p&&i["C"]*g*d*y/p,D=(i["D"]*f*h+g)/(2*(h+i["D"]*f*g)*(h+i["D"]*f*g)*g),I=-.5*v*b*b*b,E=I*M,A=I*D,L=(L=2*h+i["D"]*g*(f-d))*L*C,j=(i["D"]*f*h*g+m)/L,N=-i["D"]*d*p/(g*L),P=S*E-2*j/C+b*(j+j/_),R=S*A-2*N/C+b*(N+N/_),B=v*k*E-2*M/(1+y)+b*k*M+b*v*(j-j/_),F=v*k*A-2*D/(1+y)+b*k*D+b*v*(N-N/_),z=R*B-F*P;if(!z)break;var V=(T*R-O*F)/z,H=(O*B-T*P)/z;r-=V,s=Object(i["q"])(-i["o"],Object(i["r"])(i["o"],s-H))}while((Object(i["a"])(V)>i["k"]||Object(i["a"])(H)>i["k"])&&--l>0);return Object(i["a"])(Object(i["a"])(s)-i["o"])<i["k"]?[0,s]:l&&[r,s]},t["a"]=function(){return Object(r["geoProjection"])(s).scale(62.5271)}},function(e,t,n){"use strict";t["b"]=a;var r=n(0),o=n(1),i=Object(o["h"])(35*o["v"]);function a(e,t){var n=Object(o["F"])(t/2);return[e*i*Object(o["B"])(1-n*n),(1+i)*n]}a.invert=function(e,t){var n=t/(1+i);return[e&&e/(i*Object(o["B"])(1-n*n)),2*Object(o["f"])(n)]},t["a"]=function(){return Object(r["geoProjection"])(a).scale(137.152)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){var n=t/2,r=Object(o["h"])(n);return[2*e/o["E"]*Object(o["h"])(t)*r*r,o["E"]*Object(o["F"])(n)]}i.invert=function(e,t){var n=Object(o["f"])(t/o["E"]),r=Object(o["h"])(n),i=2*n;return[e*o["E"]/2/(Object(o["h"])(i)*r*r),i]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(135.264)}},function(e,t,n){"use strict";var r=n(0),o=n(1);function i(e){return[e[0]/2,Object(o["e"])(Object(o["F"])(e[1]/2*o["v"]))*o["j"]]}function a(e){return[2*e[0],2*Object(o["f"])(Object(o["y"])(e[1]*o["v"]))*o["j"]]}t["a"]=function(e){null==e&&(e=r["geoOrthographic"]);var t=e(),n=Object(r["geoEquirectangular"])().scale(o["j"]).precision(0).clipAngle(null).translate([0,0]);function s(e){return t(i(e))}function l(e){s[e]=function(n){return arguments.length?(t[e](n),s):t[e]()}}return t.invert&&(s.invert=function(e){return a(t.invert(e))}),s.stream=function(e){var r=t.stream(e),i=n.stream({point:function(e,t){r.point(e/2,Object(o["e"])(Object(o["F"])(-t/2*o["v"]))*o["j"])},lineStart:function(){r.lineStart()},lineEnd:function(){r.lineEnd()},polygonStart:function(){r.polygonStart()},polygonEnd:function(){r.polygonEnd()}});return i.sphere=r.sphere,i},s.rotate=function(e){return arguments.length?(n.rotate(e),s):n.rotate()},s.center=function(e){return arguments.length?(t.center(i(e)),s):a(t.center())},l("clipAngle"),l("clipExtent"),l("scale"),l("translate"),l("precision"),s.scale(249.5)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){var n=2*o["s"]/t,i=e*e;function l(t,l){var u=Object(r["geoAzimuthalEquidistantRaw"])(t,l),c=u[0],d=u[1],f=c*c+d*d;if(f>i){var p=Object(o["B"])(f),h=Object(o["g"])(d,c),m=n*Object(o["w"])(h/n),g=h-m,v=e*Object(o["h"])(g),y=(e*Object(o["y"])(g)-g*Object(o["y"])(v))/(o["o"]-v),b=a(g,y),x=(o["s"]-e)/s(b,v,o["s"]);c=p;var w,_=50;do{c-=w=(e+s(b,v,c)*x-p)/(b(c)*x)}while(Object(o["a"])(w)>o["k"]&&--_>0);d=g*Object(o["y"])(c),c<o["o"]&&(d-=y*(c-o["o"]));var C=Object(o["y"])(m),S=Object(o["h"])(m);u[0]=c*S-d*C,u[1]=c*C+d*S}return u}return l.invert=function(t,l){var u=t*t+l*l;if(u>i){var c=Object(o["B"])(u),d=Object(o["g"])(l,t),f=n*Object(o["w"])(d/n),p=d-f;t=c*Object(o["h"])(p),l=c*Object(o["y"])(p);var h=t-o["o"],m=Object(o["y"])(t),g=l/m,v=t<o["o"]?1/0:0,y=10;while(1){var b=e*Object(o["y"])(g),x=e*Object(o["h"])(g),w=Object(o["y"])(x),_=o["o"]-x,C=(b-g*w)/_,S=a(g,C);if(Object(o["a"])(v)<o["l"]||!--y)break;g-=v=(g*m-C*h-l)/(m-2*h*(_*(x+g*b*Object(o["h"])(x)-w)-b*(b-g*w))/(_*_))}c=e+s(S,x,t)*(o["s"]-e)/s(S,x,o["s"]),d=f+g,t=c*Object(o["h"])(d),l=c*Object(o["y"])(d)}return r["geoAzimuthalEquidistantRaw"].invert(t,l)},l}function a(e,t){return function(n){var r=e*Object(o["h"])(n);return n<o["o"]&&(r-=t),Object(o["B"])(1+r*r)}}function s(e,t,n){for(var r=50,o=(n-t)/r,i=e(t)+e(n),a=1,s=t;a<r;++a)i+=2*e(s+=o);return.5*i*o}t["a"]=function(){var e=6,t=30*o["v"],n=Object(o["h"])(t),a=Object(o["y"])(t),s=Object(r["geoProjectionMutator"])(i),l=s(t,e),u=l.stream,c=.01,d=-Object(o["h"])(c*o["v"]),f=Object(o["y"])(c*o["v"]);return l.radius=function(r){return arguments.length?(n=Object(o["h"])(t=r*o["v"]),a=Object(o["y"])(t),s(t,e)):t*o["j"]},l.lobes=function(n){return arguments.length?s(t,e=+n):e},l.stream=function(t){var r=l.rotate(),i=u(t),s=(l.rotate([0,0]),u(t));return l.rotate(r),i.sphere=function(){s.polygonStart(),s.lineStart();for(var t=0,r=2*o["s"]/e,i=0;t<e;++t,i-=r)s.point(Object(o["g"])(f*Object(o["h"])(i),d)*o["j"],Object(o["e"])(f*Object(o["y"])(i))*o["j"]),s.point(Object(o["g"])(a*Object(o["h"])(i-r/2),n)*o["j"],Object(o["e"])(a*Object(o["y"])(i-r/2))*o["j"]);s.lineEnd(),s.polygonEnd()},i},l.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(0),o=n(52),i=Object(o["a"])(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);t["a"]=function(){return Object(r["geoProjection"])(i).scale(149.995)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(0),o=n(52),i=Object(o["a"])(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);t["a"]=function(){return Object(r["geoProjection"])(i).scale(153.93)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(0),o=n(52),i=n(1),a=Object(o["a"])(5/6*i["s"],-.62636,-.0344,0,1.3493,-.05524,0,.045);t["a"]=function(){return Object(r["geoProjection"])(a).scale(130.945)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){var n=e*e,r=t*t;return[e*(1-.162388*r)*(.87-952426e-9*n*n),t*(1+r/12)]}i.invert=function(e,t){var n,r=e,i=t,a=50;do{var s=i*i;i-=n=(i*(1+s/12)-t)/(1+s/4)}while(Object(o["a"])(n)>o["k"]&&--a>0);a=50,e/=1-.162388*s;do{var l=(l=r*r)*l;r-=n=(r*(.87-952426e-9*l)-e)/(.87-.00476213*l)}while(Object(o["a"])(n)>o["k"]&&--a>0);return[r,i]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(131.747)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(0),o=n(52),i=Object(o["a"])(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);t["a"]=function(){return Object(r["geoProjection"])(i).scale(131.087)}},function(e,t,n){"use strict";t["c"]=o,t["b"]=a,t["a"]=s;var r=n(1);function o(e,t,n){var r,o,a;return e?(r=i(e,n),t?(o=i(t,1-n),a=o[1]*o[1]+n*r[0]*r[0]*o[0]*o[0],[[r[0]*o[2]/a,r[1]*r[2]*o[0]*o[1]/a],[r[1]*o[1]/a,-r[0]*r[2]*o[0]*o[2]/a],[r[2]*o[1]*o[2]/a,-n*r[0]*r[1]*o[0]/a]]):[[r[0],0],[r[1],0],[r[2],0]]):(o=i(t,1-n),[[0,o[0]/o[1]],[1/o[1],0],[o[2]/o[1],0]])}function i(e,t){var n,o,i,a,s;if(t<r["k"])return a=Object(r["y"])(e),o=Object(r["h"])(e),n=t*(e-a*o)/4,[a-n*o,o+n*a,1-t*a*a/2,e-n];if(t>=1-r["k"])return n=(1-t)/4,o=Object(r["i"])(e),a=Object(r["G"])(e),i=1/o,s=o*Object(r["A"])(e),[a+n*(s-e)/(o*o),i-n*a*i*(s-e),i+n*a*i*(s+e),2*Object(r["f"])(Object(r["m"])(e))-r["o"]+n*(s-e)/o];var l=[1,0,0,0,0,0,0,0,0],u=[Object(r["B"])(t),0,0,0,0,0,0,0,0],c=0;o=Object(r["B"])(1-t),s=1;while(Object(r["a"])(u[c]/l[c])>r["k"]&&c<8)n=l[c++],u[c]=(n-o)/2,l[c]=(n+o)/2,o=Object(r["B"])(n*o),s*=2;i=s*l[c]*e;do{a=u[c]*Object(r["y"])(o=i)/l[c],i=(Object(r["e"])(a)+i)/2}while(--c);return[Object(r["y"])(i),a=Object(r["h"])(i),a/Object(r["h"])(i-o),i]}function a(e,t,n){var o=Object(r["a"])(e),i=Object(r["a"])(t),a=Object(r["A"])(i);if(o){var l=1/Object(r["y"])(o),u=1/(Object(r["F"])(o)*Object(r["F"])(o)),c=-(u+n*(a*a*l*l)-1+n),d=(n-1)*u,f=(-c+Object(r["B"])(c*c-4*d))/2;return[s(Object(r["f"])(1/Object(r["B"])(f)),n)*Object(r["x"])(e),s(Object(r["f"])(Object(r["B"])((f/u-1)/n)),1-n)*Object(r["x"])(t)]}return[0,s(Object(r["f"])(a),1-n)*Object(r["x"])(t)]}function s(e,t){if(!t)return e;if(1===t)return Object(r["p"])(Object(r["F"])(e/2+r["u"]));for(var n=1,o=Object(r["B"])(1-t),i=Object(r["B"])(t),a=0;Object(r["a"])(i)>r["k"];a++){if(e%r["s"]){var s=Object(r["f"])(o*Object(r["F"])(e)/n);s<0&&(s+=r["s"]),e+=s+~~(e/r["s"])*r["s"]}else e+=e;i=(n+o)/2,o=Object(r["B"])(n*o),i=((n=i)-o)/2}return e/(Object(r["t"])(2,a)*n)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){if(arguments.length<2&&(t=e),1===t)return r["geoAzimuthalEqualAreaRaw"];if(t===1/0)return a;function n(n,o){var i=Object(r["geoAzimuthalEqualAreaRaw"])(n/t,o);return i[0]*=e,i}return n.invert=function(n,o){var i=r["geoAzimuthalEqualAreaRaw"].invert(n/e,o);return i[0]*=t,i},n}function a(e,t){return[e*Object(o["h"])(t)/Object(o["h"])(t/=2),2*Object(o["y"])(t)]}a.invert=function(e,t){var n=2*Object(o["e"])(t/2);return[e*Object(o["h"])(n/2)/Object(o["h"])(n),n]},t["a"]=function(){var e=2,t=Object(r["geoProjectionMutator"])(i),n=t(e);return n.coefficient=function(n){return arguments.length?t(e=+n):e},n.scale(169.529)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e){var t=Object(o["y"])(e),n=Object(o["h"])(e),r=a(e);function i(e,i){var a=r(e,i);e=a[0],i=a[1];var s=Object(o["y"])(i),l=Object(o["h"])(i),u=Object(o["h"])(e),c=Object(o["b"])(t*s+n*l*u),d=Object(o["y"])(c),f=Object(o["a"])(d)>o["k"]?c/d:1;return[f*n*Object(o["y"])(e),(Object(o["a"])(e)>o["o"]?f:-f)*(t*l-n*s*u)]}return r.invert=a(-e),i.invert=function(e,n){var i=Object(o["B"])(e*e+n*n),a=-Object(o["y"])(i),s=Object(o["h"])(i),l=i*s,u=-n*a,c=i*t,d=Object(o["B"])(l*l+u*u-c*c),f=Object(o["g"])(l*c+u*d,u*c-l*d),p=(i>o["o"]?-1:1)*Object(o["g"])(e*a,i*Object(o["h"])(f)*s+n*Object(o["y"])(f)*a);return r.invert(p,f)},i}function a(e){var t=Object(o["y"])(e),n=Object(o["h"])(e);return function(e,r){var i=Object(o["h"])(r),a=Object(o["h"])(e)*i,s=Object(o["y"])(e)*i,l=Object(o["y"])(r);return[Object(o["g"])(s,a*n-l*t),Object(o["e"])(l*n+a*t)]}}t["a"]=function(){var e=0,t=Object(r["geoProjectionMutator"])(i),n=t(e),a=n.rotate,s=n.stream,l=Object(r["geoCircle"])();return n.parallel=function(r){if(!arguments.length)return e*o["j"];var i=n.rotate();return t(e=r*o["v"]).rotate(i)},n.rotate=function(t){return arguments.length?(a.call(n,[t[0],t[1]-e*o["j"]]),l.center([-t[0],-t[1]]),n):(t=a.call(n),t[1]+=e*o["j"],t)},n.stream=function(e){return e=s(e),e.sphere=function(){e.polygonStart();var t,n=.01,r=l.radius(90-n)().coordinates[0],o=r.length-1,i=-1;e.lineStart();while(++i<o)e.point((t=r[i])[0],t[1]);e.lineEnd(),r=l.radius(90+n)().coordinates[0],o=r.length-1,e.lineStart();while(--i>=0)e.point((t=r[i])[0],t[1]);e.lineEnd(),e.polygonEnd()},e},n.scale(79.4187).parallel(45).clipAngle(179.999)}},function(e,t,n){"use strict";t["b"]=c;var r=n(14),o=n(0),i=n(72),a=n(132),s=n(1),l=41+48/36+37/3600,u=Object(a["a"])(0);function c(e){var t=l*s["v"],n=Object(i["a"])(s["s"],t)[0]-Object(i["a"])(-s["s"],t)[0],r=u(0,t)[1],o=Object(i["a"])(0,t)[1],a=s["E"]-o,c=s["H"]/e,d=4/s["H"],f=r+a*a*4/s["H"];function p(l,p){var h,m=Object(s["a"])(p);if(m>t){var g=Object(s["r"])(e-1,Object(s["q"])(0,Object(s["n"])((l+s["s"])/c)));l+=s["s"]*(e-1)/e-g*c,h=Object(i["a"])(l,m),h[0]=h[0]*s["H"]/n-s["H"]*(e-1)/(2*e)+g*s["H"]/e,h[1]=r+4*(h[1]-o)*a/s["H"],p<0&&(h[1]=-h[1])}else h=u(l,p);return h[0]*=d,h[1]/=f,h}return p.invert=function(t,l){t/=d,l*=f;var p=Object(s["a"])(l);if(p>r){var h=Object(s["r"])(e-1,Object(s["q"])(0,Object(s["n"])((t+s["s"])/c)));t=(t+s["s"]*(e-1)/e-h*c)*n/s["H"];var m=i["a"].invert(t,.25*(p-r)*s["H"]/a+o);return m[0]-=s["s"]*(e-1)/e-h*c,l<0&&(m[1]=-m[1]),m}return u.invert(t,l)},p}function d(e){return{type:"Polygon",coordinates:[Object(r["range"])(-180,180+e/2,e).map((function(e,t){return[e,1&t?89.999999:l]})).concat(Object(r["range"])(180,-180-e/2,-e).map((function(e,t){return[e,1&t?-89.999999:-l]})))]}}t["a"]=function(){var e=4,t=Object(o["geoProjectionMutator"])(c),n=t(e),r=n.stream;return n.lobes=function(n){return arguments.length?t(e=+n):e},n.stream=function(t){var i=n.rotate(),a=r(t),s=(n.rotate([0,0]),r(t));return n.rotate(i),a.sphere=function(){Object(o["geoStream"])(d(180/e),s)},a},n.scale(239.75)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e){var t,n=1+e,r=Object(o["y"])(1/n),i=Object(o["e"])(r),a=2*Object(o["B"])(o["s"]/(t=o["s"]+4*i*n)),s=.5*a*(n+Object(o["B"])(e*(2+e))),l=e*e,u=n*n;function c(r,c){var d,f,p=1-Object(o["y"])(c);if(p&&p<2){var h,m=o["o"]-c,g=25;do{var v=Object(o["y"])(m),y=Object(o["h"])(m),b=i+Object(o["g"])(v,n-y),x=1+u-2*n*y;m-=h=(m-l*i-n*v+x*b-.5*p*t)/(2*n*v*b)}while(Object(o["a"])(h)>o["l"]&&--g>0);d=a*Object(o["B"])(x),f=r*b/o["s"]}else d=a*(e+p),f=r*i/o["s"];return[d*Object(o["y"])(f),s-d*Object(o["h"])(f)]}return c.invert=function(e,r){var c=e*e+(r-=s)*r,d=(1+u-c/(a*a))/(2*n),f=Object(o["b"])(d),p=Object(o["y"])(f),h=i+Object(o["g"])(p,n-d);return[Object(o["e"])(e/Object(o["B"])(c))*o["s"]/h,Object(o["e"])(1-2*(f-l*i-n*p+(1+u-2*n*d)*h)/t)]},c}t["a"]=function(){var e=1,t=Object(r["geoProjectionMutator"])(i),n=t(e);return n.ratio=function(n){return arguments.length?t(e=+n):e},n.scale(167.774).center([0,18.67])}},function(e,t,n){"use strict";var r=n(131),o=n(23),i=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];t["a"]=function(){return Object(o["a"])(r["a"],i).scale(160.857)}},function(e,t,n){"use strict";var r=n(136),o=n(23),i=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];t["a"]=function(){return Object(o["a"])(r["b"],i).scale(152.63)}},function(e,t,n){"use strict";var r=n(21),o=n(23),i=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];t["a"]=function(){return Object(o["a"])(r["d"],i).scale(169.529)}},function(e,t,n){"use strict";var r=n(21),o=n(23),i=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];t["a"]=function(){return Object(o["a"])(r["d"],i).scale(169.529).rotate([20,0])}},function(e,t,n){"use strict";var r=n(73),o=n(23),i=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];t["a"]=function(){return Object(o["a"])(r["c"],i).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}},function(e,t,n){"use strict";var r=n(38),o=n(23),i=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];t["a"]=function(){return Object(o["a"])(r["b"],i).scale(152.63).rotate([-20,0])}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){return[3/o["H"]*e*Object(o["B"])(o["s"]*o["s"]/3-t*t),t]}i.invert=function(e,t){return[o["H"]/3*e/Object(o["B"])(o["s"]*o["s"]/3-t*t),t]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(158.837)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e){function t(t,n){if(Object(o["a"])(Object(o["a"])(n)-o["o"])<o["k"])return[0,n<0?-2:2];var r=Object(o["y"])(n),i=Object(o["t"])((1+r)/(1-r),e/2),a=.5*(i+1/i)+Object(o["h"])(t*=e);return[2*Object(o["y"])(t)/a,(i-1/i)/a]}return t.invert=function(t,n){var r=Object(o["a"])(n);if(Object(o["a"])(r-2)<o["k"])return t?null:[0,Object(o["x"])(n)*o["o"]];if(r>2)return null;t/=2,n/=2;var i=t*t,a=n*n,s=2*n/(1+i+a);return s=Object(o["t"])((1+s)/(1-s),1/e),[Object(o["g"])(2*t,1-i-a)/e,Object(o["e"])((s-1)/(s+1))]},t}t["a"]=function(){var e=.5,t=Object(r["geoProjectionMutator"])(i),n=t(e);return n.spacing=function(n){return arguments.length?t(e=+n):e},n.scale(124.75)}},function(e,t,n){"use strict";t["b"]=a;var r=n(0),o=n(1),i=o["s"]/o["D"];function a(e,t){return[e*(1+Object(o["B"])(Object(o["h"])(t)))/2,t/(Object(o["h"])(t/2)*Object(o["h"])(e/6))]}a.invert=function(e,t){var n=Object(o["a"])(e),r=Object(o["a"])(t),a=o["k"],s=o["o"];r<i?s*=r/i:a+=6*Object(o["b"])(i/r);for(var l=0;l<25;l++){var u=Object(o["y"])(s),c=Object(o["B"])(Object(o["h"])(s)),d=Object(o["y"])(s/2),f=Object(o["h"])(s/2),p=Object(o["y"])(a/6),h=Object(o["h"])(a/6),m=.5*a*(1+c)-n,g=s/(f*h)-r,v=c?-.25*a*u/c:0,y=.5*(1+c),b=(1+.5*s*d/f)/(f*h),x=s/f*(p/6)/(h*h),w=v*x-b*y,_=(m*x-g*y)/w,C=(g*v-m*b)/w;if(s-=_,a-=C,Object(o["a"])(_)<o["k"]&&Object(o["a"])(C)<o["k"])break}return[e<0?-a:a,t<0?-s:s]},t["a"]=function(){return Object(r["geoProjection"])(a).scale(97.2672)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){var n=e*e,r=t*t;return[e*(.975534+r*(-.0143059*n-.119161+-.0547009*r)),t*(1.00384+n*(.0802894+-.02855*r+199025e-9*n)+r*(.0998909+-.0491032*r))]}i.invert=function(e,t){var n=Object(o["x"])(e)*o["s"],r=t/2,i=50;do{var a=n*n,s=r*r,l=n*r,u=n*(.975534+s*(-.0143059*a-.119161+-.0547009*s))-e,c=r*(1.00384+a*(.0802894+-.02855*s+199025e-9*a)+s*(.0998909+-.0491032*s))-t,d=.975534-s*(.119161+3*a*.0143059+.0547009*s),f=-l*(.238322+.2188036*s+.0286118*a),p=l*(.1605788+7961e-7*a+-.0571*s),h=1.00384+a*(.0802894+199025e-9*a)+s*(3*(.0998909-.02855*a)-.245516*s),m=f*p-h*d,g=(c*f-u*h)/m,v=(u*p-c*d)/m;n-=g,r-=v}while((Object(o["a"])(g)>o["k"]||Object(o["a"])(v)>o["k"])&&--i>0);return i&&[n,r]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(139.98)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){return[Object(o["y"])(e)/Object(o["h"])(t),Object(o["F"])(t)*Object(o["h"])(e)]}i.invert=function(e,t){var n=e*e,r=t*t,i=r+1,a=e?o["C"]*Object(o["B"])((i-Object(o["B"])(n*n+2*n*(r-1)+i*i))/n+1):1/Object(o["B"])(i);return[Object(o["e"])(e*a),Object(o["x"])(t)*Object(o["b"])(a)]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(144.049).clipAngle(89.999)}},function(e,t,n){"use strict";t["b"]=i;var r=n(31),o=n(1);function i(e){var t=Object(o["h"])(e),n=Object(o["F"])(o["u"]+e/2);function r(r,i){var a=i-e,s=Object(o["a"])(a)<o["k"]?r*t:Object(o["a"])(s=o["u"]+i/2)<o["k"]||Object(o["a"])(Object(o["a"])(s)-o["o"])<o["k"]?0:r*a/Object(o["p"])(Object(o["F"])(s)/n);return[s,a]}return r.invert=function(r,i){var a,s=i+e;return[Object(o["a"])(i)<o["k"]?r/t:Object(o["a"])(a=o["u"]+s/2)<o["k"]||Object(o["a"])(Object(o["a"])(a)-o["o"])<o["k"]?0:r*Object(o["p"])(Object(o["F"])(a)/n)/i,s]},r}t["a"]=function(){return Object(r["a"])(i).parallel(40).scale(158.837)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){return[e,1.25*Object(o["p"])(Object(o["F"])(o["u"]+.4*t))]}i.invert=function(e,t){return[e,2.5*Object(o["f"])(Object(o["m"])(.8*t))-.625*o["s"]]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(108.318)}},function(e,t,n){"use strict";t["g"]=i,t["b"]=d,t["c"]=f,t["d"]=p,t["f"]=h,t["e"]=m,t["a"]=g;var r=n(0),o=n(1);function i(e){var t=e.length-1;function n(n,r){var i,a=Object(o["h"])(r),s=2/(1+a*Object(o["h"])(n)),l=s*a*Object(o["y"])(n),u=s*Object(o["y"])(r),c=t,d=e[c],f=d[0],p=d[1];while(--c>=0)d=e[c],f=d[0]+l*(i=f)-u*p,p=d[1]+l*p+u*i;return f=l*(i=f)-u*p,p=l*p+u*i,[f,p]}return n.invert=function(n,r){var i=20,a=n,s=r;do{var l,u=t,c=e[u],d=c[0],f=c[1],p=0,h=0;while(--u>=0)c=e[u],p=d+a*(l=p)-s*h,h=f+a*h+s*l,d=c[0]+a*(l=d)-s*f,f=c[1]+a*f+s*l;p=d+a*(l=p)-s*h,h=f+a*h+s*l,d=a*(l=d)-s*f-n,f=a*f+s*l-r;var m,g,v=p*p+h*h;a-=m=(d*p+f*h)/v,s-=g=(f*p-d*h)/v}while(Object(o["a"])(m)+Object(o["a"])(g)>o["k"]*o["k"]&&--i>0);if(i){var y=Object(o["B"])(a*a+s*s),b=2*Object(o["f"])(.5*y),x=Object(o["y"])(b);return[Object(o["g"])(a*x,y*Object(o["h"])(b)),y?Object(o["e"])(s*x/y):0]}},n}var a=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],s=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],l=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],u=[[.9245,0],[0,0],[.01943,0]],c=[[.721316,0],[0,0],[-.00881625,-.00617325]];function d(){return g(a,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)}function f(){return g(s,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function p(){return g(l,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function h(){return g(u,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function m(){return g(c,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function g(e,t){var n=Object(r["geoProjection"])(i(e)).rotate(t).clipAngle(90),o=Object(r["geoRotation"])(t),a=n.center;return delete n.rotate,n.center=function(e){return arguments.length?a(o(e)):o.invert(a())},n}},function(e,t,n){"use strict";t["b"]=s;var r=n(0),o=n(1),i=Object(o["B"])(6),a=Object(o["B"])(7);function s(e,t){var n=Object(o["e"])(7*Object(o["y"])(t)/(3*i));return[i*e*(2*Object(o["h"])(2*n/3)-1)/a,9*Object(o["y"])(n/3)/a]}s.invert=function(e,t){var n=3*Object(o["e"])(t*a/9);return[e*a/(i*(2*Object(o["h"])(2*n/3)-1)),Object(o["e"])(3*Object(o["y"])(n)*i/7)]},t["a"]=function(){return Object(r["geoProjection"])(s).scale(164.859)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){for(var n,r=(1+o["C"])*Object(o["y"])(t),i=t,a=0;a<25;a++)if(i-=n=(Object(o["y"])(i/2)+Object(o["y"])(i)-r)/(.5*Object(o["h"])(i/2)+Object(o["h"])(i)),Object(o["a"])(n)<o["k"])break;return[e*(1+2*Object(o["h"])(i)/Object(o["h"])(i/2))/(3*o["D"]),2*Object(o["B"])(3)*Object(o["y"])(i/2)/Object(o["B"])(2+o["D"])]}i.invert=function(e,t){var n=t*Object(o["B"])(2+o["D"])/(2*Object(o["B"])(3)),r=2*Object(o["e"])(n);return[3*o["D"]*e/(1+2*Object(o["h"])(r)/Object(o["h"])(r/2)),Object(o["e"])((n+Object(o["y"])(r))/(1+o["C"]))]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(188.209)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){for(var n,r=Object(o["B"])(6/(4+o["s"])),i=(1+o["s"]/4)*Object(o["y"])(t),a=t/2,s=0;s<25;s++)if(a-=n=(a/2+Object(o["y"])(a)-i)/(.5+Object(o["h"])(a)),Object(o["a"])(n)<o["k"])break;return[r*(.5+Object(o["h"])(a))*e/1.5,r*a]}i.invert=function(e,t){var n=Object(o["B"])(6/(4+o["s"])),r=t/n;return Object(o["a"])(Object(o["a"])(r)-o["o"])<o["k"]&&(r=r<0?-o["o"]:o["o"]),[1.5*e/(n*(.5+Object(o["h"])(r))),Object(o["e"])((r/2+Object(o["y"])(r))/(1+o["s"]/4))]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(166.518)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}i.invert=function(e,t){var n,r=t,i=25;do{var a=r*r,s=a*a;r-=n=(r*(1.007226+a*(.015085+s*(.028874*a-.044475-.005916*s)))-t)/(1.007226+a*(.045255+s*(.259866*a-.311325-.005916*11*s)))}while(Object(o["a"])(n)>o["k"]&&--i>0);return[e/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(175.295)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){var n=t*t,r=n*n,o=n*r;return[e*(.84719-.13063*n+o*o*(.05494*n-.04515-.02326*r+.00331*o)),t*(1.01183+r*r*(.01926*n-.02625-.00396*r))]}i.invert=function(e,t){var n,r,i,a,s=t,l=25;do{r=s*s,i=r*r,s-=n=(s*(1.01183+i*i*(.01926*r-.02625-.00396*i))-t)/(1.01183+i*i*(.21186*r-.23625+-.05148*i))}while(Object(o["a"])(n)>o["l"]&&--l>0);return r=s*s,i=r*r,a=r*i,[e/(.84719-.13063*r+a*a*(.05494*r-.04515-.02326*i+.00331*a)),s]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(175.295)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){return[e*(1+Object(o["h"])(t))/2,2*(t-Object(o["F"])(t/2))]}i.invert=function(e,t){for(var n=t/2,r=0,i=1/0;r<10&&Object(o["a"])(i)>o["k"];++r){var a=Object(o["h"])(t/2);t-=i=(t-Object(o["F"])(t/2)-n)/(1-.5/(a*a))}return[2*e/(1+Object(o["h"])(t)),t]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(152.63)}},function(e,t,n){"use strict";t["b"]=h;var r=n(0),o=n(1),i=1.0148,a=.23185,s=-.14499,l=.02406,u=i,c=5*a,d=7*s,f=9*l,p=1.790857183;function h(e,t){var n=t*t;return[e,t*(i+n*n*(a+n*(s+l*n)))]}h.invert=function(e,t){t>p?t=p:t<-p&&(t=-p);var n,r=t;do{var h=r*r;r-=n=(r*(i+h*h*(a+h*(s+l*h)))-t)/(u+h*h*(c+h*(d+f*h)))}while(Object(o["a"])(n)>o["k"]);return[e,r]},t["a"]=function(){return Object(r["geoProjection"])(h).scale(139.319)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){if(Object(o["a"])(t)<o["k"])return[e,0];var n=Object(o["F"])(t),r=e*Object(o["y"])(t);return[Object(o["y"])(r)/n,t+(1-Object(o["h"])(r))/n]}i.invert=function(e,t){if(Object(o["a"])(t)<o["k"])return[e,0];var n,r=e*e+t*t,i=.5*t,a=10;do{var s=Object(o["F"])(i),l=1/Object(o["h"])(i),u=r-2*t*i+i*i;i-=n=(s*u+2*(i-t))/(2+u*l*l+2*(i-t)*s)}while(Object(o["a"])(n)>o["k"]&&--a>0);return s=Object(o["F"])(i),[(Object(o["a"])(t)<Object(o["a"])(i+1/s)?Object(o["e"])(e*s):Object(o["x"])(e)*(Object(o["b"])(Object(o["a"])(e*s))+o["o"]))/Object(o["y"])(i),i]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(103.74)}},function(e,t,n){"use strict";t["b"]=o,t["c"]=i;var r=n(1);function o(e){var t=1/(e[0]*e[4]-e[1]*e[3]);return[t*e[4],-t*e[1],t*(e[1]*e[5]-e[2]*e[4]),-t*e[3],t*e[0],t*(e[2]*e[3]-e[0]*e[5])]}function i(e,t){return[e[0]*t[0]+e[1]*t[3],e[0]*t[1]+e[1]*t[4],e[0]*t[2]+e[1]*t[5]+e[2],e[3]*t[0]+e[4]*t[3],e[3]*t[1]+e[4]*t[4],e[3]*t[2]+e[4]*t[5]+e[5]]}function a(e,t){return[e[0]-t[0],e[1]-t[1]]}function s(e){return Object(r["B"])(e[0]*e[0]+e[1]*e[1])}function l(e,t){return Object(r["g"])(e[0]*t[1]-e[1]*t[0],e[0]*t[0]+e[1]*t[1])}t["a"]=function(e,t){var n=a(e[1],e[0]),o=a(t[1],t[0]),u=l(n,o),c=s(n)/s(o);return i([1,0,e[0][0],0,1,e[0][1]],i([c,0,0,0,c,0],i([Object(r["h"])(u),Object(r["y"])(u),0,-Object(r["y"])(u),Object(r["h"])(u),0],[1,0,-t[0][0],0,1,-t[0][1]])))}},function(e,t,n){"use strict";var r=n(0),o=n(1),i=n(53),a=n(74);t["a"]=function(e){e=e||function(e){var t=Object(r["geoCentroid"])({type:"MultiPoint",coordinates:e});return Object(r["geoGnomonic"])().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var t=a["a"].map((function(t){return{face:t,project:e(t)}}));return[-1,0,0,1,0,1,4,5].forEach((function(e,n){var r=t[e];r&&(r.children||(r.children=[])).push(t[n])})),Object(i["a"])(t[0],(function(e,n){return t[e<-o["s"]/2?n<0?6:4:e<0?n<0?2:0:e<o["s"]/2?n<0?3:1:n<0?7:5]})).scale(101.858).center([0,45])}},function(e,t,n){"use strict";var r=n(0),o=n(72),i=n(1),a=n(53),s=n(74),l=2/Object(i["B"])(3);function u(e,t){var n=Object(o["a"])(e,t);return[n[0]*l,n[1]]}u.invert=function(e,t){return o["a"].invert(e/l,t)},t["a"]=function(e){e=e||function(e){var t=Object(r["geoCentroid"])({type:"MultiPoint",coordinates:e});return Object(r["geoProjection"])(u).translate([0,0]).scale(1).rotate(t[1]>0?[-t[0],0]:[180-t[0],180])};var t=s["a"].map((function(t){return{face:t,project:e(t)}}));return[-1,0,0,1,0,1,4,5].forEach((function(e,n){var r=t[e];r&&(r.children||(r.children=[])).push(t[n])})),Object(a["a"])(t[0],(function(e,n){return t[e<-i["s"]/2?n<0?6:4:e<0?n<0?2:0:e<i["s"]/2?n<0?3:1:n<0?7:5]})).scale(121.906).center([0,48.5904])}},function(e,t,n){"use strict";var r=n(0),o=n(1),i=n(53),a=n(74);function s(e,t){for(var n=0,r=e.length,o=0;n<r;++n)o+=e[n]*t[n];return o}function l(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function u(e){return[Object(o["g"])(e[1],e[0])*o["j"],Object(o["e"])(Object(o["q"])(-1,Object(o["r"])(1,e[2])))*o["j"]]}function c(e){var t=e[0]*o["v"],n=e[1]*o["v"],r=Object(o["h"])(n);return[r*Object(o["h"])(t),r*Object(o["y"])(t),Object(o["y"])(n)]}t["a"]=function(e){e=e||function(e){var t=6===e.length?Object(r["geoCentroid"])({type:"MultiPoint",coordinates:e}):e[0];return Object(r["geoGnomonic"])().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var t=a["a"].map((function(e){for(var t,n=e.map(c),r=n.length,o=n[r-1],i=[],a=0;a<r;++a)t=n[a],i.push(u([.9486832980505138*o[0]+.31622776601683794*t[0],.9486832980505138*o[1]+.31622776601683794*t[1],.9486832980505138*o[2]+.31622776601683794*t[2]]),u([.9486832980505138*t[0]+.31622776601683794*o[0],.9486832980505138*t[1]+.31622776601683794*o[1],.9486832980505138*t[2]+.31622776601683794*o[2]])),o=t;return i})),n=[],d=[-1,0,0,1,0,1,4,5];t.forEach((function(e,r){for(var o=a["a"][r],i=o.length,s=n[r]=[],u=0;u<i;++u)t.push([o[u],e[(2*u+2)%(2*i)],e[(2*u+1)%(2*i)]]),d.push(r),s.push(l(c(e[(2*u+2)%(2*i)]),c(e[(2*u+1)%(2*i)])))}));var f=t.map((function(t){return{project:e(t),face:t}}));function p(e,t){var r=Object(o["h"])(t),i=[r*Object(o["h"])(e),r*Object(o["y"])(e),Object(o["y"])(t)],a=e<-o["s"]/2?t<0?6:4:e<0?t<0?2:0:e<o["s"]/2?t<0?3:1:t<0?7:5,l=n[a];return f[s(l[0],i)<0?8+3*a:s(l[1],i)<0?8+3*a+1:s(l[2],i)<0?8+3*a+2:a]}return d.forEach((function(e,t){var n=f[e];n&&(n.children||(n.children=[])).push(f[t])})),Object(i["a"])(f[0],p).scale(110.625).center([0,45])}},function(e,t,n){"use strict";var r=n(0),o=n(299),i=n(300),a=n(301);function s(e,t){return{type:"FeatureCollection",features:e.features.map((function(e){return l(e,t)}))}}function l(e,t){return{type:"Feature",id:e.id,properties:e.properties,geometry:c(e.geometry,t)}}function u(e,t){return{type:"GeometryCollection",geometries:e.geometries.map((function(e){return c(e,t)}))}}function c(e,t){if(!e)return null;if("GeometryCollection"===e.type)return u(e,t);var n;switch(e.type){case"Point":n=p;break;case"MultiPoint":n=p;break;case"LineString":n=h;break;case"MultiLineString":n=h;break;case"Polygon":n=m;break;case"MultiPolygon":n=m;break;case"Sphere":n=m;break;default:return null}return Object(r["geoStream"])(e,t(n)),n.result()}t["a"]=function(e,t){var n,r=t.stream;if(!r)throw new Error("invalid projection");switch(e&&e.type){case"Feature":n=l;break;case"FeatureCollection":n=s;break;default:n=c;break}return n(e,r)};var d=[],f=[],p={point:function(e,t){d.push([e,t])},result:function(){var e=d.length?d.length<2?{type:"Point",coordinates:d[0]}:{type:"MultiPoint",coordinates:d}:null;return d=[],e}},h={lineStart:o["a"],point:function(e,t){d.push([e,t])},lineEnd:function(){d.length&&(f.push(d),d=[])},result:function(){var e=f.length?f.length<2?{type:"LineString",coordinates:f[0]}:{type:"MultiLineString",coordinates:f}:null;return f=[],e}},m={polygonStart:o["a"],lineStart:o["a"],point:function(e,t){d.push([e,t])},lineEnd:function(){var e=d.length;if(e){do{d.push(d[0].slice())}while(++e<4);f.push(d),d=[]}},polygonEnd:o["a"],result:function(){if(!f.length)return null;var e=[],t=[];return f.forEach((function(n){Object(i["a"])(n)?e.push([n]):t.push(n)})),t.forEach((function(t){var n=t[0];e.some((function(e){if(Object(a["a"])(e[0],n))return e.push(t),!0}))||e.push([t])})),f=[],e.length?e.length>1?{type:"MultiPolygon",coordinates:e}:{type:"Polygon",coordinates:e[0]}:null}}},function(e,t,n){"use strict";t["a"]=function(){}},function(e,t,n){"use strict";t["a"]=function(e){if((t=e.length)<4)return!1;var t,n=0,r=e[t-1][1]*e[0][0]-e[t-1][0]*e[0][1];while(++n<t)r+=e[n-1][1]*e[n][0]-e[n-1][0]*e[n][1];return r<=0}},function(e,t,n){"use strict";t["a"]=function(e,t){for(var n=t[0],r=t[1],o=!1,i=0,a=e.length,s=a-1;i<a;s=i++){var l=e[i],u=l[0],c=l[1],d=e[s],f=d[0],p=d[1];c>r^p>r&&n<(f-u)*(r-c)/(p-c)+u&&(o=!o)}return o}},function(e,t,n){"use strict";var r=n(133),o=n(75);t["a"]=function(){return Object(o["a"])(r["b"]).scale(176.423)}},function(e,t,n){"use strict";t["a"]=function(e,t){if(!(0<=(t=+t)&&t<=20))throw new Error("invalid digits");function n(e){var n=e.length,r=2,o=new Array(n);o[0]=+e[0].toFixed(t),o[1]=+e[1].toFixed(t);while(r<n)o[r]=e[r],++r;return o}function r(e){return e.map(n)}function o(e){return e.map(r)}function i(e){if(null==e)return e;var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(i)};break;case"Point":t={type:"Point",coordinates:n(e.coordinates)};break;case"MultiPoint":case"LineString":t={type:e.type,coordinates:r(e.coordinates)};break;case"MultiLineString":case"Polygon":t={type:e.type,coordinates:o(e.coordinates)};break;case"MultiPolygon":t={type:"MultiPolygon",coordinates:e.coordinates.map(o)};break;default:return e}return null!=e.bbox&&(t.bbox=e.bbox),t}function a(e){var t={type:"Feature",properties:e.properties,geometry:i(e.geometry)};return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),t}if(null!=e)switch(e.type){case"Feature":return a(e);case"FeatureCollection":var s={type:"FeatureCollection",features:e.features.map(a)};return null!=e.bbox&&(s.bbox=e.bbox),s;default:return i(e)}return e}},function(e,t,n){"use strict";t["b"]=i;var r=n(1),o=n(31);function i(e){var t=Object(r["y"])(e);function n(n,o){var i=t?Object(r["F"])(n*t/2)/t:n/2;if(!o)return[2*i,-e];var a=2*Object(r["f"])(i*Object(r["y"])(o)),s=1/Object(r["F"])(o);return[Object(r["y"])(a)*s,o+(1-Object(r["h"])(a))*s-e]}return n.invert=function(n,o){if(Object(r["a"])(o+=e)<r["k"])return[t?2*Object(r["f"])(t*n/2)/t:n,0];var i,a=n*n+o*o,s=0,l=10;do{var u=Object(r["F"])(s),c=1/Object(r["h"])(s),d=a-2*o*s+s*s;s-=i=(u*d+2*(s-o))/(2+d*c*c+2*(s-o)*u)}while(Object(r["a"])(i)>r["k"]&&--l>0);var f=n*(u=Object(r["F"])(s)),p=Object(r["F"])(Object(r["a"])(o)<Object(r["a"])(s+1/u)?.5*Object(r["e"])(f):.5*Object(r["b"])(f)+r["s"]/4)/Object(r["y"])(s);return[t?2*Object(r["f"])(t*p)/t:2*p,s]},n}t["a"]=function(){return Object(o["a"])(i).scale(131.215)}},function(e,t,n){"use strict";t["b"]=a;var r=n(0),o=n(1),i=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function a(e,t){var n,r=Object(o["r"])(18,36*Object(o["a"])(t)/o["s"]),a=Object(o["n"])(r),s=r-a,l=(n=i[a])[0],u=n[1],c=(n=i[++a])[0],d=n[1],f=(n=i[Object(o["r"])(19,++a)])[0],p=n[1];return[e*(c+s*(f-l)/2+s*s*(f-2*c+l)/2),(t>0?o["o"]:-o["o"])*(d+s*(p-u)/2+s*s*(p-2*d+u)/2)]}i.forEach((function(e){e[1]*=1.0144})),a.invert=function(e,t){var n=t/o["o"],r=90*n,a=Object(o["r"])(18,Object(o["a"])(r/5)),s=Object(o["q"])(0,Object(o["n"])(a));do{var l=i[s][1],u=i[s+1][1],c=i[Object(o["r"])(19,s+2)][1],d=c-l,f=c-2*u+l,p=2*(Object(o["a"])(n)-u)/d,h=f/d,m=p*(1-h*p*(1-2*h*p));if(m>=0||1===s){r=(t>=0?5:-5)*(m+a);var g,v=50;do{a=Object(o["r"])(18,Object(o["a"])(r)/5),s=Object(o["n"])(a),m=a-s,l=i[s][1],u=i[s+1][1],c=i[Object(o["r"])(19,s+2)][1],r-=(g=(t>=0?o["o"]:-o["o"])*(u+m*(c-l)/2+m*m*(c-2*u+l)/2)-t)*o["j"]}while(Object(o["a"])(g)>o["l"]&&--v>0);break}}while(--s>=0);var y=i[s][0],b=i[s+1][0],x=i[Object(o["r"])(19,s+2)][0];return[e/(b+m*(x-y)/2+m*m*(x-2*b+y)/2),r*o["v"]]},t["a"]=function(){return Object(r["geoProjection"])(a).scale(152.63)}},function(e,t,n){"use strict";t["b"]=a;var r=n(0),o=n(1);function i(e){function t(t,n){var r=Object(o["h"])(n),i=(e-1)/(e-r*Object(o["h"])(t));return[i*r*Object(o["y"])(t),i*Object(o["y"])(n)]}return t.invert=function(t,n){var r=t*t+n*n,i=Object(o["B"])(r),a=(e-Object(o["B"])(1-r*(e+1)/(e-1)))/((e-1)/i+i/(e-1));return[Object(o["g"])(t*a,i*Object(o["B"])(1-a*a)),i?Object(o["e"])(n*a/i):0]},t}function a(e,t){var n=i(e);if(!t)return n;var r=Object(o["h"])(t),a=Object(o["y"])(t);function s(t,o){var i=n(t,o),s=i[1],l=s*a/(e-1)+r;return[i[0]*r/l,s/l]}return s.invert=function(t,o){var i=(e-1)/(e-1-o*a);return n.invert(i*t,i*o*r)},s}t["a"]=function(){var e=2,t=0,n=Object(r["geoProjectionMutator"])(a),i=n(e,t);return i.distance=function(r){return arguments.length?n(e=+r,t):e},i.tilt=function(r){return arguments.length?n(e,t=r*o["v"]):t*o["j"]},i.scale(432.147).clipAngle(Object(o["b"])(1/e)*o["j"]-1e-6)}},function(e,t,n){"use strict";var r=1e-4,o=1e4,i=-180,a=i+r,s=180,l=s-r,u=-90,c=u+r,d=90,f=d-r;function p(e){return e.length>0}function h(e){return Math.floor(e*o)/o}function m(e){return e===u||e===d?[0,e]:[i,h(e)]}function g(e){var t=e[0],n=e[1],r=!1;return t<=a?(t=i,r=!0):t>=l&&(t=s,r=!0),n<=c?(n=u,r=!0):n>=f&&(n=d,r=!0),r?[t,n]:e}function v(e){return e.map(g)}function y(e,t,n){for(var r=0,o=e.length;r<o;++r){var i=e[r].slice();n.push({index:-1,polygon:t,ring:i});for(var s=0,u=i.length;s<u;++s){var d=i[s],p=d[0],h=d[1];if(p<=a||p>=l||h<=c||h>=f){i[s]=g(d);for(var v=s+1;v<u;++v){var y=i[v],b=y[0],x=y[1];if(b>a&&b<l&&x>c&&x<f)break}if(v===s+1)continue;if(s){var w={index:-1,polygon:t,ring:i.slice(0,s+1)};w.ring[w.ring.length-1]=m(h),n[n.length-1]=w}else n.pop();if(v>=u)break;n.push({index:-1,polygon:t,ring:i=i.slice(v-1)}),i[0]=m(i[0][1]),s=-1,u=i.length}}}}function b(e){var t,n,r,o,i,a,s=e.length,l={},u={};for(t=0;t<s;++t)n=e[t],r=n.ring[0],i=n.ring[n.ring.length-1],r[0]!==i[0]||r[1]!==i[1]?(n.index=t,l[r]=u[i]=n):(n.polygon.push(n.ring),e[t]=null);for(t=0;t<s;++t)if(n=e[t],n){if(r=n.ring[0],i=n.ring[n.ring.length-1],o=u[r],a=l[i],delete l[r],delete u[i],r[0]===i[0]&&r[1]===i[1]){n.polygon.push(n.ring);continue}o?(delete u[r],delete l[o.ring[0]],o.ring.pop(),e[o.index]=null,n={index:-1,polygon:o.polygon,ring:o.ring.concat(n.ring)},o===a?n.polygon.push(n.ring):(n.index=s++,e.push(l[n.ring[0]]=u[n.ring[n.ring.length-1]]=n))):a?(delete l[i],delete u[a.ring[a.ring.length-1]],n.ring.pop(),n={index:s++,polygon:a.polygon,ring:n.ring.concat(a.ring)},e[a.index]=null,e.push(l[n.ring[0]]=u[n.ring[n.ring.length-1]]=n)):(n.ring.push(n.ring[0]),n.polygon.push(n.ring))}}function x(e){var t={type:"Feature",geometry:w(e.geometry)};return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}function w(e){if(null==e)return e;var t,n,r,o;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(w)};break;case"Point":t={type:"Point",coordinates:g(e.coordinates)};break;case"MultiPoint":case"LineString":t={type:e.type,coordinates:v(e.coordinates)};break;case"MultiLineString":t={type:"MultiLineString",coordinates:e.coordinates.map(v)};break;case"Polygon":var i=[];y(e.coordinates,i,n=[]),b(n),t={type:"Polygon",coordinates:i};break;case"MultiPolygon":n=[],r=-1,o=e.coordinates.length;var a=new Array(o);while(++r<o)y(e.coordinates[r],a[r]=[],n);b(n),t={type:"MultiPolygon",coordinates:a.filter(p)};break;default:return e}return null!=e.bbox&&(t.bbox=e.bbox),t}t["a"]=function(e){if(null==e)return e;switch(e.type){case"Feature":return x(e);case"FeatureCollection":var t={type:"FeatureCollection",features:e.features.map(x)};return null!=e.bbox&&(t.bbox=e.bbox),t;default:return w(e)}}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){var n=Object(o["F"])(t/2),r=Object(o["y"])(o["u"]*n);return[e*(.74482-.34588*r*r),1.70711*n]}i.invert=function(e,t){var n=t/1.70711,r=Object(o["y"])(o["u"]*n);return[e/(.74482-.34588*r*r),2*Object(o["f"])(n)]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(146.153)}},function(e,t,n){"use strict";t["b"]=a,t["c"]=s,t["a"]=l;var r=n(0),o=n(1),i=n(138);function a(e){var t=Object(o["h"])(e);function n(e,n){var o=Object(r["geoGnomonicRaw"])(e,n);return o[0]*=t,o}return n.invert=function(e,n){return r["geoGnomonicRaw"].invert(e/t,n)},n}function s(){return l([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function l(e,t){return Object(i["a"])(a,e,t)}},function(e,t,n){"use strict";t["b"]=a,t["c"]=s,t["a"]=l;var r=n(0),o=n(1),i=n(138);function a(e){if(!(e*=2))return r["geoAzimuthalEquidistantRaw"];var t=-e/2,n=-t,i=e*e,a=Object(o["F"])(n),s=.5/Object(o["y"])(n);function l(r,a){var s=Object(o["b"])(Object(o["h"])(a)*Object(o["h"])(r-t)),l=Object(o["b"])(Object(o["h"])(a)*Object(o["h"])(r-n)),u=a<0?-1:1;return s*=s,l*=l,[(s-l)/(2*e),u*Object(o["B"])(4*i*l-(i-s+l)*(i-s+l))/(2*e)]}return l.invert=function(e,r){var i,l,u=r*r,c=Object(o["h"])(Object(o["B"])(u+(i=e+t)*i)),d=Object(o["h"])(Object(o["B"])(u+(i=e+n)*i));return[Object(o["g"])(l=c-d,i=(c+d)*a),(r<0?-1:1)*Object(o["b"])(Object(o["B"])(i*i+l*l)*s)]},l}function s(){return l([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function l(e,t){return Object(i["a"])(a,e,t)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){if(Object(o["a"])(t)<o["k"])return[e,0];var n=Object(o["a"])(t/o["o"]),r=Object(o["e"])(n);if(Object(o["a"])(e)<o["k"]||Object(o["a"])(Object(o["a"])(t)-o["o"])<o["k"])return[0,Object(o["x"])(t)*o["s"]*Object(o["F"])(r/2)];var i=Object(o["h"])(r),a=Object(o["a"])(o["s"]/e-e/o["s"])/2,s=a*a,l=i/(n+i-1),u=l*(2/n-1),c=u*u,d=c+s,f=l-c,p=s+l;return[Object(o["x"])(e)*o["s"]*(a*f+Object(o["B"])(s*f*f-d*(l*l-c)))/d,Object(o["x"])(t)*o["s"]*(u*p-a*Object(o["B"])((s+1)*d-p*p))/d]}i.invert=function(e,t){if(Object(o["a"])(t)<o["k"])return[e,0];if(Object(o["a"])(e)<o["k"])return[0,o["o"]*Object(o["y"])(2*Object(o["f"])(t/o["s"]))];var n=(e/=o["s"])*e,r=(t/=o["s"])*t,i=n+r,a=i*i,s=-Object(o["a"])(t)*(1+i),l=s-2*r+n,u=-2*s+1+2*r+a,c=r/u+(2*l*l*l/(u*u*u)-9*s*l/(u*u))/27,d=(s-l*l/(3*u))/u,f=2*Object(o["B"])(-d/3),p=Object(o["b"])(3*c/(d*f))/3;return[o["s"]*(i-1+Object(o["B"])(1+2*(n-r)+a))/(2*e),Object(o["x"])(t)*o["s"]*(-f*Object(o["h"])(p+o["s"]/3)-l/(3*u))]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(79.4183)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){if(Object(o["a"])(t)<o["k"])return[e,0];var n=Object(o["a"])(t/o["o"]),r=Object(o["e"])(n);if(Object(o["a"])(e)<o["k"]||Object(o["a"])(Object(o["a"])(t)-o["o"])<o["k"])return[0,Object(o["x"])(t)*o["s"]*Object(o["F"])(r/2)];var i=Object(o["h"])(r),a=Object(o["a"])(o["s"]/e-e/o["s"])/2,s=a*a,l=i*(Object(o["B"])(1+s)-a*i)/(1+s*n*n);return[Object(o["x"])(e)*o["s"]*l,Object(o["x"])(t)*o["s"]*Object(o["B"])(1-l*(2*a+l))]}i.invert=function(e,t){if(!e)return[0,o["o"]*Object(o["y"])(2*Object(o["f"])(t/o["s"]))];var n=Object(o["a"])(e/o["s"]),r=(1-n*n-(t/=o["s"])*t)/(2*n),i=r*r,a=Object(o["B"])(i+1);return[Object(o["x"])(e)*o["s"]*(a-r),Object(o["x"])(t)*o["o"]*Object(o["y"])(2*Object(o["g"])(Object(o["B"])((1-2*r*n)*(r+a)-n),Object(o["B"])(a+r+n)))]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(79.4183)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){if(Object(o["a"])(t)<o["k"])return[e,0];var n=t/o["o"],r=Object(o["e"])(n);if(Object(o["a"])(e)<o["k"]||Object(o["a"])(Object(o["a"])(t)-o["o"])<o["k"])return[0,o["s"]*Object(o["F"])(r/2)];var i=(o["s"]/e-e/o["s"])/2,a=n/(1+Object(o["h"])(r));return[o["s"]*(Object(o["x"])(e)*Object(o["B"])(i*i+1-a*a)-i),o["s"]*a]}i.invert=function(e,t){if(!t)return[e,0];var n=t/o["s"],r=(o["s"]*o["s"]*(1-n*n)-e*e)/(2*o["s"]*e);return[e?o["s"]*(Object(o["x"])(e)*Object(o["B"])(r*r+1)-r):0,o["o"]*Object(o["y"])(2*Object(o["f"])(n))]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(79.4183)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){if(!t)return[e,0];var n=Object(o["a"])(t);if(!e||n===o["o"])return[0,t];var r=n/o["o"],i=r*r,a=(8*r-i*(i+2)-5)/(2*i*(r-1)),s=a*a,l=r*a,u=i+s+2*l,c=r+3*a,d=e/o["o"],f=d+1/d,p=Object(o["x"])(Object(o["a"])(e)-o["o"])*Object(o["B"])(f*f-4),h=p*p,m=u*(i+s*h-1)+(1-i)*(i*(c*c+4*s)+12*l*s+4*s*s),g=(p*(u+s-1)+2*Object(o["B"])(m))/(4*u+h);return[Object(o["x"])(e)*o["o"]*g,Object(o["x"])(t)*o["o"]*Object(o["B"])(1+p*Object(o["a"])(g)-g*g)]}i.invert=function(e,t){var n;if(!e||!t)return[e,t];t/=o["s"];var r=Object(o["x"])(e)*e/o["o"],i=(r*r-1+4*t*t)/Object(o["a"])(r),a=i*i,s=2*t,l=50;do{var u=s*s,c=(8*s-u*(u+2)-5)/(2*u*(s-1)),d=(3*s-u*s-10)/(2*u*s),f=c*c,p=s*c,h=s+c,m=h*h,g=s+3*c,v=m*(u+f*a-1)+(1-u)*(u*(g*g+4*f)+f*(12*p+4*f)),y=-2*h*(4*p*f+(1-4*u+3*u*u)*(1+d)+f*(14*u-6-a+(8*u-8-2*a)*d)+p*(12*u-8+(10*u-10-a)*d)),b=Object(o["B"])(v),x=i*(m+f-1)+2*b-r*(4*m+a),w=i*(2*c*d+2*h*(1+d))+y/b-8*h*(i*(-1+f+m)+2*b)*(1+d)/(a+4*m);s-=n=x/w}while(n>o["k"]&&--l>0);return[Object(o["x"])(e)*(Object(o["B"])(i*i+4)+i)*o["s"]/4,o["o"]*s]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(127.16)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var r=n(0),o=n(1),i=n(21),a=4*o["s"]+3*Object(o["B"])(3),s=2*Object(o["B"])(2*o["s"]*Object(o["B"])(3)/a),l=Object(i["b"])(s*Object(o["B"])(3)/o["s"],s,a/6);t["a"]=function(){return Object(r["geoProjection"])(l).scale(176.84)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){return[e*Object(o["B"])(1-3*t*t/(o["s"]*o["s"])),t]}i.invert=function(e,t){return[e/Object(o["B"])(1-3*t*t/(o["s"]*o["s"])),t]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(152.63)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){var n=.90631*Object(o["y"])(t),r=Object(o["B"])(1-n*n),i=Object(o["B"])(2/(1+r*Object(o["h"])(e/=3)));return[2.66723*r*i*Object(o["y"])(e),1.24104*n*i]}i.invert=function(e,t){var n=e/2.66723,r=t/1.24104,i=Object(o["B"])(n*n+r*r),a=2*Object(o["e"])(i/2);return[3*Object(o["g"])(e*Object(o["F"])(a),2.66723*i),i&&Object(o["e"])(t*Object(o["y"])(a)/(1.24104*.90631*i))]},t["a"]=function(){return Object(r["geoProjection"])(i).scale(172.632)}},function(e,t,n){"use strict";t["b"]=i;var r=n(0),o=n(1);function i(e,t){var n=Object(o["h"])(t),r=Object(o["h"])(e)*n,i=1-r,a=Object(o["h"])(e=Object(o["g"])(Object(o["y"])(e)*n,-Object(o["y"])(t))),s=Object(o["y"])(e);return n=Object(o["B"])(1-r*r),[s*n-a*i,-a*n-s*i]}i.invert=function(e,t){var n=(e*e+t*t)/-2,r=Object(o["B"])(-n*(2+n)),i=t*n+e*r,a=e*n-t*r,s=Object(o["B"])(a*a+i*i);return[Object(o["g"])(r*i,s*(1+n)),s?-Object(o["e"])(r*a/s):0]},t["a"]=function(){return Object(r["geoProjection"])(i).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}},function(e,t,n){"use strict";t["b"]=a;var r=n(0),o=n(129),i=n(1);function a(e,t){var n=Object(o["a"])(e,t);return[(n[0]+e/i["o"])/2,(n[1]+t)/2]}a.invert=function(e,t){var n=e,r=t,o=25;do{var a,s=Object(i["h"])(r),l=Object(i["y"])(r),u=Object(i["y"])(2*r),c=l*l,d=s*s,f=Object(i["y"])(n),p=Object(i["h"])(n/2),h=Object(i["y"])(n/2),m=h*h,g=1-d*p*p,v=g?Object(i["b"])(s*p)*Object(i["B"])(a=1/g):a=0,y=.5*(2*v*s*h+n/i["o"])-e,b=.5*(v*l+r)-t,x=.5*a*(d*m+v*s*p*c)+.5/i["o"],w=a*(f*u/4-v*l*h),_=.125*a*(u*h-v*l*d*f),C=.5*a*(c*p+v*m*s)+.5,S=w*_-C*x,k=(b*w-y*C)/S,O=(y*_-b*x)/S;n-=k,r-=O}while((Object(i["a"])(k)>i["k"]||Object(i["a"])(O)>i["k"])&&--o>0);return[n,r]},t["a"]=function(){return Object(r["geoProjection"])(a).scale(158.837)}},function(e,t,n){var r=n(11),o=n(54),i=n(140);function a(e,t){var n=void 0;if(r(t)&&(n=t),o(t)&&(n=function(e){return i(e,t)}),n)for(var a=0;a<e.length;a+=1)if(n(e[a]))return e[a];return null}e.exports=a},function(e,t){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e){return"object"===("undefined"===typeof e?"undefined":n(e))&&null!==e};e.exports=r},function(e,t,n){(function(e,r){r(t,n(323),n(33))})(0,(function(e,t,n){"use strict";var r=1e-6;function o(){}var i=1/0,a=i,s=-i,l=s,u={point:c,lineStart:o,lineEnd:o,polygonStart:o,polygonEnd:o,result:function(){var e=[[i,a],[s,l]];return s=l=-(a=i=1/0),e}};function c(e,t){e<i&&(i=e),e>s&&(s=e),t<a&&(a=t),t>l&&(l=t)}function d(e,n,r){var o=n[1][0]-n[0][0],i=n[1][1]-n[0][1],a=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=a&&e.clipExtent(null),t.geoStream(r,e.stream(u));var s=u.result(),l=Math.min(o/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),c=+n[0][0]+(o-l*(s[1][0]+s[0][0]))/2,d=+n[0][1]+(i-l*(s[1][1]+s[0][1]))/2;return null!=a&&e.clipExtent(a),e.scale(150*l).translate([c,d])}function f(e,t,n){return d(e,[[0,0],t],n)}function p(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function h(){var e,o,i,a,s,l,u=t.geoAlbers(),c=t.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=t.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),m={point:function(e,t){l=[e,t]}};function g(e){var t=e[0],n=e[1];return l=null,i.point(t,n),l||(a.point(t,n),l)||(s.point(t,n),l)}function v(){return e=o=null,g}return g.invert=function(e){var t=u.scale(),n=u.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?c:o>=.166&&o<.234&&r>=-.214&&r<-.115?h:u).invert(e)},g.stream=function(t){return e&&o===t?e:e=p([u.stream(o=t),c.stream(t),h.stream(t)])},g.precision=function(e){return arguments.length?(u.precision(e),c.precision(e),h.precision(e),v()):u.precision()},g.scale=function(e){return arguments.length?(u.scale(e),c.scale(.35*e),h.scale(e),g.translate(u.translate())):u.scale()},g.translate=function(e){if(!arguments.length)return u.translate();var t=u.scale(),n=+e[0],o=+e[1];return i=u.translate(e).clipExtent([[n-.455*t,o-.238*t],[n+.455*t,o+.238*t]]).stream(m),a=c.translate([n-.307*t,o+.201*t]).clipExtent([[n-.425*t+r,o+.12*t+r],[n-.214*t-r,o+.234*t-r]]).stream(m),s=h.translate([n-.205*t,o+.212*t]).clipExtent([[n-.214*t+r,o+.166*t+r],[n-.115*t-r,o+.234*t-r]]).stream(m),v()},g.fitExtent=function(e,t){return d(g,e,t)},g.fitSize=function(e,t){return f(g,e,t)},g.drawCompositionBorders=function(e){var t=u([-102.91,26.3]),n=u([-104,27.5]),r=u([-108,29.1]),o=u([-110,29.1]),i=u([-110,26.7]),a=u([-112.8,27.6]),s=u([-114.3,30.6]),l=u([-119.3,30.1]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.moveTo(i[0],i[1]),e.lineTo(a[0],a[1]),e.lineTo(s[0],s[1]),e.lineTo(l[0],l[1])},g.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},g.scale(1070)}function m(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function g(){var e,o,i,a,s,l,u,c,p,h=t.geoAlbers(),g=t.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),v=t.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),y=t.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),b=t.geoEquirectangular().rotate([173,14]),x=t.geoEquirectangular().rotate([-145,-16.8]),w={point:function(e,t){p=[e,t]}};function _(e){var t=e[0],n=e[1];return p=null,i.point(t,n),p||(a.point(t,n),p)||(s.point(t,n),p)||(l.point(t,n),p)||(u.point(t,n),p)||(c.point(t,n),p)}function C(){return e=o=null,_}return _.invert=function(e){var t=h.scale(),n=h.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?g:o>=.166&&o<.234&&r>=-.214&&r<-.115?v:o>=.2064&&o<.2413&&r>=.312&&r<.385?y:o>=.09&&o<.1197&&r>=-.4243&&r<-.3232?b:o>=-.0518&&o<.0895&&r>=-.4243&&r<-.3824?x:h).invert(e)},_.stream=function(t){return e&&o===t?e:e=m([h.stream(o=t),g.stream(t),v.stream(t),y.stream(t),b.stream(t),x.stream(t)])},_.precision=function(e){return arguments.length?(h.precision(e),g.precision(e),v.precision(e),y.precision(e),b.precision(e),x.precision(e),C()):h.precision()},_.scale=function(e){return arguments.length?(h.scale(e),g.scale(.35*e),v.scale(e),y.scale(e),b.scale(2*e),x.scale(e),_.translate(h.translate())):h.scale()},_.translate=function(e){if(!arguments.length)return h.translate();var t=h.scale(),n=+e[0],o=+e[1];return i=h.translate(e).clipExtent([[n-.455*t,o-.238*t],[n+.455*t,o+.238*t]]).stream(w),a=g.translate([n-.307*t,o+.201*t]).clipExtent([[n-.425*t+r,o+.12*t+r],[n-.214*t-r,o+.233*t-r]]).stream(w),s=v.translate([n-.205*t,o+.212*t]).clipExtent([[n-.214*t+r,o+.166*t+r],[n-.115*t-r,o+.233*t-r]]).stream(w),l=y.translate([n+.35*t,o+.224*t]).clipExtent([[n+.312*t+r,o+.2064*t+r],[n+.385*t-r,o+.233*t-r]]).stream(w),u=b.translate([n-.492*t,o+.09*t]).clipExtent([[n-.4243*t+r,o+.0903*t+r],[n-.3233*t-r,o+.1197*t-r]]).stream(w),c=x.translate([n-.408*t,o+.018*t]).clipExtent([[n-.4244*t+r,o-.0519*t+r],[n-.3824*t-r,o+.0895*t-r]]).stream(w),C()},_.fitExtent=function(e,t){return d(_,e,t)},_.fitSize=function(e,t){return f(_,e,t)},_.drawCompositionBorders=function(e){var t=h([-110.4641,28.2805]),n=h([-104.0597,28.9528]),r=h([-103.7049,25.1031]),o=h([-109.8337,24.4531]),i=h([-124.4745,28.1407]),a=h([-110.931,30.8844]),s=h([-109.8337,24.4531]),l=h([-122.4628,21.8562]),u=h([-76.8579,25.1544]),c=h([-72.429,24.2097]),d=h([-72.8265,22.7056]),f=h([-77.1852,23.6392]),p=h([-125.0093,29.7791]),m=h([-118.5193,31.3262]),g=h([-118.064,29.6912]),v=h([-124.4369,28.169]),y=h([-128.1314,37.4582]),b=h([-125.2132,38.214]),x=h([-122.3616,30.5115]),w=h([-125.0315,29.8211]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),e.moveTo(i[0],i[1]),e.lineTo(a[0],a[1]),e.lineTo(s[0],s[1]),e.lineTo(s[0],s[1]),e.lineTo(l[0],l[1]),e.closePath(),e.moveTo(u[0],u[1]),e.lineTo(c[0],c[1]),e.lineTo(d[0],d[1]),e.lineTo(d[0],d[1]),e.lineTo(f[0],f[1]),e.closePath(),e.moveTo(p[0],p[1]),e.lineTo(m[0],m[1]),e.lineTo(g[0],g[1]),e.lineTo(g[0],g[1]),e.lineTo(v[0],v[1]),e.closePath(),e.moveTo(y[0],y[1]),e.lineTo(b[0],b[1]),e.lineTo(x[0],x[1]),e.lineTo(x[0],x[1]),e.lineTo(w[0],w[1]),e.closePath()},_.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},_.scale(1070)}function v(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function y(){var e,o,i,a,s,l=t.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),u=t.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),c={point:function(e,t){s=[e,t]}};function p(e){var t=e[0],n=e[1];return s=null,i.point(t,n),s||(a.point(t,n),s)}function h(){return e=o=null,p}return p.invert=function(e){var t=l.scale(),n=l.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.05346&&o<.0897&&r>=-.13388&&r<-.0322?u:l).invert(e)},p.stream=function(t){return e&&o===t?e:e=v([l.stream(o=t),u.stream(t)])},p.precision=function(e){return arguments.length?(l.precision(e),u.precision(e),h()):l.precision()},p.scale=function(e){return arguments.length?(l.scale(e),u.scale(e),p.translate(l.translate())):l.scale()},p.translate=function(e){if(!arguments.length)return l.translate();var t=l.scale(),n=+e[0],o=+e[1];return i=l.translate(e).clipExtent([[n-.06857*t,o-.1288*t],[n+.13249*t,o+.06*t]]).stream(c),a=u.translate([n+.1*t,o-.094*t]).clipExtent([[n-.1331*t+r,o+.053457*t+r],[n-.0354*t-r,o+.08969*t-r]]).stream(c),h()},p.fitExtent=function(e,t){return d(p,e,t)},p.fitSize=function(e,t){return f(p,e,t)},p.drawCompositionBorders=function(e){var t=l([-14.034675,34.965007]),n=l([-7.4208899,35.536988]),r=l([-7.3148275,33.54359]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1])},p.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},p.scale(2700)}function b(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function x(){var e,o,i,a,s,l,u=t.geoConicConformal().rotate([10,-39.3]).parallels([0,60]),c=t.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),p=t.geoConicConformal().rotate([27.8,-38.6]).parallels([0,60]),h={point:function(e,t){l=[e,t]}};function m(e){var t=e[0],n=e[1];return l=null,i.point(t,n),l||(a.point(t,n),l)||(s.point(t,n),l)}function g(){return e=o=null,m}return m.invert=function(e){var t=u.scale(),n=u.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.0093&&o<.03678&&r>=-.03875&&r<-.0116?c:o>=-.0412&&o<.0091&&r>=-.07782&&r<-.01166?p:u).invert(e)},m.stream=function(t){return e&&o===t?e:e=b([u.stream(o=t),c.stream(t),p.stream(t)])},m.precision=function(e){return arguments.length?(u.precision(e),c.precision(e),p.precision(e),g()):u.precision()},m.scale=function(e){return arguments.length?(u.scale(e),c.scale(e),p.scale(.6*e),m.translate(u.translate())):u.scale()},m.translate=function(e){if(!arguments.length)return u.translate();var t=u.scale(),n=+e[0],o=+e[1];return i=u.translate(e).clipExtent([[n-.0115*t,o-.1138*t],[n+.2105*t,o+.0673*t]]).stream(h),a=c.translate([n-.0265*t,o+.025*t]).clipExtent([[n-.0388*t+r,o+.0093*t+r],[n-.0116*t-r,o+.0368*t-r]]).stream(h),s=p.translate([n-.045*t,o+-.02*t]).clipExtent([[n-.0778*t+r,o-.0413*t+r],[n-.0117*t-r,o+.0091*t-r]]).stream(h),g()},m.fitExtent=function(e,t){return d(m,e,t)},m.fitSize=function(e,t){return f(m,e,t)},m.drawCompositionBorders=function(e){var t=u([-12.8351,38.7113]),n=u([-10.8482,38.7633]),r=u([-10.8181,37.2072]),o=u([-12.7345,37.1573]),i=u([-16.0753,41.4436]),a=u([-10.9168,41.6861]),s=u([-10.8557,38.7747]),l=u([-15.6728,38.5505]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),e.moveTo(i[0],i[1]),e.lineTo(a[0],a[1]),e.lineTo(s[0],s[1]),e.lineTo(s[0],s[1]),e.lineTo(l[0],l[1]),e.closePath()},m.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},m.scale(4200)}function w(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function _(){var e,o,i,a,s,l=t.geoMercator().rotate([80,1.5]),u=t.geoMercator().rotate([90.73,1]),c={point:function(e,t){s=[e,t]}};function p(e){var t=e[0],n=e[1];return s=null,i.point(t,n),s||(a.point(t,n),s)}function h(){return e=o=null,p}return p.invert=function(e){var t=l.scale(),n=l.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=-.0676&&o<-.026&&r>=-.0857&&r<-.0263?u:l).invert(e)},p.stream=function(t){return e&&o===t?e:e=w([l.stream(o=t),u.stream(t)])},p.precision=function(e){return arguments.length?(l.precision(e),u.precision(e),h()):l.precision()},p.scale=function(e){return arguments.length?(l.scale(e),u.scale(e),p.translate(l.translate())):l.scale()},p.translate=function(e){if(!arguments.length)return l.translate();var t=l.scale(),n=+e[0],o=+e[1];return i=l.translate(e).clipExtent([[n-.0262*t,o-.0734*t],[n+.1741*t,o+.079*t]]).stream(c),a=u.translate([n-.06*t,o-.04*t]).clipExtent([[n-.0857*t+r,o-.0676*t+r],[n-.0263*t-r,o-.026*t-r]]).stream(c),h()},p.fitExtent=function(e,t){return d(p,e,t)},p.fitSize=function(e,t){return f(p,e,t)},p.drawCompositionBorders=function(e){var t=l([-84.9032,2.3757]),n=l([-81.5047,2.3708]),r=l([-81.5063,-.01]),o=l([-84.9086,-.005]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath()},p.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},p.scale(3500)}function C(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function S(){var e,o,i,a,s,l,u,c=t.geoTransverseMercator().rotate([72,37]),p=t.geoStereographic().rotate([72,0]),h=t.geoMercator().rotate([80,33.5]),m=t.geoMercator().rotate([110,25]),g={point:function(e,t){u=[e,t]}};function v(e){var t=e[0],n=e[1];return u=null,i.point(t,n),u||(a.point(t,n),u)||(s.point(t,n),u)||(l.point(t,n),u)}function y(){return e=o=null,v}return v.invert=function(e){var t=c.scale(),n=c.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.2582&&o<.32&&r>=-.1036&&r<-.087?p:o>=-.01298&&o<.0133&&r>=-.11396&&r<-.05944?h:o>=.01539&&o<.03911&&r>=-.089&&r<-.0588?m:c).invert(e)},v.stream=function(t){return e&&o===t?e:e=C([c.stream(o=t),p.stream(t),h.stream(t),m.stream(t)])},v.precision=function(e){return arguments.length?(c.precision(e),p.precision(e),h.precision(e),m.precision(e),y()):c.precision()},v.scale=function(e){return arguments.length?(c.scale(e),p.scale(.15*e),h.scale(1.5*e),m.scale(1.5*e),v.translate(c.translate())):c.scale()},v.translate=function(e){if(!arguments.length)return c.translate();var t=c.scale(),n=+e[0],o=+e[1];return i=c.translate(e).clipExtent([[n-.059*t,o-.3835*t],[n+.4498*t,o+.3375*t]]).stream(g),a=p.translate([n-.087*t,o+.17*t]).clipExtent([[n-.1166*t+r,o+.2582*t+r],[n-.06*t-r,o+.32*t-r]]).stream(g),s=h.translate([n-.092*t,o-0*t]).clipExtent([[n-.114*t+r,o-.013*t+r],[n-.0594*t-r,o+.0133*t-r]]).stream(g),l=m.translate([n-.089*t,o-.0265*t]).clipExtent([[n-.089*t+r,o+.0154*t+r],[n-.0588*t-r,o+.0391*t-r]]).stream(g),y()},v.fitExtent=function(e,t){return d(v,e,t)},v.fitSize=function(e,t){return f(v,e,t)},v.drawCompositionBorders=function(e){var t=c([-82.6999,-51.3043]),n=c([-77.5442,-51.6631]),r=c([-78.0254,-55.186]),o=c([-83.6106,-54.7785]),i=c([-80.0638,-35.984]),a=c([-76.2153,-36.1811]),s=c([-76.2994,-37.6839]),l=c([-80.2231,-37.4757]),u=c([-78.442,-37.706]),d=c([-76.263,-37.8054]),f=c([-76.344,-39.1595]),p=c([-78.5638,-39.0559]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),e.moveTo(i[0],i[1]),e.lineTo(a[0],a[1]),e.lineTo(s[0],s[1]),e.lineTo(s[0],s[1]),e.lineTo(l[0],l[1]),e.closePath(),e.moveTo(u[0],u[1]),e.lineTo(d[0],d[1]),e.lineTo(f[0],f[1]),e.lineTo(f[0],f[1]),e.lineTo(p[0],p[1]),e.closePath()},v.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},v.scale(700)}function k(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function O(){var e,o,i,a,s,l,u=t.geoConicEquidistant().rotate([-136,-22]).parallels([40,34]),c=t.geoConicEquidistant().rotate([-146,-26]).parallels([40,34]),p=t.geoConicEquidistant().rotate([-126,-19]).parallels([40,34]),h={point:function(e,t){l=[e,t]}};function m(e){var t=e[0],n=e[1];return l=null,i.point(t,n),l||(a.point(t,n),l)||(s.point(t,n),l)}function g(){return e=o=null,m}return m.invert=function(e){var t=u.scale(),n=u.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=-.10925&&o<-.02701&&r>=-.135&&r<-.0397?c:o>=.04713&&o<.11138&&r>=-.03986&&r<.051?p:u).invert(e)},m.stream=function(t){return e&&o===t?e:e=k([u.stream(o=t),c.stream(t),p.stream(t)])},m.precision=function(e){return arguments.length?(u.precision(e),c.precision(e),p.precision(e),g()):u.precision()},m.scale=function(e){return arguments.length?(u.scale(e),c.scale(e),p.scale(.7*e),m.translate(u.translate())):u.scale()},m.translate=function(e){if(!arguments.length)return u.translate();var t=u.scale(),n=+e[0],o=+e[1];return i=u.translate(e).clipExtent([[n-.1352*t,o-.1091*t],[n+.117*t,o+.098*t]]).stream(h),a=c.translate([n-.0425*t,o-.005*t]).clipExtent([[n-.135*t+r,o-.1093*t+r],[n-.0397*t-r,o-.027*t-r]]).stream(h),s=p.translate(e).clipExtent([[n-.0399*t+r,o+.0471*t+r],[n+.051*t-r,o+.1114*t-r]]).stream(h),g()},m.fitExtent=function(e,t){return d(m,e,t)},m.fitSize=function(e,t){return f(m,e,t)},m.drawCompositionBorders=function(e){var t=u([126.01320483689143,41.621090310215585]),n=u([133.04304387025903,42.15087523707186]),r=u([133.3021766080688,37.43975444725098]),o=u([126.87889168628224,36.95488945159779]),i=u([132.9,29.8]),a=u([134,33]),s=u([139.3,33.2]),l=u([139.16,30.5]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),e.moveTo(i[0],i[1]),e.lineTo(a[0],a[1]),e.lineTo(s[0],s[1]),e.lineTo(l[0],l[1])},m.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},m.scale(2200)}function T(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function M(){var e,o,i,a,s,l,u,c,p,h,m,g,v,y,b,x=t.geoConicConformal().rotate([-3,-46.2]).parallels([0,60]),w=t.geoMercator().center([-53.2,3.9]),_=t.geoMercator().center([-61.03,14.67]),C=t.geoMercator().center([-61.46,16.14]),S=t.geoMercator().center([-62.85,17.92]),k=t.geoMercator().center([-56.23,46.93]),O=t.geoMercator().center([45.16,-12.8]),M=t.geoMercator().center([55.52,-21.13]),D=t.geoMercator().center([165.8,-21.07]),I=t.geoMercator().center([-178.1,-14.3]),E=t.geoMercator().center([-150.55,-17.11]),A=t.geoMercator().center([-150.55,-17.11]),L={point:function(e,t){b=[e,t]}};function j(e){var t=e[0],n=e[1];return b=null,i.point(t,n),b||(a.point(t,n),b)||(s.point(t,n),b)||(l.point(t,n),b)||(u.point(t,n),b)||(c.point(t,n),b)||(p.point(t,n),b)||(h.point(t,n),b)||(m.point(t,n),b)||(g.point(t,n),b)||(v.point(t,n),b)||(y.point(t,n),b)}function N(){return e=o=null,j}return j.invert=function(e){var t=x.scale(),n=x.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.029&&o<.0864&&r>=-.14&&r<-.0996?w:o>=0&&o<.029&&r>=-.14&&r<-.0996?_:o>=-.032&&o<0&&r>=-.14&&r<-.0996?C:o>=-.052&&o<-.032&&r>=-.14&&r<-.0996?S:o>=-.076&&o<.052&&r>=-.14&&r<-.0996?k:o>=-.076&&o<-.052&&r>=.0967&&r<.1371?O:o>=-.052&&o<-.02&&r>=.0967&&r<.1371?M:o>=-.02&&o<.012&&r>=.0967&&r<.1371?D:o>=.012&&o<.033&&r>=.0967&&r<.1371?I:o>=.033&&o<.0864&&r>=.0967&&r<.1371?E:x).invert(e)},j.stream=function(t){return e&&o===t?e:e=T([x.stream(o=t),w.stream(t),_.stream(t),C.stream(t),S.stream(t),k.stream(t),O.stream(t),M.stream(t),D.stream(t),I.stream(t),E.stream(t),A.stream(t)])},j.precision=function(e){return arguments.length?(x.precision(e),w.precision(e),_.precision(e),C.precision(e),S.precision(e),k.precision(e),O.precision(e),M.precision(e),D.precision(e),I.precision(e),E.precision(e),A.precision(e),N()):x.precision()},j.scale=function(e){return arguments.length?(x.scale(e),w.scale(.6*e),_.scale(1.6*e),C.scale(1.4*e),S.scale(5*e),k.scale(1.3*e),O.scale(1.6*e),M.scale(1.2*e),D.scale(.3*e),I.scale(2.7*e),E.scale(.5*e),A.scale(.06*e),j.translate(x.translate())):x.scale()},j.translate=function(e){if(!arguments.length)return x.translate();var t=x.scale(),n=+e[0],o=+e[1];return i=x.translate(e).clipExtent([[n-.0996*t,o-.0908*t],[n+.0967*t,o+.0864*t]]).stream(L),a=w.translate([n-.12*t,o+.0575*t]).clipExtent([[n-.14*t+r,o+.029*t+r],[n-.0996*t-r,o+.0864*t-r]]).stream(L),s=_.translate([n-.12*t,o+.013*t]).clipExtent([[n-.14*t+r,o+0*t+r],[n-.0996*t-r,o+.029*t-r]]).stream(L),l=C.translate([n-.12*t,o-.014*t]).clipExtent([[n-.14*t+r,o-.032*t+r],[n-.0996*t-r,o+0*t-r]]).stream(L),u=S.translate([n-.12*t,o-.044*t]).clipExtent([[n-.14*t+r,o-.052*t+r],[n-.0996*t-r,o-.032*t-r]]).stream(L),c=k.translate([n-.12*t,o-.065*t]).clipExtent([[n-.14*t+r,o-.076*t+r],[n-.0996*t-r,o-.052*t-r]]).stream(L),p=O.translate([n+.117*t,o-.064*t]).clipExtent([[n+.0967*t+r,o-.076*t+r],[n+.1371*t-r,o-.052*t-r]]).stream(L),h=M.translate([n+.116*t,o-.0355*t]).clipExtent([[n+.0967*t+r,o-.052*t+r],[n+.1371*t-r,o-.02*t-r]]).stream(L),m=D.translate([n+.116*t,o-.0048*t]).clipExtent([[n+.0967*t+r,o-.02*t+r],[n+.1371*t-r,o+.012*t-r]]).stream(L),g=I.translate([n+.116*t,o+.022*t]).clipExtent([[n+.0967*t+r,o+.012*t+r],[n+.1371*t-r,o+.033*t-r]]).stream(L),y=A.translate([n+.11*t,o+.045*t]).clipExtent([[n+.0967*t+r,o+.033*t+r],[n+.1371*t-r,o+.06*t-r]]).stream(L),v=E.translate([n+.115*t,o+.075*t]).clipExtent([[n+.0967*t+r,o+.06*t+r],[n+.1371*t-r,o+.0864*t-r]]).stream(L),N()},j.fitExtent=function(e,t){return d(j,e,t)},j.fitSize=function(e,t){return f(j,e,t)},j.drawCompositionBorders=function(e){var t,n,r,o;t=x([-7.938886725111036,43.7219460918835]),n=x([-4.832080896458295,44.12930268549372]),r=x([-4.205299743793263,40.98096346967365]),o=x([-7.071796453126152,40.610037319181444]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([-8.42751373617692,45.32889452553031]),n=x([-5.18599305777107,45.7566442062976]),r=x([-4.832080905154431,44.129302726751426]),o=x([-7.938886737126192,43.72194613263854]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([-9.012656899657046,47.127733821030176]),n=x([-5.6105244772793155,47.579777861410626]),r=x([-5.185993067168585,45.756644248170346]),o=x([-8.427513749141811,45.32889456686326]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([-9.405747558985553,48.26506375557457]),n=x([-5.896175018439575,48.733352850851624]),r=x([-5.610524487556043,47.57977790393761]),o=x([-9.012656913808351,47.127733862971255]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([-9.908436061346974,49.642448789505856]),n=x([-6.262026716233124,50.131426841787174]),r=x([-5.896175029331232,48.73335289377258]),o=x([-9.40574757396393,48.26506379787767]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([11.996907706504462,50.16039028163579]),n=x([15.649907879773343,49.68279246765253]),r=x([15.156712840526632,48.30371557625831]),o=x([11.64122661754411,48.761078240546816]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([11.641226606955788,48.7610781975889]),n=x([15.156712825832164,48.30371553390465]),r=x([14.549932166241172,46.4866532486199]),o=x([11.204443787952183,46.91899233914248]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([11.204443778297161,46.918992296823646]),n=x([14.549932152815039,46.486653206856396]),r=x([13.994409796764009,44.695833444323256]),o=x([10.805306599253848,45.105133870684924]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([10.805306590412085,45.10513382903308]),n=x([13.99440978444733,44.695833403183606]),r=x([13.654633799024392,43.53552468558152]),o=x([10.561516803980956,43.930671459798624]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([10.561516795617383,43.93067141859757]),n=x([13.654633787361952,43.5355246448671]),r=x([12.867691604239901,40.640701985019405]),o=x([9.997809515987688,41.00288343254471]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([10.8,42.4]),n=x([12.8,42.13]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1])},j.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},j.scale(2700)}function D(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function I(){var e,o,i,a,s,l,u,c,p,h,m,g,v,y,b,x=t.geoConicConformal().rotate([-10,-53]).parallels([0,60]),w=t.geoMercator().center([-61.46,16.14]),_=t.geoMercator().center([-53.2,3.9]),C=t.geoConicConformal().rotate([27.8,-38.9]).parallels([0,60]),S=t.geoConicConformal().rotate([25.43,-37.398]).parallels([0,60]),k=t.geoConicConformal().rotate([31.17,-39.539]).parallels([0,60]),O=t.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),T=t.geoConicConformal().rotate([16,-28.5]).parallels([0,60]),M=t.geoMercator().center([-61.03,14.67]),I=t.geoMercator().center([45.16,-12.8]),E=t.geoMercator().center([55.52,-21.13]),A=t.geoConicConformal().rotate([-14.4,-35.95]).parallels([0,60]),L={point:function(e,t){b=[e,t]}};function j(e){var t=e[0],n=e[1];return b=null,i.point(t,n),b||(s.point(t,n),b)||(m.point(t,n),b)||(a.point(t,n),b)||(h.point(t,n),b)||(p.point(t,n),b)||(g.point(t,n),b)||(v.point(t,n),b)||(y.point(t,n),b)||(l.point(t,n),b)||(u.point(t,n),b)||(c.point(t,n),b)}function N(){return e=o=null,j}return j.invert=function(e){var t=x.scale(),n=x.translate(),r=(e[0]-(n[0]+.08*t))/t,o=(e[1]-n[1])/t;return(o>=-.31&&o<-.24&&r>=.14&&r<.24?w:o>=-.24&&o<-.17&&r>=.14&&r<.24?_:o>=-.17&&o<-.12&&r>=.21&&r<.24?S:o>=-.17&&o<-.14&&r>=.14&&r<.165?k:o>=-.17&&o<-.1&&r>=.14&&r<.24?C:o>=-.1&&o<-.03&&r>=.14&&r<.24?O:o>=-.03&&o<.04&&r>=.14&&r<.24?T:o>=-.31&&o<-.24&&r>=.24&&r<.34?M:o>=-.24&&o<-.17&&r>=.24&&r<.34?I:o>=-.17&&o<-.1&&r>=.24&&r<.34?E:o>=-.1&&o<-.03&&r>=.24&&r<.34?A:x).invert(e)},j.stream=function(t){return e&&o===t?e:e=D([x.stream(o=t),_.stream(t),M.stream(t),w.stream(t),T.stream(t),O.stream(t),I.stream(t),E.stream(t),A.stream(t),C.stream(t),S.stream(t),k.stream(t)])},j.precision=function(e){return arguments.length?(x.precision(e),_.precision(e),M.precision(e),w.precision(e),T.precision(e),O.precision(e),I.precision(e),E.precision(e),A.precision(e),C.precision(e),S.precision(e),k.precision(e),N()):x.precision()},j.scale=function(e){return arguments.length?(x.scale(e),w.scale(3*e),_.scale(.8*e),M.scale(3.5*e),E.scale(2.7*e),C.scale(2*e),S.scale(2*e),k.scale(2*e),O.scale(3*e),T.scale(e),I.scale(5.5*e),A.scale(6*e),j.translate(x.translate())):x.scale()},j.translate=function(e){if(!arguments.length)return x.translate();var t=x.scale(),n=+e[0],o=+e[1];return i=x.translate([n-.08*t,o]).clipExtent([[n-.51*t,o-.33*t],[n+.5*t,o+.33*t]]).stream(L),a=w.translate([n+.19*t,o-.275*t]).clipExtent([[n+.14*t+r,o-.31*t+r],[n+.24*t-r,o-.24*t-r]]).stream(L),s=_.translate([n+.19*t,o-.205*t]).clipExtent([[n+.14*t+r,o-.24*t+r],[n+.24*t-r,o-.17*t-r]]).stream(L),l=C.translate([n+.19*t,o-.135*t]).clipExtent([[n+.14*t+r,o-.17*t+r],[n+.24*t-r,o-.1*t-r]]).stream(L),u=S.translate([n+.225*t,o-.147*t]).clipExtent([[n+.21*t+r,o-.17*t+r],[n+.24*t-r,o-.12*t-r]]).stream(L),c=k.translate([n+.153*t,o-.15*t]).clipExtent([[n+.14*t+r,o-.17*t+r],[n+.165*t-r,o-.14*t-r]]).stream(L),p=O.translate([n+.19*t,o-.065*t]).clipExtent([[n+.14*t+r,o-.1*t+r],[n+.24*t-r,o-.03*t-r]]).stream(L),h=T.translate([n+.19*t,o+.005*t]).clipExtent([[n+.14*t+r,o-.03*t+r],[n+.24*t-r,o+.04*t-r]]).stream(L),m=M.translate([n+.29*t,o-.275*t]).clipExtent([[n+.24*t+r,o-.31*t+r],[n+.34*t-r,o-.24*t-r]]).stream(L),g=I.translate([n+.29*t,o-.205*t]).clipExtent([[n+.24*t+r,o-.24*t+r],[n+.34*t-r,o-.17*t-r]]).stream(L),v=E.translate([n+.29*t,o-.135*t]).clipExtent([[n+.24*t+r,o-.17*t+r],[n+.34*t-r,o-.1*t-r]]).stream(L),y=A.translate([n+.29*t,o-.065*t]).clipExtent([[n+.24*t+r,o-.1*t+r],[n+.34*t-r,o-.03*t-r]]).stream(L),N()},j.fitExtent=function(e,t){return d(j,e,t)},j.fitSize=function(e,t){return f(j,e,t)},j.drawCompositionBorders=function(e){var t,n,r,o;t=x([42.45755610828648,63.343658547914934]),n=x([52.65837266667029,59.35045080290929]),r=x([47.19754502247785,56.12653496548117]),o=x([37.673034273363044,59.61638268506111]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([59.41110754003403,62.35069727399336]),n=x([66.75050228640794,57.11797303636038]),r=x([60.236065725110436,54.63331433818992]),o=x([52.65837313153311,59.350450804599355]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([48.81091130080243,66.93353402634641]),n=x([59.41110730654679,62.35069740653086]),r=x([52.6583728974441,59.3504509222445]),o=x([42.45755631675751,63.34365868805821]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([31.054198418446475,52.1080673766184]),n=x([39.09869284884117,49.400700047190554]),r=x([36.0580811499175,46.02944174908498]),o=x([28.690508588835726,48.433126979386415]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([33.977877745912025,55.849945501331]),n=x([42.75328432167726,52.78455122462353]),r=x([39.09869297540224,49.400700176148625]),o=x([31.05419851807008,52.10806751810923]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([52.658372900759296,59.35045068526415]),n=x([60.23606549583304,54.63331423800264]),r=x([54.6756370953122,51.892298789399455]),o=x([47.19754524788189,56.126534861222794]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([47.19754506082455,56.126534735591456]),n=x([54.675636900123514,51.892298681337095]),r=x([49.94448648951486,48.98775484983285]),o=x([42.75328468716108,52.78455126060818]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([42.75328453416769,52.78455113209101]),n=x([49.94448632339758,48.98775473706457]),r=x([45.912339990394315,45.99361784987003]),o=x([39.09869317356607,49.40070009378711]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([37.673034114296634,59.61638254183119]),n=x([47.197544835420544,56.126534839849846]),r=x([42.75328447467064,52.78455135314068]),o=x([33.977877870363905,55.849945644671145]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([44.56748486446032,57.26489367845818]),r=x([43.9335791193588,53.746540942601726]),o=x([43,56]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=x([37.673034114296634,59.61638254183119]),n=x([40.25902691953466,58.83002044222639]),r=x([38.458270492742024,57.26232178028002]),o=x([35.97754948030156,58.00266637992386]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath()},j.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},j.scale(750)}function E(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function A(){var e,o,i,a,s,l=t.geoMercator().center([105.25,4]),u=t.geoMercator().center([118.65,2.86]),c={point:function(e,t){s=[e,t]}};function p(e){var t=e[0],n=e[1];return s=null,i.point(t,n),s||(a.point(t,n),s)}function h(){return e=o=null,p}return p.invert=function(e){var t=l.scale(),n=l.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=-.0521&&o<.0229&&r>=-.0111&&r<.1?u:l).invert(e)},p.stream=function(t){return e&&o===t?e:e=E([l.stream(o=t),u.stream(t)])},p.precision=function(e){return arguments.length?(l.precision(e),u.precision(e),h()):l.precision()},p.scale=function(e){return arguments.length?(l.scale(e),u.scale(.615*e),p.translate(l.translate())):l.scale()},p.translate=function(e){if(!arguments.length)return l.translate();var t=l.scale(),n=+e[0],o=+e[1];return i=l.translate(e).clipExtent([[n-.11*t,o-.0521*t],[n-.0111*t,o+.0521*t]]).stream(c),a=u.translate([n+.09*t,o-0*t]).clipExtent([[n-.0111*t+r,o-.0521*t+r],[n+.1*t-r,o+.024*t-r]]).stream(c),h()},p.fitExtent=function(e,t){return d(p,e,t)},p.fitSize=function(e,t){return f(p,e,t)},p.drawCompositionBorders=function(e){var t=l([106.3214,2.0228]),n=l([105.1843,2.3761]),r=l([104.2151,3.3618]),o=l([104.215,4.5651]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1])},p.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},p.scale(4800)}function L(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function j(){var e,o,i,a,s,l,u=t.geoMercator().rotate([-9.5,-1.5]),c=t.geoMercator().rotate([-8.6,-3.5]),p=t.geoMercator().rotate([-5.6,1.45]),h={point:function(e,t){l=[e,t]}};function m(e){var t=e[0],n=e[1];return l=null,i.point(t,n),l||(a.point(t,n),l)||(s.point(t,n),l)}function g(){return e=o=null,m}return m.invert=function(e){var t=u.scale(),n=u.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=-.02&&o<0&&r>=-.038&&r<-.005?c:o>=0&&o<.02&&r>=-.038&&r<-.005?p:u).invert(e)},m.stream=function(t){return e&&o===t?e:e=L([u.stream(o=t),c.stream(t),p.stream(t)])},m.precision=function(e){return arguments.length?(u.precision(e),c.precision(e),p.precision(e),g()):u.precision()},m.scale=function(e){return arguments.length?(u.scale(e),c.scale(1.5*e),p.scale(4*e),m.translate(u.translate())):u.scale()},m.translate=function(e){if(!arguments.length)return u.translate();var t=u.scale(),n=+e[0],o=+e[1];return i=u.translate(e).clipExtent([[n-.005*t,o-.02*t],[n+.038*t,o+.02*t]]).stream(h),a=c.translate([n-.025*t,o-.01*t]).clipExtent([[n-.038*t+r,o-.02*t+r],[n-.005*t-r,o+0*t-r]]).stream(h),s=p.translate([n-.025*t,o+.01*t]).clipExtent([[n-.038*t+r,o-0*t+r],[n-.005*t-r,o+.02*t-r]]).stream(h),g()},m.fitExtent=function(e,t){return d(m,e,t)},m.fitSize=function(e,t){return f(m,e,t)},m.drawCompositionBorders=function(e){var t,n,r,o;t=u([9.21327272751682,2.645820439454123]),n=u([11.679126293239872,2.644755519268689]),r=u([11.676845389029227,.35307824637606433]),o=u([9.213572917774014,.35414205204417754]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=u([7.320873711543669,2.64475551449975]),n=u([9.213272722738658,2.645820434679803]),r=u([9.213422896480349,1.4999812505283054]),o=u([7.322014760520787,1.4989168878985566]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=u([7.3220147605302905,1.4989168783492766]),n=u([9.213422896481598,1.499981240979021]),r=u([9.213572912999604,.354142056817247]),o=u([7.323154615739809,.353078251154504]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath()},m.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},m.scale(12e3)}e.geoAlbersUsa=h,e.geoAlbersUsaTerritories=g,e.geoConicConformalSpain=y,e.geoConicConformalPortugal=x,e.geoMercatorEcuador=_,e.geoTransverseMercatorChile=S,e.geoConicEquidistantJapan=O,e.geoConicConformalFrance=M,e.geoConicConformalEurope=I,e.geoMercatorMalaysia=A,e.geoMercatorEquatorialGuinea=j,Object.defineProperty(e,"__esModule",{value:!0})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(142);n.d(t,"geoArea",(function(){return r["c"]}));var o=n(324);n.d(t,"geoBounds",(function(){return o["a"]}));var i=n(325);n.d(t,"geoCentroid",(function(){return i["a"]}));var a=n(143);n.d(t,"geoCircle",(function(){return a["b"]}));var s=n(145);n.d(t,"geoClipExtent",(function(){return s["b"]}));var l=n(328);n.d(t,"geoDistance",(function(){return l["a"]}));var u=n(329);n.d(t,"geoGraticule",(function(){return u["a"]}));var c=n(330);n.d(t,"geoInterpolate",(function(){return c["a"]}));var d=n(149);n.d(t,"geoLength",(function(){return d["a"]}));var f=n(331);n.d(t,"geoPath",(function(){return f["a"]}));var p=n(152);n.d(t,"geoAlbers",(function(){return p["a"]}));var h=n(340);n.d(t,"geoAlbersUsa",(function(){return h["a"]}));var m=n(341);n.d(t,"geoAzimuthalEqualArea",(function(){return m["b"]})),n.d(t,"geoAzimuthalEqualAreaRaw",(function(){return m["a"]}));var g=n(342);n.d(t,"geoAzimuthalEquidistant",(function(){return g["b"]})),n.d(t,"geoAzimuthalEquidistantRaw",(function(){return g["a"]}));var v=n(343);n.d(t,"geoConicConformal",(function(){return v["b"]})),n.d(t,"geoConicConformalRaw",(function(){return v["a"]}));var y=n(79);n.d(t,"geoConicEqualArea",(function(){return y["b"]})),n.d(t,"geoConicEqualAreaRaw",(function(){return y["a"]}));var b=n(344);n.d(t,"geoConicEquidistant",(function(){return b["b"]})),n.d(t,"geoConicEquidistantRaw",(function(){return b["a"]}));var x=n(155);n.d(t,"geoEquirectangular",(function(){return x["a"]})),n.d(t,"geoEquirectangularRaw",(function(){return x["b"]}));var w=n(345);n.d(t,"geoGnomonic",(function(){return w["a"]})),n.d(t,"geoGnomonicRaw",(function(){return w["b"]}));var _=n(18);n.d(t,"geoProjection",(function(){return _["a"]})),n.d(t,"geoProjectionMutator",(function(){return _["b"]}));var C=n(82);n.d(t,"geoMercator",(function(){return C["a"]})),n.d(t,"geoMercatorRaw",(function(){return C["c"]}));var S=n(346);n.d(t,"geoOrthographic",(function(){return S["a"]})),n.d(t,"geoOrthographicRaw",(function(){return S["b"]}));var k=n(347);n.d(t,"geoStereographic",(function(){return k["a"]})),n.d(t,"geoStereographicRaw",(function(){return k["b"]}));var O=n(348);n.d(t,"geoTransverseMercator",(function(){return O["a"]})),n.d(t,"geoTransverseMercatorRaw",(function(){return O["b"]}));var T=n(78);n.d(t,"geoRotation",(function(){return T["a"]}));var M=n(26);n.d(t,"geoStream",(function(){return M["a"]}));var D=n(81);n.d(t,"geoTransform",(function(){return D["a"]}))},function(e,t,n){"use strict";var r,o,i,a,s,l,u,c,d,f,p=n(42),h=n(142),m=n(43),g=n(5),v=n(26),y=Object(p["a"])(),b={point:x,lineStart:_,lineEnd:C,polygonStart:function(){b.point=S,b.lineStart=k,b.lineEnd=O,y.reset(),h["b"].polygonStart()},polygonEnd:function(){h["b"].polygonEnd(),b.point=x,b.lineStart=_,b.lineEnd=C,h["a"]<0?(r=-(i=180),o=-(a=90)):y>g["i"]?a=90:y<-g["i"]&&(o=-90),f[0]=r,f[1]=i}};function x(e,t){d.push(f=[r=e,i=e]),t<o&&(o=t),t>a&&(a=t)}function w(e,t){var n=Object(m["a"])([e*g["r"],t*g["r"]]);if(c){var l=Object(m["c"])(c,n),u=[l[1],-l[0],0],d=Object(m["c"])(u,l);Object(m["e"])(d),d=Object(m["g"])(d);var f,p=e-s,h=p>0?1:-1,v=d[0]*g["h"]*h,y=Object(g["a"])(p)>180;y^(h*s<v&&v<h*e)?(f=d[1]*g["h"],f>a&&(a=f)):(v=(v+360)%360-180,y^(h*s<v&&v<h*e)?(f=-d[1]*g["h"],f<o&&(o=f)):(t<o&&(o=t),t>a&&(a=t))),y?e<s?T(r,e)>T(r,i)&&(i=e):T(e,i)>T(r,i)&&(r=e):i>=r?(e<r&&(r=e),e>i&&(i=e)):e>s?T(r,e)>T(r,i)&&(i=e):T(e,i)>T(r,i)&&(r=e)}else x(e,t);c=n,s=e}function _(){b.point=w}function C(){f[0]=r,f[1]=i,b.point=x,c=null}function S(e,t){if(c){var n=e-s;y.add(Object(g["a"])(n)>180?n+(n>0?360:-360):n)}else l=e,u=t;h["b"].point(e,t),w(e,t)}function k(){h["b"].lineStart()}function O(){S(l,u),h["b"].lineEnd(),Object(g["a"])(y)>g["i"]&&(r=-(i=180)),f[0]=r,f[1]=i,c=null}function T(e,t){return(t-=e)<0?t+360:t}function M(e,t){return e[0]-t[0]}function D(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}t["a"]=function(e){var t,n,s,l,u,c,p;if(a=i=-(r=o=1/0),d=[],Object(v["a"])(e,b),n=d.length){for(d.sort(M),t=1,s=d[0],u=[s];t<n;++t)l=d[t],D(s,l[0])||D(s,l[1])?(T(s[0],l[1])>T(s[0],s[1])&&(s[1]=l[1]),T(l[0],s[1])>T(s[0],s[1])&&(s[0]=l[0])):u.push(s=l);for(c=-1/0,n=u.length-1,t=0,s=u[n];t<=n;s=l,++t)l=u[t],(p=T(s[1],l[0]))>c&&(c=p,r=l[0],i=s[1])}return d=f=null,r===1/0||o===1/0?[[NaN,NaN],[NaN,NaN]]:[[r,o],[i,a]]}},function(e,t,n){"use strict";var r,o,i,a,s,l,u,c,d,f,p,h,m,g,v,y,b=n(5),x=n(25),w=n(26),_={sphere:x["a"],point:C,lineStart:k,lineEnd:M,polygonStart:function(){_.lineStart=D,_.lineEnd=I},polygonEnd:function(){_.lineStart=k,_.lineEnd=M}};function C(e,t){e*=b["r"],t*=b["r"];var n=Object(b["g"])(t);S(n*Object(b["g"])(e),n*Object(b["t"])(e),Object(b["t"])(t))}function S(e,t,n){++r,i+=(e-i)/r,a+=(t-a)/r,s+=(n-s)/r}function k(){_.point=O}function O(e,t){e*=b["r"],t*=b["r"];var n=Object(b["g"])(t);g=n*Object(b["g"])(e),v=n*Object(b["t"])(e),y=Object(b["t"])(t),_.point=T,S(g,v,y)}function T(e,t){e*=b["r"],t*=b["r"];var n=Object(b["g"])(t),r=n*Object(b["g"])(e),i=n*Object(b["t"])(e),a=Object(b["t"])(t),s=Object(b["e"])(Object(b["u"])((s=v*a-y*i)*s+(s=y*r-g*a)*s+(s=g*i-v*r)*s),g*r+v*i+y*a);o+=s,l+=s*(g+(g=r)),u+=s*(v+(v=i)),c+=s*(y+(y=a)),S(g,v,y)}function M(){_.point=C}function D(){_.point=E}function I(){A(h,m),_.point=C}function E(e,t){h=e,m=t,e*=b["r"],t*=b["r"],_.point=A;var n=Object(b["g"])(t);g=n*Object(b["g"])(e),v=n*Object(b["t"])(e),y=Object(b["t"])(t),S(g,v,y)}function A(e,t){e*=b["r"],t*=b["r"];var n=Object(b["g"])(t),r=n*Object(b["g"])(e),i=n*Object(b["t"])(e),a=Object(b["t"])(t),s=v*a-y*i,h=y*r-g*a,m=g*i-v*r,x=Object(b["u"])(s*s+h*h+m*m),w=g*r+v*i+y*a,_=x&&-Object(b["b"])(w)/x,C=Object(b["e"])(x,w);d+=_*s,f+=_*h,p+=_*m,o+=C,l+=C*(g+(g=r)),u+=C*(v+(v=i)),c+=C*(y+(y=a)),S(g,v,y)}t["a"]=function(e){r=o=i=a=s=l=u=c=d=f=p=0,Object(w["a"])(e,_);var t=d,n=f,h=p,m=t*t+n*n+h*h;return m<b["j"]&&(t=l,n=u,h=c,o<b["i"]&&(t=i,n=a,h=s),m=t*t+n*n+h*h,m<b["j"])?[NaN,NaN]:[Object(b["e"])(n,t)*b["h"],Object(b["c"])(h/Object(b["u"])(m))*b["h"]]}},function(e,t,n){"use strict";t["a"]=function(e){return function(){return e}}},function(e,t,n){"use strict";t["a"]=function(e,t,n,r,o,i){var a,s=e[0],l=e[1],u=t[0],c=t[1],d=0,f=1,p=u-s,h=c-l;if(a=n-s,p||!(a>0)){if(a/=p,p<0){if(a<d)return;a<f&&(f=a)}else if(p>0){if(a>f)return;a>d&&(d=a)}if(a=o-s,p||!(a<0)){if(a/=p,p<0){if(a>f)return;a>d&&(d=a)}else if(p>0){if(a<d)return;a<f&&(f=a)}if(a=r-l,h||!(a>0)){if(a/=h,h<0){if(a<d)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>d&&(d=a)}if(a=i-l,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>d&&(d=a)}else if(h>0){if(a<d)return;a<f&&(f=a)}return d>0&&(e[0]=s+d*p,e[1]=l+d*h),f<1&&(t[0]=s+f*p,t[1]=l+f*h),!0}}}}}},function(e,t,n){"use strict";var r=n(149),o=[null,null],i={type:"LineString",coordinates:o};t["a"]=function(e,t){return o[0]=e,o[1]=t,Object(r["a"])(i)}},function(e,t,n){"use strict";var r=n(14),o=n(5);function i(e,t,n){var i=Object(r["range"])(e,t-o["i"],n).concat(t);return function(e){return i.map((function(t){return[e,t]}))}}function a(e,t,n){var i=Object(r["range"])(e,t-o["i"],n).concat(t);return function(e){return i.map((function(t){return[t,e]}))}}t["a"]=function(){var e,t,n,s,l,u,c,d,f,p,h,m,g=10,v=g,y=90,b=360,x=2.5;function w(){return{type:"MultiLineString",coordinates:_()}}function _(){return Object(r["range"])(Object(o["f"])(s/y)*y,n,y).map(h).concat(Object(r["range"])(Object(o["f"])(d/b)*b,c,b).map(m)).concat(Object(r["range"])(Object(o["f"])(t/g)*g,e,g).filter((function(e){return Object(o["a"])(e%y)>o["i"]})).map(f)).concat(Object(r["range"])(Object(o["f"])(u/v)*v,l,v).filter((function(e){return Object(o["a"])(e%b)>o["i"]})).map(p))}return w.lines=function(){return _().map((function(e){return{type:"LineString",coordinates:e}}))},w.outline=function(){return{type:"Polygon",coordinates:[h(s).concat(m(c).slice(1),h(n).reverse().slice(1),m(d).reverse().slice(1))]}},w.extent=function(e){return arguments.length?w.extentMajor(e).extentMinor(e):w.extentMinor()},w.extentMajor=function(e){return arguments.length?(s=+e[0][0],n=+e[1][0],d=+e[0][1],c=+e[1][1],s>n&&(e=s,s=n,n=e),d>c&&(e=d,d=c,c=e),w.precision(x)):[[s,d],[n,c]]},w.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],u=+n[0][1],l=+n[1][1],t>e&&(n=t,t=e,e=n),u>l&&(n=u,u=l,l=n),w.precision(x)):[[t,u],[e,l]]},w.step=function(e){return arguments.length?w.stepMajor(e).stepMinor(e):w.stepMinor()},w.stepMajor=function(e){return arguments.length?(y=+e[0],b=+e[1],w):[y,b]},w.stepMinor=function(e){return arguments.length?(g=+e[0],v=+e[1],w):[g,v]},w.precision=function(r){return arguments.length?(x=+r,f=i(u,l,90),p=a(t,e,x),h=i(d,c,90),m=a(s,n,x),w):x},w.extentMajor([[-180,-90+o["i"]],[180,90-o["i"]]]).extentMinor([[-180,-80-o["i"]],[180,80+o["i"]]])}},function(e,t,n){"use strict";var r=n(5);t["a"]=function(e,t){var n=e[0]*r["r"],o=e[1]*r["r"],i=t[0]*r["r"],a=t[1]*r["r"],s=Object(r["g"])(o),l=Object(r["t"])(o),u=Object(r["g"])(a),c=Object(r["t"])(a),d=s*Object(r["g"])(n),f=s*Object(r["t"])(n),p=u*Object(r["g"])(i),h=u*Object(r["t"])(i),m=2*Object(r["c"])(Object(r["u"])(Object(r["m"])(a-o)+s*u*Object(r["m"])(i-n))),g=Object(r["t"])(m),v=m?function(e){var t=Object(r["t"])(e*=m)/g,n=Object(r["t"])(m-e)/g,o=n*d+t*p,i=n*f+t*h,a=n*l+t*c;return[Object(r["e"])(i,o)*r["h"],Object(r["e"])(a,Object(r["u"])(o*o+i*i))*r["h"]]}:function(){return[n*r["h"],o*r["h"]]};return v.distance=m,v}},function(e,t,n){"use strict";var r=n(150),o=n(26),i=n(332),a=n(151),s=n(333),l=n(334),u=n(335);t["a"]=function(){var e,t,n,c,d=4.5;function f(e){return e&&("function"===typeof d&&c.pointRadius(+d.apply(this,arguments)),Object(o["a"])(e,t(c))),c.result()}return f.area=function(e){return Object(o["a"])(e,t(i["a"])),i["a"].result()},f.bounds=function(e){return Object(o["a"])(e,t(a["a"])),a["a"].result()},f.centroid=function(e){return Object(o["a"])(e,t(s["a"])),s["a"].result()},f.projection=function(n){return arguments.length?(t=null==(e=n)?r["a"]:n.stream,f):e},f.context=function(e){return arguments.length?(c=null==(n=e)?new u["a"]:new l["a"](e),"function"!==typeof d&&c.pointRadius(d),f):n},f.pointRadius=function(e){return arguments.length?(d="function"===typeof e?e:(c.pointRadius(+e),+e),f):d},f.projection(null).context(null)}},function(e,t,n){"use strict";var r,o,i,a,s=n(42),l=n(5),u=n(25),c=Object(s["a"])(),d=Object(s["a"])(),f={point:u["a"],lineStart:u["a"],lineEnd:u["a"],polygonStart:function(){f.lineStart=p,f.lineEnd=g},polygonEnd:function(){f.lineStart=f.lineEnd=f.point=u["a"],c.add(Object(l["a"])(d)),d.reset()},result:function(){var e=c/2;return c.reset(),e}};function p(){f.point=h}function h(e,t){f.point=m,r=i=e,o=a=t}function m(e,t){d.add(a*e-i*t),i=e,a=t}function g(){m(r,o)}t["a"]=f},function(e,t,n){"use strict";var r,o,i,a,s=n(5),l=0,u=0,c=0,d=0,f=0,p=0,h=0,m=0,g=0,v={point:y,lineStart:b,lineEnd:_,polygonStart:function(){v.lineStart=C,v.lineEnd=S},polygonEnd:function(){v.point=y,v.lineStart=b,v.lineEnd=_},result:function(){var e=g?[h/g,m/g]:p?[d/p,f/p]:c?[l/c,u/c]:[NaN,NaN];return l=u=c=d=f=p=h=m=g=0,e}};function y(e,t){l+=e,u+=t,++c}function b(){v.point=x}function x(e,t){v.point=w,y(i=e,a=t)}function w(e,t){var n=e-i,r=t-a,o=Object(s["u"])(n*n+r*r);d+=o*(i+e)/2,f+=o*(a+t)/2,p+=o,y(i=e,a=t)}function _(){v.point=y}function C(){v.point=k}function S(){O(r,o)}function k(e,t){v.point=O,y(r=i=e,o=a=t)}function O(e,t){var n=e-i,r=t-a,o=Object(s["u"])(n*n+r*r);d+=o*(i+e)/2,f+=o*(a+t)/2,p+=o,o=a*e-i*t,h+=o*(i+e),m+=o*(a+t),g+=3*o,y(i=e,a=t)}t["a"]=v},function(e,t,n){"use strict";t["a"]=i;var r=n(5),o=n(25);function i(e){this._context=e}i.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,r["w"]);break}},result:o["a"]}},function(e,t,n){"use strict";function r(){this._string=[]}function o(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}t["a"]=r,r.prototype={_circle:o(4.5),pointRadius:function(e){return this._circle=o(e),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:this._string.push("M",e,",",t,this._circle);break}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}}}},function(e,t,n){"use strict";var r=n(153),o=n(5);function i(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(s,l){var u=s>0?o["o"]:-o["o"],c=Object(o["a"])(s-n);Object(o["a"])(c-o["o"])<o["i"]?(e.point(n,r=(r+l)/2>0?o["l"]:-o["l"]),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),e.point(s,r),t=0):i!==u&&c>=o["o"]&&(Object(o["a"])(n-i)<o["i"]&&(n-=i*o["i"]),Object(o["a"])(s-u)<o["i"]&&(s-=u*o["i"]),r=a(n,r,s,l),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),t=0),e.point(n=s,r=l),i=u},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function a(e,t,n,r){var i,a,s=Object(o["t"])(e-n);return Object(o["a"])(s)>o["i"]?Object(o["d"])((Object(o["t"])(t)*(a=Object(o["g"])(r))*Object(o["t"])(n)-Object(o["t"])(r)*(i=Object(o["g"])(t))*Object(o["t"])(e))/(i*a*s)):(t+r)/2}function s(e,t,n,r){var i;if(null==e)i=n*o["l"],r.point(-o["o"],i),r.point(0,i),r.point(o["o"],i),r.point(o["o"],0),r.point(o["o"],-i),r.point(0,-i),r.point(-o["o"],-i),r.point(-o["o"],0),r.point(-o["o"],i);else if(Object(o["a"])(e[0]-t[0])>o["i"]){var a=e[0]<t[0]?o["o"]:-o["o"];i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}t["a"]=Object(r["a"])((function(){return!0}),i,s,[-o["o"],-o["l"]])},function(e,t,n){"use strict";var r=n(42),o=n(43),i=n(5),a=Object(r["a"])();t["a"]=function(e,t){var n=t[0],r=t[1],s=[Object(i["t"])(n),-Object(i["g"])(n),0],l=0,u=0;a.reset();for(var c=0,d=e.length;c<d;++c)if(p=(f=e[c]).length)for(var f,p,h=f[p-1],m=h[0],g=h[1]/2+i["q"],v=Object(i["t"])(g),y=Object(i["g"])(g),b=0;b<p;++b,m=w,v=C,y=S,h=x){var x=f[b],w=x[0],_=x[1]/2+i["q"],C=Object(i["t"])(_),S=Object(i["g"])(_),k=w-m,O=k>=0?1:-1,T=O*k,M=T>i["o"],D=v*C;if(a.add(Object(i["e"])(D*O*Object(i["t"])(T),y*S+D*Object(i["g"])(T))),l+=M?k+O*i["w"]:k,M^m>=n^w>=n){var I=Object(o["c"])(Object(o["a"])(h),Object(o["a"])(x));Object(o["e"])(I);var E=Object(o["c"])(s,I);Object(o["e"])(E);var A=(M^k>=0?-1:1)*Object(i["c"])(E[2]);(r>A||r===A&&(I[0]||I[1]))&&(u+=M^k>=0?1:-1)}}return(l<-i["i"]||l<i["i"]&&a<-i["i"])^1&u}},function(e,t,n){"use strict";var r=n(43),o=n(143),i=n(5),a=n(148),s=n(153);t["a"]=function(e,t){var n=Object(i["g"])(e),l=n>0,u=Object(i["a"])(n)>i["i"];function c(n,r,i,a){Object(o["a"])(a,e,t,i,n,r)}function d(e,t){return Object(i["g"])(e)*Object(i["g"])(t)>n}function f(e){var t,n,r,o,s;return{lineStart:function(){o=r=!1,s=1},point:function(c,f){var m,g=[c,f],v=d(c,f),y=l?v?0:h(c,f):v?h(c+(c<0?i["o"]:-i["o"]),f):0;if(!t&&(o=r=v)&&e.lineStart(),v!==r&&(m=p(t,g),(Object(a["a"])(t,m)||Object(a["a"])(g,m))&&(g[0]+=i["i"],g[1]+=i["i"],v=d(g[0],g[1]))),v!==r)s=0,v?(e.lineStart(),m=p(g,t),e.point(m[0],m[1])):(m=p(t,g),e.point(m[0],m[1]),e.lineEnd()),t=m;else if(u&&t&&l^v){var b;y&n||!(b=p(g,t,!0))||(s=0,l?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1])))}!v||t&&Object(a["a"])(t,g)||e.point(g[0],g[1]),t=g,r=v,n=y},lineEnd:function(){r&&e.lineEnd(),t=null},clean:function(){return s|(o&&r)<<1}}}function p(e,t,o){var a=Object(r["a"])(e),s=Object(r["a"])(t),l=[1,0,0],u=Object(r["c"])(a,s),c=Object(r["d"])(u,u),d=u[0],f=c-d*d;if(!f)return!o&&e;var p=n*c/f,h=-n*d/f,m=Object(r["c"])(l,u),g=Object(r["f"])(l,p),v=Object(r["f"])(u,h);Object(r["b"])(g,v);var y=m,b=Object(r["d"])(g,y),x=Object(r["d"])(y,y),w=b*b-x*(Object(r["d"])(g,g)-1);if(!(w<0)){var _=Object(i["u"])(w),C=Object(r["f"])(y,(-b-_)/x);if(Object(r["b"])(C,g),C=Object(r["g"])(C),!o)return C;var S,k=e[0],O=t[0],T=e[1],M=t[1];O<k&&(S=k,k=O,O=S);var D=O-k,I=Object(i["a"])(D-i["o"])<i["i"],E=I||D<i["i"];if(!I&&M<T&&(S=T,T=M,M=S),E?I?T+M>0^C[1]<(Object(i["a"])(C[0]-k)<i["i"]?T:M):T<=C[1]&&C[1]<=M:D>i["o"]^(k<=C[0]&&C[0]<=O)){var A=Object(r["f"])(y,(-b+_)/x);return Object(r["b"])(A,g),[C,Object(r["g"])(A)]}}}function h(t,n){var r=l?e:i["o"]-e,o=0;return t<-r?o|=1:t>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return Object(s["a"])(d,f,c,l?[0,-e]:[-i["o"],e-i["o"]])}},function(e,t,n){"use strict";var r=n(43),o=n(5),i=n(81),a=16,s=Object(o["g"])(30*o["r"]);function l(e){return Object(i["b"])({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function u(e,t){function n(r,i,a,l,u,c,d,f,p,h,m,g,v,y){var b=d-r,x=f-i,w=b*b+x*x;if(w>4*t&&v--){var _=l+h,C=u+m,S=c+g,k=Object(o["u"])(_*_+C*C+S*S),O=Object(o["c"])(S/=k),T=Object(o["a"])(Object(o["a"])(S)-1)<o["i"]||Object(o["a"])(a-p)<o["i"]?(a+p)/2:Object(o["e"])(C,_),M=e(T,O),D=M[0],I=M[1],E=D-r,A=I-i,L=x*E-b*A;(L*L/w>t||Object(o["a"])((b*E+x*A)/w-.5)>.3||l*h+u*m+c*g<s)&&(n(r,i,a,l,u,c,D,I,T,_/=k,C/=k,S,v,y),y.point(D,I),n(D,I,T,_,C,S,d,f,p,h,m,g,v,y))}}return function(t){var o,i,s,l,u,c,d,f,p,h,m,g,v={point:y,lineStart:b,lineEnd:w,polygonStart:function(){t.polygonStart(),v.lineStart=_},polygonEnd:function(){t.polygonEnd(),v.lineStart=b}};function y(n,r){n=e(n,r),t.point(n[0],n[1])}function b(){f=NaN,v.point=x,t.lineStart()}function x(o,i){var s=Object(r["a"])([o,i]),l=e(o,i);n(f,p,d,h,m,g,f=l[0],p=l[1],d=o,h=s[0],m=s[1],g=s[2],a,t),t.point(f,p)}function w(){v.point=y,t.lineEnd()}function _(){b(),v.point=C,v.lineEnd=S}function C(e,t){x(o=e,t),i=f,s=p,l=h,u=m,c=g,v.point=x}function S(){n(f,p,d,h,m,g,i,s,o,l,u,c,a,t),v.lineEnd=w,w()}return v}}t["a"]=function(e,t){return+t?u(e,t):l(e)}},function(e,t,n){"use strict";var r=n(5),o=n(152),i=n(79),a=n(154);function s(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}t["a"]=function(){var e,t,n,l,u,c,d=Object(o["a"])(),f=Object(i["b"])().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p=Object(i["b"])().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(e,t){c=[e,t]}};function m(e){var t=e[0],r=e[1];return c=null,n.point(t,r),c||(l.point(t,r),c)||(u.point(t,r),c)}return m.invert=function(e){var t=d.scale(),n=d.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?f:o>=.166&&o<.234&&r>=-.214&&r<-.115?p:d).invert(e)},m.stream=function(n){return e&&t===n?e:e=s([d.stream(t=n),f.stream(n),p.stream(n)])},m.precision=function(e){return arguments.length?(d.precision(e),f.precision(e),p.precision(e),m):d.precision()},m.scale=function(e){return arguments.length?(d.scale(e),f.scale(.35*e),p.scale(e),m.translate(d.translate())):d.scale()},m.translate=function(e){if(!arguments.length)return d.translate();var t=d.scale(),o=+e[0],i=+e[1];return n=d.translate(e).clipExtent([[o-.455*t,i-.238*t],[o+.455*t,i+.238*t]]).stream(h),l=f.translate([o-.307*t,i+.201*t]).clipExtent([[o-.425*t+r["i"],i+.12*t+r["i"]],[o-.214*t-r["i"],i+.234*t-r["i"]]]).stream(h),u=p.translate([o-.205*t,i+.212*t]).clipExtent([[o-.214*t+r["i"],i+.166*t+r["i"]],[o-.115*t-r["i"],i+.234*t-r["i"]]]).stream(h),m},m.fitExtent=Object(a["a"])(m),m.fitSize=Object(a["b"])(m),m.scale(1070)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(5),o=n(44),i=n(18),a=Object(o["b"])((function(e){return Object(r["u"])(2/(1+e))}));a.invert=Object(o["a"])((function(e){return 2*Object(r["c"])(e/2)})),t["b"]=function(){return Object(i["a"])(a).scale(124.75).clipAngle(179.999)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(5),o=n(44),i=n(18),a=Object(o["b"])((function(e){return(e=Object(r["b"])(e))&&e/Object(r["t"])(e)}));a.invert=Object(o["a"])((function(e){return e})),t["b"]=function(){return Object(i["a"])(a).scale(79.4188).clipAngle(179.999)}},function(e,t,n){"use strict";t["a"]=s;var r=n(5),o=n(80),i=n(82);function a(e){return Object(r["v"])((r["l"]+e)/2)}function s(e,t){var n=Object(r["g"])(e),o=e===t?Object(r["t"])(e):Object(r["n"])(n/Object(r["g"])(t))/Object(r["n"])(a(t)/a(e)),s=n*Object(r["p"])(a(e),o)/o;if(!o)return i["c"];function l(e,t){s>0?t<-r["l"]+r["i"]&&(t=-r["l"]+r["i"]):t>r["l"]-r["i"]&&(t=r["l"]-r["i"]);var n=s/Object(r["p"])(a(t),o);return[n*Object(r["t"])(o*e),s-n*Object(r["g"])(o*e)]}return l.invert=function(e,t){var n=s-t,i=Object(r["s"])(o)*Object(r["u"])(e*e+n*n);return[Object(r["e"])(e,n)/o,2*Object(r["d"])(Object(r["p"])(s/i,1/o))-r["l"]]},l}t["b"]=function(){return Object(o["a"])(s).scale(109.5).parallels([30,30])}},function(e,t,n){"use strict";t["a"]=a;var r=n(5),o=n(80),i=n(155);function a(e,t){var n=Object(r["g"])(e),o=e===t?Object(r["t"])(e):(n-Object(r["g"])(t))/(t-e),a=n/o+e;if(Object(r["a"])(o)<r["i"])return i["b"];function s(e,t){var n=a-t,i=o*e;return[n*Object(r["t"])(i),a-n*Object(r["g"])(i)]}return s.invert=function(e,t){var n=a-t;return[Object(r["e"])(e,n)/o,a-Object(r["s"])(o)*Object(r["u"])(e*e+n*n)]},s}t["b"]=function(){return Object(o["a"])(a).scale(131.154).center([0,13.9389])}},function(e,t,n){"use strict";t["b"]=a;var r=n(5),o=n(44),i=n(18);function a(e,t){var n=Object(r["g"])(t),o=Object(r["g"])(e)*n;return[n*Object(r["t"])(e)/o,Object(r["t"])(t)/o]}a.invert=Object(o["a"])(r["d"]),t["a"]=function(){return Object(i["a"])(a).scale(144.049).clipAngle(60)}},function(e,t,n){"use strict";t["b"]=a;var r=n(5),o=n(44),i=n(18);function a(e,t){return[Object(r["g"])(t)*Object(r["t"])(e),Object(r["t"])(t)]}a.invert=Object(o["a"])(r["c"]),t["a"]=function(){return Object(i["a"])(a).scale(249.5).clipAngle(90+r["i"])}},function(e,t,n){"use strict";t["b"]=a;var r=n(5),o=n(44),i=n(18);function a(e,t){var n=Object(r["g"])(t),o=1+Object(r["g"])(e)*n;return[n*Object(r["t"])(e)/o,Object(r["t"])(t)/o]}a.invert=Object(o["a"])((function(e){return 2*Object(r["d"])(e)})),t["a"]=function(){return Object(i["a"])(a).scale(250).clipAngle(142)}},function(e,t,n){"use strict";t["b"]=i;var r=n(5),o=n(82);function i(e,t){return[Object(r["n"])(Object(r["v"])((r["l"]+t)/2)),-e]}i.invert=function(e,t){return[-t,2*Object(r["d"])(Object(r["k"])(e))-r["l"]]},t["a"]=function(){var e=Object(o["b"])(i),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90]).scale(159.155)}},function(e,t,n){"use strict";var r=Math.PI,o=2*r,i=1e-6,a=o-i;function s(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function l(){return new s}s.prototype=l.prototype={constructor:s,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,t,n,o,a){e=+e,t=+t,n=+n,o=+o,a=+a;var s=this._x1,l=this._y1,u=n-e,c=o-t,d=s-e,f=l-t,p=d*d+f*f;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>i)if(Math.abs(f*u-c*d)>i&&a){var h=n-s,m=o-l,g=u*u+c*c,v=h*h+m*m,y=Math.sqrt(g),b=Math.sqrt(p),x=a*Math.tan((r-Math.acos((g+p-v)/(2*y*b)))/2),w=x/b,_=x/y;Math.abs(w-1)>i&&(this._+="L"+(e+w*d)+","+(t+w*f)),this._+="A"+a+","+a+",0,0,"+ +(f*h>d*m)+","+(this._x1=e+_*u)+","+(this._y1=t+_*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,s,l,u){e=+e,t=+t,n=+n;var c=n*Math.cos(s),d=n*Math.sin(s),f=e+c,p=t+d,h=1^u,m=u?s-l:l-s;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+f+","+p:(Math.abs(this._x1-f)>i||Math.abs(this._y1-p)>i)&&(this._+="L"+f+","+p),n&&(m<0&&(m=m%o+o),m>a?this._+="A"+n+","+n+",0,1,"+h+","+(e-c)+","+(t-d)+"A"+n+","+n+",0,1,"+h+","+(this._x1=f)+","+(this._y1=p):m>i&&(this._+="A"+n+","+n+",0,"+ +(m>=r)+","+h+","+(this._x1=e+n*Math.cos(l))+","+(this._y1=t+n*Math.sin(l))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t["a"]=l},function(e,t,n){var r=n(3),o=n(39);r(o.prototype,{getAllNodes:function(){var e=this,t=[],n=e.root;return n.each?n.each((function(e){t.push(e)})):n.eachNode&&n.eachNode((function(e){t.push(e)})),t},getAllLinks:function(){var e,t=[],n=[this.root];while(e=n.pop()){var r=e.children;r&&r.forEach((function(r){t.push({source:e,target:r}),n.push(r)}))}return t}}),r(o.prototype,{getAllEdges:o.prototype.getAllLinks})},function(e,t,n){var r=n(3),o=n(83),i=n(15),a=n(39);r(a.prototype,{partition:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),i(this.rows,e,t)},group:function(e,t){var n=this.partition(e,t);return o(n)},groups:function(e,t){return this.group(e,t)}})},function(e,t,n){var r=n(9),o=n(6),i=Object.prototype.hasOwnProperty,a=function(e,t){if(!t||!o(e))return e;var n={},a=null;return r(e,(function(e){a=t(e),i.call(n,a)?n[a].push(e):n[a]=[e]})),n};e.exports=a},function(e,t,n){var r=n(6),o=n(11),i=n(10);e.exports=function(e,t){var n;return void 0===t&&(t=[]),o(t)?n=t:r(t)?n=function(e,n){for(var r=0;r<t.length;r++){var o=t[r];if(e[o]<n[o])return-1;if(e[o]>n[o])return 1}return 0}:i(t)&&(n=function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:0}),e.sort(n)}},function(e,t,n){var r=n(3),o=n(156),i=n(6),a=n(19),s=n(39),l=n(157),u=n(84),c=u.STATISTICS_METHODS;function d(e,t){var n=e.getColumn(t);return i(n)&&i(n[0])&&(n=o(n)),n}c.forEach((function(e){s.prototype[e]=function(t){return a[e](d(this,t))}}));var f=a.quantile;r(s.prototype,{average:s.prototype.mean,quantile:function(e,t){return f(d(this,e),t)},quantiles:function(e,t){var n=d(this,e);return t.map((function(e){return f(n,e)}))},quantilesByFraction:function(e,t){return this.quantiles(e,l(t))},range:function(e){var t=this;return[t.min(e),t.max(e)]},extent:function(e){return this.range(e)}})},function(e,t,n){var r=n(10),o=n(40),i=n(2),a=i.registerConnector;a("default",(function(e,t){if(r(e)&&(e=t.getView(e)),!e)throw new TypeError("Invalid dataView");return o(e.rows)}))},function(e,t){var n=function(){var e={};return function(t){return t=t||"g",e[t]?e[t]+=1:e[t]=1,t+e[t]}}();e.exports=n},function(e,t,n){var r=n(10),o=n(358),i=o.dsvFormat,a=o.csvParse,s=o.tsvParse,l=n(2),u=l.registerConnector;u("dsv",(function(e,t){void 0===t&&(t={});var n=t.delimiter||",";if(!r(n))throw new TypeError("Invalid delimiter: must be a string!");return i(n).parse(e)})),u("csv",(function(e){return a(e)})),u("tsv",(function(e){return s(e)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(85);n.d(t,"dsvFormat",(function(){return r["a"]}));var o=n(359);n.d(t,"csvParse",(function(){return o["c"]})),n.d(t,"csvParseRows",(function(){return o["d"]})),n.d(t,"csvFormat",(function(){return o["a"]})),n.d(t,"csvFormatRows",(function(){return o["b"]}));var i=n(360);n.d(t,"tsvParse",(function(){return i["c"]})),n.d(t,"tsvParseRows",(function(){return i["d"]})),n.d(t,"tsvFormat",(function(){return i["a"]})),n.d(t,"tsvFormatRows",(function(){return i["b"]}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n(85),o=Object(r["a"])(","),i=o.parse,a=o.parseRows,s=o.format,l=o.formatRows},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n(85),o=Object(r["a"])("\t"),i=o.parse,a=o.parseRows,s=o.format,l=o.formatRows},function(e,t,n){var r=n(0),o=r.geoGraticule,i=n(2),a=i.registerConnector;function s(e,t){t.dataType="geo-graticule";var n=o().lines();return n.map((function(e,t){return e.index=""+t,e})),t.rows=n,n}a("geo-graticule",s),e.exports=s},function(e,t){e.exports=o;var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi;function o(e){var t=[];return e.replace(r,(function(e,r,o){var i=r.toLowerCase();o=a(o),"m"==i&&o.length>2&&(t.push([r].concat(o.splice(0,2))),i="l",r="m"==r?"l":"L");while(1){if(o.length==n[i])return o.unshift(r),t.push(o);if(o.length<n[i])throw new Error("malformed path data");t.push([r].concat(o.splice(0,n[i])))}})),t}var i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function a(e){var t=e.match(i);return t?t.map(Number):[]}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){function n(e){var t=0,n=0,r=0,o=0;return e.map((function(e){e=e.slice();var i=e[0],a=i.toUpperCase();if(i!=a)switch(e[0]=a,i){case"a":e[6]+=r,e[7]+=o;break;case"v":e[1]+=o;break;case"h":e[1]+=r;break;default:for(var s=1;s<e.length;)e[s++]+=r,e[s++]+=o}switch(a){case"Z":r=t,o=n;break;case"H":r=e[1];break;case"V":o=e[1];break;case"M":r=t=e[1],o=n=e[2];break;default:r=e[e.length-2],o=e[e.length-1]}return e}))}e.exports=n},function(e,t,n){var r=n(3),o=n(11),i=n(2),a=i.GRAPH,s=i.registerConnector,l={nodes:function(e){return e.nodes},edges:function(e){return e.edges}};function u(e,t,n){t=r({},l,t),n.dataType=a;var i=t,s=i.nodes,u=i.edges;if(s&&!o(s))throw new TypeError("Invalid nodes: must be a function!");if(u&&!o(u))throw new TypeError("Invalid edges: must be a function!");return n.rows=n.graph={nodes:s(e),edges:u(e)},r(n,n.graph),n.rows}s("graph",u),s("diagram",u)},function(e,t,n){var r=n(3),o=n(40),i=n(367),a=i.getGridForHexJSON,s=i.renderHexJSON,l=n(2),u=l.HEX,c=l.registerConnector,d={width:1,height:1};function f(e){return e.cx=e.x,e.cy=e.y,e.x=[],e.y=[],e.vertices.forEach((function(t){e.x.push(t.x+e.cx),e.y.push(t.y+e.cy)})),e}function p(e,t,n){n.dataType=u,t=r({},d,t);var i=t,l=i.width,c=i.height,p=o(e);n._HexJSON=p;var h=n._GridHexJSON=a(p),m=n.rows=s(p,l,c).map(f);return n._gridRows=s(h,l,c).map(f),m}c("hex",p),c("hexjson",p),c("hex-json",p),c("HexJSON",p),e.exports=p},function(e,t,n){(function(e,r){r(t,n(14))})(0,(function(e,t){"use strict";function n(e,n,s){var l=e.layout,u=[],c=0;Object.keys(e.hexes).forEach((function(t){e.hexes[t].key=t,u.push(e.hexes[t])}));var d=t.max(u,(function(e){return+e.q})),f=t.min(u,(function(e){return+e.q})),p=t.max(u,(function(e){return+e.r})),h=t.min(u,(function(e){return+e.r})),m=d-f+1,g=p-h+1;c="odd-r"===l||"even-r"===l?t.min([n/((m+.5)*Math.sqrt(3)),s/(1.5*(g+1/3))]):t.min([s/((g+.5)*Math.sqrt(3)),n/(1.5*(m+1/3))]);var v=c*Math.sqrt(3),y=i(l,v,c),b=a(y);return u.forEach((function(e){e.qc=e.q-f,e.rc=p-e.r,e.x=r(e,l,v,c),e.y=o(e,l,v,c),e.vertices=y,e.points=b})),u}function r(e,t,n,r){var o=0,i=0;switch(t){case"odd-r":i=e.rc%2===1?n:n/2,o=e.qc*n+i;break;case"even-r":i=e.rc%2===0?n:n/2,o=e.qc*n+i;break;case"odd-q":case"even-q":o=e.qc*r*1.5+r;break}return o}function o(e,t,n,r){var o=0,i=0;switch(t){case"odd-r":case"even-r":o=e.rc*r*1.5+r;break;case"odd-q":i=e.qc%2===1?n:n/2,o=e.rc*n+i;break;case"even-q":i=e.qc%2===0?n:n/2,o=e.rc*n+i;break}return o}function i(e,t,n){var r=[];switch(e){case"odd-r":case"even-r":r.push({x:0,y:0-n}),r.push({x:0+.5*t,y:0-.5*n}),r.push({x:0+.5*t,y:0+.5*n}),r.push({x:0,y:0+n}),r.push({x:0-.5*t,y:0+.5*n}),r.push({x:0-.5*t,y:0-.5*n});break;case"odd-q":case"even-q":r.push({x:0-n,y:0}),r.push({x:0-.5*n,y:0-.5*t}),r.push({x:0+.5*n,y:0-.5*t}),r.push({x:0+n,y:0}),r.push({x:0+.5*n,y:0+.5*t}),r.push({x:0-.5*n,y:0+.5*t});break}return r}function a(e){var t="";return e.forEach((function(e){t+=e.x+","+e.y+" "})),t.substring(0,t.length-1)}function s(e){var n={};n.layout=e.layout,n.hexes={};var r=[];Object.keys(e.hexes).forEach((function(t){r.push(e.hexes[t])}));var o,i,a,s=t.max(r,(function(e){return+e.q})),l=t.min(r,(function(e){return+e.q})),u=t.max(r,(function(e){return+e.r})),c=t.min(r,(function(e){return+e.r}));for(o=l;o<=s;o++)for(i=c;i<=u;i++)a="Q"+o+"R"+i,n.hexes[a]={q:o,r:i};return n}e.renderHexJSON=n,e.getGridForHexJSON=s,Object.defineProperty(e,"__esModule",{value:!0})}))},function(e,t,n){var r=n(11),o=n(34),i=o.hierarchy,a=n(2),s=a.HIERARCHY,l=a.registerConnector;function u(e,t,n){n.dataType=s;var o=t&&t.children?t.children:null;if(o&&!r(o))throw new TypeError("Invalid children: must be a function!");return t.pureData?n.rows=n.root=e:n.rows=n.root=i(e,o),e}l("hierarchy",u),l("tree",u)},function(e,t,n){"use strict";function r(e,t){return e.parent===t.parent?1:2}function o(e){return e.reduce(i,0)/e.length}function i(e,t){return e+t.x}function a(e){return 1+e.reduce(s,0)}function s(e,t){return Math.max(e,t.y)}function l(e){var t;while(t=e.children)e=t[0];return e}function u(e){var t;while(t=e.children)e=t[t.length-1];return e}t["a"]=function(){var e=r,t=1,n=1,i=!1;function s(r){var s,c=0;r.eachAfter((function(t){var n=t.children;n?(t.x=o(n),t.y=a(n)):(t.x=s?c+=e(t,s):0,t.y=0,s=t)}));var d=l(r),f=u(r),p=d.x-e(d,f)/2,h=f.x+e(f,d)/2;return r.eachAfter(i?function(e){e.x=(e.x-r.x)*t,e.y=(r.y-e.y)*n}:function(e){e.x=(e.x-p)/(h-p)*t,e.y=(1-(r.y?e.y/r.y:1))*n})}return s.separation=function(t){return arguments.length?(e=t,s):e},s.size=function(e){return arguments.length?(i=!1,t=+e[0],n=+e[1],s):i?null:[t,n]},s.nodeSize=function(e){return arguments.length?(i=!0,t=+e[0],n=+e[1],s):i?[t,n]:null},s}},function(e,t,n){"use strict";function r(e){var t=0,n=e.children,r=n&&n.length;if(r)while(--r>=0)t+=n[r].value;else t=1;e.value=t}t["a"]=function(){return this.eachAfter(r)}},function(e,t,n){"use strict";t["a"]=function(e){var t,n,r,o,i=this,a=[i];do{t=a.reverse(),a=[];while(i=t.pop())if(e(i),n=i.children,n)for(r=0,o=n.length;r<o;++r)a.push(n[r])}while(a.length);return this}},function(e,t,n){"use strict";t["a"]=function(e){var t,n,r=this,o=[r];while(r=o.pop())if(e(r),t=r.children,t)for(n=t.length-1;n>=0;--n)o.push(t[n]);return this}},function(e,t,n){"use strict";t["a"]=function(e){var t,n,r,o=this,i=[o],a=[];while(o=i.pop())if(a.push(o),t=o.children,t)for(n=0,r=t.length;n<r;++n)i.push(t[n]);while(o=a.pop())e(o);return this}},function(e,t,n){"use strict";t["a"]=function(e){return this.eachAfter((function(t){var n=+e(t.data)||0,r=t.children,o=r&&r.length;while(--o>=0)n+=r[o].value;t.value=n}))}},function(e,t,n){"use strict";t["a"]=function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))}},function(e,t,n){"use strict";function r(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),o=null;e=n.pop(),t=r.pop();while(e===t)o=e,e=n.pop(),t=r.pop();return o}t["a"]=function(e){var t=this,n=r(t,e),o=[t];while(t!==n)t=t.parent,o.push(t);var i=o.length;while(e!==n)o.splice(i,0,e),e=e.parent;return o}},function(e,t,n){"use strict";t["a"]=function(){var e=this,t=[e];while(e=e.parent)t.push(e);return t}},function(e,t,n){"use strict";t["a"]=function(){var e=[];return this.each((function(t){e.push(t)})),e}},function(e,t,n){"use strict";t["a"]=function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e}},function(e,t,n){"use strict";t["a"]=function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t}},function(e,t,n){"use strict";var r=n(160),o=n(87),i=n(162);function a(e){return Math.sqrt(e.value)}function s(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function l(e,t){return function(n){if(o=n.children){var o,i,a,s=o.length,l=e(n)*t||0;if(l)for(i=0;i<s;++i)o[i].r+=l;if(a=Object(r["b"])(o),l)for(i=0;i<s;++i)o[i].r-=l;n.r=a+l}}}function u(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}t["a"]=function(){var e=null,t=1,n=1,r=i["a"];function c(o){return o.x=t/2,o.y=n/2,e?o.eachBefore(s(e)).eachAfter(l(r,.5)).eachBefore(u(1)):o.eachBefore(s(a)).eachAfter(l(i["a"],1)).eachAfter(l(r,o.r/Math.min(t,n))).eachBefore(u(Math.min(t,n)/(2*o.r))),o}return c.radius=function(t){return arguments.length?(e=Object(o["a"])(t),c):e},c.size=function(e){return arguments.length?(t=+e[0],n=+e[1],c):[t,n]},c.padding=function(e){return arguments.length?(r="function"===typeof e?e:Object(i["b"])(+e),c):r},c}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),t["a"]=o;var r=Array.prototype.slice;function o(e){var t,n,r=e.length;while(r)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}},function(e,t,n){"use strict";var r=n(163),o=n(45);t["a"]=function(){var e=1,t=1,n=0,i=!1;function a(o){var a=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/a,o.eachBefore(s(t,a)),i&&o.eachBefore(r["a"]),o}function s(e,t){return function(r){r.children&&Object(o["a"])(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,a=r.y0,s=r.x1-n,l=r.y1-n;s<i&&(i=s=(i+s)/2),l<a&&(a=l=(a+l)/2),r.x0=i,r.y0=a,r.x1=s,r.y1=l}}return a.round=function(e){return arguments.length?(i=!!e,a):i},a.size=function(n){return arguments.length?(e=+n[0],t=+n[1],a):[e,t]},a.padding=function(e){return arguments.length?(n=+e,a):n},a}},function(e,t,n){"use strict";var r=n(87),o=n(86),i="$",a={depth:-1},s={};function l(e){return e.id}function u(e){return e.parentId}t["a"]=function(){var e=l,t=u;function n(n){var r,l,u,c,d,f,p,h=n.length,m=new Array(h),g={};for(l=0;l<h;++l)r=n[l],d=m[l]=new o["a"](r),null!=(f=e(r,l,n))&&(f+="")&&(p=i+(d.id=f),g[p]=p in g?s:d);for(l=0;l<h;++l)if(d=m[l],f=t(n[l],l,n),null!=f&&(f+="")){if(c=g[i+f],!c)throw new Error("missing: "+f);if(c===s)throw new Error("ambiguous: "+f);c.children?c.children.push(d):c.children=[d],d.parent=c}else{if(u)throw new Error("multiple roots");u=d}if(!u)throw new Error("no root");if(u.parent=a,u.eachBefore((function(e){e.depth=e.parent.depth+1,--h})).eachBefore(o["b"]),u.parent=null,h>0)throw new Error("cycle");return u}return n.id=function(t){return arguments.length?(e=Object(r["b"])(t),n):e},n.parentId=function(e){return arguments.length?(t=Object(r["b"])(e),n):t},n}},function(e,t,n){"use strict";var r=n(86);function o(e,t){return e.parent===t.parent?1:2}function i(e){var t=e.children;return t?t[0]:e.t}function a(e){var t=e.children;return t?t[t.length-1]:e.t}function s(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function l(e){var t,n=0,r=0,o=e.children,i=o.length;while(--i>=0)t=o[i],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function u(e,t,n){return e.a.parent===t.parent?e.a:n}function c(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function d(e){var t,n,r,o,i,a=new c(e,0),s=[a];while(t=s.pop())if(r=t._.children)for(t.children=new Array(i=r.length),o=i-1;o>=0;--o)s.push(n=t.children[o]=new c(r[o],o)),n.parent=t;return(a.parent=new c(null,0)).children=[a],a}c.prototype=Object.create(r["a"].prototype),t["a"]=function(){var e=o,t=1,n=1,r=null;function c(o){var i=d(o);if(i.eachAfter(f),i.parent.m=-i.z,i.eachBefore(p),r)o.eachBefore(m);else{var a=o,s=o,l=o;o.eachBefore((function(e){e.x<a.x&&(a=e),e.x>s.x&&(s=e),e.depth>l.depth&&(l=e)}));var u=a===s?1:e(a,s)/2,c=u-a.x,h=t/(s.x+u+c),g=n/(l.depth||1);o.eachBefore((function(e){e.x=(e.x+c)*h,e.y=e.depth*g}))}return o}function f(t){var n=t.children,r=t.parent.children,o=t.i?r[t.i-1]:null;if(n){l(t);var i=(n[0].z+n[n.length-1].z)/2;o?(t.z=o.z+e(t._,o._),t.m=t.z-i):t.z=i}else o&&(t.z=o.z+e(t._,o._));t.parent.A=h(t,o,t.parent.A||r[0])}function p(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function h(t,n,r){if(n){var o,l=t,c=t,d=n,f=l.parent.children[0],p=l.m,h=c.m,m=d.m,g=f.m;while(d=a(d),l=i(l),d&&l)f=i(f),c=a(c),c.a=t,o=d.z+m-l.z-p+e(d._,l._),o>0&&(s(u(d,t,r),t,o),p+=o,h+=o),m+=d.m,p+=l.m,g+=f.m,h+=c.m;d&&!a(c)&&(c.t=d,c.m+=m-h),l&&!i(f)&&(f.t=l,f.m+=p-g,r=t)}return r}function m(e){e.x*=t,e.y=e.depth*n}return c.separation=function(t){return arguments.length?(e=t,c):e},c.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],c):r?null:[t,n]},c.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],c):r?[t,n]:null},c}},function(e,t,n){"use strict";var r=n(163),o=n(88),i=n(87),a=n(162);t["a"]=function(){var e=o["a"],t=!1,n=1,s=1,l=[0],u=a["a"],c=a["a"],d=a["a"],f=a["a"],p=a["a"];function h(e){return e.x0=e.y0=0,e.x1=n,e.y1=s,e.eachBefore(m),l=[0],t&&e.eachBefore(r["a"]),e}function m(t){var n=l[t.depth],r=t.x0+n,o=t.y0+n,i=t.x1-n,a=t.y1-n;i<r&&(r=i=(r+i)/2),a<o&&(o=a=(o+a)/2),t.x0=r,t.y0=o,t.x1=i,t.y1=a,t.children&&(n=l[t.depth+1]=u(t)/2,r+=p(t)-n,o+=c(t)-n,i-=d(t)-n,a-=f(t)-n,i<r&&(r=i=(r+i)/2),a<o&&(o=a=(o+a)/2),e(t,r,o,i,a))}return h.round=function(e){return arguments.length?(t=!!e,h):t},h.size=function(e){return arguments.length?(n=+e[0],s=+e[1],h):[n,s]},h.tile=function(t){return arguments.length?(e=Object(i["b"])(t),h):e},h.padding=function(e){return arguments.length?h.paddingInner(e).paddingOuter(e):h.paddingInner()},h.paddingInner=function(e){return arguments.length?(u="function"===typeof e?e:Object(a["b"])(+e),h):u},h.paddingOuter=function(e){return arguments.length?h.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):h.paddingTop()},h.paddingTop=function(e){return arguments.length?(c="function"===typeof e?e:Object(a["b"])(+e),h):c},h.paddingRight=function(e){return arguments.length?(d="function"===typeof e?e:Object(a["b"])(+e),h):d},h.paddingBottom=function(e){return arguments.length?(f="function"===typeof e?e:Object(a["b"])(+e),h):f},h.paddingLeft=function(e){return arguments.length?(p="function"===typeof e?e:Object(a["b"])(+e),h):p},h}},function(e,t,n){"use strict";t["a"]=function(e,t,n,r,o){var i,a,s=e.children,l=s.length,u=new Array(l+1);for(u[0]=a=i=0;i<l;++i)u[i+1]=a+=s[i].value;function c(e,t,n,r,o,i,a){if(e>=t-1){var l=s[e];return l.x0=r,l.y0=o,l.x1=i,void(l.y1=a)}var d=u[e],f=n/2+d,p=e+1,h=t-1;while(p<h){var m=p+h>>>1;u[m]<f?p=m+1:h=m}f-u[p-1]<u[p]-f&&e+1<p&&--p;var g=u[p]-d,v=n-g;if(i-r>a-o){var y=(r*v+i*g)/n;c(e,p,g,r,o,y,a),c(p,t,v,y,o,i,a)}else{var b=(o*v+a*g)/n;c(e,p,g,r,o,i,b),c(p,t,v,r,b,i,a)}}c(0,l,e.value,t,n,r,o)}},function(e,t,n){"use strict";var r=n(45),o=n(55);t["a"]=function(e,t,n,i,a){(1&e.depth?o["a"]:r["a"])(e,t,n,i,a)}},function(e,t,n){"use strict";var r=n(45),o=n(55),i=n(88);t["a"]=function e(t){function n(e,n,a,s,l){if((u=e._squarify)&&u.ratio===t){var u,c,d,f,p,h=-1,m=u.length,g=e.value;while(++h<m){for(c=u[h],d=c.children,f=c.value=0,p=d.length;f<p;++f)c.value+=d[f].value;c.dice?Object(r["a"])(c,n,a,s,a+=(l-a)*c.value/g):Object(o["a"])(c,n,a,n+=(s-n)*c.value/g,l),g-=c.value}}else e._squarify=u=Object(i["c"])(t,e,n,a,s,l),u.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(i["b"])},function(e,t,n){var r=n(10),o=n(391),i=o.feature,a=n(158),s=n(2),l=s.registerConnector;function u(e,t,n){var o=t.object;if(!r(o))throw new TypeError("Invalid object: must be a string!");var s=i(e,e.objects[o]);return a(s,t,n)}l("topojson",u),l("TopoJSON",u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(164);n.d(t,"bbox",(function(){return r["a"]}));var o=n(90);n.d(t,"feature",(function(){return o["a"]}));var i=n(393);n.d(t,"mesh",(function(){return i["a"]})),n.d(t,"meshArcs",(function(){return i["b"]}));var a=n(394);n.d(t,"merge",(function(){return a["a"]})),n.d(t,"mergeArcs",(function(){return a["b"]}));var s=n(395);n.d(t,"neighbors",(function(){return s["a"]}));var l=n(397);n.d(t,"quantize",(function(){return l["a"]}));var u=n(89);n.d(t,"transform",(function(){return u["a"]}));var c=n(167);n.d(t,"untransform",(function(){return c["a"]}))},function(e,t,n){"use strict";t["a"]=function(e,t){var n,r=e.length,o=r-t;while(o<--r)n=e[o],e[o++]=e[r],e[r]=n}},function(e,t,n){"use strict";t["b"]=i;var r=n(90),o=n(166);function i(e,t,n){var r,i,s;if(arguments.length>1)r=a(e,t,n);else for(i=0,r=new Array(s=e.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:Object(o["a"])(e,r)}}function a(e,t,n){var r,o=[],i=[];function a(e){var t=e<0?~e:e;(i[t]||(i[t]=[])).push({i:e,g:r})}function s(e){e.forEach(a)}function l(e){e.forEach(s)}function u(e){e.forEach(l)}function c(e){switch(r=e,e.type){case"GeometryCollection":e.geometries.forEach(c);break;case"LineString":s(e.arcs);break;case"MultiLineString":case"Polygon":l(e.arcs);break;case"MultiPolygon":u(e.arcs);break}}return c(t),i.forEach(null==n?function(e){o.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&o.push(e[0].i)}),o}t["a"]=function(e){return Object(r["b"])(e,i.apply(this,arguments))}},function(e,t,n){"use strict";t["b"]=a;var r=n(90),o=n(166);function i(e){var t,n=-1,r=e.length,o=e[r-1],i=0;while(++n<r)t=o,o=e[n],i+=t[0]*o[1]-t[1]*o[0];return Math.abs(i)}function a(e,t){var n={},a=[],s=[];function l(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(l);break;case"Polygon":u(e.arcs);break;case"MultiPolygon":e.arcs.forEach(u);break}}function u(e){e.forEach((function(t){t.forEach((function(t){(n[t=t<0?~t:t]||(n[t]=[])).push(e)}))})),a.push(e)}function c(t){return i(Object(r["b"])(e,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach(l),a.forEach((function(e){if(!e._){var t=[],r=[e];e._=1,s.push(t);while(e=r.pop())t.push(e),e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].forEach((function(e){e._||(e._=1,r.push(e))}))}))}))}})),a.forEach((function(e){delete e._})),{type:"MultiPolygon",arcs:s.map((function(t){var r,i=[];if(t.forEach((function(e){e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].length<2&&i.push(e)}))}))})),i=Object(o["a"])(e,i),(r=i.length)>1)for(var a,s,l=1,u=c(i[0]);l<r;++l)(a=c(i[l]))>u&&(s=i[0],i[0]=i[l],i[l]=s,u=a);return i}))}}t["a"]=function(e){return Object(r["b"])(e,a.apply(this,arguments))}},function(e,t,n){"use strict";var r=n(396);t["a"]=function(e){var t={},n=e.map((function(){return[]}));function o(e,n){e.forEach((function(e){e<0&&(e=~e);var r=t[e];r?r.push(n):t[e]=[n]}))}function i(e,t){e.forEach((function(e){o(e,t)}))}function a(e,t){"GeometryCollection"===e.type?e.geometries.forEach((function(e){a(e,t)})):e.type in s&&s[e.type](e.arcs,t)}var s={LineString:o,MultiLineString:i,Polygon:i,MultiPolygon:function(e,t){e.forEach((function(e){i(e,t)}))}};for(var l in e.forEach(a),t)for(var u=t[l],c=u.length,d=0;d<c;++d)for(var f=d+1;f<c;++f){var p,h=u[d],m=u[f];(p=n[h])[l=Object(r["a"])(p,m)]!==m&&p.splice(l,0,m),(p=n[m])[l=Object(r["a"])(p,h)]!==h&&p.splice(l,0,h)}return n}},function(e,t,n){"use strict";t["a"]=function(e,t){var n=0,r=e.length;while(n<r){var o=n+r>>>1;e[o]<t?n=o+1:r=o}return n}},function(e,t,n){"use strict";var r=n(164),o=n(167);t["a"]=function(e,t){if(e.transform)throw new Error("already quantized");if(t&&t.scale)u=e.bbox;else{if(!((n=Math.floor(t))>=2))throw new Error("n must be ≥2");u=e.bbox||Object(r["a"])(e);var n,i=u[0],a=u[1],s=u[2],l=u[3];t={scale:[s-i?(s-i)/(n-1):1,l-a?(l-a)/(n-1):1],translate:[i,a]}}var u,c,d=Object(o["a"])(t),f=e.objects,p={};function h(e){return d(e)}function m(e){var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(m)};break;case"Point":t={type:"Point",coordinates:h(e.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:e.coordinates.map(h)};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}function g(e){var t,n=0,r=1,o=e.length,i=new Array(o);i[0]=d(e[0],0);while(++n<o)((t=d(e[n],n))[0]||t[1])&&(i[r++]=t);return 1===r&&(i[r++]=[0,0]),i.length=r,i}for(c in f)p[c]=m(f[c]);return{type:"Topology",bbox:u,transform:t,objects:p,arcs:e.arcs.map(g)}}},function(e,t,n){var r=n(2),o=r.registerTransform;o("default",(function(e){return e}))},function(e,t,n){var r=n(2),o=r.registerTransform;function i(e){return!!e}o("filter",(function(e,t){void 0===t&&(t={}),e.rows=e.rows.filter(t.callback||i)}))},function(e,t,n){var r=n(3),o=n(401),i=n(32),a=n(2),s=a.registerTransform,l=n(7),u=l.getFields,c={fields:[],key:"key",retains:[],value:"value"};s("fold",(function(e,t){var n=e.getColumnNames();t=r({},c,t);var a=u(t);0===a.length&&(a=n);var s=t.key,l=t.value,d=t.retains;0===d.length&&(d=o(n,a));var f=[];e.rows.forEach((function(e){a.forEach((function(t){var n=i(e,d);n[s]=t,n[l]=e[t],f.push(n)}))})),e.rows=f}))},function(e,t,n){var r=n(402),o=n(168),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r(e,(function(e){return!o(t,e)}))};e.exports=i},function(e,t,n){var r=n(9),o=n(91),i=function(e,t){if(!o(e))return e;var n=[];return r(e,(function(e,r){t(e,r)&&n.push(e)})),n};e.exports=i},function(e,t,n){var r=n(2),o=r.registerTransform;function i(e){return e}o("map",(function(e,t){void 0===t&&(t={}),e.rows=e.rows.map(t.callback||i)}))},function(e,t,n){var r=n(3),o=n(83),i=n(15),a=n(2),s=a.registerTransform,l={groupBy:[],orderBy:[]};function u(e,t){void 0===t&&(t={}),t=r({},l,t),e.rows=o(i(e.rows,t.groupBy,t.orderBy))}s("partition",(function(e,t){void 0===t&&(t={}),t=r({},l,t),e.rows=i(e.rows,t.groupBy,t.orderBy)})),s("group",u),s("groups",u)},function(e,t,n){var r=n(3),o=n(9),i=n(6),a=n(10),s=n(19),l=s.sum,u=n(15),c=n(2),d=c.registerTransform,f=n(7),p=f.getField,h={groupBy:[],as:"_percent"};function m(e,t){void 0===t&&(t={}),t=r({},h,t);var n=p(t),s=t.dimension,c=t.groupBy,d=t.as;if(!a(s))throw new TypeError("Invalid dimension: must be a string!");if(i(d)&&(d=d[0]),!a(d))throw new TypeError("Invalid as: must be a string!");var f=e.rows,m=[],g=u(f,c);o(g,(function(e){var t=l(e.map((function(e){return e[n]}))),r=u(e,[s]);o(r,(function(e){var r=l(e.map((function(e){return e[n]}))),o=e[0],i=o[s];o[n]=r,o[s]=i,o[d]=0===t?0:r/t,m.push(o)}))})),e.rows=m}d("percent",m)},function(e,t,n){var r=n(32),o=n(2),i=o.registerTransform,a=n(7),s=a.getFields;i("pick",(function(e,t){void 0===t&&(t={});var n=s(t,e.getColumnNames());e.rows=e.rows.map((function(e){return r(e,n)}))}))},function(e,t,n){var r=n(3),o=n(9),i=n(6),a=n(10),s=n(15),l=n(2),u=l.registerTransform,c=n(7),d=c.getField,f={groupBy:[],as:"_proportion"};function p(e,t){void 0===t&&(t={}),t=r({},f,t);var n=d(t),l=t.dimension,u=t.groupBy,c=t.as;if(!a(l))throw new TypeError("Invalid dimension: must be a string!");if(i(c)&&(c=c[0]),!a(c))throw new TypeError("Invalid as: must be a string!");var p=e.rows,h=[],m=s(p,u);o(m,(function(e){var t=e.length,r=s(e,[l]);o(r,(function(e){var r=e.length,o=e[0],i=o[l];o[n]=r,o[l]=i,o[c]=r/t,h.push(o)}))})),e.rows=h}u("proportion",p)},function(e,t,n){var r=n(9),o=n(54),i=n(10),a=n(2),s=a.registerTransform;function l(e,t){void 0===t&&(t={});var n=t.map||{},a={};o(n)&&r(n,(function(e,t){i(e)&&i(t)&&(a[t]=e)})),e.rows.forEach((function(e){r(n,(function(t,n){var r=e[n];delete e[n],e[t]=r}))}))}s("rename",l),s("rename-fields",l)},function(e,t,n){var r=n(2),o=r.registerTransform;o("reverse",(function(e){e.rows.reverse()}))},function(e,t,n){var r=n(2),o=r.registerTransform;o("sort",(function(e,t){void 0===t&&(t={});var n=e.getColumnName(0);e.rows.sort(t.callback||function(e,t){return e[n]-t[n]})}))},function(e,t,n){var r=n(6),o=n(412),i=n(2),a=i.registerTransform,s=n(7),l=s.getFields,u=["ASC","DESC"];function c(e,t){void 0===t&&(t={});var n=l(t,[e.getColumnName(0)]);if(!r(n))throw new TypeError("Invalid fields: must be an array with strings!");e.rows=o(e.rows,n);var i=t.order;if(i&&-1===u.indexOf(i))throw new TypeError("Invalid order: "+i+" must be one of "+u.join(", "));"DESC"===i&&e.rows.reverse()}a("sort-by",c),a("sortBy",c)},function(e,t,n){var r=n(10),o=n(11),i=n(6);function a(e,t){var n=void 0;if(o(t))n=function(e,n){return t(e)-t(n)};else{var a=[];r(t)?a.push(t):i(t)&&(a=t),n=function(e,t){for(var n=0;n<a.length;n+=1){var r=a[n];if(e[r]>t[r])return 1;if(e[r]<t[r])return-1}return 0}}return e.sort(n),e}e.exports=a},function(e,t,n){var r=n(2),o=r.registerTransform,i=n(7),a=i.getFields;o("subset",(function(e,t){void 0===t&&(t={});var n=t.startRowIndex||0,r=t.endRowIndex||e.rows.length-1,o=a(t,e.getColumnNames());e.rows=e.getSubset(n,r,o)}))},function(e,t,n){var r=n(3),o=n(9),i=n(15),a=n(2),s=a.registerTransform,l={fillBy:"group",groupBy:[],orderBy:[]};function u(e,t){var n=e.map((function(e){return e}));return t.forEach((function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)})),n}function c(e,t){void 0===t&&(t={}),t=r({},l,t);var n=e.rows,a=t.groupBy,s=t.orderBy,c=i(n,a,s),d=0,f=[];o(c,(function(e){e.length>d&&(d=e.length,f=e)}));var p=[],h={};if(f.forEach((function(e){var t=s.map((function(t){return e[t]})).join("-");p.push(t),h[t]=e})),"order"===t.fillBy){var m=f[0],g=[],v={};n.forEach((function(e){var t=s.map((function(t){return e[t]})).join("-");-1===g.indexOf(t)&&(g.push(t),v[t]=e)}));var y=u(g,p);y.forEach((function(e){var t={};a.forEach((function(e){t[e]=m[e]})),s.forEach((function(n){t[n]=v[e][n]})),n.push(t),f.push(t),p.push(e),h[e]=t})),d=f.length}o(c,(function(e){if(e!==f&&e.length<d){var t=e[0],r=[];e.forEach((function(e){r.push(s.map((function(t){return e[t]})).join("-"))}));var o=u(p,r);o.some((function(r,o){if(o>=d-e.length)return!0;var i=h[r],l={};return a.forEach((function(e){l[e]=t[e]})),s.forEach((function(e){l[e]=i[e]})),n.push(l),!1}))}}))}s("fill-rows",c),s("fillRows",c)},function(e,t,n){var r=n(3),o=n(9),i=n(416),a=n(11),s=n(417),l=n(10),u=n(19),c=n(15),d=n(2),f=d.registerTransform,p=n(7),h=p.getField,m={groupBy:[]};function g(e){return e.filter((function(e){return!s(e)}))}var v=["mean","median","max","min"],y={};function b(e,t){void 0===t&&(t={}),t=r({},m,t);var n=h(t),u=t.method;if(!u)throw new TypeError("Invalid method!");if("value"===u&&!i(t,"value"))throw new TypeError("Invalid value: it is nil.");var d=g(e.getColumn(n)),f=c(e.rows,t.groupBy);o(f,(function(e){var r=g(e.map((function(e){return e[n]})));0===r.length&&(r=d),e.forEach((function(o){if(s(o[n]))if(a(u))o[n]=u(o,r,t.value,e);else{if(!l(u))throw new TypeError("Invalid method: must be a function or one of "+v.join(", "));o[n]=y[u](o,r,t.value)}}))}))}v.forEach((function(e){y[e]=function(t,n){return u[e](n)}})),y.value=function(e,t,n){return n},f("impute",b)},function(e,t){e.exports=function(e,t){return e.hasOwnProperty(t)}},function(e,t){var n=function(e){return void 0===e};e.exports=n},function(e,t,n){var r=n(3),o=n(156),i=n(9),a=n(6),s=n(10),l=n(24),u=n(419),c=n(19),d=n(15),f=n(2),p=f.registerTransform,h=n(84),m=h.STATISTICS_METHODS,g=n(7),v=g.getFields,y={as:[],fields:[],groupBy:[],operations:[]},b="count",x={count:function(e){return e.length},distinct:function(e,t){var n=u(e.map((function(e){return e[t]})));return n.length}};function w(e,t){t=r({},y,t);var n=v(t);if(!a(n))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var o=t.as||[];s(o)&&(o=[o]);var l=t.operations;s(l)&&(l=[l]);var u=[b];if(a(l)&&l.length||(l=u,o=l),1!==l.length||l[0]!==b){if(l.length!==n.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(o.length!==n.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var c=d(e.rows,t.groupBy),f=[];i(c,(function(e){var t=e[0];l.forEach((function(r,i){var a=o[i],s=n[i];t[a]=x[r](e,s)})),f.push(t)})),e.rows=f}m.forEach((function(e){x[e]=function(t,n){var r=t.map((function(e){return e[n]}));return a(r)&&a(r[0])&&(r=o(r)),c[e](r)}})),x.average=x.mean,p("aggregate",w),p("summary",w),e.exports={VALID_AGGREGATES:l(x)}},function(e,t,n){var r=n(9),o=n(168),i=function(e){var t=[];return r(e,(function(e){o(t,e)||t.push(e)})),t};e.exports=i},function(e,t,n){var r=n(3),o=n(6),i=n(56),a=n(421),s=n(57),l=n(2),u=l.registerTransform,c=n(7),d=c.getFields,f=n(58),p=f.silverman,h={as:["x","y"],method:"linear",order:2,precision:2},m=["linear","exponential","logarithmic","power","polynomial"];function g(e,t){t=r({},h,t);var n=d(t);if(!o(n)||2!==n.length)throw new TypeError("invalid fields: must be an array of 2 strings.");var l=n[0],u=n[1],c=t.method;if(-1===m.indexOf(c))throw new TypeError("invalid method: "+c+". Must be one of "+m.join(", "));var f=e.rows.map((function(e){return[e[l],e[u]]})),g=a[c](f,t),v=t.extent;o(v)&&2===v.length||(v=e.range(l));var y=t.bandwidth;(!i(y)||y<=0)&&(y=p(e.getColumn(l)));var b=s(v,y),x=[],w=t.as,_=w[0],C=w[1];b.forEach((function(e){var t={},n=g.predict(e),r=n[0],o=n[1];t[_]=r,t[C]=o,isFinite(o)&&x.push(t)})),e.rows=x}u("regression",g),e.exports={REGRESSION_METHODS:m}},function(e,t,n){var r,o,i;(function(n,a){o=[e],r=a,i="function"===typeof r?r.apply(t,o):r,void 0===i||(e.exports=i)})(0,(function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o={order:2,precision:2,period:null};function i(e,t){var n=[],r=[];e.forEach((function(e,o){null!==e[1]&&(r.push(e),n.push(t[o]))}));var o=r.reduce((function(e,t){return e+t[1]}),0),i=o/r.length,a=r.reduce((function(e,t){var n=t[1]-i;return e+n*n}),0),s=r.reduce((function(e,t,r){var o=n[r],i=t[1]-o[1];return e+i*i}),0);return 1-s/a}function a(e,t){for(var n=e,r=e.length-1,o=[t],i=0;i<r;i++){for(var a=i,s=i+1;s<r;s++)Math.abs(n[i][s])>Math.abs(n[i][a])&&(a=s);for(var l=i;l<r+1;l++){var u=n[l][i];n[l][i]=n[l][a],n[l][a]=u}for(var c=i+1;c<r;c++)for(var d=r;d>=i;d--)n[d][c]-=n[d][i]*n[i][c]/n[i][i]}for(var f=r-1;f>=0;f--){for(var p=0,h=f+1;h<r;h++)p+=n[h][f]*o[h];o[f]=(n[r][f]-p)/n[f][f]}return o}function s(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var l={linear:function(e,t){for(var n=[0,0,0,0,0],r=0,o=0;o<e.length;o++)null!==e[o][1]&&(r++,n[0]+=e[o][0],n[1]+=e[o][1],n[2]+=e[o][0]*e[o][0],n[3]+=e[o][0]*e[o][1],n[4]+=e[o][1]*e[o][1]);var a=r*n[2]-n[0]*n[0],l=r*n[3]-n[0]*n[1],u=0===a?0:s(l/a,t.precision),c=s(n[1]/r-u*n[0]/r,t.precision),d=function(e){return[s(e,t.precision),s(u*e+c,t.precision)]},f=e.map((function(e){return d(e[0])}));return{points:f,predict:d,equation:[u,c],r2:s(i(e,f),t.precision),string:0===c?"y = "+u+"x":"y = "+u+"x + "+c}},exponential:function(e,t){for(var n=[0,0,0,0,0,0],r=0;r<e.length;r++)null!==e[r][1]&&(n[0]+=e[r][0],n[1]+=e[r][1],n[2]+=e[r][0]*e[r][0]*e[r][1],n[3]+=e[r][1]*Math.log(e[r][1]),n[4]+=e[r][0]*e[r][1]*Math.log(e[r][1]),n[5]+=e[r][0]*e[r][1]);var o=n[1]*n[2]-n[5]*n[5],a=Math.exp((n[2]*n[3]-n[5]*n[4])/o),l=(n[1]*n[4]-n[5]*n[3])/o,u=s(a,t.precision),c=s(l,t.precision),d=function(e){return[s(e,t.precision),s(u*Math.exp(c*e),t.precision)]},f=e.map((function(e){return d(e[0])}));return{points:f,predict:d,equation:[u,c],string:"y = "+u+"e^("+c+"x)",r2:s(i(e,f),t.precision)}},logarithmic:function(e,t){for(var n=[0,0,0,0],r=e.length,o=0;o<r;o++)null!==e[o][1]&&(n[0]+=Math.log(e[o][0]),n[1]+=e[o][1]*Math.log(e[o][0]),n[2]+=e[o][1],n[3]+=Math.pow(Math.log(e[o][0]),2));var a=(r*n[1]-n[2]*n[0])/(r*n[3]-n[0]*n[0]),l=s(a,t.precision),u=s((n[2]-l*n[0])/r,t.precision),c=function(e){return[s(e,t.precision),s(s(u+l*Math.log(e),t.precision),t.precision)]},d=e.map((function(e){return c(e[0])}));return{points:d,predict:c,equation:[u,l],string:"y = "+u+" + "+l+" ln(x)",r2:s(i(e,d),t.precision)}},power:function(e,t){for(var n=[0,0,0,0,0],r=e.length,o=0;o<r;o++)null!==e[o][1]&&(n[0]+=Math.log(e[o][0]),n[1]+=Math.log(e[o][1])*Math.log(e[o][0]),n[2]+=Math.log(e[o][1]),n[3]+=Math.pow(Math.log(e[o][0]),2));var a=(r*n[1]-n[0]*n[2])/(r*n[3]-Math.pow(n[0],2)),l=(n[2]-a*n[0])/r,u=s(Math.exp(l),t.precision),c=s(a,t.precision),d=function(e){return[s(e,t.precision),s(s(u*Math.pow(e,c),t.precision),t.precision)]},f=e.map((function(e){return d(e[0])}));return{points:f,predict:d,equation:[u,c],string:"y = "+u+"x^"+c,r2:s(i(e,f),t.precision)}},polynomial:function(e,t){for(var n=[],o=[],l=0,u=0,c=e.length,d=t.order+1,f=0;f<d;f++){for(var p=0;p<c;p++)null!==e[p][1]&&(l+=Math.pow(e[p][0],f)*e[p][1]);n.push(l),l=0;for(var h=[],m=0;m<d;m++){for(var g=0;g<c;g++)null!==e[g][1]&&(u+=Math.pow(e[g][0],f+m));h.push(u),u=0}o.push(h)}o.push(n);for(var v=a(o,d).map((function(e){return s(e,t.precision)})),y=function(e){return[s(e,t.precision),s(v.reduce((function(t,n,r){return t+n*Math.pow(e,r)}),0),t.precision)]},b=e.map((function(e){return y(e[0])})),x="y = ",w=v.length-1;w>=0;w--)x+=w>1?v[w]+"x^"+w+" + ":1===w?v[w]+"x + ":v[w];return{string:x,points:b,predict:y,equation:[].concat(r(v)).reverse(),r2:s(i(e,b),t.precision)}}};function u(){var e=function(e,r){return n({_round:s},e,t({},r,(function(e,t){return l[r](e,n({},o,t))})))};return Object.keys(l).reduce(e,{})}e.exports=u()}))},function(e,t,n){var r=n(3),o=n(9),i=n(9),a=n(6),s=n(11),l=n(56),u=n(10),c=n(24),d=n(32),f=n(57),p=n(92),h=n(58),m=n(15),g=n(2),v=g.registerTransform,y=n(7),b=y.getFields,x=n(19),w=x.kernelDensityEstimation,_={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},C=c(p),S=c(h);function k(e,t){t=r({},_,t);var n=b(t);if(!a(n)||n.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var c=t.as;if(!a(c)||3!==c.length)throw new TypeError("invalid as: must be an array of 3 strings!");var g=t.method;if(u(g)){if(-1===C.indexOf(g))throw new TypeError("invalid method: "+g+". Must be one of "+C.join(", "));g=p[g]}if(!s(g))throw new TypeError("invalid method: kernel method must be a function!");var v=t.extent;if(!a(v)||0===v.length){var y=[];o(n,(function(t){var n=e.range(t);y=y.concat(n)})),v=[Math.min.apply(Math,y),Math.max.apply(Math,y)]}var x=t.bandwidth;u(x)&&h[x]?x=h[x](e.getColumn(n[0])):s(x)?x=x(e.getColumn(n[0])):(!l(x)||x<=0)&&(x=h.nrd(e.getColumn(n[0])));var S=f(v,t.step?t.step:x),k=[],O=t.groupBy,T=m(e.rows,O);i(T,(function(e){var r={};o(n,(function(n){var i=d(e[0],O);r[n]=w(e.map((function(e){return e[n]})),g,x);var a=c[0],s=c[1],l=c[2];i[a]=n,i[s]=[],i[l]=[],o(S,(function(e){var o=r[n](e);o>=t.minSize&&(i[s].push(e),i[l].push(o))})),k.push(i)}))})),e.rows=k}v("kernel-density-estimation",k),v("kde",k),v("KDE",k),e.exports={KERNEL_METHODS:C,BANDWIDTH_METHODS:S}},function(e,t,n){var r=n(3),o=n(9),i=n(6),a=n(2),s=a.registerTransform,l=n(7),u=l.getFields,c={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},d=Math.sqrt(3),f=Math.PI/3,p=[0,f,2*f,3*f,4*f,5*f];function h(e,t,n,r){return Math.sqrt((e-n)*(e-n)+(t-r)*(t-r))}function m(e,t,n){var r=e-n;t/=2;var o=Math.floor(r/t),i=t*(o+(1===Math.abs(o%2)?1:0)),a=t*(o+(1===Math.abs(o%2)?0:1));return[i+n,a+n]}function g(e,t,n){void 0===t&&(t=[1,1]),void 0===n&&(n=[0,0]);var r={},o=t,i=o[0],a=o[1],s=n,l=s[0],u=s[1];return e.forEach((function(e){var t,n,o,s=e[0],c=e[1],d=m(s,i,l),f=d[0],p=d[1],g=m(c,a,u),v=g[0],y=g[1],b=h(s,c,f,v),x=h(s,c,p,y);b<x?(t="x"+f+"y"+v,n=f,o=v):(t="x"+p+"y"+y,n=p,o=y),r[t]=r[t]||{x:n,y:o,count:0},r[t].count++})),r}function v(e,t){t=r({},c,t);var n=u(t);if(!i(n)||2!==n.length)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var a=n[0],s=n[1],l=e.range(a),f=e.range(s),h=l[1]-l[0],m=f[1]-f[0],v=t.binWidth||[];if(2!==v.length){var y=t.bins,b=y[0],x=y[1];if(b<=0||x<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");v=[h/b,m/x]}var w=t.offset,_=w[0],C=w[1],S=3*v[0]/(d*v[1]),k=e.rows.map((function(e){return[e[a],S*e[s]]})),O=g(k,[v[0],S*v[1]],[_,S*C]),T=t.as,M=T[0],D=T[1],I=T[2];if(!M||!D||!I)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var E=v[0]/d,A=p.map((function(e){return[Math.sin(e)*E,-Math.cos(e)*E]})),L=[],j=0;t.sizeByCount&&o(O,(function(e){e.count>j&&(j=e.count)})),o(O,(function(e){var n=e.x,r=e.y,o=e.count,i={};i[I]=o,t.sizeByCount?(i[M]=A.map((function(t){return n+e.count/j*t[0]})),i[D]=A.map((function(t){return(r+e.count/j*t[1])/S}))):(i[M]=A.map((function(e){return n+e[0]})),i[D]=A.map((function(e){return(r+e[1])/S}))),L.push(i)})),e.rows=L}s("bin.hexagon",v),s("bin.hex",v),s("hexbin",v)},function(e,t,n){var r=n(3),o=n(9),i=n(32),a=n(15),s=n(2),l=s.registerTransform,u=n(7),c=u.getField,d={as:["x","count"],bins:30,offset:0,groupBy:[]};function f(e,t,n){var r=e-n,o=Math.floor(r/t);return[o*t+n,(o+1)*t+n]}function p(e,t){t=r({},d,t);var n=c(t);if(0!==e.rows.length){var s=e.range(n),l=s[1]-s[0],u=t.binWidth;if(!u){var p=t.bins;if(p<=0)throw new TypeError("Invalid bins: it must be a positive number!");u=l/p}var h=t.offset%u,m=[],g=t.groupBy,v=a(e.rows,g);o(v,(function(e){var a={},s=e.map((function(e){return e[n]}));s.forEach((function(e){var t=f(e,u,h),n=t[0],r=t[1],o=n+"-"+r;a[o]=a[o]||{x0:n,x1:r,count:0},a[o].count++}));var l=t.as,c=l[0],d=l[1];if(!c||!d)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var p=i(e[0],g);o(a,(function(e){var t=r({},p);t[c]=[e.x0,e.x1],t[d]=e.count,m.push(t)}))})),e.rows=m}}l("bin.histogram",p),l("bin.dot",p)},function(e,t,n){var r=n(3),o=n(9),i=n(6),a=n(10),s=n(19),l=s.quantile,u=n(15),c=n(157),d=n(2),f=d.registerTransform,p=n(7),h=p.getField,m={as:"_bin",groupBy:[],fraction:4};function g(e,t){t=r({},m,t);var n=h(t),s=t.as;if(!a(s))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var d=t.p,f=t.fraction;i(d)&&0!==d.length||(d=c(f));var p=e.rows,g=t.groupBy,v=u(p,g),y=[];o(v,(function(e){var t=e[0],r=e.map((function(e){return e[n]})),o=d.map((function(e){return l(r,e)}));t[s]=o,y.push(t)})),e.rows=y}f("bin.quantile",g)},function(e,t,n){var r=n(3),o=n(9),i=n(2),a=i.registerTransform,s=n(7),l=s.getFields,u={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};function c(e,t,n){var r=e-n,o=Math.floor(r/t);return[o*t+n,(o+1)*t+n]}function d(e,t){t=r({},u,t);var n=l(t),i=n[0],a=n[1];if(!i||!a)throw new TypeError("Invalid fields: must be an array with 2 strings!");var s=e.range(i),d=e.range(a),f=s[1]-s[0],p=d[1]-d[0],h=t.binWidth||[];if(2!==h.length){var m=t.bins,g=m[0],v=m[1];if(g<=0||v<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");h=[f/g,p/v]}var y=e.rows.map((function(e){return[e[i],e[a]]})),b={},x=t.offset,w=x[0],_=x[1];y.forEach((function(e){var t=c(e[0],h[0],w),n=t[0],r=t[1],o=c(e[1],h[1],_),i=o[0],a=o[1],s=n+"-"+r+"-"+i+"-"+a;b[s]=b[s]||{x0:n,x1:r,y0:i,y1:a,count:0},b[s].count++}));var C=[],S=t.as,k=S[0],O=S[1],T=S[2];if(!k||!O||!T)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(t.sizeByCount){var M=0;o(b,(function(e){e.count>M&&(M=e.count)})),o(b,(function(e){var t=e.x0,n=e.x1,r=e.y0,o=e.y1,i=e.count,a=i/M,s=(t+n)/2,l=(r+o)/2,u=(n-t)*a/2,c=(o-r)*a/2,d=s-u,f=s+u,p=l-c,h=l+c,m={};m[k]=[d,f,f,d],m[O]=[p,p,h,h],m[T]=i,C.push(m)}))}else o(b,(function(e){var t={};t[k]=[e.x0,e.x1,e.x1,e.x0],t[O]=[e.y0,e.y0,e.y1,e.y1],t[T]=e.count,C.push(t)}));e.rows=C}a("bin.rectangle",d),a("bin.rect",d)},function(e,t,n){var r=n(3),o=n(6),i=n(10),a=n(2),s=a.registerTransform,l=n(7),u=l.getField,c={as:["_centroid_x","_centroid_y"]};function d(e,t){t=r({},c,t);var n=u(t),a=t.geoView||t.geoDataView;if(i(a)&&(a=e.dataSet.getView(a)),!a||"geo"!==a.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var s=t.as;if(!o(s)||2!==s.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var l=s[0],d=s[1];e.rows.forEach((function(e){var t=a.geoFeatureByName(e[n]);t&&(a._projectedAs?(e[l]=t[a._projectedAs[2]],e[d]=t[a._projectedAs[3]]):(e[l]=t.centroidX,e[d]=t.centroidY))}))}s("geo.centroid",d)},function(e,t,n){var r=n(3),o=n(0),i=n(159),a=n(6),s=n(2),l=s.registerTransform,u=n(141),c=o.geoPath,d={as:["_x","_y","_centroid_x","_centroid_y"]};function f(e,t){if("geo"!==e.dataType&&"geo-graticule"!==e.dataType)throw new TypeError("Invalid dataView: this transform is for Geo data only!");t=r({},d,t);var n=t.projection;if(!n)throw new TypeError("Invalid projection!");n=u(n);var o=c(n),s=t.as;if(!a(s)||4!==s.length)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');e._projectedAs=s;var l=s[0],f=s[1],p=s[2],h=s[3];e.rows.forEach((function(e){e[l]=[],e[f]=[];var t=o(e);if(t){var n=i(t);n._path.forEach((function(t){e[l].push(t[1]),e[f].push(t[2])}));var r=o.centroid(e);e[p]=r[0],e[h]=r[1]}})),e.rows=e.rows.filter((function(e){return 0!==e[l].length}))}l("geo.projection",f)},function(e,t,n){var r=n(3),o=n(6),i=n(10),a=n(2),s=a.registerTransform,l=n(7),u=l.getField,c={as:["_x","_y"]};function d(e,t){t=r({},c,t);var n=u(t),a=t.geoView||t.geoDataView;if(i(a)&&(a=e.dataSet.getView(a)),!a||"geo"!==a.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var s=t.as;if(!o(s)||2!==s.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var l=s[0],d=s[1];e.rows.forEach((function(e){var t=a.geoFeatureByName(e[n]);t&&(a._projectedAs?(e[l]=t[a._projectedAs[0]],e[d]=t[a._projectedAs[1]]):(e[l]=t.longitude,e[d]=t.latitude))}))}s("geo.region",d)},function(e,t,n){var r=n(3),o=n(9),i=n(6),a=n(83),s=n(11),l=n(2),u=l.registerTransform,c={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(e){return e.id},source:function(e){return e.source},target:function(e){return e.target},sourceWeight:function(e){return e.value||1},targetWeight:function(e){return e.value||1},sortBy:null};function d(e,t,n){return void 0===n&&(n={}),e.forEach((function(e){var r=t.edgeSource(e),o=t.edgeTarget(e);n[r]||(n[r]={id:r}),n[o]||(n[o]={id:o})})),a(n)}function f(e,t,n){o(e,(function(e,r){e.inEdges=t.filter((function(e){return""+n.target(e)===""+r})),e.outEdges=t.filter((function(e){return""+n.source(e)===""+r})),e.edges=e.outEdges.concat(e.inEdges),e.frequency=e.edges.length,e.value=0,e.inEdges.forEach((function(t){e.value+=n.targetWeight(t)})),e.outEdges.forEach((function(t){e.value+=n.sourceWeight(t)}))}))}function p(e,t){var n={weight:function(e,t){return t.value-e.value},frequency:function(e,t){return t.frequency-e.frequency},id:function(e,n){return(""+t.id(e)).localeCompare(""+t.id(n))}},r=n[t.sortBy];!r&&s(t.sortBy)&&(r=t.sortBy),r&&e.sort(r)}function h(e,t){var n=e.length;if(!n)throw new TypeError("Invalid nodes: it's empty!");if(t.weight){var r=t.marginRatio;if(r<0||r>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var o=r/(2*n),i=t.thickness;if(i<=0||i>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var a=0;e.forEach((function(e){a+=e.value})),e.forEach((function(e){e.weight=e.value/a,e.width=e.weight*(1-r),e.height=i})),e.forEach((function(n,r){for(var a=0,s=r-1;s>=0;s--)a+=e[s].width+2*o;var l=n.minX=o+a,u=n.maxX=n.minX+n.width,c=n.minY=t.y-i/2,d=n.maxY=c+i;n.x=[l,u,u,l],n.y=[c,c,d,d]}))}else{var s=1/n;e.forEach((function(e,n){e.x=(n+.5)*s,e.y=t.y}))}}function m(e,t,n){if(n.weight){var r={};o(e,(function(e,t){r[t]=e.value})),t.forEach((function(t){var o=n.source(t),i=n.target(t),a=e[o],s=e[i];if(a&&s){var l=r[o],u=n.sourceWeight(t),c=a.minX+(a.value-l)/a.value*a.width,d=c+u/a.value*a.width;r[o]-=u;var f=r[i],p=n.targetWeight(t),h=s.minX+(s.value-f)/s.value*s.width,m=h+p/s.value*s.width;r[i]-=p;var g=n.y;t.x=[c,d,h,m],t.y=[g,g,g,g]}}))}else t.forEach((function(t){var r=e[n.source(t)],o=e[n.target(t)];r&&o&&(t.x=[r.x,o.x],t.y=[r.y,o.y])}))}function g(e,t){t=r({},c,t);var n={},o=e.nodes,a=e.edges;i(o)&&0!==o.length||(o=d(a,t,n)),o.forEach((function(e){var r=t.id(e);n[r]=e})),f(n,a,t),p(o,t),h(o,t),m(n,a,t),e.nodes=o,e.edges=a}u("diagram.arc",g),u("arc",g)},function(e,t,n){var r=n(3),o=n(432),i=n(2),a=i.registerTransform,s={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(e){return e.source},target:function(e){return e.target}};function l(e,t){t=r({},s,t);var n=new o.graphlib.Graph;n.setGraph({}),n.setDefaultEdgeLabel((function(){return{}})),e.nodes.forEach((function(e){var r=t.nodeId?t.nodeId(e):e.id;e.height||e.width||(e.height=e.width=t.edgesep),n.setNode(r,e)})),e.edges.forEach((function(e){n.setEdge(t.source(e),t.target(e))})),o.layout(n);var i=[],a=[];n.nodes().forEach((function(e){var t=n.node(e),r=t.x,o=t.y,a=t.height,s=t.width;t.x=[r-s/2,r+s/2,r+s/2,r-s/2],t.y=[o+a/2,o+a/2,o-a/2,o-a/2],i.push(t)})),n.edges().forEach((function(e){var t=n.edge(e),r=t.points,o={};o.x=r.map((function(e){return e.x})),o.y=r.map((function(e){return e.y})),a.push(o)})),e.nodes=i,e.edges=a}a("diagram.dagre",l),a("dagre",l)},function(e,t,n){e.exports={graphlib:n(16),layout:n(448),debug:n(470),util:{time:n(12).time,notime:n(12).notime},version:n(471)}},function(e,t,n){var r=n(434);e.exports={Graph:r.Graph,json:n(438),alg:n(439),version:r.version}},function(e,t,n){e.exports={Graph:n(93),version:n(437)}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports="2.1.5"},function(e,t,n){var r=n(13),o=n(93);function i(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:a(e),edges:s(e)};return r.isUndefined(e.graph())||(t.value=r.clone(e.graph())),t}function a(e){return r.map(e.nodes(),(function(t){var n=e.node(t),o=e.parent(t),i={v:t};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i}))}function s(e){return r.map(e.edges(),(function(t){var n=e.edge(t),o={v:t.v,w:t.w};return r.isUndefined(t.name)||(o.name=t.name),r.isUndefined(n)||(o.value=n),o}))}function l(e){var t=new o(e.options).setGraph(e.value);return r.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),r.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}e.exports={write:i,read:l}},function(e,t,n){e.exports={components:n(440),dijkstra:n(170),dijkstraAll:n(441),findCycles:n(442),floydWarshall:n(443),isAcyclic:n(444),postorder:n(445),preorder:n(446),prim:n(447),tarjan:n(172),topsort:n(173)}},function(e,t,n){var r=n(13);function o(e){var t,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,t.push(o),r.each(e.successors(o),i),r.each(e.predecessors(o),i))}return r.each(e.nodes(),(function(e){t=[],i(e),t.length&&o.push(t)})),o}e.exports=o},function(e,t,n){var r=n(170),o=n(13);function i(e,t,n){return o.transform(e.nodes(),(function(o,i){o[i]=r(e,i,t,n)}),{})}e.exports=i},function(e,t,n){var r=n(13),o=n(172);function i(e){return r.filter(o(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}e.exports=i},function(e,t,n){var r=n(13);e.exports=i;var o=r.constant(1);function i(e,t,n){return a(e,t||o,n||function(t){return e.outEdges(t)})}function a(e,t,n){var r={},o=e.nodes();return o.forEach((function(e){r[e]={},r[e][e]={distance:0},o.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var o=n.v===e?n.w:n.v,i=t(n);r[e][o]={distance:i,predecessor:e}}))})),o.forEach((function(e){var t=r[e];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[e],o=t[n],a=i[n],s=r.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)}))}))})),r}},function(e,t,n){var r=n(173);function o(e){try{r(e)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}e.exports=o},function(e,t,n){var r=n(174);function o(e,t){return r(e,t,"post")}e.exports=o},function(e,t,n){var r=n(174);function o(e,t){return r(e,t,"pre")}e.exports=o},function(e,t,n){var r=n(13),o=n(93),i=n(171);function a(e,t){var n,a=new o,s={},l=new i;function u(e){var r=e.v===n?e.w:e.v,o=l.priority(r);if(void 0!==o){var i=t(e);i<o&&(s[r]=n,l.decrease(r,i))}}if(0===e.nodeCount())return a;r.each(e.nodes(),(function(e){l.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),l.decrease(e.nodes()[0],0);var c=!1;while(l.size()>0){if(n=l.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(c)throw new Error("Input graph is not connected: "+e);c=!0}e.nodeEdges(n).forEach(u)}return a}e.exports=a},function(e,t,n){"use strict";var r=n(8),o=n(449),i=n(452),a=n(453),s=n(12).normalizeRanks,l=n(455),u=n(12).removeEmptyRanks,c=n(456),d=n(457),f=n(458),p=n(459),h=n(468),m=n(12),g=n(16).Graph;function v(e,t){var n=t&&t.debugTiming?m.time:m.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return M(e)}));n("  runLayout",(function(){y(t,n)})),n("  updateInputGraph",(function(){b(e,t)}))}))}function y(e,t){t("    makeSpaceForEdgeLabels",(function(){D(e)})),t("    removeSelfEdges",(function(){B(e)})),t("    acyclic",(function(){o.run(e)})),t("    nestingGraph.run",(function(){c.run(e)})),t("    rank",(function(){a(m.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){I(e)})),t("    removeEmptyRanks",(function(){u(e)})),t("    nestingGraph.cleanup",(function(){c.cleanup(e)})),t("    normalizeRanks",(function(){s(e)})),t("    assignRankMinMax",(function(){E(e)})),t("    removeEdgeLabelProxies",(function(){A(e)})),t("    normalize.run",(function(){i.run(e)})),t("    parentDummyChains",(function(){l(e)})),t("    addBorderSegments",(function(){d(e)})),t("    order",(function(){p(e)})),t("    insertSelfEdges",(function(){F(e)})),t("    adjustCoordinateSystem",(function(){f.adjust(e)})),t("    position",(function(){h(e)})),t("    positionSelfEdges",(function(){z(e)})),t("    removeBorderNodes",(function(){R(e)})),t("    normalize.undo",(function(){i.undo(e)})),t("    fixupEdgeLabelCoords",(function(){N(e)})),t("    undoCoordinateSystem",(function(){f.undo(e)})),t("    translateGraph",(function(){L(e)})),t("    assignNodeIntersects",(function(){j(e)})),t("    reversePoints",(function(){P(e)})),t("    acyclic.undo",(function(){o.undo(e)}))}function b(e,t){r.forEach(e.nodes(),(function(n){var r=e.node(n),o=t.node(n);r&&(r.x=o.x,r.y=o.y,t.children(n).length&&(r.width=o.width,r.height=o.height))})),r.forEach(e.edges(),(function(n){var o=e.edge(n),i=t.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}e.exports=v;var x=["nodesep","edgesep","ranksep","marginx","marginy"],w={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},_=["acyclicer","ranker","rankdir","align"],C=["width","height"],S={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],O={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},T=["labelpos"];function M(e){var t=new g({multigraph:!0,compound:!0}),n=H(e.graph());return t.setGraph(r.merge({},w,V(n,x),r.pick(n,_))),r.forEach(e.nodes(),(function(n){var o=H(e.node(n));t.setNode(n,r.defaults(V(o,C),S)),t.setParent(n,e.parent(n))})),r.forEach(e.edges(),(function(n){var o=H(e.edge(n));t.setEdge(n,r.merge({},O,V(o,k),r.pick(o,T)))})),t}function D(e){var t=e.graph();t.ranksep/=2,r.forEach(e.edges(),(function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}function I(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),o=e.node(t.w),i={rank:(o.rank-r.rank)/2+r.rank,e:t};m.addDummyNode(e,"edge-proxy",i,"_ep")}}))}function E(e){var t=0;r.forEach(e.nodes(),(function(n){var o=e.node(n);o.borderTop&&(o.minRank=e.node(o.borderTop).rank,o.maxRank=e.node(o.borderBottom).rank,t=r.max(t,o.maxRank))})),e.graph().maxRank=t}function A(e){r.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}function L(e){var t=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=e.graph(),s=a.marginx||0,l=a.marginy||0;function u(e){var r=e.x,a=e.y,s=e.width,l=e.height;t=Math.min(t,r-s/2),n=Math.max(n,r+s/2),o=Math.min(o,a-l/2),i=Math.max(i,a+l/2)}r.forEach(e.nodes(),(function(t){u(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.has(n,"x")&&u(n)})),t-=s,o-=l,r.forEach(e.nodes(),(function(n){var r=e.node(n);r.x-=t,r.y-=o})),r.forEach(e.edges(),(function(n){var i=e.edge(n);r.forEach(i.points,(function(e){e.x-=t,e.y-=o})),r.has(i,"x")&&(i.x-=t),r.has(i,"y")&&(i.y-=o)})),a.width=n-t+s,a.height=i-o+l}function j(e){r.forEach(e.edges(),(function(t){var n,r,o=e.edge(t),i=e.node(t.v),a=e.node(t.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(m.intersectRect(i,n)),o.points.push(m.intersectRect(a,r))}))}function N(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}}))}function P(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}function R(e){r.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),o=e.node(n.borderTop),i=e.node(n.borderBottom),a=e.node(r.last(n.borderLeft)),s=e.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}})),r.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}function B(e){r.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}function F(e){var t=m.buildLayerMatrix(e);r.forEach(t,(function(t){var n=0;r.forEach(t,(function(t,o){var i=e.node(t);i.order=o+n,r.forEach(i.selfEdges,(function(t){m.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:o+ ++n,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))}function z(e){r.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{x:o+a,y:i},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}}))}function V(e,t){return r.mapValues(r.pick(e,t),Number)}function H(e){var t={};return r.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}},function(e,t,n){"use strict";var r=n(8),o=n(450);function i(e){var t="greedy"===e.graph().acyclicer?o(e,n(e)):a(e);function n(e){return function(t){return e.edge(t).weight}}r.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r.uniqueId("rev"))}))}function a(e){var t=[],n={},o={};function i(a){r.has(o,a)||(o[a]=!0,n[a]=!0,r.forEach(e.outEdges(a),(function(e){r.has(n,e.w)?t.push(e):i(e.w)})),delete n[a])}return r.forEach(e.nodes(),i),t}function s(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))}e.exports={run:i,undo:s}},function(e,t,n){var r=n(8),o=n(16).Graph,i=n(451);e.exports=s;var a=r.constant(1);function s(e,t){if(e.nodeCount()<=1)return[];var n=c(e,t||a),o=l(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(o,(function(t){return e.outEdges(t.v,t.w)})),!0)}function l(e,t,n){var r,o=[],i=t[t.length-1],a=t[0];while(e.nodeCount()){while(r=a.dequeue())u(e,t,n,r);while(r=i.dequeue())u(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue(),r){o=o.concat(u(e,t,n,r,!0));break}}return o}function u(e,t,n,o,i){var a=i?[]:void 0;return r.forEach(e.inEdges(o.v),(function(r){var o=e.edge(r),s=e.node(r.v);i&&a.push({v:r.v,w:r.w}),s.out-=o,d(t,n,s)})),r.forEach(e.outEdges(o.v),(function(r){var o=e.edge(r),i=r.w,a=e.node(i);a["in"]-=o,d(t,n,a)})),e.removeNode(o.v),a}function c(e,t){var n=new o,a=0,s=0;r.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),r.forEach(e.edges(),(function(e){var r=n.edge(e.v,e.w)||0,o=t(e),i=r+o;n.setEdge(e.v,e.w,i),s=Math.max(s,n.node(e.v).out+=o),a=Math.max(a,n.node(e.w)["in"]+=o)}));var l=r.range(s+a+3).map((function(){return new i})),u=a+1;return r.forEach(n.nodes(),(function(e){d(l,u,n.node(e))})),{graph:n,buckets:l,zeroIdx:u}}function d(e,t,n){n.out?n["in"]?e[n.out-n["in"]+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},function(e,t){function n(){var e={};e._next=e._prev=e,this._sentinel=e}function r(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function o(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=n,n.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return r(t),t},n.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&r(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},n.prototype.toString=function(){var e=[],t=this._sentinel,n=t._prev;while(n!==t)e.push(JSON.stringify(n,o)),n=n._prev;return"["+e.join(", ")+"]"}},function(e,t,n){"use strict";var r=n(8),o=n(12);function i(e){e.graph().dummyChains=[],r.forEach(e.edges(),(function(t){a(e,t)}))}function a(e,t){var n=t.v,r=e.node(n).rank,i=t.w,a=e.node(i).rank,s=t.name,l=e.edge(t),u=l.labelRank;if(a!==r+1){var c,d,f;for(e.removeEdge(t),f=0,++r;r<a;++f,++r)l.points=[],d={width:0,height:0,edgeLabel:l,edgeObj:t,rank:r},c=o.addDummyNode(e,"edge",d,"_d"),r===u&&(d.width=l.width,d.height=l.height,d.dummy="edge-label",d.labelpos=l.labelpos),e.setEdge(n,c,{weight:l.weight},s),0===f&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,i,{weight:l.weight},s)}}function s(e){r.forEach(e.graph().dummyChains,(function(t){var n,r=e.node(t),o=r.edgeLabel;e.setEdge(r.edgeObj,o);while(r.dummy)n=e.successors(t)[0],e.removeNode(t),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),t=n,r=e.node(t)}))}e.exports={run:i,undo:s}},function(e,t,n){"use strict";var r=n(59),o=r.longestPath,i=n(175),a=n(454);function s(e){switch(e.graph().ranker){case"network-simplex":c(e);break;case"tight-tree":u(e);break;case"longest-path":l(e);break;default:c(e)}}e.exports=s;var l=o;function u(e){o(e),i(e)}function c(e){a(e)}},function(e,t,n){"use strict";var r=n(8),o=n(175),i=n(59).slack,a=n(59).longestPath,s=n(16).alg.preorder,l=n(16).alg.postorder,u=n(12).simplify;function c(e){e=u(e),a(e);var t,n,r=o(e);h(r),d(r,e);while(t=g(r))n=v(r,e,t),y(r,e,t,n)}function d(e,t){var n=l(e,e.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){f(e,t,n)}))}function f(e,t,n){var r=e.node(n),o=r.parent;e.edge(n,o).cutvalue=p(e,t,n)}function p(e,t,n){var o=e.node(n),i=o.parent,a=!0,s=t.edge(n,i),l=0;return s||(a=!1,s=t.edge(i,n)),l=s.weight,r.forEach(t.nodeEdges(n),(function(r){var o=r.v===n,s=o?r.w:r.v;if(s!==i){var u=o===a,c=t.edge(r).weight;if(l+=u?c:-c,x(e,n,s)){var d=e.edge(n,s).cutvalue;l+=u?-d:d}}})),l}function h(e,t){arguments.length<2&&(t=e.nodes()[0]),m(e,{},1,t)}function m(e,t,n,o,i){var a=n,s=e.node(o);return t[o]=!0,r.forEach(e.neighbors(o),(function(i){r.has(t,i)||(n=m(e,t,n,i,o))})),s.low=a,s.lim=n++,i?s.parent=i:delete s.parent,n}function g(e){return r.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function v(e,t,n){var o=n.v,a=n.w;t.hasEdge(o,a)||(o=n.w,a=n.v);var s=e.node(o),l=e.node(a),u=s,c=!1;s.lim>l.lim&&(u=l,c=!0);var d=r.filter(t.edges(),(function(t){return c===w(e,e.node(t.v),u)&&c!==w(e,e.node(t.w),u)}));return r.minBy(d,(function(e){return i(t,e)}))}function y(e,t,n,r){var o=n.v,i=n.w;e.removeEdge(o,i),e.setEdge(r.v,r.w,{}),h(e),d(e,t),b(e,t)}function b(e,t){var n=r.find(e.nodes(),(function(e){return!t.node(e).parent})),o=s(e,n);o=o.slice(1),r.forEach(o,(function(n){var r=e.node(n).parent,o=t.edge(n,r),i=!1;o||(o=t.edge(r,n),i=!0),t.node(n).rank=t.node(r).rank+(i?o.minlen:-o.minlen)}))}function x(e,t,n){return e.hasEdge(t,n)}function w(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=c,c.initLowLimValues=h,c.initCutValues=d,c.calcCutValue=p,c.leaveEdge=g,c.enterEdge=v,c.exchangeEdges=y},function(e,t,n){var r=n(8);function o(e){var t=a(e);r.forEach(e.graph().dummyChains,(function(n){var r=e.node(n),o=r.edgeObj,a=i(e,t,o.v,o.w),s=a.path,l=a.lca,u=0,c=s[u],d=!0;while(n!==o.w){if(r=e.node(n),d){while((c=s[u])!==l&&e.node(c).maxRank<r.rank)u++;c===l&&(d=!1)}if(!d){while(u<s.length-1&&e.node(c=s[u+1]).minRank<=r.rank)u++;c=s[u]}e.setParent(n,c),n=e.successors(n)[0]}}))}function i(e,t,n,r){var o,i,a=[],s=[],l=Math.min(t[n].low,t[r].low),u=Math.max(t[n].lim,t[r].lim);o=n;do{o=e.parent(o),a.push(o)}while(o&&(t[o].low>l||u>t[o].lim));i=o,o=r;while((o=e.parent(o))!==i)s.push(o);return{path:a.concat(s.reverse()),lca:i}}function a(e){var t={},n=0;function o(i){var a=n;r.forEach(e.children(i),o),t[i]={low:a,lim:n++}}return r.forEach(e.children(),o),t}e.exports=o},function(e,t,n){var r=n(8),o=n(12);function i(e){var t=o.addDummyNode(e,"root",{},"_root"),n=s(e),i=r.max(r.values(n))-1,u=2*i+1;e.graph().nestingRoot=t,r.forEach(e.edges(),(function(t){e.edge(t).minlen*=u}));var c=l(e)+1;r.forEach(e.children(),(function(r){a(e,t,u,c,i,n,r)})),e.graph().nodeRankFactor=u}function a(e,t,n,i,s,l,u){var c=e.children(u);if(c.length){var d=o.addBorderNode(e,"_bt"),f=o.addBorderNode(e,"_bb"),p=e.node(u);e.setParent(d,u),p.borderTop=d,e.setParent(f,u),p.borderBottom=f,r.forEach(c,(function(r){a(e,t,n,i,s,l,r);var o=e.node(r),c=o.borderTop?o.borderTop:r,p=o.borderBottom?o.borderBottom:r,h=o.borderTop?i:2*i,m=c!==p?1:s-l[u]+1;e.setEdge(d,c,{weight:h,minlen:m,nestingEdge:!0}),e.setEdge(p,f,{weight:h,minlen:m,nestingEdge:!0})})),e.parent(u)||e.setEdge(t,d,{weight:0,minlen:s+l[u]})}else u!==t&&e.setEdge(t,u,{weight:0,minlen:n})}function s(e){var t={};function n(o,i){var a=e.children(o);a&&a.length&&r.forEach(a,(function(e){n(e,i+1)})),t[o]=i}return r.forEach(e.children(),(function(e){n(e,1)})),t}function l(e){return r.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}function u(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.forEach(e.edges(),(function(t){var n=e.edge(t);n.nestingEdge&&e.removeEdge(t)}))}e.exports={run:i,cleanup:u}},function(e,t,n){var r=n(8),o=n(12);function i(e){function t(n){var o=e.children(n),i=e.node(n);if(o.length&&r.forEach(o,t),r.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,l=i.maxRank+1;s<l;++s)a(e,"borderLeft","_bl",n,i,s),a(e,"borderRight","_br",n,i,s)}}r.forEach(e.children(),t)}function a(e,t,n,r,i,a){var s={width:0,height:0,rank:a,borderType:t},l=i[t][a-1],u=o.addDummyNode(e,"border",s,n);i[t][a]=u,e.setParent(u,r),l&&e.setEdge(l,u,{weight:1})}e.exports=i},function(e,t,n){"use strict";var r=n(8);function o(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||a(e)}function i(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||l(e),"lr"!==t&&"rl"!==t||(c(e),a(e))}function a(e){r.forEach(e.nodes(),(function(t){s(e.node(t))})),r.forEach(e.edges(),(function(t){s(e.edge(t))}))}function s(e){var t=e.width;e.width=e.height,e.height=t}function l(e){r.forEach(e.nodes(),(function(t){u(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.forEach(n.points,u),r.has(n,"y")&&u(n)}))}function u(e){e.y=-e.y}function c(e){r.forEach(e.nodes(),(function(t){d(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.forEach(n.points,d),r.has(n,"x")&&d(n)}))}function d(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:o,undo:i}},function(e,t,n){"use strict";var r=n(8),o=n(460),i=n(461),a=n(462),s=n(466),l=n(467),u=n(16).Graph,c=n(12);function d(e){var t=c.maxRank(e),n=f(e,r.range(1,t+1),"inEdges"),a=f(e,r.range(t-1,-1,-1),"outEdges"),s=o(e);h(e,s);for(var l,u=Number.POSITIVE_INFINITY,d=0,m=0;m<4;++d,++m){p(d%2?n:a,d%4>=2),s=c.buildLayerMatrix(e);var g=i(e,s);g<u&&(m=0,l=r.cloneDeep(s),u=g)}h(e,l)}function f(e,t,n){return r.map(t,(function(t){return s(e,t,n)}))}function p(e,t){var n=new u;r.forEach(e,(function(e){var o=e.graph().root,i=a(e,o,n,t);r.forEach(i.vs,(function(t,n){e.node(t).order=n})),l(e,n,i.vs)}))}function h(e,t){r.forEach(t,(function(t){r.forEach(t,(function(t,n){e.node(t).order=n}))}))}e.exports=d},function(e,t,n){"use strict";var r=n(8);function o(e){var t={},n=r.filter(e.nodes(),(function(t){return!e.children(t).length})),o=r.max(r.map(n,(function(t){return e.node(t).rank}))),i=r.map(r.range(o+1),(function(){return[]}));function a(n){if(!r.has(t,n)){t[n]=!0;var o=e.node(n);i[o.rank].push(n),r.forEach(e.successors(n),a)}}var s=r.sortBy(n,(function(t){return e.node(t).rank}));return r.forEach(s,a),i}e.exports=o},function(e,t,n){"use strict";var r=n(8);function o(e,t){for(var n=0,r=1;r<t.length;++r)n+=i(e,t[r-1],t[r]);return n}function i(e,t,n){var o=r.zipObject(n,r.map(n,(function(e,t){return t}))),i=r.flatten(r.map(t,(function(t){return r.chain(e.outEdges(t)).map((function(t){return{pos:o[t.w],weight:e.edge(t).weight}})).sortBy("pos").value()})),!0),a=1;while(a<n.length)a<<=1;var s=2*a-1;a-=1;var l=r.map(new Array(s),(function(){return 0})),u=0;return r.forEach(i.forEach((function(e){var t=e.pos+a;l[t]+=e.weight;var n=0;while(t>0)t%2&&(n+=l[t+1]),t=t-1>>1,l[t]+=e.weight;u+=e.weight*n}))),u}e.exports=o},function(e,t,n){var r=n(8),o=n(463),i=n(464),a=n(465);function s(e,t,n,c){var d=e.children(t),f=e.node(t),p=f?f.borderLeft:void 0,h=f?f.borderRight:void 0,m={};p&&(d=r.filter(d,(function(e){return e!==p&&e!==h})));var g=o(e,d);r.forEach(g,(function(t){if(e.children(t.v).length){var o=s(e,t.v,n,c);m[t.v]=o,r.has(o,"barycenter")&&u(t,o)}}));var v=i(g,n);l(v,m);var y=a(v,c);if(p&&(y.vs=r.flatten([p,y.vs,h],!0),e.predecessors(p).length)){var b=e.node(e.predecessors(p)[0]),x=e.node(e.predecessors(h)[0]);r.has(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+b.order+x.order)/(y.weight+2),y.weight+=2}return y}function l(e,t){r.forEach(e,(function(e){e.vs=r.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}function u(e,t){r.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}e.exports=s},function(e,t,n){var r=n(8);function o(e,t){return r.map(t,(function(t){var n=e.inEdges(t);if(n.length){var o=r.reduce(n,(function(t,n){var r=e.edge(n),o=e.node(n.v);return{sum:t.sum+r.weight*o.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:o.sum/o.weight,weight:o.weight}}return{v:t}}))}e.exports=o},function(e,t,n){"use strict";var r=n(8);function o(e,t){var n={};r.forEach(e,(function(e,t){var o=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};r.isUndefined(e.barycenter)||(o.barycenter=e.barycenter,o.weight=e.weight)})),r.forEach(t.edges(),(function(e){var t=n[e.v],o=n[e.w];r.isUndefined(t)||r.isUndefined(o)||(o.indegree++,t.out.push(n[e.w]))}));var o=r.filter(n,(function(e){return!e.indegree}));return i(o)}function i(e){var t=[];function n(e){return function(t){t.merged||(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&a(e,t)}}function o(t){return function(n){n["in"].push(t),0===--n.indegree&&e.push(n)}}while(e.length){var i=e.pop();t.push(i),r.forEach(i["in"].reverse(),n(i)),r.forEach(i.out,o(i))}return r.chain(t).filter((function(e){return!e.merged})).map((function(e){return r.pick(e,["vs","i","barycenter","weight"])})).value()}function a(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}e.exports=o},function(e,t,n){var r=n(8),o=n(12);function i(e,t){var n=o.partition(e,(function(e){return r.has(e,"barycenter")})),i=n.lhs,l=r.sortBy(n.rhs,(function(e){return-e.i})),u=[],c=0,d=0,f=0;i.sort(s(!!t)),f=a(u,l,f),r.forEach(i,(function(e){f+=e.vs.length,u.push(e.vs),c+=e.barycenter*e.weight,d+=e.weight,f=a(u,l,f)}));var p={vs:r.flatten(u,!0)};return d&&(p.barycenter=c/d,p.weight=d),p}function a(e,t,n){var o;while(t.length&&(o=r.last(t)).i<=n)t.pop(),e.push(o.vs),n++;return n}function s(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}e.exports=i},function(e,t,n){var r=n(8),o=n(16).Graph;function i(e,t,n){var i=a(e),s=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(t){return e.node(t)}));return r.forEach(e.nodes(),(function(o){var a=e.node(o),l=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(s.setNode(o),s.setParent(o,l||i),r.forEach(e[n](o),(function(t){var n=t.v===o?t.w:t.v,i=s.edge(n,o),a=r.isUndefined(i)?0:i.weight;s.setEdge(n,o,{weight:e.edge(t).weight+a})})),r.has(a,"minRank")&&s.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))})),s}function a(e){var t;while(e.hasNode(t=r.uniqueId("_root")));return t}e.exports=i},function(e,t,n){var r=n(8);function o(e,t,n){var o,i={};r.forEach(n,(function(n){var r,a,s=e.parent(n);while(s){if(r=e.parent(s),r?(a=i[r],i[r]=s):(a=o,o=s),a&&a!==s)return void t.setEdge(a,s);s=r}}))}e.exports=o},function(e,t,n){"use strict";var r=n(8),o=n(12),i=n(469).positionX;function a(e){e=o.asNonCompoundGraph(e),s(e),r.forEach(i(e),(function(t,n){e.node(n).x=t}))}function s(e){var t=o.buildLayerMatrix(e),n=e.graph().ranksep,i=0;r.forEach(t,(function(t){var o=r.max(r.map(t,(function(t){return e.node(t).height})));r.forEach(t,(function(t){e.node(t).y=i+o/2})),i+=o+n}))}e.exports=a},function(e,t,n){"use strict";var r=n(8),o=n(16).Graph,i=n(12);function a(e,t){var n={};function o(t,o){var i=0,a=0,s=t.length,c=r.last(o);return r.forEach(o,(function(t,d){var f=l(e,t),p=f?e.node(f).order:s;(f||t===c)&&(r.forEach(o.slice(a,d+1),(function(t){r.forEach(e.predecessors(t),(function(r){var o=e.node(r),a=o.order;!(a<i||p<a)||o.dummy&&e.node(t).dummy||u(n,r,t)}))})),a=d+1,i=p)})),o}return r.reduce(t,o),n}function s(e,t){var n={};function o(t,o,i,a,s){var l;r.forEach(r.range(o,i),(function(o){l=t[o],e.node(l).dummy&&r.forEach(e.predecessors(l),(function(t){var r=e.node(t);r.dummy&&(r.order<a||r.order>s)&&u(n,t,l)}))}))}function i(t,n){var i,a=-1,s=0;return r.forEach(n,(function(r,l){if("border"===e.node(r).dummy){var u=e.predecessors(r);u.length&&(i=e.node(u[0]).order,o(n,s,l,a,i),s=l,a=i)}o(n,s,n.length,i,t.length)})),n}return r.reduce(t,i),n}function l(e,t){if(e.node(t).dummy)return r.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}function u(e,t,n){if(t>n){var r=t;t=n,n=r}var o=e[t];o||(e[t]=o={}),o[n]=!0}function c(e,t,n){if(t>n){var o=t;t=n,n=o}return r.has(e[t],n)}function d(e,t,n,o){var i={},a={},s={};return r.forEach(t,(function(e){r.forEach(e,(function(e,t){i[e]=e,a[e]=e,s[e]=t}))})),r.forEach(t,(function(e){var t=-1;r.forEach(e,(function(e){var l=o(e);if(l.length){l=r.sortBy(l,(function(e){return s[e]}));for(var u=(l.length-1)/2,d=Math.floor(u),f=Math.ceil(u);d<=f;++d){var p=l[d];a[e]===e&&t<s[p]&&!c(n,e,p)&&(a[p]=e,a[e]=i[e]=i[p],t=s[p])}}}))})),{root:i,align:a}}function f(e,t,n,o,i){var a={},s=p(e,t,n,i),l=i?"borderLeft":"borderRight";function u(e,t){var n=s.nodes(),r=n.pop(),o={};while(r)o[r]?e(r):(o[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}function c(e){a[e]=s.inEdges(e).reduce((function(e,t){return Math.max(e,a[t.v]+s.edge(t))}),0)}function d(t){var n=s.outEdges(t).reduce((function(e,t){return Math.min(e,a[t.w]-s.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==l&&(a[t]=Math.max(a[t],n))}return u(c,r.bind(s.predecessors,s)),u(d,r.bind(s.successors,s)),r.forEach(o,(function(e){a[e]=a[n[e]]})),a}function p(e,t,n,i){var a=new o,s=e.graph(),l=y(s.nodesep,s.edgesep,i);return r.forEach(t,(function(t){var o;r.forEach(t,(function(t){var r=n[t];if(a.setNode(r),o){var i=n[o],s=a.edge(i,r);a.setEdge(i,r,Math.max(l(e,t,o),s||0))}o=t}))})),a}function h(e,t){return r.minBy(r.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(t,(function(t,r){var i=b(e,r)/2;n=Math.max(t+i,n),o=Math.min(t-i,o)})),n-o}))}function m(e,t){var n=r.values(t),o=r.min(n),i=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var s,l=n+a,u=e[l];if(u!==t){var c=r.values(u);s="l"===a?o-r.min(c):i-r.max(c),s&&(e[l]=r.mapValues(u,(function(e){return e+s})))}}))}))}function g(e,t){return r.mapValues(e.ul,(function(n,o){if(t)return e[t.toLowerCase()][o];var i=r.sortBy(r.map(e,o));return(i[1]+i[2])/2}))}function v(e){var t,n=i.buildLayerMatrix(e),o=r.merge(a(e,n),s(e,n)),l={};r.forEach(["u","d"],(function(i){t="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(t=r.map(t,(function(e){return r.values(e).reverse()})));var a=r.bind("u"===i?e.predecessors:e.successors,e),s=d(e,t,o,a),u=f(e,t,s.root,s.align,"r"===n);"r"===n&&(u=r.mapValues(u,(function(e){return-e}))),l[i+n]=u}))}));var u=h(e,l);return m(l,u),g(l,e.graph().align)}function y(e,t,n){return function(o,i,a){var s,l=o.node(i),u=o.node(a),c=0;if(c+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=-l.width/2;break;case"r":s=l.width/2;break}if(s&&(c+=n?s:-s),s=0,c+=(l.dummy?t:e)/2,c+=(u.dummy?t:e)/2,c+=u.width/2,r.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":s=u.width/2;break;case"r":s=-u.width/2;break}return s&&(c+=n?s:-s),s=0,c}}function b(e,t){return e.node(t).width}e.exports={positionX:v,findType1Conflicts:a,findType2Conflicts:s,addConflict:u,hasConflict:c,verticalAlignment:d,horizontalCompaction:f,alignCoordinates:m,findSmallestWidthAlignment:h,balance:g}},function(e,t,n){var r=n(8),o=n(12),i=n(16).Graph;function a(e){var t=o.buildLayerMatrix(e),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),r.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),r.forEach(t,(function(e,t){var o="layer"+t;n.setNode(o,{rank:"same"}),r.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}e.exports={debugOrdering:a}},function(e,t){e.exports="0.8.2"},function(e,t,n){var r=n(3),o=n(10),i=n(11),a=n(473),s=a.sankey,l=a.sankeyLeft,u=a.sankeyRight,c=a.sankeyCenter,d=a.sankeyJustify,f=n(2),p=f.registerTransform,h={sankeyLeft:l,sankeyRight:u,sankeyCenter:c,sankeyJustify:d},m={value:function(e){return e.value},source:function(e){return e.source},target:function(e){return e.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02};function g(e,t){t=r({},m,t);var n=null;o(t.nodeAlign)?n=h[t.nodeAlign]:i(t.nodeAlign)&&(n=t.nodeAlign);var a=s().links((function(e){return e.edges})).nodeWidth(t.nodeWidth).nodePadding(t.nodePadding).extent([[0,0],[1,1]]);i(t.nodeId)&&a.nodeId(t.nodeId),n&&a.nodeAlign(n),a(e),e.nodes.forEach((function(e){var t=e.x0,n=e.x1,r=e.y0,o=e.y1;e.x=[t,n,n,t],e.y=[r,r,o,o]})),e.edges.forEach((function(e){var t=e.source,n=e.target,r=t.x1,o=n.x0;e.x=[r,r,o,o];var i=e.width/2;e.y=[e.y0+i,e.y0-i,e.y1+i,e.y1-i]}))}p("diagram.sankey",g),p("sankey",g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(474);n.d(t,"sankey",(function(){return r["a"]}));var o=n(176);n.d(t,"sankeyCenter",(function(){return o["a"]})),n.d(t,"sankeyLeft",(function(){return o["c"]})),n.d(t,"sankeyRight",(function(){return o["d"]})),n.d(t,"sankeyJustify",(function(){return o["b"]}));var i=n(482);n.d(t,"sankeyLinkHorizontal",(function(){return i["a"]}))},function(e,t,n){"use strict";var r=n(14),o=n(475),i=n(176),a=n(481);function s(e,t){return u(e.source,t.source)||e.index-t.index}function l(e,t){return u(e.target,t.target)||e.index-t.index}function u(e,t){return e.y0-t.y0}function c(e){return e.value}function d(e){return(e.y0+e.y1)/2}function f(e){return d(e.source)*e.value}function p(e){return d(e.target)*e.value}function h(e){return e.index}function m(e){return e.nodes}function g(e){return e.links}function v(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}t["a"]=function(){var e=0,t=0,n=1,y=1,b=24,x=8,w=h,_=i["b"],C=m,S=g,k=32;function O(){var e={nodes:C.apply(null,arguments),links:S.apply(null,arguments)};return T(e),M(e),D(e),I(e,k),E(e),e}function T(e){e.nodes.forEach((function(e,t){e.index=t,e.sourceLinks=[],e.targetLinks=[]}));var t=Object(o["a"])(e.nodes,w);e.links.forEach((function(e,n){e.index=n;var r=e.source,o=e.target;"object"!==typeof r&&(r=e.source=v(t,r)),"object"!==typeof o&&(o=e.target=v(t,o)),r.sourceLinks.push(e),o.targetLinks.push(e)}))}function M(e){e.nodes.forEach((function(e){e.value=Math.max(Object(r["sum"])(e.sourceLinks,c),Object(r["sum"])(e.targetLinks,c))}))}function D(t){var r,o,i;for(r=t.nodes,o=[],i=0;r.length;++i,r=o,o=[])r.forEach((function(e){e.depth=i,e.sourceLinks.forEach((function(e){o.indexOf(e.target)<0&&o.push(e.target)}))}));for(r=t.nodes,o=[],i=0;r.length;++i,r=o,o=[])r.forEach((function(e){e.height=i,e.targetLinks.forEach((function(e){o.indexOf(e.source)<0&&o.push(e.source)}))}));var a=(n-e-b)/(i-1);t.nodes.forEach((function(t){t.x1=(t.x0=e+Math.max(0,Math.min(i-1,Math.floor(_.call(null,t,i))))*a)+b}))}function I(e){var n=Object(o["b"])().key((function(e){return e.x0})).sortKeys(r["ascending"]).entries(e.nodes).map((function(e){return e.values}));s(),m();for(var i=1,a=k;a>0;--a)h(i*=.99),m(),l(i),m();function s(){var o=Object(r["min"])(n,(function(e){return(y-t-(e.length-1)*x)/Object(r["sum"])(e,c)}));n.forEach((function(e){e.forEach((function(e,t){e.y1=(e.y0=t)+e.value*o}))})),e.links.forEach((function(e){e.width=e.value*o}))}function l(e){n.forEach((function(t){t.forEach((function(t){if(t.targetLinks.length){var n=(Object(r["sum"])(t.targetLinks,f)/Object(r["sum"])(t.targetLinks,c)-d(t))*e;t.y0+=n,t.y1+=n}}))}))}function h(e){n.slice().reverse().forEach((function(t){t.forEach((function(t){if(t.sourceLinks.length){var n=(Object(r["sum"])(t.sourceLinks,p)/Object(r["sum"])(t.sourceLinks,c)-d(t))*e;t.y0+=n,t.y1+=n}}))}))}function m(){n.forEach((function(e){var n,r,o,i=t,a=e.length;for(e.sort(u),o=0;o<a;++o)n=e[o],r=i-n.y0,r>0&&(n.y0+=r,n.y1+=r),i=n.y1+x;if(r=i-x-y,r>0)for(i=n.y0-=r,n.y1-=r,o=a-2;o>=0;--o)n=e[o],r=n.y1+x-i,r>0&&(n.y0-=r,n.y1-=r),i=n.y0}))}}function E(e){e.nodes.forEach((function(e){e.sourceLinks.sort(l),e.targetLinks.sort(s)})),e.nodes.forEach((function(e){var t=e.y0,n=t;e.sourceLinks.forEach((function(e){e.y0=t+e.width/2,t+=e.width})),e.targetLinks.forEach((function(e){e.y1=n+e.width/2,n+=e.width}))}))}return O.update=function(e){return E(e),e},O.nodeId=function(e){return arguments.length?(w="function"===typeof e?e:Object(a["a"])(e),O):w},O.nodeAlign=function(e){return arguments.length?(_="function"===typeof e?e:Object(a["a"])(e),O):_},O.nodeWidth=function(e){return arguments.length?(b=+e,O):b},O.nodePadding=function(e){return arguments.length?(x=+e,O):x},O.nodes=function(e){return arguments.length?(C="function"===typeof e?e:Object(a["a"])(e),O):C},O.links=function(e){return arguments.length?(S="function"===typeof e?e:Object(a["a"])(e),O):S},O.size=function(r){return arguments.length?(e=t=0,n=+r[0],y=+r[1],O):[n-e,y-t]},O.extent=function(r){return arguments.length?(e=+r[0][0],n=+r[1][0],t=+r[0][1],y=+r[1][1],O):[[e,t],[n,y]]},O.iterations=function(e){return arguments.length?(k=+e,O):k},O}},function(e,t,n){"use strict";var r=n(476);n.d(t,"b",(function(){return r["a"]}));n(477);var o=n(94);n.d(t,"a",(function(){return o["a"]}));n(478),n(479),n(480)},function(e,t,n){"use strict";var r=n(94);function o(){return{}}function i(e,t,n){e[t]=n}function a(){return Object(r["a"])()}function s(e,t,n){e.set(t,n)}t["a"]=function(){var e,t,n,l=[],u=[];function c(n,o,i,a){if(o>=l.length)return null!=e&&n.sort(e),null!=t?t(n):n;var s,u,d,f=-1,p=n.length,h=l[o++],m=Object(r["a"])(),g=i();while(++f<p)(d=m.get(s=h(u=n[f])+""))?d.push(u):m.set(s,[u]);return m.each((function(e,t){a(g,t,c(e,o,i,a))})),g}function d(e,n){if(++n>l.length)return e;var r,o=u[n-1];return null!=t&&n>=l.length?r=e.entries():(r=[],e.each((function(e,t){r.push({key:t,values:d(e,n)})}))),null!=o?r.sort((function(e,t){return o(e.key,t.key)})):r}return n={object:function(e){return c(e,0,o,i)},map:function(e){return c(e,0,a,s)},entries:function(e){return d(c(e,0,a,s),0)},key:function(e){return l.push(e),n},sortKeys:function(e){return u[l.length-1]=e,n},sortValues:function(t){return e=t,n},rollup:function(e){return t=e,n}}}},function(e,t,n){"use strict";var r=n(94);function o(){}var i=r["a"].prototype;function a(e,t){var n=new o;if(e instanceof o)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)while(++r<i)n.add(e[r]);else while(++r<i)n.add(t(e[r],r,e))}return n}o.prototype=a.prototype={constructor:o,has:i.has,add:function(e){return e+="",this[r["b"]+e]=e,this},remove:i.remove,clear:i.clear,values:i.keys,size:i.size,empty:i.empty,each:i.each}},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(e){return function(){return e}}t["a"]=r},function(e,t,n){"use strict";var r=n(483);function o(e){return[e.source.x1,e.y0]}function i(e){return[e.target.x0,e.y1]}t["a"]=function(){return Object(r["a"])().source(o).target(i)}},function(e,t,n){"use strict";n(484),n(177),n(95),n(485),n(488),n(179),n(180);var r=n(489);n.d(t,"a",(function(){return r["a"]}));n(490),n(182),n(183),n(184),n(186),n(185),n(187),n(188),n(491),n(492),n(62),n(493),n(189),n(190),n(63),n(494),n(495),n(97),n(496),n(60),n(497),n(498),n(499),n(500),n(501),n(502),n(47),n(503),n(504),n(98),n(505),n(506),n(48),n(507)},function(e,t,n){"use strict";n(33),n(27),n(46)},function(e,t,n){"use strict";n(27),n(486),n(487),n(46)},function(e,t,n){"use strict";t["a"]=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}},function(e,t,n){"use strict";t["a"]=function(e){return e}},function(e,t,n){"use strict";n(178),n(177),n(179)},function(e,t,n){"use strict";t["a"]=d;var r=n(33),o=n(181),i=n(27),a=n(96);n(180);function s(e){return e.source}function l(e){return e.target}function u(e){var t=s,n=l,u=a["a"],c=a["b"],d=null;function f(){var i,a=o["a"].call(arguments),s=t.apply(this,a),l=n.apply(this,a);if(d||(d=i=Object(r["path"])()),e(d,+u.apply(this,(a[0]=s,a)),+c.apply(this,a),+u.apply(this,(a[0]=l,a)),+c.apply(this,a)),i)return d=null,i+""||null}return f.source=function(e){return arguments.length?(t=e,f):t},f.target=function(e){return arguments.length?(n=e,f):n},f.x=function(e){return arguments.length?(u="function"===typeof e?e:Object(i["a"])(+e),f):u},f.y=function(e){return arguments.length?(c="function"===typeof e?e:Object(i["a"])(+e),f):c},f.context=function(e){return arguments.length?(d=null==e?null:e,f):d},f}function c(e,t,n,r,o){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,o,r,o)}function d(){return u(c)}},function(e,t,n){"use strict";n(33);var r=n(182),o=n(183),i=n(184),a=n(185),s=n(186),l=n(187),u=n(188);n(27),r["a"],o["a"],i["a"],s["a"],a["a"],l["a"],u["a"]},function(e,t,n){"use strict";var r=n(61),o=n(62);function i(e){this._context=e}i.prototype={areaStart:r["a"],areaEnd:r["a"],lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Object(o["b"])(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},function(e,t,n){"use strict";var r=n(62);function o(e){this._context=e}o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,o=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,o):this._context.moveTo(n,o);break;case 3:this._point=4;default:Object(r["b"])(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},function(e,t,n){"use strict";var r=n(62);function o(e,t){this._basis=new r["a"](e),this._beta=t}o.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0){var r,o=e[0],i=t[0],a=e[n]-o,s=t[n]-i,l=-1;while(++l<=n)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(o+r*a),this._beta*t[l]+(1-this._beta)*(i+r*s))}this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};(function e(t){function n(e){return 1===t?new r["a"](e):new o(e,t)}return n.beta=function(t){return e(+t)},n})(.85)},function(e,t,n){"use strict";var r=n(189),o=n(61),i=n(97);function a(e,t){this._context=e,this._alpha=t}a.prototype={areaStart:o["a"],areaEnd:o["a"],lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Object(i["a"])(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return t?new a(e,t):new r["a"](e,0)}return n.alpha=function(t){return e(+t)},n})(.5)},function(e,t,n){"use strict";var r=n(190),o=n(97);function i(e,t){this._context=e,this._alpha=t}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(o["a"])(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return t?new i(e,t):new r["a"](e,0)}return n.alpha=function(t){return e(+t)},n})(.5)},function(e,t,n){"use strict";var r=n(61);function o(e){this._context=e}o.prototype={areaStart:r["a"],areaEnd:r["a"],lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}},function(e,t,n){"use strict";function r(e){return e<0?-1:1}function o(e,t,n){var o=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(o||i<0&&-0),s=(n-e._y1)/(i||o<0&&-0),l=(a*i+s*o)/(o+i);return(r(a)+r(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function i(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function a(e,t,n){var r=e._x0,o=e._y0,i=e._x1,a=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,o+s*t,i-s,a-s*n,i,a)}function s(e){this._context=e}function l(e){this._context=new u(e)}function u(e){this._context=e}s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a(this,this._t0,i(this,this._t0));break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,a(this,i(this,n=o(this,e,t)),n);break;default:a(this,this._t0,n=o(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(l.prototype=Object.create(s.prototype)).point=function(e,t){s.prototype.point.call(this,t,e)},u.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,i){this._context.bezierCurveTo(t,e,r,n,i,o)}}},function(e,t,n){"use strict";function r(e){this._context=e}function o(e){var t,n,r=e.length-1,o=new Array(r),i=new Array(r),a=new Array(r);for(o[0]=0,i[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,i[t]=4,a[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,i[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/i[t-1],i[t]-=n,a[t]-=n*a[t-1];for(o[r-1]=a[r-1]/i[r-1],t=r-2;t>=0;--t)o[t]=(a[t]-o[t+1])/i[t];for(i[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-o[t+1];return[o,i]}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=o(e),i=o(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}},function(e,t,n){"use strict";function r(e,t){this._context=e,this._t=t}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}this._x=e,this._y=t}}},function(e,t,n){"use strict";n(181),n(27),n(47),n(48)},function(e,t,n){"use strict";n(47)},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(47)},function(e,t,n){"use strict";n(47)},function(e,t,n){"use strict";n(98)},function(e,t,n){"use strict";n(48),n(98)},function(e,t,n){"use strict";n(48)},function(e,t,n){var r=n(3),o=n(509),i=n(6),a=n(2),s=a.registerTransform,l=n(7),u=l.getFields,c={as:["_x","_y"]};function d(e,t){t=r({},c,t);var n=t.as;if(!i(n)||2!==n.length)throw new TypeError("Invalid as: must be an array with two strings!");var a=n[0],s=n[1],l=u(t);if(!i(l)&&2!==l.length)throw new TypeError("Invalid fields: must be an array with two strings!");var d=l[0],f=l[1],p=e.rows,h=p.map((function(e){return[e[d],e[f]]})),m=o.voronoi();t.extend&&m.extent(t.extend),t.size&&m.size(t.size);var g=m(h).polygons();p.forEach((function(e,t){var n=g[t].filter((function(e){return!!e}));e[a]=n.map((function(e){return e[0]})),e[s]=n.map((function(e){return e[1]}))}))}s("diagram.voronoi",d),s("voronoi",d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(510);n.d(t,"voronoi",(function(){return r["a"]}))},function(e,t,n){"use strict";var r=n(511),o=n(512),i=n(49);t["a"]=function(){var e=o["a"],t=o["b"],n=null;function a(r){return new i["d"](r.map((function(n,o){var a=[Math.round(e(n,o,r)/i["f"])*i["f"],Math.round(t(n,o,r)/i["f"])*i["f"]];return a.index=o,a.data=n,a})),n)}return a.polygons=function(e){return a(e).polygons()},a.links=function(e){return a(e).links()},a.triangles=function(e){return a(e).triangles()},a.x=function(t){return arguments.length?(e="function"===typeof t?t:Object(r["a"])(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:Object(r["a"])(+e),a):t},a.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],a):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},a.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],a):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},a}},function(e,t,n){"use strict";t["a"]=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(e){return e[0]}function o(e){return e[1]}t["a"]=r,t["b"]=o},function(e,t,n){"use strict";t["b"]=f,t["a"]=p;var r=n(99),o=n(191),i=n(192),a=n(100),s=n(49),l=[];function u(){Object(r["a"])(this),this.edge=this.site=this.circle=null}function c(e){var t=l.pop()||new u;return t.site=e,t}function d(e){Object(i["b"])(e),s["a"].remove(e),l.push(e),Object(r["a"])(e)}function f(e){var t=e.circle,n=t.x,r=t.cy,o=[n,r],l=e.P,u=e.N,c=[e];d(e);var f=l;while(f.circle&&Math.abs(n-f.circle.x)<s["f"]&&Math.abs(r-f.circle.cy)<s["f"])l=f.P,c.unshift(f),d(f),f=l;c.unshift(f),Object(i["b"])(f);var p=u;while(p.circle&&Math.abs(n-p.circle.x)<s["f"]&&Math.abs(r-p.circle.cy)<s["f"])u=p.N,c.push(p),d(p),p=u;c.push(p),Object(i["b"])(p);var h,m=c.length;for(h=1;h<m;++h)p=c[h],f=c[h-1],Object(a["d"])(p.edge,f.site,p.site,o);f=c[0],p=c[m-1],p.edge=Object(a["c"])(f.site,p.site,null,o),Object(i["a"])(f),Object(i["a"])(p)}function p(e){var t,n,r,l,u=e[0],d=e[1],f=s["a"]._;while(f)if(r=h(f,d)-u,r>s["f"])f=f.L;else{if(l=u-m(f,d),!(l>s["f"])){r>-s["f"]?(t=f.P,n=f):l>-s["f"]?(t=f,n=f.N):t=n=f;break}if(!f.R){t=f;break}f=f.R}Object(o["c"])(e);var p=c(e);if(s["a"].insert(t,p),t||n){if(t===n)return Object(i["b"])(t),n=c(t.site),s["a"].insert(p,n),p.edge=n.edge=Object(a["c"])(t.site,p.site),Object(i["a"])(t),void Object(i["a"])(n);if(n){Object(i["b"])(t),Object(i["b"])(n);var g=t.site,v=g[0],y=g[1],b=e[0]-v,x=e[1]-y,w=n.site,_=w[0]-v,C=w[1]-y,S=2*(b*C-x*_),k=b*b+x*x,O=_*_+C*C,T=[(C*k-x*O)/S+v,(b*O-_*k)/S+y];Object(a["d"])(n.edge,g,w,T),p.edge=Object(a["c"])(g,e,null,T),n.edge=Object(a["c"])(e,w,null,T),Object(i["a"])(t),Object(i["a"])(n)}else p.edge=Object(a["c"])(t.site,p.site)}}function h(e,t){var n=e.site,r=n[0],o=n[1],i=o-t;if(!i)return r;var a=e.P;if(!a)return-1/0;n=a.site;var s=n[0],l=n[1],u=l-t;if(!u)return s;var c=s-r,d=1/i-1/u,f=c/u;return d?(-f+Math.sqrt(f*f-2*d*(c*c/(-2*u)-l+u/2+o-i/2)))/d+r:(r+s)/2}function m(e,t){var n=e.N;if(n)return h(n,t);var r=e.site;return r[1]===t?r[0]:1/0}},function(e,t,n){var r=n(3),o=n(34),i=n(6),a=n(2),s=a.HIERARCHY,l=a.registerTransform,u=n(7),c=u.getField,d={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function f(e,t){if(e.dataType!==s)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n=e.root;t=r({},d,t);var a,l=t.as;if(!i(l)||2!==l.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{a=c(t)}catch(h){}a&&n.sum((function(e){return e[a]}));var u=o.cluster();u.size(t.size),t.nodeSize&&u.nodeSize(t.nodeSize),t.separation&&u.separation(t.separation),u(n);var f=l[0],p=l[1];n.each((function(e){e[f]=e.x,e[p]=e.y}))}l("hierarchy.cluster",f),l("dendrogram",f)},function(e,t,n){var r=n(101),o=n(2),i=o.HIERARCHY,a=o.registerTransform,s={};function l(e,t){var n=e.root;if(t=Object.assign({},s,t),e.dataType!==i)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");e.root=r.compactBox(n,t)}a("hierarchy.compact-box",l),a("compact-box-tree",l),a("non-layered-tidy-tree",l),a("mindmap-logical",l)},function(e,t,n){function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(64),i=n(517),a=n(102),s=n(28),l=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.execute=function(){var e=this;return a(e.rootNode,e.options,i)},t}(o),u={};function c(e,t){return t=s.assign({},u,t),new l(e,t).execute()}e.exports=c},function(e,t){function n(e,t,n,r){void 0===r&&(r=[]);var o=this;o.w=e||0,o.h=t||0,o.y=n||0,o.x=0,o.c=r||[],o.cs=r.length,o.prelim=0,o.mod=0,o.shift=0,o.change=0,o.tl=null,o.tr=null,o.el=null,o.er=null,o.msel=0,o.mser=0}function r(e,t,n){n?e.y+=t:e.x+=t,e.children.forEach((function(e){r(e,t,n)}))}function o(e,t){var n=t?e.y:e.x;return e.children.forEach((function(e){n=Math.min(o(e,t),n)})),n}function i(e,t){var n=o(e,t);r(e,-n,t)}function a(e,t,n){n?t.y=e.x:t.x=e.x,e.c.forEach((function(e,r){a(e,t.children[r],n)}))}function s(e,t,n){void 0===n&&(n=0),t?(e.x=n,n+=e.width):(e.y=n,n+=e.height),e.children.forEach((function(e){s(e,t,n)}))}n.fromNode=function(e,t){if(!e)return null;var r=[];return e.children.forEach((function(e){r.push(n.fromNode(e,t))})),t?new n(e.height,e.width,e.x,r):new n(e.width,e.height,e.y,r)},e.exports=function(e,t){void 0===t&&(t={});var r=t.isHorizontal;function o(e){if(0!==e.cs){o(e.c[0]);for(var t=x(p(e.c[0].el),0,null),n=1;n<e.cs;++n){o(e.c[n]);var r=p(e.c[n].er);u(e,n,t),t=x(r,n,t)}g(e),l(e)}else l(e)}function l(e){0===e.cs?(e.el=e,e.er=e,e.msel=e.mser=0):(e.el=e.c[0].el,e.msel=e.c[0].msel,e.er=e.c[e.cs-1].er,e.mser=e.c[e.cs-1].mser)}function u(e,t,n){var r=e.c[t-1],o=r.mod,i=e.c[t],a=i.mod;while(null!==r&&null!==i){p(r)>n.low&&(n=n.nxt);var s=o+r.prelim+r.w-(a+i.prelim);s>0&&(a+=s,c(e,t,n.index,s));var l=p(r),u=p(i);l<=u&&(r=f(r),null!==r&&(o+=r.mod)),l>=u&&(i=d(i),null!==i&&(a+=i.mod))}!r&&i?h(e,t,i,a):r&&!i&&m(e,t,r,o)}function c(e,t,n,r){e.c[t].mod+=r,e.c[t].msel+=r,e.c[t].mser+=r,y(e,t,n,r)}function d(e){return 0===e.cs?e.tl:e.c[0]}function f(e){return 0===e.cs?e.tr:e.c[e.cs-1]}function p(e){return e.y+e.h}function h(e,t,n,r){var o=e.c[0].el;o.tl=n;var i=r-n.mod-e.c[0].msel;o.mod+=i,o.prelim-=i,e.c[0].el=e.c[t].el,e.c[0].msel=e.c[t].msel}function m(e,t,n,r){var o=e.c[t].er;o.tr=n;var i=r-n.mod-e.c[t].mser;o.mod+=i,o.prelim-=i,e.c[t].er=e.c[t-1].er,e.c[t].mser=e.c[t-1].mser}function g(e){e.prelim=(e.c[0].prelim+e.c[0].mod+e.c[e.cs-1].mod+e.c[e.cs-1].prelim+e.c[e.cs-1].w)/2-e.w/2}function v(e,t){t+=e.mod,e.x=e.prelim+t,b(e);for(var n=0;n<e.cs;n++)v(e.c[n],t)}function y(e,t,n,r){if(n!==t-1){var o=t-n;e.c[n+1].shift+=r/o,e.c[t].shift-=r/o,e.c[t].change-=r-r/o}}function b(e){for(var t=0,n=0,r=0;r<e.cs;r++)t+=e.c[r].shift,n+=t+e.c[r].change,e.c[r].mod+=n}function x(e,t,n){while(null!==n&&e>=n.low)n=n.nxt;return{low:e,index:t,nxt:n}}s(e,r);var w=n.fromNode(e,r);return o(w),v(w,0),a(w,e,r),i(e,r),e}},function(e,t,n){function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(64),i=n(519),a=n(102),s=n(28),l=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.execute=function(){var e=this;return e.rootNode.width=0,a(e.rootNode,e.options,i)},t}(o),u={};function c(e,t){return t=s.assign({},u,t),new l(e,t).execute()}e.exports=c},function(e,t,n){var r=n(28);function o(e,t){void 0===e&&(e=0),void 0===t&&(t=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=t}var i={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function a(e,t,n){n?(t.x=e.x,t.y=e.y):(t.x=e.y,t.y=e.x),e.children.forEach((function(e,r){a(e,t.children[r],n)}))}e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},i,t);var n,s=0;function l(e){if(!e)return null;e.width=0,e.depth&&e.depth>s&&(s=e.depth);var t=e.children,n=t.length,r=new o(e.height,[]);return t.forEach((function(e,t){var o=l(e);r.children.push(o),0===t&&(r.leftChild=o),t===n-1&&(r.rightChild=o)})),r.originNode=e,r.isLeaf=e.isLeaf(),r}function u(e){if(e.isLeaf||0===e.children.length)e.drawingDepth=s;else{var t=e.children.map((function(e){return u(e)})),n=Math.min.apply(null,t);e.drawingDepth=n-1}return e.drawingDepth}function c(e){e.x=e.drawingDepth*t.rankSep,e.isLeaf?(e.y=0,n&&(e.y=n.y+n.height+t.nodeSep,e.originNode.parent!==n.originNode.parent&&(e.y+=t.subTreeSep)),n=e):(e.children.forEach((function(e){c(e)})),e.y=(e.leftChild.y+e.rightChild.y)/2)}var d=l(e);return u(d),c(d),a(d,e,t.isHorizontal),e}},function(e,t,n){function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(64),i=n(521),a=n(194),s=n(28),l=["LR","RL","H"],u=l[0],c=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.execute=function(){var e=this,t=e.options,n=e.rootNode;t.isHorizontal=!0;var r=t.indent,o=t.direction||u;if(o&&-1===l.indexOf(o))throw new TypeError("Invalid direction: "+o);if(o===l[0])i(n,r);else if(o===l[1])i(n,r),n.right2left();else if(o===l[2]){var s=a(n,t),c=s.left,d=s.right;i(c,r),c.right2left(),i(d,r);var f=c.getBoundingBox();d.translate(f.width,0),n.x=d.x-n.width/2}return n},t}(o),d={};function f(e,t){return t=s.assign({},d,t),new c(e,t).execute()}e.exports=f},function(e,t){var n=20;function r(e,t,n){e.x+=n*e.depth,e.y=t?t.y+t.height:0}e.exports=function(e,t){void 0===t&&(t=n);var o=null;e.eachNode((function(e){r(e,o,t),o=e}))}},function(e,t,n){function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(64),i=n(523),a=n(102),s=n(28),l=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.execute=function(){var e=this;return a(e.rootNode,e.options,i)},t}(o),u={};function c(e,t){return t=s.assign({},u,t),new l(e,t).execute()}e.exports=c},function(e,t,n){var r=n(28);function o(e,t){var n=0;return e.children.length?e.children.forEach((function(e){n+=o(e,t)})):n=e.height,e._subTreeSep=t.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,n)+2*e._subTreeSep,e.totalHeight}function i(e){var t=e.children,n=t.length;if(n){t.forEach((function(e){i(e)}));var r=t[0],o=t[n-1],a=o.y-r.y+o.height,s=0;if(t.forEach((function(e){s+=e.totalHeight})),a>e.height)e.y=r.y+a/2-e.height/2;else if(1!==t.length||e.height>s){var l=e.y+(e.height-a)/2-r.y;t.forEach((function(e){e.translate(0,l)}))}else e.y=(r.y+r.height/2+o.y+o.height/2)/2-e.height/2}}var a={getSubTreeSep:function(){return 0}};e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},a,t),e.parent={x:0,width:0,height:0,y:0},e.BFTraverse((function(e){e.x=e.parent.x+e.parent.width})),e.parent=null,o(e,t),e.startY=0,e.y=e.totalHeight/2-e.height/2,e.eachNode((function(e){var t=e.children,n=t.length;if(n){var r=t[0];if(r.startY=e.startY+e._subTreeSep,1===n)r.y=e.y+e.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var o=1;o<n;o++){var i=t[o];i.startY=t[o-1].startY+t[o-1].totalHeight,i.y=i.startY+i.totalHeight/2-i.height/2}}}})),i(e)}},function(e,t,n){var r=n(101),o=n(2),i=o.HIERARCHY,a=o.registerTransform,s={};function l(e,t){var n=e.root;if(t=Object.assign({},s,t),e.dataType!==i)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");e.root=r.dendrogram(n,t)}a("hierarchy.dendrogram",l),a("dendrogram",l)},function(e,t,n){var r=n(101),o=n(2),i=o.HIERARCHY,a=o.registerTransform,s={};function l(e,t){var n=e.root;if(t=Object.assign({},s,t),e.dataType!==i)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");e.root=r.indented(n,t)}a("hierarchy.indented",l),a("indented-tree",l)},function(e,t,n){var r=n(3),o=n(34),i=n(6),a=n(2),s=a.HIERARCHY,l=a.registerTransform,u=n(7),c=u.getField,d={field:"value",size:[1,1],padding:0,as:["x","y","r"]};function f(e,t){if(e.dataType!==s)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n=e.root;t=r({},d,t);var a,l=t.as;if(!i(l)||3!==l.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{a=c(t)}catch(m){}a&&n.sum((function(e){return e[a]})).sort((function(e,t){return t[a]-e[a]}));var u=o.pack();u.size(t.size),t.padding&&u.padding(t.padding),u(n);var f=l[0],p=l[1],h=l[2];n.each((function(e){e[f]=e.x,e[p]=e.y,e[h]=e.r}))}l("hierarchy.pack",f),l("hierarchy.circle-packing",f),l("circle-packing",f)},function(e,t,n){var r=n(3),o=n(34),i=n(6),a=n(2),s=a.HIERARCHY,l=a.registerTransform,u=n(7),c=u.getField,d={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function f(e,t){if(e.dataType!==s)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n=e.root;t=r({},d,t);var a,l=t.as;if(!i(l)||2!==l.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{a=c(t)}catch(h){}a&&n.sum((function(e){return e[a]}));var u=o.partition();u.size(t.size).round(t.round).padding(t.padding),u(n);var f=l[0],p=l[1];n.each((function(e){e[f]=[e.x0,e.x1,e.x1,e.x0],e[p]=[e.y1,e.y1,e.y0,e.y0],["x0","x1","y0","y1"].forEach((function(t){-1===l.indexOf(t)&&delete e[t]}))}))}l("hierarchy.partition",f),l("adjacency",f)},function(e,t,n){var r=n(3),o=n(34),i=n(6),a=n(2),s=a.HIERARCHY,l=a.registerTransform,u=n(7),c=u.getField,d={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function f(e,t){if(e.dataType!==s)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n=e.root;t=r({},d,t);var a,l=t.as;if(!i(l)||2!==l.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{a=c(t)}catch(h){}a&&n.sum((function(e){return e[a]}));var u=o.tree();u.size(t.size),t.nodeSize&&u.nodeSize(t.nodeSize),t.separation&&u.separation(t.separation),u(n);var f=l[0],p=l[1];n.each((function(e){e[f]=e.x,e[p]=e.y}))}l("hierarchy.tree",f),l("tree",f)},function(e,t,n){var r=n(3),o=n(34),i=n(6),a=n(2),s=a.HIERARCHY,l=a.registerTransform,u=n(7),c=u.getField,d={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function f(e,t){if(e.dataType!==s)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n=e.root;t=r({},d,t);var a,l=t.as;if(!i(l)||2!==l.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{a=c(t)}catch(h){}a&&n.sum((function(e){return e[a]}));var u=o.treemap();u.tile(o[t.tile]).size(t.size).round(t.round).padding(t.padding).paddingInner(t.paddingInner).paddingOuter(t.paddingOuter).paddingTop(t.paddingTop).paddingRight(t.paddingRight).paddingBottom(t.paddingBottom).paddingLeft(t.paddingLeft),u(n);var f=l[0],p=l[1];n.each((function(e){e[f]=[e.x0,e.x1,e.x1,e.x0],e[p]=[e.y1,e.y1,e.y0,e.y0],["x0","x1","y0","y1"].forEach((function(t){-1===l.indexOf(t)&&delete e[t]}))}))}l("hierarchy.treemap",f),l("treemap",f)},function(e,t,n){var r=n(3),o=n(10),i=n(2),a=i.registerTransform,s=n(531),l=n(7),u=l.getFields,c={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};function d(e,t){t=r({},c,t);var n=s();["font","fontSize","padding","rotate","size","spiral","timeInterval"].forEach((function(e){t[e]&&n[e](t[e])}));var i=u(t),a=i[0],l=i[1];if(!o(a)||!o(l))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var d=e.rows.map((function(e){return e.text=e[a],e.value=e[l],e}));n.words(d),t.imageMask&&n.createMask(t.imageMask);var f=n.start(),p=f._tags,h=f._bounds;p.forEach((function(e){e.x+=t.size[0]/2,e.y+=t.size[1]/2}));var m=t.size,g=m[0],v=m[1],y=f.hasImage;p.push({text:"",value:0,x:y?0:h[0].x,y:y?0:h[0].y,opacity:0}),p.push({text:"",value:0,x:y?g:h[1].x,y:y?v:h[1].y,opacity:0}),e.rows=p,e._tagCloud=f}a("tag-cloud",d),a("word-cloud",d)},function(e,t){var n=Math.PI/180,r=64,o=2048;function i(e){return e.text}function a(){return"serif"}function s(){return"normal"}function l(e){return e.value}function u(){return 90*~~(2*Math.random())}function c(){return 1}function d(e,t,i,a){if(!t.sprite){var s=e.context,l=e.ratio;s.clearRect(0,0,(r<<5)/l,o/l);var u=0,c=0,d=0,f=i.length;--a;while(++a<f){t=i[a],s.save(),s.font=t.style+" "+t.weight+" "+~~((t.size+1)/l)+"px "+t.font;var p=s.measureText(t.text+"m").width*l,h=t.size<<1;if(t.rotate){var m=Math.sin(t.rotate*n),g=Math.cos(t.rotate*n),v=p*g,y=p*m,b=h*g,x=h*m;p=Math.max(Math.abs(v+x),Math.abs(v-x))+31>>5<<5,h=~~Math.max(Math.abs(y+b),Math.abs(y-b))}else p=p+31>>5<<5;if(h>d&&(d=h),u+p>=r<<5&&(u=0,c+=d,d=0),c+h>=o)break;s.translate((u+(p>>1))/l,(c+(h>>1))/l),t.rotate&&s.rotate(t.rotate*n),s.fillText(t.text,0,0),t.padding&&(s.lineWidth=2*t.padding,s.strokeText(t.text,0,0)),s.restore(),t.width=p,t.height=h,t.xoff=u,t.yoff=c,t.x1=p>>1,t.y1=h>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,u+=p}var w=s.getImageData(0,0,(r<<5)/l,o/l).data,_=[];while(--a>=0)if(t=i[a],t.hasText){for(var C=t.width,S=C>>5,k=t.y1-t.y0,O=0;O<k*S;O++)_[O]=0;if(u=t.xoff,null==u)return;c=t.yoff;for(var T=0,M=-1,D=0;D<k;D++){for(var I=0;I<C;I++){var E=S*D+(I>>5),A=w[(c+D)*(r<<5)+(u+I)<<2]?1<<31-I%32:0;_[E]|=A,T|=A}T?M=D:(t.y0++,k--,D--,c++)}t.y1=t.y0+M,t.sprite=_.slice(0,(t.y1-t.y0)*S)}}}function f(e,t,n){n>>=5;for(var r,o=e.sprite,i=e.width>>5,a=e.x-(i<<4),s=127&a,l=32-s,u=e.y1-e.y0,c=(e.y+e.y0)*n+(a>>5),d=0;d<u;d++){r=0;for(var f=0;f<=i;f++)if((r<<l|(f<i?(r=o[d*i+f])>>>s:0))&t[c+f])return!0;c+=n}return!1}function p(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function h(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function m(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function g(e){var t=4,n=t*e[0]/e[1],r=0,o=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:r+=n;break;case 1:o+=t;break;case 2:r-=n;break;default:o-=t;break}return[r,o]}}function v(e){var t=[],n=-1;while(++n<e)t[n]=0;return t}function y(){return document.createElement("canvas")}function b(e){return"function"===typeof e?e:function(){return e}}var x={archimedean:m,rectangular:g};e.exports=function(){var e=[256,256],t=i,n=a,g=l,w=s,_=s,C=u,S=c,k=m,O=[],T=1/0,M=Math.random,D=y,I={};function E(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=(r<<5)/t,e.height=o/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}function A(t,n,r){var o,i,a,s=n.x,l=n.y,u=Math.sqrt(e[0]*e[0]+e[1]*e[1]),c=k(e),d=M()<.5?1:-1,p=-d;while(o=c(p+=d)){if(i=~~o[0],a=~~o[1],Math.min(Math.abs(i),Math.abs(a))>=u)break;if(n.x=s+i,n.y=l+a,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>e[0]||n.y+n.y1>e[1])&&(!r||!f(n,t,e[0]))&&(!r||h(n,r))){for(var m=n.sprite,g=n.width>>5,v=e[0]>>5,y=n.x-(g<<4),b=127&y,x=32-b,w=n.y1-n.y0,_=void 0,C=(n.y+n.y0)*v+(y>>5),S=0;S<w;S++){_=0;for(var O=0;O<=g;O++)t[C+O]|=_<<x|(O<g?(_=m[S*g+O])>>>b:0);C+=v}return delete n.sprite,!0}}return!1}return I.canvas=function(e){return arguments.length?(D=b(e),I):D},I.start=function(){var r=e,o=r[0],i=r[1],a=E(D()),s=I.board?I.board:v((e[0]>>5)*e[1]),l=O.length,u=[],c=O.map((function(e,r){return e.text=t.call(this,e,r),e.font=n.call(this,e,r),e.style=w.call(this,e,r),e.weight=_.call(this,e,r),e.rotate=C.call(this,e,r),e.size=~~g.call(this,e,r),e.padding=S.call(this,e,r),e})).sort((function(e,t){return t.size-e.size})),f=-1,h=I.board?[{x:0,y:0},{x:o,y:i}]:null;function m(){var t=Date.now();while(Date.now()-t<T&&++f<l){var n=c[f];n.x=o*(M()+.5)>>1,n.y=i*(M()+.5)>>1,d(a,n,c,f),n.hasText&&A(s,n,h)&&(u.push(n),h?I.hasImage||p(h,n):h=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=e[0]>>1,n.y-=e[1]>>1)}I._tags=u,I._bounds=h}return m(),I},I.createMask=function(t){var n=document.createElement("canvas"),r=e,o=r[0],i=r[1],a=o>>5,s=v((o>>5)*i);n.width=o,n.height=i;var l=n.getContext("2d");l.drawImage(t,0,0,t.width,t.height,0,0,o,i);for(var u=l.getImageData(0,0,o,i).data,c=0;c<i;c++)for(var d=0;d<o;d++){var f=a*c+(d>>5),p=c*o+d<<2,h=u[p]>=250&&u[p+1]>=250&&u[p+2]>=250,m=h?1<<31-d%32:0;s[f]|=m}I.board=s,I.hasImage=!0},I.timeInterval=function(e){return arguments.length?(T=null==e?1/0:e,I):T},I.words=function(e){return arguments.length?(O=e,I):O},I.size=function(t){return arguments.length?(e=[+t[0],+t[1]],I):e},I.font=function(e){return arguments.length?(n=b(e),I):n},I.fontStyle=function(e){return arguments.length?(w=b(e),I):w},I.fontWeight=function(e){return arguments.length?(_=b(e),I):_},I.rotate=function(e){return arguments.length?(C=b(e),I):C},I.text=function(e){return arguments.length?(t=b(e),I):t},I.spiral=function(e){return arguments.length?(k=x[e]||e,I):k},I.fontSize=function(e){return arguments.length?(g=b(e),I):g},I.padding=function(e){return arguments.length?(S=b(e),I):S},I.random=function(e){return arguments.length?(M=e,I):M},I}},function(e,t,n){var r=n(3),o=n(9),i=n(9),a=n(24),s=n(533),l=n(32),u=n(19),c=u.sum,d=n(15),f=n(2),p=f.registerTransform,h=n(7),m=h.getFields,g={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};function v(e,t){t=r({},g,t);var n=m(t),u=n[0],f=n[1],p=t.as,h=p[0],v=p[1],y=t.groupBy,b=d(e.rows,y),x=a(b),w=t.size,_=w[0],C=w[1],S=t.maxCount,k=x.length,O=C/k,T=t.rows,M=t.gapRatio,D=[],I=t.scale,E=0,A=0;i(b,(function(e){var t=c(s(e,(function(e){return e[f]}))),n=Math.ceil(t*I/T);t*I>S&&(I=S/t,n=Math.ceil(t*I/T)),A=_/n})),i(b,(function(e){var t=[E*O,(E+1)*O],n=t[1]-t[0],r=n*(1-M)/T,i=0,a=0;o(e,(function(e){for(var n=e[f],o=Math.round(n*I),s=0;s<o;s++){a===T&&(a=0,i++);var c=l(e,[u,f].concat(y));c[h]=i*A+A/2,c[v]=a*r+r/2+t[0],c._wStep=A,c._hStep=r,a++,D.push(c)}})),E+=1})),e.rows=D}p("waffle",v)},function(e,t,n){var r=n(9),o=n(91),i=function(e,t){if(!o(e))return e;var n=[];return r(e,(function(e,r){n.push(t(e,r))})),n};e.exports=i},function(e,t,n){var r=n(3),o=n(6),i=n(11),a=n(56),s=n(10),l=n(24),u=n(57),c=n(92),d=n(2),f=d.registerTransform,p=n(7),h=p.getFields,m=n(58),g=m.silverman,v={as:["x","y","z"],method:"gaussian",extent:[],bandwidth:[]},y=l(c);function b(e,t){t=r({},v,t);var n=h(t);if(!o(n)||2!==n.length)throw new TypeError("invalid fields: must be an array of 2 strings!");var l=t.as,d=l[0],f=l[1],p=l[2];if(!s(d)||!s(f)||!s(p))throw new TypeError("invalid as: must be an array of 3 strings!");var m=t.method;if(s(m)){if(-1===y.indexOf(m))throw new TypeError("invalid method: "+m+". Must be one of "+y.join(", "));m=c[m]}if(!i(m))throw new TypeError("invalid method: kernel method must be a function!");var b=n[0],x=n[1],w=t.extent,_=w[0],C=w[1];o(_)&&o(C)||(_=e.range(b),C=e.range(x));var S=t.bandwidth,k=S[0],O=S[1];(!a(k)||k<=0||!a(O)||O<=0)&&(k=g(e.getColumn(b)),O=g(e.getColumn(x)));for(var T=u(_,k),M=u(C,O),D=e.rows.length,I=[],E=0;E<T.length;E++)for(var A=0;A<M.length;A++){for(var L=0,j=T[E],N=M[A],P=0;P<D;P++)L+=m((j-e.rows[P][b])/k)*m((N-e.rows[P][x])/O);var R=1/(D*k*O)*L,B={};B[d]=j,B[f]=N,B[p]=R,I.push(B)}e.rows=I}f("kernel-smooth.density",b),f("kernel.density",b),e.exports={KERNEL_METHODS:y}},function(e,t,n){var r=n(3),o=n(6),i=n(11),a=n(77),s=n(56),l=n(10),u=n(24),c=n(19),d=c.sum,f=n(57),p=n(92),h=n(2),m=h.registerTransform,g=n(7),v=g.getFields,y=n(58),b=y.silverman,x={as:["x","y"],method:"gaussian"},w=u(p);function _(e,t,n,r){var o=(r-n)/t;return e(o)}function C(e){return function(t){return o(t)?t.map((function(t){return e(t)})):e(t)}}function S(e,t){t=r({},x,t);var n=v(t);if(!o(n)||1!==n.length&&2!==n.length)throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var u=t.as,c=u[0],h=u[1];if(!l(c)||!l(h))throw new TypeError("invalid as: must be an array of 2 strings!");var m=t.method;if(l(m)){if(-1===w.indexOf(m))throw new TypeError("invalid method: "+m+". Must be one of "+w.join(", "));m=p[m]}if(!i(m))throw new TypeError("invalid method: kernel method must be a function!");var g=n[0],y=n[1],S=e.getColumn(g),k=t.extent;o(k)||(k=e.range(g));var O=t.bandwidth;(!s(O)||O<=0)&&(O=b(S));var T,M=f(k,O),D=S.length,I=_.bind(null,m,O);if(a(y))T=C((function(e){var t=S.map((function(t){return I(e,t)})),n=d(t),r=D*O;return n&&r?n/r:0}));else{var E=e.getColumn(y);T=C((function(e){var t=S.map((function(t){return I(e,t)})),n=d(t.map((function(e,t){return e*E[t]}))),r=d(t);return n&&r?n/r:0}))}var A=M.map((function(e){var t={};return t[c]=e,t[h]=T(e),t}));e.rows=A}m("kernel-smooth.regression",S),m("kernel.regression",S),e.exports={KERNEL_METHODS:w}}])}))},b89b:function(e,t,n){},b8a2:function(e,t,n){"use strict";n("4a2a")},b8ad:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1200,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-row",{staticClass:"form-row",attrs:{gutter:0}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderCode",{rules:[{required:!0,message:"请输入订单号!"}]}],expression:"['orderCode', {rules: [{ required: true, message: '请输入订单号!' }]}]"}],attrs:{placeholder:"请输入订单号"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ctype",{}],expression:"['ctype',{}]"}],attrs:{placeholder:"请选择订单类型"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单日期"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderDate",{}],expression:"[ 'orderDate',{}]"}],staticStyle:{width:"100%"},attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:0}},[n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单金额"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderMoney",{}],expression:"[ 'orderMoney', {}]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入订单金额"}})],1)],1),n("a-col",{attrs:{lg:8}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单备注"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{}],expression:"['content', {}]"}],attrs:{placeholder:"请输入订单备注"}})],1)],1)],1)],1),n("a-tabs",{on:{change:e.handleChangeTabs},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[n("a-tab-pane",{key:"1",attrs:{tab:"客户信息",forceRender:!0}},[n("j-editable-table",{ref:"editableTable1",attrs:{loading:e.table1.loading,columns:e.table1.columns,dataSource:e.table1.dataSource,maxHeight:300,rowNumber:!0,rowSelection:!0,actionButton:!0}})],1),n("a-tab-pane",{key:"2",attrs:{tab:"机票信息",forceRender:!0}},[n("j-editable-table",{ref:"editableTable2",attrs:{loading:e.table2.loading,columns:e.table2.columns,dataSource:e.table2.dataSource,maxHeight:300,rowNumber:!0,rowSelection:!0,actionButton:!0}})],1)],1)],1)],1)},o=[],i=n("7550"),a=n("e2e0"),s=n("0fea"),l=n("2dab"),u=n("85ee"),c=n.n(u),d=n("caaf"),f=n.n(d);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={name:"JeecgOrderModalForJEditableTable",components:{JDate:l["default"],JEditableTable:i["default"]},data:function(){return{title:"操作",visible:!1,form:this.$form.createForm(this),confirmLoading:!1,model:{},labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}},activeKey:"1",table1:{loading:!1,dataSource:[],columns:[{title:"客户名",key:"name",width:"24%",type:a["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"${title}不能为空"}]},{title:"性别",key:"sex",width:"18%",type:a["a"].select,options:[{title:"男",value:"1"},{title:"女",value:"2"}],defaultValue:"",placeholder:"请选择${title}"},{title:"身份证号",key:"idcard",width:"24%",type:a["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{pattern:"^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|[xX])$",message:"${title}格式不正确"}]},{title:"手机号",key:"telphone",width:"24%",type:a["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{pattern:"^1(3|4|5|7|8)\\d{9}$",message:"${title}格式不正确"}]}]},table2:{loading:!1,dataSource:[],columns:[{title:"航班号",key:"ticketCode",width:"40%",type:a["a"].input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"${title}不能为空"}]},{title:"航班时间",key:"tickectDate",width:"30%",type:a["a"].date,placeholder:"请选择${title}",defaultValue:""}]},url:{add:"/test/jeecgOrderMain/add",edit:"/test/jeecgOrderMain/edit",orderCustomerList:"/test/jeecgOrderMain/queryOrderCustomerListByMainId",orderTicketList:"/test/jeecgOrderMain/queryOrderTicketListByMainId"}}},created:function(){},methods:{getAllTable:function(){return Promise.all([Object(a["c"])(this,"editableTable1"),Object(a["c"])(this,"editableTable2")])},add:function(){this.getAllTable().then((function(e){e[0].add(),e[1].add()})),this.edit({})},edit:function(e){var t=this;if(this.visible=!0,this.activeKey="1",this.form.resetFields(),this.model=Object.assign({},e),this.$nextTick((function(){t.form.setFieldsValue(c()(t.model,"orderCode","ctype","orderMoney","content")),t.form.setFieldsValue({orderDate:t.model.orderDate?f()(t.model.orderDate):null})})),this.model.id){var n={id:this.model.id};this.requestTableData(this.url.orderCustomerList,n,this.table1),this.requestTableData(this.url.orderTicketList,n,this.table2)}},close:function(){this.visible=!1,this.getAllTable().then((function(e){e[0].initialize(),e[1].initialize()})),this.$emit("close")},requestTableData:function(e,t,n){n.loading=!0,Object(s["c"])(e,t).then((function(e){n.dataSource=e.result||[]})).finally((function(){n.loading=!1}))},handleOk:function(){this.validateFields()},handleCancel:function(){this.close()},handleChangeTabs:function(e){Object(a["c"])(this,"editableTable".concat(e)).then((function(e){e.resetScrollTop()}))},validateFields:function(){var e=this;this.getAllTable().then((function(t){return Object(a["d"])(e.form,t)})).then((function(t){var n=e.classifyIntoFormData(t);return e.requestAddOrEdit(n)})).catch((function(t){t.error===a["b"]&&(e.activeKey=null==t.index?e.activeKey:(t.index+1).toString())}))},classifyIntoFormData:function(e){var t=Object.assign(this.model,e.formValue);return t.orderDate=t.orderDate?t.orderDate.format("YYYY-MM-DD HH:mm:ss"):null,h(h({},t),{},{jeecgOrderCustomerList:e.tablesValue[0].values,jeecgOrderTicketList:e.tablesValue[1].values})},requestAddOrEdit:function(e){var t=this,n=this.url.add,r="post";this.model.id&&(n=this.url.edit,r="put"),this.confirmLoading=!0,Object(s["g"])(n,e,r).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok"),t.close()):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1}))}}},v=g,y=n("5d22"),b=Object(y["a"])(v,r,o,!1,null,"69b37a74",null);t["default"]=b.exports},b8c5:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-list",[n("a-list-item")],1)},o=[],i={name:"Project"},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,"35407015",null);t["default"]=l.exports},b8ea:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-list",[n("a-list-item")],1)},o=[],i=n("902c"),a=n("aeeb"),s={name:"Article",components:{AList:i["b"],AListItem:a["a"]}},l=s,u=n("5d22"),c=Object(u["a"])(l,r,o,!1,null,"226554db",null);t["default"]=c.exports},b90e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:e.title,width:e.drawerWidth,visible:e.visible,confirmLoading:e.confirmLoading,wrapStyle:{height:"calc(100% - 108px)",overflow:"auto",paddingBottom:"108px"}},on:{close:e.handleCancel}},[n("div",{style:{width:"100%",border:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff"}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"所属板块",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-select",{staticStyle:{"min-width":"120px"},attrs:{defaultValue:e.model.modules},model:{value:e.model.modules,callback:function(t){e.$set(e.model,"modules",t)},expression:"model.modules"}},e._l(e.moduleList,(function(t){return n("a-select-option",{key:t.code},[e._v(e._s(t.name))])})),1)],1),n("a-form-item",{attrs:{label:"菜单类型",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["menuType",{initialValue:0}],expression:"['menuType',{'initialValue':0}]"}],on:{change:e.onChangeMenuType}},[n("a-radio",{attrs:{value:0}},[e._v("一级菜单")]),n("a-radio",{attrs:{value:1}},[e._v("子菜单")]),n("a-radio",{attrs:{value:2}},[e._v("按钮/权限")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:e.menuLabel,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"[ 'name', validatorRules.name]"}],attrs:{placeholder:"请输入菜单名称",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:0!=e.localMenuType,expression:"localMenuType!=0"}],attrs:{label:"上级菜单",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-tree-select",{staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.treeData,placeholder:"请选择父级菜单",disabled:e.disableSubmit},model:{value:e.model.parentId,callback:function(t){e.$set(e.model,"parentId",t)},expression:"model.parentId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"菜单路径"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["url",{}],expression:"[ 'url',{}]"}],attrs:{placeholder:"请输入菜单路径",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"前端组件"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["component",{}],expression:"[ 'component', {}]"}],attrs:{placeholder:"请输入前端组件",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:0==e.localMenuType,expression:"localMenuType==0"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"默认跳转地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["redirect",{}],expression:"[ 'redirect',{}]"}],attrs:{placeholder:"请输入路由参数 redirect",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"授权标识"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["perms",{}],expression:"[ 'perms', {}]"}],attrs:{placeholder:"多个用逗号分隔, 如: user:list,user:create",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"授权策略"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["permsType",{}],expression:"['permsType', {}]"}],attrs:{placeholder:"请选择授权策略",type:"radio",triggerChange:!0,dictCode:"global_perms_type"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态"}},[n("j-dict-select-tag",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{}],expression:"['status', {}]"}],attrs:{placeholder:"请选择状态",type:"radio",triggerChange:!0,dictCode:"valid_status"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"菜单图标"}},[n("a-input",{attrs:{placeholder:"点击右侧按钮选择图标",readOnly:e.disableSubmit},model:{value:e.model.icon,callback:function(t){e.$set(e.model,"icon",t)},expression:"model.icon"}},[n("a-icon",{attrs:{slot:"addonAfter",type:"setting"},on:{click:e.selectIcons},slot:"addonAfter"})],1)],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sortNo",{initialValue:1,rule:e.validatorRules.sortNo}],expression:"[ 'sortNo', {'initialValue':1.0,'rule':validatorRules.sortNo}]"}],staticStyle:{width:"200px"},attrs:{placeholder:"请输入菜单排序",readOnly:e.disableSubmit}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否路由菜单"}},[n("a-switch",{attrs:{checkedChildren:"是",unCheckedChildren:"否"},model:{value:e.routeSwitch,callback:function(t){e.routeSwitch=t},expression:"routeSwitch"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否外部系统"}},[n("a-switch",{attrs:{checkedChildren:"是",unCheckedChildren:"否"},model:{value:e.externalSwitth,callback:function(t){e.externalSwitth=t},expression:"externalSwitth"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"隐藏路由"}},[n("a-switch",{attrs:{checkedChildren:"是",unCheckedChildren:"否"},model:{value:e.menuHidden,callback:function(t){e.menuHidden=t},expression:"menuHidden"}})],1),n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"聚合路由"}},[n("a-switch",{attrs:{checkedChildren:"是",unCheckedChildren:"否"},model:{value:e.alwaysShow,callback:function(t){e.alwaysShow=t},expression:"alwaysShow"}})],1)],1),n("icons",{attrs:{iconChooseVisible:e.iconChooseVisible},on:{choose:e.handleIconChoose,close:e.handleIconCancel}})],1),n("a-row",{style:{textAlign:"right"}},[n("a-button",{style:{marginRight:"8px"},on:{click:e.handleCancel}},[e._v("\n        关闭\n      ")]),n("a-button",{attrs:{disabled:e.disableSubmit,type:"primary"},on:{click:e.handleOk}},[e._v("确定")])],1)],1)])},o=[],i=n("4ec3"),a=n("11cb"),s=n("85ee"),l=n.n(s),u=(n("89f2"),{name:"PermissionModal",components:{Icons:a["default"]},data:function(){return{drawerWidth:700,treeData:[],moduleList:[],treeValue:"0-0-4",title:"操作",visible:!1,disableSubmit:!1,model:{},localMenuType:"1",alwaysShow:!1,menuHidden:!1,routeSwitch:!0,externalSwitth:!1,show:!0,menuLabel:"菜单名称",labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{modules:{rules:[{required:!0,message:"请选择所属板块"}]},name:{rules:[{required:!0,message:"请输入菜单标题!"}]},permsType:{rules:[{required:!0,message:"请输入授权策略!"}]},sortNo:{rules:[{validator:this.validateNumber}]}},iconChooseVisible:!1}},created:function(){this.initDictConfig()},methods:{loadTree:function(){var e=this;Object(i["D"])().then((function(t){if(t.success){e.treeData=[];for(var n=t.result.treeList,r=0;r<n.length;r++){var o=n[r];o.isLeaf=o.leaf,e.treeData.push(o)}}}))},loadModulesData:function(){var e=this;Object(i["z"])().then((function(t){t.success&&(e.moduleList=t.result.records)}))},add:function(){this.edit({status:"1",permsType:"1",route:!0})},edit:function(e){var t=this;this.resetScreenSize(),this.form.resetFields(),this.model=Object.assign({},e),this.alwaysShow=!!e.alwaysShow,this.menuHidden=!!e.hidden,null!=e.route&&(this.routeSwitch=!!e.route),this.show=2!=e.menuType,this.menuLabel=2==e.menuType?"按钮/权限":"菜单名称",this.model.parentId?this.localMenuType=1:this.localMenuType=0,this.loadModulesData(),this.visible=!0,this.loadTree();var n=l()(this.model,"name","perms","permsType","component","url","sortNo","menuType","status");this.$nextTick((function(){t.form.setFieldsValue(n)}))},close:function(){this.$emit("close"),this.disableSubmit=!1,this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0,e.model.alwaysShow=e.alwaysShow,e.model.hidden=e.menuHidden,e.model.route=e.routeSwitch,e.model.external=e.externalSwitth;var o,a=Object.assign(e.model,r);o=e.model.id?Object(i["p"])(a):Object(i["c"])(a),o.then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},validateNumber:function(e,t,n){!t||new RegExp(/^[0-9]*[1-9][0-9]*$/).test(t)?n():n("请输入正整数!")},onChangeMenuType:function(e){this.localMenuType=e.target.value,2==e.target.value?(this.show=!1,this.menuLabel="按钮/权限"):(this.show=!0,this.menuLabel="菜单名称")},selectIcons:function(){this.iconChooseVisible=!0},handleIconCancel:function(){this.iconChooseVisible=!1},handleIconChoose:function(e){this.model.icon=e,this.form.icon=e,this.iconChooseVisible=!1},resetScreenSize:function(){var e=document.body.clientWidth;this.drawerWidth=e<500?e:700},initDictConfig:function(){}}}),c=u,d=n("5d22"),f=Object(d["a"])(c,r,o,!1,null,"50912ae8",null);t["default"]=f.exports},b957:function(e,t,n){},bb2c:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-popover",{attrs:{trigger:"click",placement:"bottomLeft",autoAdjustOverflow:!0,arrowPointAtCenter:!0,overlayClassName:"header-notice-wrapper",overlayStyle:{width:"400px",top:"50px"}},on:{visibleChange:e.handleHoverChange}},[r("template",{slot:"content"},[r("a-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[r("a-col",{attrs:{span:8}},[r("img",{attrs:{src:n("b1e2"),alt:"logo",width:"50%"}}),r("br"),e._v("\n        用户权限管理\n\n      ")]),r("a-col",{attrs:{span:8}},[r("a",{attrs:{href:"http://www.baidu.com"}},[r("img",{attrs:{src:n("3640"),alt:"logo",width:"50%"}}),r("br"),e._v("\n        物业管理\n        ")])])],1)],1),r("span",{staticClass:"header-notice"},[r("a-badge",[r("a-icon",{staticStyle:{"font-size":"16px",padding:"4px"},attrs:{type:"appstore"}})],1)],1)],2)},o=[],i={name:"ModuleToolBar",data:function(){return{hovered:!1}},computed:{},created:function(){},methods:{handleHoverChange:function(e){this.hovered=e}}},a=i,s=(n("106f"),n("5d22")),l=Object(s["a"])(a,r,o,!1,null,"8f5b314e",null);t["default"]=l.exports},bb32:function(e,t,n){"use strict";n("1f42")},bb70:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"标题"}},[n("a-input",{attrs:{placeholder:"请输入标题"},model:{value:e.queryParam.titile,callback:function(t){e.$set(e.queryParam,"titile",t)},expression:"queryParam.titile"}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"发布人"}},[n("a-input",{attrs:{placeholder:"请输入发布人"},model:{value:e.queryParam.sender,callback:function(t){e.$set(e.queryParam,"sender",t)},expression:"queryParam.sender"}})],1)],1),n("a-col",{attrs:{span:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"book"},on:{click:e.readAll}},[e._v("全部标注已读")])],1),n("a-table",{ref:"table",attrs:{size:"default",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.showAnnouncement(r)}}},[e._v("查看")])])}}])}),n("show-announcement",{ref:"ShowAnnouncement"})],1)},o=[],i=(n("ca00"),n("0fea")),a=n("2bd9"),s=n("b65a"),l={name:"UserAnnouncementList",mixins:[s["a"]],components:{ShowAnnouncement:a["default"]},data:function(){return{description:"系统通告表管理页面",queryParam:{modules:"estate"},columns:[{title:"标题",align:"center",dataIndex:"titile"},{title:"消息类型",align:"center",dataIndex:"msgCategory",customRender:function(e){return"1"==e?"通知公告":"2"==e?"系统消息":e}},{title:"发布人",align:"center",dataIndex:"sender"},{title:"发布时间",align:"center",dataIndex:"sendTime"},{title:"优先级",align:"center",dataIndex:"priority",customRender:function(e){return"L"==e?"低":"M"==e?"中":"H"==e?"高":e}},{title:"阅读状态",align:"center",dataIndex:"readFlag",customRender:function(e){return"0"==e?"未读":"1"==e?"已读":e}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:window._CONFIG["ssoPrefixUrl"]+"/system/sysAnnouncementSend/getMyAnnouncementSend",editCementSend:window._CONFIG["ssoPrefixUrl"]+"/system/sysAnnouncementSend/editByAnntIdAndUserId",readAllMsg:window._CONFIG["ssoPrefixUrl"]+"/system/sysAnnouncementSend/readAll"},loading:!1}},created:function(){this.loadData()},methods:{handleDetail:function(e){this.$refs.sysAnnouncementModal.detail(e),this.$refs.sysAnnouncementModal.title="查看"},showAnnouncement:function(e){var t=this;Object(i["i"])(this.url.editCementSend,{anntId:e.anntId}).then((function(e){e.success&&t.loadData()})),this.$refs.ShowAnnouncement.detail(e)},readAll:function(){var e=this;e.$confirm({title:"确认操作",content:"是否全部标注已读?",onOk:function(){Object(i["i"])(e.url.readAllMsg,{modules:"estate"}).then((function(t){t.success&&(e.$message.success(t.message),e.loadData())}))}})}}},u=l,c=(n("3e11"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"61295329",null);t["default"]=d.exports},bc7f:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:e.title,width:800,placement:"right",closable:!1,visible:e.visible},on:{close:e.close}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属app"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["appcode",e.validatorRules.appcode],expression:"['appcode', validatorRules.appcode ]"}],attrs:{placeholder:"请输入所属app"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"显示昵称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nickname",{}],expression:"['nickname', {}]"}],attrs:{placeholder:"请输入显示昵称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"登录名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{}],expression:"['username', {}]"}],attrs:{placeholder:"请输入登录名"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"显示头像"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["portrait",{}],expression:"['portrait', {}]"}],attrs:{placeholder:"请输入显示头像"}})],1)],1)],1),n("a-button",{attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("确定")]),n("a-button",{attrs:{type:"primary"},on:{click:e.handleCancel}},[e._v("取消")])],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=(n("caaf"),{name:"AppUserModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{appcode:{rules:[{required:!0,message:"请输入所属app!"}]}},url:{add:"/message/appUser/add",edit:"/message/appUser/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"appcode","nickname","username","portrait"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}}),u=l,c=(n("e230"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"60db1442",null);t["default"]=d.exports},bd48:function(e,t,n){"use strict";n("5b6e")},be69:function(e,t,n){},bedd:function(e,t,n){"use strict";n("e40b")},bef2:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:e.width,visible:e.visible,confirmLoading:e.confirmLoading,destroyOnClose:"",cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("dynamic-component",{ref:"dynamiclink",attrs:{path:e.path,formData:e.formData},on:{ok:e.callBackOk,close:e.callBackClose}})],1)],1)},o=[],i=n("dddd"),a={name:"FormCommonModal",props:["path"],components:{DynamicComponent:i["default"]},data:function(){return{title:"操作",width:"80%",visible:!1,confirmLoading:!1,formData:{}}},created:function(){},methods:{add:function(){this.formData=[],this.title="新增",this.visible=!0,this.$refs.dynamiclink.add()},edit:function(e){var t={dataId:e.id};this.formData=t,this.visible=!0},callBackClose:function(){this.$emit("close"),this.visible=!1},handleOk:function(){this.$refs.dynamiclink.handleOk()},callBackOk:function(){this.$emit("ok"),this.callBackClose()},handleCancel:function(){this.callBackClose()}}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"c1329a6e",null);t["default"]=u.exports},bf13:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chart-mini-progress"},[n("div",{staticClass:"target",style:{left:e.target+"%"}},[n("span",{style:{backgroundColor:e.color}}),n("span",{style:{backgroundColor:e.color}})]),n("div",{staticClass:"progress-wrapper"},[n("div",{staticClass:"progress",style:{backgroundColor:e.color,width:e.percentage+"%",height:e.height+"px"}})])])},o=[],i={name:"MiniProgress",props:{target:{type:Number,default:0},height:{type:Number,default:10},color:{type:String,default:"#13C2C2"},percentage:{type:Number,default:0}}},a=i,s=(n("8500"),n("5d22")),l=Object(s["a"])(a,r,o,!1,null,"83beb760",null);t["default"]=l.exports},c010:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.async?n("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",labelInValue:"",placeholder:e.placeholder,filterOption:!1,notFoundContent:e.loading?void 0:null},on:{search:e.loadData,change:e.handleAsyncChange},model:{value:e.selectedAsyncValue,callback:function(t){e.selectedAsyncValue=t},expression:"selectedAsyncValue"}},[e.loading?n("a-spin",{attrs:{slot:"notFoundContent",size:"small"},slot:"notFoundContent"}):e._e(),e._l(e.options,(function(t){return n("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))])}))],2):n("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",placeholder:e.placeholder,optionFilterProp:"children",filterOption:e.filterOption,notFoundContent:e.loading?void 0:null},on:{change:e.handleChange},model:{value:e.selectedValue,callback:function(t){e.selectedValue=t},expression:"selectedValue"}},[e.loading?n("a-spin",{attrs:{slot:"notFoundContent",size:"small"},slot:"notFoundContent"}):e._e(),e._l(e.options,(function(t){return n("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))])}))],2)},o=[],i=n("4ec3"),a=n("edd1"),s=n.n(a),l=n("0fea");function u(e){return p(e)||f(e)||d(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function f(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function p(e){if(Array.isArray(e))return h(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={name:"JSearchSelectTag",props:{disabled:Boolean,value:String,dict:String,dictOptions:Array,async:Boolean,placeholder:{type:String,default:"请选择",required:!1}},data:function(){return this.loadData=s()(this.loadData,800),this.lastLoad=0,{loading:!1,selectedValue:[],selectedAsyncValue:[],options:[]}},created:function(){this.initDictData()},watch:{value:{immediate:!0,handler:function(e){e?this.initSelectValue():(this.selectedValue=[],this.selectedAsyncValue=[])}},dict:{handler:function(){this.initDictData()}}},methods:{initSelectValue:function(){var e=this;this.async?this.selectedAsyncValue&&this.selectedAsyncValue.key&&this.selectedAsyncValue.key==this.value||Object(l["c"])("/sys/dict/loadDictItem/".concat(this.dict),{key:this.value}).then((function(t){if(t.success){var n={key:e.value,label:t.result};e.selectedAsyncValue=g({},n)}})):this.selectedValue=this.value},loadData:function(e){var t=this;this.lastLoad+=1;var n=this.lastLoad;this.options=[],this.loading=!0,Object(l["c"])("/sys/dict/loadDict/".concat(this.dict),{keyword:e}).then((function(e){if(t.loading=!1,e.success){if(n!=t.lastLoad)return;t.options=e.result}else t.$message.warning(e.message)}))},initDictData:function(){var e=this;this.async||(this.dictOptions&&this.dictOptions.length>0?this.options=u(this.dictOptions):Object(i["f"])(this.dict,null).then((function(t){t.success&&(e.options=t.result)})))},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},handleChange:function(e){this.selectedValue=e,this.callback()},handleAsyncChange:function(e){this.selectedAsyncValue=e,this.selectedValue=e.key,this.callback()},callback:function(){this.$emit("change",this.selectedValue)},setCurrentDictOptions:function(e){this.options=e},getCurrentDictOptions:function(){return this.options}},model:{prop:"value",event:"change"}},b=y,x=n("5d22"),w=Object(x["a"])(b,r,o,!1,null,"a0c5fcf6",null);t["default"]=w.exports},c14a:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-input-search",{attrs:{placeholder:"请先选择用户",disabled:""},on:{search:e.onSearchDepUser},model:{value:e.selectedDepUsers,callback:function(t){e.selectedDepUsers=t},expression:"selectedDepUsers"}},[n("a-button",{attrs:{slot:"enterButton",disabled:e.disabled},slot:"enterButton"},[e._v("选择用户")])],1),n("j-select-user-by-dep-modal",{ref:"selectModal",attrs:{"modal-width":e.modalWidth},on:{ok:e.onSearchDepUserCallBack}})],1)},o=[],i=n("a505"),a={name:"JSelectUserByDep",components:{JSelectUserByDepModal:i["default"]},props:{modalWidth:{type:Number,default:1250,required:!1},value:{type:String,required:!1},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{selectedDepUsers:""}},mounted:function(){this.selectedDepUsers=this.value},watch:{value:function(e){this.selectedDepUsers=e}},model:{prop:"value",event:"change"},methods:{onSearchDepUser:function(){this.$refs.selectModal.showModal(),this.onSearchDepUserCallBack("")},onSearchDepUserCallBack:function(e){this.selectedDepUsers=e,this.$emit("change",e)}}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"d9d06c38",null);t["default"]=u.exports},c16f:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["detail-list",e.size,"vertical"===e.layout?"vertical":"horizontal"]},[e.title?n("div",{staticClass:"title"},[e._v(e._s(e.title))]):e._e(),n("a-row",[e._t("default")],2)],1)},o=[],i=n("14b1");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={name:"DetailListItem",props:{term:{type:String,default:"",required:!1}},inject:{col:{type:Number}},render:function(){var e=arguments[0];return e(i["b"],{props:s({},c[this.col])},[e("div",{class:"term"},[this.$props.term]),e("div",{class:"content"},[this.$slots.default])])}},c={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{xs:24,sm:12,md:6}},d={name:"DetailList",Item:u,components:{Col:i["b"]},props:{title:{type:String,default:"",required:!1},col:{type:Number,required:!1,default:3},size:{type:String,required:!1,default:"large"},layout:{type:String,required:!1,default:"horizontal"}},provide:function(){return{col:this.col>4?4:this.col}}},f=d,p=(n("ea2d"),n("5d22")),h=Object(p["a"])(f,r,o,!1,null,null,null);t["default"]=h.exports},c1af:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,ok:!1,visible:e.visible,confirmLoading:e.confirmLoading,okButtonProps:{props:{disabled:e.disableSubmit}},cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构名称",hidden:!1,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["departName",e.validatorRules.departName],expression:"['departName', validatorRules.departName ]"}],attrs:{id:"departName",placeholder:"请输入机构/部门名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,hidden:e.seen,label:"上级部门",hasFeedback:""}},[n("a-tree-select",{staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree,placeholder:"请选择上级部门",disabled:e.condition},model:{value:e.model.parentId,callback:function(t){e.$set(e.model,"parentId",t)},expression:"model.parentId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"电话"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",e.validatorRules.mobile],expression:"['mobile',validatorRules.mobile]"}],attrs:{placeholder:"请输入电话"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"传真"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["fax",{}],expression:"['fax', {}]"}],attrs:{placeholder:"请输入传真"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["address",{}],expression:"['address', {}]"}],attrs:{placeholder:"请输入地址"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["departOrder",{initialValue:0}],expression:"[ 'departOrder',{'initialValue':0}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"备注"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["memo",{}],expression:"['memo', {}]"}],attrs:{placeholder:"请输入备注"}})],1)],1)],1)],1)},o=[],i=n("0fea"),a=n("4ec3"),s=n("85ee"),l=n.n(s),u=n("66d4"),c={name:"SysDepartModal",components:{ATextarea:u["a"]},data:function(){return{departTree:[],orgTypeData:[],phoneWarning:"",departName:"",title:"操作",seen:!1,visible:!1,condition:!0,disableSubmit:!1,model:{},menuhidden:!1,menuusing:!0,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{departName:{rules:[{required:!0,message:"请输入机构/部门名称!"}]},orgCode:{rules:[{required:!0,message:"请输入机构编码!"}]},mobile:{rules:[{validator:this.validateMobile}]}},url:{add:"/sysdepart/sysDepart/add"}}},created:function(){},methods:{loadTreeData:function(){var e=this;Object(a["y"])().then((function(t){if(t.success){e.departTree=[];for(var n=0;n<t.result.length;n++){var r=t.result[n];e.departTree.push(r)}}}))},add:function(e){this.seen=!e,this.edit(e)},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},{}),this.visible=!0,this.loadTreeData(),this.model.parentId=null!=e?e.toString():null,this.$nextTick((function(){t.form.setFieldsValue(l()(t.model,"departName","departNameEn","departNameAbbr","departOrder","description","orgType","orgCode","mobile","fax","address","memo","status","delFlag"))}))},close:function(){this.$emit("close"),this.disableSubmit=!1,this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o=Object.assign(e.model,r);Object(i["g"])(e.url.add,o,"post").then((function(e){e.success?(t.$message.success(e.message),t.loadTreeData(),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},validateMobile:function(e,t,n){!t||new RegExp(/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/).test(t)?n():n("您的手机号码格式不正确!")}}},d=c,f=n("5d22"),p=Object(f["a"])(d,r,o,!1,null,"1298bd7c",null);t["default"]=p.exports},c28c:function(e,t,n){"use strict";n("5c0c")},c298:function(e,t,n){"use strict";n("a4dc")},c34c:function(e,t,n){"use strict";n("7272")},c380:function(e,t,n){},c3a0:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");function t(){e.add("contextmenu",(function(){}))}t()})()},c59f:function(e,t,n){},c5dc:function(e,t,n){"use strict";n("90ce")},c63e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{width:e.modalWidth,visible:e.visible,title:"部门搜索",confirmLoading:e.confirmLoading,cancelText:"关闭",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"上级部门"}},[n("a-tree",{attrs:{multiple:"",treeCheckable:"tree",checkable:"",checkedKeys:e.checkedKeys,allowClear:"true",checkStrictly:!0,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.departTree,placeholder:"请选择上级部门"},on:{check:e.onCheck}})],1)],1)]],2)},o=[],i=n("85ee"),a=n.n(i),s=n("0fea"),l=n("4ec3"),u=n("418f"),c={name:"DepartWindow",components:{userModal:u["default"]},data:function(){return{checkedKeys:[],userId:"",model:{},userDepartModel:{userId:"",departIdList:[]},departList:[],modalWidth:400,departTree:[],title:"操作",visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,headers:{},form:this.$form.createForm(this),url:{userId:"/sys/user/generateUserId"}}},methods:{add:function(e,t){this.checkedKeys=e,this.userId=t,this.edit({})},edit:function(e){var t=this;this.departList=[],this.queryDepartTree(),this.form.resetFields(),this.visible=!0,this.model=Object.assign({},e);var n=a()(this.model,"id","userId","departIdList");this.$nextTick((function(){t.form.setFieldsValue(n)}))},close:function(){this.$emit("close"),this.visible=!1,this.departList=[],this.checkedKeys=[]},handleSubmit:function(){var e=this,t=this;this.form.validateFields((function(n){if(!n)if(t.confirmLoading=!0,null==e.userId)Object(s["c"])(e.url.userId).then((function(n){if(n.success){var r={userId:n.result,departIdList:e.departList};t.$emit("ok",r)}})).finally((function(){t.departList=[],t.confirmLoading=!1,t.close()}));else{var r={userId:e.userId,departIdList:e.departList};t.departList=[],t.$emit("ok",r),t.confirmLoading=!1,t.close()}}))},handleCancel:function(){this.close()},onCheck:function(e,t){this.departList=[],this.checkedKeys=e.checked;for(var n=t.checkedNodes,r=0;r<n.length;r++){var o=n[r].data.props,i={key:"",value:"",title:""};i.key=o.value,i.value=o.value,i.title=o.title,this.departList.push(i)}},queryDepartTree:function(){var e=this;Object(l["y"])().then((function(t){t.success&&(e.departTree=t.result)}))},modalFormOk:function(){}}},d=c,f=(n("c298"),n("5d22")),p=Object(f["a"])(d,r,o,!1,null,"214a8dc7",null);t["default"]=p.exports},c6cf:function(e,t,n){e.exports=n.p+"img/pdf4.a7783614.jpg"},c779:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"模块名"}},[n("a-input",{attrs:{placeholder:"请输入模块名"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"访问地址"}},[n("a-input",{attrs:{placeholder:"请输入访问地址"},model:{value:e.queryParam.url,callback:function(t){e.$set(e.queryParam,"url",t)},expression:"queryParam.url"}})],1)],1),e.toggleSearchStatus?[n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"图标"}},[n("a-input",{attrs:{placeholder:"请输入图标"},model:{value:e.queryParam.icon,callback:function(t){e.$set(e.queryParam,"icon",t)},expression:"queryParam.icon"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"是否启用"}},[n("a-input",{attrs:{placeholder:"请输入是否启用"},model:{value:e.queryParam.state,callback:function(t){e.$set(e.queryParam,"state",t)},expression:"queryParam.state"}})],1)],1),n("a-col",{attrs:{md:6,sm:8}},[n("a-form-item",{attrs:{label:"排序"}},[n("a-input",{attrs:{placeholder:"请输入排序"},model:{value:e.queryParam.sortNo,callback:function(t){e.$set(e.queryParam,"sortNo",t)},expression:"queryParam.sortNo"}})],1)],1)]:e._e(),n("a-col",{attrs:{md:6,sm:8}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n              "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)])],2)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("系统模块")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("sysModules-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("88f4"),a=n("b65a"),s={name:"SysModulesList",mixins:[a["a"]],components:{SysModulesModal:i["default"]},data:function(){return{description:"系统模块管理页面",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,n){return parseInt(n)+1}},{title:"模块名",align:"center",dataIndex:"name"},{title:"访问地址",align:"center",dataIndex:"url"},{title:"图标",align:"center",dataIndex:"icon"},{title:"是否启用",align:"center",dataIndex:"state"},{title:"排序",align:"center",dataIndex:"sortNo"},{title:"描述",align:"center",dataIndex:"description"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/system/sysModules/list",delete:"/system/sysModules/delete",deleteBatch:"/system/sysModules/deleteBatch",exportXlsUrl:"system/sysModules/exportXls",importExcelUrl:"system/sysModules/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{}},l=s,u=(n("187b"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"025f056c",null);t["default"]=c.exports},c804:function(e,t,n){},c943:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"姓名",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{}],expression:"['name', {}]"}],attrs:{placeholder:"请输入姓名"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"关键词",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["keyWord",{}],expression:"['keyWord', {}]"}],attrs:{placeholder:"请输入关键词"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"打卡时间",hasFeedback:""}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["punchTime",{}],expression:"[ 'punchTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"sex"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{}],expression:"['sex', {}]"}],attrs:{placeholder:"请选择性别"}},[n("a-select-option",{attrs:{value:""}},[e._v("请选择性别")]),n("a-select-option",{attrs:{value:"1"}},[e._v("男性")]),n("a-select-option",{attrs:{value:"2"}},[e._v("女性")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"年龄",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["age",{}],expression:"['age', {}]"}],attrs:{placeholder:"请输入年龄"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"生日",hasFeedback:""}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["birthday",{}],expression:"[ 'birthday', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"邮箱",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{}],expression:"['email', {}]"}],attrs:{placeholder:"请输入邮箱"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"个人简介",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{}],expression:"['content', {}]"}],attrs:{placeholder:"请输入个人简介"}})],1)],1)],1)],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=n("caaf"),u=n.n(l),c={name:"JeecgDemoModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/test/jeecgDemo/add",edit:"/test/jeecgDemo/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"name","keyWord","sex","age","email","content")),t.form.setFieldsValue({punchTime:t.model.punchTime?u()(t.model.punchTime,"YYYY-MM-DD HH:mm:ss"):null}),t.form.setFieldsValue({birthday:t.model.birthday?u()(t.model.birthday):null})}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);s.punchTime=s.punchTime?s.punchTime.format("YYYY-MM-DD HH:mm:ss"):null,s.birthday=s.birthday?s.birthday.format():null,Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},d=c,f=n("5d22"),p=Object(f["a"])(d,r,o,!1,null,"31237ccc",null);t["default"]=p.exports},c984:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"toolbar"},[n("div",{staticStyle:{float:"left"}},[e._t("extra")],2),n("div",{staticStyle:{float:"right"}},[e._t("default")],2)])},o=[],i={name:"FooterToolBar"},a=i,s=(n("91a8"),n("5d22")),l=Object(s["a"])(a,r,o,!1,null,"b834ebf2",null);t["default"]=l.exports},c9c2:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-row",{attrs:{gutter:10}},[n("a-col",{attrs:{md:12,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("a-row",{staticStyle:{"margin-left":"14px"}},[n("a-button",{directives:[{name:"has",rawName:"v-has",value:"depart:add",expression:"'depart:add'"}],attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(1)}}},[e._v("添加一级部门")]),n("a-button",{attrs:{type:"primary",icon:"download"},on:{click:function(t){return e.handleExportXls("部门信息")}}},[e._v("导出")]),n("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[n("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("导入")])],1),n("a-button",{attrs:{title:"删除多条数据",type:"default"},on:{click:e.batchDel}},[e._v("批量删除")])],1),n("div",{staticStyle:{background:"#fff","padding-left":"16px",height:"100%","margin-top":"5px"}},[n("a-alert",{attrs:{type:"info",showIcon:!0}},[n("div",{attrs:{slot:"message"},slot:"message"},[e._v("\n            当前选择：\n            "),this.currSelected.title?n("a",[e._v(e._s(e.getCurrSelectedTitle()))]):e._e(),this.currSelected.title?n("a",{staticStyle:{"margin-left":"10px"},on:{click:e.onClearSelected}},[e._v("取消选择")]):e._e()])]),n("a-input-search",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{placeholder:"请输入部门名称"},on:{search:e.onSearch}}),n("a-col",{attrs:{md:10,sm:24}},[[n("a-dropdown",{attrs:{trigger:[this.dropTrigger]},on:{visibleChange:e.dropStatus}},[n("span",{staticStyle:{"user-select":"none"}},[n("a-tree",{attrs:{checkable:"",multiple:"",selectedKeys:e.selectedKeys,checkedKeys:e.checkedKeys,treeData:e.departTree,checkStrictly:!0,expandedKeys:e.iExpandedKeys,autoExpandParent:e.autoExpandParent},on:{select:e.onSelect,check:e.onCheck,rightClick:e.rightHandle,expand:e.onExpand}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:function(t){return e.handleAdd(3)}}},[e._v("添加")]),n("a-menu-item",{key:"2",on:{click:e.handleDelete}},[e._v("删除")]),n("a-menu-item",{key:"3",on:{click:e.closeDrop}},[e._v("取消")])],1)],1)]],2)],1)],1)],1),n("a-col",{attrs:{md:12,sm:24}},[n("a-card",{attrs:{bordered:!1}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["departName",e.validatorRules.departName],expression:"['departName', validatorRules.departName ]"}],attrs:{placeholder:"请输入机构/部门名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"上级部门"}},[n("a-tree-select",{staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.treeData,disabled:e.disable,placeholder:"无"},model:{value:e.model.parentId,callback:function(t){e.$set(e.model,"parentId",t)},expression:"model.parentId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orgCode",e.validatorRules.orgCode],expression:"['orgCode', validatorRules.orgCode ]"}],attrs:{disabled:"",placeholder:"请输入机构编码"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["departOrder",{initialValue:0}],expression:"[ 'departOrder',{'initialValue':0}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"手机号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",{initialValue:""}],expression:"['mobile', {'initialValue':''}]"}],attrs:{placeholder:"请输入手机号"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["address",{initialValue:""}],expression:"['address', {'initialValue':''}]"}],attrs:{placeholder:"请输入地址"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"备注"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["memo",{initialValue:""}],expression:"['memo', {'initialValue':''}]"}],attrs:{placeholder:"请输入备注"}})],1)],1),n("div",{staticClass:"anty-form-btn"},[n("a-button",{attrs:{type:"default",htmlType:"button",icon:"sync"},on:{click:e.emptyCurrForm}},[e._v("重置")]),n("a-button",{attrs:{type:"primary",htmlType:"button",icon:"form"},on:{click:e.submitCurrForm}},[e._v("修改并保存")])],1)],1)],1),n("depart-modal",{ref:"departModal",on:{ok:e.loadTree}})],1)},o=[],i=n("c1af"),a=n("85ee"),s=n.n(a),l=n("4ec3"),u=n("0fea"),c=n("b65a"),d=[{title:"机构名称",dataIndex:"departName"},{title:"机构类型",align:"center",dataIndex:"orgType"},{title:"机构编码",dataIndex:"orgCode"},{title:"手机号",dataIndex:"mobile"},{title:"传真",dataIndex:"fax"},{title:"地址",dataIndex:"address"},{title:"排序",align:"center",dataIndex:"departOrder"},{title:"操作",align:"center",dataIndex:"action",scopedSlots:{customRender:"action"}}],f={name:"DepartList",mixins:[c["a"]],components:{DepartModal:i["default"]},data:function(){return{iExpandedKeys:[],loading:!1,autoExpandParent:!0,currFlowId:"",currFlowName:"",disable:!0,treeData:[],visible:!1,departTree:[],rightClickSelectedKey:"",hiding:!0,model:{},dropTrigger:"",depart:{},columns:d,disableSubmit:!1,checkedKeys:[],selectedKeys:[],autoIncr:1,currSelected:{},form:this.$form.createForm(this),labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},graphDatasource:{nodes:[],edges:[]},validatorRules:{departName:{rules:[{required:!0,message:"请输入机构/部门名称!"}]},orgCode:{rules:[{required:!0,message:"请输入机构编码!"}]},mobile:{rules:[{validator:this.validateMobile}]}},url:{delete:"/sysdepart/sysDepart/delete",edit:"/sysdepart/sysDepart/edit",deleteBatch:"/sysdepart/sysDepart/deleteBatch",exportXlsUrl:"sysdepart/sysDepart/exportXls",importExcelUrl:"sysdepart/sysDepart/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{loadData:function(){this.refresh()},loadTree:function(){var e=this,t=this;t.treeData=[],t.departTree=[],Object(l["x"])().then((function(n){if(n.success){for(var r=0;r<n.result.length;r++){var o=n.result[r];t.treeData.push(o),t.departTree.push(o),t.setThisExpandedKeys(o)}e.loading=!1}}))},setThisExpandedKeys:function(e){if(e.children&&e.children.length>0){this.iExpandedKeys.push(e.key);for(var t=0;t<e.children.length;t++)this.setThisExpandedKeys(e.children[t])}},refresh:function(){this.loading=!0,this.loadTree()},rightHandle:function(e){this.dropTrigger="contextmenu",this.rightClickSelectedKey=e.node.eventKey},onExpand:function(e){this.iExpandedKeys=e,this.autoExpandParent=!1},backFlowList:function(){this.$router.back(-1)},dropStatus:function(e){0==e&&(this.dropTrigger="")},closeDrop:function(){this.dropTrigger=""},addRootNode:function(){this.$refs.nodeModal.add(this.currFlowId,"")},batchDel:function(){if(this.checkedKeys.length<=0)this.$message.warning("请选择一条记录！");else{for(var e="",t=0;t<this.checkedKeys.length;t++)e+=this.checkedKeys[t]+",";var n=this;this.$confirm({title:"确认删除",content:"确定要删除所选中的 "+this.checkedKeys.length+" 条数据?",onOk:function(){Object(u["a"])(n.url.deleteBatch,{ids:e}).then((function(e){e.success?(n.$message.success(e.message),n.loadTree(),n.onClearSelected()):n.$message.warning(e.message)}))}})}},onSearch:function(e){var t=this;e?Object(l["K"])({keyWord:e}).then((function(e){if(e.success){t.departTree=[];for(var n=0;n<e.result.length;n++){var r=e.result[n];t.departTree.push(r)}}else t.$message.warning(e.message)})):t.loadTree()},nodeModalOk:function(){this.loadTree()},nodeModalClose:function(){},hide:function(){this.visible=!1},onCheck:function(e,t){this.hiding=!1,this.checkedKeys=e.checked},onSelect:function(e,t){this.hiding=!1;var n=t.node.dataRef;this.currSelected=Object.assign({},n),this.model=this.currSelected,this.selectedKeys=[n.key],this.model.parentId=n.parentId,this.setValuesToForm(n)},setValuesToForm:function(e){this.form.getFieldDecorator("fax",{initialValue:""}),this.form.setFieldsValue(s()(e,"departName","orgCode","departOrder","mobile","fax","address","memo"))},getCurrSelectedTitle:function(){return this.currSelected.title?this.currSelected.title:""},onClearSelected:function(){this.hiding=!0,this.checkedKeys=[],this.currSelected={},this.form.resetFields(),this.selectedKeys=[]},handleNodeTypeChange:function(e){this.currSelected.nodeType=e},notifyTriggerTypeChange:function(e){this.currSelected.notifyTriggerType=e},receiptTriggerTypeChange:function(e){this.currSelected.receiptTriggerType=e},submitCurrForm:function(){var e=this;this.form.validateFields((function(t,n){if(!t){if(!e.currSelected.id)return void e.$message.warning("请点击选择要修改部门!");var r=Object.assign(e.currSelected,n);Object(u["g"])(e.url.edit,r,"put").then((function(t){t.success?(e.$message.success("保存成功!"),e.loadTree()):e.$message.error(t.message)}))}}))},emptyCurrForm:function(){this.form.resetFields()},nodeSettingFormSubmit:function(){this.form.validateFields((function(e,t){}))},openSelect:function(){this.$refs.sysDirectiveModal.show()},handleAdd:function(e){if(1==e)this.$refs.departModal.add(),this.$refs.departModal.title="新增";else if(2==e){var t=this.currSelected.key;if(!t)return this.$message.warning("请先选中一条记录!"),!1;this.$refs.departModal.add(this.selectedKeys),this.$refs.departModal.title="新增"}else this.$refs.departModal.add(this.rightClickSelectedKey),this.$refs.departModal.title="新增"},handleDelete:function(){var e=this;Object(l["j"])({id:this.rightClickSelectedKey}).then((function(t){t.success?(e.$message.success("删除成功!"),e.loadTree()):e.$message.warning("删除失败!")}))},selectDirectiveOk:function(e){this.nodeSettingForm.setFieldsValue({directiveCode:e.directiveCode}),this.currSelected.sysCode=e.sysCode},getFlowGraphData:function(e){if(this.graphDatasource.nodes.push({id:e.id,text:e.flowNodeName}),e.children.length>0)for(var t=0;t<e.children.length;t++){var n=e.children[t];this.graphDatasource.edges.push({source:e.id,target:n.id}),this.getFlowGraphData(n)}}},created:function(){this.currFlowId=this.$route.params.id,this.currFlowName=this.$route.params.name}},p=f,h=(n("9d9c"),n("5d22")),m=Object(h["a"])(p,r,o,!1,null,"099e46e1",null);t["default"]=m.exports},ca3e:function(e,t,n){},ca55:function(e,t,n){e.exports=n("6a61")},cacf:function(e,t,n){"use strict";n.r(t),n.d(t,"version",(function(){return Qx})),n.d(t,"dependencies",(function(){return ew})),n.d(t,"PRIORITY",(function(){return vw})),n.d(t,"init",(function(){return g_})),n.d(t,"connect",(function(){return v_})),n.d(t,"disConnect",(function(){return y_})),n.d(t,"disconnect",(function(){return b_})),n.d(t,"dispose",(function(){return x_})),n.d(t,"getInstanceByDom",(function(){return w_})),n.d(t,"getInstanceById",(function(){return __})),n.d(t,"registerTheme",(function(){return C_})),n.d(t,"registerPreprocessor",(function(){return S_})),n.d(t,"registerProcessor",(function(){return k_})),n.d(t,"registerPostInit",(function(){return O_})),n.d(t,"registerPostUpdate",(function(){return T_})),n.d(t,"registerAction",(function(){return M_})),n.d(t,"registerCoordinateSystem",(function(){return D_})),n.d(t,"getCoordinateSystemDimensions",(function(){return I_})),n.d(t,"registerLocale",(function(){return wp})),n.d(t,"registerLayout",(function(){return E_})),n.d(t,"registerVisual",(function(){return A_})),n.d(t,"registerLoading",(function(){return N_})),n.d(t,"setCanvasCreator",(function(){return P_})),n.d(t,"registerMap",(function(){return R_})),n.d(t,"getMap",(function(){return B_})),n.d(t,"registerTransform",(function(){return F_})),n.d(t,"dataTool",(function(){return z_})),n.d(t,"zrender",(function(){return s})),n.d(t,"matrix",(function(){return i})),n.d(t,"vector",(function(){return o})),n.d(t,"zrUtil",(function(){return r})),n.d(t,"color",(function(){return a})),n.d(t,"throttle",(function(){return ly})),n.d(t,"helper",(function(){return u})),n.d(t,"use",(function(){return U_})),n.d(t,"parseGeoJSON",(function(){return kk})),n.d(t,"parseGeoJson",(function(){return kk})),n.d(t,"number",(function(){return c})),n.d(t,"time",(function(){return d})),n.d(t,"graphic",(function(){return f})),n.d(t,"format",(function(){return p})),n.d(t,"util",(function(){return h})),n.d(t,"env",(function(){return C})),n.d(t,"List",(function(){return TC})),n.d(t,"Model",(function(){return sp})),n.d(t,"Axis",(function(){return Wk})),n.d(t,"ComponentModel",(function(){return Nh})),n.d(t,"ComponentView",(function(){return Yv})),n.d(t,"SeriesModel",(function(){return Wv})),n.d(t,"ChartView",(function(){return oy})),n.d(t,"innerDrawElementOnCanvas",(function(){return jx})),n.d(t,"extendComponentModel",(function(){return Gk})),n.d(t,"extendComponentView",(function(){return Yk})),n.d(t,"extendSeriesModel",(function(){return Kk})),n.d(t,"extendChartView",(function(){return Xk}));var r={};n.r(r),n.d(r,"$override",(function(){return N})),n.d(r,"guid",(function(){return R})),n.d(r,"logError",(function(){return B})),n.d(r,"clone",(function(){return F})),n.d(r,"merge",(function(){return z})),n.d(r,"mergeAll",(function(){return V})),n.d(r,"extend",(function(){return H})),n.d(r,"defaults",(function(){return U})),n.d(r,"createCanvas",(function(){return $})),n.d(r,"indexOf",(function(){return q})),n.d(r,"inherits",(function(){return W})),n.d(r,"mixin",(function(){return G})),n.d(r,"isArrayLike",(function(){return Y})),n.d(r,"each",(function(){return K})),n.d(r,"map",(function(){return X})),n.d(r,"reduce",(function(){return J})),n.d(r,"filter",(function(){return Z})),n.d(r,"find",(function(){return Q})),n.d(r,"keys",(function(){return ee})),n.d(r,"bind",(function(){return ne})),n.d(r,"curry",(function(){return re})),n.d(r,"isArray",(function(){return oe})),n.d(r,"isFunction",(function(){return ie})),n.d(r,"isString",(function(){return ae})),n.d(r,"isStringSafe",(function(){return se})),n.d(r,"isNumber",(function(){return le})),n.d(r,"isObject",(function(){return ue})),n.d(r,"isBuiltInObject",(function(){return ce})),n.d(r,"isTypedArray",(function(){return de})),n.d(r,"isDom",(function(){return fe})),n.d(r,"isGradientObject",(function(){return pe})),n.d(r,"isPatternObject",(function(){return he})),n.d(r,"isRegExp",(function(){return me})),n.d(r,"eqNaN",(function(){return ge})),n.d(r,"retrieve",(function(){return ve})),n.d(r,"retrieve2",(function(){return ye})),n.d(r,"retrieve3",(function(){return be})),n.d(r,"slice",(function(){return xe})),n.d(r,"normalizeCssArray",(function(){return we})),n.d(r,"assert",(function(){return _e})),n.d(r,"trim",(function(){return Ce})),n.d(r,"setAsPrimitive",(function(){return ke})),n.d(r,"isPrimitive",(function(){return Oe})),n.d(r,"HashMap",(function(){return Te})),n.d(r,"createHashMap",(function(){return Me})),n.d(r,"concatArray",(function(){return De})),n.d(r,"createObject",(function(){return Ie})),n.d(r,"hasOwn",(function(){return Ee})),n.d(r,"noop",(function(){return Ae}));var o={};n.r(o),n.d(o,"create",(function(){return Le})),n.d(o,"copy",(function(){return je})),n.d(o,"clone",(function(){return Ne})),n.d(o,"set",(function(){return Pe})),n.d(o,"add",(function(){return Re})),n.d(o,"scaleAndAdd",(function(){return Be})),n.d(o,"sub",(function(){return Fe})),n.d(o,"len",(function(){return ze})),n.d(o,"length",(function(){return Ve})),n.d(o,"lenSquare",(function(){return He})),n.d(o,"lengthSquare",(function(){return Ue})),n.d(o,"mul",(function(){return $e})),n.d(o,"div",(function(){return qe})),n.d(o,"dot",(function(){return We})),n.d(o,"scale",(function(){return Ge})),n.d(o,"normalize",(function(){return Ye})),n.d(o,"distance",(function(){return Ke})),n.d(o,"dist",(function(){return Xe})),n.d(o,"distanceSquare",(function(){return Je})),n.d(o,"distSquare",(function(){return Ze})),n.d(o,"negate",(function(){return Qe})),n.d(o,"lerp",(function(){return et})),n.d(o,"applyTransform",(function(){return tt})),n.d(o,"min",(function(){return nt})),n.d(o,"max",(function(){return rt}));var i={};n.r(i),n.d(i,"create",(function(){return qt})),n.d(i,"identity",(function(){return Wt})),n.d(i,"copy",(function(){return Gt})),n.d(i,"mul",(function(){return Yt})),n.d(i,"translate",(function(){return Kt})),n.d(i,"rotate",(function(){return Xt})),n.d(i,"scale",(function(){return Jt})),n.d(i,"invert",(function(){return Zt})),n.d(i,"clone",(function(){return Qt}));var a={};n.r(a),n.d(a,"parse",(function(){return En})),n.d(a,"lift",(function(){return jn})),n.d(a,"toHex",(function(){return Nn})),n.d(a,"fastLerp",(function(){return Pn})),n.d(a,"fastMapToColor",(function(){return Rn})),n.d(a,"lerp",(function(){return Bn})),n.d(a,"mapToColor",(function(){return Fn})),n.d(a,"modifyHSL",(function(){return zn})),n.d(a,"modifyAlpha",(function(){return Vn})),n.d(a,"stringify",(function(){return Hn})),n.d(a,"lum",(function(){return Un})),n.d(a,"random",(function(){return $n}));var s={};n.r(s),n.d(s,"init",(function(){return Yo})),n.d(s,"dispose",(function(){return Ko})),n.d(s,"disposeAll",(function(){return Xo})),n.d(s,"getInstance",(function(){return Jo})),n.d(s,"registerPainter",(function(){return Zo})),n.d(s,"version",(function(){return Qo}));var l={};n.r(l),n.d(l,"extendShape",(function(){return Qd})),n.d(l,"extendPath",(function(){return tf})),n.d(l,"registerShape",(function(){return nf})),n.d(l,"getShapeClass",(function(){return rf})),n.d(l,"makePath",(function(){return of})),n.d(l,"makeImage",(function(){return af})),n.d(l,"mergePath",(function(){return lf})),n.d(l,"resizePath",(function(){return uf})),n.d(l,"subPixelOptimizeLine",(function(){return cf})),n.d(l,"subPixelOptimizeRect",(function(){return df})),n.d(l,"subPixelOptimize",(function(){return ff})),n.d(l,"updateProps",(function(){return hf})),n.d(l,"initProps",(function(){return mf})),n.d(l,"removeElement",(function(){return gf})),n.d(l,"removeElementWithFadeOut",(function(){return yf})),n.d(l,"isElementRemoved",(function(){return bf})),n.d(l,"getTransform",(function(){return xf})),n.d(l,"applyTransform",(function(){return wf})),n.d(l,"transformDirection",(function(){return _f})),n.d(l,"groupTransition",(function(){return kf})),n.d(l,"clipPointsByRect",(function(){return Of})),n.d(l,"clipRectByRect",(function(){return Tf})),n.d(l,"createIcon",(function(){return Mf})),n.d(l,"linePolygonIntersect",(function(){return Df})),n.d(l,"lineLineIntersect",(function(){return If})),n.d(l,"Group",(function(){return Vo})),n.d(l,"Image",(function(){return zl})),n.d(l,"Text",(function(){return uu})),n.d(l,"Circle",(function(){return Vc})),n.d(l,"Ellipse",(function(){return $c})),n.d(l,"Sector",(function(){return sd})),n.d(l,"Ring",(function(){return cd})),n.d(l,"Polygon",(function(){return vd})),n.d(l,"Polyline",(function(){return xd})),n.d(l,"Rect",(function(){return Kl})),n.d(l,"Line",(function(){return Sd})),n.d(l,"BezierCurve",(function(){return Dd})),n.d(l,"Arc",(function(){return Ad})),n.d(l,"IncrementalDisplayable",(function(){return Kd})),n.d(l,"CompoundPath",(function(){return jd})),n.d(l,"LinearGradient",(function(){return Bd})),n.d(l,"RadialGradient",(function(){return zd})),n.d(l,"BoundingRect",(function(){return Cr})),n.d(l,"OrientedBoundingRect",(function(){return Wd})),n.d(l,"Point",(function(){return pr})),n.d(l,"Path",(function(){return Al}));var u={};n.r(u),n.d(u,"createList",(function(){return pk})),n.d(u,"getLayoutRect",(function(){return kh})),n.d(u,"createDimensions",(function(){return AC})),n.d(u,"dataStack",(function(){return hk})),n.d(u,"createSymbol",(function(){return rx})),n.d(u,"createScale",(function(){return mk})),n.d(u,"mixinAxisModelCommonMethods",(function(){return gk})),n.d(u,"getECData",(function(){return cu})),n.d(u,"enableHoverEmphasis",(function(){return ac})),n.d(u,"createTextStyle",(function(){return vk}));var c={};n.r(c),n.d(c,"linearMap",(function(){return ni})),n.d(c,"round",(function(){return oi})),n.d(c,"asc",(function(){return ii})),n.d(c,"getPrecision",(function(){return ai})),n.d(c,"getPrecisionSafe",(function(){return si})),n.d(c,"getPixelPrecision",(function(){return li})),n.d(c,"getPercentWithPrecision",(function(){return ui})),n.d(c,"MAX_SAFE_INTEGER",(function(){return ci})),n.d(c,"remRadian",(function(){return di})),n.d(c,"isRadianAroundZero",(function(){return fi})),n.d(c,"parseDate",(function(){return hi})),n.d(c,"quantity",(function(){return mi})),n.d(c,"quantityExponent",(function(){return gi})),n.d(c,"nice",(function(){return vi})),n.d(c,"quantile",(function(){return yi})),n.d(c,"reformIntervals",(function(){return bi})),n.d(c,"isNumeric",(function(){return wi})),n.d(c,"numericToNumber",(function(){return xi}));var d={};n.r(d),n.d(d,"parse",(function(){return hi})),n.d(d,"format",(function(){return Fp}));var f={};n.r(f),n.d(f,"extendShape",(function(){return Qd})),n.d(f,"extendPath",(function(){return tf})),n.d(f,"makePath",(function(){return of})),n.d(f,"makeImage",(function(){return af})),n.d(f,"mergePath",(function(){return lf})),n.d(f,"resizePath",(function(){return uf})),n.d(f,"createIcon",(function(){return Mf})),n.d(f,"updateProps",(function(){return hf})),n.d(f,"initProps",(function(){return mf})),n.d(f,"getTransform",(function(){return xf})),n.d(f,"clipPointsByRect",(function(){return Of})),n.d(f,"clipRectByRect",(function(){return Tf})),n.d(f,"registerShape",(function(){return nf})),n.d(f,"getShapeClass",(function(){return rf})),n.d(f,"Group",(function(){return Vo})),n.d(f,"Image",(function(){return zl})),n.d(f,"Text",(function(){return uu})),n.d(f,"Circle",(function(){return Vc})),n.d(f,"Ellipse",(function(){return $c})),n.d(f,"Sector",(function(){return sd})),n.d(f,"Ring",(function(){return cd})),n.d(f,"Polygon",(function(){return vd})),n.d(f,"Polyline",(function(){return xd})),n.d(f,"Rect",(function(){return Kl})),n.d(f,"Line",(function(){return Sd})),n.d(f,"BezierCurve",(function(){return Dd})),n.d(f,"Arc",(function(){return Ad})),n.d(f,"IncrementalDisplayable",(function(){return Kd})),n.d(f,"CompoundPath",(function(){return jd})),n.d(f,"LinearGradient",(function(){return Bd})),n.d(f,"RadialGradient",(function(){return zd})),n.d(f,"BoundingRect",(function(){return Cr}));var p={};n.r(p),n.d(p,"addCommas",(function(){return rh})),n.d(p,"toCamelCase",(function(){return oh})),n.d(p,"normalizeCssArray",(function(){return ih})),n.d(p,"encodeHTML",(function(){return lh})),n.d(p,"formatTpl",(function(){return fh})),n.d(p,"getTooltipMarker",(function(){return hh})),n.d(p,"formatTime",(function(){return mh})),n.d(p,"capitalFirst",(function(){return gh})),n.d(p,"truncateText",(function(){return Ia})),n.d(p,"getTextRect",(function(){return Ok}));var h={};n.r(h),n.d(h,"map",(function(){return X})),n.d(h,"each",(function(){return K})),n.d(h,"indexOf",(function(){return q})),n.d(h,"inherits",(function(){return W})),n.d(h,"reduce",(function(){return J})),n.d(h,"filter",(function(){return Z})),n.d(h,"bind",(function(){return ne})),n.d(h,"curry",(function(){return re})),n.d(h,"isArray",(function(){return oe})),n.d(h,"isString",(function(){return ae})),n.d(h,"isObject",(function(){return ue})),n.d(h,"isFunction",(function(){return ie})),n.d(h,"extend",(function(){return H})),n.d(h,"defaults",(function(){return U})),n.d(h,"clone",(function(){return F})),n.d(h,"merge",(function(){return z}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var m=function(e,t){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},m(e,t)};function g(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var v=function(){return v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},v.apply(this,arguments)};Object.create;function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}Object.create;var b=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),x=function(){function e(){this.browser=new b,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1}return e}(),w=new x;function _(e,t){var n=t.browser,r=e.match(/Firefox\/([\d.]+)/),o=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),i=e.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(e);r&&(n.firefox=!0,n.version=r[1]),o&&(n.ie=!0,n.version=o[1]),i&&(n.edge=!0,n.version=i[1],n.newEdge=+i[1].split(".")[0]>18),a&&(n.weChat=!0),t.canvasSupported=!!document.createElement("canvas").getContext,t.svgSupported="undefined"!==typeof SVGRect,t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported="undefined"!==typeof document}"object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?(w.wxa=!0,w.canvasSupported=!0,w.touchEventsSupported=!0):"undefined"===typeof document&&"undefined"!==typeof self?(w.worker=!0,w.canvasSupported=!0):"undefined"===typeof navigator?(w.node=!0,w.canvasSupported=!0,w.svgSupported=!0):_(navigator.userAgent,w);var C=w,S={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},k={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},O=Object.prototype.toString,T=Array.prototype,M=T.forEach,D=T.filter,I=T.slice,E=T.map,A=function(){}.constructor,L=A?A.prototype:null,j={};function N(e,t){j[e]=t}var P=2311;function R(){return P++}function B(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function F(e){if(null==e||"object"!==typeof e)return e;var t=e,n=O.call(e);if("[object Array]"===n){if(!Oe(e)){t=[];for(var r=0,o=e.length;r<o;r++)t[r]=F(e[r])}}else if(k[n]){if(!Oe(e)){var i=e.constructor;if(i.from)t=i.from(e);else{t=new i(e.length);for(r=0,o=e.length;r<o;r++)t[r]=F(e[r])}}}else if(!S[n]&&!Oe(e)&&!fe(e))for(var a in t={},e)e.hasOwnProperty(a)&&(t[a]=F(e[a]));return t}function z(e,t,n){if(!ue(t)||!ue(e))return n?F(t):e;for(var r in t)if(t.hasOwnProperty(r)){var o=e[r],i=t[r];!ue(i)||!ue(o)||oe(i)||oe(o)||fe(i)||fe(o)||ce(i)||ce(o)||Oe(i)||Oe(o)?!n&&r in e||(e[r]=F(t[r])):z(o,i,n)}return e}function V(e,t){for(var n=e[0],r=1,o=e.length;r<o;r++)n=z(n,e[r],t);return n}function H(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function U(e,t,n){for(var r=ee(t),o=0;o<r.length;o++){var i=r[o];(n?null!=t[i]:null==e[i])&&(e[i]=t[i])}return e}var $=function(){return j.createCanvas()};function q(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1}function W(e,t){var n=e.prototype;function r(){}for(var o in r.prototype=t.prototype,e.prototype=new r,n)n.hasOwnProperty(o)&&(e.prototype[o]=n[o]);e.prototype.constructor=e,e.superClass=t}function G(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(t),o=0;o<r.length;o++){var i=r[o];"constructor"!==i&&(n?null!=t[i]:null==e[i])&&(e[i]=t[i])}else U(e,t,n)}function Y(e){return!!e&&("string"!==typeof e&&"number"===typeof e.length)}function K(e,t,n){if(e&&t)if(e.forEach&&e.forEach===M)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function X(e,t,n){if(!e)return[];if(!t)return xe(e);if(e.map&&e.map===E)return e.map(t,n);for(var r=[],o=0,i=e.length;o<i;o++)r.push(t.call(n,e[o],o,e));return r}function J(e,t,n,r){if(e&&t){for(var o=0,i=e.length;o<i;o++)n=t.call(r,n,e[o],o,e);return n}}function Z(e,t,n){if(!e)return[];if(!t)return xe(e);if(e.filter&&e.filter===D)return e.filter(t,n);for(var r=[],o=0,i=e.length;o<i;o++)t.call(n,e[o],o,e)&&r.push(e[o]);return r}function Q(e,t,n){if(e&&t)for(var r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return e[r]}function ee(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function te(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return e.apply(t,n.concat(I.call(arguments)))}}j.createCanvas=function(){return document.createElement("canvas")};var ne=L&&ie(L.bind)?L.call.bind(L.bind):te;function re(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(this,t.concat(I.call(arguments)))}}function oe(e){return Array.isArray?Array.isArray(e):"[object Array]"===O.call(e)}function ie(e){return"function"===typeof e}function ae(e){return"string"===typeof e}function se(e){return"[object String]"===O.call(e)}function le(e){return"number"===typeof e}function ue(e){var t=typeof e;return"function"===t||!!e&&"object"===t}function ce(e){return!!S[O.call(e)]}function de(e){return!!k[O.call(e)]}function fe(e){return"object"===typeof e&&"number"===typeof e.nodeType&&"object"===typeof e.ownerDocument}function pe(e){return null!=e.colorStops}function he(e){return null!=e.image}function me(e){return"[object RegExp]"===O.call(e)}function ge(e){return e!==e}function ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e.length;n<r;n++)if(null!=e[n])return e[n]}function ye(e,t){return null!=e?e:t}function be(e,t,n){return null!=e?e:null!=t?t:n}function xe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return I.apply(e,t)}function we(e){if("number"===typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function _e(e,t){if(!e)throw new Error(t)}function Ce(e){return null==e?null:"function"===typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Se="__ec_primitive__";function ke(e){e[Se]=!0}function Oe(e){return e[Se]}var Te=function(){function e(t){this.data={};var n=oe(t);this.data={};var r=this;function o(e,t){n?r.set(e,t):r.set(t,e)}t instanceof e?t.each(o):t&&K(t,o)}return e.prototype.get=function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},e.prototype.set=function(e,t){return this.data[e]=t},e.prototype.each=function(e,t){for(var n in this.data)this.data.hasOwnProperty(n)&&e.call(t,this.data[n],n)},e.prototype.keys=function(){return ee(this.data)},e.prototype.removeKey=function(e){delete this.data[e]},e}();function Me(e){return new Te(e)}function De(e,t){for(var n=new e.constructor(e.length+t.length),r=0;r<e.length;r++)n[r]=e[r];var o=e.length;for(r=0;r<t.length;r++)n[r+o]=t[r];return n}function Ie(e,t){var n;if(Object.create)n=Object.create(e);else{var r=function(){};r.prototype=e,n=new r}return t&&H(n,t),n}function Ee(e,t){return e.hasOwnProperty(t)}function Ae(){}function Le(e,t){return null==e&&(e=0),null==t&&(t=0),[e,t]}function je(e,t){return e[0]=t[0],e[1]=t[1],e}function Ne(e){return[e[0],e[1]]}function Pe(e,t,n){return e[0]=t,e[1]=n,e}function Re(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function Be(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function Fe(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function ze(e){return Math.sqrt(He(e))}var Ve=ze;function He(e){return e[0]*e[0]+e[1]*e[1]}var Ue=He;function $e(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function qe(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function We(e,t){return e[0]*t[0]+e[1]*t[1]}function Ge(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function Ye(e,t){var n=ze(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function Ke(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var Xe=Ke;function Je(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Ze=Je;function Qe(e,t){return e[0]=-t[0],e[1]=-t[1],e}function et(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}function tt(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o+n[4],e[1]=n[1]*r+n[3]*o+n[5],e}function nt(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function rt(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var ot=function(){function e(e,t){this.target=e,this.topTarget=t&&t.topTarget}return e}(),it=function(){function e(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(e){var t=e.target;while(t&&!t.draggable)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new ot(t,e),"dragstart",e.event))},e.prototype._drag=function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,r=e.offsetY,o=n-this._x,i=r-this._y;this._x=n,this._y=r,t.drift(o,i,e),this.handler.dispatchToElement(new ot(t,e),"drag",e.event);var a=this.handler.findHover(n,r,t).target,s=this._dropTarget;this._dropTarget=a,t!==a&&(s&&a!==s&&this.handler.dispatchToElement(new ot(s,e),"dragleave",e.event),a&&a!==s&&this.handler.dispatchToElement(new ot(a,e),"dragenter",e.event))}},e.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new ot(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new ot(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},e}(),at=it,st=function(){function e(e){e&&(this._$eventProcessor=e)}return e.prototype.on=function(e,t,n,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"===typeof t&&(r=n,n=t,t=null),!n||!e)return this;var i=this._$eventProcessor;null!=t&&i&&i.normalizeQuery&&(t=i.normalizeQuery(t)),o[e]||(o[e]=[]);for(var a=0;a<o[e].length;a++)if(o[e][a].h===n)return this;var s={h:n,query:t,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},l=o[e].length-1,u=o[e][l];return u&&u.callAtLast?o[e].splice(l,0,s):o[e].push(s),this},e.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},e.prototype.off=function(e,t){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var r=[],o=0,i=n[e].length;o<i;o++)n[e][o].h!==t&&r.push(n[e][o]);n[e]=r}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[e],o=this._$eventProcessor;if(r)for(var i=t.length,a=r.length,s=0;s<a;s++){var l=r[s];if(!o||!o.filter||null==l.query||o.filter(e,l.query))switch(i){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,t[0]);break;case 2:l.h.call(l.ctx,t[0],t[1]);break;default:l.h.apply(l.ctx,t);break}}return o&&o.afterTrigger&&o.afterTrigger(e),this},e.prototype.triggerWithContext=function(e){if(!this._$handlers)return this;var t=this._$handlers[e],n=this._$eventProcessor;if(t)for(var r=arguments,o=r.length,i=r[o-1],a=t.length,s=0;s<a;s++){var l=t[s];if(!n||!n.filter||null==l.query||n.filter(e,l.query))switch(o){case 0:l.h.call(i);break;case 1:l.h.call(i,r[0]);break;case 2:l.h.call(i,r[0],r[1]);break;default:l.h.apply(i,r.slice(1,o-1));break}}return n&&n.afterTrigger&&n.afterTrigger(e),this},e}(),lt=st,ut=Math.log(2);function ct(e,t,n,r,o,i){var a=r+"-"+o,s=e.length;if(i.hasOwnProperty(a))return i[a];if(1===t){var l=Math.round(Math.log((1<<s)-1&~o)/ut);return e[n][l]}var u=r|1<<n,c=n+1;while(r&1<<c)c++;for(var d=0,f=0,p=0;f<s;f++){var h=1<<f;h&o||(d+=(p%2?-1:1)*e[n][f]*ct(e,t-1,c,u,o|h,i),p++)}return i[a]=d,d}function dt(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],r={},o=ct(n,8,0,0,0,r);if(0!==o){for(var i=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==i[s]&&(i[s]=0),i[s]+=((a+s)%2?-1:1)*ct(n,7,0===a?1:0,1<<a,1<<s,r)/o*t[a];return function(e,t,n){var r=t*i[6]+n*i[7]+1;e[0]=(t*i[0]+n*i[1]+i[2])/r,e[1]=(t*i[3]+n*i[4]+i[5])/r}}}var ft="___zrEVENTSAVED",pt=[];function ht(e,t,n,r,o){return mt(pt,t,r,o,!0)&&mt(e,n,pt[0],pt[1])}function mt(e,t,n,r,o){if(t.getBoundingClientRect&&C.domSupported&&!yt(t)){var i=t[ft]||(t[ft]={}),a=gt(t,i),s=vt(a,i,o);if(s)return s(e,n,r),!0}return!1}function gt(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var r=["left","right"],o=["top","bottom"],i=0;i<4;i++){var a=document.createElement("div"),s=a.style,l=i%2,u=(i>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",o[u]+":0",r[1-l]+":auto",o[1-u]+":auto",""].join("!important;"),e.appendChild(a),n.push(a)}return n}function vt(e,t,n){for(var r=n?"invTrans":"trans",o=t[r],i=t.srcCoords,a=[],s=[],l=!0,u=0;u<4;u++){var c=e[u].getBoundingClientRect(),d=2*u,f=c.left,p=c.top;a.push(f,p),l=l&&i&&f===i[d]&&p===i[d+1],s.push(e[u].offsetLeft,e[u].offsetTop)}return l&&o?o:(t.srcCoords=a,t[r]=n?dt(s,a):dt(a,s))}function yt(e){return"CANVAS"===e.nodeName.toUpperCase()}var bt="undefined"!==typeof window&&!!window.addEventListener,xt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wt=[];function _t(e,t,n,r){return n=n||{},r||!C.canvasSupported?Ct(e,t,n):C.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):Ct(e,t,n),n}function Ct(e,t,n){if(C.domSupported&&e.getBoundingClientRect){var r=t.clientX,o=t.clientY;if(yt(e)){var i=e.getBoundingClientRect();return n.zrX=r-i.left,void(n.zrY=o-i.top)}if(mt(wt,e,r,o))return n.zrX=wt[0],void(n.zrY=wt[1])}n.zrX=n.zrY=0}function St(e){return e||window.event}function kt(e,t,n){if(t=St(t),null!=t.zrX)return t;var r=t.type,o=r&&r.indexOf("touch")>=0;if(o){var i="touchend"!==r?t.targetTouches[0]:t.changedTouches[0];i&&_t(e,i,t,n)}else{_t(e,t,t,n);var a=Ot(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var s=t.button;return null==t.which&&void 0!==s&&xt.test(t.type)&&(t.which=1&s?1:2&s?3:4&s?2:0),t}function Ot(e){var t=e.wheelDelta;if(t)return t;var n=e.deltaX,r=e.deltaY;if(null==n||null==r)return t;var o=0!==r?Math.abs(r):Math.abs(n),i=r>0?-1:r<0?1:n>0?-1:1;return 3*o*i}function Tt(e,t,n,r){bt?e.addEventListener(t,n,r):e.attachEvent("on"+t,n)}function Mt(e,t,n,r){bt?e.removeEventListener(t,n,r):e.detachEvent("on"+t,n)}var Dt=bt?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};function It(e){return 2===e.which||3===e.which}var Et=function(){function e(){this._track=[]}return e.prototype.recognize=function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(e,t,n){var r=e.touches;if(r){for(var o={points:[],touches:[],target:t,event:e},i=0,a=r.length;i<a;i++){var s=r[i],l=_t(n,s,{});o.points.push([l.zrX,l.zrY]),o.touches.push(s)}this._track.push(o)}},e.prototype._recognize=function(e){for(var t in jt)if(jt.hasOwnProperty(t)){var n=jt[t](this._track,e);if(n)return n}},e}();function At(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function Lt(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var jt={pinch:function(e,t){var n=e.length;if(n){var r=(e[n-1]||{}).points,o=(e[n-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var i=At(r)/At(o);!isFinite(i)&&(i=1),t.pinchScale=i;var a=Lt(r);return t.pinchX=a[0],t.pinchY=a[1],{type:"pinch",target:e[0].target,event:t}}}}},Nt="silent";function Pt(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:Rt}}function Rt(){Dt(this.event)}var Bt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handler=null,t}return g(t,e),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(lt),Ft=function(){function e(e,t){this.x=e,this.y=t}return e}(),zt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Vt=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i._hovered=new Ft(0,0),i.storage=t,i.painter=n,i.painterRoot=o,r=r||new Bt,i.proxy=null,i.setHandlerProxy(r),i._draggingMgr=new at(i),i}return g(t,e),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(K(zt,(function(t){e.on&&e.on(t,this[t],this)}),this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var t=e.zrX,n=e.zrY,r=Ut(this,t,n),o=this._hovered,i=o.target;i&&!i.__zr&&(o=this.findHover(o.x,o.y),i=o.target);var a=this._hovered=r?new Ft(t,n):this.findHover(t,n),s=a.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),i&&s!==i&&this.dispatchToElement(o,"mouseout",e),this.dispatchToElement(a,"mousemove",e),s&&s!==i&&this.dispatchToElement(a,"mouseover",e)},t.prototype.mouseout=function(e){var t=e.zrEventControl;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new Ft(0,0)},t.prototype.dispatch=function(e,t){var n=this[e];n&&n.call(this,t)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},t.prototype.dispatchToElement=function(e,t,n){e=e||{};var r=e.target;if(!r||!r.silent){var o="on"+t,i=Pt(t,e,n);while(r)if(r[o]&&(i.cancelBubble=!!r[o].call(r,i)),r.trigger(t,i),r=r.__hostTarget?r.__hostTarget:r.parent,i.cancelBubble)break;i.cancelBubble||(this.trigger(t,i),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(e){"function"===typeof e[o]&&e[o].call(e,i),e.trigger&&e.trigger(t,i)})))}},t.prototype.findHover=function(e,t,n){for(var r=this.storage.getDisplayList(),o=new Ft(e,t),i=r.length-1;i>=0;i--){var a=void 0;if(r[i]!==n&&!r[i].ignore&&(a=Ht(r[i],e,t))&&(!o.topTarget&&(o.topTarget=r[i]),a!==Nt)){o.target=r[i];break}}return o},t.prototype.processGesture=function(e,t){this._gestureMgr||(this._gestureMgr=new Et);var n=this._gestureMgr;"start"===t&&n.clear();var r=n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&n.clear(),r){var o=r.type;e.gestureEvent=o;var i=new Ft;i.target=r.target,this.dispatchToElement(i,o,r.event)}},t}(lt);function Ht(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){var r=e,o=void 0,i=!1;while(r){if(r.ignoreClip&&(i=!0),!i){var a=r.getClipPath();if(a&&!a.contain(t,n))return!1;r.silent&&(o=!0)}var s=r.__hostTarget;r=s||r.parent}return!o||Nt}return!1}function Ut(e,t,n){var r=e.painter;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}K(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(e){Vt.prototype[e]=function(t){var n,r,o=t.zrX,i=t.zrY,a=Ut(this,o,i);if("mouseup"===e&&a||(n=this.findHover(o,i),r=n.target),"mousedown"===e)this._downEl=r,this._downPoint=[t.zrX,t.zrY],this._upEl=r;else if("mouseup"===e)this._upEl=r;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||Xe(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}}));var $t=Vt;function qt(){return[1,0,0,1,0,0]}function Wt(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Gt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Yt(e,t,n){var r=t[0]*n[0]+t[2]*n[1],o=t[1]*n[0]+t[3]*n[1],i=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=l,e}function Kt(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function Xt(e,t,n){var r=t[0],o=t[2],i=t[4],a=t[1],s=t[3],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*u,e[1]=-r*u+a*c,e[2]=o*c+s*u,e[3]=-o*u+c*s,e[4]=c*i+u*l,e[5]=c*l-u*i,e}function Jt(e,t,n){var r=n[0],o=n[1];return e[0]=t[0]*r,e[1]=t[1]*o,e[2]=t[2]*r,e[3]=t[3]*o,e[4]=t[4]*r,e[5]=t[5]*o,e}function Zt(e,t){var n=t[0],r=t[2],o=t[4],i=t[1],a=t[3],s=t[5],l=n*a-i*r;return l?(l=1/l,e[0]=a*l,e[1]=-i*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*s-a*o)*l,e[5]=(i*o-n*s)*l,e):null}function Qt(e){var t=qt();return Gt(t,e),t}var en=Wt,tn=5e-5;function nn(e){return e>tn||e<-tn}var rn=[],on=[],an=qt(),sn=Math.abs,ln=function(){function e(){}return e.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},e.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},e.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},e.prototype.needLocalTransform=function(){return nn(this.rotation)||nn(this.x)||nn(this.y)||nn(this.scaleX-1)||nn(this.scaleY-1)},e.prototype.updateTransform=function(){var e=this.parent,t=e&&e.transform,n=this.needLocalTransform(),r=this.transform;n||t?(r=r||qt(),n?this.getLocalTransform(r):en(r),t&&(n?Yt(r,e.transform,r):Gt(r,e.transform)),this.transform=r,this._resolveGlobalScaleRatio(r)):r&&en(r)},e.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(rn);var n=rn[0]<0?-1:1,r=rn[1]<0?-1:1,o=((rn[0]-n)*t+n)/rn[0]||0,i=((rn[1]-r)*t+r)/rn[1]||0;e[0]*=o,e[1]*=o,e[2]*=i,e[3]*=i}this.invTransform=this.invTransform||qt(),Zt(this.invTransform,e)},e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.getComputedTransform=function(){var e=this,t=[];while(e)t.push(e),e=e.parent;while(e=t.pop())e.updateTransform();return this.transform},e.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3];nn(t-1)&&(t=Math.sqrt(t)),nn(n-1)&&(n=Math.sqrt(n)),e[0]<0&&(t=-t),e[3]<0&&(n=-n),this.rotation=Math.atan2(-e[1]/n,e[0]/t),t<0&&n<0&&(this.rotation+=Math.PI,t=-t,n=-n),this.x=e[4],this.y=e[5],this.scaleX=t,this.scaleY=n}},e.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Yt(on,e.invTransform,t),t=on);var n=this.originX,r=this.originY;(n||r)&&(an[4]=n,an[5]=r,Yt(on,t,an),on[4]-=n,on[5]-=r,t=on),this.setLocalTransform(t)}},e.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},e.prototype.transformCoordToLocal=function(e,t){var n=[e,t],r=this.invTransform;return r&&tt(n,n,r),n},e.prototype.transformCoordToGlobal=function(e,t){var n=[e,t],r=this.transform;return r&&tt(n,n,r),n},e.prototype.getLineScale=function(){var e=this.transform;return e&&sn(e[0]-1)>1e-10&&sn(e[3]-1)>1e-10?Math.sqrt(sn(e[0]*e[3]-e[2]*e[1])):1},e.getLocalTransform=function(e,t){t=t||[],en(t);var n=e.originX||0,r=e.originY||0,o=e.scaleX,i=e.scaleY,a=e.rotation||0,s=e.x,l=e.y;return t[4]-=n,t[5]-=r,t[0]*=o,t[1]*=i,t[2]*=o,t[3]*=i,t[4]*=o,t[5]*=i,a&&Xt(t,t,a),t[4]+=n,t[5]+=r,t[4]+=s,t[5]+=l,t},e.initDefaultProps=function(){var t=e.prototype;t.x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.originX=0,t.originY=0,t.rotation=0,t.globalScaleRatio=1}(),e}(),un=ln,cn={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r))},elasticOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/r)+1)},elasticInOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-cn.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*cn.bounceIn(2*e):.5*cn.bounceOut(2*e-1)+.5}},dn=cn,fn=function(){function e(e){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart}return e.prototype.step=function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),!this._paused){var n=(e-this._startTime-this._pausedTime)/this._life;n<0&&(n=0),n=Math.min(n,1);var r=this.easing,o="string"===typeof r?dn[r]:r,i="function"===typeof o?o(n):n;if(this.onframe&&this.onframe(i),1===n){if(!this.loop)return!0;this._restart(e),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=t},e.prototype._restart=function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e}(),pn=fn,hn=function(){function e(e){this.value=e}return e}(),mn=function(){function e(){this._len=0}return e.prototype.insert=function(e){var t=new hn(e);return this.insertEntry(t),t},e.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},e.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),gn=function(){function e(e){this._list=new mn,this._maxSize=10,this._map={},this._maxSize=e}return e.prototype.put=function(e,t){var n=this._list,r=this._map,o=null;if(null==r[e]){var i=n.len(),a=this._lastRemovedEntry;if(i>=this._maxSize&&i>0){var s=n.head;n.remove(s),delete r[s.key],o=s.value,this._lastRemovedEntry=s}a?a.value=t:a=new hn(t),a.key=e,n.insertEntry(a),r[e]=a}return o},e.prototype.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),vn=gn,yn={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function bn(e){return e=Math.round(e),e<0?0:e>255?255:e}function xn(e){return e=Math.round(e),e<0?0:e>360?360:e}function wn(e){return e<0?0:e>1?1:e}function _n(e){var t=e;return t.length&&"%"===t.charAt(t.length-1)?bn(parseFloat(t)/100*255):bn(parseInt(t,10))}function Cn(e){var t=e;return t.length&&"%"===t.charAt(t.length-1)?wn(parseFloat(t)/100):wn(parseFloat(t))}function Sn(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function kn(e,t,n){return e+(t-e)*n}function On(e,t,n,r,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e}function Tn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var Mn=new vn(20),Dn=null;function In(e,t){Dn&&Tn(Dn,t),Dn=Mn.put(e,Dn||t.slice())}function En(e,t){if(e){t=t||[];var n=Mn.get(e);if(n)return Tn(t,n);e+="";var r=e.replace(/ /g,"").toLowerCase();if(r in yn)return Tn(t,yn[r]),In(e,t),t;var o=r.length;if("#"!==r.charAt(0)){var i=r.indexOf("("),a=r.indexOf(")");if(-1!==i&&a+1===o){var s=r.substr(0,i),l=r.substr(i+1,a-(i+1)).split(","),u=1;switch(s){case"rgba":if(4!==l.length)return 3===l.length?On(t,+l[0],+l[1],+l[2],1):On(t,0,0,0,1);u=Cn(l.pop());case"rgb":return 3!==l.length?void On(t,0,0,0,1):(On(t,_n(l[0]),_n(l[1]),_n(l[2]),u),In(e,t),t);case"hsla":return 4!==l.length?void On(t,0,0,0,1):(l[3]=Cn(l[3]),An(l,t),In(e,t),t);case"hsl":return 3!==l.length?void On(t,0,0,0,1):(An(l,t),In(e,t),t);default:return}}On(t,0,0,0,1)}else{if(4===o||5===o){var c=parseInt(r.slice(1,4),16);return c>=0&&c<=4095?(On(t,(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,5===o?parseInt(r.slice(4),16)/15:1),In(e,t),t):void On(t,0,0,0,1)}if(7===o||9===o){c=parseInt(r.slice(1,7),16);return c>=0&&c<=16777215?(On(t,(16711680&c)>>16,(65280&c)>>8,255&c,9===o?parseInt(r.slice(7),16)/255:1),In(e,t),t):void On(t,0,0,0,1)}}}}function An(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=Cn(e[1]),o=Cn(e[2]),i=o<=.5?o*(r+1):o+r-o*r,a=2*o-i;return t=t||[],On(t,bn(255*Sn(a,i,n+1/3)),bn(255*Sn(a,i,n)),bn(255*Sn(a,i,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function Ln(e){if(e){var t,n,r=e[0]/255,o=e[1]/255,i=e[2]/255,a=Math.min(r,o,i),s=Math.max(r,o,i),l=s-a,u=(s+a)/2;if(0===l)t=0,n=0;else{n=u<.5?l/(s+a):l/(2-s-a);var c=((s-r)/6+l/2)/l,d=((s-o)/6+l/2)/l,f=((s-i)/6+l/2)/l;r===s?t=f-d:o===s?t=1/3+c-f:i===s&&(t=2/3+d-c),t<0&&(t+=1),t>1&&(t-=1)}var p=[360*t,n,u];return null!=e[3]&&p.push(e[3]),p}}function jn(e,t){var n=En(e);if(n){for(var r=0;r<3;r++)n[r]=t<0?n[r]*(1-t)|0:(255-n[r])*t+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return Hn(n,4===n.length?"rgba":"rgb")}}function Nn(e){var t=En(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function Pn(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var r=e*(t.length-1),o=Math.floor(r),i=Math.ceil(r),a=t[o],s=t[i],l=r-o;return n[0]=bn(kn(a[0],s[0],l)),n[1]=bn(kn(a[1],s[1],l)),n[2]=bn(kn(a[2],s[2],l)),n[3]=wn(kn(a[3],s[3],l)),n}}var Rn=Pn;function Bn(e,t,n){if(t&&t.length&&e>=0&&e<=1){var r=e*(t.length-1),o=Math.floor(r),i=Math.ceil(r),a=En(t[o]),s=En(t[i]),l=r-o,u=Hn([bn(kn(a[0],s[0],l)),bn(kn(a[1],s[1],l)),bn(kn(a[2],s[2],l)),wn(kn(a[3],s[3],l))],"rgba");return n?{color:u,leftIndex:o,rightIndex:i,value:r}:u}}var Fn=Bn;function zn(e,t,n,r){var o=En(e);if(e)return o=Ln(o),null!=t&&(o[0]=xn(t)),null!=n&&(o[1]=Cn(n)),null!=r&&(o[2]=Cn(r)),Hn(An(o),"rgba")}function Vn(e,t){var n=En(e);if(n&&null!=t)return n[3]=wn(t),Hn(n,"rgba")}function Hn(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}function Un(e,t){var n=En(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}function $n(){var e=Math.round(255*Math.random()),t=Math.round(255*Math.random()),n=Math.round(255*Math.random());return"rgb("+e+","+t+","+n+")"}var qn=Array.prototype.slice;function Wn(e,t,n){return(t-e)*n+e}function Gn(e,t,n){return n>.5?t:e}function Yn(e,t,n,r){for(var o=t.length,i=0;i<o;i++)e[i]=Wn(t[i],n[i],r)}function Kn(e,t,n,r){for(var o=t.length,i=o&&t[0].length,a=0;a<o;a++){e[a]||(e[a]=[]);for(var s=0;s<i;s++)e[a][s]=Wn(t[a][s],n[a][s],r)}}function Xn(e,t,n,r){for(var o=t.length,i=0;i<o;i++)e[i]=t[i]+n[i]*r;return e}function Jn(e,t,n,r){for(var o=t.length,i=o&&t[0].length,a=0;a<o;a++){e[a]||(e[a]=[]);for(var s=0;s<i;s++)e[a][s]=t[a][s]+n[a][s]*r}return e}function Zn(e,t,n){var r=e,o=t;if(r.push&&o.push){var i=r.length,a=o.length;if(i!==a){var s=i>a;if(s)r.length=a;else for(var l=i;l<a;l++)r.push(1===n?o[l]:qn.call(o[l]))}var u=r[0]&&r[0].length;for(l=0;l<r.length;l++)if(1===n)isNaN(r[l])&&(r[l]=o[l]);else for(var c=0;c<u;c++)isNaN(r[l][c])&&(r[l][c]=o[l][c])}}function Qn(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function er(e,t,n,r,o,i,a){var s=.5*(n-e),l=.5*(r-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*i+s*o+t}function tr(e,t,n,r,o,i,a,s){for(var l=t.length,u=0;u<l;u++)e[u]=er(t[u],n[u],r[u],o[u],i,a,s)}function nr(e,t,n,r,o,i,a,s){for(var l=t.length,u=t[0].length,c=0;c<l;c++){e[c]||(e[1]=[]);for(var d=0;d<u;d++)e[c][d]=er(t[c][d],n[c][d],r[c][d],o[c][d],i,a,s)}}function rr(e){if(Y(e)){var t=e.length;if(Y(e[0])){for(var n=[],r=0;r<t;r++)n.push(qn.call(e[r]));return n}return qn.call(e)}return e}function or(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function ir(e){return Y(e&&e[0])?2:1}var ar,sr,lr=[0,0,0,0],ur=function(){function e(e){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=e}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(e,t){e>=this.maxTime?this.maxTime=e:this._needsSort=!0;var n=this.keyframes,r=n.length;if(this.interpolable)if(Y(t)){var o=ir(t);if(r>0&&this.arrDim!==o)return void(this.interpolable=!1);if(1===o&&"number"!==typeof t[0]||2===o&&"number"!==typeof t[0][0])return void(this.interpolable=!1);if(r>0){var i=n[r-1];this._isAllValueEqual&&(1===o&&Qn(t,i.value)||(this._isAllValueEqual=!1))}this.arrDim=o}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"===typeof t){var a=En(t);a?(t=a,this.isValueColor=!0):this.interpolable=!1}else if("number"!==typeof t)return void(this.interpolable=!1);if(this._isAllValueEqual&&r>0){i=n[r-1];(this.isValueColor&&!Qn(i.value,t)||i.value!==t)&&(this._isAllValueEqual=!1)}}var s={time:e,value:t,percent:0};return this.keyframes.push(s),s},e.prototype.prepare=function(e){var t=this.keyframes;this._needsSort&&t.sort((function(e,t){return e.time-t.time}));for(var n=this.arrDim,r=t.length,o=t[r-1],i=0;i<r;i++)t[i].percent=t[i].time/this.maxTime,n>0&&i!==r-1&&Zn(t[i].value,o.value,n);if(e&&this.needsAnimate()&&e.needsAnimate()&&n===e.arrDim&&this.isValueColor===e.isValueColor&&!e._finished){this._additiveTrack=e;var a=t[0].value;for(i=0;i<r;i++)0===n?this.isValueColor?t[i].additiveValue=Xn([],t[i].value,a,-1):t[i].additiveValue=t[i].value-a:1===n?t[i].additiveValue=Xn([],t[i].value,a,-1):2===n&&(t[i].additiveValue=Jn([],t[i].value,a,-1))}},e.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,r=null!=this._additiveTrack,o=r?"additiveValue":"value",i=this.keyframes,a=this.keyframes.length,s=this.propName,l=this.arrDim,u=this.isValueColor;if(t<0)n=0;else if(t<this._lastFramePercent){var c=Math.min(this._lastFrame+1,a-1);for(n=c;n>=0;n--)if(i[n].percent<=t)break;n=Math.min(n,a-2)}else{for(n=this._lastFrame;n<a;n++)if(i[n].percent>t)break;n=Math.min(n-1,a-2)}var d=i[n+1],f=i[n];if(f&&d){this._lastFrame=n,this._lastFramePercent=t;var p=d.percent-f.percent;if(0!==p){var h=(t-f.percent)/p,m=r?this._additiveValue:u?lr:e[s];if((l>0||u)&&!m&&(m=this._additiveValue=[]),this.useSpline){var g=i[n][o],v=i[0===n?n:n-1][o],y=i[n>a-2?a-1:n+1][o],b=i[n>a-3?a-1:n+2][o];if(l>0)1===l?tr(m,v,g,y,b,h,h*h,h*h*h):nr(m,v,g,y,b,h,h*h,h*h*h);else if(u)tr(m,v,g,y,b,h,h*h,h*h*h),r||(e[s]=or(m));else{var x=void 0;x=this.interpolable?er(v,g,y,b,h,h*h,h*h*h):y,r?this._additiveValue=x:e[s]=x}}else if(l>0)1===l?Yn(m,f[o],d[o],h):Kn(m,f[o],d[o],h);else if(u)Yn(m,f[o],d[o],h),r||(e[s]=or(m));else{x=void 0;x=this.interpolable?Wn(f[o],d[o],h):Gn(f[o],d[o],h),r?this._additiveValue=x:e[s]=x}r&&this._addToTarget(e)}}}},e.prototype._addToTarget=function(e){var t=this.arrDim,n=this.propName,r=this._additiveValue;0===t?this.isValueColor?(En(e[n],lr),Xn(lr,lr,r,1),e[n]=or(lr)):e[n]=e[n]+r:1===t?Xn(e[n],e[n],r,1):2===t&&Jn(e[n],e[n],r,1)},e}(),cr=function(){function e(e,t,n){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&n?B("Can' use additive animation on looped animation."):this._additiveAnimators=n}return e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(e){this._target=e},e.prototype.when=function(e,t){return this.whenWithKeys(e,t,ee(t))},e.prototype.whenWithKeys=function(e,t,n){for(var r=this._tracks,o=0;o<n.length;o++){var i=n[o],a=r[i];if(!a){a=r[i]=new ur(i);var s=void 0,l=this._getAdditiveTrack(i);if(l){var u=l.keyframes[l.keyframes.length-1];s=u&&u.value,l.isValueColor&&s&&(s=or(s))}else s=this._target[i];if(null==s)continue;0!==e&&a.addKeyframe(0,rr(s)),this._trackKeys.push(i)}a.addKeyframe(e,rr(t[i]))}return this._maxTime=Math.max(this._maxTime,e),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneList;if(e)for(var t=e.length,n=0;n<t;n++)e[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedList;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var n=0;n<t.length;n++)t[n].call(this)},e.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,n=0;n<t.length;n++)e[t[n]].setFinished()},e.prototype._getAdditiveTrack=function(e){var t,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var o=n[r].getTrack(e);o&&(t=o)}return t},e.prototype.start=function(e,t){if(!(this._started>0)){this._started=1;for(var n=this,r=[],o=0;o<this._trackKeys.length;o++){var i=this._trackKeys[o],a=this._tracks[i],s=this._getAdditiveTrack(i),l=a.keyframes;if(a.prepare(s),a.needsAnimate())r.push(a);else if(!a.interpolable){var u=l[l.length-1];u&&(n._target[a.propName]=u.value)}}if(r.length||t){var c=new pn({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(e){n._started=2;var t=n._additiveAnimators;if(t){for(var o=!1,i=0;i<t.length;i++)if(t[i]._clip){o=!0;break}o||(n._additiveAnimators=null)}for(i=0;i<r.length;i++)r[i].step(n._target,e);var a=n._onframeList;if(a)for(i=0;i<a.length;i++)a[i](n._target,e)},ondestroy:function(){n._doneCallback()}});this._clip=c,this.animation&&this.animation.addClip(c),e&&"spline"!==e&&(c.easing=e)}else this._doneCallback();return this}},e.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},e.prototype.delay=function(e){return this._delay=e,this},e.prototype.during=function(e){return e&&(this._onframeList||(this._onframeList=[]),this._onframeList.push(e)),this},e.prototype.done=function(e){return e&&(this._doneList||(this._doneList=[]),this._doneList.push(e)),this},e.prototype.aborted=function(e){return e&&(this._abortedList||(this._abortedList=[]),this._abortedList.push(e)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(e){return this._tracks[e]},e.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,o=0;o<e.length;o++){var i=n[e[o]];i&&(t?i.step(this._target,1):1===this._started&&i.step(this._target,0),i.setFinished())}var a=!0;for(o=0;o<r.length;o++)if(!n[r[o]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},e.prototype.saveFinalToTarget=function(e,t){if(e){t=t||this._trackKeys;for(var n=0;n<t.length;n++){var r=t[n],o=this._tracks[r];if(o&&!o.isFinished()){var i=o.keyframes,a=i[i.length-1];if(a){var s=rr(a.value);o.isValueColor&&(s=or(s)),e[r]=s}}}}},e.prototype.__changeFinalValue=function(e,t){t=t||ee(e);for(var n=0;n<t.length;n++){var r=t[n],o=this._tracks[r];if(o){var i=o.keyframes;if(i.length>1){var a=i.pop();o.addKeyframe(a.time,e[r]),o.prepare(o.getAdditiveTrack())}}}},e}(),dr=cr,fr=function(){function e(e,t){this.x=e||0,this.y=t||0}return e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.scale=function(e){this.x*=e,this.y*=e},e.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},e.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},e.prototype.distanceSquare=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(e){if(e){var t=this.x,n=this.y;return this.x=e[0]*t+e[2]*n+e[4],this.y=e[1]*t+e[3]*n+e[5],this}},e.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},e.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},e.set=function(e,t,n){e.x=t,e.y=n},e.copy=function(e,t){e.x=t.x,e.y=t.y},e.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.lenSquare=function(e){return e.x*e.x+e.y*e.y},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.add=function(e,t,n){e.x=t.x+n.x,e.y=t.y+n.y},e.sub=function(e,t,n){e.x=t.x-n.x,e.y=t.y-n.y},e.scale=function(e,t,n){e.x=t.x*n,e.y=t.y*n},e.scaleAndAdd=function(e,t,n,r){e.x=t.x+n.x*r,e.y=t.y+n.y*r},e.lerp=function(e,t,n,r){var o=1-r;e.x=o*t.x+r*n.x,e.y=o*t.y+r*n.y},e}(),pr=fr,hr=Math.min,mr=Math.max,gr=new pr,vr=new pr,yr=new pr,br=new pr,xr=new pr,wr=new pr,_r=function(){function e(e,t,n,r){n<0&&isFinite(n)&&(e+=n,n=-n),r<0&&isFinite(r)&&(t+=r,r=-r),this.x=e,this.y=t,this.width=n,this.height=r}return e.prototype.union=function(e){var t=hr(e.x,this.x),n=hr(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mr(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=mr(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=t,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(e){var t=this,n=e.width/t.width,r=e.height/t.height,o=qt();return Kt(o,o,[-t.x,-t.y]),Jt(o,o,[n,r]),Kt(o,o,[e.x,e.y]),o},e.prototype.intersect=function(t,n){if(!t)return!1;t instanceof e||(t=e.create(t));var r=this,o=r.x,i=r.x+r.width,a=r.y,s=r.y+r.height,l=t.x,u=t.x+t.width,c=t.y,d=t.y+t.height,f=!(i<l||u<o||s<c||d<a);if(n){var p=1/0,h=0,m=Math.abs(i-l),g=Math.abs(u-o),v=Math.abs(s-c),y=Math.abs(d-a),b=Math.min(m,g),x=Math.min(v,y);i<l||u<o?b>h&&(h=b,m<g?pr.set(wr,-m,0):pr.set(wr,g,0)):b<p&&(p=b,m<g?pr.set(xr,m,0):pr.set(xr,-g,0)),s<c||d<a?x>h&&(h=x,v<y?pr.set(wr,0,-v):pr.set(wr,0,y)):b<p&&(p=b,v<y?pr.set(xr,0,v):pr.set(xr,0,-y))}return n&&pr.copy(n,f?xr:wr),f},e.prototype.contain=function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return 0===this.width||0===this.height},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},e.applyTransform=function(t,n,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var o=r[0],i=r[3],a=r[4],s=r[5];return t.x=n.x*o+a,t.y=n.y*i+s,t.width=n.width*o,t.height=n.height*i,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}gr.x=yr.x=n.x,gr.y=br.y=n.y,vr.x=br.x=n.x+n.width,vr.y=yr.y=n.y+n.height,gr.transform(r),br.transform(r),vr.transform(r),yr.transform(r),t.x=hr(gr.x,vr.x,yr.x,br.x),t.y=hr(gr.y,vr.y,yr.y,br.y);var l=mr(gr.x,vr.x,yr.x,br.x),u=mr(gr.y,vr.y,yr.y,br.y);t.width=l-t.x,t.height=u-t.y}else t!==n&&e.copy(t,n)},e}(),Cr=_r,Sr={},kr="12px sans-serif";function Or(e,t){return ar||(ar=$().getContext("2d")),sr!==t&&(sr=ar.font=t||kr),ar.measureText(e)}var Tr={measureText:Or};function Mr(e,t){t=t||kr;var n=Sr[t];n||(n=Sr[t]=new vn(500));var r=n.get(e);return null==r&&(r=Tr.measureText(e,t).width,n.put(e,r)),r}function Dr(e,t,n,r){var o=Mr(e,t),i=Lr(t),a=Er(0,o,n),s=Ar(0,i,r),l=new Cr(a,s,o,i);return l}function Ir(e,t,n,r){var o=((e||"")+"").split("\n"),i=o.length;if(1===i)return Dr(o[0],t,n,r);for(var a=new Cr(0,0,0,0),s=0;s<o.length;s++){var l=Dr(o[s],t,n,r);0===s?a.copy(l):a.union(l)}return a}function Er(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function Ar(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function Lr(e){return Mr("国",e)}function jr(e,t){return"string"===typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function Nr(e,t,n){var r=t.position||"inside",o=null!=t.distance?t.distance:5,i=n.height,a=n.width,s=i/2,l=n.x,u=n.y,c="left",d="top";if(r instanceof Array)l+=jr(r[0],n.width),u+=jr(r[1],n.height),c=null,d=null;else switch(r){case"left":l-=o,u+=s,c="right",d="middle";break;case"right":l+=o+a,u+=s,d="middle";break;case"top":l+=a/2,u-=o,c="center",d="bottom";break;case"bottom":l+=a/2,u+=i+o,c="center";break;case"inside":l+=a/2,u+=s,c="center",d="middle";break;case"insideLeft":l+=o,u+=s,d="middle";break;case"insideRight":l+=a-o,u+=s,c="right",d="middle";break;case"insideTop":l+=a/2,u+=o,c="center";break;case"insideBottom":l+=a/2,u+=i-o,c="center",d="bottom";break;case"insideTopLeft":l+=o,u+=o;break;case"insideTopRight":l+=a-o,u+=o,c="right";break;case"insideBottomLeft":l+=o,u+=i-o,d="bottom";break;case"insideBottomRight":l+=a-o,u+=i-o,c="right",d="bottom";break}return e=e||{},e.x=l,e.y=u,e.align=c,e.verticalAlign=d,e}var Pr=1;"undefined"!==typeof window&&(Pr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Rr=Pr,Br=.4,Fr="#333",zr="#ccc",Vr="#eee",Hr="__zr_normal__",Ur=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],$r={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},qr={},Wr=new Cr(0,0,0,0),Gr=function(){function e(e){this.id=R(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return e.prototype._init=function(e){this.attr(e)},e.prototype.drift=function(e,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,o=t.attachedTransform,i=void 0,a=void 0,s=!1;o.parent=r?this:null;var l=!1;if(o.x=t.x,o.y=t.y,o.originX=t.originX,o.originY=t.originY,o.rotation=t.rotation,o.scaleX=t.scaleX,o.scaleY=t.scaleY,null!=n.position){var u=Wr;n.layoutRect?u.copy(n.layoutRect):u.copy(this.getBoundingRect()),r||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(qr,n,u):Nr(qr,n,u),o.x=qr.x,o.y=qr.y,i=qr.align,a=qr.verticalAlign;var c=n.origin;if(c&&null!=n.rotation){var d=void 0,f=void 0;"center"===c?(d=.5*u.width,f=.5*u.height):(d=jr(c[0],u.width),f=jr(c[1],u.height)),l=!0,o.originX=-o.x+d+(r?0:u.x),o.originY=-o.y+f+(r?0:u.y)}}null!=n.rotation&&(o.rotation=n.rotation);var p=n.offset;p&&(o.x+=p[0],o.y+=p[1],l||(o.originX=-p[0],o.originY=-p[1]));var h=null==n.inside?"string"===typeof n.position&&n.position.indexOf("inside")>=0:n.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),g=void 0,v=void 0,y=void 0;h&&this.canBeInsideText()?(g=n.insideFill,v=n.insideStroke,null!=g&&"auto"!==g||(g=this.getInsideTextFill()),null!=v&&"auto"!==v||(v=this.getInsideTextStroke(g),y=!0)):(g=n.outsideFill,v=n.outsideStroke,null!=g&&"auto"!==g||(g=this.getOutsideFill()),null!=v&&"auto"!==v||(v=this.getOutsideStroke(g),y=!0)),g=g||"#000",g===m.fill&&v===m.stroke&&y===m.autoStroke&&i===m.align&&a===m.verticalAlign||(s=!0,m.fill=g,m.stroke=v,m.autoStroke=y,m.align=i,m.verticalAlign=a,t.setDefaultTextStyle(m)),s&&t.dirtyStyle(),t.markRedraw()}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(e){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?zr:Fr},e.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),n="string"===typeof t&&En(t);n||(n=[255,255,255,1]);for(var r=n[3],o=this.__zr.isDarkMode(),i=0;i<3;i++)n[i]=n[i]*r+(o?0:255)*(1-r);return n[3]=1,Hn(n,"rgba")},e.prototype.traverse=function(e,t){},e.prototype.attrKV=function(e,t){"textConfig"===e?this.setTextConfig(t):"textContent"===e?this.setTextContent(t):"clipPath"===e?this.setClipPath(t):"extra"===e?(this.extra=this.extra||{},H(this.extra,t)):this[e]=t},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(e,t){if("string"===typeof e)this.attrKV(e,t);else if(ue(e))for(var n=e,r=ee(n),o=0;o<r.length;o++){var i=r[o];this.attrKV(i,e[i])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],o=r.__fromStateTransition;if(!o||o===Hr){var i=r.targetName,a=i?t[i]:t;r.saveFinalToTarget(a)}}},e.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,Ur)},e.prototype._savePrimaryToNormal=function(e,t,n){for(var r=0;r<n.length;r++){var o=n[r];null==e[o]||o in t||(t[o]=this[o])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(e){return this.states[e]},e.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},e.prototype.clearStates=function(e){this.useState(Hr,!1,e)},e.prototype.useState=function(t,n,r){var o=t===Hr,i=this.hasState();if(i||!o){var a=this.currentStates,s=this.stateTransition;if(!(q(a,t)>=0)||!n&&1!==a.length){var l;if(this.stateProxy&&!o&&(l=this.stateProxy(t)),l||(l=this.states&&this.states[t]),l||o){o||this.saveCurrentToNormalState(l);var u=!(!l||!l.hoverLayer);return u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,l,this._normalState,n,!r&&!this.__inHover&&s&&s.duration>0,s),this._textContent&&this._textContent.useState(t,n),this._textGuide&&this._textGuide.useState(t,n),o?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~e.REDARAW_BIT),l}B("State "+t+" not exists.")}}},e.prototype.useStates=function(t,n){if(t.length){var r=[],o=this.currentStates,i=t.length,a=i===o.length;if(a)for(var s=0;s<i;s++)if(t[s]!==o[s]){a=!1;break}if(a)return;for(s=0;s<i;s++){var l=t[s],u=void 0;this.stateProxy&&(u=this.stateProxy(l,t)),u||(u=this.states[l]),u&&r.push(u)}var c=!(!r[i-1]||!r[i-1].hoverLayer);c&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(r),f=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(t.join(","),d,this._normalState,!1,!n&&!this.__inHover&&f&&f.duration>0,f),this._textContent&&this._textContent.useStates(t),this._textGuide&&this._textGuide.useStates(t),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~e.REDARAW_BIT)}else this.clearStates()},e.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},e.prototype.removeState=function(e){var t=q(this.currentStates,e);if(t>=0){var n=this.currentStates.slice();n.splice(t,1),this.useStates(n)}},e.prototype.replaceState=function(e,t,n){var r=this.currentStates.slice(),o=q(r,e),i=q(r,t)>=0;o>=0?i?r.splice(o,1):r[o]=t:n&&!i&&r.push(t),this.useStates(r)},e.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},e.prototype._mergeStates=function(e){for(var t,n={},r=0;r<e.length;r++){var o=e[r];H(n,o),o.textConfig&&(t=t||{},H(t,o.textConfig))}return t&&(n.textConfig=t),n},e.prototype._applyStateObj=function(e,t,n,r,o,i){var a=!(t&&r);t&&t.textConfig?(this.textConfig=H({},r?this.textConfig:n.textConfig),H(this.textConfig,t.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var s={},l=!1,u=0;u<Ur.length;u++){var c=Ur[u],d=o&&$r[c];t&&null!=t[c]?d?(l=!0,s[c]=t[c]):this[c]=t[c]:a&&null!=n[c]&&(d?(l=!0,s[c]=n[c]):this[c]=n[c])}if(!o)for(u=0;u<this.animators.length;u++){var f=this.animators[u],p=f.targetName;f.__changeFinalValue(p?(t||n)[p]:t||n)}l&&this._transitionState(e,s,i)},e.prototype._attachComponent=function(e){if(e.__zr&&!e.__hostTarget)throw new Error("Text element has been added to zrender.");if(e===this)throw new Error("Recursive component attachment.");var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this},e.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},e.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(e){var t=this._textContent;if(t!==e){if(t&&t!==e&&this.removeTextContent(),e.__zr&&!e.__hostTarget)throw new Error("Text element has been added to zrender.");e.attachedTransform=new un,this._attachComponent(e),this._textContent=e,this.markRedraw()}},e.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),H(this.textConfig,e),this.markRedraw()},e.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.attachedTransform=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=e.REDARAW_BIT;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=e),n&&(n.__inHover=e)},e.prototype.addSelfToZr=function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)},e.prototype.removeSelfFromZr=function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)},e.prototype.animate=function(e,t){var n=e?this[e]:this;if(n){var r=new dr(n,t);return this.addAnimator(r,e),r}B('Property "'+e+'" is not existed in element '+this.id)},e.prototype.addAnimator=function(e,t){var n=this.__zr,r=this;e.during((function(){r.updateDuringAnimation(t)})).done((function(){var t=r.animators,n=q(t,e);n>=0&&t.splice(n,1)})),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(e){this.markRedraw()},e.prototype.stopAnimation=function(e,t){for(var n=this.animators,r=n.length,o=[],i=0;i<r;i++){var a=n[i];e&&e!==a.scope?o.push(a):a.stop(t)}return this.animators=o,this},e.prototype.animateTo=function(e,t,n){Yr(this,e,t,n)},e.prototype.animateFrom=function(e,t,n){Yr(this,e,t,n,!0)},e.prototype._transitionState=function(e,t,n,r){for(var o=Yr(this,t,n,r),i=0;i<o.length;i++)o[i].__fromStateTransition=e},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.REDARAW_BIT=1,e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=!1,t.silent=!1,t.isGroup=!1,t.draggable=!1,t.dragging=!1,t.ignoreClip=!1,t.__inHover=!1,t.__dirty=e.REDARAW_BIT;var n={};function r(e,t,r){n[e+t+r]||(n[e+t+r]=!0)}function o(e,n,o,i){function a(e,t){Object.defineProperty(t,0,{get:function(){return e[o]},set:function(t){e[o]=t}}),Object.defineProperty(t,1,{get:function(){return e[i]},set:function(t){e[i]=t}})}Object.defineProperty(t,e,{get:function(){if(r(e,o,i),!this[n]){var t=this[n]=[];a(this,t)}return this[n]},set:function(t){r(e,o,i),this[o]=t[0],this[i]=t[1],this[n]=t,a(this,t)}})}Object.defineProperty&&(!C.browser.ie||C.browser.version>8)&&(o("position","_legacyPos","x","y"),o("scale","_legacyScale","scaleX","scaleY"),o("origin","_legacyOrigin","originX","originY"))}(),e}();function Yr(e,t,n,r,o){n=n||{};var i=[];Zr(e,"",e,t,n,r,i,o);var a=i.length,s=!1,l=n.done,u=n.aborted,c=function(){s=!0,a--,a<=0&&(s?l&&l():u&&u())},d=function(){a--,a<=0&&(s?l&&l():u&&u())};a||l&&l(),i.length>0&&n.during&&i[0].during((function(e,t){n.during(t)}));for(var f=0;f<i.length;f++){var p=i[f];c&&p.done(c),d&&p.aborted(d),p.start(n.easing,n.force)}return i}function Kr(e,t,n){for(var r=0;r<n;r++)e[r]=t[r]}function Xr(e){return Y(e[0])}function Jr(e,t,n){if(Y(t[n]))if(Y(e[n])||(e[n]=[]),de(t[n])){var r=t[n].length;e[n].length!==r&&(e[n]=new t[n].constructor(r),Kr(e[n],t[n],r))}else{var o=t[n],i=e[n],a=o.length;if(Xr(o))for(var s=o[0].length,l=0;l<a;l++)i[l]?Kr(i[l],o[l],s):i[l]=Array.prototype.slice.call(o[l]);else Kr(i,o,a);i.length=o.length}else e[n]=t[n]}function Zr(e,t,n,r,o,i,a,s){for(var l=[],u=[],c=ee(r),d=o.duration,f=o.delay,p=o.additive,h=o.setToFinal,m=!ue(i),g=0;g<c.length;g++){var v=c[g];if(null!=n[v]&&null!=r[v]&&(m||i[v]))if(ue(r[v])&&!Y(r[v])){if(t){s||(n[v]=r[v],e.updateDuringAnimation(t));continue}Zr(e,v,n[v],r[v],o,i&&i[v],a,s)}else l.push(v),u.push(v);else s||(n[v]=r[v],e.updateDuringAnimation(t),u.push(v))}var y=l.length;if(y>0||o.force&&!a.length){for(var b=e.animators,x=[],w=0;w<b.length;w++)b[w].targetName===t&&x.push(b[w]);if(!p&&x.length)for(w=0;w<x.length;w++){var _=x[w].stopTracks(u);if(_){var C=q(b,x[w]);b.splice(C,1)}}var S=void 0,k=void 0,O=void 0;if(s){k={},h&&(S={});for(w=0;w<y;w++){v=l[w];k[v]=n[v],h?S[v]=r[v]:n[v]=r[v]}}else if(h){O={};for(w=0;w<y;w++){v=l[w];O[v]=rr(n[v]),Jr(n,r,v)}}var T=new dr(n,!1,p?x:null);T.targetName=t,o.scope&&(T.scope=o.scope),h&&S&&T.whenWithKeys(0,S,l),O&&T.whenWithKeys(0,O,l),T.whenWithKeys(null==d?500:d,s?k:r,l).delay(f||0),e.addAnimator(T,t),a.push(T)}}G(Gr,lt),G(Gr,un);var Qr=Gr,eo=32,to=7;function no(e){var t=0;while(e>=eo)t|=1&e,e>>=1;return e+t}function ro(e,t,n,r){var o=t+1;if(o===n)return 1;if(r(e[o++],e[t])<0){while(o<n&&r(e[o],e[o-1])<0)o++;oo(e,t,o)}else while(o<n&&r(e[o],e[o-1])>=0)o++;return o-t}function oo(e,t,n){n--;while(t<n){var r=e[t];e[t++]=e[n],e[n--]=r}}function io(e,t,n,r,o){for(r===t&&r++;r<n;r++){var i,a=e[r],s=t,l=r;while(s<l)i=s+l>>>1,o(a,e[i])<0?l=i:s=i+1;var u=r-s;switch(u){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:while(u>0)e[s+u]=e[s+u-1],u--}e[s]=a}}function ao(e,t,n,r,o,i){var a=0,s=0,l=1;if(i(e,t[n+o])>0){s=r-o;while(l<s&&i(e,t[n+o+l])>0)a=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s),a+=o,l+=o}else{s=o+1;while(l<s&&i(e,t[n+o-l])<=0)a=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s);var u=a;a=o-l,l=o-u}a++;while(a<l){var c=a+(l-a>>>1);i(e,t[n+c])>0?a=c+1:l=c}return l}function so(e,t,n,r,o,i){var a=0,s=0,l=1;if(i(e,t[n+o])<0){s=o+1;while(l<s&&i(e,t[n+o-l])<0)a=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s);var u=a;a=o-l,l=o-u}else{s=r-o;while(l<s&&i(e,t[n+o+l])>=0)a=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s),a+=o,l+=o}a++;while(a<l){var c=a+(l-a>>>1);i(e,t[n+c])<0?l=c:a=c+1}return l}function lo(e,t){var n,r,o=to,i=0,a=0;i=e.length;var s=[];function l(e,t){n[a]=e,r[a]=t,a+=1}function u(){while(a>1){var e=a-2;if(e>=1&&r[e-1]<=r[e]+r[e+1]||e>=2&&r[e-2]<=r[e]+r[e-1])r[e-1]<r[e+1]&&e--;else if(r[e]>r[e+1])break;d(e)}}function c(){while(a>1){var e=a-2;e>0&&r[e-1]<r[e+1]&&e--,d(e)}}function d(o){var i=n[o],s=r[o],l=n[o+1],u=r[o+1];r[o]=s+u,o===a-3&&(n[o+1]=n[o+2],r[o+1]=r[o+2]),a--;var c=so(e[l],e,i,s,0,t);i+=c,s-=c,0!==s&&(u=ao(e[i+s-1],e,l,u,u-1,t),0!==u&&(s<=u?f(i,s,l,u):p(i,s,l,u)))}function f(n,r,i,a){var l=0;for(l=0;l<r;l++)s[l]=e[n+l];var u=0,c=i,d=n;if(e[d++]=e[c++],0!==--a)if(1!==r){var f,p,h,m=o;while(1){f=0,p=0,h=!1;do{if(t(e[c],s[u])<0){if(e[d++]=e[c++],p++,f=0,0===--a){h=!0;break}}else if(e[d++]=s[u++],f++,p=0,1===--r){h=!0;break}}while((f|p)<m);if(h)break;do{if(f=so(e[c],s,u,r,0,t),0!==f){for(l=0;l<f;l++)e[d+l]=s[u+l];if(d+=f,u+=f,r-=f,r<=1){h=!0;break}}if(e[d++]=e[c++],0===--a){h=!0;break}if(p=ao(s[u],e,c,a,0,t),0!==p){for(l=0;l<p;l++)e[d+l]=e[c+l];if(d+=p,c+=p,a-=p,0===a){h=!0;break}}if(e[d++]=s[u++],1===--r){h=!0;break}m--}while(f>=to||p>=to);if(h)break;m<0&&(m=0),m+=2}if(o=m,o<1&&(o=1),1===r){for(l=0;l<a;l++)e[d+l]=e[c+l];e[d+a]=s[u]}else{if(0===r)throw new Error;for(l=0;l<r;l++)e[d+l]=s[u+l]}}else{for(l=0;l<a;l++)e[d+l]=e[c+l];e[d+a]=s[u]}else for(l=0;l<r;l++)e[d+l]=s[u+l]}function p(n,r,i,a){var l=0;for(l=0;l<a;l++)s[l]=e[i+l];var u=n+r-1,c=a-1,d=i+a-1,f=0,p=0;if(e[d--]=e[u--],0!==--r)if(1!==a){var h=o;while(1){var m=0,g=0,v=!1;do{if(t(s[c],e[u])<0){if(e[d--]=e[u--],m++,g=0,0===--r){v=!0;break}}else if(e[d--]=s[c--],g++,m=0,1===--a){v=!0;break}}while((m|g)<h);if(v)break;do{if(m=r-so(s[c],e,n,r,r-1,t),0!==m){for(d-=m,u-=m,r-=m,p=d+1,f=u+1,l=m-1;l>=0;l--)e[p+l]=e[f+l];if(0===r){v=!0;break}}if(e[d--]=s[c--],1===--a){v=!0;break}if(g=a-ao(e[u],s,0,a,a-1,t),0!==g){for(d-=g,c-=g,a-=g,p=d+1,f=c+1,l=0;l<g;l++)e[p+l]=s[f+l];if(a<=1){v=!0;break}}if(e[d--]=e[u--],0===--r){v=!0;break}h--}while(m>=to||g>=to);if(v)break;h<0&&(h=0),h+=2}if(o=h,o<1&&(o=1),1===a){for(d-=r,u-=r,p=d+1,f=u+1,l=r-1;l>=0;l--)e[p+l]=e[f+l];e[d]=s[c]}else{if(0===a)throw new Error;for(f=d-(a-1),l=0;l<a;l++)e[f+l]=s[l]}}else{for(d-=r,u-=r,p=d+1,f=u+1,l=r-1;l>=0;l--)e[p+l]=e[f+l];e[d]=s[c]}else for(f=d-(a-1),l=0;l<a;l++)e[f+l]=s[l]}return i<120?5:i<1542?10:i<119151?19:40,n=[],r=[],{mergeRuns:u,forceMergeRuns:c,pushRun:l}}function uo(e,t,n,r){n||(n=0),r||(r=e.length);var o=r-n;if(!(o<2)){var i=0;if(o<eo)return i=ro(e,n,r,t),void io(e,n,r,n+i,t);var a=lo(e,t),s=no(o);do{if(i=ro(e,n,r,t),i<s){var l=o;l>s&&(l=s),io(e,n,n+l,n+i,t),i=l}a.pushRun(n,i),a.mergeRuns(),o-=i,n+=i}while(0!==o);a.forceMergeRuns()}}var co=!1;function fo(){co||(co=!0)}function po(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var ho,mo=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=po}return e.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},e.prototype.getDisplayList=function(e,t){t=t||!1;var n=this._displayList;return!e&&n.length||this.updateDisplayList(t),n},e.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,r=0,o=t.length;r<o;r++)this._updateAndAddDisplayable(t[r],null,e);n.length=this._displayListLen,C.canvasSupported&&uo(n,po)},e.prototype._updateAndAddDisplayable=function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath();if(e.ignoreClip)t=null;else if(r){t=t?t.slice():[];var o=r,i=e;while(o)o.parent=i,o.updateTransform(),t.push(o),i=o,o=o.getClipPath()}if(e.childrenRef){for(var a=e.childrenRef(),s=0;s<a.length;s++){var l=a[s];e.__dirty&&(l.__dirty|=Qr.REDARAW_BIT),this._updateAndAddDisplayable(l,t,n)}e.__dirty=0}else{var u=e;t&&t.length?u.__clipPaths=t:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(fo(),u.z=0),isNaN(u.z2)&&(fo(),u.z2=0),isNaN(u.zlevel)&&(fo(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var c=e.getDecalElement&&e.getDecalElement();c&&this._updateAndAddDisplayable(c,t,n);var d=e.getTextGuideLine();d&&this._updateAndAddDisplayable(d,t,n);var f=e.getTextContent();f&&this._updateAndAddDisplayable(f,t,n)}},e.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},e.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,n=e.length;t<n;t++)this.delRoot(e[t]);else{var r=q(this._roots,e);r>=0&&this._roots.splice(r,1)}},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),go=mo;ho="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var vo=ho,yo=function(e){function t(t){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,t=t||{},n.stage=t.stage||{},n.onframe=t.onframe||function(){},n}return g(t,e),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._clipsHead?(this._clipsTail.next=e,e.prev=this._clipsTail,e.next=null,this._clipsTail=e):this._clipsHead=this._clipsTail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var t=e.getClip();t&&this.addClip(t)},t.prototype.removeClip=function(e){if(e.animation){var t=e.prev,n=e.next;t?t.next=n:this._clipsHead=n,n?n.prev=t:this._clipsTail=t,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var t=e.getClip();t&&this.removeClip(t),e.animation=null},t.prototype.update=function(e){var t=(new Date).getTime()-this._pausedTime,n=t-this._time,r=this._clipsHead;while(r){var o=r.next,i=r.step(t,n);i?(r.ondestroy&&r.ondestroy(),this.removeClip(r),r=o):r=o}this._time=t,e||(this.onframe(n),this.trigger("frame",n),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;function t(){e._running&&(vo(t),!e._paused&&e.update())}this._running=!0,vo(t)},t.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){var e=this._clipsHead;while(e){var t=e.next;e.prev=e.next=e.animation=null,e=t}this._clipsHead=this._clipsTail=null},t.prototype.isFinished=function(){return null==this._clipsHead},t.prototype.animate=function(e,t){t=t||{},this.start();var n=new dr(e,t.loop);return this.addAnimator(n),n},t}(lt),bo=yo,xo=300,wo=C.domSupported,_o=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=X(e,(function(e){var t=e.replace("mouse","pointer");return n.hasOwnProperty(t)?t:e}));return{mouse:e,touch:t,pointer:r}}(),Co={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},So=!1;function ko(e){var t=e.pointerType;return"pen"===t||"touch"===t}function Oo(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout((function(){e.touching=!1,e.touchTimer=null}),700)}function To(e){e&&(e.zrByTouch=!0)}function Mo(e,t){return kt(e.dom,new Io(e,t),!0)}function Do(e,t){var n=t,r=!1;while(n&&9!==n.nodeType&&!(r=n.domBelongToZr||n!==t&&n===e.painterRoot))n=n.parentNode;return r}var Io=function(){function e(e,t){this.stopPropagation=Ae,this.stopImmediatePropagation=Ae,this.preventDefault=Ae,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return e}(),Eo={mousedown:function(e){e=kt(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=kt(this.dom,e);var t=this.__mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=kt(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=kt(this.dom,e);var t=e.toElement||e.relatedTarget;Do(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){So=!0,e=kt(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){So||(e=kt(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=kt(this.dom,e),To(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),Eo.mousemove.call(this,e),Eo.mousedown.call(this,e)},touchmove:function(e){e=kt(this.dom,e),To(e),this.handler.processGesture(e,"change"),Eo.mousemove.call(this,e)},touchend:function(e){e=kt(this.dom,e),To(e),this.handler.processGesture(e,"end"),Eo.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<xo&&Eo.click.call(this,e)},pointerdown:function(e){Eo.mousedown.call(this,e)},pointermove:function(e){ko(e)||Eo.mousemove.call(this,e)},pointerup:function(e){Eo.mouseup.call(this,e)},pointerout:function(e){ko(e)||Eo.mouseout.call(this,e)}};K(["click","dblclick","contextmenu"],(function(e){Eo[e]=function(t){t=kt(this.dom,t),this.trigger(e,t)}}));var Ao={pointermove:function(e){ko(e)||Ao.mousemove.call(this,e)},pointerup:function(e){Ao.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function Lo(e,t){var n=t.domHandlers;C.pointerEventsSupported?K(_o.pointer,(function(r){No(t,r,(function(t){n[r].call(e,t)}))})):(C.touchEventsSupported&&K(_o.touch,(function(r){No(t,r,(function(o){n[r].call(e,o),Oo(t)}))})),K(_o.mouse,(function(r){No(t,r,(function(o){o=St(o),t.touching||n[r].call(e,o)}))})))}function jo(e,t){function n(n){function r(r){r=St(r),Do(e,r.target)||(r=Mo(e,r),t.domHandlers[n].call(e,r))}No(t,n,r,{capture:!0})}C.pointerEventsSupported?K(Co.pointer,n):C.touchEventsSupported||K(Co.mouse,n)}function No(e,t,n,r){e.mounted[t]=n,e.listenerOpts[t]=r,Tt(e.domTarget,t,n,r)}function Po(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&Mt(e.domTarget,n,t[n],e.listenerOpts[n]);e.mounted={}}var Ro=function(){function e(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return e}(),Bo=function(e){function t(t,n){var r=e.call(this)||this;return r.__pointerCapturing=!1,r.dom=t,r.painterRoot=n,r._localHandlerScope=new Ro(t,Eo),wo&&(r._globalHandlerScope=new Ro(document,Ao)),Lo(r,r._localHandlerScope),r}return g(t,e),t.prototype.dispose=function(){Po(this._localHandlerScope),wo&&Po(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,wo&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var t=this._globalHandlerScope;e?jo(this,t):Po(t)}},t}(lt),Fo=Bo,zo=function(e){function t(t){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(t),n}return g(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){if(e&&(e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),e.__hostTarget))throw"This elemenet has been used as an attachment";return this},t.prototype.addBefore=function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,r=n.indexOf(t);r>=0&&(n.splice(r,0,e),this._doAdd(e))}return this},t.prototype.replaceAt=function(e,t){var n=this._children,r=n[t];if(e&&e!==this&&e.parent!==this&&e!==r){n[t]=e,r.parent=null;var o=this.__zr;o&&r.removeSelfFromZr(o),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__zr;t&&t!==e.__zr&&e.addSelfToZr(t),t&&t.refresh()},t.prototype.remove=function(e){var t=this.__zr,n=this._children,r=q(n,e);return r<0||(n.splice(r,1),e.parent=null,t&&e.removeSelfFromZr(t),t&&t.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,t=this.__zr,n=0;n<e.length;n++){var r=e[n];t&&r.removeSelfFromZr(t),r.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,t){for(var n=this._children,r=0;r<n.length;r++){var o=n[r];e.call(t,o,r)}return this},t.prototype.traverse=function(e,t){for(var n=0;n<this._children.length;n++){var r=this._children[n],o=e.call(t,r);r.isGroup&&!o&&r.traverse(e,t)}return this},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.removeSelfFromZr(t)}},t.prototype.getBoundingRect=function(e){for(var t=new Cr(0,0,0,0),n=e||this._children,r=[],o=null,i=0;i<n.length;i++){var a=n[i];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),l=a.getLocalTransform(r);l?(Cr.applyTransform(t,s,l),o=o||t.clone(),o.union(t)):(o=o||s.clone(),o.union(s))}}return o||t},t}(Qr);zo.prototype.type="group";var Vo=zo,Ho=!C.canvasSupported,Uo={},$o={};
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/function qo(e){delete $o[e]}function Wo(e){if(!e)return!1;if("string"===typeof e)return Un(e,1)<Br;if(e.colorStops){for(var t=e.colorStops,n=0,r=t.length,o=0;o<r;o++)n+=Un(t[o].color,1);return n/=r,n<Br}return!1}var Go=function(){function e(e,t,n){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=e;var o=new go,i=n.renderer||"canvas";if(Ho)throw new Error("IE8 support has been dropped since 5.0");if(Uo[i]||(i=ee(Uo)[0]),!Uo[i])throw new Error("Renderer '"+i+"' is not imported. Please import it first.");n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var a=new Uo[i](t,o,n,e);this.storage=o,this.painter=a;var s=C.node||C.worker?null:new Fo(a.getViewportRoot(),a.root);this.handler=new $t(o,a,s,a.root),this.animation=new bo({stage:{update:function(){return r._flush(!0)}}}),this.animation.start()}return e.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},e.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},e.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=Wo(e)},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(e){this._darkMode=e},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},e.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},e.prototype.flush=function(){this._flush(!1)},e.prototype._flush=function(e){var t,n=(new Date).getTime();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=(new Date).getTime();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},e.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},e.prototype.addHover=function(e){},e.prototype.removeHover=function(e){},e.prototype.clearHover=function(){},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},e.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},e.prototype.clearAnimation=function(){this.animation.clear()},e.prototype.getWidth=function(){return this.painter.getWidth()},e.prototype.getHeight=function(){return this.painter.getHeight()},e.prototype.pathToImage=function(e,t){if(this.painter.pathToImage)return this.painter.pathToImage(e,t)},e.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},e.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},e.prototype.on=function(e,t,n){return this.handler.on(e,t,n),this},e.prototype.off=function(e,t){this.handler.off(e,t)},e.prototype.trigger=function(e,t){this.handler.trigger(e,t)},e.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof Vo&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},e.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,qo(this.id)},e}();function Yo(e,t){var n=new Go(R(),e,t);return $o[n.id]=n,n}function Ko(e){e.dispose()}function Xo(){for(var e in $o)$o.hasOwnProperty(e)&&$o[e].dispose();$o={}}function Jo(e){return $o[e]}function Zo(e,t){Uo[e]=t}var Qo="5.0.3",ei=1e-4;function ti(e){return e.replace(/^\s+|\s+$/g,"")}function ni(e,t,n,r){var o=t[1]-t[0],i=n[1]-n[0];if(0===o)return 0===i?n[0]:(n[0]+n[1])/2;if(r)if(o>0){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/o*i+n[0]}function ri(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return"string"===typeof e?ti(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function oi(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function ii(e){return e.sort((function(e,t){return e-t})),e}function ai(e){if(e=+e,isNaN(e))return 0;var t=1,n=0;while(Math.round(e*t)/t!==e)t*=10,n++;return n}function si(e){var t=e.toString(),n=t.indexOf("e");if(n>0){var r=+t.slice(n+1);return r<0?-r:0}var o=t.indexOf(".");return o<0?0:t.length-1-o}function li(e,t){var n=Math.log,r=Math.LN10,o=Math.floor(n(e[1]-e[0])/r),i=Math.round(n(Math.abs(t[1]-t[0]))/r),a=Math.min(Math.max(-o+i,0),20);return isFinite(a)?a:20}function ui(e,t,n){if(!e[t])return 0;var r=J(e,(function(e,t){return e+(isNaN(t)?0:t)}),0);if(0===r)return 0;var o=Math.pow(10,n),i=X(e,(function(e){return(isNaN(e)?0:e)/r*o*100})),a=100*o,s=X(i,(function(e){return Math.floor(e)})),l=J(s,(function(e,t){return e+t}),0),u=X(i,(function(e,t){return e-s[t]}));while(l<a){for(var c=Number.NEGATIVE_INFINITY,d=null,f=0,p=u.length;f<p;++f)u[f]>c&&(c=u[f],d=f);++s[d],u[d]=0,++l}return s[t]/o}var ci=9007199254740991;function di(e){var t=2*Math.PI;return(e%t+t)%t}function fi(e){return e>-ei&&e<ei}var pi=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function hi(e){if(e instanceof Date)return e;if("string"===typeof e){var t=pi.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}return null==e?new Date(NaN):new Date(Math.round(e))}function mi(e){return Math.pow(10,gi(e))}function gi(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function vi(e,t){var n,r=gi(e),o=Math.pow(10,r),i=e/o;return n=t?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10,e=n*o,r>=-20?+e.toFixed(r<0?-r:0):e}function yi(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),o=+e[r-1],i=n-r;return i?o+i*(e[r]-o):o}function bi(e){e.sort((function(e,t){return s(e,t,0)?-1:1}));for(var t=-1/0,n=1,r=0;r<e.length;){for(var o=e[r].interval,i=e[r].close,a=0;a<2;a++)o[a]<=t&&(o[a]=t,i[a]=a?1:1-n),t=o[a],n=i[a];o[0]===o[1]&&i[0]*i[1]!==1?e.splice(r,1):r++}return e;function s(e,t,n){return e.interval[n]<t.interval[n]||e.interval[n]===t.interval[n]&&(e.close[n]-t.close[n]===(n?-1:1)||!n&&s(e,t,1))}}function xi(e){var t=parseFloat(e);return t==e&&(0!==t||"string"!==typeof e||e.indexOf("x")<=0)?t:NaN}function wi(e){return!isNaN(xi(e))}function _i(){return Math.round(9*Math.random())}function Ci(e,t){return 0===t?e:Ci(t,e%t)}function Si(e,t){return null==e?t:null==t?e:e*t/Ci(e,t)}var ki="series\0",Oi="\0_ec_\0";function Ti(e){return e instanceof Array?e:null==e?[]:[e]}function Mi(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var r=0,o=n.length;r<o;r++){var i=n[r];!e.emphasis[t].hasOwnProperty(i)&&e[t].hasOwnProperty(i)&&(e.emphasis[t][i]=e[t][i])}}}var Di=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Ii(e){return!ue(e)||oe(e)||e instanceof Date?e:e.value}function Ei(e){return ue(e)&&!(e instanceof Array)}function Ai(e,t,n){var r="normalMerge"===n,o="replaceMerge"===n,i="replaceAll"===n;e=e||[],t=(t||[]).slice();var a=Me();K(t,(function(e,n){ue(e)||(t[n]=null)}));var s=Li(e,a,n);return(r||o)&&ji(s,e,a,t),r&&Ni(s,t),r||o?Pi(s,t,o):i&&Ri(s,t),Bi(s),s}function Li(e,t,n){var r=[];if("replaceAll"===n)return r;for(var o=0;o<e.length;o++){var i=e[o];i&&null!=i.id&&t.set(i.id,o),r.push({existing:"replaceMerge"===n||Ui(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return r}function ji(e,t,n,r){K(r,(function(o,i){if(o&&null!=o.id){var a=zi(o.id),s=n.get(a);if(null!=s){var l=e[s];_e(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=o,l.existing=t[s],r[i]=null}}}))}function Ni(e,t){K(t,(function(n,r){if(n&&null!=n.name)for(var o=0;o<e.length;o++){var i=e[o].existing;if(!e[o].newOption&&i&&(null==i.id||null==n.id)&&!Ui(n)&&!Ui(i)&&Fi("name",i,n))return e[o].newOption=n,void(t[r]=null)}}))}function Pi(e,t,n){K(t,(function(t){if(t){var r,o=0;while((r=e[o])&&(r.newOption||Ui(r.existing)||r.existing&&null!=t.id&&!Fi("id",t,r.existing)))o++;r?(r.newOption=t,r.brandNew=n):e.push({newOption:t,brandNew:n,existing:null,keyInfo:null}),o++}}))}function Ri(e,t){K(t,(function(t){e.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})}))}function Bi(e){var t=Me();K(e,(function(e){var n=e.existing;n&&t.set(n.id,e)})),K(e,(function(e){var n=e.newOption;_e(!n||null==n.id||!t.get(n.id)||t.get(n.id)===e,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})})),K(e,(function(e,n){var r=e.existing,o=e.newOption,i=e.keyInfo;if(ue(o)){if(i.name=null!=o.name?zi(o.name):r?r.name:ki+n,r)i.id=zi(r.id);else if(null!=o.id)i.id=zi(o.id);else{var a=0;do{i.id="\0"+i.name+"\0"+a++}while(t.get(i.id))}t.set(i.id,e)}}))}function Fi(e,t,n){var r=Vi(t[e],null),o=Vi(n[e],null);return null!=r&&null!=o&&r===o}function zi(e){return Vi(e,"")}function Vi(e,t){if(null==e)return t;var n=typeof e;return"string"===n?e:"number"===n||se(e)?e+"":t}function Hi(e){var t=e.name;return!(!t||!t.indexOf(ki))}function Ui(e){return e&&null!=e.id&&0===zi(e.id).indexOf(Oi)}function $i(e){return Oi+e}function qi(e,t,n){K(e,(function(e){var r=e.newOption;ue(r)&&(e.keyInfo.mainType=t,e.keyInfo.subType=Wi(t,r,e.existing,n))}))}function Wi(e,t,n,r){var o=t.type?t.type:n?n.subType:r.determineSubType(e,t);return o}function Gi(e,t){var n={},r={};return o(e||[],n),o(t||[],r,n),[i(n),i(r)];function o(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=Vi(e[r].seriesId,null);if(null==i)return;for(var a=Ti(e[r].dataIndex),s=n&&n[i],l=0,u=a.length;l<u;l++){var c=a[l];s&&s[c]?s[c]=null:(t[i]||(t[i]={}))[c]=1}}}function i(e,t){var n=[];for(var r in e)if(e.hasOwnProperty(r)&&null!=e[r])if(t)n.push(+r);else{var o=i(e[r],!0);o.length&&n.push({seriesId:r,dataIndex:o})}return n}}function Yi(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?oe(t.dataIndex)?X(t.dataIndex,(function(t){return e.indexOfRawIndex(t)})):e.indexOfRawIndex(t.dataIndex):null!=t.name?oe(t.name)?X(t.name,(function(t){return e.indexOfName(t)})):e.indexOfName(t.name):void 0}function Ki(){var e="__ec_inner_"+Xi++;return function(t){return t[e]||(t[e]={})}}var Xi=_i();function Ji(e,t,n){var r;if(ae(t)){var o={};o[t+"Index"]=0,r=o}else r=t;var i=Me(),a={},s=!1;K(r,(function(e,t){if("dataIndex"!==t&&"dataIndexInside"!==t){var r=t.match(/^(\w+)(Index|Id|Name)$/)||[],o=r[1],l=(r[2]||"").toLowerCase();if(o&&l&&!(n&&n.includeMainTypes&&q(n.includeMainTypes,o)<0)){s=s||!!o;var u=i.get(o)||i.set(o,{});u[l]=e}}else a[t]=e}));var l=n?n.defaultMainType:null;return!s&&l&&i.set(l,{}),i.each((function(t,r){var o=ea(e,r,t,{useDefault:l===r,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});a[r+"Models"]=o.models,a[r+"Model"]=o.models[0]})),a}var Zi={useDefault:!0,enableAll:!1,enableNone:!1},Qi={useDefault:!1,enableAll:!0,enableNone:!0};function ea(e,t,n,r){r=r||Zi;var o=n.index,i=n.id,a=n.name,s={models:null,specified:null!=o||null!=i||null!=a};if(!s.specified){var l=void 0;return s.models=r.useDefault&&(l=e.getComponent(t))?[l]:[],s}return"none"===o||!1===o?(_e(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===o&&(_e(r.enableAll,'`"all"` is not a valid value on index option.'),o=i=a=null),s.models=e.queryComponents({mainType:t,index:o,id:i,name:a}),s)}function ta(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function na(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function ra(e){return"auto"===e?C.domSupported?"html":"richText":e||"html"}function oa(e,t){var n=Me(),r=[];return K(e,(function(e){var o=t(e);(n.get(o)||(r.push(o),n.set(o,[]))).push(e)})),{keys:r,buckets:n}}function ia(e,t,n,r,o){var i=null==t||"auto"===t;if(null==r)return r;if("number"===typeof r){var a=Wn(n||0,r,o);return oi(a,i?Math.max(si(n||0),si(r)):t)}if("string"===typeof r)return o<1?n:r;for(var s=[],l=n,u=r,c=Math.max(l?l.length:0,u.length),d=0;d<c;++d){var f=e.getDimensionInfo(d);if("ordinal"===f.type)s[d]=(o<1&&l?l:u)[d];else{var p=l&&l[d]?l[d]:0,h=u[d];a=Wn(p,h,o);s[d]=oi(a,i?Math.max(si(p),si(h)):t)}}return s}var aa=".",sa="___EC__COMPONENT__CONTAINER___",la="___EC__EXTENDED_CLASS___";function ua(e){var t={main:"",sub:""};if(e){var n=e.split(aa);t.main=n[0]||"",t.sub=n[1]||""}return t}function ca(e){_e(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function da(e){return!(!e||!e[la])}function fa(e,t){e.$constructor=e,e.extend=function(e){var t=this;function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(e.$constructor)e.$constructor.apply(this,arguments);else{if(pa(t)){var i=Ie(n.prototype,new(t.bind.apply(t,y([void 0],r))));return i}t.apply(this,arguments)}}return n[la]=!0,H(n.prototype,e),n.extend=this.extend,n.superCall=va,n.superApply=ya,W(n,this),n.superClass=t,n}}function pa(e){return"function"===typeof e&&/^class\s/.test(Function.prototype.toString.call(e))}function ha(e,t){e.extend=t.extend}var ma=Math.round(10*Math.random());function ga(e){var t=["__\0is_clz",ma++].join("_");e.prototype[t]=!0,e.isInstance=function(e){return!(!e||!e[t])}}function va(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[t].apply(e,n)}function ya(e,t,n){return this.superClass.prototype[t].apply(e,n)}function ba(e){var t={};function n(e){var n=t[e.main];return n&&n[sa]||(n=t[e.main]={},n[sa]=!0),n}e.registerClass=function(e){var r=e.type||e.prototype.type;if(r){ca(r),e.prototype.type=r;var o=ua(r);if(o.sub){if(o.sub!==sa){var i=n(o);i[o.sub]=e}}else t[o.main]=e}return e},e.getClass=function(e,n,r){var o=t[e];if(o&&o[sa]&&(o=n?o[n]:null),r&&!o)throw new Error(n?"Component "+e+"."+(n||"")+" not exists. Load it first.":e+".type should be specified.");return o},e.getClassesByMainType=function(e){var n=ua(e),r=[],o=t[n.main];return o&&o[sa]?K(o,(function(e,t){t!==sa&&r.push(e)})):r.push(o),r},e.hasClass=function(e){var n=ua(e);return!!t[n.main]},e.getAllClassMainTypes=function(){var e=[];return K(t,(function(t,n){e.push(n)})),e},e.hasSubTypes=function(e){var n=ua(e),r=t[n.main];return r&&r[sa]}}function xa(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(n,r,o){for(var i={},a=0;a<e.length;a++){var s=e[a][1];if(!(r&&q(r,s)>=0||o&&q(o,s)<0)){var l=n.getShallow(s,t);null!=l&&(i[e[a][0]]=l)}}return i}}var wa=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],_a=xa(wa),Ca=function(){function e(){}return e.prototype.getAreaStyle=function(e,t){return _a(this,e,t)},e}(),Sa=new vn(50);function ka(e){if("string"===typeof e){var t=Sa.get(e);return t&&t.image}return e}function Oa(e,t,n,r,o){if(e){if("string"===typeof e){if(t&&t.__zrImageSrc===e||!n)return t;var i=Sa.get(e),a={hostEl:n,cb:r,cbPayload:o};return i?(t=i.image,!Ma(t)&&i.pending.push(a)):(t=new Image,t.onload=t.onerror=Ta,Sa.put(e,t.__cachedImgObj={image:t,pending:[a]}),t.src=t.__zrImageSrc=e),t}return e}return t}function Ta(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function Ma(e){return e&&e.width&&e.height}var Da=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Ia(e,t,n,r,o){if(!t)return"";var i=(e+"").split("\n");o=Ea(t,n,r,o);for(var a=0,s=i.length;a<s;a++)i[a]=Aa(i[a],o);return i.join("\n")}function Ea(e,t,n,r){r=r||{};var o=H({},r);o.font=t,n=ye(n,"..."),o.maxIterations=ye(r.maxIterations,2);var i=o.minChar=ye(r.minChar,0);o.cnCharWidth=Mr("国",t);var a=o.ascCharWidth=Mr("a",t);o.placeholder=ye(r.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;l<i&&s>=a;l++)s-=a;var u=Mr(n,t);return u>s&&(n="",u=0),s=e-u,o.ellipsis=n,o.ellipsisWidth=u,o.contentWidth=s,o.containerWidth=e,o}function Aa(e,t){var n=t.containerWidth,r=t.font,o=t.contentWidth;if(!n)return"";var i=Mr(e,r);if(i<=n)return e;for(var a=0;;a++){if(i<=o||a>=t.maxIterations){e+=t.ellipsis;break}var s=0===a?La(e,o,t.ascCharWidth,t.cnCharWidth):i>0?Math.floor(e.length*o/i):0;e=e.substr(0,s),i=Mr(e,r)}return""===e&&(e=t.placeholder),e}function La(e,t,n,r){for(var o=0,i=0,a=e.length;i<a&&o<t;i++){var s=e.charCodeAt(i);o+=0<=s&&s<=127?n:r}return i}function ja(e,t){null!=e&&(e+="");var n,r=t.overflow,o=t.padding,i=t.font,a="truncate"===r,s=Lr(i),l=ye(t.lineHeight,s),u="truncate"===t.lineOverflow,c=t.width;n=null!=c&&"break"===r||"breakAll"===r?e?Ua(e,t.font,c,"breakAll"===r,0).lines:[]:e?e.split("\n"):[];var d=n.length*l,f=ye(t.height,d);if(d>f&&u){var p=Math.floor(f/l);n=n.slice(0,p)}var h=f,m=c;if(o&&(h+=o[0]+o[2],null!=m&&(m+=o[1]+o[3])),e&&a&&null!=m)for(var g=Ea(c,i,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),v=0;v<n.length;v++)n[v]=Aa(n[v],g);if(null==c){var y=0;for(v=0;v<n.length;v++)y=Math.max(Mr(n[v],i),y);c=y}return{lines:n,height:f,outerHeight:h,lineHeight:l,calculatedLineHeight:s,contentHeight:d,width:c}}var Na=function(){function e(){}return e}(),Pa=function(){function e(e){this.tokens=[],e&&(this.tokens=e)}return e}(),Ra=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return e}();function Ba(e,t){var n=new Ra;if(null!=e&&(e+=""),!e)return n;var r,o=t.width,i=t.height,a=t.overflow,s="break"!==a&&"breakAll"!==a||null==o?null:{width:o,accumWidth:0,breakAll:"breakAll"===a},l=Da.lastIndex=0;while(null!=(r=Da.exec(e))){var u=r.index;u>l&&Fa(n,e.substring(l,u),t,s),Fa(n,r[2],t,s,r[1]),l=Da.lastIndex}l<e.length&&Fa(n,e.substring(l,e.length),t,s);var c=[],d=0,f=0,p=t.padding,h="truncate"===a,m="truncate"===t.lineOverflow;function g(e,t,n){e.width=t,e.lineHeight=n,d+=n,f=Math.max(f,t)}e:for(var v=0;v<n.lines.length;v++){for(var y=n.lines[v],b=0,x=0,w=0;w<y.tokens.length;w++){var _=y.tokens[w],C=_.styleName&&t.rich[_.styleName]||{},S=_.textPadding=C.padding,k=S?S[1]+S[3]:0,O=_.font=C.font||t.font;_.contentHeight=Lr(O);var T=ye(C.height,_.contentHeight);if(_.innerHeight=T,S&&(T+=S[0]+S[2]),_.height=T,_.lineHeight=be(C.lineHeight,t.lineHeight,T),_.align=C&&C.align||t.align,_.verticalAlign=C&&C.verticalAlign||"middle",m&&null!=i&&d+_.lineHeight>i){w>0?(y.tokens=y.tokens.slice(0,w),g(y,x,b),n.lines=n.lines.slice(0,v+1)):n.lines=n.lines.slice(0,v);break e}var M=C.width,D=null==M||"auto"===M;if("string"===typeof M&&"%"===M.charAt(M.length-1))_.percentWidth=M,c.push(_),_.contentWidth=Mr(_.text,O);else{if(D){var I=C.backgroundColor,E=I&&I.image;E&&(E=ka(E),Ma(E)&&(_.width=Math.max(_.width,E.width*T/E.height)))}var A=h&&null!=o?o-x:null;null!=A&&A<_.width?!D||A<k?(_.text="",_.width=_.contentWidth=0):(_.text=Ia(_.text,A-k,O,t.ellipsis,{minChar:t.truncateMinChar}),_.width=_.contentWidth=Mr(_.text,O)):_.contentWidth=Mr(_.text,O)}_.width+=k,x+=_.width,C&&(b=Math.max(b,_.lineHeight)),_}g(y,x,b)}n.outerWidth=n.width=ye(o,f),n.outerHeight=n.height=ye(i,d),n.contentHeight=d,n.contentWidth=f,p&&(n.outerWidth+=p[1]+p[3],n.outerHeight+=p[0]+p[2]);for(v=0;v<c.length;v++){_=c[v];var L=_.percentWidth;_.width=parseInt(L,10)/100*n.width}return n}function Fa(e,t,n,r,o){var i,a,s=""===t,l=o&&n.rich[o]||{},u=e.lines,c=l.font||n.font,d=!1;if(r){var f=l.padding,p=f?f[1]+f[3]:0;if(null!=l.width&&"auto"!==l.width){var h=$a(l.width,r.width)+p;u.length>0&&h+r.accumWidth>r.width&&(i=t.split("\n"),d=!0),r.accumWidth=h}else{var m=Ua(t,c,r.width,r.breakAll,r.accumWidth);r.accumWidth=m.accumWidth+p,a=m.linesWidths,i=m.lines}}else i=t.split("\n");for(var g=0;g<i.length;g++){var v=i[g],y=new Na;if(y.styleName=o,y.text=v,y.isLineHolder=!v&&!s,"number"===typeof l.width?y.width=l.width:y.width=a?a[g]:Mr(v,c),g||d)u.push(new Pa([y]));else{var b=(u[u.length-1]||(u[0]=new Pa)).tokens,x=b.length;1===x&&b[0].isLineHolder?b[0]=y:(v||!x||s)&&b.push(y)}}}function za(e){var t=e.charCodeAt(0);return t>=33&&t<=255}var Va=J(",&?/;] ".split(""),(function(e,t){return e[t]=!0,e}),{});function Ha(e){return!za(e)||!!Va[e]}function Ua(e,t,n,r,o){for(var i=[],a=[],s="",l="",u=0,c=0,d=0;d<e.length;d++){var f=e.charAt(d);if("\n"!==f){var p=Mr(f,t),h=!r&&!Ha(f);(i.length?c+p>n:o+c+p>n)?c?(s||l)&&(h?(s||(s=l,l="",u=0,c=u),i.push(s),a.push(c-u),l+=f,u+=p,s="",c=u):(l&&(s+=l,c+=u,l="",u=0),i.push(s),a.push(c),s=f,c=p)):h?(i.push(l),a.push(u),l=f,u=p):(i.push(f),a.push(p)):(c+=p,h?(l+=f,u+=p):(l&&(s+=l,l="",u=0),s+=f))}else l&&(s+=l,c+=u),i.push(s),a.push(c),s="",l="",u=0,c=0}return i.length||s||(s=e,l="",u=0),l&&(s+=l),s&&(i.push(s),a.push(c)),1===i.length&&(c+=o),{accumWidth:c,lines:i,linesWidths:a}}function $a(e,t){return"string"===typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}var qa="__zr_style_"+Math.round(10*Math.random()),Wa={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Ga={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Wa[qa]=!0;var Ya=["z","z2","invisible"],Ka=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype._init=function(t){for(var n=ee(t),r=0;r<n.length;r++){var o=n[r];"style"===o?this.useStyle(t[o]):e.prototype.attrKV.call(this,o,t[o])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,t,n,r){var o=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&Za(this,e,t)||o&&!o[0]&&!o[3])return!1;if(n&&this.__clipPaths)for(var i=0;i<this.__clipPaths.length;++i)if(this.__clipPaths[i].isZeroArea())return!1;if(r&&this.parent){var a=this.parent;while(a){if(a.ignore)return!1;a=a.parent}}return!0},t.prototype.contain=function(e,t){return this.rectContain(e,t)},t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.rectContain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();return r.contain(n[0],n[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var t=this.transform,n=this.getBoundingRect(),r=this.style,o=r.shadowBlur||0,i=r.shadowOffsetX||0,a=r.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new Cr(0,0,0,0)),t?Cr.applyTransform(e,n,t):e.copy(n),(o||i||a)&&(e.width+=2*o+Math.abs(i),e.height+=2*o+Math.abs(a),e.x=Math.min(e.x,e.x+i-o),e.y=Math.min(e.y,e.y+a-o));var s=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-s),e.y=Math.floor(e.y-s),e.width=Math.ceil(e.width+1+2*s),e.height=Math.ceil(e.height+1+2*s))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new Cr(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(t,n){"style"!==t?e.prototype.attrKV.call(this,t,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,t){return"string"===typeof e?this.style[e]=t:H(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(){this.markRedraw(),this.__dirty|=t.STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&t.STYLE_CHANGED_BIT)},t.prototype.styleUpdated=function(){this.__dirty&=~t.STYLE_CHANGED_BIT},t.prototype.createStyle=function(e){return Ie(Wa,e)},t.prototype.useStyle=function(e){e[qa]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[qa]},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,n,Ya)},t.prototype._applyStateObj=function(t,n,r,o,i,a){e.prototype._applyStateObj.call(this,t,n,r,o,i,a);var s,l=!(n&&o);if(n&&n.style?i?o?s=n.style:(s=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(s,n.style)):(s=this._mergeStyle(this.createStyle(),o?this.style:r.style),this._mergeStyle(s,n.style)):l&&(s=r.style),s)if(i){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var c=ee(u),d=0;d<c.length;d++){var f=c[d];f in s&&(s[f]=s[f],this.style[f]=u[f])}var p=ee(s);for(d=0;d<p.length;d++){f=p[d];this.style[f]=this.style[f]}this._transitionState(t,{style:s},a,this.getAnimationStyleProps())}else this.useStyle(s);for(d=0;d<Ya.length;d++){f=Ya[d];n&&null!=n[f]?this[f]=n[f]:l&&null!=r[f]&&(this[f]=r[f])}},t.prototype._mergeStates=function(t){for(var n,r=e.prototype._mergeStates.call(this,t),o=0;o<t.length;o++){var i=t[o];i.style&&(n=n||{},this._mergeStyle(n,i.style))}return n&&(r.style=n),r},t.prototype._mergeStyle=function(e,t){return H(e,t),e},t.prototype.getAnimationStyleProps=function(){return Ga},t.STYLE_CHANGED_BIT=2,t.initDefaultProps=function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=Qr.REDARAW_BIT|t.STYLE_CHANGED_BIT}(),t}(Qr),Xa=new Cr(0,0,0,0),Ja=new Cr(0,0,0,0);function Za(e,t,n){return Xa.copy(e.getBoundingRect()),e.transform&&Xa.applyTransform(e.transform),Ja.width=t,Ja.height=n,!Xa.intersect(Ja)}var Qa=Ka,es=Math.pow,ts=Math.sqrt,ns=1e-8,rs=1e-4,os=ts(3),is=1/3,as=Le(),ss=Le(),ls=Le();function us(e){return e>-ns&&e<ns}function cs(e){return e>ns||e<-ns}function ds(e,t,n,r,o){var i=1-o;return i*i*(i*e+3*o*t)+o*o*(o*r+3*i*n)}function fs(e,t,n,r,o){var i=1-o;return 3*(((t-e)*i+2*(n-t)*o)*i+(r-n)*o*o)}function ps(e,t,n,r,o,i){var a=r+3*(t-n)-e,s=3*(n-2*t+e),l=3*(t-e),u=e-o,c=s*s-3*a*l,d=s*l-9*a*u,f=l*l-3*s*u,p=0;if(us(c)&&us(d))if(us(s))i[0]=0;else{var h=-l/s;h>=0&&h<=1&&(i[p++]=h)}else{var m=d*d-4*c*f;if(us(m)){var g=d/c,v=(h=-s/a+g,-g/2);h>=0&&h<=1&&(i[p++]=h),v>=0&&v<=1&&(i[p++]=v)}else if(m>0){var y=ts(m),b=c*s+1.5*a*(-d+y),x=c*s+1.5*a*(-d-y);b=b<0?-es(-b,is):es(b,is),x=x<0?-es(-x,is):es(x,is);h=(-s-(b+x))/(3*a);h>=0&&h<=1&&(i[p++]=h)}else{var w=(2*c*s-3*a*d)/(2*ts(c*c*c)),_=Math.acos(w)/3,C=ts(c),S=Math.cos(_),k=(h=(-s-2*C*S)/(3*a),v=(-s+C*(S+os*Math.sin(_)))/(3*a),(-s+C*(S-os*Math.sin(_)))/(3*a));h>=0&&h<=1&&(i[p++]=h),v>=0&&v<=1&&(i[p++]=v),k>=0&&k<=1&&(i[p++]=k)}}return p}function hs(e,t,n,r,o){var i=6*n-12*t+6*e,a=9*t+3*r-3*e-9*n,s=3*t-3*e,l=0;if(us(a)){if(cs(i)){var u=-s/i;u>=0&&u<=1&&(o[l++]=u)}}else{var c=i*i-4*a*s;if(us(c))o[0]=-i/(2*a);else if(c>0){var d=ts(c),f=(u=(-i+d)/(2*a),(-i-d)/(2*a));u>=0&&u<=1&&(o[l++]=u),f>=0&&f<=1&&(o[l++]=f)}}return l}function ms(e,t,n,r,o,i){var a=(t-e)*o+e,s=(n-t)*o+t,l=(r-n)*o+n,u=(s-a)*o+a,c=(l-s)*o+s,d=(c-u)*o+u;i[0]=e,i[1]=a,i[2]=u,i[3]=d,i[4]=d,i[5]=c,i[6]=l,i[7]=r}function gs(e,t,n,r,o,i,a,s,l,u,c){var d,f,p,h,m,g=.005,v=1/0;as[0]=l,as[1]=u;for(var y=0;y<1;y+=.05)ss[0]=ds(e,n,o,a,y),ss[1]=ds(t,r,i,s,y),h=Ze(as,ss),h<v&&(d=y,v=h);v=1/0;for(var b=0;b<32;b++){if(g<rs)break;f=d-g,p=d+g,ss[0]=ds(e,n,o,a,f),ss[1]=ds(t,r,i,s,f),h=Ze(ss,as),f>=0&&h<v?(d=f,v=h):(ls[0]=ds(e,n,o,a,p),ls[1]=ds(t,r,i,s,p),m=Ze(ls,as),p<=1&&m<v?(d=p,v=m):g*=.5)}return c&&(c[0]=ds(e,n,o,a,d),c[1]=ds(t,r,i,s,d)),ts(v)}function vs(e,t,n,r,o,i,a,s,l){for(var u=e,c=t,d=0,f=1/l,p=1;p<=l;p++){var h=p*f,m=ds(e,n,o,a,h),g=ds(t,r,i,s,h),v=m-u,y=g-c;d+=Math.sqrt(v*v+y*y),u=m,c=g}return d}function ys(e,t,n,r){var o=1-r;return o*(o*e+2*r*t)+r*r*n}function bs(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}function xs(e,t,n,r,o){var i=e-2*t+n,a=2*(t-e),s=e-r,l=0;if(us(i)){if(cs(a)){var u=-s/a;u>=0&&u<=1&&(o[l++]=u)}}else{var c=a*a-4*i*s;if(us(c)){u=-a/(2*i);u>=0&&u<=1&&(o[l++]=u)}else if(c>0){var d=ts(c),f=(u=(-a+d)/(2*i),(-a-d)/(2*i));u>=0&&u<=1&&(o[l++]=u),f>=0&&f<=1&&(o[l++]=f)}}return l}function ws(e,t,n){var r=e+n-2*t;return 0===r?.5:(e-t)/r}function _s(e,t,n,r,o){var i=(t-e)*r+e,a=(n-t)*r+t,s=(a-i)*r+i;o[0]=e,o[1]=i,o[2]=s,o[3]=s,o[4]=a,o[5]=n}function Cs(e,t,n,r,o,i,a,s,l){var u,c=.005,d=1/0;as[0]=a,as[1]=s;for(var f=0;f<1;f+=.05){ss[0]=ys(e,n,o,f),ss[1]=ys(t,r,i,f);var p=Ze(as,ss);p<d&&(u=f,d=p)}d=1/0;for(var h=0;h<32;h++){if(c<rs)break;var m=u-c,g=u+c;ss[0]=ys(e,n,o,m),ss[1]=ys(t,r,i,m);p=Ze(ss,as);if(m>=0&&p<d)u=m,d=p;else{ls[0]=ys(e,n,o,g),ls[1]=ys(t,r,i,g);var v=Ze(ls,as);g<=1&&v<d?(u=g,d=v):c*=.5}}return l&&(l[0]=ys(e,n,o,u),l[1]=ys(t,r,i,u)),ts(d)}function Ss(e,t,n,r,o,i,a){for(var s=e,l=t,u=0,c=1/a,d=1;d<=a;d++){var f=d*c,p=ys(e,n,o,f),h=ys(t,r,i,f),m=p-s,g=h-l;u+=Math.sqrt(m*m+g*g),s=p,l=h}return u}var ks=Math.min,Os=Math.max,Ts=Math.sin,Ms=Math.cos,Ds=2*Math.PI,Is=Le(),Es=Le(),As=Le();function Ls(e,t,n){if(0!==e.length){for(var r=e[0],o=r[0],i=r[0],a=r[1],s=r[1],l=1;l<e.length;l++)r=e[l],o=ks(o,r[0]),i=Os(i,r[0]),a=ks(a,r[1]),s=Os(s,r[1]);t[0]=o,t[1]=a,n[0]=i,n[1]=s}}function js(e,t,n,r,o,i){o[0]=ks(e,n),o[1]=ks(t,r),i[0]=Os(e,n),i[1]=Os(t,r)}var Ns=[],Ps=[];function Rs(e,t,n,r,o,i,a,s,l,u){var c=hs,d=ds,f=c(e,n,o,a,Ns);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var p=0;p<f;p++){var h=d(e,n,o,a,Ns[p]);l[0]=ks(h,l[0]),u[0]=Os(h,u[0])}f=c(t,r,i,s,Ps);for(p=0;p<f;p++){var m=d(t,r,i,s,Ps[p]);l[1]=ks(m,l[1]),u[1]=Os(m,u[1])}l[0]=ks(e,l[0]),u[0]=Os(e,u[0]),l[0]=ks(a,l[0]),u[0]=Os(a,u[0]),l[1]=ks(t,l[1]),u[1]=Os(t,u[1]),l[1]=ks(s,l[1]),u[1]=Os(s,u[1])}function Bs(e,t,n,r,o,i,a,s){var l=ws,u=ys,c=Os(ks(l(e,n,o),1),0),d=Os(ks(l(t,r,i),1),0),f=u(e,n,o,c),p=u(t,r,i,d);a[0]=ks(e,o,f),a[1]=ks(t,i,p),s[0]=Os(e,o,f),s[1]=Os(t,i,p)}function Fs(e,t,n,r,o,i,a,s,l){var u=nt,c=rt,d=Math.abs(o-i);if(d%Ds<1e-4&&d>1e-4)return s[0]=e-n,s[1]=t-r,l[0]=e+n,void(l[1]=t+r);if(Is[0]=Ms(o)*n+e,Is[1]=Ts(o)*r+t,Es[0]=Ms(i)*n+e,Es[1]=Ts(i)*r+t,u(s,Is,Es),c(l,Is,Es),o%=Ds,o<0&&(o+=Ds),i%=Ds,i<0&&(i+=Ds),o>i&&!a?i+=Ds:o<i&&a&&(o+=Ds),a){var f=i;i=o,o=f}for(var p=0;p<i;p+=Math.PI/2)p>o&&(As[0]=Ms(p)*n+e,As[1]=Ts(p)*r+t,u(s,As,s),c(l,As,l))}var zs={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Vs=[],Hs=[],Us=[],$s=[],qs=[],Ws=[],Gs=Math.min,Ys=Math.max,Ks=Math.cos,Xs=Math.sin,Js=Math.sqrt,Zs=Math.abs,Qs=Math.PI,el=2*Qs,tl="undefined"!==typeof Float32Array,nl=[];function rl(e){var t=Math.round(e/Qs*1e8)/1e8;return t%2*Qs}function ol(e,t){var n=rl(e[0]);n<0&&(n+=el);var r=n-e[0],o=e[1];o+=r,!t&&o-n>=el?o=n+el:t&&n-o>=el?o=n-el:!t&&n>o?o=n+(el-rl(n-o)):t&&n<o&&(o=n-(el-rl(o-n))),e[0]=n,e[1]=o}var il=function(){function e(e){this.dpr=1,this._version=0,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(e,t,n){n=n||0,n>0&&(this._ux=Zs(n/Rr/e)||0,this._uy=Zs(n/Rr/t)||0)},e.prototype.setDPR=function(e){this.dpr=e},e.prototype.setContext=function(e){this._ctx=e},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(e,t){return this.addData(zs.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},e.prototype.lineTo=function(e,t){var n=Zs(e-this._xi)>this._ux||Zs(t-this._yi)>this._uy||this._len<5;return this.addData(zs.L,e,t),this._ctx&&n&&(this._needsDash?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},e.prototype.bezierCurveTo=function(e,t,n,r,o,i){return this.addData(zs.C,e,t,n,r,o,i),this._ctx&&(this._needsDash?this._dashedBezierTo(e,t,n,r,o,i):this._ctx.bezierCurveTo(e,t,n,r,o,i)),this._xi=o,this._yi=i,this},e.prototype.quadraticCurveTo=function(e,t,n,r){return this.addData(zs.Q,e,t,n,r),this._ctx&&(this._needsDash?this._dashedQuadraticTo(e,t,n,r):this._ctx.quadraticCurveTo(e,t,n,r)),this._xi=n,this._yi=r,this},e.prototype.arc=function(e,t,n,r,o,i){nl[0]=r,nl[1]=o,ol(nl,i),r=nl[0],o=nl[1];var a=o-r;return this.addData(zs.A,e,t,n,n,r,a,0,i?0:1),this._ctx&&this._ctx.arc(e,t,n,r,o,i),this._xi=Ks(o)*n+e,this._yi=Xs(o)*n+t,this},e.prototype.arcTo=function(e,t,n,r,o){return this._ctx&&this._ctx.arcTo(e,t,n,r,o),this},e.prototype.rect=function(e,t,n,r){return this._ctx&&this._ctx.rect(e,t,n,r),this.addData(zs.R,e,t,n,r),this},e.prototype.closePath=function(){this.addData(zs.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},e.prototype.fill=function(e){e&&e.fill(),this.toStatic()},e.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},e.prototype.setLineDash=function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},e.prototype.setLineDashOffset=function(e){return this._dashOffset=e,this},e.prototype.len=function(){return this._len},e.prototype.setData=function(e){var t=e.length;this.data&&this.data.length===t||!tl||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},e.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,r=this._len,o=0;o<t;o++)n+=e[o].len();tl&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(o=0;o<t;o++)for(var i=e[o].data,a=0;a<i.length;a++)this.data[r++]=i[a];this._len=r},e.prototype.addData=function(e,t,n,r,o,i,a,s,l){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var c=0;c<arguments.length;c++)u[this._len++]=arguments[c]}},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},e.prototype._dashedLineTo=function(e,t){var n,r,o=this._dashSum,i=this._lineDash,a=this._ctx,s=this._dashOffset,l=this._xi,u=this._yi,c=e-l,d=t-u,f=Js(c*c+d*d),p=l,h=u,m=i.length;c/=f,d/=f,s<0&&(s=o+s),s%=o,p-=s*c,h-=s*d;while(c>0&&p<=e||c<0&&p>=e||0===c&&(d>0&&h<=t||d<0&&h>=t))r=this._dashIdx,n=i[r],p+=c*n,h+=d*n,this._dashIdx=(r+1)%m,c>0&&p<l||c<0&&p>l||d>0&&h<u||d<0&&h>u||a[r%2?"moveTo":"lineTo"](c>=0?Gs(p,e):Ys(p,e),d>=0?Gs(h,t):Ys(h,t));c=p-e,d=h-t,this._dashOffset=-Js(c*c+d*d)},e.prototype._dashedBezierTo=function(e,t,n,r,o,i){var a,s,l,u,c,d=this._ctx,f=this._dashSum,p=this._dashOffset,h=this._lineDash,m=this._xi,g=this._yi,v=0,y=this._dashIdx,b=h.length,x=0;for(p<0&&(p=f+p),p%=f,a=0;a<1;a+=.1)s=ds(m,e,n,o,a+.1)-ds(m,e,n,o,a),l=ds(g,t,r,i,a+.1)-ds(g,t,r,i,a),v+=Js(s*s+l*l);for(;y<b;y++)if(x+=h[y],x>p)break;a=(x-p)/v;while(a<=1)u=ds(m,e,n,o,a),c=ds(g,t,r,i,a),y%2?d.moveTo(u,c):d.lineTo(u,c),a+=h[y]/v,y=(y+1)%b;y%2!==0&&d.lineTo(o,i),s=o-u,l=i-c,this._dashOffset=-Js(s*s+l*l)},e.prototype._dashedQuadraticTo=function(e,t,n,r){var o=n,i=r;n=(n+2*e)/3,r=(r+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,n,r,o,i)},e.prototype.toStatic=function(){if(this._saveData){var e=this.data;e instanceof Array&&(e.length=this._len,tl&&this._len>11&&(this.data=new Float32Array(e)))}},e.prototype.getBoundingRect=function(){Us[0]=Us[1]=qs[0]=qs[1]=Number.MAX_VALUE,$s[0]=$s[1]=Ws[0]=Ws[1]=-Number.MAX_VALUE;var e,t=this.data,n=0,r=0,o=0,i=0;for(e=0;e<this._len;){var a=t[e++],s=1===e;switch(s&&(n=t[e],r=t[e+1],o=n,i=r),a){case zs.M:n=o=t[e++],r=i=t[e++],qs[0]=o,qs[1]=i,Ws[0]=o,Ws[1]=i;break;case zs.L:js(n,r,t[e],t[e+1],qs,Ws),n=t[e++],r=t[e++];break;case zs.C:Rs(n,r,t[e++],t[e++],t[e++],t[e++],t[e],t[e+1],qs,Ws),n=t[e++],r=t[e++];break;case zs.Q:Bs(n,r,t[e++],t[e++],t[e],t[e+1],qs,Ws),n=t[e++],r=t[e++];break;case zs.A:var l=t[e++],u=t[e++],c=t[e++],d=t[e++],f=t[e++],p=t[e++]+f;e+=1;var h=!t[e++];s&&(o=Ks(f)*c+l,i=Xs(f)*d+u),Fs(l,u,c,d,f,p,h,qs,Ws),n=Ks(p)*c+l,r=Xs(p)*d+u;break;case zs.R:o=n=t[e++],i=r=t[e++];var m=t[e++],g=t[e++];js(o,i,o+m,i+g,qs,Ws);break;case zs.Z:n=o,r=i;break}nt(Us,Us,qs),rt($s,$s,Ws)}return 0===e&&(Us[0]=Us[1]=$s[0]=$s[1]=0),new Cr(Us[0],Us[1],$s[0]-Us[0],$s[1]-Us[1])},e.prototype._calculateLength=function(){var e=this.data,t=this._len,n=this._ux,r=this._uy,o=0,i=0,a=0,s=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,u=0,c=0,d=0;d<t;){var f=e[d++],p=1===d;p&&(o=e[d],i=e[d+1],a=o,s=i);var h=-1;switch(f){case zs.M:o=a=e[d++],i=s=e[d++];break;case zs.L:var m=e[d++],g=e[d++],v=m-o,y=g-i;(Zs(v)>n||Zs(y)>r||d===t-1)&&(h=Math.sqrt(v*v+y*y),o=m,i=g);break;case zs.C:var b=e[d++],x=e[d++],w=(m=e[d++],g=e[d++],e[d++]),_=e[d++];h=vs(o,i,b,x,m,g,w,_,10),o=w,i=_;break;case zs.Q:b=e[d++],x=e[d++],m=e[d++],g=e[d++];h=Ss(o,i,b,x,m,g,10),o=m,i=g;break;case zs.A:var C=e[d++],S=e[d++],k=e[d++],O=e[d++],T=e[d++],M=e[d++],D=M+T;d+=1;e[d++];p&&(a=Ks(T)*k+C,s=Xs(T)*O+S),h=Ys(k,O)*Gs(el,Math.abs(M)),o=Ks(D)*k+C,i=Xs(D)*O+S;break;case zs.R:a=o=e[d++],s=i=e[d++];var I=e[d++],E=e[d++];h=2*I+2*E;break;case zs.Z:v=a-o,y=s-i;h=Math.sqrt(v*v+y*y),o=a,i=s;break}h>=0&&(l[c++]=h,u+=h)}return this._pathLen=u,u},e.prototype.rebuildPath=function(e,t){var n,r,o,i,a,s,l,u,c,d=this.data,f=this._ux,p=this._uy,h=this._len,m=t<1,g=0,v=0;if(!m||(this._pathSegLen||this._calculateLength(),l=this._pathSegLen,u=this._pathLen,c=t*u,c))e:for(var y=0;y<h;){var b=d[y++],x=1===y;switch(x&&(o=d[y],i=d[y+1],n=o,r=i),b){case zs.M:n=o=d[y++],r=i=d[y++],e.moveTo(o,i);break;case zs.L:if(a=d[y++],s=d[y++],Zs(a-o)>f||Zs(s-i)>p||y===h-1){if(m){var w=l[v++];if(g+w>c){var _=(c-g)/w;e.lineTo(o*(1-_)+a*_,i*(1-_)+s*_);break e}g+=w}e.lineTo(a,s),o=a,i=s}break;case zs.C:var C=d[y++],S=d[y++],k=d[y++],O=d[y++],T=d[y++],M=d[y++];if(m){w=l[v++];if(g+w>c){_=(c-g)/w;ms(o,C,k,T,_,Vs),ms(i,S,O,M,_,Hs),e.bezierCurveTo(Vs[1],Hs[1],Vs[2],Hs[2],Vs[3],Hs[3]);break e}g+=w}e.bezierCurveTo(C,S,k,O,T,M),o=T,i=M;break;case zs.Q:C=d[y++],S=d[y++],k=d[y++],O=d[y++];if(m){w=l[v++];if(g+w>c){_=(c-g)/w;_s(o,C,k,_,Vs),_s(i,S,O,_,Hs),e.quadraticCurveTo(Vs[1],Hs[1],Vs[2],Hs[2]);break e}g+=w}e.quadraticCurveTo(C,S,k,O),o=k,i=O;break;case zs.A:var D=d[y++],I=d[y++],E=d[y++],A=d[y++],L=d[y++],j=d[y++],N=d[y++],P=!d[y++],R=E>A?E:A,B=Zs(E-A)>.001,F=L+j,z=!1;if(m){w=l[v++];g+w>c&&(F=L+j*(c-g)/w,z=!0),g+=w}if(B&&e.ellipse?e.ellipse(D,I,E,A,N,L,F,P):e.arc(D,I,R,L,F,P),z)break e;x&&(n=Ks(L)*E+D,r=Xs(L)*A+I),o=Ks(F)*E+D,i=Xs(F)*A+I;break;case zs.R:n=o=d[y],r=i=d[y+1],a=d[y++],s=d[y++];var V=d[y++],H=d[y++];if(m){w=l[v++];if(g+w>c){var U=c-g;e.moveTo(a,s),e.lineTo(a+Gs(U,V),s),U-=V,U>0&&e.lineTo(a+V,s+Gs(U,H)),U-=H,U>0&&e.lineTo(a+Ys(V-U,0),s+H),U-=V,U>0&&e.lineTo(a,s+Ys(H-U,0));break e}g+=w}e.rect(a,s,V,H);break;case zs.Z:if(m){w=l[v++];if(g+w>c){_=(c-g)/w;e.lineTo(o*(1-_)+n*_,i*(1-_)+r*_);break e}g+=w}e.closePath(),o=n,i=r}}},e.CMD=zs,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._needsDash=!1,t._dashOffset=0,t._dashIdx=0,t._dashSum=0,t._ux=0,t._uy=0}(),e}(),al=il;function sl(e,t,n,r,o,i,a){if(0===o)return!1;var s=o,l=0,u=e;if(a>t+s&&a>r+s||a<t-s&&a<r-s||i>e+s&&i>n+s||i<e-s&&i<n-s)return!1;if(e===n)return Math.abs(i-e)<=s/2;l=(t-r)/(e-n),u=(e*r-n*t)/(e-n);var c=l*i-a+u,d=c*c/(l*l+1);return d<=s/2*s/2}function ll(e,t,n,r,o,i,a,s,l,u,c){if(0===l)return!1;var d=l;if(c>t+d&&c>r+d&&c>i+d&&c>s+d||c<t-d&&c<r-d&&c<i-d&&c<s-d||u>e+d&&u>n+d&&u>o+d&&u>a+d||u<e-d&&u<n-d&&u<o-d&&u<a-d)return!1;var f=gs(e,t,n,r,o,i,a,s,u,c,null);return f<=d/2}function ul(e,t,n,r,o,i,a,s,l){if(0===a)return!1;var u=a;if(l>t+u&&l>r+u&&l>i+u||l<t-u&&l<r-u&&l<i-u||s>e+u&&s>n+u&&s>o+u||s<e-u&&s<n-u&&s<o-u)return!1;var c=Cs(e,t,n,r,o,i,s,l,null);return c<=u/2}var cl=2*Math.PI;function dl(e){return e%=cl,e<0&&(e+=cl),e}var fl=2*Math.PI;function pl(e,t,n,r,o,i,a,s,l){if(0===a)return!1;var u=a;s-=e,l-=t;var c=Math.sqrt(s*s+l*l);if(c-u>n||c+u<n)return!1;if(Math.abs(r-o)%fl<1e-4)return!0;if(i){var d=r;r=dl(o),o=dl(d)}else r=dl(r),o=dl(o);r>o&&(o+=fl);var f=Math.atan2(l,s);return f<0&&(f+=fl),f>=r&&f<=o||f+fl>=r&&f+fl<=o}function hl(e,t,n,r,o,i){if(i>t&&i>r||i<t&&i<r)return 0;if(r===t)return 0;var a=(i-t)/(r-t),s=r<t?1:-1;1!==a&&0!==a||(s=r<t?.5:-.5);var l=a*(n-e)+e;return l===o?1/0:l>o?s:0}var ml=al.CMD,gl=2*Math.PI,vl=1e-4;function yl(e,t){return Math.abs(e-t)<vl}var bl=[-1,-1,-1],xl=[-1,-1];function wl(){var e=xl[0];xl[0]=xl[1],xl[1]=e}function _l(e,t,n,r,o,i,a,s,l,u){if(u>t&&u>r&&u>i&&u>s||u<t&&u<r&&u<i&&u<s)return 0;var c=ps(t,r,i,s,u,bl);if(0===c)return 0;for(var d=0,f=-1,p=void 0,h=void 0,m=0;m<c;m++){var g=bl[m],v=0===g||1===g?.5:1,y=ds(e,n,o,a,g);y<l||(f<0&&(f=hs(t,r,i,s,xl),xl[1]<xl[0]&&f>1&&wl(),p=ds(t,r,i,s,xl[0]),f>1&&(h=ds(t,r,i,s,xl[1]))),2===f?g<xl[0]?d+=p<t?v:-v:g<xl[1]?d+=h<p?v:-v:d+=s<h?v:-v:g<xl[0]?d+=p<t?v:-v:d+=s<p?v:-v)}return d}function Cl(e,t,n,r,o,i,a,s){if(s>t&&s>r&&s>i||s<t&&s<r&&s<i)return 0;var l=xs(t,r,i,s,bl);if(0===l)return 0;var u=ws(t,r,i);if(u>=0&&u<=1){for(var c=0,d=ys(t,r,i,u),f=0;f<l;f++){var p=0===bl[f]||1===bl[f]?.5:1,h=ys(e,n,o,bl[f]);h<a||(bl[f]<u?c+=d<t?p:-p:c+=i<d?p:-p)}return c}p=0===bl[0]||1===bl[0]?.5:1,h=ys(e,n,o,bl[0]);return h<a?0:i<t?p:-p}function Sl(e,t,n,r,o,i,a,s){if(s-=t,s>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);bl[0]=-l,bl[1]=l;var u=Math.abs(r-o);if(u<1e-4)return 0;if(u>=gl-1e-4){r=0,o=gl;var c=i?1:-1;return a>=bl[0]+e&&a<=bl[1]+e?c:0}if(r>o){var d=r;r=o,o=d}r<0&&(r+=gl,o+=gl);for(var f=0,p=0;p<2;p++){var h=bl[p];if(h+e>a){var m=Math.atan2(s,h);c=i?1:-1;m<0&&(m=gl+m),(m>=r&&m<=o||m+gl>=r&&m+gl<=o)&&(m>Math.PI/2&&m<1.5*Math.PI&&(c=-c),f+=c)}}return f}function kl(e,t,n,r,o){for(var i,a,s=e.data,l=e.len(),u=0,c=0,d=0,f=0,p=0,h=0;h<l;){var m=s[h++],g=1===h;switch(m===ml.M&&h>1&&(n||(u+=hl(c,d,f,p,r,o))),g&&(c=s[h],d=s[h+1],f=c,p=d),m){case ml.M:f=s[h++],p=s[h++],c=f,d=p;break;case ml.L:if(n){if(sl(c,d,s[h],s[h+1],t,r,o))return!0}else u+=hl(c,d,s[h],s[h+1],r,o)||0;c=s[h++],d=s[h++];break;case ml.C:if(n){if(ll(c,d,s[h++],s[h++],s[h++],s[h++],s[h],s[h+1],t,r,o))return!0}else u+=_l(c,d,s[h++],s[h++],s[h++],s[h++],s[h],s[h+1],r,o)||0;c=s[h++],d=s[h++];break;case ml.Q:if(n){if(ul(c,d,s[h++],s[h++],s[h],s[h+1],t,r,o))return!0}else u+=Cl(c,d,s[h++],s[h++],s[h],s[h+1],r,o)||0;c=s[h++],d=s[h++];break;case ml.A:var v=s[h++],y=s[h++],b=s[h++],x=s[h++],w=s[h++],_=s[h++];h+=1;var C=!!(1-s[h++]);i=Math.cos(w)*b+v,a=Math.sin(w)*x+y,g?(f=i,p=a):u+=hl(c,d,i,a,r,o);var S=(r-v)*x/b+v;if(n){if(pl(v,y,x,w,w+_,C,t,S,o))return!0}else u+=Sl(v,y,x,w,w+_,C,S,o);c=Math.cos(w+_)*b+v,d=Math.sin(w+_)*x+y;break;case ml.R:f=c=s[h++],p=d=s[h++];var k=s[h++],O=s[h++];if(i=f+k,a=p+O,n){if(sl(f,p,i,p,t,r,o)||sl(i,p,i,a,t,r,o)||sl(i,a,f,a,t,r,o)||sl(f,a,f,p,t,r,o))return!0}else u+=hl(i,p,i,a,r,o),u+=hl(f,a,f,p,r,o);break;case ml.Z:if(n){if(sl(c,d,f,p,t,r,o))return!0}else u+=hl(c,d,f,p,r,o);c=f,d=p;break}}return n||yl(d,p)||(u+=hl(c,d,f,p,r,o)||0),0!==u}function Ol(e,t,n){return kl(e,0,!1,t,n)}function Tl(e,t,n,r){return kl(e,t,!0,n,r)}var Ml=U({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Wa),Dl={style:U({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Ga.style)},Il=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],El=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.update=function(){var n=this;e.prototype.update.call(this);var r=this.style;if(r.decal){var o=this._decalEl=this._decalEl||new t;o.buildPath===t.prototype.buildPath&&(o.buildPath=function(e){n.buildPath(e,n.shape)}),o.silent=!0;var i=o.style;for(var a in r)i[a]!==r[a]&&(i[a]=r[a]);i.fill=r.fill?r.decal:null,i.decal=null,i.shadowColor=null,r.strokeFirst&&(i.stroke=null);for(var s=0;s<Il.length;++s)o[Il[s]]=this[Il[s]];o.__dirty|=Qr.REDARAW_BIT}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(t){var n=ee(t);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var o=0;o<n.length;o++){var i=n[o],a=t[i];"style"===i?this.style?H(this.style,a):this.useStyle(a):"shape"===i?H(this.shape,a):e.prototype.attrKV.call(this,i,a)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if("none"!==e){if(ae(e)){var t=Un(e,0);return t>.5?Fr:t>.2?Vr:zr}if(e)return zr}return Fr},t.prototype.getInsideTextStroke=function(e){var t=this.style.fill;if(ae(t)){var n=this.__zr,r=!(!n||!n.isDarkMode()),o=Un(e,0)<Br;if(r===o)return t}},t.prototype.buildPath=function(e,t,n){},t.prototype.pathUpdated=function(){this.__dirty&=~t.SHAPE_CHANGED_BIT},t.prototype.createPathProxy=function(){this.path=new al(!1)},t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return!(null==t||"none"===t||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style,t=e.fill;return null!=t&&"none"!==t},t.prototype.getBoundingRect=function(){var e=this._rect,n=this.style,r=!e;if(r){var o=!1;this.path||(o=!0,this.createPathProxy());var i=this.path;(o||this.__dirty&t.SHAPE_CHANGED_BIT)&&(i.beginPath(),this.buildPath(i,this.shape,!1),this.pathUpdated()),e=i.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var a=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||r){a.copy(e);var s=n.strokeNoScale?this.getLineScale():1,l=n.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;l=Math.max(l,null==u?4:u)}s>1e-10&&(a.width+=l/s,a.height+=l/s,a.x-=l/s/2,a.y-=l/s/2)}return a}return e},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect(),o=this.style;if(e=n[0],t=n[1],r.contain(e,t)){var i=this.path;if(this.hasStroke()){var a=o.lineWidth,s=o.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),Tl(i,a/s,e,t)))return!0}if(this.hasFill())return Ol(i,e,t)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=t.SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():"shape"===e?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(t,n){"shape"===t?this.setShape(n):e.prototype.attrKV.call(this,t,n)},t.prototype.setShape=function(e,t){var n=this.shape;return n||(n=this.shape={}),"string"===typeof e?n[e]=t:H(n,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&t.SHAPE_CHANGED_BIT)},t.prototype.createStyle=function(e){return Ie(Ml,e)},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.shape&&!n.shape&&(n.shape=H({},this.shape))},t.prototype._applyStateObj=function(t,n,r,o,i,a){e.prototype._applyStateObj.call(this,t,n,r,o,i,a);var s,l=!(n&&o);if(n&&n.shape?i?o?s=n.shape:(s=H({},r.shape),H(s,n.shape)):(s=H({},o?this.shape:r.shape),H(s,n.shape)):l&&(s=r.shape),s)if(i){this.shape=H({},this.shape);for(var u={},c=ee(s),d=0;d<c.length;d++){var f=c[d];"object"===typeof s[f]?this.shape[f]=s[f]:u[f]=s[f]}this._transitionState(t,{shape:u},a)}else this.shape=s,this.dirtyShape()},t.prototype._mergeStates=function(t){for(var n,r=e.prototype._mergeStates.call(this,t),o=0;o<t.length;o++){var i=t[o];i.shape&&(n=n||{},this._mergeStyle(n,i.shape))}return n&&(r.shape=n),r},t.prototype.getAnimationStyleProps=function(){return Dl},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n=function(t){function n(n){var r=t.call(this,n)||this;return e.init&&e.init.call(r,n),r}return g(n,t),n.prototype.getDefaultStyle=function(){return F(e.style)},n.prototype.getDefaultShape=function(){return F(e.shape)},n}(t);for(var r in e)"function"===typeof e[r]&&(n.prototype[r]=e[r]);return n},t.SHAPE_CHANGED_BIT=4,t.initDefaultProps=function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=Qr.REDARAW_BIT|Qa.STYLE_CHANGED_BIT|t.SHAPE_CHANGED_BIT}(),t}(Qa),Al=El,Ll=U({strokeFirst:!0,font:kr,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Ml),jl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return null!=t&&"none"!==t&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style,t=e.fill;return null!=t&&"none"!==t},t.prototype.createStyle=function(e){return Ie(Ll,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var t=e.text;null!=t?t+="":t="";var n=Ir(t,e.font,e.textAlign,e.textBaseline);if(n.x+=e.x||0,n.y+=e.y||0,this.hasStroke()){var r=e.lineWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect},t.initDefaultProps=function(){var e=t.prototype;e.dirtyRectTolerance=10}(),t}(Qa);jl.prototype.type="tspan";var Nl=jl,Pl=U({x:0,y:0},Wa),Rl={style:U({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Ga.style)};function Bl(e){return!!(e&&"string"!==typeof e&&e.width&&e.height)}var Fl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.createStyle=function(e){return Ie(Pl,e)},t.prototype._getSize=function(e){var t=this.style,n=t[e];if(null!=n)return n;var r=Bl(t.image)?t.image:this.__image;if(!r)return 0;var o="width"===e?"height":"width",i=t[o];return null==i?r[e]:r[e]/r[o]*i},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return Rl},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new Cr(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Qa);Fl.prototype.type="image";var zl=Fl;function Vl(e,t){var n,r,o,i,a,s=t.x,l=t.y,u=t.width,c=t.height,d=t.r;u<0&&(s+=u,u=-u),c<0&&(l+=c,c=-c),"number"===typeof d?n=r=o=i=d:d instanceof Array?1===d.length?n=r=o=i=d[0]:2===d.length?(n=o=d[0],r=i=d[1]):3===d.length?(n=d[0],r=i=d[1],o=d[2]):(n=d[0],r=d[1],o=d[2],i=d[3]):n=r=o=i=0,n+r>u&&(a=n+r,n*=u/a,r*=u/a),o+i>u&&(a=o+i,o*=u/a,i*=u/a),r+o>c&&(a=r+o,r*=c/a,o*=c/a),n+i>c&&(a=n+i,n*=c/a,i*=c/a),e.moveTo(s+n,l),e.lineTo(s+u-r,l),0!==r&&e.arc(s+u-r,l+r,r,-Math.PI/2,0),e.lineTo(s+u,l+c-o),0!==o&&e.arc(s+u-o,l+c-o,o,0,Math.PI/2),e.lineTo(s+i,l+c),0!==i&&e.arc(s+i,l+c-i,i,Math.PI/2,Math.PI),e.lineTo(s,l+n),0!==n&&e.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}var Hl=Math.round;function Ul(e,t,n){if(t){var r=t.x1,o=t.x2,i=t.y1,a=t.y2;e.x1=r,e.x2=o,e.y1=i,e.y2=a;var s=n&&n.lineWidth;return s?(Hl(2*r)===Hl(2*o)&&(e.x1=e.x2=ql(r,s,!0)),Hl(2*i)===Hl(2*a)&&(e.y1=e.y2=ql(i,s,!0)),e):e}}function $l(e,t,n){if(t){var r=t.x,o=t.y,i=t.width,a=t.height;e.x=r,e.y=o,e.width=i,e.height=a;var s=n&&n.lineWidth;return s?(e.x=ql(r,s,!0),e.y=ql(o,s,!0),e.width=Math.max(ql(r+i,s,!1)-e.x,0===i?0:1),e.height=Math.max(ql(o+a,s,!1)-e.y,0===a?0:1),e):e}}function ql(e,t,n){if(!t)return e;var r=Hl(2*e);return(r+Hl(t))%2===0?r/2:(r+(n?1:-1))/2}var Wl=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),Gl={},Yl=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.getDefaultShape=function(){return new Wl},t.prototype.buildPath=function(e,t){var n,r,o,i;if(this.subPixelOptimize){var a=$l(Gl,t,this.style);n=a.x,r=a.y,o=a.width,i=a.height,a.r=t.r,t=a}else n=t.x,r=t.y,o=t.width,i=t.height;t.r?Vl(e,t):e.rect(n,r,o,i)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Al);Yl.prototype.type="rect";var Kl=Yl,Xl={fill:"#000"},Jl=2,Zl={style:U({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Ga.style)},Ql=function(e){function t(t){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=Xl,n.attr(t),n}return g(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var n=this._children[t];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}var r=this.attachedTransform;if(r){r.updateTransform();var o=r.transform;o?(this.transform=this.transform||[],Gt(this.transform,o)):this.transform=null}else e.prototype.update.call(this)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),this.attachedTransform?this.attachedTransform.getComputedTransform():e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,nu(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=t},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new Cr(0,0,0,0),t=this._children,n=[],r=null,o=0;o<t.length;o++){var i=t[o],a=i.getBoundingRect(),s=i.getLocalTransform(n);s?(e.copy(a),e.applyTransform(s),r=r||e.clone(),r.union(e)):(r=r||a.clone(),r.union(a))}this._rect=r||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||Xl},t.prototype.setTextContent=function(e){throw new Error("Can't attach text on another text")},t.prototype._mergeStyle=function(e,t){if(!t)return e;var n=t.rich,r=e.rich||n&&{};return H(e,t),n&&r?(this._mergeRich(r,n),e.rich=r):r&&(e.rich=r),e},t.prototype._mergeRich=function(e,t){for(var n=ee(t),r=0;r<n.length;r++){var o=n[r];e[o]=e[o]||{},H(e[o],t[o])}},t.prototype.getAnimationStyleProps=function(){return Zl},t.prototype._getOrCreateChild=function(e){var t=this._children[this._childCursor];return t&&t instanceof e||(t=new e),this._children[this._childCursor++]=t,t.__zr=this.__zr,t.parent=this,t},t.prototype._updatePlainTexts=function(){var e=this.style,t=e.font||kr,n=e.padding,r=su(e),o=ja(r,e),i=lu(e),a=!!e.backgroundColor,s=o.outerHeight,l=o.lines,u=o.lineHeight,c=this._defaultStyle,d=e.x||0,f=e.y||0,p=e.align||c.align||"left",h=e.verticalAlign||c.verticalAlign||"top",m=d,g=Ar(f,o.contentHeight,h);if(i||n){var v=o.width;n&&(v+=n[1]+n[3]);var y=Er(d,v,p),b=Ar(f,s,h);i&&this._renderBackground(e,e,y,b,v,s)}g+=u/2,n&&(m=au(d,p,n),"top"===h?g+=n[0]:"bottom"===h&&(g-=n[2]));for(var x=0,w=!1,_=(iu("fill"in e?e.fill:(w=!0,c.fill))),C=(ou("stroke"in e?e.stroke:a||c.autoStroke&&!w?null:(x=Jl,c.stroke))),S=e.textShadowBlur>0,k=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),O=o.calculatedLineHeight,T=0;T<l.length;T++){var M=this._getOrCreateChild(Nl),D=M.createStyle();M.useStyle(D),D.text=l[T],D.x=m,D.y=g,p&&(D.textAlign=p),D.textBaseline="middle",D.opacity=e.opacity,D.strokeFirst=!0,S&&(D.shadowBlur=e.textShadowBlur||0,D.shadowColor=e.textShadowColor||"transparent",D.shadowOffsetX=e.textShadowOffsetX||0,D.shadowOffsetY=e.textShadowOffsetY||0),C&&(D.stroke=C,D.lineWidth=e.lineWidth||x,D.lineDash=e.lineDash,D.lineDashOffset=e.lineDashOffset||0),_&&(D.fill=_),D.font=t,g+=u,k&&M.setBoundingRect(new Cr(Er(D.x,e.width,D.textAlign),Ar(D.y,O,D.textBaseline),e.width,O))}},t.prototype._updateRichTexts=function(){var e=this.style,t=su(e),n=Ba(t,e),r=n.width,o=n.outerWidth,i=n.outerHeight,a=e.padding,s=e.x||0,l=e.y||0,u=this._defaultStyle,c=e.align||u.align,d=e.verticalAlign||u.verticalAlign,f=Er(s,o,c),p=Ar(l,i,d),h=f,m=p;a&&(h+=a[3],m+=a[0]);var g=h+r;lu(e)&&this._renderBackground(e,e,f,p,o,i);for(var v=!!e.backgroundColor,y=0;y<n.lines.length;y++){var b=n.lines[y],x=b.tokens,w=x.length,_=b.lineHeight,C=b.width,S=0,k=h,O=g,T=w-1,M=void 0;while(S<w&&(M=x[S],!M.align||"left"===M.align))this._placeToken(M,e,_,m,k,"left",v),C-=M.width,k+=M.width,S++;while(T>=0&&(M=x[T],"right"===M.align))this._placeToken(M,e,_,m,O,"right",v),C-=M.width,O-=M.width,T--;k+=(r-(k-h)-(g-O)-C)/2;while(S<=T)M=x[S],this._placeToken(M,e,_,m,k+M.width/2,"center",v),k+=M.width,S++;m+=_}},t.prototype._placeToken=function(e,t,n,r,o,i,a){var s=t.rich[e.styleName]||{};s.text=e.text;var l=e.verticalAlign,u=r+n/2;"top"===l?u=r+e.height/2:"bottom"===l&&(u=r+n-e.height/2);var c=!e.isLineHolder&&lu(s);c&&this._renderBackground(s,t,"right"===i?o-e.width:"center"===i?o-e.width/2:o,u-e.height/2,e.width,e.height);var d=!!s.backgroundColor,f=e.textPadding;f&&(o=au(o,i,f),u-=e.height/2-f[0]-e.innerHeight/2);var p=this._getOrCreateChild(Nl),h=p.createStyle();p.useStyle(h);var m=this._defaultStyle,g=!1,v=0,y=ou("fill"in s?s.fill:"fill"in t?t.fill:(g=!0,m.fill)),b=ou("stroke"in s?s.stroke:"stroke"in t?t.stroke:d||a||m.autoStroke&&!g?null:(v=Jl,m.stroke)),x=s.textShadowBlur>0||t.textShadowBlur>0;h.text=e.text,h.x=o,h.y=u,x&&(h.shadowBlur=s.textShadowBlur||t.textShadowBlur||0,h.shadowColor=s.textShadowColor||t.textShadowColor||"transparent",h.shadowOffsetX=s.textShadowOffsetX||t.textShadowOffsetX||0,h.shadowOffsetY=s.textShadowOffsetY||t.textShadowOffsetY||0),h.textAlign=i,h.textBaseline="middle",h.font=e.font||kr,h.opacity=be(s.opacity,t.opacity,1),b&&(h.lineWidth=be(s.lineWidth,t.lineWidth,v),h.lineDash=ye(s.lineDash,t.lineDash),h.lineDashOffset=t.lineDashOffset||0,h.stroke=b),y&&(h.fill=y);var w=e.contentWidth,_=e.contentHeight;p.setBoundingRect(new Cr(Er(h.x,w,h.textAlign),Ar(h.y,_,h.textBaseline),w,_))},t.prototype._renderBackground=function(e,t,n,r,o,i){var a,s,l=e.backgroundColor,u=e.borderWidth,c=e.borderColor,d=ae(l),f=e.borderRadius,p=this;if(d||u&&c){a=this._getOrCreateChild(Kl),a.useStyle(a.createStyle()),a.style.fill=null;var h=a.shape;h.x=n,h.y=r,h.width=o,h.height=i,h.r=f,a.dirtyShape()}if(d){var m=a.style;m.fill=l||null,m.fillOpacity=ye(e.fillOpacity,1)}else if(l&&l.image){s=this._getOrCreateChild(zl),s.onload=function(){p.dirtyStyle()};var g=s.style;g.image=l.image,g.x=n,g.y=r,g.width=o,g.height=i}if(u&&c){m=a.style;m.lineWidth=u,m.stroke=c,m.strokeOpacity=ye(e.strokeOpacity,1),m.lineDash=e.borderDash,m.lineDashOffset=e.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(m.strokeFirst=!0,m.lineWidth*=2)}var v=(a||s).style;v.shadowBlur=e.shadowBlur||0,v.shadowColor=e.shadowColor||"transparent",v.shadowOffsetX=e.shadowOffsetX||0,v.shadowOffsetY=e.shadowOffsetY||0,v.opacity=be(e.opacity,t.opacity,1)},t.makeFont=function(e){var t="";if(e.fontSize||e.fontFamily||e.fontWeight){var n="";n="string"!==typeof e.fontSize||-1===e.fontSize.indexOf("px")&&-1===e.fontSize.indexOf("rem")&&-1===e.fontSize.indexOf("em")?isNaN(+e.fontSize)?"12px":e.fontSize+"px":e.fontSize,t=[e.fontStyle,e.fontWeight,n,e.fontFamily||"sans-serif"].join(" ")}return t&&Ce(t)||e.textFont||e.font},t}(Qa),eu={left:!0,right:1,center:1},tu={top:1,bottom:1,middle:1};function nu(e){return ru(e),K(e.rich,ru),e}function ru(e){if(e){e.font=Ql.makeFont(e);var t=e.align;"middle"===t&&(t="center"),e.align=null==t||eu[t]?t:"left";var n=e.verticalAlign;"center"===n&&(n="middle"),e.verticalAlign=null==n||tu[n]?n:"top";var r=e.padding;r&&(e.padding=we(e.padding))}}function ou(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function iu(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function au(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function su(e){var t=e.text;return null!=t&&(t+=""),t}function lu(e){return!!(e.backgroundColor||e.borderWidth&&e.borderColor)}var uu=Ql,cu=Ki(),du=1,fu={},pu=Ki(),hu=0,mu=1,gu=2,vu=["emphasis","blur","select"],yu=["normal","emphasis","blur","select"],bu=10,xu=9,wu="highlight",_u="downplay",Cu="select",Su="unselect",ku="toggleSelect";function Ou(e){return null!=e&&"none"!==e}var Tu=new vn(100);function Mu(e){if("string"!==typeof e)return e;var t=Tu.get(e);return t||(t=jn(e,-.1),Tu.put(e,t)),t}function Du(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function Iu(e){Du(e,"emphasis",gu)}function Eu(e){e.hoverState===gu&&Du(e,"normal",hu)}function Au(e){Du(e,"blur",mu)}function Lu(e){e.hoverState===mu&&Du(e,"normal",hu)}function ju(e){e.selected=!0}function Nu(e){e.selected=!1}function Pu(e,t,n){t(e,n)}function Ru(e,t,n){Pu(e,t,n),e.isGroup&&e.traverse((function(e){Pu(e,t,n)}))}function Bu(e,t){switch(t){case"emphasis":e.hoverState=gu;break;case"normal":e.hoverState=hu;break;case"blur":e.hoverState=mu;break;case"select":e.selected=!0}}function Fu(e,t,n,r){for(var o=e.style,i={},a=0;a<t.length;a++){var s=t[a],l=o[s];i[s]=null==l?r&&r[s]:l}for(a=0;a<e.animators.length;a++){var u=e.animators[a];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&"style"===u.targetName&&u.saveFinalToTarget(i,t)}return i}function zu(e,t,n,r){var o=n&&q(n,"select")>=0,i=!1;if(e instanceof Al){var a=pu(e),s=o&&a.selectFill||a.normalFill,l=o&&a.selectStroke||a.normalStroke;if(Ou(s)||Ou(l)){r=r||{};var u=r.style||{};!Ou(u.fill)&&Ou(s)?(i=!0,r=H({},r),u=H({},u),u.fill=Mu(s)):!Ou(u.stroke)&&Ou(l)&&(i||(r=H({},r),u=H({},u)),u.stroke=Mu(l)),r.style=u}}if(r&&null==r.z2){i||(r=H({},r));var c=e.z2EmphasisLift;r.z2=e.z2+(null!=c?c:bu)}return r}function Vu(e,t,n){if(n&&null==n.z2){n=H({},n);var r=e.z2SelectLift;n.z2=e.z2+(null!=r?r:xu)}return n}function Hu(e,t,n){var r=q(e.currentStates,t)>=0,o=e.style.opacity,i=r?null:Fu(e,["opacity"],t,{opacity:1});n=n||{};var a=n.style||{};return null==a.opacity&&(n=H({},n),a=H({opacity:r?o:.1*i.opacity},a),n.style=a),n}function Uu(e,t){var n=this.states[e];if(this.style){if("emphasis"===e)return zu(this,e,t,n);if("blur"===e)return Hu(this,e,n);if("select"===e)return Vu(this,e,n)}return n}function $u(e){e.stateProxy=Uu;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=Uu),n&&(n.stateProxy=Uu)}function qu(e,t){!Qu(e,t)&&!e.__highByOuter&&Ru(e,Iu)}function Wu(e,t){!Qu(e,t)&&!e.__highByOuter&&Ru(e,Eu)}function Gu(e,t){e.__highByOuter|=1<<(t||0),Ru(e,Iu)}function Yu(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&Ru(e,Eu)}function Ku(e){Ru(e,Au)}function Xu(e){Ru(e,Lu)}function Ju(e){Ru(e,ju)}function Zu(e){Ru(e,Nu)}function Qu(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function ec(e){var t=e.getModel();t.eachComponent((function(t,n){var r="series"===t?e.getViewOfSeriesModel(n):e.getViewOfComponentModel(n);r.group.traverse((function(e){Lu(e)}))}))}function tc(e,t,n,r,o){var i=r.getModel();function a(e,t){for(var n=0;n<t.length;n++){var r=e.getItemGraphicEl(t[n]);r&&Xu(r)}}if(n=n||"coordinateSystem",o){if(null!=e&&t&&"none"!==t){var s=i.getSeriesByIndex(e),l=s.coordinateSystem;l&&l.master&&(l=l.master);var u=[];i.eachSeries((function(e){var o=s===e,i=e.coordinateSystem;i&&i.master&&(i=i.master);var c=i&&l?i===l:o;if(!("series"===n&&!o||"coordinateSystem"===n&&!c||"series"===t&&o)){var d=r.getViewOfSeriesModel(e);if(d.group.traverse((function(e){Au(e)})),Y(t))a(e.getData(),t);else if(ue(t))for(var f=ee(t),p=0;p<f.length;p++)a(e.getData(f[p]),t[f[p]]);u.push(e)}})),i.eachComponent((function(e,t){if("series"!==e){var n=r.getViewOfComponentModel(t);n&&n.blurSeries&&n.blurSeries(u,i)}}))}}else ec(r)}function nc(e,t,n){if(mc(t)){var r=t.type===wu,o=e.seriesIndex,i=e.getData(t.dataType),a=Yi(i,t);a=(oe(a)?a[0]:a)||0;var s=i.getItemGraphicEl(a);if(!s){var l=i.count(),u=0;while(!s&&u<l)s=i.getItemGraphicEl(u++)}if(s){var c=cu(s);tc(o,c.focus,c.blurScope,n,r)}else{var d=e.get(["emphasis","focus"]),f=e.get(["emphasis","blurScope"]);null!=d&&tc(o,d,f,n,r)}}}function rc(e,t,n){if(hc(t)){var r=t.dataType,o=e.getData(r),i=Yi(o,t);oe(i)||(i=[i]),e[t.type===ku?"toggleSelect":t.type===Cu?"select":"unselect"](i,r)}}function oc(e){var t=e.getAllData();K(t,(function(t){var n=t.data,r=t.type;n.eachItemGraphicEl((function(t,n){e.isSelected(n,r)?Ju(t):Zu(t)}))}))}function ic(e){var t=[];return e.eachSeries((function(e){var n=e.getAllData();K(n,(function(n){n.data;var r=n.type,o=e.getSelectedDataIndices();if(o.length>0){var i={dataIndex:o,seriesIndex:e.seriesIndex};null!=r&&(i.dataType=r),t.push(i)}}))})),t}function ac(e,t,n){dc(e,!0),Ru(e,$u),sc(e,t,n)}function sc(e,t,n){var r=cu(e);null!=t?(r.focus=t,r.blurScope=n):r.focus&&(r.focus=null)}var lc=["emphasis","blur","select"],uc={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function cc(e,t,n,r){n=n||"itemStyle";for(var o=0;o<lc.length;o++){var i=lc[o],a=t.getModel([i,n]),s=e.ensureState(i);s.style=r?r(a):a[uc[n]]()}}function dc(e,t){var n=!1===t,r=e;e.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=e.highDownSilentOnTouch),n&&!r.__highDownDispatcher||(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function fc(e){return!(!e||!e.__highDownDispatcher)}function pc(e){var t=fu[e];return null==t&&du<=32&&(t=fu[e]=du++),t}function hc(e){var t=e.type;return t===Cu||t===Su||t===ku}function mc(e){var t=e.type;return t===wu||t===_u}function gc(e){var t=pu(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}var vc=al.CMD,yc=[[],[],[]],bc=Math.sqrt,xc=Math.atan2;function wc(e,t){var n,r,o,i,a,s,l=e.data,u=e.len(),c=vc.M,d=vc.C,f=vc.L,p=vc.R,h=vc.A,m=vc.Q;for(o=0,i=0;o<u;){switch(n=l[o++],i=o,r=0,n){case c:r=1;break;case f:r=1;break;case d:r=3;break;case m:r=2;break;case h:var g=t[4],v=t[5],y=bc(t[0]*t[0]+t[1]*t[1]),b=bc(t[2]*t[2]+t[3]*t[3]),x=xc(-t[1]/b,t[0]/y);l[o]*=y,l[o++]+=g,l[o]*=b,l[o++]+=v,l[o++]*=y,l[o++]*=b,l[o++]+=x,l[o++]+=x,o+=2,i=o;break;case p:s[0]=l[o++],s[1]=l[o++],tt(s,s,t),l[i++]=s[0],l[i++]=s[1],s[0]+=l[o++],s[1]+=l[o++],tt(s,s,t),l[i++]=s[0],l[i++]=s[1]}for(a=0;a<r;a++){var w=yc[a];w[0]=l[o++],w[1]=l[o++],tt(w,w,t),l[i++]=w[0],l[i++]=w[1]}}e.increaseVersion()}var _c=Math.sqrt,Cc=Math.sin,Sc=Math.cos,kc=Math.PI;function Oc(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Tc(e,t){return(e[0]*t[0]+e[1]*t[1])/(Oc(e)*Oc(t))}function Mc(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Tc(e,t))}function Dc(e,t,n,r,o,i,a,s,l,u,c){var d=l*(kc/180),f=Sc(d)*(e-n)/2+Cc(d)*(t-r)/2,p=-1*Cc(d)*(e-n)/2+Sc(d)*(t-r)/2,h=f*f/(a*a)+p*p/(s*s);h>1&&(a*=_c(h),s*=_c(h));var m=(o===i?-1:1)*_c((a*a*(s*s)-a*a*(p*p)-s*s*(f*f))/(a*a*(p*p)+s*s*(f*f)))||0,g=m*a*p/s,v=m*-s*f/a,y=(e+n)/2+Sc(d)*g-Cc(d)*v,b=(t+r)/2+Cc(d)*g+Sc(d)*v,x=Mc([1,0],[(f-g)/a,(p-v)/s]),w=[(f-g)/a,(p-v)/s],_=[(-1*f-g)/a,(-1*p-v)/s],C=Mc(w,_);if(Tc(w,_)<=-1&&(C=kc),Tc(w,_)>=1&&(C=0),C<0){var S=Math.round(C/kc*1e6)/1e6;C=2*kc+S%2*kc}c.addData(u,y,b,a,s,x,C,d,i)}var Ic=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Ec=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Ac(e){var t=new al;if(!e)return t;var n,r=0,o=0,i=r,a=o,s=al.CMD,l=e.match(Ic);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],d=c.charAt(0),f=void 0,p=c.match(Ec)||[],h=p.length,m=0;m<h;m++)p[m]=parseFloat(p[m]);var g=0;while(g<h){var v=void 0,y=void 0,b=void 0,x=void 0,w=void 0,_=void 0,C=void 0,S=r,k=o,O=void 0,T=void 0;switch(d){case"l":r+=p[g++],o+=p[g++],f=s.L,t.addData(f,r,o);break;case"L":r=p[g++],o=p[g++],f=s.L,t.addData(f,r,o);break;case"m":r+=p[g++],o+=p[g++],f=s.M,t.addData(f,r,o),i=r,a=o,d="l";break;case"M":r=p[g++],o=p[g++],f=s.M,t.addData(f,r,o),i=r,a=o,d="L";break;case"h":r+=p[g++],f=s.L,t.addData(f,r,o);break;case"H":r=p[g++],f=s.L,t.addData(f,r,o);break;case"v":o+=p[g++],f=s.L,t.addData(f,r,o);break;case"V":o=p[g++],f=s.L,t.addData(f,r,o);break;case"C":f=s.C,t.addData(f,p[g++],p[g++],p[g++],p[g++],p[g++],p[g++]),r=p[g-2],o=p[g-1];break;case"c":f=s.C,t.addData(f,p[g++]+r,p[g++]+o,p[g++]+r,p[g++]+o,p[g++]+r,p[g++]+o),r+=p[g-2],o+=p[g-1];break;case"S":v=r,y=o,O=t.len(),T=t.data,n===s.C&&(v+=r-T[O-4],y+=o-T[O-3]),f=s.C,S=p[g++],k=p[g++],r=p[g++],o=p[g++],t.addData(f,v,y,S,k,r,o);break;case"s":v=r,y=o,O=t.len(),T=t.data,n===s.C&&(v+=r-T[O-4],y+=o-T[O-3]),f=s.C,S=r+p[g++],k=o+p[g++],r+=p[g++],o+=p[g++],t.addData(f,v,y,S,k,r,o);break;case"Q":S=p[g++],k=p[g++],r=p[g++],o=p[g++],f=s.Q,t.addData(f,S,k,r,o);break;case"q":S=p[g++]+r,k=p[g++]+o,r+=p[g++],o+=p[g++],f=s.Q,t.addData(f,S,k,r,o);break;case"T":v=r,y=o,O=t.len(),T=t.data,n===s.Q&&(v+=r-T[O-4],y+=o-T[O-3]),r=p[g++],o=p[g++],f=s.Q,t.addData(f,v,y,r,o);break;case"t":v=r,y=o,O=t.len(),T=t.data,n===s.Q&&(v+=r-T[O-4],y+=o-T[O-3]),r+=p[g++],o+=p[g++],f=s.Q,t.addData(f,v,y,r,o);break;case"A":b=p[g++],x=p[g++],w=p[g++],_=p[g++],C=p[g++],S=r,k=o,r=p[g++],o=p[g++],f=s.A,Dc(S,k,r,o,_,C,b,x,w,f,t);break;case"a":b=p[g++],x=p[g++],w=p[g++],_=p[g++],C=p[g++],S=r,k=o,r+=p[g++],o+=p[g++],f=s.A,Dc(S,k,r,o,_,C,b,x,w,f,t);break}}"z"!==d&&"Z"!==d||(f=s.Z,t.addData(f),r=i,o=a),n=f}return t.toStatic(),t}var Lc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.applyTransform=function(e){},t}(Al);function jc(e){return null!=e.setData}function Nc(e,t){var n=Ac(e),r=H({},t);return r.buildPath=function(e){if(jc(e)){e.setData(n.data);var t=e.getContext();t&&e.rebuildPath(t,1)}else{t=e;n.rebuildPath(t,1)}},r.applyTransform=function(e){wc(n,e),this.dirtyShape()},r}function Pc(e,t){return new Lc(Nc(e,t))}function Rc(e,t){var n=Nc(e,t),r=function(e){function t(t){var r=e.call(this,t)||this;return r.applyTransform=n.applyTransform,r.buildPath=n.buildPath,r}return g(t,e),t}(Lc);return r}function Bc(e,t){for(var n=[],r=e.length,o=0;o<r;o++){var i=e[o];i.path||i.createPathProxy(),i.shapeChanged()&&i.buildPath(i.path,i.shape,!0),n.push(i.path)}var a=new Al(t);return a.createPathProxy(),a.buildPath=function(e){if(jc(e)){e.appendPath(n);var t=e.getContext();t&&e.rebuildPath(t,1)}},a}var Fc=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),zc=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.getDefaultShape=function(){return new Fc},t.prototype.buildPath=function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI)},t}(Al);zc.prototype.type="circle";var Vc=zc,Hc=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),Uc=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.getDefaultShape=function(){return new Hc},t.prototype.buildPath=function(e,t){var n=.5522848,r=t.cx,o=t.cy,i=t.rx,a=t.ry,s=i*n,l=a*n;e.moveTo(r-i,o),e.bezierCurveTo(r-i,o-l,r-s,o-a,r,o-a),e.bezierCurveTo(r+s,o-a,r+i,o-l,r+i,o),e.bezierCurveTo(r+i,o+l,r+s,o+a,r,o+a),e.bezierCurveTo(r-s,o+a,r-i,o+l,r-i,o),e.closePath()},t}(Al);Uc.prototype.type="ellipse";var $c=Uc,qc=Math.PI,Wc=2*qc,Gc=Math.sin,Yc=Math.cos,Kc=Math.acos,Xc=Math.atan2,Jc=Math.abs,Zc=Math.sqrt,Qc=Math.max,ed=Math.min,td=1e-4;function nd(e,t,n,r,o,i,a,s){var l=n-e,u=r-t,c=a-o,d=s-i,f=d*l-c*u;if(!(f*f<td))return f=(c*(t-i)-d*(e-o))/f,[e+f*l,t+f*u]}function rd(e,t,n,r,o,i,a){var s=e-n,l=t-r,u=(a?i:-i)/Zc(s*s+l*l),c=u*l,d=-u*s,f=e+c,p=t+d,h=n+c,m=r+d,g=(f+h)/2,v=(p+m)/2,y=h-f,b=m-p,x=y*y+b*b,w=o-i,_=f*m-h*p,C=(b<0?-1:1)*Zc(Qc(0,w*w*x-_*_)),S=(_*b-y*C)/x,k=(-_*y-b*C)/x,O=(_*b+y*C)/x,T=(-_*y+b*C)/x,M=S-g,D=k-v,I=O-g,E=T-v;return M*M+D*D>I*I+E*E&&(S=O,k=T),{cx:S,cy:k,x01:-c,y01:-d,x11:S*(o/w-1),y11:k*(o/w-1)}}function od(e,t){var n=Qc(t.r,0),r=Qc(t.r0||0,0),o=n>0,i=r>0;if(o||i){if(o||(n=r,r=0),r>n){var a=n;n=r,r=a}var s=!!t.clockwise,l=t.startAngle,u=t.endAngle,c=[l,u];ol(c,!s);var d=Jc(c[0]-c[1]),f=t.cx,p=t.cy,h=t.cornerRadius||0,m=t.innerCornerRadius||0;if(n>td)if(d>Wc-td)e.moveTo(f+n*Yc(l),p+n*Gc(l)),e.arc(f,p,n,l,u,!s),r>td&&(e.moveTo(f+r*Yc(u),p+r*Gc(u)),e.arc(f,p,r,u,l,s));else{var g=Jc(n-r)/2,v=ed(g,h),y=ed(g,m),b=y,x=v,w=n*Yc(l),_=n*Gc(l),C=r*Yc(u),S=r*Gc(u),k=void 0,O=void 0,T=void 0,M=void 0;if((v>td||y>td)&&(k=n*Yc(u),O=n*Gc(u),T=r*Yc(l),M=r*Gc(l),d<qc)){var D=nd(w,_,T,M,k,O,C,S);if(D){var I=w-D[0],E=_-D[1],A=k-D[0],L=O-D[1],j=1/Gc(Kc((I*A+E*L)/(Zc(I*I+E*E)*Zc(A*A+L*L)))/2),N=Zc(D[0]*D[0]+D[1]*D[1]);b=ed(y,(r-N)/(j-1)),x=ed(v,(n-N)/(j+1))}}if(d>td)if(x>td){var P=rd(T,M,w,_,n,x,s),R=rd(k,O,C,S,n,x,s);e.moveTo(f+P.cx+P.x01,p+P.cy+P.y01),x<v?e.arc(f+P.cx,p+P.cy,x,Xc(P.y01,P.x01),Xc(R.y01,R.x01),!s):(e.arc(f+P.cx,p+P.cy,x,Xc(P.y01,P.x01),Xc(P.y11,P.x11),!s),e.arc(f,p,n,Xc(P.cy+P.y11,P.cx+P.x11),Xc(R.cy+R.y11,R.cx+R.x11),!s),e.arc(f+R.cx,p+R.cy,x,Xc(R.y11,R.x11),Xc(R.y01,R.x01),!s))}else e.moveTo(f+w,p+_),e.arc(f,p,n,l,u,!s);else e.moveTo(f+w,p+_);if(r>td&&d>td)if(b>td){P=rd(C,S,k,O,r,-b,s),R=rd(w,_,T,M,r,-b,s);e.lineTo(f+P.cx+P.x01,p+P.cy+P.y01),b<y?e.arc(f+P.cx,p+P.cy,b,Xc(P.y01,P.x01),Xc(R.y01,R.x01),!s):(e.arc(f+P.cx,p+P.cy,b,Xc(P.y01,P.x01),Xc(P.y11,P.x11),!s),e.arc(f,p,r,Xc(P.cy+P.y11,P.cx+P.x11),Xc(R.cy+R.y11,R.cx+R.x11),s),e.arc(f+R.cx,p+R.cy,b,Xc(R.y11,R.x11),Xc(R.y01,R.x01),!s))}else e.lineTo(f+C,p+S),e.arc(f,p,r,u,l,s);else e.lineTo(f+C,p+S)}else e.moveTo(f,p);e.closePath()}}var id=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0}return e}(),ad=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.getDefaultShape=function(){return new id},t.prototype.buildPath=function(e,t){od(e,t)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Al);ad.prototype.type="sector";var sd=ad,ld=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),ud=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.getDefaultShape=function(){return new ld},t.prototype.buildPath=function(e,t){var n=t.cx,r=t.cy,o=2*Math.PI;e.moveTo(n+t.r,r),e.arc(n,r,t.r,0,o,!1),e.moveTo(n+t.r0,r),e.arc(n,r,t.r0,0,o,!0)},t}(Al);ud.prototype.type="ring";var cd=ud;function dd(e,t,n,r,o,i,a){var s=.5*(n-e),l=.5*(r-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*i+s*o+t}function fd(e,t){for(var n=e.length,r=[],o=0,i=1;i<n;i++)o+=Ke(e[i-1],e[i]);var a=o/2;a=a<n?n:a;for(i=0;i<a;i++){var s=i/(a-1)*(t?n:n-1),l=Math.floor(s),u=s-l,c=void 0,d=e[l%n],f=void 0,p=void 0;t?(c=e[(l-1+n)%n],f=e[(l+1)%n],p=e[(l+2)%n]):(c=e[0===l?l:l-1],f=e[l>n-2?n-1:l+1],p=e[l>n-3?n-1:l+2]);var h=u*u,m=u*h;r.push([dd(c[0],d[0],f[0],p[0],u,h,m),dd(c[1],d[1],f[1],p[1],u,h,m)])}return r}function pd(e,t,n,r){var o,i,a,s,l=[],u=[],c=[],d=[];if(r){a=[1/0,1/0],s=[-1/0,-1/0];for(var f=0,p=e.length;f<p;f++)nt(a,a,e[f]),rt(s,s,e[f]);nt(a,a,r[0]),rt(s,s,r[1])}for(f=0,p=e.length;f<p;f++){var h=e[f];if(n)o=e[f?f-1:p-1],i=e[(f+1)%p];else{if(0===f||f===p-1){l.push(Ne(e[f]));continue}o=e[f-1],i=e[f+1]}Fe(u,i,o),Ge(u,u,t);var m=Ke(h,o),g=Ke(h,i),v=m+g;0!==v&&(m/=v,g/=v),Ge(c,u,-m),Ge(d,u,g);var y=Re([],h,c),b=Re([],h,d);r&&(rt(y,y,a),nt(y,y,s),rt(b,b,a),nt(b,b,s)),l.push(y),l.push(b)}return n&&l.push(l.shift()),l}function hd(e,t,n){var r=t.smooth,o=t.points;if(o&&o.length>=2){if(r&&"spline"!==r){var i=pd(o,r,n,t.smoothConstraint);e.moveTo(o[0][0],o[0][1]);for(var a=o.length,s=0;s<(n?a:a-1);s++){var l=i[2*s],u=i[2*s+1],c=o[(s+1)%a];e.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{"spline"===r&&(o=fd(o,n)),e.moveTo(o[0][0],o[0][1]);s=1;for(var d=o.length;s<d;s++)e.lineTo(o[s][0],o[s][1])}n&&e.closePath()}}var md=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),gd=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.getDefaultShape=function(){return new md},t.prototype.buildPath=function(e,t){hd(e,t,!0)},t}(Al);gd.prototype.type="polygon";var vd=gd,yd=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),bd=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new yd},t.prototype.buildPath=function(e,t){hd(e,t,!1)},t}(Al);bd.prototype.type="polyline";var xd=bd,wd={},_d=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),Cd=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new _d},t.prototype.buildPath=function(e,t){var n,r,o,i;if(this.subPixelOptimize){var a=Ul(wd,t,this.style);n=a.x1,r=a.y1,o=a.x2,i=a.y2}else n=t.x1,r=t.y1,o=t.x2,i=t.y2;var s=t.percent;0!==s&&(e.moveTo(n,r),s<1&&(o=n*(1-s)+o*s,i=r*(1-s)+i*s),e.lineTo(o,i))},t.prototype.pointAt=function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]},t}(Al);Cd.prototype.type="line";var Sd=Cd,kd=[],Od=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function Td(e,t,n){var r=e.cpx2,o=e.cpy2;return null===r||null===o?[(n?fs:ds)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?fs:ds)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?bs:ys)(e.x1,e.cpx1,e.x2,t),(n?bs:ys)(e.y1,e.cpy1,e.y2,t)]}var Md=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Od},t.prototype.buildPath=function(e,t){var n=t.x1,r=t.y1,o=t.x2,i=t.y2,a=t.cpx1,s=t.cpy1,l=t.cpx2,u=t.cpy2,c=t.percent;0!==c&&(e.moveTo(n,r),null==l||null==u?(c<1&&(_s(n,a,o,c,kd),a=kd[1],o=kd[2],_s(r,s,i,c,kd),s=kd[1],i=kd[2]),e.quadraticCurveTo(a,s,o,i)):(c<1&&(ms(n,a,l,o,c,kd),a=kd[1],l=kd[2],o=kd[3],ms(r,s,u,i,c,kd),s=kd[1],u=kd[2],i=kd[3]),e.bezierCurveTo(a,s,l,u,o,i)))},t.prototype.pointAt=function(e){return Td(this.shape,e,!1)},t.prototype.tangentAt=function(e){var t=Td(this.shape,e,!0);return Ye(t,t)},t}(Al);Md.prototype.type="bezier-curve";var Dd=Md,Id=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return e}(),Ed=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Id},t.prototype.buildPath=function(e,t){var n=t.cx,r=t.cy,o=Math.max(t.r,0),i=t.startAngle,a=t.endAngle,s=t.clockwise,l=Math.cos(i),u=Math.sin(i);e.moveTo(l*o+n,u*o+r),e.arc(n,r,o,i,a,!s)},t}(Al);Ed.prototype.type="arc";var Ad=Ed,Ld=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="compound",t}return g(t,e),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,t=this.shapeChanged(),n=0;n<e.length;n++)t=t||e[n].shapeChanged();t&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,t){for(var n=t.paths||[],r=0;r<n.length;r++)n[r].buildPath(e,n[r].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Al.prototype.getBoundingRect.call(this)},t}(Al),jd=Ld,Nd=function(){function e(e){this.colorStops=e||[]}return e.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},e}(),Pd=Nd,Rd=function(e){function t(t,n,r,o,i,a){var s=e.call(this,i)||this;return s.x=null==t?0:t,s.y=null==n?0:n,s.x2=null==r?1:r,s.y2=null==o?0:o,s.type="linear",s.global=a||!1,s}return g(t,e),t}(Pd),Bd=Rd,Fd=function(e){function t(t,n,r,o,i){var a=e.call(this,o)||this;return a.x=null==t?.5:t,a.y=null==n?.5:n,a.r=null==r?.5:r,a.type="radial",a.global=i||!1,a}return g(t,e),t}(Pd),zd=Fd,Vd=[0,0],Hd=[0,0],Ud=new pr,$d=new pr,qd=function(){function e(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new pr;for(n=0;n<2;n++)this._axes[n]=new pr;e&&this.fromBoundingRect(e,t)}return e.prototype.fromBoundingRect=function(e,t){var n=this._corners,r=this._axes,o=e.x,i=e.y,a=o+e.width,s=i+e.height;if(n[0].set(o,i),n[1].set(a,i),n[2].set(a,s),n[3].set(o,s),t)for(var l=0;l<4;l++)n[l].transform(t);pr.sub(r[0],n[1],n[0]),pr.sub(r[1],n[3],n[0]),r[0].normalize(),r[1].normalize();for(l=0;l<2;l++)this._origin[l]=r[l].dot(n[0])},e.prototype.intersect=function(e,t){var n=!0,r=!t;return Ud.set(1/0,1/0),$d.set(0,0),!this._intersectCheckOneSide(this,e,Ud,$d,r,1)&&(n=!1,r)||!this._intersectCheckOneSide(e,this,Ud,$d,r,-1)&&(n=!1,r)||r||pr.copy(t,n?Ud:$d),n},e.prototype._intersectCheckOneSide=function(e,t,n,r,o,i){for(var a=!0,s=0;s<2;s++){var l=this._axes[s];if(this._getProjMinMaxOnAxis(s,e._corners,Vd),this._getProjMinMaxOnAxis(s,t._corners,Hd),Vd[1]<Hd[0]||Vd[0]>Hd[1]){if(a=!1,o)return a;var u=Math.abs(Hd[0]-Vd[1]),c=Math.abs(Vd[0]-Hd[1]);Math.min(u,c)>r.len()&&(u<c?pr.scale(r,l,-u*i):pr.scale(r,l,c*i))}else if(n){u=Math.abs(Hd[0]-Vd[1]),c=Math.abs(Vd[0]-Hd[1]);Math.min(u,c)<n.len()&&(u<c?pr.scale(n,l,u*i):pr.scale(n,l,-c*i))}}return a},e.prototype._getProjMinMaxOnAxis=function(e,t,n){for(var r=this._axes[e],o=this._origin,i=t[0].dot(r)+o[e],a=i,s=i,l=1;l<t.length;l++){var u=t[l].dot(r)+o[e];a=Math.min(u,a),s=Math.max(u,s)}n[0]=a,n[1]=s},e}(),Wd=qd,Gd=[],Yd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return g(t,e),t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var t=this._displayables[e];t.parent=this,t.update(),t.parent=null}for(e=0;e<this._temporaryDisplayables.length;e++){t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Cr(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(Gd)),e.union(r)}this._rect=e}return this._rect},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();if(r.contain(n[0],n[1]))for(var o=0;o<this._displayables.length;o++){var i=this._displayables[o];if(i.contain(e,t))return!0}return!1},t}(Qa),Kd=Yd,Xd=Math.max,Jd=Math.min,Zd={};function Qd(e){return Al.extend(e)}var ef=Rc;function tf(e,t){return ef(e,t)}function nf(e,t){Zd[e]=t}function rf(e){if(Zd.hasOwnProperty(e))return Zd[e]}function of(e,t,n,r){var o=Pc(e,t);return n&&("center"===r&&(n=sf(n,o.getBoundingRect())),uf(o,n)),o}function af(e,t,n){var r=new zl({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if("center"===n){var o={width:e.width,height:e.height};r.setStyle(sf(t,o))}}});return r}function sf(e,t){var n,r=t.width/t.height,o=e.height*r;o<=e.width?n=e.height:(o=e.width,n=o/r);var i=e.x+e.width/2,a=e.y+e.height/2;return{x:i-o/2,y:a-n/2,width:o,height:n}}var lf=Bc;function uf(e,t){if(e.applyTransform){var n=e.getBoundingRect(),r=n.calculateTransform(t);e.applyTransform(r)}}function cf(e){return Ul(e.shape,e.shape,e.style),e}function df(e){return $l(e.shape,e.shape,e.style),e}var ff=ql;function pf(e,t,n,r,o,i,a){var s,l=!1;"function"===typeof o?(a=i,i=o,o=null):ue(o)&&(i=o.cb,a=o.during,l=o.isFrom,s=o.removeOpt,o=o.dataIndex);var u,c="update"===e,d="remove"===e;if(r&&r.ecModel){var f=r.ecModel.getUpdatePayload();u=f&&f.animation}var p=r&&r.isAnimationEnabled();if(d||t.stopAnimation("remove"),p){var h=void 0,m=void 0,g=void 0;u?(h=u.duration||0,m=u.easing||"cubicOut",g=u.delay||0):d?(s=s||{},h=ye(s.duration,200),m=ye(s.easing,"cubicOut"),g=0):(h=r.getShallow(c?"animationDurationUpdate":"animationDuration"),m=r.getShallow(c?"animationEasingUpdate":"animationEasing"),g=r.getShallow(c?"animationDelayUpdate":"animationDelay")),"function"===typeof g&&(g=g(o,r.getAnimationDelayParams?r.getAnimationDelayParams(t,o):null)),"function"===typeof h&&(h=h(o)),h>0?l?t.animateFrom(n,{duration:h,delay:g||0,easing:m,done:i,force:!!i||!!a,scope:e,during:a}):t.animateTo(n,{duration:h,delay:g||0,easing:m,done:i,force:!!i||!!a,setToFinal:!0,scope:e,during:a}):(t.stopAnimation(),!l&&t.attr(n),i&&i())}else t.stopAnimation(),!l&&t.attr(n),a&&a(1),i&&i()}function hf(e,t,n,r,o,i){pf("update",e,t,n,r,o,i)}function mf(e,t,n,r,o,i){pf("init",e,t,n,r,o,i)}function gf(e,t,n,r,o,i){bf(e)||pf("remove",e,t,n,r,o,i)}function vf(e,t,n,r){e.removeTextContent(),e.removeTextGuideLine(),gf(e,{style:{opacity:0}},t,n,r)}function yf(e,t,n){function r(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse((function(e){e.isGroup||vf(e,t,n,r)})):vf(e,t,n,r)}function bf(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var n=e.animators[t];if("remove"===n.scope)return!0}return!1}function xf(e,t){var n=Wt([]);while(e&&e!==t)Yt(n,e.getLocalTransform(),n),e=e.parent;return n}function wf(e,t,n){return t&&!Y(t)&&(t=un.getLocalTransform(t)),n&&(t=Zt([],t)),tt([],e,t)}function _f(e,t,n){var r=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),o=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),i=["left"===e?-r:"right"===e?r:0,"top"===e?-o:"bottom"===e?o:0];return i=wf(i,t,n),Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function Cf(e){return!e.isGroup}function Sf(e){return null!=e.shape}function kf(e,t,n){if(e&&t){var r=o(e);t.traverse((function(e){if(Cf(e)&&e.anid){var t=r[e.anid];if(t){var o=i(e);e.attr(i(t)),hf(e,o,n,cu(e).dataIndex)}}}))}function o(e){var t={};return e.traverse((function(e){Cf(e)&&e.anid&&(t[e.anid]=e)})),t}function i(e){var t={x:e.x,y:e.y,rotation:e.rotation};return Sf(e)&&(t.shape=H({},e.shape)),t}}function Of(e,t){return X(e,(function(e){var n=e[0];n=Xd(n,t.x),n=Jd(n,t.x+t.width);var r=e[1];return r=Xd(r,t.y),r=Jd(r,t.y+t.height),[n,r]}))}function Tf(e,t){var n=Xd(e.x,t.x),r=Jd(e.x+e.width,t.x+t.width),o=Xd(e.y,t.y),i=Jd(e.y+e.height,t.y+t.height);if(r>=n&&i>=o)return{x:n,y:o,width:r-n,height:i-o}}function Mf(e,t,n){var r=H({rectHover:!0},t),o=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(o.image=e.slice(8),U(o,n),new zl(r)):of(e.replace("path://",""),r,n,"center")}function Df(e,t,n,r,o){for(var i=0,a=o[o.length-1];i<o.length;i++){var s=o[i];if(If(e,t,n,r,s[0],s[1],a[0],a[1]))return!0;a=s}}function If(e,t,n,r,o,i,a,s){var l=n-e,u=r-t,c=a-o,d=s-i,f=Ef(c,d,l,u);if(Af(f))return!1;var p=e-o,h=t-i,m=Ef(p,h,l,u)/f;if(m<0||m>1)return!1;var g=Ef(p,h,c,d)/f;return!(g<0||g>1)}function Ef(e,t,n,r){return e*r-n*t}function Af(e){return e<=1e-6&&e>=-1e-6}nf("circle",Vc),nf("ellipse",$c),nf("sector",sd),nf("ring",cd),nf("polygon",vd),nf("polyline",xd),nf("rect",Kl),nf("line",Sd),nf("bezierCurve",Dd),nf("arc",Ad);var Lf={};function jf(e,t){for(var n=0;n<vu.length;n++){var r=vu[n],o=t[r],i=e.ensureState(r);i.style=i.style||{},i.style.text=o}var a=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(a,!0)}function Nf(e,t,n){var r,o=e.labelFetcher,i=e.labelDataIndex,a=e.labelDimIndex,s=t.normal;o&&(r=o.getFormattedLabel(i,"normal",null,a,s&&s.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==r&&(r=ie(e.defaultText)?e.defaultText(i,e,n):e.defaultText);for(var l={normal:r},u=0;u<vu.length;u++){var c=vu[u],d=t[c];l[c]=ye(o?o.getFormattedLabel(i,c,null,a,d&&d.get("formatter")):null,r)}return l}function Pf(e,t,n,r){n=n||Lf;for(var o=e instanceof uu,i=!1,a=0;a<yu.length;a++){var s=t[yu[a]];if(s&&s.getShallow("show")){i=!0;break}}var l=o?e:e.getTextContent();if(i){o||(l||(l=new uu,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var u=Nf(n,t),c=t.normal,d=!!c.getShallow("show"),f=Bf(c,r&&r.normal,n,!1,!o);f.text=u.normal,o||e.setTextConfig(Ff(c,n,!1));for(a=0;a<vu.length;a++){var p=vu[a];s=t[p];if(s){var h=l.ensureState(p),m=!!ye(s.getShallow("show"),d);if(m!==d&&(h.ignore=!m),h.style=Bf(s,r&&r[p],n,!0,!o),h.style.text=u[p],!o){var g=e.ensureState(p);g.textConfig=Ff(s,n,!0)}}}l.silent=!!c.getShallow("silent"),null!=l.style.x&&(f.x=l.style.x),null!=l.style.y&&(f.y=l.style.y),l.ignore=!d,l.useStyle(f),l.dirty(),n.enableTextSetter&&(Gf(l).setLabelText=function(e){var r=Nf(n,t,e);jf(l,r)})}else l&&(l.ignore=!0);e.dirty()}function Rf(e,t){t=t||"label";for(var n={normal:e.getModel(t)},r=0;r<vu.length;r++){var o=vu[r];n[o]=e.getModel([o,t])}return n}function Bf(e,t,n,r,o){var i={};return zf(i,e,n,r,o),t&&H(i,t),i}function Ff(e,t,n){t=t||{};var r,o={},i=e.getShallow("rotate"),a=ye(e.getShallow("distance"),n?null:5),s=e.getShallow("offset");return r=e.getShallow("position")||(n?null:"inside"),"outside"===r&&(r=t.defaultOutsidePosition||"top"),null!=r&&(o.position=r),null!=s&&(o.offset=s),null!=i&&(i*=Math.PI/180,o.rotation=i),null!=a&&(o.distance=a),o.outsideFill="inherit"===e.get("color")?t.inheritColor||null:"auto",o}function zf(e,t,n,r,o){n=n||Lf;var i,a=t.ecModel,s=a&&a.option.textStyle,l=Vf(t);if(l)for(var u in i={},l)if(l.hasOwnProperty(u)){var c=t.getModel(["rich",u]);qf(i[u]={},c,s,n,r,o,!1,!0)}i&&(e.rich=i);var d=t.get("overflow");d&&(e.overflow=d);var f=t.get("minMargin");null!=f&&(e.margin=f),qf(e,t,s,n,r,o,!0,!1)}function Vf(e){var t;while(e&&e!==e.ecModel){var n=(e.option||Lf).rich;if(n){t=t||{};for(var r=ee(n),o=0;o<r.length;o++){var i=r[o];t[i]=1}}e=e.parentModel}return t}var Hf=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Uf=["align","lineHeight","width","height","tag","verticalAlign"],$f=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function qf(e,t,n,r,o,i,a,s){n=!o&&n||Lf;var l=r&&r.inheritColor,u=t.getShallow("color"),c=t.getShallow("textBorderColor"),d=ye(t.getShallow("opacity"),n.opacity);"inherit"!==u&&"auto"!==u||(u=l||null),"inherit"!==c&&"auto"!==c||(c=l||null),i||(u=u||n.color,c=c||n.textBorderColor),null!=u&&(e.fill=u),null!=c&&(e.stroke=c);var f=ye(t.getShallow("textBorderWidth"),n.textBorderWidth);null!=f&&(e.lineWidth=f);var p=ye(t.getShallow("textBorderType"),n.textBorderType);null!=p&&(e.lineDash=p);var h=ye(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=h&&(e.lineDashOffset=h),o||null!=d||s||(d=r&&r.defaultOpacity),null!=d&&(e.opacity=d),o||i||null==e.fill&&r.inheritColor&&(e.fill=r.inheritColor);for(var m=0;m<Hf.length;m++){var g=Hf[m],v=ye(t.getShallow(g),n[g]);null!=v&&(e[g]=v)}for(m=0;m<Uf.length;m++){g=Uf[m],v=t.getShallow(g);null!=v&&(e[g]=v)}if(null==e.verticalAlign){var y=t.getShallow("baseline");null!=y&&(e.verticalAlign=y)}if(!a||!r.disableBox){for(m=0;m<$f.length;m++){g=$f[m],v=t.getShallow(g);null!=v&&(e[g]=v)}var b=t.getShallow("borderType");null!=b&&(e.borderDash=b),"auto"!==e.backgroundColor&&"inherit"!==e.backgroundColor||!l||(e.backgroundColor=l),"auto"!==e.borderColor&&"inherit"!==e.borderColor||!l||(e.borderColor=l)}}function Wf(e,t){var n=t&&t.getModel("textStyle");return Ce([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var Gf=Ki();function Yf(e,t,n,r){if(e){var o=Gf(e);o.prevValue=o.value,o.value=n;var i=t.normal;o.valueAnimation=i.get("valueAnimation"),o.valueAnimation&&(o.precision=i.get("precision"),o.defaultInterpolatedText=r,o.statesModels=t)}}function Kf(e,t,n,r,o){var i=Gf(e);if(i.valueAnimation){var a=i.defaultInterpolatedText,s=ye(i.interpolatedValue,i.prevValue),l=i.value;(null==s?mf:hf)(e,{},r,t,null,u)}function u(r){var u=ia(n,i.precision,s,l,r);i.interpolatedValue=1===r?null:u;var c=Nf({labelDataIndex:t,labelFetcher:o,defaultText:a?a(u):u+""},i.statesModels,u);jf(e,c)}}var Xf=["textStyle","color"],Jf=new uu,Zf=function(){function e(){}return e.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(Xf):null)},e.prototype.getFont=function(){return Wf({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(e){return Jf.useStyle({text:e,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),Jf.update(),Jf.getBoundingRect()},e}(),Qf=Zf,ep=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],tp=xa(ep),np=function(){function e(){}return e.prototype.getLineStyle=function(e){return tp(this,e)},e}(),rp=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],op=xa(rp),ip=function(){function e(){}return e.prototype.getItemStyle=function(e,t){return op(this,e,t)},e}(),ap=function(){function e(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return e.prototype.init=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},e.prototype.mergeOption=function(e,t){z(this.option,e,!0)},e.prototype.get=function(e,t){return null==e?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},e.prototype.getShallow=function(e,t){var n=this.option,r=null==n?n:n[e];if(null==r&&!t){var o=this.parentModel;o&&(r=o.getShallow(e))}return r},e.prototype.getModel=function(t,n){var r=null!=t,o=r?this.parsePath(t):null,i=r?this._doGet(o):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(o)),new e(i,n,this.ecModel)},e.prototype.isEmpty=function(){return null==this.option},e.prototype.restoreData=function(){},e.prototype.clone=function(){var e=this.constructor;return new e(F(this.option))},e.prototype.parsePath=function(e){return"string"===typeof e?e.split("."):e},e.prototype.resolveParentPath=function(e){return e},e.prototype.isAnimationEnabled=function(){if(!C.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var r=0;r<e.length;r++)if(e[r]&&(n=n&&"object"===typeof n?n[e[r]]:null,null==n))break;return null==n&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},e}();fa(ap),ga(ap),G(ap,np),G(ap,ip),G(ap,Ca),G(ap,Qf);var sp=ap,lp=Math.round(10*Math.random());function up(e){return[e||"",lp++].join("_")}function cp(e){var t={};e.registerSubTypeDefaulter=function(e,n){var r=ua(e);t[r.main]=n},e.determineSubType=function(n,r){var o=r.type;if(!o){var i=ua(n).main;e.hasSubTypes(n)&&t[i]&&(o=t[i](r))}return o}}function dp(e,t){function n(e){var n={},i=[];return K(e,(function(a){var s=r(n,a),l=s.originalDeps=t(a),u=o(l,e);s.entryCount=u.length,0===s.entryCount&&i.push(a),K(u,(function(e){q(s.predecessor,e)<0&&s.predecessor.push(e);var t=r(n,e);q(t.successor,e)<0&&t.successor.push(a)}))})),{graph:n,noEntryList:i}}function r(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}function o(e,t){var n=[];return K(e,(function(e){q(t,e)>=0&&n.push(e)})),n}e.topologicalTravel=function(e,t,r,o){if(e.length){var i=n(t),a=i.graph,s=i.noEntryList,l={};K(e,(function(e){l[e]=!0}));while(s.length){var u=s.pop(),c=a[u],d=!!l[u];d&&(r.call(o,u,c.originalDeps.slice()),delete l[u]),K(c.successor,d?p:f)}K(l,(function(){var e="";throw new Error(e)}))}function f(e){a[e].entryCount--,0===a[e].entryCount&&s.push(e)}function p(e){l[e]=!0,f(e)}}}function fp(e,t){return z(z({},e,!0),t,!0)}var pp={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Guage",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},hp={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},mp="ZH",gp="EN",vp=gp,yp={},bp={},xp=C.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return e.indexOf(mp)>-1?mp:vp}():vp;function wp(e,t){e=e.toUpperCase(),bp[e]=new sp(t),yp[e]=t}function _p(e){if(ae(e)){var t=yp[e.toUpperCase()]||{};return e===mp||e===gp?F(t):z(F(t),F(yp[vp]),!1)}return z(F(e),F(yp[vp]),!1)}function Cp(e){return bp[e]}function Sp(){return bp[vp]}wp(gp,pp),wp(mp,hp);var kp=1e3,Op=60*kp,Tp=60*Op,Mp=24*Tp,Dp=365*Mp,Ip={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{hh}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss} {SSS}"},Ep="{yyyy}-{MM}-{dd}",Ap={year:"{yyyy}",month:"{yyyy}-{MM}",day:Ep,hour:Ep+" "+Ip.hour,minute:Ep+" "+Ip.minute,second:Ep+" "+Ip.second,millisecond:Ip.none},Lp=["year","month","day","hour","minute","second","millisecond"],jp=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Np(e,t){return e+="","0000".substr(0,t-e.length)+e}function Pp(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function Rp(e){return e===Pp(e)}function Bp(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Fp(e,t,n,r){var o=hi(e),i=o[Up(n)](),a=o[$p(n)]()+1,s=Math.floor((a-1)/4)+1,l=o[qp(n)](),u=o["get"+(n?"UTC":"")+"Day"](),c=o[Wp(n)](),d=(c-1)%12+1,f=o[Gp(n)](),p=o[Yp(n)](),h=o[Kp(n)](),m=r instanceof sp?r:Cp(r||xp)||Sp(),g=m.getModel("time"),v=g.get("month"),y=g.get("monthAbbr"),b=g.get("dayOfWeek"),x=g.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,i+"").replace(/{yy}/g,i%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,v[a-1]).replace(/{MMM}/g,y[a-1]).replace(/{MM}/g,Np(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Np(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,b[u]).replace(/{ee}/g,x[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Np(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Np(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,Np(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,Np(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,Np(h,3)).replace(/{S}/g,h+"")}function zp(e,t,n,r,o){var i=null;if("string"===typeof n)i=n;else if("function"===typeof n)i=n(e.value,t,{level:e.level});else{var a=H({},Ip);if(e.level>0)for(var s=0;s<Lp.length;++s)a[Lp[s]]="{primary|"+a[Lp[s]]+"}";var l=n?!1===n.inherit?n:U(n,a):a,u=Vp(e.value,o);if(l[u])i=l[u];else if(l.inherit){var c=jp.indexOf(u);for(s=c-1;s>=0;--s)if(l[u]){i=l[u];break}i=i||a.none}if(oe(i)){var d=null==e.level?0:e.level>=0?e.level:i.length+e.level;d=Math.min(d,i.length-1),i=i[d]}}return Fp(new Date(e.value),i,o,r)}function Vp(e,t){var n=hi(e),r=n[$p(t)]()+1,o=n[qp(t)](),i=n[Wp(t)](),a=n[Gp(t)](),s=n[Yp(t)](),l=n[Kp(t)](),u=0===l,c=u&&0===s,d=c&&0===a,f=d&&0===i,p=f&&1===o,h=p&&1===r;return h?"year":p?"month":f?"day":d?"hour":c?"minute":u?"second":"millisecond"}function Hp(e,t,n){var r="number"===typeof e?hi(e):e;switch(t=t||Vp(e,n),t){case"year":return r[Up(n)]();case"half-year":return r[$p(n)]()>=6?1:0;case"quarter":return Math.floor((r[$p(n)]()+1)/4);case"month":return r[$p(n)]();case"day":return r[qp(n)]();case"half-day":return r[Wp(n)]()/24;case"hour":return r[Wp(n)]();case"minute":return r[Gp(n)]();case"second":return r[Yp(n)]();case"millisecond":return r[Kp(n)]()}}function Up(e){return e?"getUTCFullYear":"getFullYear"}function $p(e){return e?"getUTCMonth":"getMonth"}function qp(e){return e?"getUTCDate":"getDate"}function Wp(e){return e?"getUTCHours":"getHours"}function Gp(e){return e?"getUTCMinutes":"getMinutes"}function Yp(e){return e?"getUTCSeconds":"getSeconds"}function Kp(e){return e?"getUTCSeconds":"getSeconds"}function Xp(e){return e?"setUTCFullYear":"setFullYear"}function Jp(e){return e?"setUTCMonth":"setMonth"}function Zp(e){return e?"setUTCDate":"setDate"}function Qp(e){return e?"setUTCHours":"setHours"}function eh(e){return e?"setUTCMinutes":"setMinutes"}function th(e){return e?"setUTCSeconds":"setSeconds"}function nh(e){return e?"setUTCSeconds":"setSeconds"}function rh(e){if(!wi(e))return ae(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function oh(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var ih=we,ah=/([&<>"'])/g,sh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function lh(e){return null==e?"":(e+"").replace(ah,(function(e,t){return sh[t]}))}function uh(e,t,n){var r="yyyy-MM-dd hh:mm:ss";function o(e){return e&&Ce(e)?e:"-"}function i(e){return!(null==e||isNaN(e)||!isFinite(e))}var a="time"===t,s=e instanceof Date;if(a||s){var l=a?hi(e):e;if(!isNaN(+l))return Fp(l,r,n);if(s)return"-"}if("ordinal"===t)return se(e)?o(e):le(e)&&i(e)?e+"":"-";var u=xi(e);return i(u)?rh(u):se(e)?o(e):"-"}var ch=["a","b","c","d","e","f","g"],dh=function(e,t){return"{"+e+(null==t?"":t)+"}"};function fh(e,t,n){oe(t)||(t=[t]);var r=t.length;if(!r)return"";for(var o=t[0].$vars||[],i=0;i<o.length;i++){var a=ch[i];e=e.replace(dh(a),dh(a,0))}for(var s=0;s<r;s++)for(var l=0;l<o.length;l++){var u=t[s][o[l]];e=e.replace(dh(ch[l],s),n?lh(u):u)}return e}function ph(e,t,n){return K(t,(function(t,r){e=e.replace("{"+r+"}",n?lh(t):t)})),e}function hh(e,t){var n=ae(e)?{color:e,extraCssText:t}:e||{},r=n.color,o=n.type;t=n.extraCssText;var i=n.renderMode||"html";if(!r)return"";if("html"===i)return"subItem"===o?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+lh(r)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+lh(r)+";"+(t||"")+'"></span>';var a=n.markerId||"markerX";return{renderMode:i,content:"{"+a+"|}  ",style:"subItem"===o?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function mh(e,t,n){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var r=hi(t),o=n?"UTC":"",i=r["get"+o+"FullYear"](),a=r["get"+o+"Month"]()+1,s=r["get"+o+"Date"](),l=r["get"+o+"Hours"](),u=r["get"+o+"Minutes"](),c=r["get"+o+"Seconds"](),d=r["get"+o+"Milliseconds"]();return e=e.replace("MM",Np(a,2)).replace("M",a).replace("yyyy",i).replace("yy",i%100+"").replace("dd",Np(s,2)).replace("d",s).replace("hh",Np(l,2)).replace("h",l).replace("mm",Np(u,2)).replace("m",u).replace("ss",Np(c,2)).replace("s",c).replace("SSS",Np(d,3)),e}function gh(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}function vh(e,t){return t=t||"transparent",ae(e)?e:ue(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function yh(e,t){if("_blank"===t||"blank"===t){var n=window.open();n.opener=null,n.location.href=e}else window.open(e,t)}var bh=K,xh=["left","right","top","bottom","width","height"],wh=[["width","left","right"],["height","top","bottom"]];function _h(e,t,n,r,o){var i=0,a=0;null==r&&(r=1/0),null==o&&(o=1/0);var s=0;t.eachChild((function(l,u){var c,d,f=l.getBoundingRect(),p=t.childAt(u+1),h=p&&p.getBoundingRect();if("horizontal"===e){var m=f.width+(h?-h.x+f.x:0);c=i+m,c>r||l.newline?(i=0,c=m,a+=s+n,s=f.height):s=Math.max(s,f.height)}else{var g=f.height+(h?-h.y+f.y:0);d=a+g,d>o||l.newline?(i+=s+n,a=0,d=g,s=f.width):s=Math.max(s,f.width)}l.newline||(l.x=i,l.y=a,l.markRedraw(),"horizontal"===e?i=c+n:a=d+n)}))}var Ch=_h;re(_h,"vertical"),re(_h,"horizontal");function Sh(e,t,n){var r=t.width,o=t.height,i=ri(e.left,r),a=ri(e.top,o),s=ri(e.right,r),l=ri(e.bottom,o);return(isNaN(i)||isNaN(parseFloat(e.left)))&&(i=0),(isNaN(s)||isNaN(parseFloat(e.right)))&&(s=r),(isNaN(a)||isNaN(parseFloat(e.top)))&&(a=0),(isNaN(l)||isNaN(parseFloat(e.bottom)))&&(l=o),n=ih(n||0),{width:Math.max(s-i-n[1]-n[3],0),height:Math.max(l-a-n[0]-n[2],0)}}function kh(e,t,n){n=ih(n||0);var r=t.width,o=t.height,i=ri(e.left,r),a=ri(e.top,o),s=ri(e.right,r),l=ri(e.bottom,o),u=ri(e.width,r),c=ri(e.height,o),d=n[2]+n[0],f=n[1]+n[3],p=e.aspect;switch(isNaN(u)&&(u=r-s-f-i),isNaN(c)&&(c=o-l-d-a),null!=p&&(isNaN(u)&&isNaN(c)&&(p>r/o?u=.8*r:c=.8*o),isNaN(u)&&(u=p*c),isNaN(c)&&(c=u/p)),isNaN(i)&&(i=r-s-u-f),isNaN(a)&&(a=o-l-c-d),e.left||e.right){case"center":i=r/2-u/2-n[3];break;case"right":i=r-u-f;break}switch(e.top||e.bottom){case"middle":case"center":a=o/2-c/2-n[0];break;case"bottom":a=o-c-d;break}i=i||0,a=a||0,isNaN(u)&&(u=r-f-i-(s||0)),isNaN(c)&&(c=o-d-a-(l||0));var h=new Cr(i+n[3],a+n[0],u,c);return h.margin=n,h}function Oh(e,t,n,r,o){var i=!o||!o.hv||o.hv[0],a=!o||!o.hv||o.hv[1],s=o&&o.boundingMode||"all";if(i||a){var l;if("raw"===s)l="group"===e.type?new Cr(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(l=e.getBoundingRect(),e.needLocalTransform()){var u=e.getLocalTransform();l=l.clone(),l.applyTransform(u)}var c=kh(U({width:l.width,height:l.height},t),n,r),d=i?c.x-l.x:0,f=a?c.y-l.y:0;"raw"===s?(e.x=d,e.y=f):(e.x+=d,e.y+=f),e.markRedraw()}}function Th(e,t){return null!=e[wh[t][0]]||null!=e[wh[t][1]]&&null!=e[wh[t][2]]}function Mh(e){var t=e.layoutMode||e.constructor.layoutMode;return ue(t)?t:t?{type:t}:null}function Dh(e,t,n){var r=n&&n.ignoreSize;!oe(r)&&(r=[r,r]);var o=a(wh[0],0),i=a(wh[1],1);function a(n,o){var i={},a=0,u={},c=0,d=2;if(bh(n,(function(t){u[t]=e[t]})),bh(n,(function(e){s(t,e)&&(i[e]=u[e]=t[e]),l(i,e)&&a++,l(u,e)&&c++})),r[o])return l(t,n[1])?u[n[2]]=null:l(t,n[2])&&(u[n[1]]=null),u;if(c!==d&&a){if(a>=d)return i;for(var f=0;f<n.length;f++){var p=n[f];if(!s(i,p)&&s(e,p)){i[p]=e[p];break}}return i}return u}function s(e,t){return e.hasOwnProperty(t)}function l(e,t){return null!=e[t]&&"auto"!==e[t]}function u(e,t,n){bh(e,(function(e){t[e]=n[e]}))}u(wh[0],e,o),u(wh[1],e,i)}function Ih(e){return Eh({},e)}function Eh(e,t){return t&&e&&bh(xh,(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}var Ah=Ki(),Lh=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.uid=up("ec_cpt_model"),o}return g(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=Mh(this),r=n?Ih(e):{},o=t.getTheme();z(e,o.get(this.mainType)),z(e,this.getDefaultOption()),n&&Dh(e,r,n)},t.prototype.mergeOption=function(e,t){z(this.option,e,!0);var n=Mh(this);n&&Dh(this.option,e,n)},t.prototype.optionUpdated=function(e,t){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!da(e))return e.defaultOption;var t=Ah(this);if(!t.defaultOption){var n=[],r=e;while(r){var o=r.prototype.defaultOption;o&&n.push(o),r=r.superClass}for(var i={},a=n.length-1;a>=0;a--)i=z(i,n[a],!0);t.defaultOption=i}return t.defaultOption},t.prototype.getReferringComponents=function(e,t){var n=e+"Index",r=e+"Id";return ea(this.ecModel,e,{index:this.get(n,!0),id:this.get(r,!0)},t)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.protoInitialize=function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0}(),t}(sp);function jh(e){var t=[];return K(Lh.getClassesByMainType(e),(function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])})),t=X(t,(function(e){return ua(e).main})),"dataset"!==e&&q(t,"dataset")<=0&&t.unshift("dataset"),t}ha(Lh,sp),ba(Lh),cp(Lh),dp(Lh,jh);var Nh=Lh,Ph="";"undefined"!==typeof navigator&&(Ph=navigator.platform||"");var Rh="rgba(0, 0, 0, 0.2)",Bh={darkMode:"auto",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Rh,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Rh,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Rh,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Rh,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Rh,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Rh,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Ph.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Fh=Me(["tooltip","label","itemName","itemId","seriesName"]),zh="original",Vh="arrayRows",Hh="objectRows",Uh="keyedColumns",$h="typedArray",qh="unknown",Wh="column",Gh="row",Yh={Must:1,Might:2,Not:3},Kh=Ki();function Xh(e){Kh(e).datasetMap=Me()}function Jh(e,t,n){var r={},o=Qh(t);if(!o||!e)return r;var i,a,s=[],l=[],u=t.ecModel,c=Kh(u).datasetMap,d=o.uid+"_"+n.seriesLayoutBy;e=e.slice(),K(e,(function(t,n){var o=ue(t)?t:e[n]={name:t};"ordinal"===o.type&&null==i&&(i=n,a=h(o)),r[o.name]=[]}));var f=c.get(d)||c.set(d,{categoryWayDim:a,valueWayDim:0});function p(e,t,n){for(var r=0;r<n;r++)e.push(t+r)}function h(e){var t=e.dimsDef;return t?t.length:1}return K(e,(function(e,t){var n=e.name,o=h(e);if(null==i){var a=f.valueWayDim;p(r[n],a,o),p(l,a,o),f.valueWayDim+=o}else if(i===t)p(r[n],0,o),p(s,0,o);else{a=f.categoryWayDim;p(r[n],a,o),p(l,a,o),f.categoryWayDim+=o}})),s.length&&(r.itemName=s),l.length&&(r.seriesName=l),r}function Zh(e,t,n){var r={},o=Qh(e);if(!o)return r;var i,a=t.sourceFormat,s=t.dimensionsDefine;a!==Hh&&a!==Uh||K(s,(function(e,t){"name"===(ue(e)?e.name:e)&&(i=t)}));var l=function(){for(var e={},r={},o=[],l=0,u=Math.min(5,n);l<u;l++){var c=nm(t.data,a,t.seriesLayoutBy,s,t.startIndex,l);o.push(c);var d=c===Yh.Not;if(d&&null==e.v&&l!==i&&(e.v=l),(null==e.n||e.n===e.v||!d&&o[e.n]===Yh.Not)&&(e.n=l),f(e)&&o[e.n]!==Yh.Not)return e;d||(c===Yh.Might&&null==r.v&&l!==i&&(r.v=l),null!=r.n&&r.n!==r.v||(r.n=l))}function f(e){return null!=e.v&&null!=e.n}return f(e)?e:f(r)?r:null}();if(l){r.value=[l.v];var u=null!=i?i:l.n;r.itemName=[u],r.seriesName=[u]}return r}function Qh(e){var t=e.get("data",!0);if(!t)return ea(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},Zi).models[0]}function em(e){return e.get("transform",!0)||e.get("fromTransformResult",!0)?ea(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},Zi).models:[]}function tm(e,t){return nm(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function nm(e,t,n,r,o,i){var a,s,l,u=5;if(de(e))return Yh.Not;if(r){var c=r[i];ue(c)?(s=c.name,l=c.type):ae(c)&&(s=c)}if(null!=l)return"ordinal"===l?Yh.Must:Yh.Not;if(t===Vh){var d=e;if(n===Gh){for(var f=d[i],p=0;p<(f||[]).length&&p<u;p++)if(null!=(a=x(f[o+p])))return a}else for(p=0;p<d.length&&p<u;p++){var h=d[o+p];if(h&&null!=(a=x(h[i])))return a}}else if(t===Hh){var m=e;if(!s)return Yh.Not;for(p=0;p<m.length&&p<u;p++){var g=m[p];if(g&&null!=(a=x(g[s])))return a}}else if(t===Uh){var v=e;if(!s)return Yh.Not;f=v[s];if(!f||de(f))return Yh.Not;for(p=0;p<f.length&&p<u;p++)if(null!=(a=x(f[p])))return a}else if(t===zh){var y=e;for(p=0;p<y.length&&p<u;p++){g=y[p];var b=Ii(g);if(!oe(b))return Yh.Not;if(null!=(a=x(b[i])))return a}}function x(e){var t=ae(e);return null!=e&&isFinite(e)&&""!==e?t?Yh.Might:Yh.Not:t&&"-"!==e?Yh.Must:void 0}return Yh.Not}var rm=Me();function om(e,t){_e(null==rm.get(e)&&t),rm.set(e,t)}function im(e,t,n){var r=rm.get(t);if(!r)return n;var o=r(e);return o?n.concat(o):n}var am,sm,lm,um=Ki(),cm=Ki(),dm=function(){function e(){}return e.prototype.getColorFromPalette=function(e,t,n){var r=Ti(this.get("color",!0)),o=this.get("colorLayer",!0);return hm(this,um,r,o,e,t,n)},e.prototype.clearColorPalette=function(){mm(this,um)},e}();function fm(e,t,n,r){var o=Ti(e.get(["aria","decal","decals"]));return hm(e,cm,o,null,t,n,r)}function pm(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].length>t)return e[r];return e[n-1]}function hm(e,t,n,r,o,i,a){i=i||e;var s=t(i),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(o))return u[o];var c=null!=a&&r?pm(r,a):n;if(c=c||n,c&&c.length){var d=c[l];return o&&(u[o]=d),s.paletteIdx=(l+1)%c.length,d}}function mm(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var gm="\0_ec_inner",vm=1,ym=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.init=function(e,t,n,r,o,i){r=r||{},this.option=null,this._theme=new sp(r),this._locale=new sp(o),this._optionManager=i},t.prototype.setOption=function(e,t,n){var r=Cm(t);this._optionManager.setOption(e,n,r),this._resetOption(null,r)},t.prototype.resetOption=function(e,t){return this._resetOption(e,Cm(t))},t.prototype._resetOption=function(e,t){var n=!1,r=this._optionManager;if(!e||"recreate"===e){var o=r.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(o,t)):lm(this,o),n=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var i=r.getTimelineOption(this);i&&(n=!0,this._mergeOption(i,t))}if(!e||"recreate"===e||"media"===e){var a=r.getMediaOption(this);a.length&&K(a,(function(e){n=!0,this._mergeOption(e,t)}),this)}return n},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,t){var n=this.option,r=this._componentsMap,o=this._componentsCount,i=[],a=Me(),s=t&&t.replaceMergeMainTypeMap;function l(t){var i=im(this,t,Ti(e[t])),a=r.get(t),l=a?s&&s.get(t)?"replaceMerge":"normalMerge":"replaceAll",u=Ai(a,i,l);qi(u,t,Nh),n[t]=null,r.set(t,null),o.set(t,0);var c=[],d=[],f=0;K(u,(function(e,n){var r=e.existing,o=e.newOption;if(o){var i=Nh.getClass(t,e.keyInfo.subType,!0);if(r&&r.constructor===i)r.name=e.keyInfo.name,r.mergeOption(o,this),r.optionUpdated(o,!1);else{var a=H({componentIndex:n},e.keyInfo);r=new i(o,this,this,a),H(r,a),e.brandNew&&(r.__requireNewView=!0),r.init(o,this,this),r.optionUpdated(null,!0)}}else r&&(r.mergeOption({},this),r.optionUpdated({},!1));r?(c.push(r.option),d.push(r),f++):(c.push(void 0),d.push(void 0))}),this),n[t]=c,r.set(t,d),o.set(t,f),"series"===t&&am(this)}Xh(this),K(e,(function(e,t){null!=e&&(Nh.hasClass(t)?t&&(i.push(t),a.set(t,!0)):n[t]=null==n[t]?F(e):z(n[t],e,!0))})),s&&s.each((function(e,t){Nh.hasClass(t)&&!a.get(t)&&(i.push(t),a.set(t,!0))})),Nh.topologicalTravel(i,Nh.getAllClassMainTypes(),l,this),this._seriesIndices||am(this)},t.prototype.getOption=function(){var e=F(this.option);return K(e,(function(t,n){if(Nh.hasClass(n)){for(var r=Ti(t),o=r.length,i=!1,a=o-1;a>=0;a--)r[a]&&!Ui(r[a])?i=!0:(r[a]=null,!i&&o--);r.length=o,e[n]=r}})),delete e[gm],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.getLocale=function(e){var t=this.getLocaleModel();return t.get(e)},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,t){var n=this._componentsMap.get(e);if(n){var r=n[t||0];if(r)return r;if(null==t)for(var o=0;o<n.length;o++)if(n[o])return n[o]}},t.prototype.queryComponents=function(e){var t=e.mainType;if(!t)return[];var n,r=e.index,o=e.id,i=e.name,a=this._componentsMap.get(t);return a&&a.length?(null!=r?(n=[],K(Ti(r),(function(e){a[e]&&n.push(a[e])}))):n=null!=o?wm("id",o,a):null!=i?wm("name",i,a):Z(a,(function(e){return!!e})),_m(n,e)):[]},t.prototype.findComponents=function(e){var t=e.query,n=e.mainType,r=i(t),o=r?this.queryComponents(r):Z(this._componentsMap.get(n),(function(e){return!!e}));return a(_m(o,e));function i(e){var t=n+"Index",r=n+"Id",o=n+"Name";return!e||null==e[t]&&null==e[r]&&null==e[o]?null:{mainType:n,index:e[t],id:e[r],name:e[o]}}function a(t){return e.filter?Z(t,e.filter):t}},t.prototype.eachComponent=function(e,t,n){var r=this._componentsMap;if(ie(e)){var o=t,i=e;r.each((function(e,t){for(var n=0;e&&n<e.length;n++){var r=e[n];r&&i.call(o,t,r,r.componentIndex)}}))}else for(var a=ae(e)?r.get(e):ue(e)?this.findComponents(e):null,s=0;a&&s<a.length;s++){var l=a[s];l&&t.call(n,l,l.componentIndex)}},t.prototype.getSeriesByName=function(e){var t=Vi(e,null);return Z(this._componentsMap.get("series"),(function(e){return!!e&&null!=t&&e.name===t}))},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return Z(this._componentsMap.get("series"),(function(t){return!!t&&t.subType===e}))},t.prototype.getSeries=function(){return Z(this._componentsMap.get("series").slice(),(function(e){return!!e}))},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,t){sm(this),K(this._seriesIndices,(function(n){var r=this._componentsMap.get("series")[n];e.call(t,r,n)}),this)},t.prototype.eachRawSeries=function(e,t){K(this._componentsMap.get("series"),(function(n){n&&e.call(t,n,n.componentIndex)}))},t.prototype.eachSeriesByType=function(e,t,n){sm(this),K(this._seriesIndices,(function(r){var o=this._componentsMap.get("series")[r];o.subType===e&&t.call(n,o,r)}),this)},t.prototype.eachRawSeriesByType=function(e,t,n){return K(this.getSeriesByType(e),t,n)},t.prototype.isSeriesFiltered=function(e){return sm(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,t){sm(this);var n=[];K(this._seriesIndices,(function(r){var o=this._componentsMap.get("series")[r];e.call(t,o,r)&&n.push(r)}),this),this._seriesIndices=n,this._seriesIndicesMap=Me(n)},t.prototype.restoreData=function(e){am(this);var t=this._componentsMap,n=[];t.each((function(e,t){Nh.hasClass(t)&&n.push(t)})),Nh.topologicalTravel(n,Nh.getAllClassMainTypes(),(function(n){K(t.get(n),(function(t){!t||"series"===n&&bm(t,e)||t.restoreData()}))}))},t.internalField=function(){am=function(e){var t=e._seriesIndices=[];K(e._componentsMap.get("series"),(function(e){e&&t.push(e.componentIndex)})),e._seriesIndicesMap=Me(t)},sm=function(e){0},lm=function(e,t){e.option={},e.option[gm]=vm,e._componentsMap=Me({series:[]}),e._componentsCount=Me();var n=t.aria;ue(n)&&null==n.enabled&&(n.enabled=!0),xm(t,e._theme.option),z(t,Bh,!1),e._mergeOption(t,null)}}(),t}(sp);function bm(e,t){if(t){var n=t.seriesIndex,r=t.seriesId,o=t.seriesName;return null!=n&&e.componentIndex!==n||null!=r&&e.id!==r||null!=o&&e.name!==o}}function xm(e,t){var n=e.color&&!e.colorLayer;K(t,(function(t,r){"colorLayer"===r&&n||Nh.hasClass(r)||("object"===typeof t?e[r]=e[r]?z(e[r],t,!1):F(t):null==e[r]&&(e[r]=t))}))}function wm(e,t,n){if(oe(t)){var r=Me();return K(t,(function(e){if(null!=e){var t=Vi(e,null);null!=t&&r.set(e,!0)}})),Z(n,(function(t){return t&&r.get(t[e])}))}var o=Vi(t,null);return Z(n,(function(t){return t&&null!=o&&t[e]===o}))}function _m(e,t){return t.hasOwnProperty("subType")?Z(e,(function(e){return e&&e.subType===t.subType})):e}function Cm(e){var t=Me();return e&&K(Ti(e.replaceMerge),(function(e){t.set(e,!0)})),{replaceMergeMainTypeMap:t}}G(ym,dm);var Sm=ym,km=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Om=function(){function e(e){K(km,(function(t){this[t]=ne(e[t],e)}),this)}return e}(),Tm=Om,Mm={},Dm=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(e,t){var n=[];K(Mm,(function(r,o){var i=r.create(e,t);n=n.concat(i||[])})),this._coordinateSystems=n},e.prototype.update=function(e,t){K(this._coordinateSystems,(function(n){n.update&&n.update(e,t)}))},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(e,t){Mm[e]=t},e.get=function(e){return Mm[e]},e}(),Im=Dm,Em=/^(min|max)?(.+)$/,Am=function(){function e(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return e.prototype.setOption=function(e,t,n){e&&(K(Ti(e.series),(function(e){e&&e.data&&de(e.data)&&ke(e.data)})),K(Ti(e.dataset),(function(e){e&&e.source&&de(e.source)&&ke(e.source)}))),e=F(e);var r=this._optionBackup,o=Lm(e,t,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},e.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],F(e?t.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;if(n.length){var r=e.getComponent("timeline");r&&(t=F(n[r.getCurrentIndex()]))}return t},e.prototype.getMediaOption=function(e){var t=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,o=this._mediaDefault,i=[],a=[];if(!r.length&&!o)return a;for(var s=0,l=r.length;s<l;s++)jm(r[s].query,t,n)&&i.push(s);return!i.length&&o&&(i=[-1]),i.length&&!Pm(i,this._currentMediaIndices)&&(a=X(i,(function(e){return F(-1===e?o.option:r[e].option)}))),this._currentMediaIndices=i,a},e}();function Lm(e,t,n){var r,o,i=[],a=e.baseOption,s=e.timeline,l=e.options,u=e.media,c=!!e.media,d=!!(l||s||a&&a.timeline);function f(e){K(t,(function(t){t(e,n)}))}return a?(o=a,o.timeline||(o.timeline=s)):((d||c)&&(e.options=e.media=null),o=e),c&&oe(u)&&K(u,(function(e){e&&e.option&&(e.query?i.push(e):r||(r=e))})),f(o),K(l,(function(e){return f(e)})),K(i,(function(e){return f(e.option)})),{baseOption:o,timelineOptions:l||[],mediaDefault:r,mediaList:i}}function jm(e,t,n){var r={width:t,height:n,aspectratio:t/n},o=!0;return K(e,(function(e,t){var n=t.match(Em);if(n&&n[1]&&n[2]){var i=n[1],a=n[2].toLowerCase();Nm(r[a],e,i)||(o=!1)}})),o}function Nm(e,t,n){return"min"===n?e>=t:"max"===n?e<=t:e===t}function Pm(e,t){return e.join(",")===t.join(",")}var Rm=Am,Bm=K,Fm=ue,zm=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Vm(e){var t=e&&e.itemStyle;if(t)for(var n=0,r=zm.length;n<r;n++){var o=zm[n],i=t.normal,a=t.emphasis;i&&i[o]&&(e[o]=e[o]||{},e[o].normal?z(e[o].normal,i[o]):e[o].normal=i[o],i[o]=null),a&&a[o]&&(e[o]=e[o]||{},e[o].emphasis?z(e[o].emphasis,a[o]):e[o].emphasis=a[o],a[o]=null)}}function Hm(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,o=e[t].emphasis;r&&(n?(e[t].normal=e[t].emphasis=null,U(e[t],r)):e[t]=r),o&&(e.emphasis=e.emphasis||{},e.emphasis[t]=o,o.focus&&(e.emphasis.focus=o.focus),o.blurScope&&(e.emphasis.blurScope=o.blurScope))}}function Um(e){Hm(e,"itemStyle"),Hm(e,"lineStyle"),Hm(e,"areaStyle"),Hm(e,"label"),Hm(e,"labelLine"),Hm(e,"upperLabel"),Hm(e,"edgeLabel")}function $m(e,t){var n=Fm(e)&&e[t],r=Fm(n)&&n.textStyle;if(r){0;for(var o=0,i=Di.length;o<i;o++){var a=Di[o];r.hasOwnProperty(a)&&(n[a]=r[a])}}}function qm(e){e&&(Um(e),$m(e,"label"),e.emphasis&&$m(e.emphasis,"label"))}function Wm(e){if(Fm(e)){Vm(e),Um(e),$m(e,"label"),$m(e,"upperLabel"),$m(e,"edgeLabel"),e.emphasis&&($m(e.emphasis,"label"),$m(e.emphasis,"upperLabel"),$m(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(Vm(t),qm(t));var n=e.markLine;n&&(Vm(n),qm(n));var r=e.markArea;r&&qm(r);var o=e.data;if("graph"===e.type){o=o||e.nodes;var i=e.links||e.edges;if(i&&!de(i))for(var a=0;a<i.length;a++)qm(i[a]);K(e.categories,(function(e){Um(e)}))}if(o&&!de(o))for(a=0;a<o.length;a++)qm(o[a]);if(t=e.markPoint,t&&t.data){var s=t.data;for(a=0;a<s.length;a++)qm(s[a])}if(n=e.markLine,n&&n.data){var l=n.data;for(a=0;a<l.length;a++)oe(l[a])?(qm(l[a][0]),qm(l[a][1])):qm(l[a])}"gauge"===e.type?($m(e,"axisLabel"),$m(e,"title"),$m(e,"detail")):"treemap"===e.type?(Hm(e.breadcrumb,"itemStyle"),K(e.levels,(function(e){Um(e)}))):"tree"===e.type&&Um(e.leaves)}}function Gm(e){return oe(e)?e:e?[e]:[]}function Ym(e){return(oe(e)?e[0]:e)||{}}function Km(e,t){Bm(Gm(e.series),(function(e){Fm(e)&&Wm(e)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Bm(n,(function(t){Bm(Gm(e[t]),(function(e){e&&($m(e,"axisLabel"),$m(e.axisPointer,"label"))}))})),Bm(Gm(e.parallel),(function(e){var t=e&&e.parallelAxisDefault;$m(t,"axisLabel"),$m(t&&t.axisPointer,"label")})),Bm(Gm(e.calendar),(function(e){Hm(e,"itemStyle"),$m(e,"dayLabel"),$m(e,"monthLabel"),$m(e,"yearLabel")})),Bm(Gm(e.radar),(function(e){$m(e,"name"),e.name&&null==e.axisName&&(e.axisName=e.name,delete e.name),null!=e.nameGap&&null==e.axisNameGap&&(e.axisNameGap=e.nameGap,delete e.nameGap)})),Bm(Gm(e.geo),(function(e){Fm(e)&&(qm(e),Bm(Gm(e.regions),(function(e){qm(e)})))})),Bm(Gm(e.timeline),(function(e){qm(e),Hm(e,"label"),Hm(e,"itemStyle"),Hm(e,"controlStyle",!0);var t=e.data;oe(t)&&K(t,(function(e){ue(e)&&(Hm(e,"label"),Hm(e,"itemStyle"))}))})),Bm(Gm(e.toolbox),(function(e){Hm(e,"iconStyle"),Bm(e.feature,(function(e){Hm(e,"iconStyle")}))})),$m(Ym(e.axisPointer),"label"),$m(Ym(e.tooltip).axisPointer,"label")}function Xm(e,t){for(var n=t.split(","),r=e,o=0;o<n.length;o++)if(r=r&&r[n[o]],null==r)break;return r}function Jm(e,t,n,r){for(var o,i=t.split(","),a=e,s=0;s<i.length-1;s++)o=i[s],null==a[o]&&(a[o]={}),a=a[o];(r||null==a[i[s]])&&(a[i[s]]=n)}function Zm(e){e&&K(Qm,(function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])}))}var Qm=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],eg=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],tg=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function ng(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<tg.length;n++){var r=tg[n][1],o=tg[n][0];null!=t[r]&&(t[o]=t[r])}}function rg(e){e&&"edge"===e.alignTo&&null!=e.margin&&null==e.edgeDistance&&(e.edgeDistance=e.margin)}function og(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function ig(e){e&&null!=e.focusNodeAdjacency&&(e.emphasis=e.emphasis||{},null==e.emphasis.focus&&(e.emphasis.focus="adjacency"))}function ag(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&ag(e[n].children,t)}function sg(e,t){Km(e,t),e.series=Ti(e.series),K(e.series,(function(e){if(ue(e)){var t=e.type;if("line"===t)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===t||"gauge"===t){null!=e.clockWise&&(e.clockwise=e.clockWise),rg(e.label);var n=e.data;if(n&&!de(n))for(var r=0;r<n.length;r++)rg(n[r]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===t){var o=Xm(e,"pointer.color");null!=o&&Jm(e,"itemStyle.color",o)}else if("bar"===t){ng(e),ng(e.backgroundStyle),ng(e.emphasis);n=e.data;if(n&&!de(n))for(r=0;r<n.length;r++)"object"===typeof n[r]&&(ng(n[r]),ng(n[r]&&n[r].emphasis))}else if("sunburst"===t){var i=e.highlightPolicy;i&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=i)),og(e),ag(e.data,og)}else"graph"===t||"sankey"===t?ig(e):"map"===t&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&U(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),Zm(e)}})),e.dataRange&&(e.visualMap=e.dataRange),K(eg,(function(t){var n=e[t];n&&(oe(n)||(n=[n]),K(n,(function(e){Zm(e)})))}))}function lg(e){var t=Me();e.eachSeries((function(e){var n=e.get("stack");if(n){var r=t.get(n)||t.set(n,[]),o=e.getData(),i={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:e};if(!i.stackedDimension||!i.isStackedByIndex&&!i.stackedByDimension)return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(i)}})),t.each(ug)}function ug(e){K(e,(function(t,n){var r=[],o=[NaN,NaN],i=[t.stackResultDimension,t.stackedOverDimension],a=t.data,s=t.isStackedByIndex,l=a.map(i,(function(i,l,u){var c,d,f=a.get(t.stackedDimension,u);if(isNaN(f))return o;s?d=a.getRawIndex(u):c=a.get(t.stackedByDimension,u);for(var p=NaN,h=n-1;h>=0;h--){var m=e[h];if(s||(d=m.data.rawIndexOf(m.stackedByDimension,c)),d>=0){var g=m.data.getByRawIndex(m.stackResultDimension,d);if(f>=0&&g>0||f<=0&&g<0){f+=g,p=g;break}}}return r[0]=f,r[1]=p,r}));a.hostModel.setData(l),t.data=l}))}var cg,dg,fg,pg,hg,mg=function(){function e(e){this.data=e.data||(e.sourceFormat===Uh?{}:[]),this.sourceFormat=e.sourceFormat||qh,this.seriesLayoutBy=e.seriesLayoutBy||Wh,this.startIndex=e.startIndex||0,this.dimensionsDefine=e.dimensionsDefine,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.encodeDefine=e.encodeDefine,this.metaRawOption=e.metaRawOption}return e}();function gg(e){return e instanceof mg}function vg(e,t,n,r){n=n||wg(e);var o=t.seriesLayoutBy,i=_g(e,n,o,t.sourceHeader,t.dimensions),a=new mg({data:e,sourceFormat:n,seriesLayoutBy:o,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,encodeDefine:xg(r),metaRawOption:F(t)});return a}function yg(e){return new mg({data:e,sourceFormat:de(e)?$h:zh})}function bg(e){return new mg({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:F(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount,encodeDefine:xg(e.encodeDefine)})}function xg(e){return e?Me(e):null}function wg(e){var t=qh;if(de(e))t=$h;else if(oe(e)){0===e.length&&(t=Vh);for(var n=0,r=e.length;n<r;n++){var o=e[n];if(null!=o){if(oe(o)){t=Vh;break}if(ue(o)){t=Hh;break}}}}else if(ue(e))for(var i in e)if(Ee(e,i)&&Y(e[i])){t=Uh;break}return t}function _g(e,t,n,r,o){var i,a;if(!e)return{dimensionsDefine:Sg(o),startIndex:a,dimensionsDetectedCount:i};if(t===Vh){var s=e;"auto"===r||null==r?kg((function(e){null!=e&&"-"!==e&&(ae(e)?null==a&&(a=1):a=0)}),n,s,10):a=le(r)?r:r?1:0,o||1!==a||(o=[],kg((function(e,t){o[t]=null!=e?e+"":""}),n,s,1/0)),i=o?o.length:n===Gh?s.length:s[0]?s[0].length:null}else if(t===Hh)o||(o=Cg(e));else if(t===Uh)o||(o=[],K(e,(function(e,t){o.push(t)})));else if(t===zh){var l=Ii(e[0]);i=oe(l)&&l.length||1}return{startIndex:a,dimensionsDefine:Sg(o),dimensionsDetectedCount:i}}function Cg(e){var t,n=0;while(n<e.length&&!(t=e[n++]));if(t){var r=[];return K(t,(function(e,t){r.push(t)})),r}}function Sg(e){if(e){var t=Me();return X(e,(function(e,n){e=ue(e)?e:{name:e};var r={name:e.name,displayName:e.displayName,type:e.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var o=t.get(r.name);return o?r.name+="-"+o.count++:t.set(r.name,{count:1}),r}))}}function kg(e,t,n,r){if(t===Gh)for(var o=0;o<n.length&&o<r;o++)e(n[o]?n[o][0]:null,o);else{var i=n[0]||[];for(o=0;o<i.length&&o<r;o++)e(i[o],o)}}var Og=function(){function e(e,t){var n=gg(e)?e:yg(e);this._source=n;var r=this._data=n.data;n.sourceFormat===$h&&(this._offset=0,this._dimSize=t,this._data=r),hg(this,r,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(e,t){},e.prototype.appendData=function(e){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var e;hg=function(e,o,i){var a=i.sourceFormat,s=i.seriesLayoutBy,l=i.startIndex,u=i.dimensionsDefine,c=pg[Pg(a,s)];if(H(e,c),a===$h)e.getItem=t,e.count=r,e.fillStorage=n;else{var d=Dg(a,s);e.getItem=ne(d,null,o,l,u);var f=Ag(a,s);e.count=ne(f,null,o,l,u)}};var t=function(e,t){e-=this._offset,t=t||[];for(var n=this._data,r=this._dimSize,o=r*e,i=0;i<r;i++)t[i]=n[o+i];return t},n=function(e,t,n,r){for(var o=this._data,i=this._dimSize,a=0;a<i;a++){for(var s=r[a],l=null==s[0]?1/0:s[0],u=null==s[1]?-1/0:s[1],c=t-e,d=n[a],f=0;f<c;f++){var p=o[f*i+a];d[e+f]=p,p<l&&(l=p),p>u&&(u=p)}s[0]=l,s[1]=u}},r=function(){return this._data?this._data.length/this._dimSize:0};function o(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}e={},e[Vh+"_"+Wh]={pure:!0,appendData:o},e[Vh+"_"+Gh]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Hh]={pure:!0,appendData:o},e[Uh]={pure:!0,appendData:function(e){var t=this._data;K(e,(function(e,n){for(var r=t[n]||(t[n]=[]),o=0;o<(e||[]).length;o++)r.push(e[o])}))}},e[zh]={appendData:o},e[$h]={persistent:!1,pure:!0,appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}},pg=e}(),e}(),Tg=function(e,t,n,r){return e[r]},Mg=(cg={},cg[Vh+"_"+Wh]=function(e,t,n,r){return e[r+t]},cg[Vh+"_"+Gh]=function(e,t,n,r){r+=t;for(var o=[],i=e,a=0;a<i.length;a++){var s=i[a];o.push(s?s[r]:null)}return o},cg[Hh]=Tg,cg[Uh]=function(e,t,n,r){for(var o=[],i=0;i<n.length;i++){var a=n[i].name;0;var s=e[a];o.push(s?s[r]:null)}return o},cg[zh]=Tg,cg);function Dg(e,t){var n=Mg[Pg(e,t)];return n}var Ig=function(e,t,n){return e.length},Eg=(dg={},dg[Vh+"_"+Wh]=function(e,t,n){return Math.max(0,e.length-t)},dg[Vh+"_"+Gh]=function(e,t,n){var r=e[0];return r?Math.max(0,r.length-t):0},dg[Hh]=Ig,dg[Uh]=function(e,t,n){var r=n[0].name;var o=e[r];return o?o.length:0},dg[zh]=Ig,dg);function Ag(e,t){var n=Eg[Pg(e,t)];return n}var Lg=function(e,t,n){return null!=t?e[t]:e},jg=(fg={},fg[Vh]=Lg,fg[Hh]=function(e,t,n){return null!=t?e[n]:e},fg[Uh]=Lg,fg[zh]=function(e,t,n){var r=Ii(e);return null!=t&&r instanceof Array?r[t]:r},fg[$h]=Lg,fg);function Ng(e){var t=jg[e];return t}function Pg(e,t){return e===Vh?e+"_"+t:e}function Rg(e,t,n){if(e){var r=e.getRawDataItem(t);if(null!=r){var o,i,a=e.getProvider().getSource().sourceFormat,s=e.getDimensionInfo(n);return s&&(o=s.name,i=s.index),Ng(a)(r,i,o)}}}var Bg=/\{@(.+?)\}/g,Fg=function(){function e(){}return e.prototype.getDataParams=function(e,t){var n=this.getData(t),r=this.getRawValue(e,t),o=n.getRawIndex(e),i=n.getName(e),a=n.getRawDataItem(e),s=n.getItemVisual(e,"style"),l=s&&s[n.getItemVisual(e,"drawType")||"fill"],u=s&&s.stroke,c=this.mainType,d="series"===c,f=n.userOutput;return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:i,dataIndex:o,data:a,dataType:t,value:r,color:l,borderColor:u,dimensionNames:f?f.dimensionNames:null,encode:f?f.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(e,t,n,r,o,i){t=t||"normal";var a=this.getData(n),s=this.getDataParams(e,n);if(i&&(s.value=i.interpolatedValue),null!=r&&oe(s.value)&&(s.value=s.value[r]),!o){var l=a.getItemModel(e);o=l.get("normal"===t?["label","formatter"]:[t,"label","formatter"])}if("function"===typeof o)return s.status=t,s.dimensionIndex=r,o(s);if("string"===typeof o){var u=fh(o,s);return u.replace(Bg,(function(t,n){var r=n.length,o="["===n.charAt(0)&&"]"===n.charAt(r-1)?+n.slice(1,r-1):n,s=Rg(a,e,o);if(i&&oe(i.interpolatedValue)){var l=a.getDimensionInfo(o);l&&(s=i.interpolatedValue[l.index])}return null!=s?s+"":""}))}},e.prototype.getRawValue=function(e,t){return Rg(this.getData(t),e)},e.prototype.formatTooltip=function(e,t,n){},e}();function zg(e){var t,n;return ue(e)?e.type&&(n=e):t=e,{markupText:t,markupFragment:n}}function Vg(e){return new Hg(e)}var Hg=function(){function e(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return e.prototype.perform=function(e){var t,n=this._upstream,r=e&&e.skip;if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(t=this._plan(this.context));var i,a=c(this._modBy),s=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;function c(e){return!(e>=1)&&(e=1),e}a===l&&s===u||(t="reset"),(this._dirty||"reset"===t)&&(this._dirty=!1,i=this._doReset(r)),this._modBy=l,this._modDataCount=u;var d=e&&e.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var f=this._dueIndex,p=Math.min(null!=d?this._dueIndex+d:1/0,this._dueEnd);if(!r&&(i||f<p)){var h=this._progress;if(oe(h))for(var m=0;m<h.length;m++)this._doProgress(h[m],f,p,l,u);else this._doProgress(h,f,p,l,u)}this._dueIndex=p;var g=null!=this._settedOutputEnd?this._settedOutputEnd:p;0,this._outputDueEnd=g}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(e,t,n,r,o){Ug.reset(t,n,r,o),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:Ug.next},this.context)},e.prototype._doReset=function(e){var t,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(n=t.forceFirstProgress,t=t.progress),oe(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},e}(),Ug=function(){var e,t,n,r,o,i={reset:function(l,u,c,d){t=l,e=u,n=c,r=d,o=Math.ceil(r/n),i.next=n>1&&r>0?s:a}};return i;function a(){return t<e?t++:null}function s(){var i=t%o*n+Math.ceil(t/o),a=t>=e?null:i<r?i:t;return t++,a}}();"undefined"!==typeof console&&console.warn&&console.log;function $g(e){0}function qg(e){throw new Error(e)}function Wg(e,t){var n=t&&t.type;if("ordinal"===n){var r=t&&t.ordinalMeta;return r?r.parseAndCollect(e):e}return"time"===n&&"number"!==typeof e&&null!=e&&"-"!==e&&(e=+hi(e)),null==e||""===e?NaN:+e}var Gg=Me({number:function(e){return parseFloat(e)},time:function(e){return+hi(e)},trim:function(e){return"string"===typeof e?Ce(e):e}});function Yg(e){return Gg.get(e)}var Kg={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},Xg=function(){function e(e,t){if("number"!==typeof t){var n="";0,qg(n)}this._opFn=Kg[e],this._rvalFloat=xi(t)}return e.prototype.evaluate=function(e){return"number"===typeof e?this._opFn(e,this._rvalFloat):this._opFn(xi(e),this._rvalFloat)},e}(),Jg=function(){function e(e,t){var n="desc"===e;this._resultLT=n?1:-1,null==t&&(t=n?"min":"max"),this._incomparable="min"===t?-1/0:1/0}return e.prototype.evaluate=function(e,t){var n=typeof e,r=typeof t,o="number"===n?e:xi(e),i="number"===r?t:xi(t),a=isNaN(o),s=isNaN(i);if(a&&(o=this._incomparable),s&&(i=this._incomparable),a&&s){var l="string"===n,u="string"===r;l&&(o=u?e:0),u&&(i=l?t:0)}return o<i?this._resultLT:o>i?-this._resultLT:0},e}(),Zg=function(){function e(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=xi(t)}return e.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var n=typeof e;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(t=xi(e)===this._rvalFloat)}return this._isEQ?t:!t},e}();function Qg(e,t){return"eq"===e||"ne"===e?new Zg("eq"===e,t):Ee(Kg,e)?new Xg(e,t):null}var ev=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(e){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(e){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(e,t){},e.prototype.retrieveValueFromItem=function(e,t){},e.prototype.convertValue=function(e,t){return Wg(e,t)},e}();function tv(e,t){var n=new ev,r=e.data,o=n.sourceFormat=e.sourceFormat,i=e.startIndex,a="";e.seriesLayoutBy!==Wh&&qg(a);var s=[],l={},u=e.dimensionsDefine;if(u)K(u,(function(e,t){var n=e.name,r={index:t,name:n,displayName:e.displayName};if(s.push(r),null!=n){var o="";Ee(l,n)&&qg(o),l[n]=r}}));else for(var c=0;c<e.dimensionsDetectedCount;c++)s.push({index:c});var d=Dg(o,Wh);t.__isBuiltIn&&(n.getRawDataItem=function(e){return d(r,i,s,e)},n.getRawData=ne(nv,null,e)),n.cloneRawData=ne(rv,null,e);var f=Ag(o,Wh);n.count=ne(f,null,r,i,s);var p=Ng(o);n.retrieveValue=function(e,t){var n=d(r,i,s,e);return h(n,t)};var h=n.retrieveValueFromItem=function(e,t){if(null!=e){var n=s[t];return n?p(e,t,n.name):void 0}};return n.getDimensionInfo=ne(ov,null,s,l),n.cloneAllDimensionInfo=ne(iv,null,s),n}function nv(e){var t=e.sourceFormat;if(!cv(t)){var n="";0,qg(n)}return e.data}function rv(e){var t=e.sourceFormat,n=e.data;if(!cv(t)){var r="";0,qg(r)}if(t===Vh){for(var o=[],i=0,a=n.length;i<a;i++)o.push(n[i].slice());return o}if(t===Hh){for(o=[],i=0,a=n.length;i<a;i++)o.push(H({},n[i]));return o}}function ov(e,t,n){if(null!=n)return"number"===typeof n||!isNaN(n)&&!Ee(t,n)?e[n]:Ee(t,n)?t[n]:void 0}function iv(e){return F(e)}var av=Me();function sv(e){e=F(e);var t=e.type,n="";t||qg(n);var r=t.split(":");2!==r.length&&qg(n);var o=!1;"echarts"===r[0]&&(t=r[1],o=!0),e.__isBuiltIn=o,av.set(t,e)}function lv(e,t,n){var r=Ti(e),o=r.length,i="";o||qg(i);for(var a=0,s=o;a<s;a++){var l=r[a];t=uv(l,t,n,1===o?null:a),a!==s-1&&(t.length=Math.max(t.length,1))}return t}function uv(e,t,n,r){var o="";t.length||qg(o),ue(e)||qg(o);var i=e.type,a=av.get(i);a||qg(o);var s=X(t,(function(e){return tv(e,a)})),l=Ti(a.transform({upstream:s[0],upstreamList:s,config:F(e.config)}));return X(l,(function(e,n){var r="";ue(e)||qg(r),e.data||qg(r);var o,i=wg(e.data);cv(i)||qg(r);var a=t[0];if(a&&0===n&&!e.dimensions){var s=a.startIndex;s&&(e.data=a.data.slice(0,s).concat(e.data)),o={seriesLayoutBy:Wh,sourceHeader:s,dimensions:a.metaRawOption.dimensions}}else o={seriesLayoutBy:Wh,sourceHeader:0,dimensions:e.dimensions};return vg(e.data,o,null,null)}))}function cv(e){return e===Vh||e===Hh}var dv=function(){function e(e){this._sourceList=[],this._upstreamSignList=[],this._versionSignBase=0,this._sourceHost=e}return e.prototype.dirty=function(){this._setLocalSource([],[])},e.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&this._createSource()},e.prototype._createSource=function(){this._setLocalSource([],[]);var e,t,n=this._sourceHost,r=this._getUpstreamSourceManagers(),o=!!r.length;if(pv(n)){var i=n,a=void 0,s=void 0,l=void 0;if(o){var u=r[0];u.prepareSource(),l=u.getSource(),a=l.data,s=l.sourceFormat,t=[u._getVersionSign()]}else a=i.get("data",!0),s=de(a)?$h:zh,t=[];var c=this._getSourceMetaRawOption(),d=l?l.metaRawOption:null,f=ye(c.seriesLayoutBy,d?d.seriesLayoutBy:null),p=ye(c.sourceHeader,d?d.sourceHeader:null),h=ye(c.dimensions,d?d.dimensions:null);e=[vg(a,{seriesLayoutBy:f,sourceHeader:p,dimensions:h},s,i.get("encode",!0))]}else{var m=n;if(o){var g=this._applyTransform(r);e=g.sourceList,t=g.upstreamSignList}else{var v=m.get("source",!0);e=[vg(v,this._getSourceMetaRawOption(),null,null)],t=[]}}this._setLocalSource(e,t)},e.prototype._applyTransform=function(e){var t,n=this._sourceHost,r=n.get("transform",!0),o=n.get("fromTransformResult",!0);if(null!=o){var i="";1!==e.length&&hv(i)}var a=[],s=[];return K(e,(function(e){e.prepareSource();var t=e.getSource(o||0),n="";null==o||t||hv(n),a.push(t),s.push(e._getVersionSign())})),r?t=lv(r,a,{datasetIndex:n.componentIndex}):null!=o&&(t=[bg(a[0])]),{sourceList:t,upstreamSignList:s}},e.prototype._isDirty=function(){var e=this._sourceList;if(!e.length)return!0;for(var t=this._getUpstreamSourceManagers(),n=0;n<t.length;n++){var r=t[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign())return!0}},e.prototype.getSource=function(e){return this._sourceList[e||0]},e.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(pv(e)){var t=Qh(e);return t?[t.getSourceManager()]:[]}return X(em(e),(function(e){return e.getSourceManager()}))},e.prototype._getSourceMetaRawOption=function(){var e,t,n,r=this._sourceHost;if(pv(r))e=r.get("seriesLayoutBy",!0),t=r.get("sourceHeader",!0),n=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=r;e=o.get("seriesLayoutBy",!0),t=o.get("sourceHeader",!0),n=o.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:t,dimensions:n}},e}();function fv(e){var t=e.option.transform;t&&ke(e.option.transform)}function pv(e){return"series"===e.mainType}function hv(e){throw new Error(e)}var mv="line-height:1";function gv(e,t){var n=e.color||"#6e7079",r=e.fontSize||12,o=e.fontWeight||"400",i=e.color||"#464646",a=e.fontSize||14,s=e.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+r+"px;color:"+n+";font-weight:"+o,valueStyle:"font-size:"+a+"px;color:"+i+";font-weight:"+s}:{nameStyle:{fontSize:r,fill:n,fontWeight:o},valueStyle:{fontSize:a,fill:i,fontWeight:s}}}var vv=[0,10,20,30],yv=["","\n","\n\n","\n\n\n"];function bv(e,t){return t.type=e,t}function xv(e){return Ee(wv,e.type)&&wv[e.type]}var wv={section:{planLayout:function(e){var t=e.blocks.length,n=t>1||t>0&&!e.noHeader,r=0;K(e.blocks,(function(e){xv(e).planLayout(e);var t=e.__gapLevelBetweenSubBlocks;t>=r&&(r=t+(!n||t&&("section"!==e.type||e.noHeader)?0:1))})),e.__gapLevelBetweenSubBlocks=r},build:function(e,t,n,r){var o=t.noHeader,i=Sv(t),a=_v(e,t,o?n:i.html,r);if(o)return a;var s=uh(t.header,"ordinal",e.useUTC),l=gv(r,e.renderMode).nameStyle;return"richText"===e.renderMode?Mv(e,s,l)+i.richText+a:kv('<div style="'+l+";"+mv+';">'+lh(s)+"</div>"+a,n)}},nameValue:{planLayout:function(e){e.__gapLevelBetweenSubBlocks=0},build:function(e,t,n,r){var o=e.renderMode,i=t.noName,a=t.noValue,s=!t.markerType,l=t.name,u=t.value,c=e.useUTC;if(!i||!a){var d=s?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",o),f=i?"":uh(l,"ordinal",c),p=t.valueType,h=a?[]:oe(u)?X(u,(function(e,t){return uh(e,oe(p)?p[t]:p,c)})):[uh(u,oe(p)?p[0]:p,c)],m=!s||!i,g=!s&&i,v=gv(r,o),y=v.nameStyle,b=v.valueStyle;return"richText"===o?(s?"":d)+(i?"":Mv(e,f,y))+(a?"":Dv(e,h,m,g,b)):kv((s?"":d)+(i?"":Ov(f,!s,y))+(a?"":Tv(h,m,g,b)),n)}}}};function _v(e,t,n,r){var o=[],i=t.blocks||[];_e(!i||oe(i)),i=i||[];var a=e.orderMode;if(t.sortBlocks&&a){i=i.slice();var s={valueAsc:"asc",valueDesc:"desc"};if(Ee(s,a)){var l=new Jg(s[a],null);i.sort((function(e,t){return l.evaluate(e.sortParam,t.sortParam)}))}else"seriesDesc"===a&&i.reverse()}var u=Sv(t);if(K(i,(function(t,n){var i=xv(t).build(e,t,n>0?u.html:0,r);null!=i&&o.push(i)})),o.length)return"richText"===e.renderMode?o.join(u.richText):kv(o.join(""),n)}function Cv(e,t,n,r,o,i){if(e){var a=xv(e);a.planLayout(e);var s={useUTC:o,renderMode:n,orderMode:r,markupStyleCreator:t};return a.build(s,e,0,i)}}function Sv(e){var t=e.__gapLevelBetweenSubBlocks;return{html:vv[t],richText:yv[t]}}function kv(e,t){var n='<div style="clear:both"></div>',r="margin: "+t+"px 0 0";return'<div style="'+r+";"+mv+';">'+e+n+"</div>"}function Ov(e,t,n){var r=t?"margin-left:2px":"";return'<span style="'+n+";"+r+'">'+lh(e)+"</span>"}function Tv(e,t,n,r){var o=n?"10px":"20px",i=t?"float:right;margin-left:"+o:"";return'<span style="'+i+";"+r+'">'+X(e,(function(e){return lh(e)})).join("&nbsp;&nbsp;")+"</span>"}function Mv(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function Dv(e,t,n,r,o){var i=[o],a=r?10:20;return n&&i.push({padding:[0,0,0,a],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(t.join("  "),i)}function Iv(e,t){var n=e.getData().getItemVisual(t,"style"),r=n[e.visualDrawType];return vh(r)}function Ev(e,t){var n=e.get("padding");return null!=n?n:"richText"===t?[8,10]:10}var Av=function(){function e(){this.richTextStyles={},this._nextStyleNameId=_i()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(e,t,n){var r="richText"===n?this._generateStyleName():null,o=hh({color:t,type:e,renderMode:n,markerId:r});return ae(o)?o:(this.richTextStyles[r]=o.style,o.content)},e.prototype.wrapRichTextStyle=function(e,t){var n={};oe(t)?K(t,(function(e){return H(n,e)})):H(n,t);var r=this._generateStyleName();return this.richTextStyles[r]=n,"{"+r+"|"+e+"}"},e}();function Lv(e){var t,n,r,o,i=e.series,a=e.dataIndex,s=e.multipleSeries,l=i.getData(),u=l.mapDimensionsAll("defaultedTooltip"),c=u.length,d=i.getRawValue(a),f=oe(d),p=Iv(i,a);if(c>1||f&&!c){var h=jv(d,i,a,u,p);t=h.inlineValues,n=h.inlineValueTypes,r=h.blocks,o=h.inlineValues[0]}else if(c){var m=l.getDimensionInfo(u[0]);o=t=Rg(l,a,u[0]),n=m.type}else o=t=f?d[0]:d;var g=Hi(i),v=g&&i.name||"",y=l.getName(a),b=s?v:y;return bv("section",{header:v,noHeader:s||!g,sortParam:o,blocks:[bv("nameValue",{markerType:"item",markerColor:p,name:b,noName:!Ce(b),value:t,valueType:n})].concat(r||[])})}function jv(e,t,n,r,o){var i=t.getData(),a=J(e,(function(e,t,n){var r=i.getDimensionInfo(n);return e||r&&!1!==r.tooltip&&null!=r.displayName}),!1),s=[],l=[],u=[];function c(e,t){var n=i.getDimensionInfo(t);n&&!1!==n.otherDims.tooltip&&(a?u.push(bv("nameValue",{markerType:"subItem",markerColor:o,name:n.displayName,value:e,valueType:n.type})):(s.push(e),l.push(n.type)))}return r.length?K(r,(function(e){c(Rg(i,n,e),e)})):K(e,c),{inlineValues:s,inlineValueTypes:l,blocks:u}}var Nv=Ki();function Pv(e,t){return e.getName(t)||e.getId(t)}var Rv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return g(t,e),t.prototype.init=function(e,t,n){this.seriesIndex=this.componentIndex,this.dataTask=Vg({count:zv,reset:Vv}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n);var r=Nv(this).sourceManager=new dv(this);r.prepareSource();var o=this.getInitialData(e,n);Uv(o,this),this.dataTask.context.data=o,Nv(this).dataBeforeProcessed=o,Bv(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=Mh(this),r=n?Ih(e):{},o=this.subType;Nh.hasClass(o)&&(o+="Series"),z(e,t.getTheme().get(this.subType)),z(e,this.getDefaultOption()),Mi(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&Dh(e,r,n)},t.prototype.mergeOption=function(e,t){e=z(this.option,e,!0),this.fillDataTextStyle(e.data);var n=Mh(this);n&&Dh(this.option,e,n);var r=Nv(this).sourceManager;r.dirty(),r.prepareSource();var o=this.getInitialData(e,t);Uv(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Nv(this).dataBeforeProcessed=o,Bv(this),this._initSelectedMapFromData(o)},t.prototype.fillDataTextStyle=function(e){if(e&&!de(e))for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&Mi(e[n],"label",t)},t.prototype.getInitialData=function(e,t){},t.prototype.appendData=function(e){var t=this.getRawData();t.appendData(e.data)},t.prototype.getData=function(e){var t=qv(this);if(t){var n=t.context.data;return null==e?n:n.getLinkedData(e)}return Nv(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var t=qv(this);if(t){var n=t.context;n.outputData=e,t!==this.dataTask&&(n.data=e)}Nv(this).data=e},t.prototype.getSource=function(){return Nv(this).sourceManager.getSource()},t.prototype.getRawData=function(){return Nv(this).dataBeforeProcessed},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,t,n){return Lv({series:this,dataIndex:e,multipleSeries:t})},t.prototype.isAnimationEnabled=function(){if(C.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),!!e},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,t,n){var r=this.ecModel,o=dm.prototype.getColorFromPalette.call(this,e,t,n);return o||(o=r.getColorFromPalette(e,t,n)),o},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,t){this._innerSelect(this.getData(t),e)},t.prototype.unselect=function(e,t){var n=this.option.selectedMap;if(n)for(var r=this.getData(t),o=0;o<e.length;o++){var i=e[o],a=Pv(r,i);n[a]=!1,this._selectedDataIndicesMap[a]=-1}},t.prototype.toggleSelect=function(e,t){for(var n=[],r=0;r<e.length;r++)n[0]=e[r],this.isSelected(e[r],t)?this.unselect(n,t):this.select(n,t)},t.prototype.getSelectedDataIndices=function(){for(var e=this._selectedDataIndicesMap,t=ee(e),n=[],r=0;r<t.length;r++){var o=e[t[r]];o>=0&&n.push(o)}return n},t.prototype.isSelected=function(e,t){var n=this.option.selectedMap;if(!n)return!1;var r=this.getData(t),o=Pv(r,e);return n[o]||!1},t.prototype._innerSelect=function(e,t){var n,r,o=this.option.selectedMode,i=t.length;if(o&&i)if("multiple"===o)for(var a=this.option.selectedMap||(this.option.selectedMap={}),s=0;s<i;s++){var l=t[s],u=Pv(e,l);a[u]=!0,this._selectedDataIndicesMap[u]=e.getRawIndex(l)}else if("single"===o||!0===o){var c=t[i-1];u=Pv(e,c);this.option.selectedMap=(n={},n[u]=!0,n),this._selectedDataIndicesMap=(r={},r[u]=e.getRawIndex(c),r)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var t=[];e.hasItemOption&&e.each((function(n){var r=e.getRawDataItem(n);"object"===typeof r&&r.selected&&t.push(n)})),t.length>0&&this._innerSelect(e,t)}},t.registerClass=function(e){return Nh.registerClass(e)},t.protoInitialize=function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.useColorPaletteOnData=!1,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"}(),t}(Nh);function Bv(e){var t=e.name;Hi(e)||(e.name=Fv(e)||t)}function Fv(e){var t=e.getRawData(),n=t.mapDimensionsAll("seriesName"),r=[];return K(n,(function(e){var n=t.getDimensionInfo(e);n.displayName&&r.push(n.displayName)})),r.join(" ")}function zv(e){return e.model.getRawData().count()}function Vv(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),Hv}function Hv(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function Uv(e,t){K(y(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),(function(n){e.wrapMethod(n,re($v,t))}))}function $v(e,t){var n=qv(e);return n&&n.setOutputEnd((t||this).count()),t}function qv(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var r=n.currentTask;if(r){var o=r.agentStubMap;o&&(r=o.get(e.uid))}return r}}G(Rv,Fg),G(Rv,dm),ha(Rv,Nh);var Wv=Rv,Gv=function(){function e(){this.group=new Vo,this.uid=up("viewComponent")}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,r){},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,r){},e.prototype.updateLayout=function(e,t,n,r){},e.prototype.updateVisual=function(e,t,n,r){},e.prototype.blurSeries=function(e,t){},e}();fa(Gv),ba(Gv);var Yv=Gv;function Kv(){var e=Ki();return function(t){var n=e(t),r=t.pipelineContext,o=!!n.large,i=!!n.progressiveRender,a=n.large=!(!r||!r.large),s=n.progressiveRender=!(!r||!r.progressiveRender);return!(o===a&&i===s)&&"reset"}}var Xv=Ki(),Jv=Kv(),Zv=function(){function e(){this.group=new Vo,this.uid=up("viewChart"),this.renderTask=Vg({plan:ty,reset:ny}),this.renderTask.context={view:this}}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,r){},e.prototype.highlight=function(e,t,n,r){ey(e.getData(),r,"emphasis")},e.prototype.downplay=function(e,t,n,r){ey(e.getData(),r,"normal")},e.prototype.remove=function(e,t){this.group.removeAll()},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,r){this.render(e,t,n,r)},e.prototype.updateLayout=function(e,t,n,r){this.render(e,t,n,r)},e.prototype.updateVisual=function(e,t,n,r){this.render(e,t,n,r)},e.markUpdateMethod=function(e,t){Xv(e).updateMethod=t},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function Qv(e,t,n){e&&("emphasis"===t?Gu:Yu)(e,n)}function ey(e,t,n){var r=Yi(e,t),o=t&&null!=t.highlightKey?pc(t.highlightKey):null;null!=r?K(Ti(r),(function(t){Qv(e.getItemGraphicEl(t),n,o)})):e.eachItemGraphicEl((function(e){Qv(e,n,o)}))}function ty(e){return Jv(e.model)}function ny(e){var t=e.model,n=e.ecModel,r=e.api,o=e.payload,i=t.pipelineContext.progressiveRender,a=e.view,s=o&&Xv(o).updateMethod,l=i?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](t,n,r,o),ry[l]}fa(Zv,["dispose"]),ba(Zv);var ry={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},oy=Zv,iy="\0__throttleOriginMethod",ay="\0__throttleRate",sy="\0__throttleType";function ly(e,t,n){var r,o,i,a,s,l=0,u=0,c=null;function d(){u=(new Date).getTime(),c=null,e.apply(i,a||[])}t=t||0;var f=function(){for(var e=[],f=0;f<arguments.length;f++)e[f]=arguments[f];r=(new Date).getTime(),i=this,a=e;var p=s||t,h=s||n;s=null,o=r-(h?l:u)-p,clearTimeout(c),h?c=setTimeout(d,p):o>=0?d():c=setTimeout(d,-o),l=r};return f.clear=function(){c&&(clearTimeout(c),c=null)},f.debounceNextCall=function(e){s=e},f}function uy(e,t,n,r){var o=e[t];if(o){var i=o[iy]||o,a=o[sy],s=o[ay];if(s!==n||a!==r){if(null==n||!r)return e[t]=i;o=e[t]=ly(i,n,"debounce"===r),o[iy]=i,o[sy]=r,o[ay]=n}return o}}function cy(e,t){var n=e[t];n&&n[iy]&&(e[t]=n[iy])}var dy=Ki(),fy={itemStyle:xa(rp,!0),lineStyle:xa(ep,!0)},py={lineStyle:"stroke",itemStyle:"fill"};function hy(e,t){var n=e.visualStyleMapper||fy[t];return n||fy.itemStyle}function my(e,t){var n=e.visualDrawType||py[t];return n||"fill"}var gy={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",o=e.getModel(r),i=hy(e,r),a=i(o),s=o.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var l=my(e,r),u=a[l],c=ie(u)?u:null;if(a[l]&&!c||(a[l]=e.getColorFromPalette(e.name,null,t.getSeriesCount()),n.setVisual("colorFromPalette",!0)),n.setVisual("style",a),n.setVisual("drawType",l),!t.isSeriesFiltered(e)&&c)return n.setVisual("colorFromPalette",!1),{dataEach:function(t,n){var r=e.getDataParams(n),o=H({},a);o[l]=c(r),t.setItemVisual(n,"style",o)}}}},vy=new sp,yy={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.ignoreStyleOnData&&!t.isSeriesFiltered(e)){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",o=hy(e,r),i=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(e,t){var n=e.getRawDataItem(t);if(n&&n[r]){vy.option=n[r];var a=o(vy),s=e.ensureUniqueItemVisual(t,"style");H(s,a),vy.option.decal&&(e.setItemVisual(t,"decal",vy.option.decal),vy.option.decal.dirty=!0),i in a&&e.setItemVisual(t,"colorFromPalette",!1)}}:null}}}},by={performRawSeries:!0,overallReset:function(e){var t=Me();e.eachSeries((function(e){if(e.useColorPaletteOnData){var n=t.get(e.type);n||(n={},t.set(e.type,n)),dy(e).scope=n}})),e.eachSeries((function(t){if(t.useColorPaletteOnData&&!e.isSeriesFiltered(t)){var n=t.getRawData(),r={},o=t.getData(),i=dy(t).scope,a=t.visualStyleAccessPath||"itemStyle",s=my(t,a);o.each((function(e){var t=o.getRawIndex(e);r[t]=e})),n.each((function(e){var a=r[e],l=o.getItemVisual(a,"colorFromPalette");if(l){var u=o.ensureUniqueItemVisual(a,"style"),c=n.getName(e)||e+"",d=n.count();u[s]=t.getColorFromPalette(c,i,d)}}))}}))}},xy=Math.PI;function wy(e,t){t=t||{},U(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Vo,r=new Kl({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(r);var o,i=new uu({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily}}),a=new Kl({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return n.add(a),t.showSpinner&&(o=new Ad({shape:{startAngle:-xy/2,endAngle:-xy/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:3*xy/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*xy/2}).delay(300).start("circularInOut"),n.add(o)),n.resize=function(){var n=i.getBoundingRect().width,s=t.showSpinner?t.spinnerRadius:0,l=(e.getWidth()-2*s-(t.showSpinner&&n?10:0)-n)/2-(t.showSpinner&&n?0:5+n/2)+(t.showSpinner?0:n/2)+(n?0:s),u=e.getHeight()/2;t.showSpinner&&o.setShape({cx:l,cy:u}),a.setShape({x:l-s,y:u-s,width:2*s,height:2*s}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}var _y=function(){function e(e,t,n,r){this._stageTaskMap=Me(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return e.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each((function(e){var t=e.overallTask;t&&t.dirty()}))},e.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),r=n.context,o=!t&&n.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>n.blockIndex,i=o?n.step:null,a=r&&r.modDataCount,s=null!=a?Math.ceil(a/i):null;return{step:i,modBy:s,modDataCount:a}}},e.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},e.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),r=e.getData(),o=r.count(),i=n.progressiveEnabled&&t.incrementalPrepareRender&&o>=n.threshold,a=e.get("large")&&o>=e.get("largeThreshold"),s="mod"===e.get("progressiveChunkMode")?o:null;e.pipelineContext=n.context={progressiveRender:i,modDataCount:s,large:a}},e.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=Me();e.eachSeries((function(e){var r=e.getProgressive(),o=e.uid;n.set(o,{id:o,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:r&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),t._pipe(e,e.dataTask)}))},e.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;K(this._allHandlers,(function(r){var o=e.get(r.uid)||e.set(r.uid,{}),i="";_e(!(r.reset&&r.overallReset),i),r.reset&&this._createSeriesStageTask(r,o,t,n),r.overallReset&&this._createOverallStageTask(r,o,t,n)}),this)},e.prototype.prepareView=function(e,t,n,r){var o=e.renderTask,i=o.context;i.model=t,i.ecModel=n,i.api=r,o.__block=!e.incrementalPrepareRender,this._pipe(t,o)},e.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},e.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},e.prototype._performStageTasks=function(e,t,n,r){r=r||{};var o=!1,i=this;function a(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}K(e,(function(e,s){if(!r.visualType||r.visualType===e.visualType){var l=i._stageTaskMap.get(e.uid),u=l.seriesTaskMap,c=l.overallTask;if(c){var d,f=c.agentStubMap;f.each((function(e){a(r,e)&&(e.dirty(),d=!0)})),d&&c.dirty(),i.updatePayload(c,n);var p=i.getPerformArgs(c,r.block);f.each((function(e){e.perform(p)})),c.perform(p)&&(o=!0)}else u&&u.each((function(s,l){a(r,s)&&s.dirty();var u=i.getPerformArgs(s,r.block);u.skip=!e.performRawSeries&&t.isSeriesFiltered(s.context.model),i.updatePayload(s,n),s.perform(u)&&(o=!0)}))}})),this.unfinished=o||this.unfinished},e.prototype.performSeriesTasks=function(e){var t;e.eachSeries((function(e){t=e.dataTask.perform()||t})),this.unfinished=t||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each((function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)}))},e.prototype.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},e.prototype._createSeriesStageTask=function(e,t,n,r){var o=this,i=t.seriesTaskMap,a=t.seriesTaskMap=Me(),s=e.seriesType,l=e.getTargetSeries;function u(t){var s=t.uid,l=a.set(s,i&&i.get(s)||Vg({plan:Ty,reset:My,count:Ey}));l.context={model:t,ecModel:n,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:o},o._pipe(t,l)}e.createOnAllSeries?n.eachRawSeries(u):s?n.eachRawSeriesByType(s,u):l&&l(n,r).each(u)},e.prototype._createOverallStageTask=function(e,t,n,r){var o=this,i=t.overallTask=t.overallTask||Vg({reset:Cy});i.context={ecModel:n,api:r,overallReset:e.overallReset,scheduler:o};var a=i.agentStubMap,s=i.agentStubMap=Me(),l=e.seriesType,u=e.getTargetSeries,c=!0,d=!1,f="";function p(e){var t=e.uid,n=s.set(t,a&&a.get(t)||(d=!0,Vg({reset:Sy,onDirty:Oy})));n.context={model:e,overallProgress:c},n.agent=i,n.__block=c,o._pipe(e,n)}_e(!e.createOnAllSeries,f),l?n.eachRawSeriesByType(l,p):u?u(n,r).each(p):(c=!1,K(n.getSeries(),p)),d&&i.dirty()},e.prototype._pipe=function(e,t){var n=e.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},e.wrapStageHandler=function(e,t){return ie(e)&&(e={overallReset:e,seriesType:Ay(e)}),e.uid=up("stageHandler"),t&&(e.visualType=t),e},e}();function Cy(e){e.overallReset(e.ecModel,e.api,e.payload)}function Sy(e){return e.overallProgress&&ky}function ky(){this.agent.dirty(),this.getDownstream().dirty()}function Oy(){this.agent&&this.agent.dirty()}function Ty(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function My(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=Ti(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?X(t,(function(e,t){return Iy(t)})):Dy}var Dy=Iy(0);function Iy(e){return function(t,n){var r=n.data,o=n.resetDefines[e];if(o&&o.dataEach)for(var i=t.start;i<t.end;i++)o.dataEach(r,i);else o&&o.progress&&o.progress(t,r)}}function Ey(e){return e.data.count()}function Ay(e){Ly=null;try{e(jy,Ny)}catch(t){}return Ly}var Ly,jy={},Ny={};function Py(e,t){for(var n in t.prototype)e[n]=Ae}Py(jy,Sm),Py(Ny,Tm),jy.eachSeriesByType=jy.eachRawSeriesByType=function(e){Ly=e},jy.eachComponent=function(e){"series"===e.mainType&&e.subType&&(Ly=e.subType)};var Ry=_y,By=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Fy={color:By,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],By]},zy="#B9B8CE",Vy="#100C2A",Hy=function(){return{axisLine:{lineStyle:{color:zy}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Uy=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],$y={darkMode:!0,color:Uy,backgroundColor:Vy,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:zy}},textStyle:{color:zy},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:zy}},dataZoom:{borderColor:"#71708A",textStyle:{color:zy},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:zy}},timeline:{lineStyle:{color:zy},label:{color:zy},controlStyle:{color:zy,borderColor:zy}},calendar:{itemStyle:{color:Vy},dayLabel:{color:zy},monthLabel:{color:zy},yearLabel:{color:zy}},timeAxis:Hy(),logAxis:Hy(),valueAxis:Hy(),categoryAxis:Hy(),line:{symbol:"circle"},graph:{color:Uy},gauge:{title:{color:zy},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:zy},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};$y.categoryAxis.splitLine.show=!1;var qy=$y;function Wy(e){if(ae(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var n=e;9===n.nodeType&&(n=n.firstChild);while("svg"!==n.nodeName.toLowerCase()||1!==n.nodeType)n=n.nextSibling;return n}var Gy=Me(),Yy={registerMap:function(e,t,n){var r;if(oe(t))r=t;else if(t.svg)r=[{type:"svg",source:t.svg,specialAreas:t.specialAreas}];else{var o=t.geoJson||t.geoJSON;o&&!t.features&&(n=t.specialAreas,t=o),r=[{type:"geoJSON",source:t,specialAreas:n}]}return K(r,(function(e){var t=e.type;"geoJson"===t&&(t=e.type="geoJSON");var n=Ky[t];n(e)})),Gy.set(e,r)},retrieveMap:function(e){return Gy.get(e)}},Ky={geoJSON:function(e){var t=e.source;e.geoJSON=ae(t)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=Wy(e.source)}},Xy=function(){function e(){}return e.prototype.normalizeQuery=function(e){var t={},n={},r={};if(ae(e)){var o=ua(e);t.mainType=o.main||null,t.subType=o.sub||null}else{var i=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};K(e,(function(e,o){for(var s=!1,l=0;l<i.length;l++){var u=i[l],c=o.lastIndexOf(u);if(c>0&&c===o.length-u.length){var d=o.slice(0,c);"data"!==d&&(t.mainType=d,t[u.toLowerCase()]=e,s=!0)}}a.hasOwnProperty(o)&&(n[o]=e,s=!0),s||(r[o]=e)}))}return{cptQuery:t,dataQuery:n,otherQuery:r}},e.prototype.filter=function(e,t){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,o=n.packedEvent,i=n.model,a=n.view;if(!i||!a)return!0;var s=t.cptQuery,l=t.dataQuery;return u(s,i,"mainType")&&u(s,i,"subType")&&u(s,i,"index","componentIndex")&&u(s,i,"name")&&u(s,i,"id")&&u(l,o,"name")&&u(l,o,"dataIndex")&&u(l,o,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(e,t.otherQuery,r,o));function u(e,t,n,r){return null==e[n]||t[r||n]===e[n]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),Jy={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendSymbol&&n.setVisual("legendSymbol",e.legendSymbol),e.hasSymbolVisual){var r=e.get("symbol"),o=e.get("symbolSize"),i=e.get("symbolKeepAspect"),a=e.get("symbolRotate"),s=ie(r),l=ie(o),u=ie(a),c=s||l||u,d=!s&&r?r:e.defaultSymbol,f=l?null:o,p=u?null:a;if(n.setVisual({legendSymbol:e.legendSymbol||d,symbol:d,symbolSize:f,symbolKeepAspect:i,symbolRotate:p}),!t.isSeriesFiltered(e))return{dataEach:c?h:null}}function h(t,n){var i=e.getRawValue(n),c=e.getDataParams(n);s&&t.setItemVisual(n,"symbol",r(i,c)),l&&t.setItemVisual(n,"symbolSize",o(i,c)),u&&t.setItemVisual(n,"symbolRotate",a(i,c))}}},Zy={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(e.hasSymbolVisual&&!t.isSeriesFiltered(e)){var n=e.getData();return{dataEach:n.hasItemOption?r:null}}function r(e,t){var n=e.getItemModel(t),r=n.getShallow("symbol",!0),o=n.getShallow("symbolSize",!0),i=n.getShallow("symbolRotate",!0),a=n.getShallow("symbolKeepAspect",!0);null!=r&&e.setItemVisual(t,"symbol",r),null!=o&&e.setItemVisual(t,"symbolSize",o),null!=i&&e.setItemVisual(t,"symbolRotate",i),null!=a&&e.setItemVisual(t,"symbolKeepAspect",a)}}};function Qy(e,t,n){switch(n){case"color":var r=e.getItemVisual(t,"style");return r[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n);default:0}}function eb(e,t){switch(t){case"color":var n=e.getVisual("style");return n[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t);default:0}}function tb(e,t,n,r){switch(n){case"color":var o=e.ensureUniqueItemVisual(t,"style");o[e.getVisual("drawType")]=r,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,n,r);break;default:0}}var nb=2*Math.PI,rb=al.CMD,ob=["top","right","bottom","left"];function ib(e,t,n,r,o){var i=n.width,a=n.height;switch(e){case"top":r.set(n.x+i/2,n.y-t),o.set(0,-1);break;case"bottom":r.set(n.x+i/2,n.y+a+t),o.set(0,1);break;case"left":r.set(n.x-t,n.y+a/2),o.set(-1,0);break;case"right":r.set(n.x+i+t,n.y+a/2),o.set(1,0);break}}function ab(e,t,n,r,o,i,a,s,l){a-=e,s-=t;var u=Math.sqrt(a*a+s*s);a/=u,s/=u;var c=a*n+e,d=s*n+t;if(Math.abs(r-o)%nb<1e-4)return l[0]=c,l[1]=d,u-n;if(i){var f=r;r=dl(o),o=dl(f)}else r=dl(r),o=dl(o);r>o&&(o+=nb);var p=Math.atan2(s,a);if(p<0&&(p+=nb),p>=r&&p<=o||p+nb>=r&&p+nb<=o)return l[0]=c,l[1]=d,u-n;var h=n*Math.cos(r)+e,m=n*Math.sin(r)+t,g=n*Math.cos(o)+e,v=n*Math.sin(o)+t,y=(h-a)*(h-a)+(m-s)*(m-s),b=(g-a)*(g-a)+(v-s)*(v-s);return y<b?(l[0]=h,l[1]=m,Math.sqrt(y)):(l[0]=g,l[1]=v,Math.sqrt(b))}function sb(e,t,n,r,o,i,a,s){var l=o-e,u=i-t,c=n-e,d=r-t,f=Math.sqrt(c*c+d*d);c/=f,d/=f;var p=l*c+u*d,h=p/f;s&&(h=Math.min(Math.max(h,0),1)),h*=f;var m=a[0]=e+h*c,g=a[1]=t+h*d;return Math.sqrt((m-o)*(m-o)+(g-i)*(g-i))}function lb(e,t,n,r,o,i,a){n<0&&(e+=n,n=-n),r<0&&(t+=r,r=-r);var s=e+n,l=t+r,u=a[0]=Math.min(Math.max(o,e),s),c=a[1]=Math.min(Math.max(i,t),l);return Math.sqrt((u-o)*(u-o)+(c-i)*(c-i))}var ub=[];function cb(e,t,n){var r=lb(t.x,t.y,t.width,t.height,e.x,e.y,ub);return n.set(ub[0],ub[1]),r}function db(e,t,n){for(var r,o,i=0,a=0,s=0,l=0,u=1/0,c=t.data,d=e.x,f=e.y,p=0;p<c.length;){var h=c[p++];1===p&&(i=c[p],a=c[p+1],s=i,l=a);var m=u;switch(h){case rb.M:s=c[p++],l=c[p++],i=s,a=l;break;case rb.L:m=sb(i,a,c[p],c[p+1],d,f,ub,!0),i=c[p++],a=c[p++];break;case rb.C:m=gs(i,a,c[p++],c[p++],c[p++],c[p++],c[p],c[p+1],d,f,ub),i=c[p++],a=c[p++];break;case rb.Q:m=Cs(i,a,c[p++],c[p++],c[p],c[p+1],d,f,ub),i=c[p++],a=c[p++];break;case rb.A:var g=c[p++],v=c[p++],y=c[p++],b=c[p++],x=c[p++],w=c[p++];p+=1;var _=!!(1-c[p++]);r=Math.cos(x)*y+g,o=Math.sin(x)*b+v,p<=1&&(s=r,l=o);var C=(d-g)*b/y+g;m=ab(g,v,b,x,x+w,_,C,f,ub),i=Math.cos(x+w)*y+g,a=Math.sin(x+w)*b+v;break;case rb.R:s=i=c[p++],l=a=c[p++];var S=c[p++],k=c[p++];m=lb(s,l,S,k,d,f,ub);break;case rb.Z:m=sb(i,a,s,l,d,f,ub,!0),i=s,a=l;break}m<u&&(u=m,n.set(ub[0],ub[1]))}return u}var fb=new pr,pb=new pr,hb=new pr,mb=new pr,gb=new pr;function vb(e,t){if(e){var n=e.getTextGuideLine(),r=e.getTextContent();if(r&&n){var o=e.textGuideLineConfig||{},i=[[0,0],[0,0],[0,0]],a=o.candidates||ob,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var l=1/0,u=o.anchor,c=e.getComputedTransform(),d=c&&Zt([],c),f=t.get("length2")||0;u&&hb.copy(u);for(var p=0;p<a.length;p++){var h=a[p];ib(h,0,s,fb,mb),pr.scaleAndAdd(pb,fb,mb,f),pb.transform(d);var m=e.getBoundingRect(),g=u?u.distance(pb):e instanceof Al?db(pb,e.path,hb):cb(pb,m,hb);g<l&&(l=g,pb.transform(c),hb.transform(c),hb.toArray(i[0]),pb.toArray(i[1]),fb.toArray(i[2]))}xb(i,t.get("minTurnAngle")),n.setShape({points:i})}}}var yb=[],bb=new pr;function xb(e,t){if(t<=180&&t>0){t=t/180*Math.PI,fb.fromArray(e[0]),pb.fromArray(e[1]),hb.fromArray(e[2]),pr.sub(mb,fb,pb),pr.sub(gb,hb,pb);var n=mb.len(),r=gb.len();if(!(n<.001||r<.001)){mb.scale(1/n),gb.scale(1/r);var o=mb.dot(gb),i=Math.cos(t);if(i<o){var a=sb(pb.x,pb.y,hb.x,hb.y,fb.x,fb.y,yb,!1);bb.fromArray(yb),bb.scaleAndAdd(gb,a/Math.tan(Math.PI-t));var s=hb.x!==pb.x?(bb.x-pb.x)/(hb.x-pb.x):(bb.y-pb.y)/(hb.y-pb.y);if(isNaN(s))return;s<0?pr.copy(bb,pb):s>1&&pr.copy(bb,hb),bb.toArray(e[1])}}}}function wb(e,t,n){if(n<=180&&n>0){n=n/180*Math.PI,fb.fromArray(e[0]),pb.fromArray(e[1]),hb.fromArray(e[2]),pr.sub(mb,pb,fb),pr.sub(gb,hb,pb);var r=mb.len(),o=gb.len();if(!(r<.001||o<.001)){mb.scale(1/r),gb.scale(1/o);var i=mb.dot(t),a=Math.cos(n);if(i<a){var s=sb(pb.x,pb.y,hb.x,hb.y,fb.x,fb.y,yb,!1);bb.fromArray(yb);var l=Math.PI/2,u=Math.acos(gb.dot(t)),c=l+u-n;if(c>=l)pr.copy(bb,hb);else{bb.scaleAndAdd(gb,s/Math.tan(Math.PI/2-c));var d=hb.x!==pb.x?(bb.x-pb.x)/(hb.x-pb.x):(bb.y-pb.y)/(hb.y-pb.y);if(isNaN(d))return;d<0?pr.copy(bb,pb):d>1&&pr.copy(bb,hb)}bb.toArray(e[1])}}}}function _b(e,t,n,r){var o="normal"===n,i=o?e:e.ensureState(n);i.ignore=t;var a=r.get("smooth");a&&!0===a&&(a=.3),i.shape=i.shape||{},a>0&&(i.shape.smooth=a);var s=r.getModel("lineStyle").getLineStyle();o?e.useStyle(s):i.style=s}function Cb(e,t){var n=t.smooth,r=t.points;if(r)if(e.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var o=Xe(r[0],r[1]),i=Xe(r[1],r[2]);if(!o||!i)return e.lineTo(r[1][0],r[1][1]),void e.lineTo(r[2][0],r[2][1]);var a=Math.min(o,i)*n,s=et([],r[1],r[0],a/o),l=et([],r[1],r[2],a/i),u=et([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)e.lineTo(r[c][0],r[c][1])}function Sb(e,t,n){var r=e.getTextGuideLine(),o=e.getTextContent();if(o){for(var i=t.normal,a=i.get("show"),s=o.ignore,l=0;l<yu.length;l++){var u=yu[l],c=t[u],d="normal"===u;if(c){var f=c.get("show"),p=d?s:ye(o.states[u]&&o.states[u].ignore,s);if(p||!ye(f,a)){var h=d?r:r&&r.states.normal;h&&(h.ignore=!0);continue}r||(r=new xd,e.setTextGuideLine(r),d||!s&&a||_b(r,!0,"normal",t.normal),e.stateProxy&&(r.stateProxy=e.stateProxy)),_b(r,!1,u,c)}}if(r){U(r.style,n),r.style.fill=null;var m=i.get("showAbove"),g=e.textGuideLineConfig=e.textGuideLineConfig||{};g.showAbove=m||!1,r.buildPath=Cb}}else r&&e.removeTextGuideLine()}function kb(e,t){t=t||"labelLine";for(var n={normal:e.getModel(t)},r=0;r<vu.length;r++){var o=vu[r];n[o]=e.getModel([o,t])}return n}function Ob(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.defaultAttr.ignore){var o=r.label,i=o.getComputedTransform(),a=o.getBoundingRect(),s=!i||i[1]<1e-5&&i[2]<1e-5,l=o.style.margin||0,u=a.clone();u.applyTransform(i),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new Wd(a,i):null;t.push({label:o,labelLine:r.labelLine,rect:u,localRect:a,obb:c,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:i})}}return t}function Tb(e,t,n,r,o,i){var a=e.length;if(!(a<2)){e.sort((function(e,n){return e.rect[t]-n.rect[t]}));for(var s,l=0,u=!1,c=[],d=0,f=0;f<a;f++){var p=e[f],h=p.rect;s=h[t]-l,s<0&&(h[t]-=s,p.label[t]-=s,u=!0);var m=Math.max(-s,0);c.push(m),d+=m,l=h[t]+h[n]}d>0&&i&&_(-d/a,0,a);var g,v,y=e[0],b=e[a-1];return x(),g<0&&C(-g,.8),v<0&&C(v,.8),x(),w(g,v,1),w(v,g,-1),x(),g<0&&S(-g),v<0&&S(v),u}function x(){g=y.rect[t]-r,v=o-b.rect[t]-b.rect[n]}function w(e,t,n){if(e<0){var r=Math.min(t,-e);if(r>0){_(r*n,0,a);var o=r+e;o<0&&C(-o*n,1)}else C(-e*n,1)}}function _(n,r,o){0!==n&&(u=!0);for(var i=r;i<o;i++){var a=e[i],s=a.rect;s[t]+=n,a.label[t]+=n}}function C(r,o){for(var i=[],s=0,l=1;l<a;l++){var u=e[l-1].rect,c=Math.max(e[l].rect[t]-u[t]-u[n],0);i.push(c),s+=c}if(s){var d=Math.min(Math.abs(r)/s,o);if(r>0)for(l=0;l<a-1;l++){var f=i[l]*d;_(f,0,l+1)}else for(l=a-1;l>0;l--){f=i[l-1]*d;_(-f,l,a)}}}function S(e){var t=e<0?-1:1;e=Math.abs(e);for(var n=Math.ceil(e/(a-1)),r=0;r<a-1;r++)if(t>0?_(n,0,r+1):_(-n,a-r-1,a),e-=n,e<=0)return}}function Mb(e,t,n,r){return Tb(e,"x","width",t,n,r)}function Db(e,t,n,r){return Tb(e,"y","height",t,n,r)}function Ib(e){var t=[];e.sort((function(e,t){return t.priority-e.priority}));var n=new Cr(0,0,0,0);function r(e){if(!e.ignore){var t=e.ensureState("emphasis");null==t.ignore&&(t.ignore=!1)}e.ignore=!0}for(var o=0;o<e.length;o++){var i=e[o],a=i.axisAligned,s=i.localRect,l=i.transform,u=i.label,c=i.labelLine;n.copy(i.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var d=i.obb,f=!1,p=0;p<t.length;p++){var h=t[p];if(n.intersect(h.rect)){if(a&&h.axisAligned){f=!0;break}if(h.obb||(h.obb=new Wd(h.localRect,h.transform)),d||(d=new Wd(s,l)),d.intersect(h.obb)){f=!0;break}}}f?(r(u),c&&r(c)):(u.attr("ignore",i.defaultAttr.ignore),c&&c.attr("ignore",i.defaultAttr.labelGuideIgnore),t.push(i))}}function Eb(e){if(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].slice());return t}}function Ab(e,t){var n=e.label,r=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:Eb(r&&r.shape.points)}}var Lb=["align","verticalAlign","width","height","fontSize"],jb=new un,Nb=Ki(),Pb=Ki();function Rb(e,t,n){for(var r=0;r<n.length;r++){var o=n[r];null!=t[o]&&(e[o]=t[o])}}var Bb=["x","y","rotation"],Fb=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(e,t,n,r,o){var i=r.style,a=r.__hostTarget,s=a.textConfig||{},l=r.getComputedTransform(),u=r.getBoundingRect().plain();Cr.applyTransform(u,u,l),l?jb.setLocalTransform(l):(jb.x=jb.y=jb.rotation=jb.originX=jb.originY=0,jb.scaleX=jb.scaleY=1);var c,d=r.__hostTarget;if(d){c=d.getBoundingRect().plain();var f=d.getComputedTransform();Cr.applyTransform(c,c,f)}var p=c&&d.getTextGuideLine();this._labelList.push({label:r,labelLine:p,seriesModel:n,dataIndex:e,dataType:t,layoutOption:o,computedLayoutOption:null,rect:u,hostRect:c,priority:c?c.width*c.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:p&&p.ignore,x:jb.x,y:jb.y,rotation:jb.rotation,style:{x:i.x,y:i.y,align:i.align,verticalAlign:i.verticalAlign,width:i.width,height:i.height,fontSize:i.fontSize},cursor:r.cursor,attachedPos:s.position,attachedRot:s.rotation}})},e.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var n=e.__model,r=n.get("labelLayout");(ie(r)||ee(r).length)&&e.group.traverse((function(e){if(e.ignore)return!0;var o=e.getTextContent(),i=cu(e);o&&!o.disableLabelLayout&&t._addLabel(i.dataIndex,i.dataType,n,o,r)}))},e.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),n=e.getHeight();function r(e,t){return function(){vb(e,t)}}for(var o=0;o<this._labelList.length;o++){var i=this._labelList[o],a=i.label,s=a.__hostTarget,l=i.defaultAttr,u=void 0;u="function"===typeof i.layoutOption?i.layoutOption(Ab(i,s)):i.layoutOption,u=u||{},i.computedLayoutOption=u;var c=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:l.attachedPos,rotation:null!=u.rotate?u.rotate*c:l.attachedRot,offset:[u.dx||0,u.dy||0]});var d=!1;if(null!=u.x?(a.x=ri(u.x,t),a.setStyle("x",0),d=!0):(a.x=l.x,a.setStyle("x",l.style.x)),null!=u.y?(a.y=ri(u.y,n),a.setStyle("y",0),d=!0):(a.y=l.y,a.setStyle("y",l.style.y)),u.labelLinePoints){var f=s.getTextGuideLine();f&&(f.setShape({points:u.labelLinePoints}),d=!1)}var p=Nb(a);p.needsUpdateLabelLine=d,a.rotation=null!=u.rotate?u.rotate*c:l.rotation;for(var h=0;h<Lb.length;h++){var m=Lb[h];a.setStyle(m,null!=u[m]?u[m]:l.style[m])}if(u.draggable){if(a.draggable=!0,a.cursor="move",s){var g=i.seriesModel;if(null!=i.dataIndex){var v=i.seriesModel.getData(i.dataType);g=v.getItemModel(i.dataIndex)}a.on("drag",r(s,g.getModel("labelLine")))}}else a.off("drag"),a.cursor=l.cursor}},e.prototype.layout=function(e){var t=e.getWidth(),n=e.getHeight(),r=Ob(this._labelList),o=Z(r,(function(e){return"shiftX"===e.layoutOption.moveOverlap})),i=Z(r,(function(e){return"shiftY"===e.layoutOption.moveOverlap}));Mb(o,0,t),Db(i,0,n);var a=Z(r,(function(e){return e.layoutOption.hideOverlap}));Ib(a)},e.prototype.processLabelsOverall=function(){var e=this;K(this._chartViewList,(function(t){var n=t.__model,r=t.ignoreLabelLineUpdate,o=n.isAnimationEnabled();t.group.traverse((function(t){if(t.ignore)return!0;var i=!r,a=t.getTextContent();!i&&a&&(i=Nb(a).needsUpdateLabelLine),i&&e._updateLabelLine(t,n),o&&e._animateLabels(t,n)}))}))},e.prototype._updateLabelLine=function(e,t){var n=e.getTextContent(),r=cu(e),o=r.dataIndex;if(n&&null!=o){var i=t.getData(r.dataType),a=i.getItemModel(o),s={},l=i.getItemVisual(o,"style"),u=i.getVisual("drawType");s.stroke=l[u];var c=a.getModel("labelLine");Sb(e,kb(a),s),vb(e,c)}},e.prototype._animateLabels=function(e,t){var n=e.getTextContent(),r=e.getTextGuideLine();if(n&&!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!bf(e)){var o=Nb(n),i=o.oldLayout,a=cu(e),s=a.dataIndex,l={x:n.x,y:n.y,rotation:n.rotation},u=t.getData(a.dataType);if(i){n.attr(i);var c=e.prevStates;c&&(q(c,"select")>=0&&n.attr(o.oldLayoutSelect),q(c,"emphasis")>=0&&n.attr(o.oldLayoutEmphasis)),hf(n,l,t,s)}else if(n.attr(l),!Gf(n).valueAnimation){var d=ye(n.style.opacity,1);n.style.opacity=0,mf(n,{style:{opacity:d}},t,s)}if(o.oldLayout=l,n.states.select){var f=o.oldLayoutSelect={};Rb(f,l,Bb),Rb(f,n.states.select,Bb)}if(n.states.emphasis){var p=o.oldLayoutEmphasis={};Rb(p,l,Bb),Rb(p,n.states.emphasis,Bb)}Kf(n,s,u,t,t)}if(r&&!r.ignore&&!r.invisible){o=Pb(r),i=o.oldLayout;var h={points:r.shape.points};i?(r.attr({shape:i}),hf(r,{shape:h},t)):(r.setShape(h),r.style.strokePercent=0,mf(r,{style:{strokePercent:1}},t)),o.oldLayout=h}},e}(),zb=Fb;function Vb(e,t){function n(t,n){var r=[];return t.eachComponent({mainType:"series",subType:e,query:n},(function(e){r.push(e.seriesIndex)})),r}K([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],(function(e){t(e[0],(function(t,r,o){t=H({},t),o.dispatchAction(H(t,{type:e[1],seriesIndex:n(r,t)}))}))}))}function Hb(e,t,n,r,o){var i=e+t;n.isSilent(i)||r.eachComponent({mainType:"series",subType:"pie"},(function(e){for(var t=e.seriesIndex,r=o.selected,a=0;a<r.length;a++)if(r[a].seriesIndex===t){var s=e.getData(),l=Yi(s,o.fromActionPayload);n.trigger(i,{type:i,seriesId:e.id,name:oe(l)?s.getName(l[0]):s.getName(l),selected:H({},e.option.selectedMap)})}}))}function Ub(e,t,n){e.on("selectchanged",(function(e){var r=n.getModel();e.isFromClick?(Hb("map","selectchanged",t,r,e),Hb("pie","selectchanged",t,r,e)):"select"===e.fromAction?(Hb("map","selected",t,r,e),Hb("pie","selected",t,r,e)):"unselect"===e.fromAction&&(Hb("map","unselected",t,r,e),Hb("pie","unselected",t,r,e))}))}function $b(e,t,n){var r;while(e){if(t(e)&&(r=e,n))break;e=e.__hostTarget||e.parent}return r}var qb=Math.round(9*Math.random()),Wb=function(){function e(){this._id="__ec_inner_"+qb++}return e.prototype.get=function(e){return this._guard(e)[this._id]},e.prototype.set=function(e,t){var n=this._guard(e);return"function"===typeof Object.defineProperty?Object.defineProperty(n,this._id,{value:t,enumerable:!1,configurable:!0}):n[this._id]=t,this},e.prototype["delete"]=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},e.prototype.has=function(e){return!!this._guard(e)[this._id]},e.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},e}(),Gb=Wb,Yb=Al.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,o=t.width/2,i=t.height/2;e.moveTo(n,r-i),e.lineTo(n+o,r+i),e.lineTo(n-o,r+i),e.closePath()}}),Kb=Al.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,o=t.width/2,i=t.height/2;e.moveTo(n,r-i),e.lineTo(n+o,r),e.lineTo(n,r+i),e.lineTo(n-o,r),e.closePath()}}),Xb=Al.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,r=t.y,o=t.width/5*3,i=Math.max(o,t.height),a=o/2,s=a*a/(i-a),l=r-i+a+s,u=Math.asin(s/a),c=Math.cos(u)*a,d=Math.sin(u),f=Math.cos(u),p=.6*a,h=.7*a;e.moveTo(n-c,l+s),e.arc(n,l,a,Math.PI-u,2*Math.PI+u),e.bezierCurveTo(n+c-d*p,l+s+f*p,n,r-h,n,r),e.bezierCurveTo(n,r-h,n-c+d*p,l+s+f*p,n-c,l+s),e.closePath()}}),Jb=Al.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,r=t.width,o=t.x,i=t.y,a=r/3*2;e.moveTo(o,i),e.lineTo(o+a,i+n),e.lineTo(o,i+n/4*3),e.lineTo(o-a,i+n),e.lineTo(o,i),e.closePath()}}),Zb={line:Kl,rect:Kl,roundRect:Kl,square:Kl,circle:Vc,diamond:Kb,pin:Xb,arrow:Jb,triangle:Yb},Qb={line:function(e,t,n,r,o){var i=2;o.x=e,o.y=t+r/2-i/2,o.width=n,o.height=i},rect:function(e,t,n,r,o){o.x=e,o.y=t,o.width=n,o.height=r},roundRect:function(e,t,n,r,o){o.x=e,o.y=t,o.width=n,o.height=r,o.r=Math.min(n,r)/4},square:function(e,t,n,r,o){var i=Math.min(n,r);o.x=e,o.y=t,o.width=i,o.height=i},circle:function(e,t,n,r,o){o.cx=e+n/2,o.cy=t+r/2,o.r=Math.min(n,r)/2},diamond:function(e,t,n,r,o){o.cx=e+n/2,o.cy=t+r/2,o.width=n,o.height=r},pin:function(e,t,n,r,o){o.x=e+n/2,o.y=t+r/2,o.width=n,o.height=r},arrow:function(e,t,n,r,o){o.x=e+n/2,o.y=t+r/2,o.width=n,o.height=r},triangle:function(e,t,n,r,o){o.cx=e+n/2,o.cy=t+r/2,o.width=n,o.height=r}},ex={};K(Zb,(function(e,t){ex[t]=new e}));var tx=Al.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var r=Nr(e,t,n),o=this.shape;return o&&"pin"===o.symbolType&&"inside"===t.position&&(r.y=n.y+.4*n.height),r},buildPath:function(e,t,n){var r=t.symbolType;if("none"!==r){var o=ex[r];o||(r="rect",o=ex[r]),Qb[r](t.x,t.y,t.width,t.height,o.shape),o.buildPath(e,o.shape,n)}}});function nx(e,t){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff",n.lineWidth=2):n.fill=e,this.markRedraw()}}function rx(e,t,n,r,o,i,a){var s,l=0===e.indexOf("empty");return l&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),s=0===e.indexOf("image://")?af(e.slice(8),new Cr(t,n,r,o),a?"center":"cover"):0===e.indexOf("path://")?of(e.slice(7),{},new Cr(t,n,r,o),a?"center":"cover"):new tx({shape:{symbolType:e,x:t,y:n,width:r,height:o}}),s.__isEmptyBrush=l,s.setColor=nx,i&&s.setColor(i),s}function ox(e,t,n){var r=null==t.x?0:t.x,o=null==t.x2?1:t.x2,i=null==t.y?0:t.y,a=null==t.y2?0:t.y2;t.global||(r=r*n.width+n.x,o=o*n.width+n.x,i=i*n.height+n.y,a=a*n.height+n.y),r=isNaN(r)?0:r,o=isNaN(o)?1:o,i=isNaN(i)?0:i,a=isNaN(a)?0:a;var s=e.createLinearGradient(r,i,o,a);return s}function ix(e,t,n){var r=n.width,o=n.height,i=Math.min(r,o),a=null==t.x?.5:t.x,s=null==t.y?.5:t.y,l=null==t.r?.5:t.r;t.global||(a=a*r+n.x,s=s*o+n.y,l*=i);var u=e.createRadialGradient(a,s,0,a,s,l);return u}function ax(e,t,n){for(var r="radial"===t.type?ix(e,t,n):ox(e,t,n),o=t.colorStops,i=0;i<o.length;i++)r.addColorStop(o[i].offset,o[i].color);return r}function sx(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}function lx(e,t){return e&&"solid"!==e&&t>0?(t=t||1,"dashed"===e?[4*t,2*t]:"dotted"===e?[t]:le(e)?[e]:oe(e)?e:null):null}var ux=new al(!0);function cx(e){var t=e.stroke;return!(null==t||"none"===t||!(e.lineWidth>0))}function dx(e){var t=e.fill;return null!=t&&"none"!==t}function fx(e,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n}else e.fill()}function px(e,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n}else e.stroke()}function hx(e,t,n){var r=Oa(t.image,t.__image,n);if(Ma(r)){var o=e.createPattern(r,t.repeat||"repeat");if("function"===typeof DOMMatrix){var i=new DOMMatrix;i.rotateSelf(0,0,(t.rotation||0)/Math.PI*180),i.scaleSelf(t.scaleX||1,t.scaleY||1),i.translateSelf(t.x||0,t.y||0),o.setTransform(i)}return o}}function mx(e,t,n,r){var o=cx(n),i=dx(n),a=n.strokePercent,s=a<1,l=!t.path;t.silent&&!s||!l||t.createPathProxy();var u=t.path||ux;if(!r){var c=n.fill,d=n.stroke,f=i&&!!c.colorStops,p=o&&!!d.colorStops,h=i&&!!c.image,m=o&&!!d.image,g=void 0,v=void 0,y=void 0,b=void 0,x=void 0;(f||p)&&(x=t.getBoundingRect()),f&&(g=t.__dirty?ax(e,c,x):t.__canvasFillGradient,t.__canvasFillGradient=g),p&&(v=t.__dirty?ax(e,d,x):t.__canvasStrokeGradient,t.__canvasStrokeGradient=v),h&&(y=t.__dirty||!t.__canvasFillPattern?hx(e,c,t):t.__canvasFillPattern,t.__canvasFillPattern=y),m&&(b=t.__dirty||!t.__canvasStrokePattern?hx(e,d,t):t.__canvasStrokePattern,t.__canvasStrokePattern=y),f?e.fillStyle=g:h&&(y?e.fillStyle=y:i=!1),p?e.strokeStyle=v:m&&(b?e.strokeStyle=b:o=!1)}var w=n.lineDash&&n.lineWidth>0&&lx(n.lineDash,n.lineWidth),_=n.lineDashOffset,C=!!e.setLineDash,S=t.getGlobalScale();if(u.setScale(S[0],S[1],t.segmentIgnoreThreshold),w){var k=n.strokeNoScale&&t.getLineScale?t.getLineScale():1;k&&1!==k&&(w=X(w,(function(e){return e/k})),_/=k)}var O=!0;(l||t.__dirty&Al.SHAPE_CHANGED_BIT||w&&!C&&o)&&(u.setDPR(e.dpr),s?u.setContext(null):(u.setContext(e),O=!1),u.reset(),w&&!C&&(u.setLineDash(w),u.setLineDashOffset(_)),t.buildPath(u,t.shape,r),u.toStatic(),t.pathUpdated()),O&&u.rebuildPath(e,s?a:1),w&&C&&(e.setLineDash(w),e.lineDashOffset=_),r||(n.strokeFirst?(o&&px(e,n),i&&fx(e,n)):(i&&fx(e,n),o&&px(e,n))),w&&C&&e.setLineDash([])}function gx(e,t,n){var r=t.__image=Oa(n.image,t.__image,t,t.onload);if(r&&Ma(r)){var o=n.x||0,i=n.y||0,a=t.getWidth(),s=t.getHeight(),l=r.width/r.height;if(null==a&&null!=s?a=s*l:null==s&&null!=a?s=a/l:null==a&&null==s&&(a=r.width,s=r.height),n.sWidth&&n.sHeight){var u=n.sx||0,c=n.sy||0;e.drawImage(r,u,c,n.sWidth,n.sHeight,o,i,a,s)}else if(n.sx&&n.sy){u=n.sx,c=n.sy;var d=a-u,f=s-c;e.drawImage(r,u,c,d,f,o,i,a,s)}else e.drawImage(r,o,i,a,s)}}function vx(e,t,n){var r=n.text;if(null!=r&&(r+=""),r){e.font=n.font||kr,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline;var o=void 0;if(e.setLineDash){var i=n.lineDash&&n.lineWidth>0&&lx(n.lineDash,n.lineWidth),a=n.lineDashOffset;if(i){var s=n.strokeNoScale&&t.getLineScale?t.getLineScale():1;s&&1!==s&&(i=X(i,(function(e){return e/s})),a/=s),e.setLineDash(i),e.lineDashOffset=a,o=!0}}n.strokeFirst?(cx(n)&&e.strokeText(r,n.x,n.y),dx(n)&&e.fillText(r,n.x,n.y)):(dx(n)&&e.fillText(r,n.x,n.y),cx(n)&&e.strokeText(r,n.x,n.y)),o&&e.setLineDash([])}}var yx=["shadowBlur","shadowOffsetX","shadowOffsetY"],bx=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function xx(e,t,n,r,o){var i=!1;if(!r&&(n=n||{},t===n))return!1;(r||t.opacity!==n.opacity)&&(i||(Ax(e,o),i=!0),e.globalAlpha=null==t.opacity?Wa.opacity:t.opacity),(r||t.blend!==n.blend)&&(i||(Ax(e,o),i=!0),e.globalCompositeOperation=t.blend||Wa.blend);for(var a=0;a<yx.length;a++){var s=yx[a];(r||t[s]!==n[s])&&(i||(Ax(e,o),i=!0),e[s]=e.dpr*(t[s]||0))}return(r||t.shadowColor!==n.shadowColor)&&(i||(Ax(e,o),i=!0),e.shadowColor=t.shadowColor||Wa.shadowColor),i}function _x(e,t,n,r,o){var i=Lx(t,o.inHover),a=r?null:n&&Lx(n,o.inHover)||{};if(i===a)return!1;var s=xx(e,i,a,r,o);if((r||i.fill!==a.fill)&&(s||(Ax(e,o),s=!0),e.fillStyle=i.fill),(r||i.stroke!==a.stroke)&&(s||(Ax(e,o),s=!0),e.strokeStyle=i.stroke),(r||i.opacity!==a.opacity)&&(s||(Ax(e,o),s=!0),e.globalAlpha=null==i.opacity?1:i.opacity),t.hasStroke()){var l=i.lineWidth,u=l/(i.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1);e.lineWidth!==u&&(s||(Ax(e,o),s=!0),e.lineWidth=u)}for(var c=0;c<bx.length;c++){var d=bx[c],f=d[0];(r||i[f]!==a[f])&&(s||(Ax(e,o),s=!0),e[f]=i[f]||d[1])}return s}function Cx(e,t,n,r,o){return xx(e,Lx(t,o.inHover),n&&Lx(n,o.inHover),r,o)}function Sx(e,t){var n=t.transform,r=e.dpr||1;n?e.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):e.setTransform(r,0,0,r,0,0)}function kx(e,t,n){for(var r=!1,o=0;o<e.length;o++){var i=e[o];r=r||i.isZeroArea(),Sx(t,i),t.beginPath(),i.buildPath(t,i.shape),t.clip()}n.allClipped=r}function Ox(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var Tx=1,Mx=2,Dx=3,Ix=4;function Ex(e){var t=dx(e),n=cx(e);return!(e.lineDash||!(+t^+n)||t&&"string"!==typeof e.fill||n&&"string"!==typeof e.stroke||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function Ax(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function Lx(e,t){return t&&e.__hoverStyle||e.style}function jx(e,t){Nx(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Nx(e,t,n,r){var o=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return t.__dirty&=~Qr.REDARAW_BIT,void(t.__isRendered=!1);var i=t.__clipPaths,a=n.prevElClipPaths,s=!1,l=!1;if(a&&!sx(i,a)||(a&&a.length&&(Ax(e,n),e.restore(),l=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),i&&i.length&&(Ax(e,n),e.save(),kx(i,e,n),s=!0),n.prevElClipPaths=i),n.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=n.prevEl;u||(l=s=!0);var c=t instanceof Al&&t.autoBatch&&Ex(t.style);s||Ox(o,u.transform)?(Ax(e,n),Sx(e,t)):c||Ax(e,n);var d=Lx(t,n.inHover);t instanceof Al?(n.lastDrawType!==Tx&&(l=!0,n.lastDrawType=Tx),_x(e,t,u,l,n),c&&(n.batchFill||n.batchStroke)||e.beginPath(),mx(e,t,d,c),c&&(n.batchFill=d.fill||"",n.batchStroke=d.stroke||"")):t instanceof Nl?(n.lastDrawType!==Dx&&(l=!0,n.lastDrawType=Dx),_x(e,t,u,l,n),vx(e,t,d)):t instanceof zl?(n.lastDrawType!==Mx&&(l=!0,n.lastDrawType=Mx),Cx(e,t,u,l,n),gx(e,t,d)):t instanceof Kd&&(n.lastDrawType!==Ix&&(l=!0,n.lastDrawType=Ix),Px(e,t,n)),c&&r&&Ax(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}}function Px(e,t,n){var r=t.getDisplayables(),o=t.getTemporalDisplayables();e.save();var i,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(i=t.getCursor(),a=r.length;i<a;i++){var l=r[i];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Nx(e,l,s,i===a-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),s.prevEl=l}for(var u=0,c=o.length;u<c;u++){l=o[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Nx(e,l,s,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),s.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var Rx=new Gb,Bx=new vn(100),Fx=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function zx(e,t){if("none"===e)return null;var n=t.getDevicePixelRatio(),r=t.getZr(),o="svg"===r.painter.type;e.dirty&&Rx["delete"](e);var i=Rx.get(e);if(i)return i;var a=U(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=a.rotation,s.scaleX=s.scaleY=o?1:1/n,Rx.set(e,s),e.dirty=!1,s;function l(e){for(var t,i=[n],s=!0,l=0;l<Fx.length;++l){var u=a[Fx[l]],c=typeof u;if(null!=u&&!oe(u)&&"string"!==c&&"number"!==c&&"boolean"!==c){s=!1;break}i.push(u)}if(s){t=i.join(",")+(o?"-svg":"");var d=Bx.get(t);d&&(o?e.svgElement=d:e.image=d)}var f,p=Hx(a.dashArrayX),h=Ux(a.dashArrayY),m=Vx(a.symbol),g=$x(p),v=qx(h),y=!o&&$(),b=o&&r.painter.createSVGElement("g"),x=w();function w(){for(var e=1,t=0,n=g.length;t<n;++t)e=Si(e,g[t]);var r=1;for(t=0,n=m.length;t<n;++t)r=Si(r,m[t].length);e*=r;var o=v*g.length*m.length;return{width:Math.max(1,Math.min(e,a.maxTileWidth)),height:Math.max(1,Math.min(o,a.maxTileHeight))}}function _(){f&&(f.clearRect(0,0,y.width,y.height),a.backgroundColor&&(f.fillStyle=a.backgroundColor,f.fillRect(0,0,y.width,y.height)));for(var e=0,t=0;t<h.length;++t)e+=h[t];if(!(e<=0)){var i=-v,s=0,l=0,u=0;while(i<x.height){if(s%2===0){var c=l/2%m.length,d=0,g=0,w=0;while(d<2*x.width){var _=0;for(t=0;t<p[u].length;++t)_+=p[u][t];if(_<=0)break;if(g%2===0){var C=.5*(1-a.symbolSize),S=d+p[u][g]*C,k=i+h[s]*C,O=p[u][g]*a.symbolSize,T=h[s]*a.symbolSize,M=w/2%m[c].length;D(S,k,O,T,m[c][M])}d+=p[u][g],++w,++g,g===p[u].length&&(g=0)}++u,u===p.length&&(u=0)}i+=h[s],++l,++s,s===h.length&&(s=0)}}function D(e,t,i,s,l){var u=o?1:n,c=rx(l,e*u,t*u,i*u,s*u,a.color,a.symbolKeepAspect);o?b.appendChild(r.painter.paintOne(c)):jx(f,c)}}y&&(y.width=x.width*n,y.height=x.height*n,f=y.getContext("2d")),_(),s&&Bx.put(t,y||b),e.image=y,e.svgElement=b,e.svgWidth=x.width,e.svgHeight=x.height}}function Vx(e){if(!e||0===e.length)return[["rect"]];if("string"===typeof e)return[[e]];for(var t=!0,n=0;n<e.length;++n)if("string"!==typeof e[n]){t=!1;break}if(t)return Vx([e]);var r=[];for(n=0;n<e.length;++n)"string"===typeof e[n]?r.push([e[n]]):r.push(e[n]);return r}function Hx(e){if(!e||0===e.length)return[[0,0]];if("number"===typeof e){var t=Math.ceil(e);return[[t,t]]}for(var n=!0,r=0;r<e.length;++r)if("number"!==typeof e[r]){n=!1;break}if(n)return Hx([e]);var o=[];for(r=0;r<e.length;++r)if("number"===typeof e[r]){t=Math.ceil(e[r]);o.push([t,t])}else{t=X(e[r],(function(e){return Math.ceil(e)}));t.length%2===1?o.push(t.concat(t)):o.push(t)}return o}function Ux(e){if(!e||"object"===typeof e&&0===e.length)return[0,0];if("number"===typeof e){var t=Math.ceil(e);return[t,t]}var n=X(e,(function(e){return Math.ceil(e)}));return e.length%2?n.concat(n):n}function $x(e){return X(e,(function(e){return qx(e)}))}function qx(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2===1?2*t:t}function Wx(e,t){e.eachRawSeries((function(n){if(!e.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each((function(e){var n=r.getItemVisual(e,"decal");if(n){var o=r.ensureUniqueItemVisual(e,"style");o.decal=zx(n,t)}}));var o=r.getVisual("decal");if(o){var i=r.getVisual("style");i.decal=zx(o,t)}}}))}var Gx=_e,Yx=K,Kx=ie,Xx=ue,Jx=q,Zx="undefined"!==typeof window,Qx="5.0.1",ew={zrender:"5.0.3"},tw=1,nw=800,rw=900,ow=1e3,iw=2e3,aw=5e3,sw=1e3,lw=1100,uw=2e3,cw=3e3,dw=4e3,fw=4500,pw=4600,hw=5e3,mw=6e3,gw=7e3,vw={PROCESSOR:{FILTER:ow,SERIES_FILTER:nw,STATISTIC:aw},VISUAL:{LAYOUT:sw,PROGRESSIVE_LAYOUT:lw,GLOBAL:uw,CHART:cw,POST_CHART_LAYOUT:pw,COMPONENT:dw,BRUSH:hw,CHART_ITEM:fw,ARIA:mw,DECAL:gw}},yw="__flagInMainProcess",bw="__optionUpdated",xw="__needsUpdateStatus",ww=/^[a-zA-Z0-9_]+$/,_w="__connectUpdateStatus",Cw=0,Sw=1,kw=2;function Ow(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!this.isDisposed())return Mw(this,e,t);t_(this.id)}}function Tw(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Mw(this,e,t)}}function Mw(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),lt.prototype[t].apply(e,n)}var Dw,Iw,Ew,Aw,Lw,jw,Nw,Pw,Rw,Bw,Fw,zw,Vw,Hw,Uw,$w,qw,Ww,Gw,Yw,Kw,Xw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t}(lt),Jw=Xw.prototype;Jw.on=Tw("on"),Jw.off=Tw("off");var Zw=function(e){function t(t,n,r){var o=e.call(this,new Xy)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},"string"===typeof n&&(n=u_[n]),o._dom=t;var i="canvas",a=!1,s=o._zr=Yo(t,{renderer:r.renderer||i,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,useDirtyRect:null==r.useDirtyRect?a:r.useDirtyRect});o._throttledZrFlush=ly(ne(s.flush,s),17),n=F(n),n&&sg(n,!0),o._theme=n,o._locale=_p(r.locale||xp),o._coordSysMgr=new Im;var l=o._api=qw(o);function u(e,t){return e.__prio-t.__prio}return uo(l_,u),uo(o_,u),o._scheduler=new Ry(o,l,o_,l_),o._messageCenter=new Xw,o._labelManager=new zb,o._initEvents(),o.resize=ne(o.resize,o),s.animation.on("frame",o._onframe,o),Bw(s,o),Fw(s,o),ke(o),o}return g(t,e),t.prototype._onframe=function(){if(!this._disposed){Kw(this);var e=this._scheduler;if(this[bw]){var t=this[bw].silent;this[yw]=!0,Dw(this),Aw.update.call(this),this._zr.flush(),this[yw]=!1,this[bw]=!1,Pw.call(this,t),Rw.call(this,t)}else if(e.unfinished){var n=tw,r=this._model,o=this._api;e.unfinished=!1;do{var i=+new Date;e.performSeriesTasks(r),e.performDataProcessorTasks(r),jw(this,r),e.performVisualTasks(r),Uw(this,this._model,o,"remain"),n-=+new Date-i}while(n>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.setOption=function(e,t,n){if(this._disposed)t_(this.id);else{var r,o,i;if(Xx(t)&&(n=t.lazyUpdate,r=t.silent,o=t.replaceMerge,i=t.transition,t=t.notMerge),this[yw]=!0,!this._model||t){var a=new Rm(this._api),s=this._theme,l=this._model=new Sm;l.scheduler=this._scheduler,l.init(null,null,null,s,this._locale,a)}this._model.setOption(e,{replaceMerge:o},i_),Gw(this,i),n?(this[bw]={silent:r},this[yw]=!1,this.getZr().wakeUp()):(Dw(this),Aw.update.call(this),this._zr.flush(),this[bw]=!1,this[yw]=!1,Pw.call(this,r),Rw.call(this,r))}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Zx&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){if(C.canvasSupported){e=H({},e||{}),e.pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var t=this._zr;return t.painter.getRenderedCanvas(e)}},t.prototype.getSvgDataURL=function(){if(C.svgSupported){var e=this._zr,t=e.storage.getDisplayList();return K(t,(function(e){e.stopAnimation(null,!0)})),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){e=e||{};var t=e.excludeComponents,n=this._model,r=[],o=this;Yx(t,(function(e){n.eachComponent({mainType:e},(function(e){var t=o._componentsMap[e.__viewId];t.group.ignore||(r.push(t),t.group.ignore=!0)}))}));var i="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return Yx(r,(function(e){e.group.ignore=!1})),i}t_(this.id)},t.prototype.getConnectedDataURL=function(e){if(this._disposed)t_(this.id);else if(C.canvasSupported){var t="svg"===e.type,n=this.group,r=Math.min,o=Math.max,i=1/0;if(f_[n]){var a=i,s=i,l=-i,u=-i,c=[],d=e&&e.pixelRatio||1;K(d_,(function(i,d){if(i.group===n){var f=t?i.getZr().painter.getSvgDom().innerHTML:i.getRenderedCanvas(F(e)),p=i.getDom().getBoundingClientRect();a=r(p.left,a),s=r(p.top,s),l=o(p.right,l),u=o(p.bottom,u),c.push({dom:f,left:p.left,top:p.top})}})),a*=d,s*=d,l*=d,u*=d;var f=l-a,p=u-s,h=$(),m=Yo(h,{renderer:t?"svg":"canvas"});if(m.resize({width:f,height:p}),t){var g="";return Yx(c,(function(e){var t=e.left-a,n=e.top-s;g+='<g transform="translate('+t+","+n+')">'+e.dom+"</g>"})),m.painter.getSvgRoot().innerHTML=g,e.connectedBackgroundColor&&m.painter.setBackgroundColor(e.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}return e.connectedBackgroundColor&&m.add(new Kl({shape:{x:0,y:0,width:f,height:p},style:{fill:e.connectedBackgroundColor}})),Yx(c,(function(e){var t=new zl({style:{x:e.left*d-a,y:e.top*d-s,image:e.dom}});m.add(t)})),m.refreshImmediately(),h.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},t.prototype.convertToPixel=function(e,t){return Lw(this,"convertToPixel",e,t)},t.prototype.convertFromPixel=function(e,t){return Lw(this,"convertFromPixel",e,t)},t.prototype.containPixel=function(e,t){if(!this._disposed){var n,r=this._model,o=Ji(r,e);return K(o,(function(e,r){r.indexOf("Models")>=0&&K(e,(function(e){var o=e.coordinateSystem;if(o&&o.containPoint)n=n||!!o.containPoint(t);else if("seriesModels"===r){var i=this._chartsMap[e.__viewId];i&&i.containPoint&&(n=n||i.containPoint(t,e))}else 0}),this)}),this),!!n}t_(this.id)},t.prototype.getVisual=function(e,t){var n=this._model,r=Ji(n,e,{defaultMainType:"series"}),o=r.seriesModel;var i=o.getData(),a=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?i.indexOfRawIndex(r.dataIndex):null;return null!=a?Qy(i,a,t):eb(i,t)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;Yx(e_,(function(t){var n=function(n){var r,o=e.getModel(),i=n.target,a="globalout"===t;if(a?r={}:i&&$b(i,(function(e){var t=cu(e);if(t&&null!=t.dataIndex){var n=t.dataModel||o.getSeriesByIndex(t.seriesIndex);return r=n&&n.getDataParams(t.dataIndex,t.dataType)||{},!0}if(t.eventData)return r=H({},t.eventData),!0}),!0),r){var s=r.componentType,l=r.componentIndex;"markLine"!==s&&"markPoint"!==s&&"markArea"!==s||(s="series",l=r.seriesIndex);var u=s&&null!=l&&o.getComponent(s,l),c=u&&e["series"===u.mainType?"_chartsMap":"_componentsMap"][u.__viewId];0,r.event=n,r.type=t,e._$eventProcessor.eventInfo={targetEl:i,packedEvent:r,model:u,view:c},e.trigger(t,r)}};n.zrEventfulCallAtLast=!0,e._zr.on(t,n,e)})),Yx(r_,(function(t,n){e._messageCenter.on(n,(function(e){this.trigger(n,e)}),e)})),Yx(["selectchanged"],(function(t){e._messageCenter.on(t,(function(e){this.trigger(t,e)}),e)})),Ub(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed?t_(this.id):this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed)t_(this.id);else{this._disposed=!0,ta(this.getDom(),m_,"");var e=this._api,t=this._model;Yx(this._componentsViews,(function(n){n.dispose(t,e)})),Yx(this._chartsViews,(function(n){n.dispose(t,e)})),this._zr.dispose(),delete d_[this.id]}},t.prototype.resize=function(e){if(this._disposed)t_(this.id);else{this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var n=t.resetOption("media"),r=e&&e.silent;this[yw]=!0,n&&Dw(this),Aw.update.call(this,{type:"resize",animation:{duration:0}}),this[yw]=!1,Pw.call(this,r),Rw.call(this,r)}}},t.prototype.showLoading=function(e,t){if(this._disposed)t_(this.id);else if(Xx(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),c_[e]){var n=c_[e](this._api,t),r=this._zr;this._loadingFX=n,r.add(n)}},t.prototype.hideLoading=function(){this._disposed?t_(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var t=H({},e);return t.type=r_[e.type],t},t.prototype.dispatchAction=function(e,t){if(this._disposed)t_(this.id);else if(Xx(t)||(t={silent:!!t}),n_[e.type]&&this._model)if(this[yw])this._pendingActions.push(e);else{var n=t.silent;Nw.call(this,e,n);var r=t.flush;r?this._zr.flush():!1!==r&&C.browser.weChat&&this._throttledZrFlush(),Pw.call(this,n),Rw.call(this,n)}},t.prototype.updateLabelLayout=function(){var e=this._labelManager;e.updateLayoutConfig(this._api),e.layout(this._api),e.processLabelsOverall()},t.prototype.appendData=function(e){if(this._disposed)t_(this.id);else{var t=e.seriesIndex,n=this.getModel(),r=n.getSeriesByIndex(t);0,r.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(e){for(var t=[],n=e.currentStates,r=0;r<n.length;r++){var o=n[r];"emphasis"!==o&&"blur"!==o&&"select"!==o&&t.push(o)}e.selected&&e.states.select&&t.push("select"),e.hoverState===gu&&e.states.emphasis?t.push("emphasis"):e.hoverState===mu&&e.states.blur&&t.push("blur"),e.useStates(t)}function t(e,t){var n=e._zr,r=n.storage,o=0;r.traverse((function(e){e.isGroup||o++})),o>t.get("hoverLayerThreshold")&&!C.node&&!C.worker&&t.eachSeries((function(t){if(!t.preventUsingHoverLayer){var n=e._chartsMap[t.__viewId];n.__alive&&n.group.traverse((function(e){e.states.emphasis&&(e.states.emphasis.hoverLayer=!0)}))}}))}function n(e,t){var n=e.get("blendMode")||null;t.group.traverse((function(e){e.isGroup||(e.style.blend=n),e.eachPendingDisplayable&&e.eachPendingDisplayable((function(e){e.style.blend=n}))}))}function r(e,t){if(!e.preventAutoZ){var n=e.get("z"),r=e.get("zlevel");t.group.traverse((function(e){if(!e.isGroup){null!=n&&(e.z=n),null!=r&&(e.zlevel=r);var t=e.getTextContent(),o=e.getTextGuideLine();if(t&&(t.z=e.z,t.zlevel=e.zlevel,t.z2=e.z2+2),o){var i=e.textGuideLineConfig&&e.textGuideLineConfig.showAbove;o.z=e.z,o.zlevel=e.zlevel,o.z2=e.z2+(i?1:-1)}}}))}}function o(e,t){t.group.traverse((function(e){if(!bf(e)){var t=e.getTextContent(),n=e.getTextGuideLine();e.stateTransition&&(e.stateTransition=null),t&&t.stateTransition&&(t.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),e.hasState()?(e.prevStates=e.currentStates,e.clearStates()):e.prevStates&&(e.prevStates=null)}}))}function i(t,n){var r=t.getModel("stateAnimation"),o=t.isAnimationEnabled(),i=r.get("duration"),a=i>0?{duration:i,delay:r.get("delay"),easing:r.get("easing")}:null;n.group.traverse((function(t){if(t.states&&t.states.emphasis){if(bf(t))return;if(t instanceof Al&&gc(t),t.__dirty){var n=t.prevStates;n&&t.useStates(n)}if(o){t.stateTransition=a;var r=t.getTextContent(),i=t.getTextGuideLine();r&&(r.stateTransition=a),i&&(i.stateTransition=a)}t.__dirty&&e(t)}}))}Dw=function(e){var t=e._scheduler;t.restorePipelines(e._model),t.prepareStageTasks(),Iw(e,!0),Iw(e,!1),t.plan()},Iw=function(e,t){for(var n=e._model,r=e._scheduler,o=t?e._componentsViews:e._chartsViews,i=t?e._componentsMap:e._chartsMap,a=e._zr,s=e._api,l=0;l<o.length;l++)o[l].__alive=!1;function u(e){var l=e.__requireNewView;e.__requireNewView=!1;var u="_ec_"+e.id+"_"+e.type,c=!l&&i[u];if(!c){var d=ua(e.type),f=t?Yv.getClass(d.main,d.sub):oy.getClass(d.sub);0,c=new f,c.init(n,s),i[u]=c,o.push(c),a.add(c.group)}e.__viewId=c.__id=u,c.__alive=!0,c.__model=e,c.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!t&&r.prepareView(c,e,n,s)}t?n.eachComponent((function(e,t){"series"!==e&&u(t)})):n.eachSeries(u);for(l=0;l<o.length;){var c=o[l];c.__alive?l++:(!t&&c.renderTask.dispose(),a.remove(c.group),c.dispose(n,s),o.splice(l,1),i[c.__id]===c&&delete i[c.__id],c.__id=c.group.__ecComponentInfo=null)}},Ew=function(e,t,n,r,o){var i=e._model;if(i.setUpdatePayload(n),r){var a={};a[r+"Id"]=n[r+"Id"],a[r+"Index"]=n[r+"Index"],a[r+"Name"]=n[r+"Name"];var s={mainType:r,query:a};o&&(s.subType=o);var l,u=n.excludeSeriesId;null!=u&&(l=Me(),Yx(Ti(u),(function(e){var t=Vi(e,null);null!=t&&l.set(t,!0)}))),i&&i.eachComponent(s,(function(t){l&&null!=l.get(t.id)||(mc(n)&&!n.notBlur?t instanceof Wv&&nc(t,n,e._api):hc(n)&&t instanceof Wv&&(rc(t,n,e._api),oc(t),Yw(e)),c(e["series"===r?"_chartsMap":"_componentsMap"][t.__viewId]))}),e)}else Yx([].concat(e._componentsViews).concat(e._chartsViews),c);function c(r){r&&r.__alive&&r[t]&&r[t](r.__model,i,e._api,n)}},Aw={prepareAndUpdate:function(e){Dw(this),Aw.update.call(this,e)},update:function(e){var t=this._model,n=this._api,r=this._zr,o=this._coordSysMgr,i=this._scheduler;if(t){t.setUpdatePayload(e),i.restoreData(t,e),i.performSeriesTasks(t),o.create(t,n),i.performDataProcessorTasks(t,e),jw(this,t),o.update(t,n),zw(t),i.performVisualTasks(t,e),Vw(this,t,n,e);var a=t.get("backgroundColor")||"transparent",s=t.get("darkMode");if(C.canvasSupported)r.setBackgroundColor(a),null!=s&&"auto"!==s&&r.setDarkMode(s);else{var l=En(a);a=Hn(l,"rgb"),0===l[3]&&(a="transparent")}$w(t,n)}},updateTransform:function(e){var t=this,n=this._model,r=this._api;if(n){n.setUpdatePayload(e);var o=[];n.eachComponent((function(i,a){if("series"!==i){var s=t.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(a,n,r,e);l&&l.update&&o.push(s)}else o.push(s)}}));var i=Me();n.eachSeries((function(o){var a=t._chartsMap[o.__viewId];if(a.updateTransform){var s=a.updateTransform(o,n,r,e);s&&s.update&&i.set(o.uid,1)}else i.set(o.uid,1)})),zw(n),this._scheduler.performVisualTasks(n,e,{setDirty:!0,dirtyMap:i}),Uw(this,n,r,e,i),$w(n,this._api)}},updateView:function(e){var t=this._model;t&&(t.setUpdatePayload(e),oy.markUpdateMethod(e,"updateView"),zw(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0}),Vw(this,this._model,this._api,e),$w(t,this._api))},updateVisual:function(e){var t=this,n=this._model;n&&(n.setUpdatePayload(e),n.eachSeries((function(e){e.getData().clearAllVisual()})),oy.markUpdateMethod(e,"updateVisual"),zw(n),this._scheduler.performVisualTasks(n,e,{visualType:"visual",setDirty:!0}),n.eachComponent((function(r,o){if("series"!==r){var i=t.getViewOfComponentModel(o);i&&i.__alive&&i.updateVisual(o,n,t._api,e)}})),n.eachSeries((function(r){var o=t._chartsMap[r.__viewId];o.updateVisual(r,n,t._api,e)})),$w(n,this._api))},updateLayout:function(e){Aw.update.call(this,e)}},Lw=function(e,t,n,r){if(e._disposed)t_(e.id);else{for(var o,i=e._model,a=e._coordSysMgr.getCoordinateSystems(),s=Ji(i,n),l=0;l<a.length;l++){var u=a[l];if(u[t]&&null!=(o=u[t](i,s,r)))return o}0}},jw=function(e,t){var n=e._chartsMap,r=e._scheduler;t.eachSeries((function(e){r.updateStreamModes(e,n[e.__viewId])}))},Nw=function(e,t){var n=this,r=this.getModel(),o=e.type,i=e.escapeConnect,a=n_[o],s=a.actionInfo,l=(s.update||"update").split(":"),u=l.pop(),c=null!=l[0]&&ua(l[0]);this[yw]=!0;var d=[e],f=!1;e.batch&&(f=!0,d=X(e.batch,(function(t){return t=U(H({},t),e),t.batch=null,t})));var p,h=[],m=hc(e),g=mc(e)||m;if(Yx(d,(function(e){p=a.action(e,n._model,n._api),p=p||H({},e),p.type=s.event||p.type,h.push(p),g?(Ew(n,u,e,"series"),Yw(n)):c&&Ew(n,u,e,c.main,c.sub)})),"none"===u||g||c||(this[bw]?(Dw(this),Aw.update.call(this,e),this[bw]=!1):Aw[u].call(this,e)),p=f?{type:s.event||o,escapeConnect:i,batch:h}:h[0],this[yw]=!1,!t){var v=this._messageCenter;if(v.trigger(p.type,p),m){var y={type:"selectchanged",escapeConnect:i,selected:ic(r),isFromClick:e.isFromClick||!1,fromAction:e.type,fromActionPayload:e};v.trigger(y.type,y)}}},Pw=function(e){var t=this._pendingActions;while(t.length){var n=t.shift();Nw.call(this,n,e)}},Rw=function(e){!e&&this.trigger("updated")},Bw=function(e,t){e.on("rendered",(function(n){t.trigger("rendered",n),!e.animation.isFinished()||t[bw]||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")}))},Fw=function(e,t){e.on("mouseover",(function(e){var n=e.target,r=$b(n,fc);if(r){var o=cu(r);tc(o.seriesIndex,o.focus,o.blurScope,t._api,!0),qu(r,e),Yw(t)}})).on("mouseout",(function(e){var n=e.target,r=$b(n,fc);if(r){var o=cu(r);tc(o.seriesIndex,o.focus,o.blurScope,t._api,!1),Wu(r,e),Yw(t)}})).on("click",(function(e){var n=e.target,r=$b(n,(function(e){return null!=cu(e).dataIndex}),!0);if(r){var o=r.selected?"unselect":"select",i=cu(r);t._api.dispatchAction({type:o,dataType:i.dataType,dataIndexInside:i.dataIndex,seriesIndex:i.seriesIndex,isFromClick:!0})}}))},zw=function(e){e.clearColorPalette(),e.eachSeries((function(e){e.clearColorPalette()}))},Vw=function(e,t,n,r){Hw(e,t,n,r),Yx(e._chartsViews,(function(e){e.__alive=!1})),Uw(e,t,n,r),Yx(e._chartsViews,(function(e){e.__alive||e.remove(t,n)}))},Hw=function(e,t,n,a,s){Yx(s||e._componentsViews,(function(e){var s=e.__model;o(s,e),e.render(s,t,n,a),r(s,e),i(s,e)}))},Uw=function(e,a,s,l,u){var c=e._scheduler,d=e._labelManager;d.clearLabels();var f=!1;a.eachSeries((function(t){var r=e._chartsMap[t.__viewId];r.__alive=!0;var i=r.renderTask;c.updatePayload(i,l),o(t,r),u&&u.get(t.uid)&&i.dirty(),i.perform(c.getPerformArgs(i))&&(f=!0),t.__transientTransitionOpt=null,r.group.silent=!!t.get("silent"),n(t,r),oc(t),d.addLabelsOfSeries(r)})),c.unfinished=f||c.unfinished,d.updateLayoutConfig(s),d.layout(s),d.processLabelsOverall(),a.eachSeries((function(t){var n=e._chartsMap[t.__viewId];r(t,n),i(t,n)})),t(e,a)},$w=function(e,t){Yx(s_,(function(n){n(e,t)}))},Yw=function(e){e[xw]=!0,e.getZr().wakeUp()},Kw=function(t){t[xw]&&(t.getZr().storage.traverse((function(t){bf(t)||e(t)})),t[xw]=!1)},qw=function(e){return new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return g(n,t),n.prototype.getCoordinateSystems=function(){return e._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(t){while(t){var n=t.__ecComponentInfo;if(null!=n)return e._model.getComponent(n.mainType,n.index);t=t.parent}},n.prototype.enterEmphasis=function(t,n){Gu(t,n),Yw(e)},n.prototype.leaveEmphasis=function(t,n){Yu(t,n),Yw(e)},n.prototype.enterBlur=function(t){Ku(t),Yw(e)},n.prototype.leaveBlur=function(t){Xu(t),Yw(e)},n.prototype.enterSelect=function(t){Ju(t),Yw(e)},n.prototype.leaveSelect=function(t){Zu(t),Yw(e)},n.prototype.getModel=function(){return e.getModel()},n.prototype.getViewOfComponentModel=function(t){return e.getViewOfComponentModel(t)},n.prototype.getViewOfSeriesModel=function(t){return e.getViewOfSeriesModel(t)},n}(Tm))(e)},Ww=function(e){function t(e,t){for(var n=0;n<e.length;n++){var r=e[n];r[_w]=t}}Yx(r_,(function(n,r){e._messageCenter.on(r,(function(n){if(f_[e.group]&&e[_w]!==Cw){if(n&&n.escapeConnect)return;var r=e.makeActionFromEvent(n),o=[];Yx(d_,(function(t){t!==e&&t.group===e.group&&o.push(t)})),t(o,Cw),Yx(o,(function(e){e[_w]!==Sw&&e.dispatchAction(r)})),t(o,kw)}}))}))},Gw=function(e,t){var n=e._model;K(Ti(t),(function(e){var t,r=e.from,o=e.to;null==o&&qg(t);var i={includeMainTypes:["series"],enableAll:!1,enableNone:!1},a=r?Ji(n,r,i):null,s=Ji(n,o,i),l=s.seriesModel;null==l&&(t=""),a&&a.seriesModel!==l&&(t=""),null!=t&&qg(t),l.__transientTransitionOpt={from:r?r.dimension:null,to:o.dimension,dividingMethod:e.dividingMethod}}))}}(),t}(lt),Qw=Zw.prototype;Qw.on=Ow("on"),Qw.off=Ow("off"),Qw.one=function(e,t,n){var r=this;function o(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];t&&t.apply&&t.apply(this,n),r.off(e,o)}$g("ECharts#one is deprecated."),this.on.call(this,e,o,n)};var e_=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function t_(e){0}var n_={},r_={},o_=[],i_=[],a_=[],s_=[],l_=[],u_={},c_={},d_={},f_={},p_=+new Date-0,h_=+new Date-0,m_="_echarts_instance_";function g_(e,t,n){var r=w_(e);if(r)return r;var o=new Zw(e,t,n);return o.id="ec_"+p_++,d_[o.id]=o,ta(e,m_,o.id),Ww(o),Yx(a_,(function(e){e(o)})),o}function v_(e){if(oe(e)){var t=e;e=null,Yx(t,(function(t){null!=t.group&&(e=t.group)})),e=e||"g_"+h_++,Yx(t,(function(t){t.group=e}))}return f_[e]=!0,e}function y_(e){f_[e]=!1}var b_=y_;function x_(e){"string"===typeof e?e=d_[e]:e instanceof Zw||(e=w_(e)),e instanceof Zw&&!e.isDisposed()&&e.dispose()}function w_(e){return d_[na(e,m_)]}function __(e){return d_[e]}function C_(e,t){u_[e]=t}function S_(e){Jx(i_,e)<0&&i_.push(e)}function k_(e,t){j_(o_,e,t,iw)}function O_(e){Jx(a_,e)<0&&e&&a_.push(e)}function T_(e){Jx(s_,e)<0&&e&&s_.push(e)}function M_(e,t,n){"function"===typeof t&&(n=t,t="");var r=Xx(e)?e.type:[e,e={event:t}][0];e.event=(e.event||r).toLowerCase(),t=e.event,r_[t]||(Gx(ww.test(r)&&ww.test(t)),n_[r]||(n_[r]={action:n,actionInfo:e}),r_[t]=r)}function D_(e,t){Im.register(e,t)}function I_(e){var t=Im.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function E_(e,t){j_(l_,e,t,sw,"layout")}function A_(e,t){j_(l_,e,t,cw,"visual")}var L_=[];function j_(e,t,n,r,o){if((Kx(t)||Xx(t))&&(n=t,t=r),!(Jx(L_,n)>=0)){L_.push(n);var i=Ry.wrapStageHandler(n,o);i.__prio=t,i.__raw=n,e.push(i)}}function N_(e,t){c_[e]=t}function P_(e){N("createCanvas",e)}function R_(e,t,n){Yy.registerMap(e,t,n)}function B_(e){var t=Yy.retrieveMap(e);return t&&t[0]&&{geoJson:t[0].geoJSON,specialAreas:t[0].specialAreas}}var F_=sv;A_(uw,gy),A_(fw,yy),A_(fw,by),A_(uw,Jy),A_(fw,Zy),A_(gw,Wx),S_(sg),k_(rw,lg),N_("default",wy),M_({type:wu,event:wu,update:wu},Ae),M_({type:_u,event:_u,update:_u},Ae),M_({type:Cu,event:Cu,update:Cu},Ae),M_({type:Su,event:Su,update:Su},Ae),M_({type:ku,event:ku,update:ku},Ae),C_("light",Fy),C_("dark",qy);var z_={},V_=[],H_={registerPreprocessor:S_,registerProcessor:k_,registerPostInit:O_,registerPostUpdate:T_,registerAction:M_,registerCoordinateSystem:D_,registerLayout:E_,registerVisual:A_,registerTransform:F_,registerLoading:N_,registerMap:R_,PRIORITY:vw,ComponentModel:Nh,ComponentView:Yv,SeriesModel:Wv,ChartView:oy,registerComponentModel:function(e){Nh.registerClass(e)},registerComponentView:function(e){Yv.registerClass(e)},registerSeriesModel:function(e){Wv.registerClass(e)},registerChartView:function(e){oy.registerClass(e)},registerSubTypeDefaulter:function(e,t){Nh.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){Zo(e,t)}};function U_(e){oe(e)?K(e,(function(e){U_(e)})):q(V_,e)>=0||(V_.push(e),ie(e)&&(e={install:e}),e.install(H_))}function $_(e){return null==e?0:e.length||1}function q_(e){return e}var W_=function(){function e(e,t,n,r,o,i){this._old=e,this._new=t,this._oldKeyGetter=n||q_,this._newKeyGetter=r||q_,this.context=o,this._diffModeMultiple="multiple"===i}return e.prototype.add=function(e){return this._add=e,this},e.prototype.update=function(e){return this._update=e,this},e.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},e.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},e.prototype.remove=function(e){return this._remove=e,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var e=this._old,t=this._new,n={},r=new Array(e.length),o=new Array(t.length);this._initIndexMap(e,null,r,"_oldKeyGetter"),this._initIndexMap(t,n,o,"_newKeyGetter");for(var i=0;i<e.length;i++){var a=r[i],s=n[a],l=$_(s);if(l>1){var u=s.shift();1===s.length&&(n[a]=s[0]),this._update&&this._update(u,i)}else 1===l?(n[a]=null,this._update&&this._update(s,i)):this._remove&&this._remove(i)}this._performRestAdd(o,n)},e.prototype._executeMultiple=function(){var e=this._old,t=this._new,n={},r={},o=[],i=[];this._initIndexMap(e,n,o,"_oldKeyGetter"),this._initIndexMap(t,r,i,"_newKeyGetter");for(var a=0;a<o.length;a++){var s=o[a],l=n[s],u=r[s],c=$_(l),d=$_(u);if(c>1&&1===d)this._updateManyToOne&&this._updateManyToOne(u,l),r[s]=null;else if(1===c&&d>1)this._updateOneToMany&&this._updateOneToMany(u,l),r[s]=null;else if(1===c&&1===d)this._update&&this._update(u,l),r[s]=null;else if(c>1)for(var f=0;f<c;f++)this._remove&&this._remove(l[f]);else this._remove&&this._remove(l)}this._performRestAdd(i,r)},e.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=t[r],i=$_(o);if(i>1)for(var a=0;a<i;a++)this._add&&this._add(o[a]);else 1===i&&this._add&&this._add(o);t[r]=null}},e.prototype._initIndexMap=function(e,t,n,r){for(var o=this._diffModeMultiple,i=0;i<e.length;i++){var a="_ec_"+this[r](e[i],i);if(o||(n[i]=a),t){var s=t[a],l=$_(s);0===l?(t[a]=i,o&&n.push(a)):1===l?t[a]=[s,i]:s.push(i)}}},e}(),G_=W_;function Y_(e){var t={},n=t.encode={},r=Me(),o=[],i=[],a=t.userOutput={dimensionNames:e.dimensions.slice(),encode:{}};K(e.dimensions,(function(t){var s=e.getDimensionInfo(t),l=s.coordDim;if(l){0;var u=s.coordDimIndex;K_(n,l)[u]=t,s.isExtraCoord||(r.set(l,1),J_(s.type)&&(o[0]=t),K_(a.encode,l)[u]=s.index),s.defaultTooltip&&i.push(t)}Fh.each((function(e,t){var r=K_(n,t),o=s.otherDims[t];null!=o&&!1!==o&&(r[o]=s.name)}))}));var s=[],l={};r.each((function(e,t){var r=n[t];l[t]=r[0],s=s.concat(r)})),t.dataDimsOnCoord=s,t.encodeFirstDimNotExtra=l;var u=n.label;u&&u.length&&(o=u.slice());var c=n.tooltip;return c&&c.length?i=c.slice():i.length||(i=o.slice()),n.defaultedLabel=o,n.defaultedTooltip=i,t}function K_(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function X_(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function J_(e){return!("ordinal"===e||"time"===e)}var Z_,Q_,eC,tC,nC,rC,oC,iC,aC,sC,lC,uC,cC,dC,fC=function(){function e(e){this.otherDims={},null!=e&&H(this,e)}return e}(),pC=fC,hC=Math.floor,mC=ue,gC=X,vC="undefined",yC=-1,bC="e\0\0",xC={float:typeof Float64Array===vC?Array:Float64Array,int:typeof Int32Array===vC?Array:Int32Array,ordinal:Array,number:Array,time:Array},wC=typeof Uint32Array===vC?Array:Uint32Array,_C=typeof Int32Array===vC?Array:Int32Array,CC=typeof Uint16Array===vC?Array:Uint16Array,SC=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx","_nameRepeatCount"],kC=["_extent","_approximateExtent","_rawExtent"],OC=function(){function e(e,t){this.type="list",this._count=0,this._rawCount=0,this._storage={},this._storageArr=[],this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawExtent={},this._extent={},this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!0,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"],this.getRawIndex=nC,e=e||["x","y"];for(var n={},r=[],o={},i=0;i<e.length;i++){var a=e[i],s=ae(a)?new pC({name:a}):a instanceof pC?a:new pC(a),l=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=l,s.coordDimIndex=0);var u=s.otherDims=s.otherDims||{};r.push(l),n[l]=s,s.index=i,s.createInvertedIndices&&(o[l]=[]),0===u.itemName&&(this._nameDimIdx=i,this._nameOrdinalMeta=s.ordinalMeta),0===u.itemId&&(this._idDimIdx=i,this._idOrdinalMeta=s.ordinalMeta)}this.dimensions=r,this._dimensionInfos=n,this.hostModel=t,this._dimensionsSummary=Y_(this),this._invertedIndicesMap=o,this.userOutput=this._dimensionsSummary.userOutput}return e.prototype.getDimension=function(e){return"number"!==typeof e&&(isNaN(e)||this._dimensionInfos.hasOwnProperty(e))||(e=this.dimensions[e]),e},e.prototype.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]},e.prototype.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(e,t){var n=this._dimensionsSummary;if(null==t)return n.encodeFirstDimNotExtra[e];var r=n.encode[e];return r?r[t]:null},e.prototype.mapDimensionsAll=function(e){var t=this._dimensionsSummary,n=t.encode[e];return(n||[]).slice()},e.prototype.initData=function(e,t,n){var r=gg(e)||Y(e),o=r?new Og(e,this.dimensions.length):e;this._rawData=o;var i=o.getSource().sourceFormat;this._storage={},this._indices=null,this._dontMakeIdFromName=null!=this._idDimIdx||i===$h||!!o.fillStorage,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=Z_[i],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=Z_.arrayRows,this._rawExtent={},this._initDataFromProvider(0,o.count()),o.pure&&(this.hasItemOption=!1)},e.prototype.getProvider=function(){return this._rawData},e.prototype.appendData=function(e){var t=this._rawData,n=this.count();t.appendData(e);var r=t.count();t.persistent||(r+=n),this._initDataFromProvider(n,r,!0)},e.prototype.appendValues=function(e,t){for(var n=this._storage,r=this.dimensions,o=r.length,i=this._rawExtent,a=this.count(),s=a+Math.max(e.length,t?t.length:0),l=0;l<o;l++){var u=r[l];i[u]||(i[u]=uC()),tC(n,this._dimensionInfos[u],s,!0)}for(var c=gC(r,(function(e){return i[e]})),d=this._storageArr=gC(r,(function(e){return n[e]})),f=[],p=a;p<s;p++){for(var h=p-a,m=0;m<o;m++){u=r[m];var g=this._dimValueGetterArrayRows(e[h]||f,u,h,m);d[m][p]=g;var v=c[m];g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}t&&(this._nameList[p]=t[h],this._dontMakeIdFromName||aC(this,p))}this._rawCount=this._count=s,this._extent={},Q_(this)},e.prototype._initDataFromProvider=function(e,t,n){if(!(e>=t)){for(var r=this._rawData,o=this._storage,i=this.dimensions,a=i.length,s=this._dimensionInfos,l=this._nameList,u=this._idList,c=this._rawExtent,d=r.getSource().sourceFormat,f=d===zh,p=0;p<a;p++){var h=i[p];c[h]||(c[h]=uC()),tC(o,s[h],t,n)}var m=this._storageArr=gC(i,(function(e){return o[e]})),g=gC(i,(function(e){return c[e]}));if(r.fillStorage)r.fillStorage(e,t,m,g);else for(var v=[],y=e;y<t;y++){v=r.getItem(y,v);for(var b=0;b<a;b++){h=i[b];var x=m[b],w=this._dimValueGetter(v,h,y,b);x[y]=w;var _=g[b];w<_[0]&&(_[0]=w),w>_[1]&&(_[1]=w)}if(f&&!r.pure&&v){var C=v.name;null==l[y]&&null!=C&&(l[y]=Vi(C,null));var S=v.id;null==u[y]&&null!=S&&(u[y]=Vi(S,null))}this._dontMakeIdFromName||aC(this,y)}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent={},Q_(this)}},e.prototype.count=function(){return this._count},e.prototype.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,r=this._count;if(n===Array){e=new n(r);for(var o=0;o<r;o++)e[o]=t[o]}else e=new n(t.buffer,0,r)}else{n=eC(this);e=new n(this.count());for(o=0;o<e.length;o++)e[o]=o}return e},e.prototype.getByDimIdx=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._storageArr[e];return n?n[this.getRawIndex(t)]:NaN},e.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._storage[e];return n?n[this.getRawIndex(t)]:NaN},e.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._storage[e];return n?n[t]:NaN},e.prototype.getValues=function(e,t){var n=[];oe(e)||(t=e,e=this.dimensions);for(var r=0,o=e.length;r<o;r++)n.push(this.get(e[r],t));return n},e.prototype.hasValue=function(e){for(var t=this._dimensionsSummary.dataDimsOnCoord,n=0,r=t.length;n<r;n++)if(isNaN(this.get(t[n],e)))return!1;return!0},e.prototype.getDataExtent=function(e){e=this.getDimension(e);var t=this._storage[e],n=uC();if(!t)return n;var r,o=this.count(),i=!this._indices;if(i)return this._rawExtent[e].slice();if(r=this._extent[e],r)return r.slice();r=n;for(var a=r[0],s=r[1],l=0;l<o;l++){var u=this.getRawIndex(l),c=t[u];c<a&&(a=c),c>s&&(s=c)}return r=[a,s],this._extent[e]=r,r},e.prototype.getApproximateExtent=function(e){return e=this.getDimension(e),this._approximateExtent[e]||this.getDataExtent(e)},e.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},e.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},e.prototype.setCalculationInfo=function(e,t){mC(e)?H(this._calculationInfo,e):this._calculationInfo[e]=t},e.prototype.getSum=function(e){var t=this._storage[e],n=0;if(t)for(var r=0,o=this.count();r<o;r++){var i=this.get(e,r);isNaN(i)||(n+=i)}return n},e.prototype.getMedian=function(e){var t=[];this.each(e,(function(e){isNaN(e)||t.push(e)}));var n=t.sort((function(e,t){return e-t})),r=this.count();return 0===r?0:r%2===1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},e.prototype.rawIndexOf=function(e,t){var n=e&&this._invertedIndicesMap[e];var r=n[t];return null==r||isNaN(r)?yC:r},e.prototype.indexOfName=function(e){for(var t=0,n=this.count();t<n;t++)if(this.getName(t)===e)return t;return-1},e.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;var r=0,o=this._count-1;while(r<=o){var i=(r+o)/2|0;if(t[i]<e)r=i+1;else{if(!(t[i]>e))return i;o=i-1}}return-1},e.prototype.indicesOfNearest=function(e,t,n){var r=this._storage,o=r[e],i=[];if(!o)return i;null==n&&(n=1/0);for(var a=1/0,s=-1,l=0,u=0,c=this.count();u<c;u++){var d=this.getRawIndex(u),f=t-o[d],p=Math.abs(f);p<=n&&((p<a||p===a&&f>=0&&s<0)&&(a=p,s=f,l=0),f===s&&(i[l++]=u))}return i.length=l,i},e.prototype.getRawDataItem=function(e){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(e));for(var t=[],n=0;n<this.dimensions.length;n++){var r=this.dimensions[n];t.push(this.get(r,e))}return t},e.prototype.getName=function(e){var t=this.getRawIndex(e),n=this._nameList[t];return null==n&&null!=this._nameDimIdx&&(n=iC(this,this._nameDimIdx,this._nameOrdinalMeta,t)),null==n&&(n=""),n},e.prototype.getId=function(e){return oC(this,this.getRawIndex(e))},e.prototype.each=function(e,t,n,r){var o=this;if(this._count){"function"===typeof e&&(r=n,n=t,t=e,e=[]);var i=n||r||this,a=gC(sC(e),this.getDimension,this);0;for(var s=a.length,l=gC(a,(function(e){return o._dimensionInfos[e].index})),u=this._storageArr,c=0,d=this.count();c<d;c++){var f=this.getRawIndex(c);switch(s){case 0:t.call(i,c);break;case 1:t.call(i,u[l[0]][f],c);break;case 2:t.call(i,u[l[0]][f],u[l[1]][f],c);break;default:for(var p=0,h=[];p<s;p++)h[p]=u[l[p]][f];h[p]=c,t.apply(i,h)}}}},e.prototype.filterSelf=function(e,t,n,r){var o=this;if(this._count){"function"===typeof e&&(r=n,n=t,t=e,e=[]);var i=n||r||this,a=gC(sC(e),this.getDimension,this);0;for(var s=this.count(),l=eC(this),u=new l(s),c=[],d=a.length,f=0,p=gC(a,(function(e){return o._dimensionInfos[e].index})),h=p[0],m=this._storageArr,g=0;g<s;g++){var v=void 0,y=this.getRawIndex(g);if(0===d)v=t.call(i,g);else if(1===d){var b=m[h][y];v=t.call(i,b,g)}else{for(var x=0;x<d;x++)c[x]=m[p[x]][y];c[x]=g,v=t.apply(i,c)}v&&(u[f++]=y)}return f<s&&(this._indices=u),this._count=f,this._extent={},this.getRawIndex=this._indices?rC:nC,this}},e.prototype.selectRange=function(e){var t=this,n=this._count;if(n){var r=[];for(var o in e)e.hasOwnProperty(o)&&r.push(o);0;var i=r.length;if(i){var a=this.count(),s=eC(this),l=new s(a),u=0,c=r[0],d=gC(r,(function(e){return t._dimensionInfos[e].index})),f=e[c][0],p=e[c][1],h=this._storageArr,m=!1;if(!this._indices){var g=0;if(1===i){for(var v=h[d[0]],y=0;y<n;y++){var b=v[y];(b>=f&&b<=p||isNaN(b))&&(l[u++]=g),g++}m=!0}else if(2===i){v=h[d[0]];var x=h[d[1]],w=e[r[1]][0],_=e[r[1]][1];for(y=0;y<n;y++){b=v[y];var C=x[y];(b>=f&&b<=p||isNaN(b))&&(C>=w&&C<=_||isNaN(C))&&(l[u++]=g),g++}m=!0}}if(!m)if(1===i)for(y=0;y<a;y++){var S=this.getRawIndex(y);b=h[d[0]][S];(b>=f&&b<=p||isNaN(b))&&(l[u++]=S)}else for(y=0;y<a;y++){for(var k=!0,O=(S=this.getRawIndex(y),0);O<i;O++){var T=r[O];b=h[d[O]][S];(b<e[T][0]||b>e[T][1])&&(k=!1)}k&&(l[u++]=this.getRawIndex(y))}return u<a&&(this._indices=l),this._count=u,this._extent={},this.getRawIndex=this._indices?rC:nC,this}}},e.prototype.mapArray=function(e,t,n,r){"function"===typeof e&&(r=n,n=t,t=e,e=[]),n=n||r||this;var o=[];return this.each(e,(function(){o.push(t&&t.apply(this,arguments))}),n),o},e.prototype.map=function(e,t,n,r){var o=n||r||this,i=gC(sC(e),this.getDimension,this);var a=lC(this,i),s=a._storage;a._indices=this._indices,a.getRawIndex=a._indices?rC:nC;for(var l=[],u=i.length,c=this.count(),d=[],f=a._rawExtent,p=0;p<c;p++){for(var h=0;h<u;h++)d[h]=this.get(i[h],p);d[u]=p;var m=t&&t.apply(o,d);if(null!=m){"object"!==typeof m&&(l[0]=m,m=l);for(var g=this.getRawIndex(p),v=0;v<m.length;v++){var y=i[v],b=m[v],x=f[y],w=s[y];w&&(w[g]=b),b<x[0]&&(x[0]=b),b>x[1]&&(x[1]=b)}}}return a},e.prototype.downSample=function(e,t,n,r){for(var o=lC(this,[e]),i=o._storage,a=[],s=hC(1/t),l=i[e],u=this.count(),c=o._rawExtent[e],d=new(eC(this))(u),f=0,p=0;p<u;p+=s){s>u-p&&(s=u-p,a.length=s);for(var h=0;h<s;h++){var m=this.getRawIndex(p+h);a[h]=l[m]}var g=n(a),v=this.getRawIndex(Math.min(p+r(a,g)||0,u-1));l[v]=g,g<c[0]&&(c[0]=g),g>c[1]&&(c[1]=g),d[f++]=v}return o._count=f,o._indices=d,o.getRawIndex=rC,o},e.prototype.lttbDownSample=function(e,t){var n,r,o,i=lC(this,[]),a=i._storage,s=a[e],l=this.count(),u=new(eC(this))(l),c=0,d=hC(1/t),f=this.getRawIndex(0);u[c++]=f;for(var p=1;p<l-1;p+=d){for(var h=Math.min(p+d,l-1),m=Math.min(p+2*d,l),g=(m+h)/2,v=0,y=h;y<m;y++){var b=this.getRawIndex(y),x=s[b];isNaN(x)||(v+=x)}v/=m-h;var w=p,_=Math.min(p+d,l),C=p-1,S=s[f];n=-1,o=w;for(y=w;y<_;y++){b=this.getRawIndex(y),x=s[b];isNaN(x)||(r=Math.abs((C-g)*(x-S)-(C-y)*(v-S)),r>n&&(n=r,o=b))}u[c++]=o,f=o}return u[c++]=this.getRawIndex(l-1),i._count=c,i._indices=u,i.getRawIndex=rC,i},e.prototype.getItemModel=function(e){var t=this.hostModel,n=this.getRawDataItem(e);return new sp(n,t,t&&t.ecModel)},e.prototype.diff=function(e){var t=this;return new G_(e?e.getIndices():[],this.getIndices(),(function(t){return oC(e,t)}),(function(e){return oC(t,e)}))},e.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},e.prototype.setVisual=function(e,t){this._visual=this._visual||{},mC(e)?H(this._visual,e):this._visual[e]=t},e.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e],r=n&&n[t];return null==r?this.getVisual(t):r},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals,r=n[e];r||(r=n[e]={});var o=r[t];return null==o&&(o=this.getVisual(t),oe(o)?o=o.slice():mC(o)&&(o=H({},o)),r[t]=o),o},e.prototype.setItemVisual=function(e,t,n){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,mC(t)?H(r,t):r[t]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(e,t){if(mC(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},e.prototype.getLayout=function(e){return this._layout[e]},e.prototype.getItemLayout=function(e){return this._itemLayouts[e]},e.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?H(this._itemLayouts[e]||{},t):t},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel;if(t){var r=cu(t);r.dataIndex=e,r.dataType=this.dataType,r.seriesIndex=n&&n.seriesIndex,"group"===t.type&&t.traverse(cC,t)}this._graphicEls[e]=t},e.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},e.prototype.eachItemGraphicEl=function(e,t){K(this._graphicEls,(function(n,r){n&&e&&e.call(t,n,r)}))},e.prototype.cloneShallow=function(t){if(!t){var n=gC(this.dimensions,this.getDimensionInfo,this);t=new e(n,this.hostModel)}if(t._storage=this._storage,t._storageArr=this._storageArr,dC(t,this),this._indices){var r=this._indices.constructor;if(r===Array){var o=this._indices.length;t._indices=new r(o);for(var i=0;i<o;i++)t._indices[i]=this._indices[i]}else t._indices=new r(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?rC:nC,t},e.prototype.wrapMethod=function(e,t){var n=this[e];"function"===typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(xe(arguments)))})},e.internalField=function(){function t(e,t,n,r){return Wg(e[r],this._dimensionInfos[t])}function n(e){var t=e.constructor;return t===Array?e.slice():new t(e)}Z_={arrayRows:t,objectRows:function(e,t,n,r){return Wg(e[t],this._dimensionInfos[t])},keyedColumns:t,original:function(e,t,n,r){var o=e&&(null==e.value?e:e.value);return!this._rawData.pure&&Ei(e)&&(this.hasItemOption=!0),Wg(o instanceof Array?o[r]:o,this._dimensionInfos[t])},typedArray:function(e,t,n,r){return e[r]}},Q_=function(e){var t=e._invertedIndicesMap;K(t,(function(n,r){var o=e._dimensionInfos[r],i=o.ordinalMeta;if(i){n=t[r]=new _C(i.categories.length);for(var a=0;a<n.length;a++)n[a]=yC;for(a=0;a<e._count;a++)n[e.get(r,a)]=a}}))},iC=function(e,t,n,r){var o,i=e._storageArr[t];return i&&(o=i[r],n&&n.categories.length&&(o=n.categories[o])),Vi(o,null)},eC=function(e){return e._rawCount>65535?wC:CC},tC=function(e,t,n,r){var o=xC[t.type],i=t.name;if(r){var a=e[i],s=a&&a.length;if(s!==n){for(var l=new o(n),u=0;u<s;u++)l[u]=a[u];e[i]=l}}else e[i]=new o(n)},nC=function(e){return e},rC=function(e){return e<this._count&&e>=0?this._indices[e]:-1},oC=function(e,t){var n=e._idList[t];return null==n&&null!=e._idDimIdx&&(n=iC(e,e._idDimIdx,e._idOrdinalMeta,t)),null==n&&(n=bC+t),n},sC=function(e){return oe(e)||(e=null!=e?[e]:[]),e},function(e,t){for(var n=0;n<t.length;n++)e._dimensionInfos[t[n]]},lC=function(t,r){var o=t.dimensions,i=new e(gC(o,t.getDimensionInfo,t),t.hostModel);dC(i,t);for(var a=i._storage={},s=t._storage,l=i._storageArr=[],u=0;u<o.length;u++){var c=o[u];s[c]&&(q(r,c)>=0?(a[c]=n(s[c]),i._rawExtent[c]=uC(),i._extent[c]=null):a[c]=s[c],l.push(a[c]))}return i},uC=function(){return[1/0,-1/0]},cC=function(e){var t=cu(e),n=cu(this);t.seriesIndex=n.seriesIndex,t.dataIndex=n.dataIndex,t.dataType=n.dataType},dC=function(e,t){K(SC.concat(t.__wrappedMethods||[]),(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e.__wrappedMethods=t.__wrappedMethods,K(kC,(function(n){e[n]=F(t[n])})),e._calculationInfo=H({},t._calculationInfo)},aC=function(e,t){var n=e._nameList,r=e._idList,o=e._nameDimIdx,i=e._idDimIdx,a=n[t],s=r[t];if(null==a&&null!=o&&(n[t]=a=iC(e,o,e._nameOrdinalMeta,t)),null==s&&null!=i&&(r[t]=s=iC(e,i,e._idOrdinalMeta,t)),null==s&&null!=a){var l=e._nameRepeatCount,u=l[a]=(l[a]||0)+1;s=a,u>1&&(s+="__ec__"+u),r[t]=s}}}(),e}(),TC=OC;function MC(e,t,n){gg(t)||(t=yg(t)),n=n||{},e=(e||[]).slice();for(var r=(n.dimsDef||[]).slice(),o=Me(),i=Me(),a=[],s=DC(t,e,r,n.dimCount),l=0;l<s;l++){var u=r[l],c=r[l]=H({},ue(u)?u:{name:u}),d=c.name,f=a[l]=new pC;null!=d&&null==o.get(d)&&(f.name=f.displayName=d,o.set(d,l)),null!=c.type&&(f.type=c.type),null!=c.displayName&&(f.displayName=c.displayName)}var p=n.encodeDef;!p&&n.encodeDefaulter&&(p=n.encodeDefaulter(t,s));var h=Me(p);h.each((function(e,t){var n=Ti(e).slice();if(1===n.length&&!ae(n[0])&&n[0]<0)h.set(t,!1);else{var r=h.set(t,[]);K(n,(function(e,n){var i=ae(e)?o.get(e):e;null!=i&&i<s&&(r[n]=i,g(a[i],t,n))}))}}));var m=0;function g(e,t,n){null!=Fh.get(t)?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,i.set(t,!0))}K(e,(function(e){var t,n,r,o;if(ae(e))t=e,o={};else{o=e,t=o.name;var i=o.ordinalMeta;o.ordinalMeta=null,o=F(o),o.ordinalMeta=i,n=o.dimsDef,r=o.otherDims,o.name=o.coordDim=o.coordDimIndex=o.dimsDef=o.otherDims=null}var s=h.get(t);if(!1!==s){if(s=Ti(s),!s.length)for(var l=0;l<(n&&n.length||1);l++){while(m<a.length&&null!=a[m].coordDim)m++;m<a.length&&s.push(m++)}K(s,(function(e,i){var s=a[e];if(g(U(s,o),t,i),null==s.name&&n){var l=n[i];!ue(l)&&(l={name:l}),s.name=s.displayName=l.name,s.defaultTooltip=l.defaultTooltip}r&&U(s.otherDims,r)}))}}));var v=n.generateCoord,y=n.generateCoordCount,b=null!=y;y=v?y||1:0;for(var x=v||"value",w=0;w<s;w++){f=a[w]=a[w]||new pC;var _=f.coordDim;null==_&&(f.coordDim=IC(x,i,b),f.coordDimIndex=0,(!v||y<=0)&&(f.isExtraCoord=!0),y--),null==f.name&&(f.name=IC(f.coordDim,o,!1)),null!=f.type||tm(t,w)!==Yh.Must&&(!f.isExtraCoord||null==f.otherDims.itemName&&null==f.otherDims.seriesName)||(f.type="ordinal")}return a}function DC(e,t,n,r){var o=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,r||0);return K(t,(function(e){var t;ue(e)&&(t=e.dimsDef)&&(o=Math.max(o,t.length))})),o}function IC(e,t,n){if(n||null!=t.get(e)){var r=0;while(null!=t.get(e+r))r++;e+=r}return t.set(e,!0),e}var EC=MC;function AC(e,t){return t=t||{},EC(t.coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,encodeDefaulter:t.encodeDefaulter,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})}var LC=function(){function e(e){this.coordSysDims=[],this.axisMap=Me(),this.categoryAxisMap=Me(),this.coordSysName=e}return e}();function jC(e){var t=e.get("coordinateSystem"),n=new LC(t),r=NC[t];if(r)return r(e,n,n.axisMap,n.categoryAxisMap),n}var NC={cartesian2d:function(e,t,n,r){var o=e.getReferringComponents("xAxis",Zi).models[0],i=e.getReferringComponents("yAxis",Zi).models[0];t.coordSysDims=["x","y"],n.set("x",o),n.set("y",i),PC(o)&&(r.set("x",o),t.firstCategoryDimIndex=0),PC(i)&&(r.set("y",i),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,r){var o=e.getReferringComponents("singleAxis",Zi).models[0];t.coordSysDims=["single"],n.set("single",o),PC(o)&&(r.set("single",o),t.firstCategoryDimIndex=0)},polar:function(e,t,n,r){var o=e.getReferringComponents("polar",Zi).models[0],i=o.findAxisModel("radiusAxis"),a=o.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",i),n.set("angle",a),PC(i)&&(r.set("radius",i),t.firstCategoryDimIndex=0),PC(a)&&(r.set("angle",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,r){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,r){var o=e.ecModel,i=o.getComponent("parallel",e.get("parallelIndex")),a=t.coordSysDims=i.dimensions.slice();K(i.parallelAxisIndex,(function(e,i){var s=o.getComponent("parallelAxis",e),l=a[i];n.set(l,s),PC(s)&&(r.set(l,s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=i))}))}};function PC(e){return"category"===e.get("type")}function RC(e,t,n){n=n||{};var r,o,i,a,s=n.byIndex,l=n.stackedCoordDimension,u=!(!e||!e.get("stack"));if(K(t,(function(e,n){ae(e)&&(t[n]=e={name:e}),u&&!e.isExtraCoord&&(s||r||!e.ordinalMeta||(r=e),o||"ordinal"===e.type||"time"===e.type||l&&l!==e.coordDim||(o=e))})),!o||s||r||(s=!0),o){i="__\0ecstackresult",a="__\0ecstackedover",r&&(r.createInvertedIndices=!0);var c=o.coordDim,d=o.type,f=0;K(t,(function(e){e.coordDim===c&&f++})),t.push({name:i,coordDim:c,coordDimIndex:f,type:d,isExtraCoord:!0,isCalculationCoord:!0}),f++,t.push({name:a,coordDim:a,coordDimIndex:f,type:d,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:o&&o.name,stackedByDimension:r&&r.name,isStackedByIndex:s,stackedOverDimension:a,stackResultDimension:i}}function BC(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function FC(e,t){return BC(e,t)?e.getCalculationInfo("stackResultDimension"):t}function zC(e,t,n){n=n||{},gg(e)||(e=yg(e));var r,o=t.get("coordinateSystem"),i=Im.get(o),a=jC(t);a&&a.coordSysDims&&(r=X(a.coordSysDims,(function(e){var t={name:e},n=a.axisMap.get(e);if(n){var r=n.get("type");t.type=X_(r)}return t}))),r||(r=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]);var s,l,u=n.useEncodeDefaulter,c=AC(e,{coordDimensions:r,generateCoord:n.generateCoord,encodeDefaulter:ie(u)?u:u?re(Jh,r,t):null});a&&K(c,(function(e,t){var r=e.coordDim,o=a.categoryAxisMap.get(r);o&&(null==s&&(s=t),e.ordinalMeta=o.getOrdinalMeta(),n.createInvertedIndices&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(l=!0)})),l||null==s||(c[s].otherDims.itemName=0);var d=RC(t,c),f=new TC(c,t);f.setCalculationInfo(d);var p=null!=s&&VC(e)?function(e,t,n,r){return r===s?n:this.defaultDimValueGetter(e,t,n,r)}:null;return f.hasItemOption=!1,f.initData(e,null,p),f}function VC(e){if(e.sourceFormat===zh){var t=HC(e.data||[]);return null!=t&&!oe(Ii(t))}}function HC(e){var t=0;while(t<e.length&&null==e[t])t++;return e[t]}var UC=zC,$C=function(){function e(e){this._setting=e||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(e){return this._setting[e]},e.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},e.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},e.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(e){this._isBlank=e},e}();ba($C);var qC=$C,WC=function(){function e(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication}return e.createByAxisModel=function(t){var n=t.option,r=n.data,o=r&&X(r,GC);return new e({categories:o,needCollect:!o,deduplication:!1!==n.dedplication})},e.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},e.prototype.parseAndCollect=function(e){var t,n=this._needCollect;if("string"!==typeof e&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var r=this._getOrCreateMap();return t=r.get(e),null==t&&(n?(t=this.categories.length,this.categories[t]=e,r.set(e,t)):t=NaN),t},e.prototype._getOrCreateMap=function(){return this._map||(this._map=Me(this.categories))},e}();function GC(e){return ue(e)&&null!=e.value?e.value:e+""}var YC=WC,KC=oi;function XC(e,t,n,r){var o={},i=e[1]-e[0],a=o.interval=vi(i/t,!0);null!=n&&a<n&&(a=o.interval=n),null!=r&&a>r&&(a=o.interval=r);var s=o.intervalPrecision=JC(a),l=o.niceTickExtent=[KC(Math.ceil(e[0]/a)*a,s),KC(Math.floor(e[1]/a)*a,s)];return QC(l,e),o}function JC(e){return si(e)+2}function ZC(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function QC(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),ZC(e,0,t),ZC(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function eS(e,t){return e>=t[0]&&e<=t[1]}function tS(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function nS(e,t){return e*(t[1]-t[0])+t[0]}var rS=function(e){function t(t){var n=e.call(this,t)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new YC({})),oe(r)&&(r=new YC({categories:X(r,(function(e){return ue(e)?e.value:e}))})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return g(t,e),t.prototype.parse=function(e){return"string"===typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return e=this.parse(e),eS(e,this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return e=this._getTickNumber(this.parse(e)),tS(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(nS(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){var e=[],t=this._extent,n=t[0];while(n<=t[1])e.push({value:n}),n++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var t=e.ordinalNumbers,n=this._ordinalNumbersByTick=[],r=this._ticksByOrdinalNumber=[],o=0,i=this._ordinalMeta.categories.length,a=Math.min(i,t.length);o<a;++o){var s=t[o];n[o]=s,r[s]=o}for(var l=0;o<i;++o){while(null!=r[l])l++;n.push(l),r[l]=o}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var t=this._ticksByOrdinalNumber;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getRawOrdinalNumber=function(e){var t=this._ordinalNumbersByTick;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var t=this.getRawOrdinalNumber(e.value),n=this._ordinalMeta.categories[t];return null==n?"":n+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.niceTicks=function(){},t.prototype.niceExtent=function(){},t.type="ordinal",t}(qC);qC.registerClass(rS);var oS=rS,iS=oi,aS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return g(t,e),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return eS(e,this._extent)},t.prototype.normalize=function(e){return tS(e,this._extent)},t.prototype.scale=function(e){return nS(e,this._extent)},t.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},t.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),this.setExtent(t[0],t[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=JC(e)},t.prototype.getTicks=function(e){var t=this._interval,n=this._extent,r=this._niceExtent,o=this._intervalPrecision,i=[];if(!t)return i;var a=1e4;n[0]<r[0]&&(e?i.push({value:iS(r[0]-t,o)}):i.push({value:n[0]}));var s=r[0];while(s<=r[1]){if(i.push({value:s}),s=iS(s+t,o),s===i[i.length-1].value)break;if(i.length>a)return[]}var l=i.length?i[i.length-1].value:r[1];return n[1]>l&&(e?i.push({value:iS(l+t,o)}):i.push({value:n[1]})),i},t.prototype.getMinorTicks=function(e){for(var t=this.getTicks(!0),n=[],r=this.getExtent(),o=1;o<t.length;o++){var i=t[o],a=t[o-1],s=0,l=[],u=i.value-a.value,c=u/e;while(s<e-1){var d=iS(a.value+(s+1)*c);d>r[0]&&d<r[1]&&l.push(d),s++}n.push(l)}return n},t.prototype.getLabel=function(e,t){if(null==e)return"";var n=t&&t.precision;null==n?n=si(e.value)||0:"auto"===n&&(n=this._intervalPrecision);var r=iS(e.value,n,!0);return rh(r)},t.prototype.niceTicks=function(e,t,n){e=e||5;var r=this._extent,o=r[1]-r[0];if(isFinite(o)){o<0&&(o=-o,r.reverse());var i=XC(r,e,t,n);this._intervalPrecision=i.intervalPrecision,this._interval=i.interval,this._niceExtent=i.niceTickExtent}},t.prototype.niceExtent=function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var n=t[0];e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;var r=t[1]-t[0];isFinite(r)||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var o=this._interval;e.fixMin||(t[0]=iS(Math.floor(t[0]/o)*o)),e.fixMax||(t[1]=iS(Math.ceil(t[1]/o)*o))},t.type="interval",t}(qC);qC.registerClass(aS);var sS=aS,lS="__ec_stack_",uS=.5,cS="undefined"!==typeof Float32Array?Float32Array:Array;function dS(e){return e.get("stack")||lS+e.seriesIndex}function fS(e){return e.dim+e.index}function pS(e){var t=[],n=e.axis,r="axis0";if("category"===n.type){for(var o=n.getBandWidth(),i=0;i<e.count;i++)t.push(U({bandWidth:o,axisKey:r,stackId:lS+i},e));var a=vS(t),s=[];for(i=0;i<e.count;i++){var l=a[r][lS+i];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function hS(e,t){var n=[];return t.eachSeriesByType(e,(function(e){wS(e)&&!_S(e)&&n.push(e)})),n}function mS(e){var t={};K(e,(function(e){var n=e.coordinateSystem,r=n.getBaseAxis();if("time"===r.type||"value"===r.type)for(var o=e.getData(),i=r.dim+"_"+r.index,a=o.mapDimension(r.dim),s=0,l=o.count();s<l;++s){var u=o.get(a,s);t[i]?t[i].push(u):t[i]=[u]}}));var n={};for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(o){o.sort((function(e,t){return e-t}));for(var i=null,a=1;a<o.length;++a){var s=o[a]-o[a-1];s>0&&(i=null===i?s:Math.min(i,s))}n[r]=i}}return n}function gS(e){var t=mS(e),n=[];return K(e,(function(e){var r,o=e.coordinateSystem,i=o.getBaseAxis(),a=i.getExtent();if("category"===i.type)r=i.getBandWidth();else if("value"===i.type||"time"===i.type){var s=i.dim+"_"+i.index,l=t[s],u=Math.abs(a[1]-a[0]),c=i.scale.getExtent(),d=Math.abs(c[1]-c[0]);r=l?u/d*l:u}else{var f=e.getData();r=Math.abs(a[1]-a[0])/f.count()}var p=ri(e.get("barWidth"),r),h=ri(e.get("barMaxWidth"),r),m=ri(e.get("barMinWidth")||1,r),g=e.get("barGap"),v=e.get("barCategoryGap");n.push({bandWidth:r,barWidth:p,barMaxWidth:h,barMinWidth:m,barGap:g,barCategoryGap:v,axisKey:fS(i),stackId:dS(e)})})),vS(n)}function vS(e){var t={};K(e,(function(e,n){var r=e.axisKey,o=e.bandWidth,i=t[r]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},a=i.stacks;t[r]=i;var s=e.stackId;a[s]||i.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=e.barWidth;l&&!a[s].width&&(a[s].width=l,l=Math.min(i.remainedWidth,l),i.remainedWidth-=l);var u=e.barMaxWidth;u&&(a[s].maxWidth=u);var c=e.barMinWidth;c&&(a[s].minWidth=c);var d=e.barGap;null!=d&&(i.gap=d);var f=e.barCategoryGap;null!=f&&(i.categoryGap=f)}));var n={};return K(t,(function(e,t){n[t]={};var r=e.stacks,o=e.bandWidth,i=e.categoryGap;if(null==i){var a=ee(r).length;i=Math.max(35-4*a,15)+"%"}var s=ri(i,o),l=ri(e.gap,1),u=e.remainedWidth,c=e.autoWidthCount,d=(u-s)/(c+(c-1)*l);d=Math.max(d,0),K(r,(function(e){var t=e.maxWidth,n=e.minWidth;if(e.width){r=e.width;t&&(r=Math.min(r,t)),n&&(r=Math.max(r,n)),e.width=r,u-=r+l*r,c--}else{var r=d;t&&t<r&&(r=Math.min(t,u)),n&&n>r&&(r=n),r!==d&&(e.width=r,u-=r+l*r,c--)}})),d=(u-s)/(c+(c-1)*l),d=Math.max(d,0);var f,p=0;K(r,(function(e,t){e.width||(e.width=d),f=e,p+=e.width*(1+l)})),f&&(p-=f.width*l);var h=-p/2;K(r,(function(e,r){n[t][r]=n[t][r]||{bandWidth:o,offset:h,width:e.width},h+=e.width*(1+l)}))})),n}function yS(e,t,n){if(e&&t){var r=e[fS(t)];return null!=r&&null!=n?r[dS(n)]:r}}function bS(e,t){var n=hS(e,t),r=gS(n),o={};K(n,(function(e){var t=e.getData(),n=e.coordinateSystem,i=n.getBaseAxis(),a=dS(e),s=r[fS(i)][a],l=s.offset,u=s.width,c=n.getOtherAxis(i),d=e.get("barMinHeight")||0;o[a]=o[a]||[],t.setLayout({bandWidth:s.bandWidth,offset:l,size:u});for(var f=t.mapDimension(c.dim),p=t.mapDimension(i.dim),h=BC(t,f),m=c.isHorizontal(),g=CS(i,c,h),v=0,y=t.count();v<y;v++){var b=t.get(f,v),x=t.get(p,v),w=b>=0?"p":"n",_=g;h&&(o[a][x]||(o[a][x]={p:g,n:g}),_=o[a][x][w]);var C=void 0,S=void 0,k=void 0,O=void 0;if(m){var T=n.dataToPoint([b,x]);C=_,S=T[1]+l,k=T[0]-g,O=u,Math.abs(k)<d&&(k=(k<0?-1:1)*d),isNaN(k)||h&&(o[a][x][w]+=k)}else{T=n.dataToPoint([x,b]);C=T[0]+l,S=_,k=u,O=T[1]-g,Math.abs(O)<d&&(O=(O<=0?-1:1)*d),isNaN(O)||h&&(o[a][x][w]+=O)}t.setItemLayout(v,{x:C,y:S,width:k,height:O})}}))}var xS={seriesType:"bar",plan:Kv(),reset:function(e){if(wS(e)&&_S(e)){var t=e.getData(),n=e.coordinateSystem,r=n.master.getRect(),o=n.getBaseAxis(),i=n.getOtherAxis(o),a=t.mapDimension(i.dim),s=t.mapDimension(o.dim),l=i.isHorizontal(),u=l?0:1,c=yS(gS([e]),o,e).width;return c>uS||(c=uS),{progress:function(e,t){var d,f=e.count,p=new cS(2*f),h=new cS(2*f),m=new cS(f),g=[],v=[],y=0,b=0;while(null!=(d=e.next()))v[u]=t.get(a,d),v[1-u]=t.get(s,d),g=n.dataToPoint(v,null,g),h[y]=l?r.x+r.width:g[0],p[y++]=g[0],h[y]=l?g[1]:r.y+r.height,p[y++]=g[1],m[b++]=d;t.setLayout({largePoints:p,largeDataIndices:m,largeBackgroundPoints:h,barWidth:c,valueAxisStart:CS(o,i,!1),backgroundStart:l?r.x:r.y,valueAxisHorizontal:l})}}}}};function wS(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function _S(e){return e.pipelineContext&&e.pipelineContext.large}function CS(e,t,n){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}var SS=function(e,t,n,r){while(n<r){var o=n+r>>>1;e[o][1]<t?n=o+1:r=o}return n},kS=function(e){function t(t){var n=e.call(this,t)||this;return n.type="time",n}return g(t,e),t.prototype.getLabel=function(e){var t=this.getSetting("useUTC");return Fp(e.value,Ap[Bp(Pp(this._minLevelUnit))]||Ap.second,t,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,t,n){var r=this.getSetting("useUTC"),o=this.getSetting("locale");return zp(e,t,n,o,r)},t.prototype.getTicks=function(e){var t=this._interval,n=this._extent,r=[];if(!t)return r;r.push({value:n[0],level:0});var o=this.getSetting("useUTC"),i=jS(this._minLevelUnit,this._approxInterval,o,n);return r=r.concat(i),r.push({value:n[1],level:0}),r},t.prototype.niceExtent=function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=Mp,t[1]+=Mp),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-Mp}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.niceTicks=function(e,t,n){e=e||10;var r=this._extent,o=r[1]-r[0];this._approxInterval=o/e,null!=t&&this._approxInterval<t&&(this._approxInterval=t),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var i=OS.length,a=Math.min(SS(OS,this._approxInterval,0,i),i-1);this._interval=OS[a][1],this._minLevelUnit=OS[Math.max(a-1,0)][0]},t.prototype.parse=function(e){return"number"===typeof e?e:+hi(e)},t.prototype.contain=function(e){return eS(this.parse(e),this._extent)},t.prototype.normalize=function(e){return tS(this.parse(e),this._extent)},t.prototype.scale=function(e){return nS(e,this._extent)},t.type="time",t}(sS),OS=[["second",kp],["minute",Op],["hour",Tp],["quarter-day",6*Tp],["half-day",12*Tp],["day",1.2*Mp],["half-week",3.5*Mp],["week",7*Mp],["month",31*Mp],["quarter",95*Mp],["half-year",Dp/2],["year",Dp]];function TS(e,t,n,r){var o=hi(t),i=hi(n),a=function(e){return Hp(o,e,r)===Hp(i,e,r)},s=function(){return a("year")},l=function(){return s()&&a("month")},u=function(){return l()&&a("day")},c=function(){return u()&&a("hour")},d=function(){return c()&&a("minute")},f=function(){return d()&&a("second")},p=function(){return f()&&a("millisecond")};switch(e){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return d();case"second":return f();case"millisecond":return p()}}function MS(e,t){return e/=Mp,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function DS(e){var t=30*Mp;return e/=t,e>6?6:e>3?3:e>2?2:1}function IS(e){return e/=Tp,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function ES(e,t){return e/=t?Op:kp,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function AS(e){return vi(e,!0)}function LS(e,t,n){var r=new Date(e);switch(Pp(t)){case"year":case"month":r[Jp(n)](0);case"day":r[Zp(n)](1);case"hour":r[Qp(n)](0);case"minute":r[eh(n)](0);case"second":r[th(n)](0),r[nh(n)](0)}return r.getTime()}function jS(e,t,n,r){var o=1e4,i=jp,a=0;function s(e,t,n,o,i,a,s){var l=new Date(t),u=t,c=l[o]();while(u<n&&u<=r[1])s.push({value:u}),c+=e,l[i](c),u=l.getTime();s.push({value:u,notAdd:!0})}function l(e,o,i){var a=[],l=!o.length;if(!TS(Pp(e),r[0],r[1],n)){l&&(o=[{value:LS(new Date(r[0]),e,n)},{value:r[1]}]);for(var u=0;u<o.length-1;u++){var c=o[u].value,d=o[u+1].value;if(c!==d){var f=void 0,p=void 0,h=void 0,m=!1;switch(e){case"year":f=Math.max(1,Math.round(t/Mp/365)),p=Up(n),h=Xp(n);break;case"half-year":case"quarter":case"month":f=DS(t),p=$p(n),h=Jp(n);break;case"week":case"half-week":case"day":f=MS(t,31),p=qp(n),h=Zp(n),m=!0;break;case"half-day":case"quarter-day":case"hour":f=IS(t),p=Wp(n),h=Qp(n);break;case"minute":f=ES(t,!0),p=Gp(n),h=eh(n);break;case"second":f=ES(t,!1),p=Yp(n),h=th(n);break;case"millisecond":f=AS(t),p=Kp(n),h=nh(n);break}s(f,c,d,p,h,m,a),"year"===e&&i.length>1&&0===u&&i.unshift({value:i[0].value-f})}}for(u=0;u<a.length;u++)i.push(a[u]);return a}}for(var u=[],c=[],d=0,f=0,p=0;p<i.length&&a++<o;++p){var h=Pp(i[p]);if(Rp(i[p])){l(i[p],u[u.length-1]||[],c);var m=i[p+1]?Pp(i[p+1]):null;if(h!==m){if(c.length){f=d,c.sort((function(e,t){return e.value-t.value}));for(var g=[],v=0;v<c.length;++v){var y=c[v].value;0!==v&&c[v-1].value===y||(g.push(c[v]),y>=r[0]&&y<=r[1]&&d++)}var b=(r[1]-r[0])/t;if(d>1.5*b&&f>b/1.5)break;if(u.push(g),d>b||e===i[p])break}c=[]}}}var x=Z(X(u,(function(e){return Z(e,(function(e){return e.value>=r[0]&&e.value<=r[1]&&!e.notAdd}))})),(function(e){return e.length>0})),w=[],_=x.length-1;for(p=0;p<x.length;++p)for(var C=x[p],S=0;S<C.length;++S)w.push({value:C[S].value,level:_-p});w.sort((function(e,t){return e.value-t.value}));var k=[];for(p=0;p<w.length;++p)0!==p&&w[p].value===w[p-1].value||k.push(w[p]);return k}qC.registerClass(kS);var NS=kS,PS=qC.prototype,RS=sS.prototype,BS=si,FS=oi,zS=Math.floor,VS=Math.ceil,HS=Math.pow,US=Math.log,$S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new sS,t._interval=0,t}return g(t,e),t.prototype.getTicks=function(e){var t=this._originalScale,n=this._extent,r=t.getExtent(),o=RS.getTicks.call(this,e);return X(o,(function(e){var t=e.value,o=oi(HS(this.base,t));return o=t===n[0]&&this._fixMin?WS(o,r[0]):o,o=t===n[1]&&this._fixMax?WS(o,r[1]):o,{value:o}}),this)},t.prototype.setExtent=function(e,t){var n=this.base;e=US(e)/US(n),t=US(t)/US(n),RS.setExtent.call(this,e,t)},t.prototype.getExtent=function(){var e=this.base,t=PS.getExtent.call(this);t[0]=HS(e,t[0]),t[1]=HS(e,t[1]);var n=this._originalScale,r=n.getExtent();return this._fixMin&&(t[0]=WS(t[0],r[0])),this._fixMax&&(t[1]=WS(t[1],r[1])),t},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=US(e[0])/US(t),e[1]=US(e[1])/US(t),PS.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.niceTicks=function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n===1/0||n<=0)){var r=mi(n),o=e/n*r;o<=.5&&(r*=10);while(!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0)r*=10;var i=[oi(VS(t[0]/r)*r),oi(zS(t[1]/r)*r)];this._interval=r,this._niceExtent=i}},t.prototype.niceExtent=function(e){RS.niceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return e=US(e)/US(this.base),eS(e,this._extent)},t.prototype.normalize=function(e){return e=US(e)/US(this.base),tS(e,this._extent)},t.prototype.scale=function(e){return e=nS(e,this._extent),HS(this.base,e)},t.type="log",t}(qC),qS=$S.prototype;function WS(e,t){return FS(e,BS(t))}qS.getMinorTicks=RS.getMinorTicks,qS.getLabel=RS.getLabel,qC.registerClass($S);var GS=$S,YS=function(){function e(e,t,n){this._prepareParams(e,t,n)}return e.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var r=this._isOrdinal="ordinal"===e.type;this._needCrossZero=t.getNeedCrossZero&&t.getNeedCrossZero();var o=this._modelMinRaw=t.get("min",!0);ie(o)?this._modelMinNum=ZS(e,o({min:n[0],max:n[1]})):"dataMin"!==o&&(this._modelMinNum=ZS(e,o));var i=this._modelMaxRaw=t.get("max",!0);if(ie(i)?this._modelMaxNum=ZS(e,i({min:n[0],max:n[1]})):"dataMax"!==i&&(this._modelMaxNum=ZS(e,i)),r)this._axisDataLen=t.getCategories().length;else{var a=t.get("boundaryGap"),s=oe(a)?a:[a||0,a||0];"boolean"===typeof s[0]||"boolean"===typeof s[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[jr(s[0],1),jr(s[1],1)]}},e.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,i=e?null:n-t||Math.abs(t),a="dataMin"===this._modelMinRaw?t:this._modelMinNum,s="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,l=null!=a,u=null!=s;null==a&&(a=e?r?0:NaN:t-o[0]*i),null==s&&(s=e?r?r-1:NaN:n+o[1]*i),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN),a>s&&(a=NaN,s=NaN);var c=ge(a)||ge(s)||e&&!r;this._needCrossZero&&(a>0&&s>0&&!l&&(a=0),a<0&&s<0&&!u&&(s=0));var d=this._determinedMin,f=this._determinedMax;return null!=d&&(a=d,l=!0),null!=f&&(s=f,u=!0),{min:a,max:s,minFixed:l,maxFixed:u,isBlank:c}},e.prototype.modifyDataMinMax=function(e,t){this[XS[e]]=t},e.prototype.setDeterminedMinMax=function(e,t){var n=KS[e];this[n]=t},e.prototype.freeze=function(){this.frozen=!0},e}(),KS={min:"_determinedMin",max:"_determinedMax"},XS={min:"_dataMin",max:"_dataMax"};function JS(e,t,n){var r=e.rawExtentInfo;return r||(r=new YS(e,t,n),e.rawExtentInfo=r,r)}function ZS(e,t){return null==t?null:ge(t)?NaN:e.parse(t)}function QS(e,t){var n=e.type,r=JS(e,t,e.getExtent()).calculate();e.setBlank(r.isBlank);var o=r.min,i=r.max,a=t.ecModel;if(a&&"time"===n){var s=hS("bar",a),l=!1;if(K(s,(function(e){l=l||e.getBaseAxis()===t.axis})),l){var u=gS(s),c=ek(o,i,t,u);o=c.min,i=c.max}}return{extent:[o,i],fixMin:r.minFixed,fixMax:r.maxFixed}}function ek(e,t,n,r){var o=n.axis.getExtent(),i=o[1]-o[0],a=yS(r,n.axis);if(void 0===a)return{min:e,max:t};var s=1/0;K(a,(function(e){s=Math.min(e.offset,s)}));var l=-1/0;K(a,(function(e){l=Math.max(e.offset+e.width,l)})),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=t-e,d=1-(s+l)/i,f=c/d-c;return t+=f*(l/u),e-=f*(s/u),{min:e,max:t}}function tk(e,t){var n=QS(e,t),r=n.extent,o=t.get("splitNumber");e instanceof GS&&(e.base=t.get("logBase"));var i=e.type;e.setExtent(r[0],r[1]),e.niceExtent({splitNumber:o,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===i||"time"===i?t.get("minInterval"):null,maxInterval:"interval"===i||"time"===i?t.get("maxInterval"):null});var a=t.get("interval");null!=a&&e.setInterval&&e.setInterval(a)}function nk(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new oS({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new NS({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(qC.getClass(t)||sS)}}function rk(e){var t=e.scale.getExtent(),n=t[0],r=t[1];return!(n>0&&r>0||n<0&&r<0)}function ok(e){var t=e.getLabelModel().get("formatter"),n="category"===e.type?e.scale.getExtent()[0]:null;return"time"===e.scale.type?function(t){return function(n,r){return e.scale.getFormattedLabel(n,r,t)}}(t):"string"===typeof t?function(t){return function(n){var r=e.scale.getLabel(n),o=t.replace("{value}",null!=r?r:"");return o}}(t):"function"===typeof t?function(t){return function(r,o){return null!=n&&(o=r.value-n),t(ik(e,r),o,null!=r.level?{level:r.level}:null)}}(t):function(t){return e.scale.getLabel(t)}}function ik(e,t){return"category"===e.type?e.scale.getLabel(t):t.value}function ak(e){var t=e.model,n=e.scale;if(t.get(["axisLabel","show"])&&!n.isBlank()){var r,o,i=n.getExtent();n instanceof oS?o=n.count():(r=n.getTicks(),o=r.length);var a,s=e.getLabelModel(),l=ok(e),u=1;o>40&&(u=Math.ceil(o/40));for(var c=0;c<o;c+=u){var d=r?r[c]:{value:i[0]+c},f=l(d,c),p=s.getTextRect(f),h=sk(p,s.get("rotate")||0);a?a.union(h):a=h}return a}}function sk(e,t){var n=t*Math.PI/180,r=e.width,o=e.height,i=r*Math.abs(Math.cos(n))+Math.abs(o*Math.sin(n)),a=r*Math.abs(Math.sin(n))+Math.abs(o*Math.cos(n)),s=new Cr(e.x,e.y,i,a);return s}function lk(e){var t=e.get("interval");return null==t?"auto":t}function uk(e){return"category"===e.type&&0===lk(e.getLabelModel())}function ck(e,t){var n={};return K(e.mapDimensionsAll(t),(function(t){n[FC(e,t)]=!0})),ee(n)}function dk(e,t,n){t&&K(ck(t,n),(function(n){var r=t.getApproximateExtent(n);r[0]<e[0]&&(e[0]=r[0]),r[1]>e[1]&&(e[1]=r[1])}))}var fk=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},e.prototype.getCoordSysModel=function(){},e}();function pk(e){return UC(e.getSource(),e)}var hk={isDimensionStacked:BC,enableDataStack:RC,getStackedDimension:FC};function mk(e,t){var n=t;t instanceof sp||(n=new sp(t));var r=nk(n);return r.setExtent(e[0],e[1]),tk(r,n),r}function gk(e){G(e,fk)}function vk(e,t){return t=t||{},Bf(e,null,null,"normal"!==t.state)}var yk=1e-8;function bk(e,t){return Math.abs(e-t)<yk}function xk(e,t,n){var r=0,o=e[0];if(!o)return!1;for(var i=1;i<e.length;i++){var a=e[i];r+=hl(o[0],o[1],a[0],a[1],t,n),o=a}var s=e[0];return bk(o[0],s[0])&&bk(o[1],s[1])||(r+=hl(o[0],o[1],s[0],s[1],t,n)),0!==r}var wk=function(){function e(e,t,n){if(this.name=e,this.geometries=t,n)n=[n[0],n[1]];else{var r=this.getBoundingRect();n=[r.x+r.width/2,r.y+r.height/2]}this.center=n}return e.prototype.getBoundingRect=function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,n=[t,t],r=[-t,-t],o=[],i=[],a=this.geometries,s=0;s<a.length;s++)if("polygon"===a[s].type){var l=a[s].exterior;Ls(l,o,i),nt(n,n,o),rt(r,r,i)}return 0===s&&(n[0]=n[1]=r[0]=r[1]=0),this._rect=new Cr(n[0],n[1],r[0]-n[0],r[1]-n[1])},e.prototype.contain=function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var r=0,o=n.length;r<o;r++)if("polygon"===n[r].type){var i=n[r].exterior,a=n[r].interiors;if(xk(i,e[0],e[1])){for(var s=0;s<(a?a.length:0);s++)if(xk(a[s],e[0],e[1]))continue e;return!0}}return!1},e.prototype.transformTo=function(e,t,n,r){var o=this.getBoundingRect(),i=o.width/o.height;n?r||(r=n/i):n=i*r;for(var a=new Cr(e,t,n,r),s=o.calculateTransform(a),l=this.geometries,u=0;u<l.length;u++)if("polygon"===l[u].type){for(var c=l[u].exterior,d=l[u].interiors,f=0;f<c.length;f++)tt(c[f],c[f],s);for(var p=0;p<(d?d.length:0);p++)for(f=0;f<d[p].length;f++)tt(d[p][f],d[p][f],s)}o=this._rect,o.copy(a),this.center=[o.x+o.width/2,o.y+o.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var n=new e(t,this.geometries,this.center);return n._rect=this._rect,n.transformTo=null,n},e}(),_k=wk;function Ck(e){if(!e.UTF8Encoding)return e;var t=e,n=t.UTF8Scale;null==n&&(n=1024);for(var r=t.features,o=0;o<r.length;o++){var i=r[o],a=i.geometry;if("Polygon"===a.type)for(var s=a.coordinates,l=0;l<s.length;l++)s[l]=Sk(s[l],a.encodeOffsets[l],n);else if("MultiPolygon"===a.type)for(s=a.coordinates,l=0;l<s.length;l++)for(var u=s[l],c=0;c<u.length;c++)u[c]=Sk(u[c],a.encodeOffsets[l][c],n)}return t.UTF8Encoding=!1,t}function Sk(e,t,n){for(var r=[],o=t[0],i=t[1],a=0;a<e.length;a+=2){var s=e.charCodeAt(a)-64,l=e.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),s+=o,l+=i,o=s,i=l,r.push([s/n,l/n])}return r}function kk(e,t){return e=Ck(e),X(Z(e.features,(function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0})),(function(e){var n=e.properties,r=e.geometry,o=[];if("Polygon"===r.type){var i=r.coordinates;o.push({type:"polygon",exterior:i[0],interiors:i.slice(1)})}if("MultiPolygon"===r.type){i=r.coordinates;K(i,(function(e){e[0]&&o.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})}))}var a=new _k(n[t||"name"],o,n.cp);return a.properties=n,a}))}function Ok(e,t,n,r,o,i,a,s){$g("getTextRect is deprecated.");var l=new uu({style:{text:e,font:t,align:n,verticalAlign:r,padding:o,rich:i,overflow:a?"truncate":null,lineHeight:s}});return l.getBoundingRect()}var Tk=Ki();function Mk(e){return"category"===e.type?Ik(e):Lk(e)}function Dk(e,t){return"category"===e.type?Ak(e,t):{ticks:X(e.scale.getTicks(),(function(e){return e.value}))}}function Ik(e){var t=e.getLabelModel(),n=Ek(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function Ek(e,t){var n,r,o=jk(e,"labels"),i=lk(t),a=Nk(o,i);return a||(ie(i)?n=Vk(e,i):(r="auto"===i?Rk(e):i,n=zk(e,r)),Pk(o,i,{labels:n,labelCategoryInterval:r}))}function Ak(e,t){var n,r,o=jk(e,"ticks"),i=lk(t),a=Nk(o,i);if(a)return a;if(t.get("show")&&!e.scale.isBlank()||(n=[]),ie(i))n=Vk(e,i,!0);else if("auto"===i){var s=Ek(e,e.getLabelModel());r=s.labelCategoryInterval,n=X(s.labels,(function(e){return e.tickValue}))}else r=i,n=zk(e,r,!0);return Pk(o,i,{ticks:n,tickCategoryInterval:r})}function Lk(e){var t=e.scale.getTicks(),n=ok(e);return{labels:X(t,(function(t,r){return{formattedLabel:n(t,r),rawLabel:e.scale.getLabel(t),tickValue:t.value}}))}}function jk(e,t){return Tk(e)[t]||(Tk(e)[t]=[])}function Nk(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function Pk(e,t,n){return e.push({key:t,value:n}),n}function Rk(e){var t=Tk(e).autoInterval;return null!=t?t:Tk(e).autoInterval=e.calculateCategoryInterval()}function Bk(e){var t=Fk(e),n=ok(e),r=(t.axisRotate-t.labelRotate)/180*Math.PI,o=e.scale,i=o.getExtent(),a=o.count();if(i[1]-i[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=i[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),c=Math.abs(u*Math.cos(r)),d=Math.abs(u*Math.sin(r)),f=0,p=0;l<=i[1];l+=s){var h=0,m=0,g=Ir(n({value:l}),t.font,"center","top");h=1.3*g.width,m=1.3*g.height,f=Math.max(f,h,7),p=Math.max(p,m,7)}var v=f/c,y=p/d;isNaN(v)&&(v=1/0),isNaN(y)&&(y=1/0);var b=Math.max(0,Math.floor(Math.min(v,y))),x=Tk(e.model),w=e.getExtent(),_=x.lastAutoInterval,C=x.lastTickCount;return null!=_&&null!=C&&Math.abs(_-b)<=1&&Math.abs(C-a)<=1&&_>b&&x.axisExtent0===w[0]&&x.axisExtent1===w[1]?b=_:(x.lastTickCount=a,x.lastAutoInterval=b,x.axisExtent0=w[0],x.axisExtent1=w[1]),b}function Fk(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function zk(e,t,n){var r=ok(e),o=e.scale,i=o.getExtent(),a=e.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=i[0],c=o.count();0!==u&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var d=uk(e),f=a.get("showMinLabel")||d,p=a.get("showMaxLabel")||d;f&&u!==i[0]&&m(i[0]);for(var h=u;h<=i[1];h+=l)m(h);function m(e){var t={value:e};s.push(n?e:{formattedLabel:r(t),rawLabel:o.getLabel(t),tickValue:e})}return p&&h-l!==i[1]&&m(i[1]),s}function Vk(e,t,n){var r=e.scale,o=ok(e),i=[];return K(r.getTicks(),(function(e){var a=r.getLabel(e),s=e.value;t(e.value,a)&&i.push(n?s:{formattedLabel:o(e),rawLabel:a,tickValue:s})})),i}var Hk=[0,1],Uk=function(){function e(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return e.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=n&&e<=r},e.prototype.containData=function(e){return this.scale.contain(e)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(e){return li(e||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},e.prototype.dataToCoord=function(e,t){var n=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&"ordinal"===r.type&&(n=n.slice(),$k(n,r.count())),ni(e,Hk,n,t)},e.prototype.coordToData=function(e,t){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&(n=n.slice(),$k(n,r.count()));var o=ni(e,n,Hk,t);return this.scale.scale(o)},e.prototype.pointToData=function(e,t){},e.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),n=Dk(this,t),r=n.ticks,o=X(r,(function(e){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(e):e),tickValue:e}}),this),i=t.get("alignWithLabel");return qk(this,o,i,e.clamp),o},e.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var n=this.scale.getMinorTicks(t),r=X(n,(function(e){return X(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this);return r},e.prototype.getViewLabels=function(){return Mk(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/n},e.prototype.calculateCategoryInterval=function(){return Bk(this)},e}();function $k(e,t){var n=e[1]-e[0],r=t,o=n/r/2;e[0]+=o,e[1]-=o}function qk(e,t,n,r){var o=t.length;if(e.onBand&&!n&&o){var i,a,s=e.getExtent();if(1===o)t[0].coord=s[0],i=t[1]={coord:s[0]};else{var l=t[o-1].tickValue-t[0].tickValue,u=(t[o-1].coord-t[0].coord)/l;K(t,(function(e){e.coord-=u/2}));var c=e.scale.getExtent();a=1+c[1]-t[o-1].tickValue,i={coord:t[o-1].coord+u*a},t.push(i)}var d=s[0]>s[1];f(t[0].coord,s[0])&&(r?t[0].coord=s[0]:t.shift()),r&&f(s[0],t[0].coord)&&t.unshift({coord:s[0]}),f(s[1],i.coord)&&(r?i.coord=s[1]:t.pop()),r&&f(i.coord,s[1])&&t.push({coord:s[1]})}function f(e,t){return e=oi(e),t=oi(t),d?e>t:e<t}}var Wk=Uk;function Gk(e){var t=Nh.extend(e);return Nh.registerClass(t),t}function Yk(e){var t=Yv.extend(e);return Yv.registerClass(t),t}function Kk(e){var t=Wv.extend(e);return Wv.registerClass(t),t}function Xk(e){var t=oy.extend(e);return oy.registerClass(t),t}function Jk(){return!1}function Zk(e,t,n){var r=$(),o=t.getWidth(),i=t.getHeight(),a=r.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=o+"px",a.height=i+"px",r.setAttribute("data-zr-dom-id",e)),r.width=o*n,r.height=i*n,r}var Qk=function(e){function t(t,n,r){var o,i=e.call(this)||this;i.motionBlur=!1,i.lastFrameAlpha=.7,i.dpr=1,i.virtual=!1,i.config={},i.incremental=!1,i.zlevel=0,i.maxRepaintRectCount=5,i.__dirty=!0,i.__firstTimePaint=!0,i.__used=!1,i.__drawIndex=0,i.__startIndex=0,i.__endIndex=0,i.__prevStartIndex=null,i.__prevEndIndex=null,r=r||Rr,"string"===typeof t?o=Zk(t,n,r):ue(t)&&(o=t,t=o.id),i.id=t,i.dom=o;var a=o.style;return a&&(o.onselectstart=Jk,a.webkitUserSelect="none",a.userSelect="none",a.webkitTapHighlightColor="rgba(0,0,0,0)",a["-webkit-touch-callout"]="none",a.padding="0",a.margin="0",a.borderWidth="0"),i.domBack=null,i.ctxBack=null,i.painter=n,i.config=null,i.dpr=r,i}return g(t,e),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=Zk("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,t,n,r){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o,i=[],a=this.maxRepaintRectCount,s=!1,l=new Cr(0,0,0,0);function u(e){if(e.isFinite()&&!e.isZero())if(0===i.length){var t=new Cr(0,0,0,0);t.copy(e),i.push(t)}else{for(var n=!1,r=1/0,o=0,u=0;u<i.length;++u){var c=i[u];if(c.intersect(e)){var d=new Cr(0,0,0,0);d.copy(c),d.union(e),i[u]=d,n=!0;break}if(s){l.copy(e),l.union(c);var f=e.width*e.height,p=c.width*c.height,h=l.width*l.height,m=h-f-p;m<r&&(r=m,o=u)}}if(s&&(i[o].union(e),n=!0),!n){t=new Cr(0,0,0,0);t.copy(e),i.push(t)}s||(s=i.length>=a)}}for(var c=this.__startIndex;c<this.__endIndex;++c){var d=e[c];if(d){var f=d.shouldBePainted(n,r,!0,!0),p=d.__isRendered&&(d.__dirty&Qr.REDARAW_BIT||!f)?d.getPrevPaintRect():null;p&&u(p);var h=f&&(d.__dirty&Qr.REDARAW_BIT||!d.__isRendered)?d.getPaintRect():null;h&&u(h)}}for(c=this.__prevStartIndex;c<this.__prevEndIndex;++c){d=t[c],f=d.shouldBePainted(n,r,!0,!0);if(d&&(!f||!d.__zr)&&d.__isRendered){p=d.getPrevPaintRect();p&&u(p)}}do{o=!1;for(c=0;c<i.length;)if(i[c].isZero())i.splice(c,1);else{for(var m=c+1;m<i.length;)i[c].intersect(i[m])?(o=!0,i[c].union(i[m]),i.splice(m,1)):m++;c++}}while(o);return this._paintRects=i,i},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,t){var n=this.dpr,r=this.dom,o=r.style,i=this.domBack;o&&(o.width=e+"px",o.height=t+"px"),r.width=e*n,r.height=t*n,i&&(i.width=e*n,i.height=t*n,1!==n&&this.ctxBack.scale(n,n))},t.prototype.clear=function(e,t,n){var r=this.dom,o=this.ctx,i=r.width,a=r.height;t=t||this.clearColor;var s=this.motionBlur&&!e,l=this.lastFrameAlpha,u=this.dpr,c=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,i/u,a/u));var d=this.domBack;function f(e,n,r,i){if(o.clearRect(e,n,r,i),t&&"transparent"!==t){var a=void 0;pe(t)?(a=t.__canvasGradient||ax(o,t,{x:0,y:0,width:r,height:i}),t.__canvasGradient=a):he(t)&&(a=hx(o,t,{dirty:function(){c.setUnpainted(),c.__painter.refresh()}})),o.save(),o.fillStyle=a||t,o.fillRect(e,n,r,i),o.restore()}s&&(o.save(),o.globalAlpha=l,o.drawImage(d,e,n,r,i),o.restore())}!n||s?f(0,0,i,a):n.length&&K(n,(function(e){f(e.x*u,e.y*u,e.width*u,e.height*u)}))},t}(lt),eO=Qk,tO=1e5,nO=314159,rO=.01,oO=.001;function iO(e){return parseInt(e,10)}function aO(e){return!!e&&(!!e.__builtin__||"function"===typeof e.resize&&"function"===typeof e.refresh)}function sO(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var lO=function(){function e(e,t,n,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=H({},n||{}),this.dpr=n.devicePixelRatio||Rr,this._singleCanvas=o,this.root=e;var i=e.style;i&&(i.webkitTapHighlightColor="transparent",i.webkitUserSelect="none",i.userSelect="none",i["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var a=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(o){var l=e,u=l.width,c=l.height;null!=n.width&&(u=n.width),null!=n.height&&(c=n.height),this.dpr=n.devicePixelRatio||1,l.width=u*this.dpr,l.height=c*this.dpr,this._width=u,this._height=c;var d=new eO(l,this,this.dpr);d.__builtin__=!0,d.initContext(),s[nO]=d,d.zlevel=nO,a.push(nO),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var f=this._domRoot=sO(this._width,this._height);e.appendChild(f)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,e,this._redrawId);for(var o=0;o<r.length;o++){var i=r[o],a=this._layers[i];if(!a.__builtin__&&a.refresh){var s=0===o?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(e){var t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){for(var r,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},i=0;i<t;i++){var a=e[i];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(tO)),r||(r=n.ctx,r.save()),Nx(r,a,o,i===t-1))}r&&r.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(tO)},e.prototype.paintOne=function(e,t){jx(e,t)},e.prototype._paintList=function(e,t,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(e);var o=this._doPaintList(e,t,n),i=o.finished,a=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(e),i)this.eachLayer((function(e){e.afterBrush&&e.afterBrush()}));else{var s=this;vo((function(){s._paintList(e,t,n,r)}))}}},e.prototype._compositeManually=function(){var e=this.getLayer(nO).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer((function(r){r.virtual&&e.drawImage(r.dom,0,0,t,n)}))},e.prototype._doPaintList=function(e,t,n){for(var r=this,o=[],i=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var s=this._zlevelList[a],l=this._layers[s];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||n)&&o.push(l)}for(var u=!0,c=!1,d=function(a){var s=o[a],l=s.ctx,d=i&&s.createRepaintRects(e,t,f._width,f._height);l.save();var p,h=n?s.__startIndex:s.__drawIndex,m=!n&&s.incremental&&Date.now,g=m&&Date.now(),v=s.zlevel===f._zlevelList[0]?f._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,v,d);else if(h===s.__startIndex){var y=e[h];y.incremental&&y.notClear&&!n||s.clear(!1,v,d)}-1===h&&(h=s.__startIndex);var b=function(t){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(p=h;p<s.__endIndex;p++){var o=e[p];if(o.__inHover&&(c=!0),r._doPaintEl(o,s,i,t,n,p===s.__endIndex-1),m){var a=Date.now()-g;if(a>15)break}}n.prevElClipPaths&&l.restore()};if(d)if(0===d.length)p=s.__endIndex;else for(var x=f.dpr,w=0;w<d.length;++w){var _=d[w];l.save(),l.beginPath(),l.rect(_.x*x,_.y*x,_.width*x,_.height*x),l.clip(),b(_),l.restore()}else l.save(),b(),l.restore();s.__drawIndex=p,s.__drawIndex<s.__endIndex&&(u=!1)},f=this,p=0;p<o.length;p++)d(p);return C.wxa&&K(this._layers,(function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()})),{finished:u,needsRefreshHover:c}},e.prototype._doPaintEl=function(e,t,n,r,o,i){var a=t.ctx;if(n){var s=e.getPaintRect();(!r||s&&s.intersect(r))&&(Nx(a,e,o,i),e.setPrevPaintRect(s))}else Nx(a,e,o,i)},e.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=nO);var n=this._layers[e];return n||(n=new eO("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?z(n,this._layerConfig[e],!0):this._layerConfig[e-rO]&&z(n,this._layerConfig[e-rO],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},e.prototype.insertLayer=function(e,t){var n=this._layers,r=this._zlevelList,o=r.length,i=this._domRoot,a=null,s=-1;if(n[e])B("ZLevel "+e+" has been used already");else if(aO(t)){if(o>0&&e>r[0]){for(s=0;s<o-1;s++)if(r[s]<e&&r[s+1]>e)break;a=n[r[s]]}if(r.splice(s+1,0,e),n[e]=t,!t.virtual)if(a){var l=a.dom;l.nextSibling?i.insertBefore(t.dom,l.nextSibling):i.appendChild(t.dom)}else i.firstChild?i.insertBefore(t.dom,i.firstChild):i.appendChild(t.dom);t.__painter=this}else B("Layer of zlevel "+e+" is not valid")},e.prototype.eachLayer=function(e,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var o=n[r];e.call(t,this._layers[o],o)}},e.prototype.eachBuiltinLayer=function(e,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var o=n[r],i=this._layers[o];i.__builtin__&&e.call(t,i,o)}},e.prototype.eachOtherLayer=function(e,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var o=n[r],i=this._layers[o];i.__builtin__||e.call(t,i,o)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(e){function t(e){a&&(a.__endIndex!==e&&(a.__dirty=!0),a.__endIndex=e)}if(this.eachBuiltinLayer((function(e,t){e.__dirty=e.__used=!1})),this._singleCanvas)for(var n=1;n<e.length;n++){var r=e[n];if(r.zlevel!==e[n-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var o,i,a=null,s=0;for(i=0;i<e.length;i++){r=e[i];var l=r.zlevel,u=void 0;o!==l&&(o=l,s=0),r.incremental?(u=this.getLayer(l+oO,this._needsManuallyCompositing),u.incremental=!0,s=1):u=this.getLayer(l+(s>0?rO:0),this._needsManuallyCompositing),u.__builtin__||B("ZLevel "+l+" has been used by unkown layer "+u.id),u!==a&&(u.__used=!0,u.__startIndex!==i&&(u.__dirty=!0),u.__startIndex=i,u.incremental?u.__drawIndex=-1:u.__drawIndex=i,t(i),a=u),r.__dirty&Qr.REDARAW_BIT&&!r.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=i))}t(i),this.eachBuiltinLayer((function(e,t){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)}))},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(e){e.clear()},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e,K(this._layers,(function(e){e.setUnpainted()}))},e.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;n[e]?z(n[e],t,!0):n[e]=t;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];if(o===e||o===e+rO){var i=this._layers[o];z(i,n[e],!0)}}}},e.prototype.delLayer=function(e){var t=this._layers,n=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],n.splice(q(n,e),1))},e.prototype.resize=function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts;if(null!=e&&(r.width=e),null!=t&&(r.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||t!==this._height){for(var o in n.style.width=e+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(nO).resize(e,t)}return this},e.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[nO].dom;var t=new eO("image",this,e.pixelRatio||this.dpr),n=t.ctx;if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,o=t.dom.height,i=t.ctx;this.eachLayer((function(e){e.__builtin__?i.drawImage(e.dom,0,0,r,o):e.renderToCanvas&&(t.ctx.save(),e.renderToCanvas(t.ctx),t.ctx.restore())}))}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];Nx(n,c,a,l===u-1)}return t.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype._getSize=function(e){var t=this._opts,n=["width","height"][e],r=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],i=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[r]||iO(s[n])||iO(a.style[n]))-(iO(s[o])||0)-(iO(s[i])||0)|0},e.prototype.pathToImage=function(e,t){t=t||this.dpr;var n=document.createElement("canvas"),r=n.getContext("2d"),o=e.getBoundingRect(),i=e.style,a=i.shadowBlur*t,s=i.shadowOffsetX*t,l=i.shadowOffsetY*t,u=e.hasStroke()?i.lineWidth:0,c=Math.max(u/2,-s+a),d=Math.max(u/2,s+a),f=Math.max(u/2,-l+a),p=Math.max(u/2,l+a),h=o.width+c+d,m=o.height+f+p;n.width=h*t,n.height=m*t,r.scale(t,t),r.clearRect(0,0,h,m),r.dpr=t;var g={x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY,rotation:e.rotation,originX:e.originX,originY:e.originY};e.x=c-o.x,e.y=f-o.y,e.rotation=0,e.scaleX=1,e.scaleY=1,e.updateTransform(),e&&Nx(r,e,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var v=new zl({style:{x:0,y:0,image:n}});return H(e,g),v},e}(),uO=lO;function cO(e){e.registerPainter("canvas",uO)}function dO(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function fO(e,t,n){n||(n=function(e,t){return e===t}),e=e.slice(),t=t.slice();var r=t.length,o=e.length,i=1,a=r+o,s=[{newPos:-1,components:[]}],l=pO(s[0],t,e,0,n);if(s[0].newPos+1>=r&&l+1>=o){for(var u=[],c=0;c<t.length;c++)u.push(c);return[{indices:u,count:t.length,added:!1,removed:!1}]}function d(){for(var a=-1*i;a<=i;a+=2){var l,u=s[a-1],c=s[a+1],d=(c?c.newPos:0)-a;u&&(s[a-1]=void 0);var f=u&&u.newPos+1<r,p=c&&0<=d&&d<o;if(f||p){if(!f||p&&u.newPos<c.newPos?(l=gO(c),hO(l.components,!1,!0)):(l=u,l.newPos++,hO(l.components,!0,!1)),d=pO(l,t,e,a,n),l.newPos+1>=r&&d+1>=o)return mO(l.components);s[a]=l}else s[a]=void 0}i++}while(i<=a){var f=d();if(f)return f}}function pO(e,t,n,r,o){var i=t.length,a=n.length,s=e.newPos,l=s-r,u=0;while(s+1<i&&l+1<a&&o(t[s+1],n[l+1]))s++,l++,u++;return u&&e.components.push({count:u,added:!1,removed:!1,indices:[]}),e.newPos=s,l}function hO(e,t,n){var r=e[e.length-1];r&&r.added===t&&r.removed===n?e[e.length-1]={count:r.count+1,added:t,removed:n,indices:[]}:e.push({count:1,added:t,removed:n,indices:[]})}function mO(e){for(var t=0,n=e.length,r=0,o=0;t<n;t++){var i=e[t];if(i.removed){for(s=o;s<o+i.count;s++)i.indices.push(s);o+=i.count}else{for(var a=[],s=r;s<r+i.count;s++)a.push(s);i.indices=a,r+=i.count,i.added||(o+=i.count)}}return e}function gO(e){return{newPos:e.newPos,components:e.components.slice(0)}}function vO(e,t,n){return fO(e,t,n)}var yO="none",bO=Math.round,xO=Math.sin,wO=Math.cos,_O=Math.PI,CO=2*Math.PI,SO=180/_O,kO=1e-4;function OO(e){return bO(1e3*e)/1e3}function TO(e){return bO(1e4*e)/1e4}function MO(e){return e<kO&&e>-kO}function DO(e){var t=e.fill;return null!=t&&t!==yO}function IO(e){var t=e.stroke;return null!=t&&t!==yO}function EO(e,t){t&&AO(e,"transform","matrix("+OO(t[0])+","+OO(t[1])+","+OO(t[2])+","+OO(t[3])+","+TO(t[4])+","+TO(t[5])+")")}function AO(e,t,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&e.setAttribute(t,n)}function LO(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function jO(e,t,n){e.setAttributeNS("http://www.w3.org/XML/1998/namespace",t,n)}function NO(e,t,n){var r=null==t.opacity?1:t.opacity;if(n instanceof zl)e.style.opacity=r+"";else{if(DO(t)){var o=t.fill;o="transparent"===o?yO:o,AO(e,"fill",o),AO(e,"fill-opacity",(null!=t.fillOpacity?t.fillOpacity*r:r)+"")}else AO(e,"fill",yO);if(IO(t)){var i=t.stroke;i="transparent"===i?yO:i,AO(e,"stroke",i);var a=t.lineWidth,s=t.strokeNoScale?n.getLineScale():1;AO(e,"stroke-width",(s?a/s:0)+""),AO(e,"paint-order",t.strokeFirst?"stroke":"fill"),AO(e,"stroke-opacity",(null!=t.strokeOpacity?t.strokeOpacity*r:r)+"");var l=t.lineDash&&a>0&&lx(t.lineDash,a);if(l){var u=t.lineDashOffset;s&&1!==s&&(l=X(l,(function(e){return e/s})),u&&(u/=s,u=bO(u))),AO(e,"stroke-dasharray",l.join(",")),AO(e,"stroke-dashoffset",(u||0)+"")}else AO(e,"stroke-dasharray","");t.lineCap&&AO(e,"stroke-linecap",t.lineCap),t.lineJoin&&AO(e,"stroke-linejoin",t.lineJoin),t.miterLimit&&AO(e,"stroke-miterlimit",t.miterLimit+"")}else AO(e,"stroke",yO)}}var PO=function(){function e(){}return e.prototype.reset=function(){this._d=[],this._str=""},e.prototype.moveTo=function(e,t){this._add("M",e,t)},e.prototype.lineTo=function(e,t){this._add("L",e,t)},e.prototype.bezierCurveTo=function(e,t,n,r,o,i){this._add("C",e,t,n,r,o,i)},e.prototype.quadraticCurveTo=function(e,t,n,r){this._add("Q",e,t,n,r)},e.prototype.arc=function(e,t,n,r,o,i){this.ellipse(e,t,n,n,0,r,o,i)},e.prototype.ellipse=function(e,t,n,r,o,i,a,s){var l=0===this._d.length,u=a-i,c=!s,d=Math.abs(u),f=MO(d-CO)||(c?u>=CO:-u>=CO),p=u>0?u%CO:u%CO+CO,h=!1;h=!!f||!MO(d)&&p>=_O===!!c;var m=TO(e+n*wO(i)),g=TO(t+r*xO(i));f&&(u=c?CO-1e-4:1e-4-CO,h=!0,l&&this._d.push("M",m,g));var v=TO(e+n*wO(i+u)),y=TO(t+r*xO(i+u));if(isNaN(m)||isNaN(g)||isNaN(n)||isNaN(r)||isNaN(o)||isNaN(SO)||isNaN(v)||isNaN(y))return"";this._d.push("A",TO(n),TO(r),bO(o*SO),+h,+c,v,y)},e.prototype.rect=function(e,t,n,r){this._add("M",e,t),this._add("L",e+n,t),this._add("L",e+n,t+r),this._add("L",e,t+r),this._add("L",e,t)},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(e,t,n,r,o,i,a,s,l){this._d.push(e);for(var u=1;u<arguments.length;u++){var c=arguments[u];if(isNaN(c))return void(this._invalid=!0);this._d.push(TO(c))}},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(" "),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),RO={brush:function(e){var t=e.style,n=e.__svgEl;n||(n=dO("path"),e.__svgEl=n),e.path||e.createPathProxy();var r=e.path;e.shapeChanged()&&(r.beginPath(),e.buildPath(r,e.shape),e.pathUpdated());var o=r.getVersion(),i=e,a=i.__svgPathBuilder;(i.__svgPathVersion!==o||!a||e.style.strokePercent<1)&&(a||(a=i.__svgPathBuilder=new PO),a.reset(),r.rebuildPath(a,e.style.strokePercent),a.generateStr(),i.__svgPathVersion=o),AO(n,"d",a.getStr()),NO(n,t,e),EO(n,e.transform)}},BO={brush:function(e){var t=e.style,n=t.image;if(n instanceof HTMLImageElement?n=n.src:n instanceof HTMLCanvasElement&&(n=n.toDataURL()),n){var r=t.x||0,o=t.y||0,i=t.width,a=t.height,s=e.__svgEl;s||(s=dO("image"),e.__svgEl=s),n!==e.__imageSrc&&(LO(s,"href",n),e.__imageSrc=n),AO(s,"width",i+""),AO(s,"height",a+""),AO(s,"x",r+""),AO(s,"y",o+""),NO(s,t,e),EO(s,e.transform)}}},FO={left:"start",right:"end",center:"middle",middle:"middle"};function zO(e,t,n){return"top"===n?e+=t/2:"bottom"===n&&(e-=t/2),e}var VO={brush:function(e){var t=e.style,n=t.text;if(null!=n&&(n+=""),n&&!isNaN(t.x)&&!isNaN(t.y)){var r=e.__svgEl;r||(r=dO("text"),jO(r,"xml:space","preserve"),e.__svgEl=r);var o=t.font||kr,i=r.style;i.font=o,r.textContent=n,NO(r,t,e),EO(r,e.transform);var a=t.x||0,s=zO(t.y||0,Lr(o),t.textBaseline),l=FO[t.textAlign]||t.textAlign;AO(r,"dominant-baseline","central"),AO(r,"text-anchor",l),AO(r,"x",a+""),AO(r,"y",s+"")}}},HO="0",UO="1",$O=function(){function e(e,t,n,r,o){this.nextId=0,this._domName="_dom",this.createElement=dO,this._zrId=e,this._svgRoot=t,this._tagNames="string"===typeof n?[n]:n,this._markLabel=r,o&&(this._domName=o)}return e.prototype.getDefs=function(e){var t=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");if(0===n.length){if(e){var r=t.insertBefore(this.createElement("defs"),t.firstChild);return r.contains||(r.contains=function(e){var t=r.children;if(!t)return!1;for(var n=t.length-1;n>=0;--n)if(t[n]===e)return!0;return!1}),r}return null}return n[0]},e.prototype.doUpdate=function(e,t){if(e){var n=this.getDefs(!1);if(e[this._domName]&&n.contains(e[this._domName]))"function"===typeof t&&t(e);else{var r=this.add(e);r&&(e[this._domName]=r)}}},e.prototype.add=function(e){return null},e.prototype.addDom=function(e){var t=this.getDefs(!0);e.parentNode!==t&&t.appendChild(e)},e.prototype.removeDom=function(e){var t=this.getDefs(!1);t&&e[this._domName]&&(t.removeChild(e[this._domName]),e[this._domName]=null)},e.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var t=[];return K(this._tagNames,(function(n){for(var r=e.getElementsByTagName(n),o=0;o<r.length;o++)t.push(r[o])})),t},e.prototype.markAllUnused=function(){var e=this.getDoms(),t=this;K(e,(function(e){e[t._markLabel]=HO}))},e.prototype.markDomUsed=function(e){e&&(e[this._markLabel]=UO)},e.prototype.markDomUnused=function(e){e&&(e[this._markLabel]=HO)},e.prototype.isDomUnused=function(e){return e&&e[this._markLabel]!==UO},e.prototype.removeUnused=function(){var e=this,t=this.getDefs(!1);if(t){var n=this.getDoms();K(n,(function(n){e.isDomUnused(n)&&t.removeChild(n)}))}},e.prototype.getSvgProxy=function(e){return e instanceof Al?RO:e instanceof zl?BO:e instanceof Nl?VO:RO},e.prototype.getSvgElement=function(e){return e.__svgEl},e}(),qO=$O;function WO(e){return"linear"===e.type}function GO(e){return"radial"===e.type}function YO(e){return e&&("linear"===e.type||"radial"===e.type)}var KO=function(e){function t(t,n){return e.call(this,t,n,["linearGradient","radialGradient"],"__gradient_in_use__")||this}return g(t,e),t.prototype.addWithoutUpdate=function(e,t){if(t&&t.style){var n=this;K(["fill","stroke"],(function(r){var o=t.style[r];if(YO(o)){var i=o,a=n.getDefs(!0),s=void 0;i.__dom?(s=i.__dom,a.contains(i.__dom)||n.addDom(s)):s=n.add(i),n.markUsed(t);var l=s.getAttribute("id");e.setAttribute(r,"url(#"+l+")")}}))}},t.prototype.add=function(e){var t;if(WO(e))t=this.createElement("linearGradient");else{if(!GO(e))return B("Illegal gradient type."),null;t=this.createElement("radialGradient")}return e.id=e.id||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id),this.updateDom(e,t),this.addDom(t),t},t.prototype.update=function(e){if(YO(e)){var t=this;this.doUpdate(e,(function(){var n=e.__dom;if(n){var r=n.tagName,o=e.type;"linear"===o&&"linearGradient"===r||"radial"===o&&"radialGradient"===r?t.updateDom(e,e.__dom):(t.removeDom(e),t.add(e))}}))}},t.prototype.updateDom=function(e,t){if(WO(e))t.setAttribute("x1",e.x+""),t.setAttribute("y1",e.y+""),t.setAttribute("x2",e.x2+""),t.setAttribute("y2",e.y2+"");else{if(!GO(e))return void B("Illegal gradient type.");t.setAttribute("cx",e.x+""),t.setAttribute("cy",e.y+""),t.setAttribute("r",e.r+"")}e.global?t.setAttribute("gradientUnits","userSpaceOnUse"):t.setAttribute("gradientUnits","objectBoundingBox"),t.innerHTML="";for(var n=e.colorStops,r=0,o=n.length;r<o;++r){var i=this.createElement("stop");i.setAttribute("offset",100*n[r].offset+"%");var a=n[r].color;if(a.indexOf("rgba")>-1){var s=En(a)[3],l=Nn(a);i.setAttribute("stop-color","#"+l),i.setAttribute("stop-opacity",s+"")}else i.setAttribute("stop-color",n[r].color);t.appendChild(i)}e.__dom=t},t.prototype.markUsed=function(t){if(t.style){var n=t.style.fill;n&&n.__dom&&e.prototype.markDomUsed.call(this,n.__dom),n=t.style.stroke,n&&n.__dom&&e.prototype.markDomUsed.call(this,n.__dom)}},t}(qO),XO=KO;function JO(e){return e&&(!!e.image||!!e.svgElement)}var ZO=new Gb,QO=function(e){function t(t,n){return e.call(this,t,n,["pattern"],"__pattern_in_use__")||this}return g(t,e),t.prototype.addWithoutUpdate=function(e,t){if(t&&t.style){var n=this;K(["fill","stroke"],(function(r){var o=t.style[r];if(JO(o)){var i=n.getDefs(!0),a=ZO.get(o);a?i.contains(a)||n.addDom(a):a=n.add(o),n.markUsed(t);var s=a.getAttribute("id");e.setAttribute(r,"url(#"+s+")")}}))}},t.prototype.add=function(e){if(JO(e)){var t=this.createElement("pattern");return e.id=null==e.id?this.nextId++:e.id,t.setAttribute("id","zr"+this._zrId+"-pattern-"+e.id),t.setAttribute("x","0"),t.setAttribute("y","0"),t.setAttribute("patternUnits","userSpaceOnUse"),this.updateDom(e,t),this.addDom(t),t}},t.prototype.update=function(e){if(JO(e)){var t=this;this.doUpdate(e,(function(){var n=ZO.get(e);t.updateDom(e,n)}))}},t.prototype.updateDom=function(e,t){var n=e.svgElement;if(n instanceof SVGElement)n.parentNode!==t&&(t.innerHTML="",t.appendChild(n),t.setAttribute("width",e.svgWidth+""),t.setAttribute("height",e.svgHeight+""));else{var r=void 0,o=t.getElementsByTagName("image");if(o.length){if(!e.image)return void t.removeChild(o[0]);r=o[0]}else e.image&&(r=this.createElement("image"));if(r){var i=void 0;if("string"===typeof e.image?i=e.image:e.image instanceof HTMLImageElement?i=e.image.src:e.image instanceof HTMLCanvasElement&&(i=e.image.toDataURL()),i){r.setAttribute("href",i),r.setAttribute("x","0"),r.setAttribute("y","0");var a={dirty:function(){}},s=Oa(i,r,a,(function(e){t.setAttribute("width",e.width+""),t.setAttribute("height",e.height+"")}));s&&s.width&&s.height&&(t.setAttribute("width",s.width+""),t.setAttribute("height",s.height+"")),t.appendChild(r)}}}var l=e.x||0,u=e.y||0,c=(e.rotation||0)/Math.PI*180,d=e.scaleX||1,f=e.scaleY||1,p="translate("+l+", "+u+") rotate("+c+") scale("+d+", "+f+")";t.setAttribute("patternTransform",p),ZO.set(e,t)},t.prototype.markUsed=function(t){t.style&&(JO(t.style.fill)&&e.prototype.markDomUsed.call(this,ZO.get(t.style.fill)),JO(t.style.stroke)&&e.prototype.markDomUsed.call(this,ZO.get(t.style.stroke)))},t}(qO),eT=QO;new vn(50);function tT(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r=e[n];t.push(r.id)}return t.join(",")}function nT(e){var t=e.__clipPaths;return t&&t.length>0}var rT=function(e){function t(t,n){var r=e.call(this,t,n,"clipPath","__clippath_in_use__")||this;return r._refGroups={},r._keyDuplicateCount={},r}return g(t,e),t.prototype.markAllUnused=function(){for(var t in e.prototype.markAllUnused.call(this),this._refGroups)this.markDomUnused(this._refGroups[t]);this._keyDuplicateCount={}},t.prototype._getClipPathGroup=function(e,t){if(nT(e)){var n=e.__clipPaths,r=this._keyDuplicateCount,o=tT(n);return sx(n,t&&t.__clipPaths)&&(r[o]=r[o]||0,r[o]&&(o+="-"+r[o]),r[o]++),this._refGroups[o]||(this._refGroups[o]=this.createElement("g"))}},t.prototype.update=function(e,t){var n=this._getClipPathGroup(e,t);return n&&(this.markDomUsed(n),this.updateDom(n,e.__clipPaths)),n},t.prototype.updateDom=function(e,t){if(t&&t.length>0){var n=this.getDefs(!0),r=t[0],o=void 0,i=void 0;r._dom?(i=r._dom.getAttribute("id"),o=r._dom,n.contains(o)||n.appendChild(o)):(i="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,o=this.createElement("clipPath"),o.setAttribute("id",i),n.appendChild(o),r._dom=o);var a=this.getSvgProxy(r);a.brush(r);var s=this.getSvgElement(r);o.innerHTML="",o.appendChild(s),e.setAttribute("clip-path","url(#"+i+")"),t.length>1&&this.updateDom(o,t.slice(1))}else e&&e.setAttribute("clip-path","none")},t.prototype.markUsed=function(t){var n=this;t.__clipPaths&&K(t.__clipPaths,(function(t){t._dom&&e.prototype.markDomUsed.call(n,t._dom)}))},t.prototype.removeUnused=function(){e.prototype.removeUnused.call(this);var t={};for(var n in this._refGroups){var r=this._refGroups[n];this.isDomUnused(r)?r.parentNode&&r.parentNode.removeChild(r):t[n]=r}this._refGroups=t},t}(qO),oT=rT,iT=function(e){function t(t,n){var r=e.call(this,t,n,["filter"],"__filter_in_use__","_shadowDom")||this;return r._shadowDomMap={},r._shadowDomPool=[],r}return g(t,e),t.prototype._getFromPool=function(){var e=this._shadowDomPool.pop();if(!e){e=this.createElement("filter"),e.setAttribute("id","zr"+this._zrId+"-shadow-"+this.nextId++);var t=this.createElement("feDropShadow");e.appendChild(t),this.addDom(e)}return e},t.prototype.update=function(e,t){var n=t.style;if(sT(n)){var r=lT(t),o=t._shadowDom=this._shadowDomMap[r];o||(o=this._getFromPool(),this._shadowDomMap[r]=o),this.updateDom(e,t,o)}else this.remove(e,t)},t.prototype.remove=function(e,t){null!=t._shadowDom&&(t._shadowDom=null,e.style.filter="")},t.prototype.updateDom=function(e,t,n){var r=n.children[0],o=t.style,i=t.getGlobalScale(),a=i[0],s=i[1];if(a&&s){var l=o.shadowOffsetX||0,u=o.shadowOffsetY||0,c=o.shadowBlur,d=o.shadowColor;r.setAttribute("dx",l/a+""),r.setAttribute("dy",u/s+""),r.setAttribute("flood-color",d);var f=c/2/a,p=c/2/s,h=f+" "+p;r.setAttribute("stdDeviation",h),n.setAttribute("x","-100%"),n.setAttribute("y","-100%"),n.setAttribute("width","300%"),n.setAttribute("height","300%"),t._shadowDom=n;var m=n.getAttribute("id");e.style.filter="url(#"+m+")"}},t.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var t=this._shadowDomPool;for(var n in this._shadowDomMap){var r=this._shadowDomMap[n];t.push(r)}this._shadowDomMap={}}},t}(qO),aT=iT;function sT(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}function lT(e){var t=e.style,n=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function uT(e){return parseInt(e,10)}function cT(e){return e instanceof Al?RO:e instanceof zl?BO:e instanceof Nl?VO:RO}function dT(e,t){return t&&e&&t.parentNode!==e}function fT(e,t,n){if(dT(e,t)&&n){var r=n.nextSibling;r?e.insertBefore(t,r):e.appendChild(t)}}function pT(e,t){if(dT(e,t)){var n=e.firstChild;n?e.insertBefore(t,n):e.appendChild(t)}}function hT(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)}function mT(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function gT(e){return e.__svgEl}var vT=function(){function e(e,t,n,r){this.type="svg",this.refreshHover=yT("refreshHover"),this.pathToImage=yT("pathToImage"),this.configLayer=yT("configLayer"),this.root=e,this.storage=t,this._opts=n=H({},n||{});var o=dO("svg");o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;";var i=dO("g");o.appendChild(i);var a=dO("g");o.appendChild(a),this._gradientManager=new XO(r,a),this._patternManager=new eT(r,a),this._clipPathManager=new oT(r,a),this._shadowManager=new aT(r,a);var s=document.createElement("div");s.style.cssText="overflow:hidden;position:relative",this._svgDom=o,this._svgRoot=a,this._backgroundRoot=i,this._viewport=s,e.appendChild(s),s.appendChild(o),this.resize(n.width,n.height),this._visibleList=[]}return e.prototype.getType=function(){return"svg"},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.getSvgRoot=function(){return this._svgRoot},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.refresh=function(){var e=this.storage.getDisplayList(!0);this._paintList(e)},e.prototype.setBackgroundColor=function(e){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var t=dO("rect");t.setAttribute("width",this.getWidth()),t.setAttribute("height",this.getHeight()),t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("id",0),t.style.fill=e,this._backgroundRoot.appendChild(t),this._backgroundNode=t},e.prototype.createSVGElement=function(e){return dO(e)},e.prototype.paintOne=function(e){var t=cT(e);return t&&t.brush(e),gT(e)},e.prototype._paintList=function(e){var t=this._gradientManager,n=this._patternManager,r=this._clipPathManager,o=this._shadowManager;t.markAllUnused(),n.markAllUnused(),r.markAllUnused(),o.markAllUnused();for(var i=this._svgRoot,a=this._visibleList,s=e.length,l=[],u=0;u<s;u++){var c=e[u],d=cT(c),f=gT(c);c.invisible||(!c.__dirty&&f||(d&&d.brush(c),f=gT(c),f&&c.style&&(t.update(c.style.fill),t.update(c.style.stroke),n.update(c.style.fill),n.update(c.style.stroke),o.update(f,c)),c.__dirty=0),f&&l.push(c))}var p,h,m,g,v=vO(a,l);for(u=0;u<v.length;u++){var y=v[u];if(y.removed)for(var b=0;b<y.count;b++){c=a[y.indices[b]],f=gT(c);nT(c)?mT(f):hT(i,f)}}for(u=0;u<v.length;u++){y=v[u],y.added;if(!y.removed)for(b=0;b<y.count;b++){c=l[y.indices[b]];var x=r.update(c,m);x!==g&&(p=h,x&&(p?fT(i,x,p):pT(i,x),h=x,p=null),g=x);f=gT(c);p?fT(g||i,f,p):pT(g||i,f),p=f||p,g||(h=p),t.markUsed(c),t.addWithoutUpdate(f,c),n.markUsed(c),n.addWithoutUpdate(f,c),r.markUsed(c),m=c}}t.removeUnused(),n.removeUnused(),r.removeUnused(),o.removeUnused(),this._visibleList=l},e.prototype._getDefs=function(e){var t=this._svgDom,n=t.getElementsByTagName("defs");if(0===n.length){if(e){var r=t.insertBefore(dO("defs"),t.firstChild);return r.contains||(r.contains=function(e){var t=r.children;if(!t)return!1;for(var n=t.length-1;n>=0;--n)if(t[n]===e)return!0;return!1}),r}return null}return n[0]},e.prototype.resize=function(e,t){var n=this._viewport;n.style.display="none";var r=this._opts;if(null!=e&&(r.width=e),null!=t&&(r.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||this._height!==t){this._width=e,this._height=t;var o=n.style;o.width=e+"px",o.height=t+"px";var i=this._svgDom;i.setAttribute("width",e+""),i.setAttribute("height",t+"")}this._backgroundNode&&(this._backgroundNode.setAttribute("width",e),this._backgroundNode.setAttribute("height",t))},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype._getSize=function(e){var t=this._opts,n=["width","height"][e],r=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],i=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[r]||uT(s[n])||uT(a.style[n]))-(uT(s[o])||0)-(uT(s[i])||0)|0},e.prototype.dispose=function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},e.prototype.clear=function(){var e=this._viewport;e&&e.parentNode&&e.parentNode.removeChild(e)},e.prototype.toDataURL=function(){this.refresh();var e=this._svgDom,t=e.outerHTML||(e.parentNode&&e.parentNode).innerHTML,n=encodeURIComponent(t.replace(/></g,">\n\r<"));return"data:image/svg+xml;charset=UTF-8,"+n},e}();function yT(e){return function(){B('In SVG mode painter not support method "'+e+'"')}}var bT=vT;function xT(e){e.registerPainter("svg",bT)}var wT=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.legendSymbol="line",n}return g(t,e),t.prototype.getInitialData=function(e){return UC(this.getSource(),this,{useEncodeDefaulter:!0})},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={zlevel:0,z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0,lineStyle:{width:"bolder"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0},t}(Wv),_T=wT;function CT(e,t){var n=e.mapDimensionsAll("defaultedLabel"),r=n.length;if(1===r){var o=Rg(e,t,n[0]);return null!=o?o+"":null}if(r){for(var i=[],a=0;a<n.length;a++)i.push(Rg(e,t,n[a]));return i.join(" ")}}function ST(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!oe(t))return t+"";for(var r=[],o=0;o<n.length;o++){var i=e.getDimensionInfo(n[o]);i&&r.push(t[i.index])}return r.join(" ")}var kT=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i.updateData(t,n,r,o),i}return g(t,e),t.prototype._createSymbol=function(e,t,n,r,o){this.removeAll();var i=rx(e,-1,-1,2,2,null,o);i.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),i.drift=OT,this._symbolType=e,this.add(i)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Gu(this.childAt(0))},t.prototype.downplay=function(){Yu(this.childAt(0))},t.prototype.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},t.prototype.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},t.prototype.updateData=function(e,n,r,o){this.silent=!1;var i=e.getItemVisual(n,"symbol")||"circle",a=e.hostModel,s=t.getSymbolSize(e,n),l=i!==this._symbolType,u=o&&o.disableAnimation;if(l){var c=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(i,e,n,s,c)}else{var d=this.childAt(0);d.silent=!1;var f={scaleX:s[0]/2,scaleY:s[1]/2};u?d.attr(f):hf(d,f,a,n)}if(this._updateCommon(e,n,s,r,o),l){d=this.childAt(0);if(!u){f={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,mf(d,f,a,n)}}u&&this.childAt(0).stopAnimation("remove"),this._seriesModel=a},t.prototype._updateCommon=function(e,t,n,r,o){var i,a,s,l,u,c,d,f,p,h=this.childAt(0),m=e.hostModel;if(r&&(i=r.emphasisItemStyle,a=r.blurItemStyle,s=r.selectItemStyle,l=r.focus,u=r.blurScope,c=r.symbolOffset,d=r.labelStatesModels,f=r.hoverScale,p=r.cursorStyle),!r||e.hasItemOption){var g=r&&r.itemModel?r.itemModel:e.getItemModel(t),v=g.getModel("emphasis");i=v.getModel("itemStyle").getItemStyle(),s=g.getModel(["select","itemStyle"]).getItemStyle(),a=g.getModel(["blur","itemStyle"]).getItemStyle(),l=v.get("focus"),u=v.get("blurScope"),c=g.getShallow("symbolOffset"),d=Rf(g),f=v.getShallow("scale"),p=g.getShallow("cursor")}var y=e.getItemVisual(t,"symbolRotate");h.attr("rotation",(y||0)*Math.PI/180||0),c&&(h.x=ri(c[0],n[0]),h.y=ri(c[1],n[1])),p&&h.attr("cursor",p);var b=e.getItemVisual(t,"style"),x=b.fill;if(h instanceof zl){var w=h.style;h.useStyle(H({image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},b))}else h.__isEmptyBrush?h.useStyle(H({},b)):h.useStyle(b),h.style.decal=null,h.setColor(x,o&&o.symbolInnerColor),h.style.strokeNoScale=!0;var _=e.getItemVisual(t,"liftZ"),C=this._z2;null!=_?null==C&&(this._z2=h.z2,h.z2+=_):null!=C&&(h.z2=C,this._z2=null);var S=o&&o.useNameLabel;function k(t){return S?e.getName(t):CT(e,t)}Pf(h,d,{labelFetcher:m,labelDataIndex:t,defaultText:k,inheritColor:x,defaultOpacity:b.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var O=h.ensureState("emphasis");if(O.style=i,h.ensureState("select").style=s,h.ensureState("blur").style=a,f){var T=Math.max(1.1,3/this._sizeY);O.scaleX=this._sizeX*T,O.scaleY=this._sizeY*T}this.setSymbolScale(1),ac(this,l,u)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,t){var n=this.childAt(0),r=this._seriesModel,o=cu(this).dataIndex,i=t&&t.animation;if(this.silent=n.silent=!0,t&&t.fadeLabel){var a=n.getTextContent();a&&gf(a,{style:{opacity:0}},r,{dataIndex:o,removeOpt:i,cb:function(){n.removeTextContent()}})}else n.removeTextContent();gf(n,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:e,removeOpt:i})},t.getSymbolSize=function(e,t){var n=e.getItemVisual(t,"symbolSize");return n instanceof Array?n.slice():[+n,+n]},t}(Vo);function OT(e,t){this.parent.drift(e,t)}var TT=kT;function MT(e,t,n,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(n,"symbol")}function DT(e){return null==e||ue(e)||(e={isIgnore:e}),e||{}}function IT(e){var t=e.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverScale:n.get("scale"),labelStatesModels:Rf(t),cursorStyle:t.get("cursor")}}var ET=function(){function e(e){this.group=new Vo,this._SymbolCtor=e||TT}return e.prototype.updateData=function(e,t){t=DT(t);var n=this.group,r=e.hostModel,o=this._data,i=this._SymbolCtor,a=t.disableAnimation,s=IT(e),l={disableAnimation:a},u=t.getSymbolPoint||function(t){return e.getItemLayout(t)};o||n.removeAll(),e.diff(o).add((function(r){var o=u(r);if(MT(e,o,r,t)){var a=new i(e,r,s,l);a.setPosition(o),e.setItemGraphicEl(r,a),n.add(a)}})).update((function(c,d){var f=o.getItemGraphicEl(d),p=u(c);if(MT(e,p,c,t)){if(f){f.updateData(e,c,s,l);var h={x:p[0],y:p[1]};a?f.attr(h):hf(f,h,r)}else f=new i(e,c),f.setPosition(p);n.add(f),e.setItemGraphicEl(c,f)}else n.remove(f)})).remove((function(e){var t=o.getItemGraphicEl(e);t&&t.fadeOut((function(){n.remove(t)}))})).execute(),this._getSymbolPoint=u,this._data=e},e.prototype.isPersistent=function(){return!0},e.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl((function(t,n){var r=e._getSymbolPoint(n);t.setPosition(r),t.markRedraw()}))},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=IT(e),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t,n){function r(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}n=DT(n);for(var o=e.start;o<e.end;o++){var i=t.getItemLayout(o);if(MT(t,i,o,n)){var a=new this._SymbolCtor(t,o,this._seriesScope);a.traverse(r),a.setPosition(i),this.group.add(a),t.setItemGraphicEl(o,a)}}},e.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}))})):t.removeAll()},e}(),AT=ET;function LT(e,t,n){var r=e.getBaseAxis(),o=e.getOtherAxis(r),i=jT(o,n),a=r.dim,s=o.dim,l=t.mapDimension(s),u=t.mapDimension(a),c="x"===s||"radius"===s?1:0,d=X(e.dimensions,(function(e){return t.mapDimension(e)})),f=!1,p=t.getCalculationInfo("stackResultDimension");return BC(t,d[0])&&(f=!0,d[0]=p),BC(t,d[1])&&(f=!0,d[1]=p),{dataDimsForPoint:d,valueStart:i,valueAxisDim:s,baseAxisDim:a,stacked:!!f,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function jT(e,t){var n=0,r=e.scale.getExtent();return"start"===t?n=r[0]:"end"===t?n=r[1]:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}function NT(e,t,n,r){var o=NaN;e.stacked&&(o=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(o)&&(o=e.valueStart);var i=e.baseDataOffset,a=[];return a[i]=n.get(e.baseDim,r),a[1-i]=o,t.dataToPoint(a)}var PT="undefined"!==typeof Float32Array,RT=PT?Float32Array:Array;function BT(e){return oe(e)?PT?new Float32Array(e):e:new RT(e)}function FT(e,t){var n=[];return t.diff(e).add((function(e){n.push({cmd:"+",idx:e})})).update((function(e,t){n.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){n.push({cmd:"-",idx:e})})).execute(),n}function zT(e,t,n,r,o,i,a,s){for(var l=FT(e,t),u=[],c=[],d=[],f=[],p=[],h=[],m=[],g=LT(o,t,a),v=LT(i,e,s),y=e.getLayout("points")||[],b=t.getLayout("points")||[],x=0;x<l.length;x++){var w=l[x],_=!0,C=void 0,S=void 0;switch(w.cmd){case"=":C=2*w.idx,S=2*w.idx1;var k=y[C],O=y[C+1],T=b[S],M=b[S+1];(isNaN(k)||isNaN(O))&&(k=T,O=M),u.push(k,O),c.push(T,M),d.push(n[C],n[C+1]),f.push(r[S],r[S+1]),m.push(t.getRawIndex(w.idx1));break;case"+":var D=w.idx,I=g.dataDimsForPoint,E=o.dataToPoint([t.get(I[0],D),t.get(I[1],D)]);S=2*D,u.push(E[0],E[1]),c.push(b[S],b[S+1]);var A=NT(g,o,t,D);d.push(A[0],A[1]),f.push(r[S],r[S+1]),m.push(t.getRawIndex(D));break;case"-":var L=w.idx,j=e.getRawIndex(L),N=v.dataDimsForPoint;if(C=2*L,j!==L){var P=i.dataToPoint([e.get(N[0],L),e.get(N[1],L)]),R=NT(v,i,e,L);u.push(y[C],y[C+1]),c.push(P[0],P[1]),d.push(n[C],n[C+1]),f.push(R[0],R[1]),m.push(j)}else _=!1}_&&(p.push(w),h.push(h.length))}h.sort((function(e,t){return m[e]-m[t]}));var B=u.length,F=BT(B),z=BT(B),V=BT(B),H=BT(B),U=[];for(x=0;x<h.length;x++){var $=h[x],q=2*x,W=2*$;F[q]=u[W],F[q+1]=u[W+1],z[q]=c[W],z[q+1]=c[W+1],V[q]=d[W],V[q+1]=d[W+1],H[q]=f[W],H[q+1]=f[W+1],U[x]=p[$]}return{current:F,next:z,stackedOnCurrent:V,stackedOnNext:H,status:U}}var VT=Math.min,HT=Math.max;function UT(e,t){return isNaN(e)||isNaN(t)}function $T(e,t,n,r,o,i,a,s,l){for(var u,c,d,f,p,h,m=n,g=0;g<r;g++){var v=t[2*m],y=t[2*m+1];if(m>=o||m<0)break;if(UT(v,y)){if(l){m+=i;continue}break}if(m===n)e[i>0?"moveTo":"lineTo"](v,y),d=v,f=y;else{var b=v-u,x=y-c;if(b*b+x*x<.5){m+=i;continue}if(a>0){var w=m+i,_=t[2*w],C=t[2*w+1],S=g+1;if(l)while(UT(_,C)&&S<r)S++,w+=i,_=t[2*w],C=t[2*w+1];var k=.5,O=0,T=0,M=void 0,D=void 0;if(S>=r||UT(_,C))p=v,h=y;else{O=_-u,T=C-c;var I=v-u,E=_-v,A=y-c,L=C-y,j=void 0,N=void 0;"x"===s?(j=Math.abs(I),N=Math.abs(E),p=v-j*a,h=y,M=v+j*a,D=y):"y"===s?(j=Math.abs(A),N=Math.abs(L),p=v,h=y-j*a,M=v,D=y+j*a):(j=Math.sqrt(I*I+A*A),N=Math.sqrt(E*E+L*L),k=N/(N+j),p=v-O*a*(1-k),h=y-T*a*(1-k),M=v+O*a*k,D=y+T*a*k,M=VT(M,HT(_,v)),D=VT(D,HT(C,y)),M=HT(M,VT(_,v)),D=HT(D,VT(C,y)),O=M-v,T=D-y,p=v-O*j/N,h=y-T*j/N,p=VT(p,HT(u,v)),h=VT(h,HT(c,y)),p=HT(p,VT(u,v)),h=HT(h,VT(c,y)),O=v-p,T=y-h,M=v+O*N/j,D=y+T*N/j)}e.bezierCurveTo(d,f,p,h,v,y),d=M,f=D}else e.lineTo(v,y)}u=v,c=y,m+=i}return g}var qT=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),WT=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polyline",n}return g(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new qT},t.prototype.buildPath=function(e,t){var n=t.points,r=0,o=n.length/2;if(t.connectNulls){for(;o>0;o--)if(!UT(n[2*o-2],n[2*o-1]))break;for(;r<o;r++)if(!UT(n[2*r],n[2*r+1]))break}while(r<o)r+=$T(e,n,r,o,o,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},t.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,r,o=this.path,i=o.data,a=al.CMD,s="x"===t,l=[],u=0;u<i.length;){var c=i[u++],d=void 0,f=void 0,p=void 0,h=void 0,m=void 0,g=void 0,v=void 0;switch(c){case a.M:n=i[u++],r=i[u++];break;case a.L:if(d=i[u++],f=i[u++],v=s?(e-n)/(d-n):(e-r)/(f-r),v<=1&&v>=0){var y=s?(f-r)*v+r:(d-n)*v+n;return s?[e,y]:[y,e]}n=d,r=f;break;case a.C:d=i[u++],f=i[u++],p=i[u++],h=i[u++],m=i[u++],g=i[u++];var b=s?ps(n,d,p,m,e,l):ps(r,f,h,g,e,l);if(b>0)for(var x=0;x<b;x++){var w=l[x];if(w<=1&&w>=0){y=s?ds(r,f,h,g,w):ds(n,d,p,m,w);return s?[e,y]:[y,e]}}n=m,r=g;break}}},t}(Al),GT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t}(qT),YT=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polygon",n}return g(t,e),t.prototype.getDefaultShape=function(){return new GT},t.prototype.buildPath=function(e,t){var n=t.points,r=t.stackedOnPoints,o=0,i=n.length/2,a=t.smoothMonotone;if(t.connectNulls){for(;i>0;i--)if(!UT(n[2*i-2],n[2*i-1]))break;for(;o<i;o++)if(!UT(n[2*o],n[2*o+1]))break}while(o<i){var s=$T(e,n,o,i,i,1,t.smooth,a,t.connectNulls);$T(e,r,o+s-1,s,i,-1,t.stackedOnSmooth,a,t.connectNulls),o+=s+1,e.closePath()}},t}(Al);function KT(e,t,n,r,o){var i=e.getArea(),a=i.x,s=i.y,l=i.width,u=i.height,c=n.get(["lineStyle","width"])||2;a-=c/2,s-=c/2,l+=c,u+=c,a=Math.floor(a),l=Math.round(l);var d=new Kl({shape:{x:a,y:s,width:l,height:u}});if(t){var f=e.getBaseAxis(),p=f.isHorizontal(),h=f.inverse;p?(h&&(d.shape.x+=l),d.shape.width=0):(h||(d.shape.y+=u),d.shape.height=0);var m="function"===typeof o?function(e){o(e,d)}:null;mf(d,{shape:{width:l,height:u,x:a,y:s}},n,null,r,m)}return d}function XT(e,t,n){var r=e.getArea(),o=oi(r.r0,1),i=oi(r.r,1),a=new sd({shape:{cx:oi(e.cx,1),cy:oi(e.cy,1),r0:o,r:i,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(t){var s="angle"===e.getBaseAxis().dim;s?a.shape.endAngle=r.startAngle:a.shape.r=o,mf(a,{shape:{endAngle:r.endAngle,r:i}},n)}return a}function JT(e,t,n,r,o){return e?"polar"===e.type?XT(e,t,n):"cartesian2d"===e.type?KT(e,t,n,r,o):null:null}function ZT(e,t){return e.type===t}function QT(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function eM(e){for(var t=1/0,n=1/0,r=-1/0,o=-1/0,i=0;i<e.length;){var a=e[i++],s=e[i++];isNaN(a)||(t=Math.min(a,t),r=Math.max(a,r)),isNaN(s)||(n=Math.min(s,n),o=Math.max(s,o))}return[[t,n],[r,o]]}function tM(e,t){var n=eM(e),r=n[0],o=n[1],i=eM(t),a=i[0],s=i[1];return Math.max(Math.abs(r[0]-a[0]),Math.abs(r[1]-a[1]),Math.abs(o[0]-s[0]),Math.abs(o[1]-s[1]))}function nM(e){return"number"===typeof e?e:e?.5:0}function rM(e,t,n){if(!n.valueDim)return[];for(var r=t.count(),o=BT(2*r),i=0;i<r;i++){var a=NT(n,e,t,i);o[2*i]=a[0],o[2*i+1]=a[1]}return o}function oM(e,t,n){for(var r=t.getBaseAxis(),o="x"===r.dim||"radius"===r.dim?0:1,i=[],a=0,s=[],l=[],u=[];a<e.length-2;a+=2)switch(u[0]=e[a+2],u[1]=e[a+3],l[0]=e[a],l[1]=e[a+1],i.push(l[0],l[1]),n){case"end":s[o]=u[o],s[1-o]=l[1-o],i.push(s[0],s[1]);break;case"middle":var c=(l[o]+u[o])/2,d=[];s[o]=d[o]=c,s[1-o]=l[1-o],d[1-o]=u[1-o],i.push(s[0],s[1]),i.push(d[0],d[1]);break;default:s[o]=l[o],s[1-o]=u[1-o],i.push(s[0],s[1])}return i.push(e[a++],e[a++]),i}function iM(e,t){var n=e.getVisual("visualMeta");if(n&&n.length&&e.count()&&"cartesian2d"===t.type){for(var r,o,i=n.length-1;i>=0;i--){var a=n[i].dimension,s=e.dimensions[a],l=e.getDimensionInfo(s);if(r=l&&l.coordDim,"x"===r||"y"===r){o=n[i];break}}if(o){var u=t.getAxis(r),c=X(o.stops,(function(e){return{offset:0,coord:u.toGlobalCoord(u.dataToCoord(e.value)),color:e.color}})),d=c.length,f=o.outerColors.slice();d&&c[0].coord>c[d-1].coord&&(c.reverse(),f.reverse());var p=10,h=c[0].coord-p,m=c[d-1].coord+p,g=m-h;if(g<.001)return"transparent";K(c,(function(e){e.offset=(e.coord-h)/g})),c.push({offset:d?c[d-1].offset:.5,color:f[1]||"transparent"}),c.unshift({offset:d?c[0].offset:.5,color:f[0]||"transparent"});var v=new Bd(0,0,0,0,c,!0);return v[r]=h,v[r+"2"]=m,v}}}function aM(e,t,n){var r=e.get("showAllSymbol"),o="auto"===r;if(!r||o){var i=n.getAxesByScale("ordinal")[0];if(i&&(!o||!sM(i,t))){var a=t.mapDimension(i.dim),s={};return K(i.getViewLabels(),(function(e){var t=i.scale.getRawOrdinalNumber(e.tickValue);s[t]=1})),function(e){return!s.hasOwnProperty(t.get(a,e))}}}}function sM(e,t){var n=e.getExtent(),r=Math.abs(n[1]-n[0])/e.scale.count();isNaN(r)&&(r=0);for(var o=t.count(),i=Math.max(1,Math.round(o/5)),a=0;a<o;a+=i)if(1.5*TT.getSymbolSize(t,a)[e.isHorizontal()?1:0]>r)return!1;return!0}function lM(e,t){return isNaN(e)||isNaN(t)}function uM(e){for(var t=e.length/2;t>0;t--)if(!lM(e[2*t-2],e[2*t-1]))break;return t-1}function cM(e,t){return[e[2*t],e[2*t+1]]}function dM(e,t,n){for(var r,o,i=e.length/2,a="x"===n?0:1,s=0,l=-1,u=0;u<i;u++)if(o=e[2*u+a],!isNaN(o)&&!isNaN(e[2*u+1-a]))if(0!==u){if(r<=t&&o>=t||r>=t&&o<=t){l=u;break}s=u,r=o}else r=o;return{range:[s,l],t:(t-r)/(o-r)}}function fM(e,t,n,r){if(ZT(t,"cartesian2d")){var o=r.getModel("endLabel"),i=o.get("show"),a=o.get("valueAnimation"),s=r.getData(),l={lastFrameIndex:0},u=i?function(n,r){e._endLabelOnDuring(n,r,s,l,a,o,t)}:null,c=t.getBaseAxis().isHorizontal(),d=KT(t,n,r,(function(){var t=e._endLabel;t&&n&&null!=l.originalX&&t.attr({x:l.originalX,y:l.originalY})}),u);if(!r.get("clip",!0)){var f=d.shape,p=Math.max(f.width,f.height);c?(f.y-=p,f.height+=2*p):(f.x-=p,f.width+=2*p)}return u&&u(1,d),d}return XT(t,n,r)}function pM(e,t){var n=t.getBaseAxis(),r=n.isHorizontal(),o=n.inverse,i=r?o?"right":"left":"center",a=r?"middle":o?"top":"bottom";return{normal:{align:e.get("align")||i,verticalAlign:e.get("verticalAlign")||a}}}var hM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.init=function(){var e=new Vo,t=new AT;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},t.prototype.render=function(e,t,n){var r=this,o=e.coordinateSystem,i=this.group,a=e.getData(),s=e.getModel("lineStyle"),l=e.getModel("areaStyle"),u=a.getLayout("points")||[],c="polar"===o.type,d=this._coordSys,f=this._symbolDraw,p=this._polyline,h=this._polygon,m=this._lineGroup,g=e.get("animation"),v=!l.isEmpty(),y=l.get("origin"),b=LT(o,a,y),x=v&&rM(o,a,b),w=e.get("showSymbol"),_=w&&!c&&aM(e,a,o),C=this._data;C&&C.eachItemGraphicEl((function(e,t){e.__temp&&(i.remove(e),C.setItemGraphicEl(t,null))})),w||f.remove(),i.add(m);var S,k=!c&&e.get("step");o&&o.getArea&&e.get("clip",!0)&&(S=o.getArea(),null!=S.width?(S.x-=.1,S.y-=.1,S.width+=.2,S.height+=.2):S.r0&&(S.r0-=.5,S.r+=.5)),this._clipShapeForSymbol=S,p&&d.type===o.type&&k===this._step?(v&&!h?h=this._newPolygon(u,x):h&&!v&&(m.remove(h),h=this._polygon=null),c||this._initOrUpdateEndLabel(e,o),m.setClipPath(fM(this,o,!1,e)),w&&f.updateData(a,{isIgnore:_,clipShape:S,disableAnimation:!0,getSymbolPoint:function(e){return[u[2*e],u[2*e+1]]}}),QT(this._stackedOnPoints,x)&&QT(this._points,u)||(g?this._doUpdateAnimation(a,x,o,n,k,y):(k&&(u=oM(u,o,k),x&&(x=oM(x,o,k))),p.setShape({points:u}),h&&h.setShape({points:u,stackedOnPoints:x})))):(w&&f.updateData(a,{isIgnore:_,clipShape:S,disableAnimation:!0,getSymbolPoint:function(e){return[u[2*e],u[2*e+1]]}}),g&&this._initSymbolLabelAnimation(a,o,S),k&&(u=oM(u,o,k),x&&(x=oM(x,o,k))),p=this._newPolyline(u),v&&(h=this._newPolygon(u,x)),c||this._initOrUpdateEndLabel(e,o),m.setClipPath(fM(this,o,!0,e)));var O=iM(a,o)||a.getVisual("style")[a.getVisual("drawType")],T=e.get(["emphasis","focus"]),M=e.get(["emphasis","blurScope"]);if(p.useStyle(U(s.getLineStyle(),{fill:"none",stroke:O,lineJoin:"bevel"})),cc(p,e,"lineStyle"),p.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])){var D=p.getState("emphasis").style;D.lineWidth=p.style.lineWidth+1}cu(p).seriesIndex=e.seriesIndex,ac(p,T,M);var I=nM(e.get("smooth")),E=e.get("smoothMonotone"),A=e.get("connectNulls");if(p.setShape({smooth:I,smoothMonotone:E,connectNulls:A}),h){var L=a.getCalculationInfo("stackedOnSeries"),j=0;h.useStyle(U(l.getAreaStyle(),{fill:O,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),L&&(j=nM(L.get("smooth"))),h.setShape({smooth:I,stackedOnSmooth:j,smoothMonotone:E,connectNulls:A}),cc(h,e,"areaStyle"),cu(h).seriesIndex=e.seriesIndex,ac(h,T,M)}var N=function(e){r._changePolyState(e)};a.eachItemGraphicEl((function(e){e&&(e.onHoverStateChange=N)})),this._polyline.onHoverStateChange=N,this._data=a,this._coordSys=o,this._stackedOnPoints=x,this._points=u,this._step=k,this._valueOrigin=y},t.prototype.dispose=function(){},t.prototype.highlight=function(e,t,n,r){var o=e.getData(),i=Yi(o,r);if(this._changePolyState("emphasis"),!(i instanceof Array)&&null!=i&&i>=0){var a=o.getLayout("points"),s=o.getItemGraphicEl(i);if(!s){var l=a[2*i],u=a[2*i+1];if(isNaN(l)||isNaN(u))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u))return;s=new TT(o,i),s.x=l,s.y=u,s.setZ(e.get("zlevel"),e.get("z")),s.__temp=!0,o.setItemGraphicEl(i,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else oy.prototype.highlight.call(this,e,t,n,r)},t.prototype.downplay=function(e,t,n,r){var o=e.getData(),i=Yi(o,r);if(this._changePolyState("normal"),null!=i&&i>=0){var a=o.getItemGraphicEl(i);a&&(a.__temp?(o.setItemGraphicEl(i,null),this.group.remove(a)):a.downplay())}else oy.prototype.downplay.call(this,e,t,n,r)},t.prototype._changePolyState=function(e){var t=this._polygon;Bu(this._polyline,e),t&&Bu(t,e)},t.prototype._newPolyline=function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new WT({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(t),this._polyline=t,t},t.prototype._newPolygon=function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new YT({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,t,n){var r,o,i=t.getBaseAxis(),a=i.inverse;"cartesian2d"===t.type?(r=i.isHorizontal(),o=!1):"polar"===t.type&&(r="angle"===i.dim,o=!0);var s=e.hostModel,l=s.get("animationDuration");"function"===typeof l&&(l=l(null));var u=s.get("animationDelay")||0,c="function"===typeof u?u(null):u;e.eachItemGraphicEl((function(e,i){var s=e;if(s){var d=[e.x,e.y],f=void 0,p=void 0,h=void 0;if(o){var m=n,g=t.pointToCoord(d);r?(f=m.startAngle,p=m.endAngle,h=-g[1]/180*Math.PI):(f=m.r0,p=m.r,h=g[0])}else{var v=n;r?(f=v.x,p=v.x+v.width,h=e.x):(f=v.y+v.height,p=v.y,h=e.y)}var y=p===f?0:(h-f)/(p-f);a&&(y=1-y);var b="function"===typeof u?u(i):l*y+c,x=s.getSymbolPath(),w=x.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,delay:b}),w&&w.animateFrom({style:{opacity:0}},{duration:300,delay:b}),x.disableLabelAnimation=!0}}))},t.prototype._initOrUpdateEndLabel=function(e,t){var n=e.getModel("endLabel");if(n.get("show")){var r=e.getData(),o=this._polyline,i=this._endLabel;i||(i=this._endLabel=new uu({z2:200}),i.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var a=uM(r.getLayout("points"));a>=0&&(Pf(o,Rf(e,"endLabel"),{labelFetcher:e,labelDataIndex:a,defaultText:function(e,t,n){return null!=n?ST(r,n):CT(r,e)},enableTextSetter:!0},pM(n,t)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,t,n,r,o,i,a){var s=this._endLabel,l=this._polyline;if(s){e<1&&null==r.originalX&&(r.originalX=s.x,r.originalY=s.y);var u=n.getLayout("points"),c=n.hostModel,d=c.get("connectNulls"),f=i.get("precision"),p=i.get("distance")||0,h=a.getBaseAxis(),m=h.isHorizontal(),g=h.inverse,v=t.shape,y=g?m?v.x:v.y+v.height:m?v.x+v.width:v.y,b=(m?p:0)*(g?-1:1),x=(m?0:-p)*(g?-1:1),w=m?"x":"y",_=dM(u,y,w),C=_.range,S=C[1]-C[0],k=void 0;if(S>=1){if(S>1&&!d){var O=cM(u,C[0]);s.attr({x:O[0]+b,y:O[1]+x}),o&&(k=c.getRawValue(C[0]))}else{O=l.getPointOn(y,w);O&&s.attr({x:O[0]+b,y:O[1]+x});var T=c.getRawValue(C[0]),M=c.getRawValue(C[1]);o&&(k=ia(n,f,T,M,_.t))}r.lastFrameIndex=C[0]}else{var D=1===e||r.lastFrameIndex>0?C[0]:0;O=cM(u,D);o&&(k=c.getRawValue(D)),s.attr({x:O[0]+b,y:O[1]+x})}o&&Gf(s).setLabelText(k)}},t.prototype._doUpdateAnimation=function(e,t,n,r,o,i){var a=this._polyline,s=this._polygon,l=e.hostModel,u=zT(this._data,e,this._stackedOnPoints,t,this._coordSys,n,this._valueOrigin,i),c=u.current,d=u.stackedOnCurrent,f=u.next,p=u.stackedOnNext;if(o&&(c=oM(u.current,n,o),d=oM(u.stackedOnCurrent,n,o),f=oM(u.next,n,o),p=oM(u.stackedOnNext,n,o)),tM(c,f)>3e3||s&&tM(d,p)>3e3)return a.setShape({points:f}),void(s&&s.setShape({points:f,stackedOnPoints:p}));a.shape.__points=u.current,a.shape.points=c;var h={shape:{points:f}};u.current!==c&&(h.shape.__points=u.next),a.stopAnimation(),hf(a,h,l),s&&(s.setShape({points:c,stackedOnPoints:d}),s.stopAnimation(),hf(s,{shape:{stackedOnPoints:p}},l),a.shape.points!==s.shape.points&&(s.shape.points=a.shape.points));for(var m=[],g=u.status,v=0;v<g.length;v++){var y=g[v].cmd;if("="===y){var b=e.getItemGraphicEl(g[v].idx1);b&&m.push({el:b,ptIdx:v})}}a.animators&&a.animators.length&&a.animators[0].during((function(){s&&s.dirtyShape();for(var e=a.shape.__points,t=0;t<m.length;t++){var n=m[t].el,r=2*m[t].ptIdx;n.x=e[r],n.y=e[r+1],n.markRedraw()}}))},t.prototype.remove=function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(e,r){e.__temp&&(t.remove(e),n.setItemGraphicEl(r,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(oy),mM=hM;function gM(e,t){return{seriesType:e,plan:Kv(),reset:function(e){var n=e.getData(),r=e.coordinateSystem,o=e.pipelineContext,i=t||o.large;if(r){var a=X(r.dimensions,(function(e){return n.mapDimension(e)})).slice(0,2),s=a.length,l=n.getCalculationInfo("stackResultDimension");BC(n,a[0])&&(a[0]=l),BC(n,a[1])&&(a[1]=l);var u=n.getDimensionInfo(a[0]),c=n.getDimensionInfo(a[1]),d=u&&u.index,f=c&&c.index;return s&&{progress:function(e,t){for(var n=e.end-e.start,o=i&&BT(n*s),a=[],l=[],u=e.start,c=0;u<e.end;u++){var p=void 0;if(1===s){var h=t.getByDimIdx(d,u);p=r.dataToPoint(h,null,l)}else a[0]=t.getByDimIdx(d,u),a[1]=t.getByDimIdx(f,u),p=r.dataToPoint(a,null,l);i?(o[c++]=p[0],o[c++]=p[1]):t.setItemLayout(u,p.slice())}i&&t.setLayout("points",o)}}}}}}var vM={average:function(e){for(var t=0,n=0,r=0;r<e.length;r++)isNaN(e[r])||(t+=e[r],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},yM=function(e){return Math.round(e.length/2)};function bM(e){return{seriesType:e,reset:function(e,t,n){var r=e.getData(),o=e.get("sampling"),i=e.coordinateSystem,a=r.count();if(a>10&&"cartesian2d"===i.type&&o){var s=i.getBaseAxis(),l=i.getOtherAxis(s),u=s.getExtent(),c=n.getDevicePixelRatio(),d=Math.abs(u[1]-u[0])*(c||1),f=Math.round(a/d);if(f>1){"lttb"===o&&e.setData(r.lttbDownSample(r.mapDimension(l.dim),1/f));var p=void 0;"string"===typeof o?p=vM[o]:"function"===typeof o&&(p=o),p&&e.setData(r.downSample(r.mapDimension(l.dim),1/f,p,yM))}}}}}function xM(e){e.registerChartView(mM),e.registerSeriesModel(_T),e.registerLayout(gM("line",!0)),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,bM("line"))}var wM=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.getInitialData=function(e,t){return UC(this.getSource(),this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(t.clampData(e)),r=this.getData(),o=r.getLayout("offset"),i=r.getLayout("size"),a=t.getBaseAxis().isHorizontal()?0:1;return n[a]+=o+i/2,n}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Wv);Wv.registerClass(wM);var _M=wM,CM=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.getInitialData=function(){return UC(this.getSource(),this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,n){return n.rect(t.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=fp(_M.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(_M),SM=CM,kM=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return e}(),OM=function(e){function t(t){var n=e.call(this,t)||this;return n.type="sausage",n}return g(t,e),t.prototype.getDefaultShape=function(){return new kM},t.prototype.buildPath=function(e,t){var n=t.cx,r=t.cy,o=Math.max(t.r0||0,0),i=Math.max(t.r,0),a=.5*(i-o),s=o+a,l=t.startAngle,u=t.endAngle,c=t.clockwise,d=Math.cos(l),f=Math.sin(l),p=Math.cos(u),h=Math.sin(u),m=c?u-l<2*Math.PI:l-u<2*Math.PI;m&&(e.moveTo(d*o+n,f*o+r),e.arc(d*s+n,f*s+r,a,-Math.PI+l,l,!c)),e.arc(n,r,i,l,u,!c),e.moveTo(p*i+n,h*i+r),e.arc(p*s+n,h*s+r,a,u-2*Math.PI,u-Math.PI,!c),0!==o&&(e.arc(n,r,o,u,l,c),e.moveTo(d*o+n,h*o+r)),e.closePath()},t}(Al),TM=OM,MM=["itemStyle","borderWidth"],DM=["itemStyle","borderRadius"],IM=[0,0],EM=Math.max,AM=Math.min;function LM(e,t){var n=e.getArea&&e.getArea();if(ZT(e,"cartesian2d")){var r=e.getBaseAxis();if("category"!==r.type||!r.onBand){var o=t.getLayout("bandWidth");r.isHorizontal()?(n.x-=o,n.width+=2*o):(n.y-=o,n.height+=2*o)}}return n}var jM=function(e){function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return g(t,e),t.prototype.render=function(e,t,n,r){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var o=e.get("coordinateSystem");("cartesian2d"===o||"polar"===o)&&(this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n,r))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){this._incrementalRenderLarge(e,t)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,n,r){var o,i=this.group,a=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?o=u.isHorizontal():"polar"===l.type&&(o="angle"===u.dim);var c=e.isAnimationEnabled()?e:null,d=RM(e,l);d&&this._enableRealtimeSort(d,a,n);var f=e.get("clip",!0)||d,p=LM(l,a);i.removeClipPath();var h=e.get("roundCap",!0),m=e.get("showBackground",!0),g=e.getModel("backgroundStyle"),v=g.get("borderRadius")||0,y=[],b=this._backgroundEls,x=r&&r.isInitSort,w=r&&"changeAxisOrder"===r.type;function _(e){var t=FM[l.type](a,e),n=JM(l,o,t);return n.useStyle(g.getItemStyle()),"cartesian2d"===l.type&&n.setShape("r",v),y[e]=n,n}a.diff(s).add((function(t){var n=a.getItemModel(t),r=FM[l.type](a,t,n);if(m&&_(t),a.hasValue(t)){var s=!1;f&&(s=NM[l.type](p,r));var g=PM[l.type](e,a,t,r,o,c,u.model,!1,h);VM(g,a,t,n,r,e,o,"polar"===l.type),x?g.attr({shape:r}):d?BM(d,c,g,r,t,o,!1,!1):mf(g,{shape:r},e,t),a.setItemGraphicEl(t,g),i.add(g),g.ignore=s}})).update((function(t,n){var r=a.getItemModel(t),C=FM[l.type](a,t,r);if(m){var S=void 0;0===b.length?S=_(n):(S=b[n],S.useStyle(g.getItemStyle()),"cartesian2d"===l.type&&S.setShape("r",v),y[t]=S);var k=FM[l.type](a,t),O=XM(o,k,l);hf(S,{shape:O},c,t)}var T=s.getItemGraphicEl(n);if(!a.hasValue(t))return i.remove(T),void(T=null);var M=!1;f&&(M=NM[l.type](p,C),M&&i.remove(T)),T||(T=PM[l.type](e,a,t,C,o,c,u.model,!!T,h)),w||VM(T,a,t,r,C,e,o,"polar"===l.type),x?T.attr({shape:C}):d?BM(d,c,T,C,t,o,!0,w):hf(T,{shape:C},e,t,null),a.setItemGraphicEl(t,T),T.ignore=M,i.add(T)})).remove((function(t){var n=s.getItemGraphicEl(t);n&&yf(n,e,t)})).execute();var C=this._backgroundGroup||(this._backgroundGroup=new Vo);C.removeAll();for(var S=0;S<y.length;++S)C.add(y[S]);i.add(C),this._backgroundEls=y,this._data=a},t.prototype._renderLarge=function(e,t,n){this._clear(),qM(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),qM(t,this.group,!0)},t.prototype._updateLargeClip=function(e){var t=e.get("clip",!0)?JT(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,n){var r=this;if(t.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,n),this._isFirstFrame=!1;else{var i=function(e){var n=t.getItemGraphicEl(e);if(n){var r=n.shape;return(o.isHorizontal()?Math.abs(r.height):Math.abs(r.width))||0}return 0};this._onRendered=function(){r._updateSortWithinSameData(t,i,o,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,t,n){var r=[];return e.each(e.mapDimension(t.dim),(function(e,t){var o=n(t);o=null==o?NaN:o,r.push({dataIndex:t,mappedValue:o,ordinalNumber:e})})),r.sort((function(e,t){return t.mappedValue-e.mappedValue})),{ordinalNumbers:X(r,(function(e){return e.ordinalNumber}))}},t.prototype._isOrderChangedWithinSameData=function(e,t,n){for(var r=n.scale,o=e.mapDimension(n.dim),i=Number.MAX_VALUE,a=0,s=r.getOrdinalMeta().categories.length;a<s;++a){var l=e.rawIndexOf(o,r.getRawOrdinalNumber(a)),u=l<0?Number.MIN_VALUE:t(e.indexOfRawIndex(l));if(u>i)return!0;i=u}return!1},t.prototype._isOrderDifferentInView=function(e,t){for(var n=t.scale,r=n.getExtent(),o=Math.max(0,r[0]),i=Math.min(r[1],n.getOrdinalMeta().categories.length-1);o<=i;++o)if(e.ordinalNumbers[o]!==n.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,t,n,r){if(this._isOrderChangedWithinSameData(e,t,n)){var o=this._dataSort(e,n,t);this._isOrderDifferentInView(o,n)&&(this._removeOnRenderedListener(r),r.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,t,n){var r=t.baseAxis,o=this._dataSort(e,r,(function(n){return e.get(e.mapDimension(t.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",isInitSort:!0,axisId:r.index,sortInfo:o,animation:{duration:0}})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(t){yf(t,e,cu(t).dataIndex)}))):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(oy),NM={cartesian2d:function(e,t){var n=t.width<0?-1:1,r=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var o=e.x+e.width,i=e.y+e.height,a=EM(t.x,e.x),s=AM(t.x+t.width,o),l=EM(t.y,e.y),u=AM(t.y+t.height,i),c=s<a,d=u<l;return t.x=c&&a>o?s:a,t.y=d&&l>i?u:l,t.width=c?0:s-a,t.height=d?0:u-l,n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),c||d},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var r=t.r;t.r=t.r0,t.r0=r}var o=AM(t.r,e.r),i=EM(t.r0,e.r0);t.r=o,t.r0=i;var a=o-i<0;if(n<0){r=t.r;t.r=t.r0,t.r0=r}return a}},PM={cartesian2d:function(e,t,n,r,o,i,a,s,l){var u=new Kl({shape:H({},r),z2:1});if(u.__dataIndex=n,u.name="item",i){var c=u.shape,d=o?"height":"width";c[d]=0}return u},polar:function(e,t,n,r,o,i,a,s,l){var u=r.startAngle<r.endAngle,c=!o&&l?TM:sd,d=new c({shape:U({clockwise:u},r),z2:1});if(d.name="item",i){var f=d.shape,p=o?"r":"endAngle",h={};f[p]=o?0:r.startAngle,h[p]=r[p],(s?hf:mf)(d,{shape:h},i)}return d}};function RM(e,t){var n=e.get("realtimeSort",!0),r=t.getBaseAxis();if(n&&"category"===r.type&&"cartesian2d"===t.type)return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}function BM(e,t,n,r,o,i,a,s){var l,u;i?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(a?hf:mf)(n,{shape:l},t,o,null);var c=t?e.baseAxis.model:null;(a?hf:mf)(n,{shape:u},c,o)}var FM={cartesian2d:function(e,t,n){var r=e.getItemLayout(t),o=n?HM(n,r):0,i=r.width>0?1:-1,a=r.height>0?1:-1;return{x:r.x+i*o/2,y:r.y+a*o/2,width:r.width-i*o,height:r.height-a*o}},polar:function(e,t,n){var r=e.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle}}};function zM(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}function VM(e,t,n,r,o,i,a,s){var l=t.getItemVisual(n,"style");s||e.setShape("r",r.get(DM)||0),e.useStyle(l);var u=r.getShallow("cursor");if(u&&e.attr("cursor",u),!s){var c=a?o.height>0?"bottom":"top":o.width>0?"left":"right",d=Rf(r);Pf(e,d,{labelFetcher:i,labelDataIndex:n,defaultText:CT(i.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:c});var f=e.getTextContent();Yf(f,d,i.getRawValue(n),(function(e){return ST(t,e)}))}var p=r.getModel(["emphasis"]);ac(e,p.get("focus"),p.get("blurScope")),cc(e,r),zM(o)&&(e.style.fill="none",e.style.stroke="none",K(e.states,(function(e){e.style&&(e.style.fill=e.style.stroke="none")})))}function HM(e,t){var n=e.get(MM)||0,r=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),o=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,r,o)}var UM=function(){function e(){}return e}(),$M=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeBar",n}return g(t,e),t.prototype.getDefaultShape=function(){return new UM},t.prototype.buildPath=function(e,t){for(var n=t.points,r=this.__startPoint,o=this.__baseDimIdx,i=0;i<n.length;i+=2)r[o]=n[i+o],e.moveTo(r[0],r[1]),e.lineTo(n[i],n[i+1])},t}(Al);function qM(e,t,n){var r=e.getData(),o=[],i=r.getLayout("valueAxisHorizontal")?1:0;o[1-i]=r.getLayout("valueAxisStart");var a=r.getLayout("largeDataIndices"),s=r.getLayout("barWidth"),l=e.getModel("backgroundStyle"),u=e.get("showBackground",!0);if(u){var c=r.getLayout("largeBackgroundPoints"),d=[];d[1-i]=r.getLayout("backgroundStart");var f=new $M({shape:{points:c},incremental:!!n,silent:!0,z2:0});f.__startPoint=d,f.__baseDimIdx=i,f.__largeDataIndices=a,f.__barWidth=s,KM(f,l,r),t.add(f)}var p=new $M({shape:{points:r.getLayout("largePoints")},incremental:!!n});p.__startPoint=o,p.__baseDimIdx=i,p.__largeDataIndices=a,p.__barWidth=s,t.add(p),YM(p,e,r),cu(p).seriesIndex=e.seriesIndex,e.get("silent")||(p.on("mousedown",WM),p.on("mousemove",WM))}var WM=ly((function(e){var t=this,n=GM(t,e.offsetX,e.offsetY);cu(t).dataIndex=n>=0?n:null}),30,!1);function GM(e,t,n){var r=e.__baseDimIdx,o=1-r,i=e.shape.points,a=e.__largeDataIndices,s=Math.abs(e.__barWidth/2),l=e.__startPoint[o];IM[0]=t,IM[1]=n;for(var u=IM[r],c=IM[1-r],d=u-s,f=u+s,p=0,h=i.length/2;p<h;p++){var m=2*p,g=i[m+r],v=i[m+o];if(g>=d&&g<=f&&(l<=v?c>=l&&c<=v:c>=v&&c<=l))return a[p]}return-1}function YM(e,t,n){var r=n.getVisual("style");e.useStyle(H({},r)),e.style.fill=null,e.style.stroke=r.fill,e.style.lineWidth=n.getLayout("barWidth")}function KM(e,t,n){var r=t.get("borderColor")||t.get("color"),o=t.getItemStyle();e.useStyle(o),e.style.fill=null,e.style.stroke=r,e.style.lineWidth=n.getLayout("barWidth")}function XM(e,t,n){if(ZT(n,"cartesian2d")){var r=t,o=n.getArea();return{x:e?r.x:o.x,y:e?o.y:r.y,width:e?r.width:o.width,height:e?o.height:r.height}}o=n.getArea();var i=t;return{cx:o.cx,cy:o.cy,r0:e?o.r0:i.r0,r:e?o.r:i.r,startAngle:e?i.startAngle:0,endAngle:e?i.endAngle:2*Math.PI}}function JM(e,t,n){var r="polar"===e.type?sd:Kl;return new r({shape:XM(t,n,e),silent:!0,z2:0})}var ZM=jM;function QM(e){e.registerChartView(ZM),e.registerSeriesModel(SM),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,re(bS,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,xS),e.registerVisual({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,bM("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)}))}))}var eD=2*Math.PI,tD=Math.PI/180;function nD(e,t){return kh(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function rD(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.getData(),r=t.mapDimension("value"),o=nD(e,n),i=e.get("center"),a=e.get("radius");oe(a)||(a=[0,a]),oe(i)||(i=[i,i]);var s=ri(o.width,n.getWidth()),l=ri(o.height,n.getHeight()),u=Math.min(s,l),c=ri(i[0],s)+o.x,d=ri(i[1],l)+o.y,f=ri(a[0],u/2),p=ri(a[1],u/2),h=-e.get("startAngle")*tD,m=e.get("minAngle")*tD,g=0;t.each(r,(function(e){!isNaN(e)&&g++}));var v=t.getSum(r),y=Math.PI/(v||g)*2,b=e.get("clockwise"),x=e.get("roseType"),w=e.get("stillShowZeroSum"),_=t.getDataExtent(r);_[0]=0;var C=eD,S=0,k=h,O=b?1:-1;if(t.setLayout({viewRect:o,r:p}),t.each(r,(function(e,n){var r;if(isNaN(e))t.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:c,cy:d,r0:f,r:x?NaN:p});else{r="area"!==x?0===v&&w?y:e*y:eD/g,r<m?(r=m,C-=m):S+=e;var o=k+O*r;t.setItemLayout(n,{angle:r,startAngle:k,endAngle:o,clockwise:b,cx:c,cy:d,r0:f,r:x?ni(e,_,[f,p]):p}),k=o}})),C<eD&&g)if(C<=.001){var T=eD/g;t.each(r,(function(e,n){if(!isNaN(e)){var r=t.getItemLayout(n);r.angle=T,r.startAngle=h+O*n*T,r.endAngle=h+O*(n+1)*T}}))}else y=C/S,k=h,t.each(r,(function(e,n){if(!isNaN(e)){var r=t.getItemLayout(n),o=r.angle===m?m:e*y;r.startAngle=k,r.endAngle=k+O*o,k+=O*o}}))}))}function oD(e){return{seriesType:e,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(n&&n.length){var r=e.getData();r.filterSelf((function(e){for(var t=r.getName(e),o=0;o<n.length;o++)if(!n[o].isSelected(t))return!1;return!0}))}}}}var iD=Math.PI/180;function aD(e,t,n,r,o,i,a,s,l,u){if(!(e.length<2)){for(var c=e.length,d=0;d<c;d++)if("outer"===e[d].position&&"labelLine"===e[d].labelAlignTo){var f=e[d].label.x-u;e[d].linePoints[1][0]+=f,e[d].label.x=u}Db(e,l,l+a)&&h(e)}function p(e){for(var i=e.rB,a=i*i,s=0;s<e.list.length;s++){var l=e.list[s],u=Math.abs(l.label.y-n),c=r+l.len,d=c*c,f=Math.sqrt((1-Math.abs(u*u/a))*d);l.label.x=t+(f+l.len2)*o}}function h(e){for(var i={list:[],maxY:0},a={list:[],maxY:0},s=0;s<e.length;s++)if("none"===e[s].labelAlignTo){var l=e[s],u=l.label.y>n?a:i,c=Math.abs(l.label.y-n);if(c>u.maxY){var d=l.label.x-t-l.len2*o,f=r+l.len,h=d<f?Math.sqrt(c*c/(1-d*d/f/f)):f;u.rB=h,u.maxY=c}u.list.push(l)}p(i),p(a)}}function sD(e,t,n,r,o,i,a,s){for(var l=[],u=[],c=Number.MAX_VALUE,d=-Number.MAX_VALUE,f=0;f<e.length;f++){var p=e[f].label;lD(e[f])||(p.x<t?(c=Math.min(c,p.x),l.push(e[f])):(d=Math.max(d,p.x),u.push(e[f])))}aD(u,t,n,r,1,o,i,a,s,d),aD(l,t,n,r,-1,o,i,a,s,c);for(f=0;f<e.length;f++){var h=e[f];p=h.label;if(!lD(h)){var m=h.linePoints;if(m){var g="edge"===h.labelAlignTo,v=h.rect.width,y=void 0;y=g?p.x<t?m[2][0]-h.labelDistance-a-h.edgeDistance:a+o-h.edgeDistance-m[2][0]-h.labelDistance:p.x<t?p.x-a-h.bleedMargin:a+o-p.x-h.bleedMargin,y<h.rect.width&&(h.label.style.width=y,"edge"===h.labelAlignTo&&(v=y));var b=m[1][0]-m[2][0];g?p.x<t?m[2][0]=a+h.edgeDistance+v+h.labelDistance:m[2][0]=a+o-h.edgeDistance-v-h.labelDistance:(p.x<t?m[2][0]=p.x+h.labelDistance:m[2][0]=p.x-h.labelDistance,m[1][0]=m[2][0]+b),m[1][1]=m[2][1]=p.y}}}}function lD(e){return"center"===e.position}function uD(e){var t,n,r=e.getData(),o=[],i=!1,a=(e.get("minShowLabelAngle")||0)*iD,s=r.getLayout("viewRect"),l=r.getLayout("r"),u=s.width,c=s.x,d=s.y,f=s.height;function p(e){e.ignore=!0}function h(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}r.each((function(e){var s=r.getItemGraphicEl(e),d=s.shape,f=s.getTextContent(),m=s.getTextGuideLine(),g=r.getItemModel(e),v=g.getModel("label"),y=v.get("position")||g.get(["emphasis","label","position"]),b=v.get("distanceToLabelLine"),x=v.get("alignTo"),w=ri(v.get("edgeDistance"),u),_=v.get("bleedMargin"),C=g.getModel("labelLine"),S=C.get("length");S=ri(S,u);var k=C.get("length2");if(k=ri(k,u),Math.abs(d.endAngle-d.startAngle)<a)return K(f.states,p),void(f.ignore=!0);if(h(f)){var O,T,M,D,I=(d.startAngle+d.endAngle)/2,E=Math.cos(I),A=Math.sin(I);t=d.cx,n=d.cy;var L,j="inside"===y||"inner"===y;if("center"===y)O=d.cx,T=d.cy,D="center";else{var N=(j?(d.r+d.r0)/2*E:d.r*E)+t,P=(j?(d.r+d.r0)/2*A:d.r*A)+n;if(O=N+3*E,T=P+3*A,!j){var R=N+E*(S+l-d.r),B=P+A*(S+l-d.r),F=R+(E<0?-1:1)*k,z=B;O="edge"===x?E<0?c+w:c+u-w:F+(E<0?-b:b),T=z,M=[[N,P],[R,B],[F,z]]}D=j?"center":"edge"===x?E>0?"right":"left":E>0?"left":"right"}var V=v.get("rotate");if(L="number"===typeof V?V*(Math.PI/180):V?E<0?-I+Math.PI:-I:0,i=!!L,f.x=O,f.y=T,f.rotation=L,f.setStyle({verticalAlign:"middle"}),j){f.setStyle({align:D});var H=f.states.select;H&&(H.x+=f.x,H.y+=f.y)}else{var U=f.getBoundingRect().clone();U.applyTransform(f.getComputedTransform());var $=(f.style.margin||0)+2.1;U.y-=$/2,U.height+=$,o.push({label:f,labelLine:m,position:y,len:S,len2:k,minTurnAngle:C.get("minTurnAngle"),maxSurfaceAngle:C.get("maxSurfaceAngle"),surfaceNormal:new pr(E,A),linePoints:M,textAlign:D,labelDistance:b,labelAlignTo:x,edgeDistance:w,bleedMargin:_,rect:U})}s.setTextConfig({inside:j})}})),!i&&e.get("avoidLabelOverlap")&&sD(o,t,n,l,u,f,c,d);for(var m=0;m<o.length;m++){var g=o[m],v=g.label,y=g.labelLine,b=isNaN(v.x)||isNaN(v.y);if(v){v.setStyle({align:g.textAlign}),b&&(K(v.states,p),v.ignore=!0);var x=v.states.select;x&&(x.x+=v.x,x.y+=v.y)}if(y){var w=g.linePoints;b||!w?(K(y.states,p),y.ignore=!0):(xb(w,g.minTurnAngle),wb(w,g.surfaceNormal,g.maxSurfaceAngle),y.setShape({points:w}),v.__hostTarget.textGuideLineConfig={anchor:new pr(w[0][0],w[0][1])})}}}function cD(e,t){var n=e.get("borderRadius");return null==n?null:(oe(n)||(n=[n,n]),{innerCornerRadius:jr(n[0],t.r0),cornerRadius:jr(n[1],t.r)})}var dD=function(e){function t(t,n,r){var o=e.call(this)||this;o.z2=2;var i=new xd,a=new uu;return o.setTextGuideLine(i),o.setTextContent(a),o.updateData(t,n,r,!0),o}return g(t,e),t.prototype.updateData=function(e,t,n,r){var o=this,i=e.hostModel,a=e.getItemModel(t),s=a.getModel("emphasis"),l=e.getItemLayout(t),u=H(cD(a.getModel("itemStyle"),l)||{},l);if(r){o.setShape(u);var c=i.getShallow("animationType");"scale"===c?(o.shape.r=l.r0,mf(o,{shape:{r:l.r}},i,t)):null!=n?(o.setShape({startAngle:n,endAngle:n}),mf(o,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},i,t)):(o.shape.endAngle=l.startAngle,hf(o,{shape:{endAngle:l.endAngle}},i,t))}else hf(o,{shape:u},i,t);o.useStyle(e.getItemVisual(t,"style")),cc(o,a);var d=(l.startAngle+l.endAngle)/2,f=i.get("selectedOffset"),p=Math.cos(d)*f,h=Math.sin(d)*f,m=a.getShallow("cursor");m&&o.attr("cursor",m),this._updateLabel(i,e,t),o.ensureState("emphasis").shape=v({r:l.r+(s.get("scale")&&s.get("scaleSize")||0)},cD(s.getModel("itemStyle"),l)),H(o.ensureState("select"),{x:p,y:h,shape:cD(a.getModel(["select","itemStyle"]),l)}),H(o.ensureState("blur"),{shape:cD(a.getModel(["blur","itemStyle"]),l)});var g=o.getTextGuideLine(),y=o.getTextContent();H(g.ensureState("select"),{x:p,y:h}),H(y.ensureState("select"),{x:p,y:h}),ac(this,s.get("focus"),s.get("blurScope"))},t.prototype._updateLabel=function(e,t,n){var r=this,o=t.getItemModel(n),i=o.getModel("labelLine"),a=t.getItemVisual(n,"style"),s=a&&a.fill,l=a&&a.opacity;Pf(r,Rf(o),{labelFetcher:t.hostModel,labelDataIndex:n,inheritColor:s,defaultOpacity:l,defaultText:e.getFormattedLabel(n,"normal")||t.getName(n)});var u=r.getTextContent();r.setTextConfig({position:null,rotation:null}),u.attr({z2:10}),Sb(this,kb(o),{stroke:s,opacity:be(i.get(["lineStyle","opacity"]),l,1)})},t}(sd),fD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return g(t,e),t.prototype.init=function(){var e=new Vo;this._sectorGroup=e},t.prototype.render=function(e,t,n,r){var o,i=e.getData(),a=this._data,s=this.group;if(!a&&i.count()>0){for(var l=i.getItemLayout(0),u=1;isNaN(l&&l.startAngle)&&u<i.count();++u)l=i.getItemLayout(u);l&&(o=l.startAngle)}i.diff(a).add((function(e){var t=new dD(i,e,o);i.setItemGraphicEl(e,t),s.add(t)})).update((function(e,t){var n=a.getItemGraphicEl(t);n.updateData(i,e,o),n.off("click"),s.add(n),i.setItemGraphicEl(e,n)})).remove((function(t){var n=a.getItemGraphicEl(t);yf(n,e,t)})).execute(),uD(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=i)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var n=t.getData(),r=n.getItemLayout(0);if(r){var o=e[0]-r.cx,i=e[1]-r.cy,a=Math.sqrt(o*o+i*i);return a<=r.r&&a>=r.r0}},t.type="pie",t}(oy),pD=fD;function hD(e,t,n){t=oe(t)&&{coordDimensions:t}||H({},t);var r=e.getSource(),o=AC(r,t),i=new TC(o,e);return i.initData(r,n),i}var mD=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},e.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},e.prototype.getItemVisual=function(e,t){var n=this._getDataWithEncodedVisual();return n.getItemVisual(e,t)},e}(),gD=mD,vD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.useColorPaletteOnData=!0,t}return g(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new gD(ne(this.getData,this),ne(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return hD(this,{coordDimensions:["value"],encodeDefaulter:re(Zh,this)})},t.prototype.getDataParams=function(t){var n=this.getData(),r=e.prototype.getDataParams.call(this,t),o=[];return n.each(n.mapDimension("value"),(function(e){o.push(e)})),r.percent=ui(o,t,n.hostModel.get("percentPrecision")),r.$vars.push("percent"),r},t.prototype._defaultLabelLine=function(e){Mi(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={zlevel:0,z:2,legendHoverLink:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Wv),yD=vD;function bD(e){e.registerChartView(pD),e.registerSeriesModel(yD),Vb("pie",e.registerAction),e.registerLayout(re(rD,"pie")),e.registerProcessor(oD("pie"))}var xD=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return g(t,e),t.prototype.getInitialData=function(e,t){return UC(this.getSource(),this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}}},t}(Wv),wD=xD,_D=4,CD=function(){function e(){}return e}(),SD=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.getDefaultShape=function(){return new CD},t.prototype.buildPath=function(e,t){var n=t.points,r=t.size,o=this.symbolProxy,i=o.shape,a=e.getContext?e.getContext():e,s=a&&r[0]<_D;if(s)this._ctx=a;else{this._ctx=null;for(var l=0;l<n.length;){var u=n[l++],c=n[l++];isNaN(u)||isNaN(c)||(this.softClipShape&&!this.softClipShape.contain(u,c)||(i.x=u-r[0]/2,i.y=c-r[1]/2,i.width=r[0],i.height=r[1],o.buildPath(e,i,!0)))}}},t.prototype.afterBrush=function(){var e=this.shape,t=e.points,n=e.size,r=this._ctx;if(r)for(var o=0;o<t.length;){var i=t[o++],a=t[o++];isNaN(i)||isNaN(a)||(this.softClipShape&&!this.softClipShape.contain(i,a)||r.fillRect(i-n[0]/2,a-n[1]/2,n[0],n[1]))}},t.prototype.findDataIndex=function(e,t){for(var n=this.shape,r=n.points,o=n.size,i=Math.max(o[0],4),a=Math.max(o[1],4),s=r.length/2-1;s>=0;s--){var l=2*s,u=r[l]-i/2,c=r[l+1]-a/2;if(e>=u&&t>=c&&e<=u+i&&t<=c+a)return s}return-1},t}(Al),kD=function(){function e(){this.group=new Vo}return e.prototype.isPersistent=function(){return!this._incremental},e.prototype.updateData=function(e,t){this.group.removeAll();var n=new SD({rectHover:!0,cursor:"default"});n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,!1,t),this.group.add(n),this._incremental=null},e.prototype.updateLayout=function(e){if(!this._incremental){var t=e.getLayout("points");this.group.eachChild((function(e){if(null!=e.startIndex){var n=2*(e.endIndex-e.startIndex),r=4*e.startIndex*2;t=new Float32Array(t.buffer,r,n)}e.setShape("points",t)}))}},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>2e6?(this._incremental||(this._incremental=new Kd({silent:!0})),this.group.add(this._incremental)):this._incremental=null},e.prototype.incrementalUpdate=function(e,t,n){var r;this._incremental?(r=new SD,this._incremental.addDisplayable(r,!0)):(r=new SD({rectHover:!0,cursor:"default",startIndex:e.start,endIndex:e.end}),r.incremental=!0,this.group.add(r)),r.setShape({points:t.getLayout("points")}),this._setCommon(r,t,!!this._incremental,n)},e.prototype._setCommon=function(e,t,n,r){var o=t.hostModel;r=r||{};var i=t.getVisual("symbolSize");e.setShape("size",i instanceof Array?i:[i,i]),e.softClipShape=r.clipShape||null,e.symbolProxy=rx(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var a=e.shape.size[0]<_D;e.useStyle(o.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("style"),l=s&&s.fill;if(l&&e.setColor(l),!n){var u=cu(e);u.seriesIndex=o.seriesIndex,e.on("mousemove",(function(t){u.dataIndex=null;var n=e.findDataIndex(t.offsetX,t.offsetY);n>=0&&(u.dataIndex=n+(e.startIndex||0))}))}},e.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},e.prototype._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},e}(),OD=kD,TD=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),o=this._updateSymbolDraw(r,e);o.updateData(r,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var r=e.getData(),o=this._updateSymbolDraw(r,e);o.incrementalPrepareUpdate(r),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,n){var r=e.getData();if(this.group.dirty(),!this._finished||r.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var o=gM("").reset(e,t,n);o.progress&&o.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout(r)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},t.prototype._updateSymbolDraw=function(e,t){var n=this._symbolDraw,r=t.pipelineContext,o=r.large;return n&&o===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=o?new OD:new AT,this._isLargeDraw=o,this.group.removeAll()),this.group.add(n.group),n},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(oy),MD=TD,DD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Nh),ID=DD,ED=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Zi).models[0]},t.type="cartesian2dAxis",t}(Nh);G(ED,fk);var AD={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},LD=z({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},AD),jD=z({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},AD),ND=z({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},jD),PD=U({scale:!0,logBase:10},jD),RD={category:LD,value:jD,time:ND,log:PD},BD={value:1,category:1,time:1,log:1};function FD(e,t,n,r){K(BD,(function(o,i){var a=z(z({},RD[i],!0),r,!0),s=function(e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return o.type=t+"Axis."+i,o}return g(n,e),n.prototype.mergeDefaultAndTheme=function(e,t){var n=Mh(this),r=n?Ih(e):{},o=t.getTheme();z(e,o.get(i+"Axis")),z(e,this.getDefaultOption()),e.type=zD(e),n&&Dh(e,r,n)},n.prototype.optionUpdated=function(){var e=this.option;"category"===e.type&&(this.__ordinalMeta=YC.createByAxisModel(this))},n.prototype.getCategories=function(e){var t=this.option;if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=t+"Axis."+i,n.defaultOption=a,n}(n);e.registerComponentModel(s)})),e.registerSubTypeDefaulter(t+"Axis",zD)}function zD(e){return e.type||(e.data?"category":"value")}var VD=function(){function e(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return e.prototype.getAxis=function(e){return this._axes[e]},e.prototype.getAxes=function(){return X(this._dimList,(function(e){return this._axes[e]}),this)},e.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Z(this.getAxes(),(function(t){return t.scale.type===e}))},e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},e}(),HD=VD,UD=["x","y"];function $D(e){return"interval"===e.type||"time"===e.type}var qD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=UD,t}return g(t,e),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,t=this.getAxis("y").scale;if($D(e)&&$D(t)){var n=e.getExtent(),r=t.getExtent(),o=this.dataToPoint([n[0],r[0]]),i=this.dataToPoint([n[1],r[1]]),a=n[1]-n[0],s=r[1]-r[0];if(a&&s){var l=(i[0]-o[0])/a,u=(i[1]-o[1])/s,c=o[0]-n[0]*l,d=o[1]-r[0]*u,f=this._transform=[l,0,0,u,c,d];this._invTransform=Zt([],f)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.dataToPoint=function(e,t,n){n=n||[];var r=e[0],o=e[1];if(this._transform&&null!=r&&isFinite(r)&&null!=o&&isFinite(o))return tt(n,e,this._transform);var i=this.getAxis("x"),a=this.getAxis("y");return n[0]=i.toGlobalCoord(i.dataToCoord(r)),n[1]=a.toGlobalCoord(a.dataToCoord(o)),n},t.prototype.clampData=function(e,t){var n=this.getAxis("x").scale,r=this.getAxis("y").scale,o=n.getExtent(),i=r.getExtent(),a=n.parse(e[0]),s=r.parse(e[1]);return t=t||[],t[0]=Math.min(Math.max(Math.min(o[0],o[1]),a),Math.max(o[0],o[1])),t[1]=Math.min(Math.max(Math.min(i[0],i[1]),s),Math.max(i[0],i[1])),t},t.prototype.pointToData=function(e,t){if(t=t||[],this._invTransform)return tt(t,e,this._invTransform);var n=this.getAxis("x"),r=this.getAxis("y");return t[0]=n.coordToData(n.toLocalCoord(e[0])),t[1]=r.coordToData(r.toLocalCoord(e[1])),t},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),n=Math.min(e[0],e[1]),r=Math.min(t[0],t[1]),o=Math.max(e[0],e[1])-n,i=Math.max(t[0],t[1])-r;return new Cr(n,r,o,i)},t}(HD),WD=qD,GD=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r)||this;return a.index=0,a.type=o||"value",a.position=i||"bottom",a}return g(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},t.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Wk),YD=GD;function KD(e,t,n){n=n||{};var r=e.coordinateSystem,o=t.axis,i={},a=o.getAxesOnZeroOf()[0],s=o.position,l=a?"onZero":s,u=o.dim,c=r.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],f={left:0,right:1,top:0,bottom:1,onZero:2},p=t.get("offset")||0,h="x"===u?[d[2]-p,d[3]+p]:[d[0]-p,d[1]+p];if(a){var m=a.toGlobalCoord(a.dataToCoord(0));h[f.onZero]=Math.max(Math.min(m,h[1]),h[0])}i.position=["y"===u?h[f[l]]:d[0],"x"===u?h[f[l]]:d[3]],i.rotation=Math.PI/2*("x"===u?0:1);var g={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=g[s],i.labelOffset=a?h[f[s]]-h[f.onZero]:0,t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),ve(n.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var v=t.get(["axisLabel","rotate"]);return i.labelRotate="top"===l?-v:v,i.z2=1,i}function XD(e){return"cartesian2d"===e.get("coordinateSystem")}function JD(e){var t={xAxisModel:null,yAxisModel:null};return K(t,(function(n,r){var o=r.replace(/Model$/,""),i=e.getReferringComponents(o,Zi).models[0];t[r]=i})),t}var ZD=function(){function e(e,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=UD,this._initCartesian(e,t,n),this.model=e}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model),K(n.x,(function(e){tk(e.scale,e.model)})),K(n.y,(function(e){tk(e.scale,e.model)}));var r={};K(n.x,(function(e){eI(n,"y",e,r)})),K(n.y,(function(e){eI(n,"x",e,r)})),this.resize(this.model,t)},e.prototype.resize=function(e,t,n){var r=e.getBoxLayoutParams(),o=!n&&e.get("containLabel"),i=kh(r,{width:t.getWidth(),height:t.getHeight()});this._rect=i;var a=this._axesList;function s(){K(a,(function(e){var t=e.isHorizontal(),n=t?[0,i.width]:[0,i.height],r=e.inverse?1:0;e.setExtent(n[r],n[1-r]),nI(e,t?i.x:i.y)}))}s(),o&&(K(a,(function(e){if(!e.model.get(["axisLabel","inside"])){var t=ak(e);if(t){var n=e.isHorizontal()?"height":"width",r=e.model.get(["axisLabel","margin"]);i[n]-=t[n]+r,"top"===e.position?i.y+=t.height+r:"left"===e.position&&(i.x+=t.width+r)}}})),s()),K(this._coordsList,(function(e){e.calcAffineTransform()}))},e.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n)return n[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}ue(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===e||o[r].getAxis("y").index===t)return o[r]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(e){var t,n,r=e.seriesModel,o=e.xAxisModel||r&&r.getReferringComponents("xAxis",Zi).models[0],i=e.yAxisModel||r&&r.getReferringComponents("yAxis",Zi).models[0],a=e.gridModel,s=this._coordsList;if(r)t=r.coordinateSystem,q(s,t)<0&&(t=null);else if(o&&i)t=this.getCartesian(o.componentIndex,i.componentIndex);else if(o)n=this.getAxis("x",o.componentIndex);else if(i)n=this.getAxis("y",i.componentIndex);else if(a){var l=a.coordinateSystem;l===this&&(t=this._coordsList[0])}return{cartesian:t,axis:n}},e.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},e.prototype._initCartesian=function(e,t,n){var r=this,o=this,i={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},s={x:0,y:0};if(t.eachComponent("xAxis",l("x"),this),t.eachComponent("yAxis",l("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(t){return function(n,r){if(QD(n,e)){var l=n.get("position");"x"===t?"top"!==l&&"bottom"!==l&&(l=i.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=i.left?"right":"left"),i[l]=!0;var u=new YD(t,nk(n),[0,0],n.get("type"),l),c="category"===u.type;u.onBand=c&&n.get("boundaryGap"),u.inverse=n.get("inverse"),n.axis=u,u.model=n,u.grid=o,u.index=r,o._axesList.push(u),a[t][r]=u,s[t]++}}}this._axesMap=a,K(a.x,(function(t,n){K(a.y,(function(o,i){var a="x"+n+"y"+i,s=new WD(a);s.master=r,s.model=e,r._coordsMap[a]=s,r._coordsList.push(s),s.addAxis(t),s.addAxis(o)}))}))},e.prototype._updateScale=function(e,t){function n(e,t){K(ck(e,t.dim),(function(n){t.scale.unionExtentFromData(e,n)}))}K(this._axesList,(function(e){if(e.scale.setExtent(1/0,-1/0),"category"===e.type){var t=e.model.get("categorySortInfo");e.scale.setSortInfo(t)}})),e.eachSeries((function(e){if(XD(e)){var r=JD(e),o=r.xAxisModel,i=r.yAxisModel;if(!QD(o,t)||!QD(i,t))return;var a=this.getCartesian(o.componentIndex,i.componentIndex),s=e.getData(),l=a.getAxis("x"),u=a.getAxis("y");"list"===s.type&&(n(s,l),n(s,u))}}),this)},e.prototype.getTooltipAxes=function(e){var t=[],n=[];return K(this.getCartesians(),(function(r){var o=null!=e&&"auto"!==e?r.getAxis(e):r.getBaseAxis(),i=r.getOtherAxis(o);q(t,o)<0&&t.push(o),q(n,i)<0&&n.push(i)})),{baseAxes:t,otherAxes:n}},e.create=function(t,n){var r=[];return t.eachComponent("grid",(function(o,i){var a=new e(o,t,n);a.name="grid_"+i,a.resize(o,n,!0),o.coordinateSystem=a,r.push(a)})),t.eachSeries((function(e){if(XD(e)){var t=JD(e),n=t.xAxisModel,r=t.yAxisModel,o=n.getCoordSysModel();0;var i=o.coordinateSystem;e.coordinateSystem=i.getCartesian(n.componentIndex,r.componentIndex)}})),r},e.dimensions=UD,e}();function QD(e,t){return e.getCoordSysModel()===t}function eI(e,t,n,r){n.getAxesOnZeroOf=function(){return o?[o]:[]};var o,i=e[t],a=n.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)tI(i[l])&&(o=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&tI(i[u])&&!r[c(i[u])]){o=i[u];break}o&&(r[c(o)]=!0)}function c(e){return e.dim+"_"+e.index}}function tI(e){return e&&"category"!==e.type&&"time"!==e.type&&rk(e)}function nI(e,t){var n=e.getExtent(),r=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return r-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return r-e+t}}var rI=ZD,oI=Math.PI,iI=function(){function e(e,t){this.group=new Vo,this.opt=t,this.axisModel=e,U(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Vo({x:t.position[0],y:t.position[1],rotation:t.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(e){return!!aI[e]},e.prototype.add=function(e){aI[e](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(e,t,n){var r,o,i=di(t-e);return fi(i)?(o=n>0?"top":"bottom",r="center"):fi(i-oI)?(o=n>0?"bottom":"top",r="center"):(o="middle",r=i>0&&i<oI?n>0?"right":"left":n>0?"left":"right"),{rotation:i,textAlign:r,textVerticalAlign:o}},e.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},e.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},e}(),aI={axisLine:function(e,t,n,r){var o=t.get(["axisLine","show"]);if("auto"===o&&e.handleAutoShown&&(o=e.handleAutoShown("axisLine")),o){var i=t.axis.getExtent(),a=r.transform,s=[i[0],0],l=[i[1],0];a&&(tt(s,s,a),tt(l,l,a));var u=H({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new Sd({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});c.anid="line",n.add(c);var d=t.get(["axisLine","symbol"]),f=t.get(["axisLine","symbolSize"]),p=t.get(["axisLine","symbolOffset"])||0;if("number"===typeof p&&(p=[p,p]),null!=d){"string"===typeof d&&(d=[d,d]),"string"!==typeof f&&"number"!==typeof f||(f=[f,f]);var h=f[0],m=f[1];K([{rotate:e.rotation+Math.PI/2,offset:p[0],r:0},{rotate:e.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],(function(t,r){if("none"!==d[r]&&null!=d[r]){var o=rx(d[r],-h/2,-m/2,h,m,u.stroke,!0),i=t.r+t.offset;o.attr({rotation:t.rotate,x:s[0]+i*Math.cos(e.rotation),y:s[1]-i*Math.sin(e.rotation),silent:!0,z2:11}),n.add(o)}}))}}},axisTickLabel:function(e,t,n,r){var o=pI(n,r,t,e),i=mI(n,r,t,e);lI(t,i,o),hI(n,r,t,e.tickDirection)},axisName:function(e,t,n,r){var o=ve(e.axisName,t.get("name"));if(o){var i,a,s=t.get("nameLocation"),l=e.nameDirection,u=t.getModel("nameTextStyle"),c=t.get("nameGap")||0,d=t.axis.getExtent(),f=d[0]>d[1]?-1:1,p=["start"===s?d[0]-f*c:"end"===s?d[1]+f*c:(d[0]+d[1])/2,dI(s)?e.labelOffset+l*c:0],h=t.get("nameRotate");null!=h&&(h=h*oI/180),dI(s)?i=iI.innerTextLayout(e.rotation,null!=h?h:e.rotation,l):(i=sI(e.rotation,s,h||0,d),a=e.axisNameAvailableWidth,null!=a&&(a=Math.abs(a/Math.sin(i.rotation)),!isFinite(a)&&(a=null)));var m=u.getFont(),g=t.get("nameTruncate",!0)||{},v=g.ellipsis,y=ve(e.nameTruncateMaxWidth,g.maxWidth,a),b=t.get("tooltip",!0),x=t.mainType,w={componentType:x,name:o,$vars:["name"]};w[x+"Index"]=t.componentIndex;var _=new uu({x:p[0],y:p[1],rotation:i.rotation,silent:iI.isLabelSilent(t),style:Bf(u,{text:o,font:m,overflow:"truncate",width:y,ellipsis:v,fill:u.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:u.get("align")||i.textAlign,verticalAlign:u.get("verticalAlign")||i.textVerticalAlign}),z2:1});if(_.tooltip=b&&b.show?H({content:o,formatter:function(){return o},formatterParams:w},b):null,_.__fullText=o,_.anid="name",t.get("triggerEvent")){var C=iI.makeAxisEventDataBase(t);C.targetType="axisName",C.name=o,cu(_).eventData=C}r.add(_),_.updateTransform(),n.add(_),_.decomposeTransform()}}};function sI(e,t,n,r){var o,i,a=di(n-e),s=r[0]>r[1],l="start"===t&&!s||"start"!==t&&s;return fi(a-oI/2)?(i=l?"bottom":"top",o="center"):fi(a-1.5*oI)?(i=l?"top":"bottom",o="center"):(i="middle",o=a<1.5*oI&&a>oI/2?l?"left":"right":l?"right":"left"),{rotation:a,textAlign:o,textVerticalAlign:i}}function lI(e,t,n){if(!uk(e.axis)){var r=e.get(["axisLabel","showMinLabel"]),o=e.get(["axisLabel","showMaxLabel"]);t=t||[],n=n||[];var i=t[0],a=t[1],s=t[t.length-1],l=t[t.length-2],u=n[0],c=n[1],d=n[n.length-1],f=n[n.length-2];!1===r?(uI(i),uI(u)):cI(i,a)&&(r?(uI(a),uI(c)):(uI(i),uI(u))),!1===o?(uI(s),uI(d)):cI(l,s)&&(o?(uI(l),uI(f)):(uI(s),uI(d)))}}function uI(e){e&&(e.ignore=!0)}function cI(e,t){var n=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(n&&r){var o=Wt([]);return Xt(o,o,-e.rotation),n.applyTransform(Yt([],o,e.getLocalTransform())),r.applyTransform(Yt([],o,t.getLocalTransform())),n.intersect(r)}}function dI(e){return"middle"===e||"center"===e}function fI(e,t,n,r,o){for(var i=[],a=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=n,t&&(tt(a,a,t),tt(s,s,t));var c=new Sd({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});c.anid=o+"_"+e[l].tickValue,i.push(c)}return i}function pI(e,t,n,r){var o=n.axis,i=n.getModel("axisTick"),a=i.get("show");if("auto"===a&&r.handleAutoShown&&(a=r.handleAutoShown("axisTick")),a&&!o.scale.isBlank()){for(var s=i.getModel("lineStyle"),l=r.tickDirection*i.get("length"),u=o.getTicksCoords(),c=fI(u,t.transform,l,U(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<c.length;d++)e.add(c[d]);return c}}function hI(e,t,n,r){var o=n.axis,i=n.getModel("minorTick");if(i.get("show")&&!o.scale.isBlank()){var a=o.getMinorTicksCoords();if(a.length)for(var s=i.getModel("lineStyle"),l=r*i.get("length"),u=U(s.getLineStyle(),U(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<a.length;c++)for(var d=fI(a[c],t.transform,l,u,"minorticks_"+c),f=0;f<d.length;f++)e.add(d[f])}}function mI(e,t,n,r){var o=n.axis,i=ve(r.axisLabelShow,n.get(["axisLabel","show"]));if(i&&!o.scale.isBlank()){var a=n.getModel("axisLabel"),s=a.get("margin"),l=o.getViewLabels(),u=(ve(r.labelRotate,a.get("rotate"))||0)*oI/180,c=iI.innerTextLayout(r.rotation,u,r.labelDirection),d=n.getCategories&&n.getCategories(!0),f=[],p=iI.isLabelSilent(n),h=n.get("triggerEvent");return K(l,(function(i,l){var u="ordinal"===o.scale.type?o.scale.getRawOrdinalNumber(i.tickValue):i.tickValue,m=i.formattedLabel,g=i.rawLabel,v=a;if(d&&d[u]){var y=d[u];ue(y)&&y.textStyle&&(v=new sp(y.textStyle,a,n.ecModel))}var b=v.getTextColor()||n.get(["axisLine","lineStyle","color"]),x=o.dataToCoord(u),w=new uu({x:x,y:r.labelOffset+r.labelDirection*s,rotation:c.rotation,silent:p,z2:10,style:Bf(v,{text:m,align:v.getShallow("align",!0)||c.textAlign,verticalAlign:v.getShallow("verticalAlign",!0)||v.getShallow("baseline",!0)||c.textVerticalAlign,fill:"function"===typeof b?b("category"===o.type?g:"value"===o.type?u+"":u,l):b})});if(w.anid="label_"+u,h){var _=iI.makeAxisEventDataBase(n);_.targetType="axisLabel",_.value=g,cu(w).eventData=_}t.add(w),w.updateTransform(),f.push(w),e.add(w),w.decomposeTransform()})),f}}var gI=iI;function vI(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return yI(n,e,t),n.seriesInvolved&&xI(n,e),n}function yI(e,t,n){var r=t.getComponent("tooltip"),o=t.getComponent("axisPointer"),i=o.get("link",!0)||[],a=[];K(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var s=TI(n.model),l=e.coordSysAxesInfo[s]={};e.coordSysMap[s]=n;var u=n.model,c=u.getModel("tooltip",r);if(K(n.getAxes(),re(h,!1,null)),n.getTooltipAxes&&r&&c.get("show")){var d="axis"===c.get("trigger"),f="cross"===c.get(["axisPointer","type"]),p=n.getTooltipAxes(c.get(["axisPointer","axis"]));(d||f)&&K(p.baseAxes,re(h,!f||"cross",d)),f&&K(p.otherAxes,re(h,"cross",!1))}}function h(r,s,u){var d=u.model.getModel("axisPointer",o),f=d.get("show");if(f&&("auto"!==f||r||OI(d))){null==s&&(s=d.get("triggerTooltip")),d=r?bI(u,c,o,t,r,s):d;var p=d.get("snap"),h=TI(u.model),m=s||p||"category"===u.type,g=e.axesInfo[h]={key:h,axis:u,coordSys:n,axisPointerModel:d,triggerTooltip:s,involveSeries:m,snap:p,useHandle:OI(d),seriesModels:[],linkGroup:null};l[h]=g,e.seriesInvolved=e.seriesInvolved||m;var v=wI(i,u);if(null!=v){var y=a[v]||(a[v]={axesInfo:{}});y.axesInfo[h]=g,y.mapper=i[v].mapper,g.linkGroup=y}}}}))}function bI(e,t,n,r,o,i){var a=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};K(s,(function(e){l[e]=F(a.get(e))})),l.snap="category"!==e.type&&!!i,"cross"===a.get("type")&&(l.type="line");var u=l.label||(l.label={});if(null==u.show&&(u.show=!1),"cross"===o){var c=a.get(["label","show"]);if(u.show=null==c||c,!i){var d=l.lineStyle=a.get("crossStyle");d&&U(u,d.textStyle)}}return e.model.getModel("axisPointer",new sp(l,n,r))}function xI(e,t){t.eachSeries((function(t){var n=t.coordinateSystem,r=t.get(["tooltip","trigger"],!0),o=t.get(["tooltip","show"],!0);n&&"none"!==r&&!1!==r&&"item"!==r&&!1!==o&&!1!==t.get(["axisPointer","show"],!0)&&K(e.coordSysAxesInfo[TI(n.model)],(function(e){var r=e.axis;n.getAxis(r.dim)===r&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())}))}))}function wI(e,t){for(var n=t.model,r=t.dim,o=0;o<e.length;o++){var i=e[o]||{};if(_I(i[r+"AxisId"],n.id)||_I(i[r+"AxisIndex"],n.componentIndex)||_I(i[r+"AxisName"],n.name))return o}}function _I(e,t){return"all"===e||oe(e)&&q(e,t)>=0||e===t}function CI(e){var t=SI(e);if(t){var n=t.axisPointerModel,r=t.axis.scale,o=n.option,i=n.get("status"),a=n.get("value");null!=a&&(a=r.parse(a));var s=OI(n);null==i&&(o.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),o.value=a,s&&(o.status=t.axis.scale.isBlank()?"hide":"show")}}function SI(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[TI(e)]}function kI(e){var t=SI(e);return t&&t.axisPointerModel}function OI(e){return!!e.get(["handle","show"])}function TI(e){return e.type+"||"+e.id}var MI={},DI=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(t,n,r,o){this.axisPointerClass&&CI(t),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},t.prototype.updateAxisPointer=function(e,t,n,r){this._doUpdateAxisPointerClass(e,n,!1)},t.prototype.remove=function(e,t){var n=this._axisPointer;n&&n.remove(t)},t.prototype.dispose=function(t,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,r){var o=t.getAxisPointerClass(this.axisPointerClass);if(o){var i=kI(e);i?(this._axisPointer||(this._axisPointer=new o)).render(e,i,n,r):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,t){MI[e]=t},t.getAxisPointerClass=function(e){return e&&MI[e]},t.type="axis",t}(Yv),II=DI,EI=Ki();function AI(e,t,n,r){var o=n.axis;if(!o.scale.isBlank()){var i=n.getModel("splitArea"),a=i.getModel("areaStyle"),s=a.get("color"),l=r.coordinateSystem.getRect(),u=o.getTicksCoords({tickModel:i,clamp:!0});if(u.length){var c=s.length,d=EI(e).splitAreaColors,f=Me(),p=0;if(d)for(var h=0;h<u.length;h++){var m=d.get(u[h].tickValue);if(null!=m){p=(m+(c-1)*h)%c;break}}var g=o.toGlobalCoord(u[0].coord),v=a.getAreaStyle();s=oe(s)?s:[s];for(h=1;h<u.length;h++){var y=o.toGlobalCoord(u[h].coord),b=void 0,x=void 0,w=void 0,_=void 0;o.isHorizontal()?(b=g,x=l.y,w=y-b,_=l.height,g=b+w):(b=l.x,x=g,w=l.width,_=y-x,g=x+_);var C=u[h-1].tickValue;null!=C&&f.set(C,p),t.add(new Kl({anid:null!=C?"area_"+C:null,shape:{x:b,y:x,width:w,height:_},style:U({fill:s[p]},v),autoBatch:!0,silent:!0})),p=(p+1)%c}EI(e).splitAreaColors=f}}}function LI(e){EI(e).splitAreaColors=null}var jI=["axisLine","axisTickLabel","axisName"],NI=["splitArea","splitLine","minorSplitLine"],PI=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return g(t,e),t.prototype.render=function(t,n,r,o){this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new Vo,this.group.add(this._axisGroup),t.get("show")){var a=t.getCoordSysModel(),s=KD(a,t),l=new gI(t,H({handleAutoShown:function(e){for(var n=a.coordinateSystem.getCartesians(),r=0;r<n.length;r++){var o=n[r].getOtherAxis(t.axis).type;if("value"===o||"log"===o)return!0}return!1}},s));K(jI,l.add,l),this._axisGroup.add(l.getGroup()),K(NI,(function(e){t.get([e,"show"])&&RI[e](this,this._axisGroup,t,a)}),this),kf(i,this._axisGroup,t),e.prototype.render.call(this,t,n,r,o)}},t.prototype.remove=function(){LI(this)},t.type="cartesianAxis",t}(II),RI={splitLine:function(e,t,n,r){var o=n.axis;if(!o.scale.isBlank()){var i=n.getModel("splitLine"),a=i.getModel("lineStyle"),s=a.get("color");s=oe(s)?s:[s];for(var l=r.coordinateSystem.getRect(),u=o.isHorizontal(),c=0,d=o.getTicksCoords({tickModel:i}),f=[],p=[],h=a.getLineStyle(),m=0;m<d.length;m++){var g=o.toGlobalCoord(d[m].coord);u?(f[0]=g,f[1]=l.y,p[0]=g,p[1]=l.y+l.height):(f[0]=l.x,f[1]=g,p[0]=l.x+l.width,p[1]=g);var v=c++%s.length,y=d[m].tickValue;t.add(new Sd({anid:null!=y?"line_"+d[m].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:U({stroke:s[v]},h),silent:!0}))}}},minorSplitLine:function(e,t,n,r){var o=n.axis,i=n.getModel("minorSplitLine"),a=i.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=o.isHorizontal(),u=o.getMinorTicksCoords();if(u.length)for(var c=[],d=[],f=a.getLineStyle(),p=0;p<u.length;p++)for(var h=0;h<u[p].length;h++){var m=o.toGlobalCoord(u[p][h].coord);l?(c[0]=m,c[1]=s.y,d[0]=m,d[1]=s.y+s.height):(c[0]=s.x,c[1]=m,d[0]=s.x+s.width,d[1]=m),t.add(new Sd({anid:"minor_line_"+u[p][h].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:f,silent:!0}))}},splitArea:function(e,t,n,r){AI(e,t,n,r)}},BI=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.type="xAxis",t}(PI),FI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=BI.type,t}return g(t,e),t.type="yAxis",t}(PI),zI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="grid",t}return g(t,e),t.prototype.render=function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new Kl({shape:e.coordinateSystem.getRect(),style:U({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Yv),VI={offset:0};function HI(e){e.registerComponentView(zI),e.registerComponentModel(ID),e.registerCoordinateSystem("cartesian2d",rI),FD(e,"x",ED,VI),FD(e,"y",ED,VI),e.registerComponentView(BI),e.registerComponentView(FI),e.registerPreprocessor((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}))}function UI(e){U_(HI),e.registerSeriesModel(wD),e.registerChartView(MD),e.registerLayout(gM("scatter"))}function $I(e){e.eachSeriesByType("radar",(function(e){var t=e.getData(),n=[],r=e.coordinateSystem;if(r){var o=r.getIndicatorAxes();K(o,(function(e,i){t.each(t.mapDimension(o[i].dim),(function(e,t){n[t]=n[t]||[];var o=r.dataToPoint(e,i);n[t][i]=qI(o)?o:WI(r)}))})),t.each((function(e){var o=Q(n[e],(function(e){return qI(e)}))||WI(r);n[e].push(o.slice()),t.setItemLayout(e,n[e])}))}}))}function qI(e){return!isNaN(e[0])&&!isNaN(e[1])}function WI(e){return[e.cx,e.cy]}function GI(e){var t=e.polar;if(t){oe(t)||(t=[t]);var n=[];K(t,(function(t,r){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],oe(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):n.push(t)})),e.polar=n}K(e.series,(function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)}))}function YI(e){return oe(e)||(e=[+e,+e]),e}var KI=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n){var r=e.coordinateSystem,o=this.group,i=e.getData(),a=this._data;function s(e,t){var n=e.getItemVisual(t,"symbol")||"circle";if("none"!==n){var r=YI(e.getItemVisual(t,"symbolSize")),o=rx(n,-1,-1,2,2),i=e.getItemVisual(t,"symbolRotate")||0;return o.attr({style:{strokeNoScale:!0},z2:100,scaleX:r[0]/2,scaleY:r[1]/2,rotation:i*Math.PI/180||0}),o}}function u(t,n,r,o,i,a){r.removeAll();for(var u=0;u<n.length-1;u++){var c=s(o,i);c&&(c.__dimIdx=u,t[u]?(c.setPosition(t[u]),l[a?"initProps":"updateProps"](c,{x:n[u][0],y:n[u][1]},e,i)):c.setPosition(n[u]),r.add(c))}}function c(e){return X(e,(function(e){return[r.cx,r.cy]}))}i.diff(a).add((function(t){var n=i.getItemLayout(t);if(n){var r=new vd,o=new xd,a={shape:{points:n}};r.shape.points=c(n),o.shape.points=c(n),mf(r,a,e,t),mf(o,a,e,t);var s=new Vo,l=new Vo;s.add(o),s.add(r),s.add(l),u(o.shape.points,n,l,i,t,!0),i.setItemGraphicEl(t,s)}})).update((function(t,n){var r=a.getItemGraphicEl(n),o=r.childAt(0),s=r.childAt(1),l=r.childAt(2),c={shape:{points:i.getItemLayout(t)}};c.shape.points&&(u(o.shape.points,c.shape.points,l,i,t,!1),hf(o,c,e),hf(s,c,e),i.setItemGraphicEl(t,r))})).remove((function(e){o.remove(a.getItemGraphicEl(e))})).execute(),i.eachItemGraphicEl((function(e,t){var n=i.getItemModel(t),r=e.childAt(0),a=e.childAt(1),s=e.childAt(2),l=i.getItemVisual(t,"style"),u=l.fill;o.add(e),r.useStyle(U(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:u})),cc(r,n,"lineStyle"),cc(a,n,"areaStyle");var c=n.getModel("areaStyle"),d=c.isEmpty()&&c.parentModel.isEmpty();a.ignore=d,K(["emphasis","select","blur"],(function(e){var t=n.getModel([e,"areaStyle"]),r=t.isEmpty()&&t.parentModel.isEmpty();a.ensureState(e).ignore=r&&d})),a.useStyle(U(c.getAreaStyle(),{fill:u,opacity:.7,decal:l.decal}));var f=n.getModel("emphasis"),p=f.getModel("itemStyle").getItemStyle();s.eachChild((function(e){if(e instanceof zl){var r=e.style;e.useStyle(H({image:r.image,x:r.x,y:r.y,width:r.width,height:r.height},l))}else e.useStyle(l),e.setColor(u);var o=e.ensureState("emphasis");o.style=F(p);var a=i.get(i.dimensions[e.__dimIdx],t);(null==a||isNaN(a))&&(a=""),Pf(e,Rf(n),{labelFetcher:i.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:a,inheritColor:u,defaultOpacity:l.opacity})})),ac(e,f.get("focus"),f.get("blurScope"))})),this._data=i},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(oy),XI=KI,JI=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.useColorPaletteOnData=!0,n.hasSymbolVisual=!0,n}return g(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new gD(ne(this.getData,this),ne(this.getRawData,this))},t.prototype.getInitialData=function(e,t){return hD(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,t,n){var r=this.getData(),o=this.coordinateSystem,i=o.getIndicatorAxes(),a=this.getData().getName(e),s=""===a?this.name:a,l=Iv(this,e);return bv("section",{header:s,sortBlocks:!0,blocks:X(i,(function(t){var n=r.get(r.mapDimension(t.dim),e);return bv("nameValue",{markerType:"subItem",markerColor:l,name:t.name,value:n,sortParam:n})}))})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var t=this.getData(),n=this.coordinateSystem,r=t.getValues(X(n.dimensions,(function(e){return t.mapDimension(e)})),e),o=0,i=r.length;o<i;o++)if(!isNaN(r[o])){var a=n.getIndicatorAxes();return n.coordToPoint(a[o].dataToCoord(r[o]),o)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4},t}(Wv),ZI=JI,QI=RD.value;function eE(e,t){return U({show:t},e)}var tE=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),r=this.get("axisLine"),o=this.get("axisTick"),i=this.get("axisLabel"),a=this.get("axisName"),s=this.get(["axisName","show"]),l=this.get(["axisName","formatter"]),u=this.get("axisNameGap"),c=this.get("triggerEvent"),d=X(this.get("indicator")||[],(function(d){null!=d.max&&d.max>0&&!d.min?d.min=0:null!=d.min&&d.min<0&&!d.max&&(d.max=0);var f=a;null!=d.color&&(f=U({color:d.color},a));var p=z(F(d),{boundaryGap:e,splitNumber:t,scale:n,axisLine:r,axisTick:o,axisLabel:i,name:d.text,nameLocation:"end",nameGap:u,nameTextStyle:f,triggerEvent:c},!1);if(s||(p.name=""),"string"===typeof l){var h=p.name;p.name=l.replace("{value}",null!=h?h:"")}else"function"===typeof l&&(p.name=l(p.name,p));var m=new sp(p,null,this.ecModel);return G(m,fk.prototype),m.mainType="radar",m.componentIndex=this.componentIndex,m}),this);this._indicatorModels=d},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:z({lineStyle:{color:"#bbb"}},QI.axisLine),axisLabel:eE(QI.axisLabel,!1),axisTick:eE(QI.axisTick,!1),splitLine:eE(QI.splitLine,!0),splitArea:eE(QI.splitArea,!0),indicator:[]},t}(Nh),nE=tE,rE=["axisLine","axisTickLabel","axisName"],oE=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n){var r=this.group;r.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes(),r=X(n,(function(e){var n=new gI(e.model,{position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return n}));K(r,(function(e){K(rE,e.add,e),this.group.add(e.getGroup())}),this)},t.prototype._buildSplitLineAndArea=function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes();if(n.length){var r=e.get("shape"),o=e.getModel("splitLine"),i=e.getModel("splitArea"),a=o.getModel("lineStyle"),s=i.getModel("areaStyle"),l=o.get("show"),u=i.get("show"),c=a.get("color"),d=s.get("color"),f=oe(c)?c:[c],p=oe(d)?d:[d],h=[],m=[];if("circle"===r)for(var g=n[0].getTicksCoords(),v=t.cx,y=t.cy,b=0;b<g.length;b++){if(l){var x=M(h,f,b);h[x].push(new Vc({shape:{cx:v,cy:y,r:g[b].coord}}))}if(u&&b<g.length-1){x=M(m,p,b);m[x].push(new cd({shape:{cx:v,cy:y,r0:g[b].coord,r:g[b+1].coord}}))}}else{var w,_=X(n,(function(e,n){var r=e.getTicksCoords();return w=null==w?r.length-1:Math.min(r.length-1,w),X(r,(function(e){return t.coordToPoint(e.coord,n)}))})),C=[];for(b=0;b<=w;b++){for(var S=[],k=0;k<n.length;k++)S.push(_[k][b]);if(S[0]&&S.push(S[0].slice()),l){x=M(h,f,b);h[x].push(new xd({shape:{points:S}}))}if(u&&C){x=M(m,p,b-1);m[x].push(new vd({shape:{points:S.concat(C)}}))}C=S.slice().reverse()}}var O=a.getLineStyle(),T=s.getAreaStyle();K(m,(function(e,t){this.group.add(lf(e,{style:U({stroke:"none",fill:p[t%p.length]},T),silent:!0}))}),this),K(h,(function(e,t){this.group.add(lf(e,{style:U({fill:"none",stroke:f[t%f.length]},O),silent:!0}))}),this)}function M(e,t,n){var r=n%t.length;return e[r]=e[r]||[],r}},t.type="radar",t}(Yv),iE=oE,aE=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.type="value",o.angle=0,o.name="",o}return g(t,e),t}(Wk),sE=aE,lE=function(){function e(e,t,n){this.dimensions=[],this._model=e,this._indicatorAxes=X(e.getIndicatorModels(),(function(e,t){var n="indicator_"+t,r=new sE(n,new sS);return r.name=e.get("name"),r.model=e,e.axis=r,this.dimensions.push(n),r}),this),this.resize(e,n)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},e.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t],r=n.angle,o=this.cx+e*Math.cos(r),i=this.cy-e*Math.sin(r);return[o,i]},e.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,r=Math.sqrt(t*t+n*n);t/=r,n/=r;for(var o,i=Math.atan2(-n,t),a=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],c=Math.abs(i-u.angle);c<a&&(o=u,s=l,a=c)}return[s,+(o&&o.coordToData(r))]},e.prototype.resize=function(e,t){var n=e.get("center"),r=t.getWidth(),o=t.getHeight(),i=Math.min(r,o)/2;this.cx=ri(n[0],r),this.cy=ri(n[1],o),this.startAngle=e.get("startAngle")*Math.PI/180;var a=e.get("radius");"string"!==typeof a&&"number"!==typeof a||(a=[0,a]),this.r0=ri(a[0],i),this.r=ri(a[1],i),K(this._indicatorAxes,(function(e,t){e.setExtent(this.r0,this.r);var n=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),e.angle=n}),this)},e.prototype.update=function(e,t){var n=this._indicatorAxes,r=this._model;K(n,(function(e){e.scale.setExtent(1/0,-1/0)})),e.eachSeriesByType("radar",(function(t,o){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===r){var i=t.getData();K(n,(function(e){e.scale.unionExtentFromData(i,i.mapDimension(e.dim))}))}}),this);var o=r.get("splitNumber");function i(e){var t=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),n=e/t;return 2===n?n=5:n*=2,n*t}K(n,(function(e,t){var n=QS(e.scale,e.model).extent;tk(e.scale,e.model);var r=e.model,a=e.scale,s=ZS(a,r.get("min",!0)),l=ZS(a,r.get("max",!0)),u=a.getInterval();if(null!=s&&null!=l)a.setExtent(+s,+l),a.setInterval((l-s)/o);else if(null!=s){var c=void 0;do{c=s+u*o,a.setExtent(+s,c),a.setInterval(u),u=i(u)}while(c<n[1]&&isFinite(c)&&isFinite(n[1]))}else if(null!=l){var d=void 0;do{d=l-u*o,a.setExtent(d,+l),a.setInterval(u),u=i(u)}while(d>n[0]&&isFinite(d)&&isFinite(n[0]))}else{var f=a.getTicks().length-1;f>o&&(u=i(u));c=Math.ceil(n[1]/u)*u,d=oi(c-u*o);a.setExtent(d,c),a.setInterval(u)}}))},e.prototype.convertToPixel=function(e,t,n){return null},e.prototype.convertFromPixel=function(e,t,n){return null},e.prototype.containPoint=function(e){return!1},e.create=function(t,n){var r=[];return t.eachComponent("radar",(function(o){var i=new e(o,t,n);r.push(i),o.coordinateSystem=i})),t.eachSeriesByType("radar",(function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=r[e.get("radarIndex")||0])})),r},e.dimensions=[],e}(),uE=lE;function cE(e){e.registerCoordinateSystem("radar",uE),e.registerComponentModel(nE),e.registerComponentView(iE)}function dE(e){U_(cE),e.registerChartView(XI),e.registerSeriesModel(ZI),e.registerLayout($I),e.registerProcessor(oD("radar")),e.registerPreprocessor(GI)}var fE="\0_ec_interaction_mutex";function pE(e,t,n){var r=gE(e);r[t]=n}function hE(e,t,n){var r=gE(e),o=r[t];o===n&&(r[t]=null)}function mE(e,t){return!!gE(e)[t]}function gE(e){return e[fE]||(e[fE]={})}M_({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){}));var vE=function(e){function t(t){var n=e.call(this)||this;n._zr=t;var r=ne(n._mousedownHandler,n),o=ne(n._mousemoveHandler,n),i=ne(n._mouseupHandler,n),a=ne(n._mousewheelHandler,n),s=ne(n._pinchHandler,n);return n.enable=function(e,n){this.disable(),this._opt=U(F(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",r),t.on("mousemove",o),t.on("mouseup",i)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",a),t.on("pinch",s))},n.disable=function(){t.off("mousedown",r),t.off("mousemove",o),t.off("mouseup",i),t.off("mousewheel",a),t.off("pinch",s)},n}return g(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(It(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&xE("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!mE(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,r=this._x,o=this._y,i=t-r,a=n-o;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&Dt(e.event),bE(this,"pan","moveOnMouseMove",e,{dx:i,dy:a,oldX:r,oldY:o,newX:t,newY:n,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){It(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var t=xE("zoomOnMouseWheel",e,this._opt),n=xE("moveOnMouseWheel",e,this._opt),r=e.wheelDelta,o=Math.abs(r),i=e.offsetX,a=e.offsetY;if(0!==r&&(t||n)){if(t){var s=o>3?1.4:o>1?1.2:1.1,l=r>0?s:1/s;yE(this,"zoom","zoomOnMouseWheel",e,{scale:l,originX:i,originY:a,isAvailableBehavior:null})}if(n){var u=Math.abs(r),c=(r>0?1:-1)*(u>3?.4:u>1?.15:.05);yE(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:c,originX:i,originY:a,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!mE(this._zr,"globalPan")){var t=e.pinchScale>1?1.1:1/1.1;yE(this,"zoom",null,e,{scale:t,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(lt);function yE(e,t,n,r,o){e.pointerChecker&&e.pointerChecker(r,o.originX,o.originY)&&(Dt(r.event),bE(e,t,n,r,o))}function bE(e,t,n,r,o){o.isAvailableBehavior=ne(xE,null,n,r),e.trigger(t,o)}function xE(e,t,n){var r=n[e];return!e||r&&(!ae(r)||t.event[r+"Key"])}var wE=vE;function _E(e,t,n){var r=e.target;r.x+=t,r.y+=n,r.dirty()}function CE(e,t,n,r){var o=e.target,i=e.zoomLimit,a=e.zoom=e.zoom||1;if(a*=t,i){var s=i.min||0,l=i.max||1/0;a=Math.max(Math.min(l,a),s)}var u=a/e.zoom;e.zoom=a,o.x-=(n-o.x)*(u-1),o.y-=(r-o.y)*(u-1),o.scaleX*=u,o.scaleY*=u,o.dirty()}var SE={axisPointer:1,tooltip:1,brush:1};function kE(e,t,n){var r=t.getComponentByElement(e.topTarget),o=r&&r.coordinateSystem;return r&&r!==n&&!SE.hasOwnProperty(r.mainType)&&o&&o.model!==n}for(var OE=[126,25],TE=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],ME=0;ME<TE.length;ME++)for(var DE=0;DE<TE[ME].length;DE++)TE[ME][DE][0]/=10.5,TE[ME][DE][1]/=-14,TE[ME][DE][0]+=OE[0],TE[ME][DE][1]+=OE[1];function IE(e,t){"china"===e&&t.push(new _k("南海诸岛",X(TE,(function(e){return{type:"polygon",exterior:e}})),OE))}var EE={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};function AE(e,t){if("china"===e){var n=EE[t.name];if(n){var r=t.center;r[0]+=n[0]/10.5,r[1]+=-n[1]/14}}}var LE={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function jE(e,t){if("world"===e){var n=LE[t.name];if(n){var r=t.center;r[0]=n[0],r[1]=n[1]}}}var NE=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function PE(e,t){"china"===e&&"台湾"===t.name&&t.geometries.push({type:"polygon",exterior:NE[0]})}var RE=Ki(),BE={load:function(e,t,n){var r=RE(t).parsed;if(r)return r;var o,i=t.specialAreas||{},a=t.geoJSON;try{o=a?kk(a,n):[]}catch(s){throw new Error("Invalid geoJson format\n"+s.message)}return IE(e,o),K(o,(function(t){var n=t.name;AE(e,t),jE(e,t),PE(e,t);var r=i[n];r&&t.transformTo(r.left,r.top,r.width,r.height)})),RE(t).parsed={regions:o,boundingRect:FE(o)}}};function FE(e){for(var t,n=0;n<e.length;n++){var r=e[n].getBoundingRect();t=t||r.clone(),t.union(r)}return t}var zE,VE=/[\s,]+/,HE=function(){function e(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}return e.prototype.parse=function(e,t){t=t||{};var n=Wy(e);if(!n)throw new Error("Illegal svg");var r=new Vo;this._root=r;var o=n.getAttribute("viewBox")||"",i=parseFloat(n.getAttribute("width")||t.width),a=parseFloat(n.getAttribute("height")||t.height);isNaN(i)&&(i=null),isNaN(a)&&(a=null),YE(n,r,null,!0);var s,l,u=n.firstChild;while(u)this._parseNode(u,r),u=u.nextSibling;if(o){var c=Ce(o).split(VE);c.length>=4&&(s={x:parseFloat(c[0]||0),y:parseFloat(c[1]||0),width:parseFloat(c[2]),height:parseFloat(c[3])})}if(s&&null!=i&&null!=a&&(l=tA(s,i,a),!t.ignoreViewBox)){var d=r;r=new Vo,r.add(d),d.scaleX=d.scaleY=l.scale,d.x=l.x,d.y=l.y}return t.ignoreRootClip||null==i||null==a||r.setClipPath(new Kl({shape:{x:0,y:0,width:i,height:a}})),{root:r,width:i,height:a,viewBoxRect:s,viewBoxTransform:l}},e.prototype._parseNode=function(e,t){var n,r=e.nodeName.toLowerCase();if("defs"===r?this._isDefine=!0:"text"===r&&(this._isText=!0),this._isDefine){var o=UE[r];if(o){var i=o.call(this,e),a=e.getAttribute("id");a&&(this._defs[a]=i)}}else{o=zE[r];o&&(n=o.call(this,e,t),t.add(n))}if(n){var s=e.firstChild;while(s)1===s.nodeType&&this._parseNode(s,n),3===s.nodeType&&this._isText&&this._parseText(s,n),s=s.nextSibling}"defs"===r?this._isDefine=!1:"text"===r&&(this._isText=!1)},e.prototype._parseText=function(e,t){if(1===e.nodeType){var n=e.getAttribute("dx")||0,r=e.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(r)}var o=new Nl({style:{text:e.textContent},x:this._textX||0,y:this._textY||0});qE(t,o),YE(e,o,this._defs);var i=o.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,o.scaleX*=a/9,o.scaleY*=a/9);var s=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=s;var l=o.getBoundingRect();return this._textX+=l.width,t.add(o),o},e.internalField=function(){zE={g:function(e,t){var n=new Vo;return qE(t,n),YE(e,n,this._defs),n},rect:function(e,t){var n=new Kl;return qE(t,n),YE(e,n,this._defs),n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),n},circle:function(e,t){var n=new Vc;return qE(t,n),YE(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),n},line:function(e,t){var n=new Sd;return qE(t,n),YE(e,n,this._defs),n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),n},ellipse:function(e,t){var n=new $c;return qE(t,n),YE(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),n},polygon:function(e,t){var n,r=e.getAttribute("points");r&&(n=WE(r));var o=new vd({shape:{points:n||[]}});return qE(t,o),YE(e,o,this._defs),o},polyline:function(e,t){var n=new Al;qE(t,n),YE(e,n,this._defs);var r,o=e.getAttribute("points");o&&(r=WE(o));var i=new xd({shape:{points:r||[]}});return i},image:function(e,t){var n=new zl;return qE(t,n),YE(e,n,this._defs),n.setStyle({image:e.getAttribute("xlink:href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n},text:function(e,t){var n=e.getAttribute("x")||"0",r=e.getAttribute("y")||"0",o=e.getAttribute("dx")||"0",i=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(i);var a=new Vo;return qE(t,a),YE(e,a,this._defs),a},tspan:function(e,t){var n=e.getAttribute("x"),r=e.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=r&&(this._textY=parseFloat(r));var o=e.getAttribute("dx")||0,i=e.getAttribute("dy")||0,a=new Vo;return qE(t,a),YE(e,a,this._defs),this._textX+=o,this._textY+=i,a},path:function(e,t){var n=e.getAttribute("d")||"",r=Pc(n);return qE(t,r),YE(e,r,this._defs),r}}}(),e}(),UE={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),n=parseInt(e.getAttribute("y1")||"0",10),r=parseInt(e.getAttribute("x2")||"10",10),o=parseInt(e.getAttribute("y2")||"0",10),i=new Bd(t,n,r,o);return $E(e,i),i}};function $E(e,t){var n=e.firstChild;while(n){if(1===n.nodeType){var r=n.getAttribute("offset"),o=void 0;o=r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var i=n.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:o,color:i})}n=n.nextSibling}}function qE(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),U(t.__inheritedStyle,e.__inheritedStyle))}function WE(e){for(var t=Ce(e).split(VE),n=[],r=0;r<t.length;r+=2){var o=parseFloat(t[r]),i=parseFloat(t[r+1]);n.push([o,i])}return n}var GE={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function YE(e,t,n,r){var o=t,i=o.__inheritedStyle||{};if(1===e.nodeType&&(ZE(e,t),H(i,eA(e)),!r))for(var a in GE)if(GE.hasOwnProperty(a)){var s=e.getAttribute(a);null!=s&&(i[GE[a]]=s)}o.style=o.style||{},null!=i.fill&&(o.style.fill=XE(i.fill,n)),null!=i.stroke&&(o.style.stroke=XE(i.stroke,n)),K(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(e){null!=i[e]&&(o.style[e]=parseFloat(i[e]))})),i.textBaseline&&"auto"!==i.textBaseline||(i.textBaseline="alphabetic"),"alphabetic"===i.textBaseline&&(i.textBaseline="bottom"),"start"===i.textAlign&&(i.textAlign="left"),"end"===i.textAlign&&(i.textAlign="right"),K(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],(function(e){null!=i[e]&&(o.style[e]=i[e])})),i.lineDash&&(o.style.lineDash=X(Ce(i.lineDash).split(VE),(function(e){return parseFloat(e)}))),o.__inheritedStyle=i}var KE=/url\(\s*#(.*?)\)/;function XE(e,t){var n=t&&e&&e.match(KE);if(n){var r=Ce(n[1]),o=t[r];return o}return e}var JE=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function ZE(e,t){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=[],o=null;n.replace(JE,(function(e,t,n){return r.push(t,n),""}));for(var i=r.length-1;i>0;i-=2){var a=r[i],s=r[i-1],l=void 0;switch(o=o||qt(),s){case"translate":l=Ce(a).split(VE),Kt(o,o,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":l=Ce(a).split(VE),Jt(o,o,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":l=Ce(a).split(VE),Xt(o,o,parseFloat(l[0]));break;case"skew":l=Ce(a).split(VE);break;case"matrix":l=Ce(a).split(VE),o[0]=parseFloat(l[0]),o[1]=parseFloat(l[1]),o[2]=parseFloat(l[2]),o[3]=parseFloat(l[3]),o[4]=parseFloat(l[4]),o[5]=parseFloat(l[5]);break}}t.setLocalTransform(o)}}var QE=/([^\s:;]+)\s*:\s*([^:;]+)/g;function eA(e){var t=e.getAttribute("style"),n={};if(!t)return n;var r,o={};QE.lastIndex=0;while(null!=(r=QE.exec(t)))o[r[1]]=r[2];for(var i in GE)GE.hasOwnProperty(i)&&null!=o[i]&&(n[GE[i]]=o[i]);return n}function tA(e,t,n){var r=t/e.width,o=n/e.height,i=Math.min(r,o);return{scale:i,x:-(e.x+e.width/2)*i+t/2,y:-(e.y+e.height/2)*i+n/2}}function nA(e,t){var n=new HE;return n.parse(e,t)}var rA=Ki(),oA={load:function(e,t){var n=rA(t).originRoot;if(n)return{root:n,boundingRect:rA(t).boundingRect};var r=iA(t);return rA(t).originRoot=r.root,rA(t).boundingRect=r.boundingRect,r},makeGraphic:function(e,t,n){var r=rA(t),o=r.rootMap||(r.rootMap=Me()),i=o.get(n);if(i)return i;var a=r.originRoot,s=r.boundingRect;return r.originRootHostKey?i=iA(t,s).root:(r.originRootHostKey=n,i=a),o.set(n,i)},removeGraphic:function(e,t,n){var r=rA(t),o=r.rootMap;o&&o.removeKey(n),n===r.originRootHostKey&&(r.originRootHostKey=null)}};function iA(e,t){var n,r,o=e.svgXML;try{n=o&&nA(o,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=n.root,_e(null!=r)}catch(c){throw new Error("Invalid svg format\n"+c.message)}var i=n.width,a=n.height,s=n.viewBoxRect;if(t||(t=null==i||null==a?r.getBoundingRect():new Cr(0,0,0,0),null!=i&&(t.width=i),null!=a&&(t.height=a)),s){var l=tA(s,t.width,t.height),u=r;r=new Vo,r.add(u),u.scaleX=u.scaleY=l.scale,u.x=l.x,u.y=l.y}return r.setClipPath(new Kl({shape:t.plain()})),{root:r,boundingRect:t}}var aA={geoJSON:BE,svg:oA},sA={load:function(e,t,n){var r,o=[],i=Me(),a=Me(),s=lA(e);return K(s,(function(s){var l=aA[s.type].load(e,s,n);K(l.regions,(function(e){var n=e.name;t&&t.hasOwnProperty(n)&&(e=e.cloneShallow(n=t[n])),o.push(e),i.set(n,e),a.set(n,e.center)}));var u=l.boundingRect;u&&(r?r.union(u):r=u.clone())})),{regions:o,regionsMap:i,nameCoordMap:a,boundingRect:r||new Cr(0,0,0,0)}},makeGraphic:function(e,t){var n=lA(e),r=[];return K(n,(function(n){var o=aA[n.type].makeGraphic;o&&r.push(o(e,n,t))})),r},removeGraphic:function(e,t){var n=lA(e);K(n,(function(n){var r=aA[n.type].makeGraphic;r&&r(e,n,t)}))}};function lA(e){var t=Yy.retrieveMap(e)||[];return t}function uA(e){var t=e.getItemStyle(),n=e.get("areaColor");return null!=n&&(t.fill=n),t}var cA=function(){function e(e){var t=new Vo;this.uid=up("ec_map_draw"),this._controller=new wE(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new Vo),t.add(this._backgroundGroup=new Vo)}return e.prototype.draw=function(e,t,n,r,o){var i="geo"===e.mainType,a=e.getData&&e.getData();i&&t.eachComponent({mainType:"series",subType:"map"},(function(t){a||t.getHostGeoModel()!==e||(a=t.getData())}));var s=e.coordinateSystem;this._updateBackground(s);var l,u,c=this._regionsGroup,d=this.group,f=s.getTransformInfo(),p=!c.childAt(0)||o;if(p)d.transform=f.roamTransform,d.decomposeTransform(),d.dirty();else{var h=new un;h.transform=f.roamTransform,h.decomposeTransform();var m={scaleX:h.scaleX,scaleY:h.scaleY,x:h.x,y:h.y};l=h.scaleX,u=h.scaleY,hf(d,m,e)}c.removeAll();var g=Me(),v=a&&a.getVisual("visualMeta")&&a.getVisual("visualMeta").length>0;K(s.regions,(function(t){var r=g.get(t.name)||g.set(t.name,new Vo),o=new jd({segmentIgnoreThreshold:1,shape:{paths:[]}});r.add(o);var s,h=e.getRegionModel(t.name)||e,m=h.getModel("itemStyle"),y=h.getModel("emphasis"),b=y.getModel("itemStyle"),x=h.getModel(["blur","itemStyle"]),w=h.getModel(["select","itemStyle"]),_=uA(m),C=uA(b),S=uA(x),k=uA(w);if(a){s=a.indexOfName(t.name);var O=a.getItemVisual(s,"style"),T=a.getItemVisual(s,"decal");v&&O.fill&&(_.fill=O.fill),T&&(_.decal=zx(T,n))}var M=f.rawScaleX,D=f.rawScaleY,I=f.rawX,E=f.rawY,A=function(e){return[e[0]*M+I,e[1]*D+E]};K(t.geometries,(function(e){if("polygon"===e.type){for(var t=[],n=0;n<e.exterior.length;++n)t.push(A(e.exterior[n]));o.shape.paths.push(new vd({segmentIgnoreThreshold:1,shape:{points:t}}));for(n=0;n<(e.interiors?e.interiors.length:0);++n){for(var r=e.interiors[n],i=[],a=0;a<r.length;++a)i.push(A(r[a]));o.shape.paths.push(new vd({segmentIgnoreThreshold:1,shape:{points:i}}))}}})),o.setStyle(_),o.style.strokeNoScale=!0,o.culling=!0,o.ensureState("emphasis").style=C,o.ensureState("blur").style=S,o.ensureState("select").style=k;for(var L=!1,j=0;j<yu.length;j++){var N=yu[j];if(h.get("normal"===N?["label","show"]:[N,"label","show"])){L=!0;break}}var P=a&&isNaN(a.get(a.mapDimension("value"),s)),R=a&&a.getItemLayout(s);if(i||P&&L||R&&R.showLabel){var B=i?t.name:s,F=void 0;(!a||s>=0)&&(F=e);var z=A(t.center),V=new uu({x:z[0],y:z[1],scaleX:1/d.scaleX,scaleY:1/d.scaleY,z2:10,silent:!0});Pf(V,Rf(h),{labelFetcher:F,labelDataIndex:B,defaultText:t.name},{normal:{align:"center",verticalAlign:"middle"}}),o.setTextContent(V),o.setTextConfig({local:!0}),o.disableLabelAnimation=!0,p||hf(V,{scaleX:1/l,scaleY:1/u},e)}if(a)a.setItemGraphicEl(s,r);else{var H=e.getRegionModel(t.name);cu(o).eventData={componentType:"geo",componentIndex:e.componentIndex,geoIndex:e.componentIndex,name:t.name,region:H&&H.option||{}}}var U=r.__regions||(r.__regions=[]);U.push(t),r.highDownSilentOnTouch=!!e.get("selectedMode"),ac(r,y.get("focus"),y.get("blurScope")),c.add(r)})),this._updateController(e,t,n),this._updateMapSelectHandler(e,c,n,r)},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&sA.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost=null},e.prototype._updateBackground=function(e){var t=e.map;this._mapName!==t&&K(sA.makeGraphic(t,this.uid),(function(e){this._backgroundGroup.add(e)}),this),this._mapName=t},e.prototype._updateController=function(e,t,n){var r=e.coordinateSystem,o=this._controller,i=this._controllerHost;i.zoomLimit=e.get("scaleLimit"),i.zoom=r.getZoom(),o.enable(e.get("roam")||!1);var a=e.mainType;function s(){var t={type:"geoRoam",componentType:a};return t[a+"Id"]=e.id,t}o.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,_E(i,e.dx,e.dy),n.dispatchAction(H(s(),{dx:e.dx,dy:e.dy}))}),this),o.off("zoom").on("zoom",(function(e){this._mouseDownFlag=!1,CE(i,e.scale,e.originX,e.originY),n.dispatchAction(H(s(),{zoom:e.scale,originX:e.originX,originY:e.originY}));var t=this.group;this._regionsGroup.traverse((function(e){var n=e.getTextContent();n&&(n.scaleX=1/t.scaleX,n.scaleY=1/t.scaleY,n.markRedraw())}))}),this),o.setPointerChecker((function(t,o,i){return r.getViewRectAfterRoam().contain(o,i)&&!kE(t,n,e)}))},e.prototype._updateMapSelectHandler=function(e,t,n,r){var o=this;t.off("mousedown"),e.get("selectedMode")&&(t.on("mousedown",(function(){o._mouseDownFlag=!0})),t.on("click",(function(e){o._mouseDownFlag&&(o._mouseDownFlag=!1)})))},e}(),dA=cA,fA=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n,r){if(!r||"mapToggleSelect"!==r.type||r.from!==this.uid){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===e.id){i=this._mapDraw;i&&o.add(i.group)}else if(e.needsDrawMap){var i=this._mapDraw||new dA(n);o.add(i.group),i.draw(e,t,n,this,r),this._mapDraw=i}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,n){var r=e.originalData,o=this.group;r.each(r.mapDimension("value"),(function(t,n){if(!isNaN(t)){var i=r.getItemLayout(n);if(i&&i.point){var a=i.point,s=i.offset,l=new Vc({style:{fill:e.getData().getVisual("style").fill},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:8+(s?0:bu+1)});if(!s){var u=e.mainSeries.getData(),c=r.getName(n),d=u.indexOfName(c),f=r.getItemModel(n),p=f.getModel("label"),h=u.getItemGraphicEl(d);Pf(l,Rf(f),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(d,n)}}}),l.disableLabelAnimation=!0,p.get("position")||l.setTextConfig({position:"bottom"}),h.onHoverStateChange=function(e){l.useState(e)}}o.add(l)}}}))},t.type="map",t}(oy),pA=fA,hA=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,r=n.getRegion(t);return r&&n.dataToPoint(r.center)}},n}return g(t,e),t.prototype.getInitialData=function(e){for(var t=hD(this,{coordDimensions:["value"],encodeDefaulter:re(Zh,this)}),n=Me(),r=[],o=0,i=t.count();o<i;o++){var a=t.getName(o);n.set(a,!0)}var s=sA.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return K(s.regions,(function(e){var t=e.name;n.get(t)||r.push(t)})),t.appendValues([],r),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,n){for(var r=this.getData(),o=this.getRawValue(e),i=r.getName(e),a=this.seriesGroup,s=[],l=0;l<a.length;l++){var u=a[l].originalData.indexOfName(i),c=r.mapDimension("value");isNaN(a[l].originalData.get(c,u))||s.push(a[l].name)}return bv("section",{header:s.join(", "),noHeader:!s.length,blocks:[bv("nameValue",{name:i,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Wv),mA=hA;function gA(e,t){var n={};return K(e,(function(e){e.each(e.mapDimension("value"),(function(t,r){var o="ec-"+e.getName(r);n[o]=n[o]||[],isNaN(t)||n[o].push(t)}))})),e[0].map(e[0].mapDimension("value"),(function(r,o){for(var i,a="ec-"+e[0].getName(o),s=0,l=1/0,u=-1/0,c=n[a].length,d=0;d<c;d++)l=Math.min(l,n[a][d]),u=Math.max(u,n[a][d]),s+=n[a][d];return i="min"===t?l:"max"===t?u:"average"===t?s/c:s,0===c?NaN:i}))}function vA(e){var t={};e.eachSeriesByType("map",(function(e){var n=e.getHostGeoModel(),r=n?"o"+n.id:"i"+e.getMapType();(t[r]=t[r]||[]).push(e)})),K(t,(function(e,t){for(var n=gA(X(e,(function(e){return e.getData()})),e[0].get("mapValueCalculation")),r=0;r<e.length;r++)e[r].originalData=e[r].getData();for(r=0;r<e.length;r++)e[r].seriesGroup=e,e[r].needsDrawMap=0===r&&!e[r].getHostGeoModel(),e[r].setData(n.cloneShallow()),e[r].mainSeries=e[0]}))}function yA(e){var t={};e.eachSeriesByType("map",(function(n){var r=n.getMapType();if(!n.getHostGeoModel()&&!t[r]){var o={};K(n.seriesGroup,(function(t){var n=t.coordinateSystem,r=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&r.each(r.mapDimension("value"),(function(e,t){var i=r.getName(t),a=n.getRegion(i);if(a&&!isNaN(e)){var s=o[i]||0,l=n.dataToPoint(a.center);o[i]=s+1,r.setItemLayout(t,{point:l,offset:s})}}))}));var i=n.getData();i.each((function(e){var t=i.getName(e),n=i.getItemLayout(e)||{};n.showLabel=!o[t],i.setItemLayout(e,n)})),t[r]=!0}}))}function bA(e){e.registerChartView(pA),e.registerSeriesModel(mA),e.registerLayout(yA),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,vA),Vb("map",e.registerAction)}function xA(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var n,r,o=[t];while(n=o.pop())if(r=n.children,n.isExpand&&r.length)for(var i=r.length,a=i-1;a>=0;a--){var s=r[a];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:a,thread:null},o.push(s)}}function wA(e,t){var n=e.isExpand?e.children:[],r=e.parentNode.children,o=e.hierNode.i?r[e.hierNode.i-1]:null;if(n.length){OA(e);var i=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;o?(e.hierNode.prelim=o.hierNode.prelim+t(e,o),e.hierNode.modifier=e.hierNode.prelim-i):e.hierNode.prelim=i}else o&&(e.hierNode.prelim=o.hierNode.prelim+t(e,o));e.parentNode.hierNode.defaultAncestor=TA(e,o,e.parentNode.hierNode.defaultAncestor||r[0],t)}function _A(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function CA(e){return arguments.length?e:AA}function SA(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function kA(e,t){return kh(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function OA(e){var t=e.children,n=t.length,r=0,o=0;while(--n>=0){var i=t[n];i.hierNode.prelim+=r,i.hierNode.modifier+=r,o+=i.hierNode.change,r+=i.hierNode.shift+o}}function TA(e,t,n,r){if(t){var o=e,i=e,a=i.parentNode.children[0],s=t,l=o.hierNode.modifier,u=i.hierNode.modifier,c=a.hierNode.modifier,d=s.hierNode.modifier;while(s=MA(s),i=DA(i),s&&i){o=MA(o),a=DA(a),o.hierNode.ancestor=e;var f=s.hierNode.prelim+d-i.hierNode.prelim-u+r(s,i);f>0&&(EA(IA(s,e,n),e,f),u+=f,l+=f),d+=s.hierNode.modifier,u+=i.hierNode.modifier,l+=o.hierNode.modifier,c+=a.hierNode.modifier}s&&!MA(o)&&(o.hierNode.thread=s,o.hierNode.modifier+=d-l),i&&!DA(a)&&(a.hierNode.thread=i,a.hierNode.modifier+=u-c,n=e)}return n}function MA(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function DA(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function IA(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function EA(e,t,n){var r=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=r,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=r}function AA(e,t){return e.parentNode===t.parentNode?1:2}var LA=tt,jA=function(e){function t(t){var n=e.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new un,n._rawTransformable=new un,n.name=t,n}return g(t,e),t.prototype.setBoundingRect=function(e,t,n,r){return this._rect=new Cr(e,t,n,r),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,t,n,r){this.transformTo(e,t,n,r),this._viewRect=new Cr(e,t,n,r)},t.prototype.transformTo=function(e,t,n,r){var o=this.getBoundingRect(),i=this._rawTransformable;i.transform=o.calculateTransform(new Cr(e,t,n,r)),i.decomposeTransform(),this._updateTransform()},t.prototype.setCenter=function(e){e&&(this._center=e,this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),t=e.x+e.width/2,n=e.y+e.height/2;return[t,n]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),r=this.getCenter(),o=this.getZoom();r=tt([],r,e),n=tt([],n,e),t.originX=r[0],t.originY=r[1],t.x=n[0]-r[0],t.y=n[1]-r[1],t.scaleX=t.scaleY=o,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),Gt(this.transform||(this.transform=[]),t.transform||qt()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],Zt(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._roamTransformable.transform,t=this._rawTransformable;return{roamTransform:e?xe(e):qt(),rawScaleX:t.scaleX,rawScaleY:t.scaleY,rawX:t.x,rawY:t.y}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,t,n){var r=t?this._rawTransform:this.transform;return n=n||[],r?LA(n,e,r):je(n,e)},t.prototype.pointToData=function(e){var t=this.invTransform;return t?LA([],e,t):[e[0],e[1]]},t.prototype.convertToPixel=function(e,t,n){var r=NA(t);return r===this?r.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var r=NA(t);return r===this?r.pointToData(n):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(un);function NA(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var PA=jA,RA=function(){function e(){this.parentPoint=[],this.childPoints=[]}return e}(),BA=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new RA},t.prototype.buildPath=function(e,t){var n=t.childPoints,r=n.length,o=t.parentPoint,i=n[0],a=n[r-1];if(1===r)return e.moveTo(o[0],o[1]),void e.lineTo(i[0],i[1]);var s=t.orient,l="TB"===s||"BT"===s?0:1,u=1-l,c=ri(t.forkPosition,1),d=[];d[l]=o[l],d[u]=o[u]+(a[u]-o[u])*c,e.moveTo(o[0],o[1]),e.lineTo(d[0],d[1]),e.moveTo(i[0],i[1]),d[l]=i[l],e.lineTo(d[0],d[1]),d[l]=a[l],e.lineTo(d[0],d[1]),e.lineTo(a[0],a[1]);for(var f=1;f<r-1;f++){var p=n[f];e.moveTo(p[0],p[1]),d[l]=p[l],e.lineTo(d[0],d[1])}},t}(Al),FA=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._mainGroup=new Vo,n}return g(t,e),t.prototype.init=function(e,t){this._controller=new wE(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,n){var r=e.getData(),o=e.layoutInfo,i=this._mainGroup,a=e.get("layout");"radial"===a?(i.x=o.x+o.width/2,i.y=o.y+o.height/2):(i.x=o.x,i.y=o.y),this._updateViewCoordSys(e),this._updateController(e,t,n);var s=this._data;r.diff(s).add((function(t){zA(r,t)&&VA(r,t,null,i,e)})).update((function(t,n){var o=s.getItemGraphicEl(n);zA(r,t)?VA(r,t,o,i,e):o&&UA(s,n,o,i,e)})).remove((function(t){var n=s.getItemGraphicEl(t);n&&UA(s,t,n,i,e)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&r.eachItemGraphicEl((function(t,r){t.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:r})}))})),this._data=r},t.prototype._updateViewCoordSys=function(e){var t=e.getData(),n=[];t.each((function(e){var r=t.getItemLayout(e);!r||isNaN(r.x)||isNaN(r.y)||n.push([+r.x,+r.y])}));var r=[],o=[];Ls(n,r,o);var i=this._min,a=this._max;o[0]-r[0]===0&&(r[0]=i?i[0]:r[0]-1,o[0]=a?a[0]:o[0]+1),o[1]-r[1]===0&&(r[1]=i?i[1]:r[1]-1,o[1]=a?a[1]:o[1]+1);var s=e.coordinateSystem=new PA;s.zoomLimit=e.get("scaleLimit"),s.setBoundingRect(r[0],r[1],o[0]-r[0],o[1]-r[1]),s.setCenter(e.get("center")),s.setZoom(e.get("zoom")),this.group.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY}),this._min=r,this._max=o},t.prototype._updateController=function(e,t,n){var r=this,o=this._controller,i=this._controllerHost,a=this.group;o.setPointerChecker((function(t,r,o){var i=a.getBoundingRect();return i.applyTransform(a.transform),i.contain(r,o)&&!kE(t,n,e)})),o.enable(e.get("roam")),i.zoomLimit=e.get("scaleLimit"),i.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(t){_E(i,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){CE(i,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),r._updateNodeAndLinkScale(e),n.updateLabelLayout()}))},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),n=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(n)}))},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,r=t.scaleX||1,o=t.getZoom(),i=(o-1)*n+1;return i/r},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(oy);function zA(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)}function VA(e,t,n,r,o){var i=!n,a=e.tree.getNodeByDataIndex(t),s=a.getModel(),l=a.getVisual("style").fill,u=!1===a.isExpand&&0!==a.children.length?l:"#fff",c=e.tree.root,d=a.parentNode===c?a:a.parentNode||a,f=e.getItemGraphicEl(d.dataIndex),p=d.getLayout(),h=f?{x:f.__oldX,y:f.__oldY,rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:p,m=a.getLayout();i?(n=new TT(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),n.x=h.x,n.y=h.y):n.updateData(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=m.rawX,n.__radialRawY=m.rawY,r.add(n),e.setItemGraphicEl(t,n),n.__oldX=n.x,n.__oldY=n.y,hf(n,{x:m.x,y:m.y},o);var g=n.getSymbolPath();if("radial"===o.get("layout")){var v=c.children[0],y=v.getLayout(),b=v.children.length,x=void 0,w=void 0;if(m.x===y.x&&!0===a.isExpand){var _={x:(v.children[0].getLayout().x+v.children[b-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[b-1].getLayout().y)/2};x=Math.atan2(_.y-y.y,_.x-y.x),x<0&&(x=2*Math.PI+x),w=_.x<y.x,w&&(x-=Math.PI)}else x=Math.atan2(m.y-y.y,m.x-y.x),x<0&&(x=2*Math.PI+x),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(w=m.x<y.x,w&&(x-=Math.PI)):(w=m.x>y.x,w||(x-=Math.PI));var C=w?"left":"right",S=s.getModel("label"),k=S.get("rotate"),O=k*(Math.PI/180),T=g.getTextContent();T&&(g.setTextConfig({position:S.get("position")||C,rotation:null==k?-x:O,origin:"center"}),T.setStyle("verticalAlign","middle"))}var M=s.get(["emphasis","focus"]),D="ancestor"===M?a.getAncestorsIndices():"descendant"===M?a.getDescendantIndices():null;D&&(cu(n).focus=D),HA(o,a,c,n,h,p,m,r),n.__edge&&(n.onHoverStateChange=function(t){if("blur"!==t){var r=a.parentNode&&e.getItemGraphicEl(a.parentNode.dataIndex);r&&r.hoverState===mu||Bu(n.__edge,t)}})}function HA(e,t,n,r,o,i,a,s){var l=t.getModel(),u=e.get("edgeShape"),c=e.get("layout"),d=e.getOrient(),f=e.get(["lineStyle","curveness"]),p=e.get("edgeForkPosition"),h=l.getModel("lineStyle").getLineStyle(),m=r.__edge;if("curve"===u)t.parentNode&&t.parentNode!==n&&(m||(m=r.__edge=new Dd({shape:$A(c,d,f,o,o)})),hf(m,{shape:$A(c,d,f,i,a)},e));else if("polyline"===u)if("orthogonal"===c){if(t!==n&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var g=t.children,v=[],y=0;y<g.length;y++){var b=g[y].getLayout();v.push([b.x,b.y])}m||(m=r.__edge=new BA({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:d,forkPosition:p}})),hf(m,{shape:{parentPoint:[a.x,a.y],childPoints:v}},e)}}else 0;m&&(m.useStyle(U({strokeNoScale:!0,fill:null},h)),cc(m,l,"lineStyle"),$u(m),s.add(m))}function UA(e,t,n,r,o){var i,a=e.tree.getNodeByDataIndex(t),s=e.tree.root,l=a.parentNode===s?a:a.parentNode||a;while(i=l.getLayout(),null==i)l=l.parentNode===s?l:l.parentNode||l;var u={duration:o.get("animationDurationUpdate"),easing:o.get("animationEasingUpdate")};gf(n,{x:i.x+1,y:i.y+1},o,{cb:function(){r.remove(n),e.setItemGraphicEl(t,null)},removeOpt:u}),n.fadeOut(null,{fadeLabel:!0,animation:u});var c=e.getItemGraphicEl(l.dataIndex),d=c.__edge,f=n.__edge||(!1===l.isExpand||1===l.children.length?d:void 0),p=o.get("edgeShape"),h=o.get("layout"),m=o.get("orient"),g=o.get(["lineStyle","curveness"]);f&&("curve"===p?gf(f,{shape:$A(h,m,g,i,i),style:{opacity:0}},o,{cb:function(){r.remove(f)},removeOpt:u}):"polyline"===p&&"orthogonal"===o.get("layout")&&gf(f,{shape:{parentPoint:[i.x,i.y],childPoints:[[i.x,i.y]]},style:{opacity:0}},o,{cb:function(){r.remove(f)},removeOpt:u}))}function $A(e,t,n,r,o){var i,a,s,l,u,c,d,f;if("radial"===e){u=r.rawX,d=r.rawY,c=o.rawX,f=o.rawY;var p=SA(u,d),h=SA(u,d+(f-d)*n),m=SA(c,f+(d-f)*n),g=SA(c,f);return{x1:p.x||0,y1:p.y||0,x2:g.x||0,y2:g.y||0,cpx1:h.x||0,cpy1:h.y||0,cpx2:m.x||0,cpy2:m.y||0}}return u=r.x,d=r.y,c=o.x,f=o.y,"LR"!==t&&"RL"!==t||(i=u+(c-u)*n,a=d,s=c+(u-c)*n,l=f),"TB"!==t&&"BT"!==t||(i=u,a=d+(f-d)*n,s=c,l=f+(d-f)*n),{x1:u,y1:d,x2:c,y2:f,cpx1:i,cpy1:a,cpx2:s,cpy2:l}}var qA=FA,WA=Ki();function GA(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,eL(t,n,e),K(n,(function(n){K(t.TRANSFERABLE_METHODS,(function(t){n.wrapMethod(t,re(YA,e))}))})),t.wrapMethod("cloneShallow",re(XA,e)),K(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,re(KA,e))})),_e(n[t.dataType]===t)}function YA(e,t){if(QA(this)){var n=H({},WA(this).datas);n[this.dataType]=t,eL(t,n,e)}else tL(t,this.dataType,WA(this).mainData,e);return t}function KA(e,t){return e.struct&&e.struct.update(),t}function XA(e,t){return K(WA(t).datas,(function(n,r){n!==t&&tL(n.cloneShallow(),r,t,e)})),t}function JA(e){var t=WA(this).mainData;return null==e||null==t?t:WA(t).datas[e]}function ZA(){var e=WA(this).mainData;return null==e?[{data:e}]:X(ee(WA(e).datas),(function(t){return{type:t,data:WA(e).datas[t]}}))}function QA(e){return WA(e).mainData===e}function eL(e,t,n){WA(e).datas={},K(t,(function(t,r){tL(t,r,e,n)}))}function tL(e,t,n,r){WA(n).datas[t]=e,WA(e).mainData=n,e.dataType=t,r.struct&&(e[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=e),e.getLinkedData=JA,e.getLinkedDataAll=ZA}var nL=GA,rL=function(){function e(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(e,t,n){"function"===typeof e&&(n=t,t=e,e=null),e=e||{},ae(e)&&(e={order:e});var r,o=e.order||"preorder",i=this[e.attr||"children"];"preorder"===o&&(r=t.call(n,this));for(var a=0;!r&&a<i.length;a++)i[a].eachNode(e,t,n);"postorder"===o&&t.call(n,this)},e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},e.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,r=n.length;t<r;t++){var o=n[t].getNodeById(e);if(o)return o}},e.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,r=n.length;t<r;t++){var o=n[t].contains(e);if(o)return o}},e.prototype.getAncestors=function(e){var t=[],n=e?this:this.parentNode;while(n)t.push(n),n=n.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){var e=[],t=this;while(t)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},e.prototype.getDescendantIndices=function(){var e=[];return this.eachNode((function(t){e.push(t.dataIndex)})),e},e.prototype.getValue=function(e){var t=this.hostTree.data;return t.get(t.getDimension(e||"value"),this.dataIndex)},e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.isAncestorOf=function(e){var t=e.parentNode;while(t){if(t===this)return!0;t=t.parentNode}return!1},e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},e}(),oL=function(){function e(e){this.type="tree",this._nodes=[],this.hostModel=e}return e.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},e.prototype.getNodeById=function(e){return this.root.getNodeById(e)},e.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,r=t.length;n<r;n++)t[n].dataIndex=-1;for(n=0,r=e.count();n<r;n++)t[e.getRawIndex(n)].dataIndex=n},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,n,r){var o=new e(n),i=[],a=1;function s(e,t){var n=e.value;a=Math.max(a,oe(n)?n.length:1),i.push(e);var r=new rL(Vi(e.name,""),o);t?iL(r,t):o.root=r,o._nodes.push(r);var l=e.children;if(l)for(var u=0;u<l.length;u++)s(l[u],r)}s(t),o.root.updateDepthAndHeight(0);var l=AC(i,{coordDimensions:["value"],dimensionsCount:a}),u=new TC(l,n);return u.initData(i),r&&r(u),nL({mainData:u,struct:o,structAttr:"tree"}),o.update(),o},e}();function iL(e,t){var n=t.children;e.parentNode!==t&&(n.push(e),e.parentNode=t)}var aL=oL,sL=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return g(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},n=e.leaves||{},r=new sp(n,this,this.ecModel),o=aL.createTree(t,this,i);function i(e){e.wrapMethod("getItemModel",(function(e,t){var n=o.getNodeByDataIndex(t);return n.children.length&&n.isExpand||(e.parentModel=r),e}))}var a=0;o.eachNode("preorder",(function(e){e.depth>a&&(a=e.depth)}));var s=e.expandAndCollapse,l=s&&e.initialTreeDepth>=0?e.initialTreeDepth:a;return o.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=l})),o.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,n){var r=this.getData().tree,o=r.root.children[0],i=r.getNodeByDataIndex(e),a=i.getValue(),s=i.name;while(i&&i!==o)s=i.parentNode.name+"."+s,i=i.parentNode;return bv("nameValue",{name:s,value:a,noValue:isNaN(a)||null==a})},t.type="series.tree",t.layoutMode="box",t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Wv),lL=sL;function uL(e,t,n){var r,o=[e],i=[];while(r=o.pop())if(i.push(r),r.isExpand){var a=r.children;if(a.length)for(var s=0;s<a.length;s++)o.push(a[s])}while(r=i.pop())t(r,n)}function cL(e,t){var n,r=[e];while(n=r.pop())if(t(n),n.isExpand){var o=n.children;if(o.length)for(var i=o.length-1;i>=0;i--)r.push(o[i])}}function dL(e,t){e.eachSeriesByType("tree",(function(e){fL(e,t)}))}function fL(e,t){var n=kA(e,t);e.layoutInfo=n;var r=e.get("layout"),o=0,i=0,a=null;"radial"===r?(o=2*Math.PI,i=Math.min(n.height,n.width)/2,a=CA((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(o=n.width,i=n.height,a=CA());var s=e.getData().tree.root,l=s.children[0];if(l){xA(s),uL(l,wA,a),s.hierNode.modifier=-l.hierNode.prelim,cL(l,_A);var u=l,c=l,d=l;cL(l,(function(e){var t=e.getLayout().x;t<u.getLayout().x&&(u=e),t>c.getLayout().x&&(c=e),e.depth>d.depth&&(d=e)}));var f=u===c?1:a(u,c)/2,p=f-u.getLayout().x,h=0,m=0,g=0,v=0;if("radial"===r)h=o/(c.getLayout().x+f+p),m=i/(d.depth-1||1),cL(l,(function(e){g=(e.getLayout().x+p)*h,v=(e.depth-1)*m;var t=SA(g,v);e.setLayout({x:t.x,y:t.y,rawX:g,rawY:v},!0)}));else{var y=e.getOrient();"RL"===y||"LR"===y?(m=i/(c.getLayout().x+f+p),h=o/(d.depth-1||1),cL(l,(function(e){v=(e.getLayout().x+p)*m,g="LR"===y?(e.depth-1)*h:o-(e.depth-1)*h,e.setLayout({x:g,y:v},!0)}))):"TB"!==y&&"BT"!==y||(h=o/(c.getLayout().x+f+p),m=i/(d.depth-1||1),cL(l,(function(e){g=(e.getLayout().x+p)*h,v="TB"===y?(e.depth-1)*m:i-(e.depth-1)*m,e.setLayout({x:g,y:v},!0)})))}}}function pL(e){e.eachSeriesByType("tree",(function(e){var t=e.getData(),n=t.tree;n.eachNode((function(e){var n=e.getModel(),r=n.getModel("itemStyle").getItemStyle(),o=t.ensureUniqueItemVisual(e.dataIndex,"style");H(o,r)}))}))}function hL(e,t,n){var r=e.getZoom(),o=e.getCenter(),i=t.zoom,a=e.dataToPoint(o);if(null!=t.dx&&null!=t.dy&&(a[0]-=t.dx,a[1]-=t.dy,e.setCenter(e.pointToData(a))),null!=i){if(n){var s=n.min||0,l=n.max||1/0;i=Math.max(Math.min(r*i,l),s)/r}e.scaleX*=i,e.scaleY*=i;var u=(t.originX-e.x)*(i-1),c=(t.originY-e.y)*(i-1);e.x-=u,e.y-=c,e.updateTransform(),e.setCenter(e.pointToData(a)),e.setZoom(i*r)}return{center:e.getCenter(),zoom:e.getZoom()}}function mL(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=e.dataIndex,r=t.getData().tree,o=r.getNodeByDataIndex(n);o.isExpand=!o.isExpand}))})),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=t.coordinateSystem,r=hL(n,e);t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom)}))}))}function gL(e){e.registerChartView(qA),e.registerSeriesModel(lL),e.registerLayout(dL),e.registerVisual(pL),mL(e)}function vL(e,t,n){if(e&&q(t,e.type)>=0){var r=n.getData().tree.root,o=e.targetNode;if("string"===typeof o&&(o=r.getNodeById(o)),o&&r.contains(o))return{node:o};var i=e.targetNodeId;if(null!=i&&(o=r.getNodeById(i)))return{node:o}}}function yL(e){var t=[];while(e)e=e.parentNode,e&&t.push(e);return t.reverse()}function bL(e,t){var n=yL(e);return q(n,t)>=0}function xL(e,t){var n=[];while(e){var r=e.dataIndex;n.push({name:e.name,dataIndex:r,value:t.getRawValue(r)}),e=e.parentNode}return n.reverse(),n}var wL=function(){},_L=["treemapZoomToNode","treemapRender","treemapMove"];function CL(e){for(var t=0;t<_L.length;t++)e.registerAction({type:_L[t],update:"updateView"},wL);e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){function n(t,n){var r=["treemapZoomToNode","treemapRootToNode"],o=vL(e,r,t);if(o){var i=t.getViewRoot();i&&(e.direction=bL(i,o.node)?"rollUp":"drillDown"),t.resetViewRoot(o.node)}}t.eachComponent({mainType:"series",subType:"treemap",query:e},n)}))}function SL(e){var t=e.getData(),n=t.tree,r={};n.eachNode((function(t){var n=t;while(n&&n.depth>1)n=n.parentNode;var o=fm(e.ecModel,n.name||n.dataIndex+"",r);t.setVisual("decal",o)}))}var kL=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventUsingHoverLayer=!0,n}return g(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};OL(n);var r=e.levels||[],o=this.designatedVisualItemStyle={},i=new sp({itemStyle:o},this,t);r=e.levels=TL(r,t);var a=X(r||[],(function(e){return new sp(e,i,t)}),this),s=aL.createTree(n,this,l);function l(e){e.wrapMethod("getItemModel",(function(e,t){var n=s.getNodeByDataIndex(t),r=a[n.depth];return e.parentModel=r||i,e}))}return s.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,n){var r=this.getData(),o=this.getRawValue(e),i=r.getName(e);return bv("nameValue",{name:i,value:o})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=xL(r,this),n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},H(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=Me(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){SL(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Wv);function OL(e){var t=0;K(e.children,(function(e){OL(e);var n=e.value;oe(n)&&(n=n[0]),t+=n}));var n=e.value;oe(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),oe(e.value)?e.value[0]=n:e.value=n}function TL(e,t){var n=Ti(t.get("color")),r=Ti(t.get(["aria","decal","decals"]));if(n){var o,i;e=e||[],K(e,(function(e){var t=new sp(e),n=t.get("color"),r=t.get("decal");(t.get(["itemStyle","color"])||n&&"none"!==n)&&(o=!0),(t.get(["itemStyle","decal"])||r&&"none"!==r)&&(i=!0)}));var a=e[0]||(e[0]={});return o||(a.color=n.slice()),!i&&r&&(a.decal=r.slice()),e}}var ML=kL,DL=8,IL=8,EL=5,AL=function(){function e(e){this.group=new Vo,e.add(this.group)}return e.prototype.render=function(e,t,n,r){var o=e.getModel("breadcrumb"),i=this.group;if(i.removeAll(),o.get("show")&&n){var a=o.getModel("itemStyle"),s=a.getModel("textStyle"),l={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,l,s),this._renderContent(e,l,a,s,r),Oh(i,l.pos,l.box)}},e.prototype._prepare=function(e,t,n){for(var r=e;r;r=r.parentNode){var o=Vi(r.getModel().get("name"),""),i=n.getTextRect(o),a=Math.max(i.width+2*DL,t.emptyItemWidth);t.totalWidth+=a+IL,t.renderList.push({node:r,text:o,width:a})}},e.prototype._renderContent=function(e,t,n,r,o){for(var i=0,a=t.emptyItemWidth,s=e.get(["breadcrumb","height"]),l=Sh(t.pos,t.box),u=t.totalWidth,c=t.renderList,d=c.length-1;d>=0;d--){var f=c[d],p=f.node,h=f.width,m=f.text;u>l.width&&(u-=h-a,h=a,m=null);var g=new vd({shape:{points:LL(i,0,h,s,d===c.length-1,0===d)},style:U(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new uu({style:{text:m,fill:r.getTextColor(),font:r.getFont()}}),textConfig:{position:"inside"},z:10,onclick:re(o,p)});g.disableLabelAnimation=!0,this.group.add(g),jL(g,e,p),i+=h+IL}},e.prototype.remove=function(){this.group.removeAll()},e}();function LL(e,t,n,r,o,i){var a=[[o?e:e-EL,t],[e+n,t],[e+n,t+r],[o?e:e-EL,t+r]];return!i&&a.splice(2,0,[e+n+EL,t+r/2]),!o&&a.push([e,t+r/2]),a}function jL(e,t,n){cu(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&xL(n,t)}}var NL=AL,PL=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(e,t,n,r,o){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:r,easing:o}),!0)},e.prototype.finished=function(e){return this._finishedCallback=e,this},e.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){t--,t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},r=0,o=this._storage.length;r<o;r++){var i=this._storage[r];i.el.animateTo(i.target,{duration:i.duration,delay:i.delay,easing:i.easing,setToFinal:!0,done:n,aborted:n})}return this},e}();function RL(){return new PL}var BL=Vo,FL=Kl,zL=3,VL="label",HL="upperLabel",UL=10,$L=1,qL=2,WL=xa([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),GL=function(e){var t=WL(e);return t.stroke=t.fill=t.lineWidth=null,t},YL=Ki(),KL=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._state="ready",n._storage=XL(),n}return g(t,e),t.prototype.render=function(e,t,n,r){var o=t.findComponents({mainType:"series",subType:"treemap",query:r});if(!(q(o,e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var i=["treemapZoomToNode","treemapRootToNode"],a=vL(r,i,e),s=r&&r.type,l=e.layoutInfo,u=!this._oldTree,c=this._storage,d="treemapRootToNode"===s&&a&&c?{rootNodeGroup:c.nodeGroup[a.node.getRawIndex()],direction:r.direction}:null,f=this._giveContainerGroup(l),p=this._doRender(f,e,d);u||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?p.renderFinally():this._doAnimation(f,p,e,d),this._resetController(n),this._renderBreadcrumb(e,n,a)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new BL,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,n){var r=t.getData().tree,o=this._oldTree,i=XL(),a=XL(),s=this._storage,l=[];function u(e,r,o,u){return JL(t,a,s,n,i,l,e,r,o,u)}d(r.root?[r.root]:[],o&&o.root?[o.root]:[],e,r===o||!o,0);var c=f(s);return this._oldTree=r,this._storage=a,{lastsForAnimation:i,willDeleteEls:c,renderFinally:p};function d(e,t,n,r,o){function i(e){return e.getId()}function a(i,a){var s=null!=i?e[i]:null,l=null!=a?t[a]:null,c=u(s,l,n,o);c&&d(s&&s.viewChildren||[],l&&l.viewChildren||[],c,r,o+1)}r?(t=e,K(e,(function(e,t){!e.isRemoved()&&a(t,t)}))):new G_(t,e,i,i).add(a).update(a).remove(re(a,null)).execute()}function f(e){var t=XL();return e&&K(e,(function(e,n){var r=t[n];K(e,(function(e){e&&(r.push(e),YL(e).willDelete=!0)}))})),t}function p(){K(c,(function(e){K(e,(function(e){e.parent&&e.parent.remove(e)}))})),K(l,(function(e){e.invisible=!0,e.dirty()}))}},t.prototype._doAnimation=function(e,t,n,r){if(n.get("animation")){var o=n.get("animationDurationUpdate"),i=n.get("animationEasing"),a=(ie(o)?0:o)||0,s=(ie(i)?null:i)||"cubicOut",l=RL();K(t.willDeleteEls,(function(e,t){K(e,(function(e,n){if(!e.invisible){var o,i=e.parent,u=YL(i);if(r&&"drillDown"===r.direction)o=i===r.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var c=0,d=0;u.willDelete||(c=u.nodeWidth/2,d=u.nodeHeight/2),o="nodeGroup"===t?{x:c,y:d,style:{opacity:0}}:{shape:{x:c,y:d,width:0,height:0},style:{opacity:0}}}o&&l.add(e,o,a,0,s)}}))})),K(this._storage,(function(e,n){K(e,(function(e,r){var o=t.lastsForAnimation[n][r],i={};o&&(e instanceof Vo?null!=o.oldX&&(i.x=e.x,i.y=e.y,e.x=o.oldX,e.y=o.oldY):(o.oldShape&&(i.shape=H({},e.shape),e.setShape(o.oldShape)),o.fadein?(e.setStyle("opacity",0),i.style={opacity:1}):1!==e.style.opacity&&(i.style={opacity:1})),l.add(e,i,a,0,s))}))}),this),this._state="animating",l.finished(ne((function(){this._state="ready",t.renderFinally()}),this)).start()}},t.prototype._resetController=function(e){var t=this._controller;t||(t=this._controller=new wE(e.getZr()),t.enable(this.seriesModel.get("roam")),t.on("pan",ne(this._onPan,this)),t.on("zoom",ne(this._onZoom,this)));var n=new Cr(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,r){return n.contain(t,r)}))},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>zL||Math.abs(e.dy)>zL)){var t=this.seriesModel.getData().tree.root;if(!t)return;var n=t.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},t.prototype._onZoom=function(e){var t=e.originX,n=e.originY;if("animating"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var o=r.getLayout();if(!o)return;var i=new Cr(o.x,o.y,o.width,o.height),a=this.seriesModel.layoutInfo;t-=a.x,n-=a.y;var s=qt();Kt(s,s,[-t,-n]),Jt(s,s,[e.scale,e.scale]),Kt(s,s,[t,n]),i.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x,y:i.y,width:i.width,height:i.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){if("ready"===t._state){var n=t.seriesModel.get("nodeClick",!0);if(n){var r=t.findTarget(e.offsetX,e.offsetY);if(r){var o=r.node;if(o.getLayout().isLeafRoot)t._rootToNode(r);else if("zoomToNode"===n)t._zoomToNode(r);else if("link"===n){var i=o.hostTree.data.getItemModel(o.dataIndex),a=i.get("link",!0),s=i.get("target",!0)||"blank";a&&yh(a,s)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,n){var r=this;n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2),n||(n={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new NL(this.group))).render(e,t,n.node,(function(t){"animating"!==r._state&&(bL(e.getViewRoot(),t)?r._rootToNode({node:t}):r._zoomToNode({node:t}))}))},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=XL(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var n,r=this.seriesModel.getViewRoot();return r.eachNode({attr:"viewChildren",order:"preorder"},(function(r){var o=this._storage.background[r.getRawIndex()];if(o){var i=o.transformCoordToLocal(e,t),a=o.shape;if(!(a.x<=i[0]&&i[0]<=a.x+a.width&&a.y<=i[1]&&i[1]<=a.y+a.height))return!1;n={node:r,offsetX:i[0],offsetY:i[1]}}}),this),n},t.type="treemap",t}(oy);function XL(){return{nodeGroup:[],background:[],content:[]}}function JL(e,t,n,r,o,i,a,s,l,u){if(a){var c=a.getLayout(),d=e.getData(),f=a.getModel();if(d.setItemGraphicEl(a.dataIndex,null),c&&c.isInView){var p=c.width,h=c.height,m=c.borderWidth,g=c.invisible,v=a.getRawIndex(),y=s&&s.getRawIndex(),b=a.viewChildren,x=c.upperHeight,w=b&&b.length,_=f.getModel("itemStyle"),C=f.getModel(["emphasis","itemStyle"]),S=f.getModel(["blur","itemStyle"]),k=f.getModel(["select","itemStyle"]),O=_.get("borderRadius")||0,T=B("nodeGroup",BL);if(T){if(l.add(T),T.x=c.x||0,T.y=c.y||0,T.markRedraw(),YL(T).nodeWidth=p,YL(T).nodeHeight=h,c.isAboveViewRoot)return T;var M=B("background",FL,u,$L);M&&L(T,M,w&&c.upperLabelHeight);var D=f.get(["emphasis","focus"]),I=f.get(["emphasis","blurScope"]),E="ancestor"===D?a.getAncestorsIndices():"descendant"===D?a.getDescendantIndices():null;if(w)fc(T)&&dc(T,!1),M&&(dc(M,!0),d.setItemGraphicEl(a.dataIndex,M),sc(M,E||D,I));else{var A=B("content",FL,u,qL);A&&j(T,A),M&&fc(M)&&dc(M,!1),dc(T,!0),d.setItemGraphicEl(a.dataIndex,T),sc(T,E||D,I)}return T}}}function L(t,n,r){var o=cu(n);if(o.dataIndex=a.dataIndex,o.seriesIndex=e.seriesIndex,n.setShape({x:0,y:0,width:p,height:h,r:O}),g)N(n);else{n.invisible=!1;var i=a.getVisual("style"),s=i.stroke,l=GL(_);l.fill=s;var u=WL(C);u.fill=C.get("borderColor");var c=WL(S);c.fill=S.get("borderColor");var d=WL(k);if(d.fill=k.get("borderColor"),r){var f=p-2*m;P(n,s,f,x,i.opacity,{x:m,y:0,width:f,height:x})}else n.removeTextContent();n.setStyle(l),n.ensureState("emphasis").style=u,n.ensureState("blur").style=c,n.ensureState("select").style=d,$u(n)}t.add(n)}function j(t,n){var r=cu(n);r.dataIndex=a.dataIndex,r.seriesIndex=e.seriesIndex;var o=Math.max(p-2*m,0),i=Math.max(h-2*m,0);if(n.culling=!0,n.setShape({x:m,y:m,width:o,height:i,r:O}),g)N(n);else{n.invisible=!1;var s=a.getVisual("style"),l=s.fill,u=GL(_);u.fill=l,u.decal=s.decal;var c=WL(C),d=WL(S),f=WL(k);P(n,l,o,s.opacity,i),n.setStyle(u),n.ensureState("emphasis").style=c,n.ensureState("blur").style=d,n.ensureState("select").style=f,$u(n)}t.add(n)}function N(e){!e.invisible&&i.push(e)}function P(t,n,r,o,i,s){var l=f.getModel(s?HL:VL),u=ve(e.getFormattedLabel(a.dataIndex,"normal",null,null,l.get("formatter")),Vi(f.get("name"),null));if(!s&&c.isLeafRoot){var d=e.get("drillDownIcon",!0);u=d?d+" "+u:u}var p=l.getShallow("show");Pf(t,Rf(f,s?HL:VL),{defaultText:p?u:null,inheritColor:n,defaultOpacity:r,labelFetcher:e,labelDataIndex:a.dataIndex});var h=t.getTextContent(),m=h.style,g=we(m.padding||0);s&&(t.setTextConfig({layoutRect:s}),h.disableLabelLayout=!0),h.beforeUpdate=function(){var e=Math.max((s?s.width:t.shape.width)-g[1]-g[3],0),n=Math.max((s?s.height:t.shape.height)-g[0]-g[2],0);m.width===e&&m.height===n||h.setStyle({width:e,height:n})},m.truncateMinChar=2,m.lineOverflow="truncate",R(m,s,c);var v=h.getState("emphasis");R(v?v.style:null,s,c)}function R(t,n,r){var o=t?t.text:null;if(!n&&r.isLeafRoot&&null!=o){var i=e.get("drillDownIcon",!0);t.text=i?i+" "+o:o}}function B(e,r,i,a){var s=null!=y&&n[e][y],l=o[e];return s?(n[e][y]=null,F(l,s)):g||(s=new r,s instanceof Qa&&(s.z=ZL(i,a)),z(l,s)),t[e][v]=s}function F(e,t){var n=e[v]={};t instanceof BL?(n.oldX=t.x,n.oldY=t.y):n.oldShape=H({},t.shape)}function z(e,t){var n=e[v]={},i=a.parentNode,s=t instanceof Vo;if(i&&(!r||"drillDown"===r.direction)){var l=0,u=0,c=o.background[i.getRawIndex()];!r&&c&&c.oldShape&&(l=c.oldShape.width,u=c.oldShape.height),s?(n.oldX=0,n.oldY=u):n.oldShape={x:l,y:u,width:0,height:0}}n.fadein=!s}}function ZL(e,t){var n=e*UL+t;return(n-1)/n}var QL=KL,ej=K,tj=ue,nj=-1,rj=function(){function e(t){var n=t.mappingMethod,r=t.type,o=this.option=F(t);this.type=r,this.mappingMethod=n,this._normalizeData=mj[n];var i=e.visualHandlers[r];this.applyVisual=i.applyVisual,this.getColorMapper=i.getColorMapper,this._normalizedToVisual=i._normalizedToVisual[n],"piecewise"===n?(aj(o),oj(o)):"category"===n?o.categories?ij(o):aj(o,!0):(_e("linear"!==n||o.dataExtent),aj(o))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return ne(this._normalizeData,this)},e.listVisualTypes=function(){return ee(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,n){ue(e)?K(e,t,n):t.call(n,e)},e.mapVisual=function(t,n,r){var o,i=oe(t)?[]:ue(t)?{}:(o=!0,null);return e.eachVisual(t,(function(e,t){var a=n.call(r,e,t);o?i=a:i[t]=a})),i},e.retrieveVisuals=function(t){var n,r={};return t&&ej(e.visualHandlers,(function(e,o){t.hasOwnProperty(o)&&(r[o]=t[o],n=!0)})),n?r:null},e.prepareVisualTypes=function(e){if(oe(e))e=e.slice();else{if(!tj(e))return[];var t=[];ej(e,(function(e,n){t.push(n)})),e=t}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},e.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,n){for(var r,o=1/0,i=0,a=t.length;i<a;i++){var s=t[i].value;if(null!=s){if(s===e||"string"===typeof s&&s===e+"")return i;n&&d(s,i)}}for(i=0,a=t.length;i<a;i++){var l=t[i],u=l.interval,c=l.close;if(u){if(u[0]===-1/0){if(gj(c[1],e,u[1]))return i}else if(u[1]===1/0){if(gj(c[0],u[0],e))return i}else if(gj(c[0],u[0],e)&&gj(c[1],e,u[1]))return i;n&&d(u[0],i),n&&d(u[1],i)}}if(n)return e===1/0?t.length-1:e===-1/0?0:r;function d(t,n){var i=Math.abs(t-e);i<o&&(o=i,r=n)}},e.visualHandlers={color:{applyVisual:uj("color"),getColorMapper:function(){var e=this.option;return ne("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),cj.call(this,e)}:function(t,n,r){var o=!!r;return!n&&(t=this._normalizeData(t)),r=Pn(t,e.parsedVisual,r),o?r:Hn(r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Hn(Pn(e,this.option.parsedVisual),"rgba")},category:cj,piecewise:function(e,t){var n=pj.call(this,t);return null==n&&(n=Hn(Pn(e,this.option.parsedVisual),"rgba")),n},fixed:dj}},colorHue:sj((function(e,t){return zn(e,t)})),colorSaturation:sj((function(e,t){return zn(e,null,t)})),colorLightness:sj((function(e,t){return zn(e,null,null,t)})),colorAlpha:sj((function(e,t){return Vn(e,t)})),decal:{applyVisual:uj("decal"),_normalizedToVisual:{linear:null,category:cj,piecewise:null,fixed:null}},opacity:{applyVisual:uj("opacity"),_normalizedToVisual:fj([0,1])},liftZ:{applyVisual:uj("liftZ"),_normalizedToVisual:{linear:dj,category:dj,piecewise:dj,fixed:dj}},symbol:{applyVisual:function(e,t,n){var r=this.mapValueToVisual(e);n("symbol",r)},_normalizedToVisual:{linear:lj,category:cj,piecewise:function(e,t){var n=pj.call(this,t);return null==n&&(n=lj.call(this,e)),n},fixed:dj}},symbolSize:{applyVisual:uj("symbolSize"),_normalizedToVisual:fj([0,1])}},e}();function oj(e){var t=e.pieceList;e.hasSpecialVisual=!1,K(t,(function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)}))}function ij(e){var t=e.categories,n=e.categoryMap={},r=e.visual;if(ej(t,(function(e,t){n[e]=t})),!oe(r)){var o=[];ue(r)?ej(r,(function(e,t){var r=n[t];o[null!=r?r:nj]=e})):o[nj]=r,r=hj(e,o)}for(var i=t.length-1;i>=0;i--)null==r[i]&&(delete n[t[i]],t.pop())}function aj(e,t){var n=e.visual,r=[];ue(n)?ej(n,(function(e){r.push(e)})):null!=n&&r.push(n);var o={color:1,symbol:1};t||1!==r.length||o.hasOwnProperty(e.type)||(r[1]=r[0]),hj(e,r)}function sj(e){return{applyVisual:function(t,n,r){var o=this.mapValueToVisual(t);r("color",e(n("color"),o))},_normalizedToVisual:fj([0,1])}}function lj(e){var t=this.option.visual;return t[Math.round(ni(e,[0,1],[0,t.length-1],!0))]||{}}function uj(e){return function(t,n,r){r(e,this.mapValueToVisual(t))}}function cj(e){var t=this.option.visual;return t[this.option.loop&&e!==nj?e%t.length:e]}function dj(){return this.option.visual[0]}function fj(e){return{linear:function(t){return ni(t,e,this.option.visual,!0)},category:cj,piecewise:function(t,n){var r=pj.call(this,n);return null==r&&(r=ni(t,e,this.option.visual,!0)),r},fixed:dj}}function pj(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var r=rj.findPieceIndex(e,n),o=n[r];if(o&&o.visual)return o.visual[this.type]}}function hj(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=X(t,(function(e){return En(e)}))),t}var mj={linear:function(e){return ni(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=rj.findPieceIndex(e,t,!0);if(null!=n)return ni(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?nj:t},fixed:Ae};function gj(e,t,n){return e?t<=n:t<n}var vj=rj,yj="itemStyle",bj=Ki(),xj={seriesType:"treemap",reset:function(e){var t=e.getData().tree,n=t.root;n.isRemoved()||wj(n,{},e.getViewRoot().getAncestors(),e)}};function wj(e,t,n,r){var o=e.getModel(),i=e.getLayout(),a=e.hostTree.data;if(i&&!i.invisible&&i.isInView){var s,l=o.getModel(yj),u=_j(l,t,r),c=a.ensureUniqueItemVisual(e.dataIndex,"style"),d=l.get("borderColor"),f=l.get("borderColorSaturation");null!=f&&(s=Cj(u),d=Sj(f,s)),c.stroke=d;var p=e.viewChildren;if(p&&p.length){var h=Oj(e,o,i,l,u,p);K(p,(function(e,t){if(e.depth>=n.length||e===n[e.depth]){var i=Mj(o,u,e,t,h,r);wj(e,i,n,r)}}))}else s=Cj(u),c.fill=s}}function _j(e,t,n){var r=H({},t),o=n.designatedVisualItemStyle;return K(["color","colorAlpha","colorSaturation"],(function(n){o[n]=t[n];var i=e.get(n);o[n]=null,null!=i&&(r[n]=i)})),r}function Cj(e){var t=kj(e,"color");if(t){var n=kj(e,"colorAlpha"),r=kj(e,"colorSaturation");return r&&(t=zn(t,null,null,r)),n&&(t=Vn(t,n)),t}}function Sj(e,t){return null!=t?zn(t,null,null,e):null}function kj(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function Oj(e,t,n,r,o,i){if(i&&i.length){var a=Tj(t,"color")||null!=o.color&&"none"!==o.color&&(Tj(t,"colorAlpha")||Tj(t,"colorSaturation"));if(a){var s=t.get("visualMin"),l=t.get("visualMax"),u=n.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var c=t.get("colorMappingBy"),d={type:a.name,dataExtent:u,visual:a.range};"color"!==d.type||"index"!==c&&"id"!==c?d.mappingMethod="linear":(d.mappingMethod="category",d.loop=!0);var f=new vj(d);return bj(f).drColorMappingBy=c,f}}}function Tj(e,t){var n=e.get(t);return oe(n)&&n.length?{name:t,range:n}:null}function Mj(e,t,n,r,o,i){var a=H({},t);if(o){var s=o.type,l="color"===s&&bj(o).drColorMappingBy,u="index"===l?r:"id"===l?i.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));a[s]=o.mapValueToVisual(u)}return a}var Dj=Math.max,Ij=Math.min,Ej=ve,Aj=K,Lj=["itemStyle","borderWidth"],jj=["itemStyle","gapWidth"],Nj=["upperLabel","show"],Pj=["upperLabel","height"],Rj={seriesType:"treemap",reset:function(e,t,n,r){var o=n.getWidth(),i=n.getHeight(),a=e.option,s=kh(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=a.size||[],u=ri(Ej(s.width,l[0]),o),c=ri(Ej(s.height,l[1]),i),d=r&&r.type,f=["treemapZoomToNode","treemapRootToNode"],p=vL(r,f,e),h="treemapRender"===d||"treemapMove"===d?r.rootRect:null,m=e.getViewRoot(),g=yL(m);if("treemapMove"!==d){var v="treemapZoomToNode"===d?qj(e,p,m,u,c):h?[h.width,h.height]:[u,c],y=a.sort;y&&"asc"!==y&&"desc"!==y&&(y="desc");var b={squareRatio:a.squareRatio,sort:y,leafDepth:a.leafDepth};m.hostTree.clearLayouts();var x={x:0,y:0,width:v[0],height:v[1],area:v[0]*v[1]};m.setLayout(x),Bj(m,b,!1,0),x=m.getLayout(),Aj(g,(function(e,t){var n=(g[t+1]||m).getValue();e.setLayout(H({dataExtent:[n,n],borderWidth:0,upperHeight:0},x))}))}var w=e.getData().tree.root;w.setLayout(Wj(s,h,p),!0),e.setLayoutInfo(s),Gj(w,new Cr(-s.x,-s.y,o,i),g,m,0)}};function Bj(e,t,n,r){var o,i;if(!e.isRemoved()){var a=e.getLayout();o=a.width,i=a.height;var s=e.getModel(),l=s.get(Lj),u=s.get(jj)/2,c=Yj(s),d=Math.max(l,c),f=l-u,p=d-u;e.setLayout({borderWidth:l,upperHeight:d,upperLabelHeight:c},!0),o=Dj(o-2*f,0),i=Dj(i-f-p,0);var h=o*i,m=Fj(e,s,h,t,n,r);if(m.length){var g={x:f,y:p,width:o,height:i},v=Ij(o,i),y=1/0,b=[];b.area=0;for(var x=0,w=m.length;x<w;){var _=m[x];b.push(_),b.area+=_.getLayout().area;var C=Uj(b,v,t.squareRatio);C<=y?(x++,y=C):(b.area-=b.pop().getLayout().area,$j(b,v,g,u,!1),v=Ij(g.width,g.height),b.length=b.area=0,y=1/0)}if(b.length&&$j(b,v,g,u,!0),!n){var S=s.get("childrenVisibleMin");null!=S&&h<S&&(n=!0)}for(x=0,w=m.length;x<w;x++)Bj(m[x],t,n,r+1)}}}function Fj(e,t,n,r,o,i){var a=e.children||[],s=r.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=r.leafDepth&&r.leafDepth<=i;if(o&&!l)return e.viewChildren=[];a=Z(a,(function(e){return!e.isRemoved()})),Vj(a,s);var u=Hj(t,a,s);if(0===u.sum)return e.viewChildren=[];if(u.sum=zj(t,n,u.sum,s,a),0===u.sum)return e.viewChildren=[];for(var c=0,d=a.length;c<d;c++){var f=a[c].getValue()/u.sum*n;a[c].setLayout({area:f})}return l&&(a.length&&e.setLayout({isLeafRoot:!0},!0),a.length=0),e.viewChildren=a,e.setLayout({dataExtent:u.dataExtent},!0),a}function zj(e,t,n,r,o){if(!r)return n;for(var i=e.get("visibleMin"),a=o.length,s=a,l=a-1;l>=0;l--){var u=o["asc"===r?a-l-1:l].getValue();u/n*t<i&&(s=l,n-=u)}return"asc"===r?o.splice(0,a-s):o.splice(s,a-s),n}function Vj(e,t){return t&&e.sort((function(e,n){var r="asc"===t?e.getValue()-n.getValue():n.getValue()-e.getValue();return 0===r?"asc"===t?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:r})),e}function Hj(e,t,n){for(var r=0,o=0,i=t.length;o<i;o++)r+=t[o].getValue();var a,s=e.get("visualDimension");return t&&t.length?"value"===s&&n?(a=[t[t.length-1].getValue(),t[0].getValue()],"asc"===n&&a.reverse()):(a=[1/0,-1/0],Aj(t,(function(e){var t=e.getValue(s);t<a[0]&&(a[0]=t),t>a[1]&&(a[1]=t)}))):a=[NaN,NaN],{sum:r,dataExtent:a}}function Uj(e,t,n){for(var r=0,o=1/0,i=0,a=void 0,s=e.length;i<s;i++)a=e[i].getLayout().area,a&&(a<o&&(o=a),a>r&&(r=a));var l=e.area*e.area,u=t*t*n;return l?Dj(u*r/l,l/(u*o)):1/0}function $j(e,t,n,r,o){var i=t===n.width?0:1,a=1-i,s=["x","y"],l=["width","height"],u=n[s[i]],c=t?e.area/t:0;(o||c>n[l[a]])&&(c=n[l[a]]);for(var d=0,f=e.length;d<f;d++){var p=e[d],h={},m=c?p.getLayout().area/c:0,g=h[l[a]]=Dj(c-2*r,0),v=n[s[i]]+n[l[i]]-u,y=d===f-1||v<m?v:m,b=h[l[i]]=Dj(y-2*r,0);h[s[a]]=n[s[a]]+Ij(r,g/2),h[s[i]]=u+Ij(r,b/2),u+=y,p.setLayout(h,!0)}n[s[a]]+=c,n[l[a]]-=c}function qj(e,t,n,r,o){var i,a=(t||{}).node,s=[r,o];if(!a||a===n)return s;var l=r*o,u=l*e.option.zoomToNodeRatio;while(i=a.parentNode){for(var c=0,d=i.children,f=0,p=d.length;f<p;f++)c+=d[f].getValue();var h=a.getValue();if(0===h)return s;u*=c/h;var m=i.getModel(),g=m.get(Lj),v=Math.max(g,Yj(m));u+=4*g*g+(3*g+v)*Math.pow(u,.5),u>ci&&(u=ci),a=i}u<l&&(u=l);var y=Math.pow(u/l,.5);return[r*y,o*y]}function Wj(e,t,n){if(t)return{x:t.x,y:t.y};var r={x:0,y:0};if(!n)return r;var o=n.node,i=o.getLayout();if(!i)return r;var a=[i.width/2,i.height/2],s=o;while(s){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:e.width/2-a[0],y:e.height/2-a[1]}}function Gj(e,t,n,r,o){var i=e.getLayout(),a=n[o],s=a&&a===e;if(!(a&&!s||o===n.length&&e!==r)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(i),isAboveViewRoot:s},!0);var l=new Cr(t.x-i.x,t.y-i.y,t.width,t.height);Aj(e.viewChildren||[],(function(e){Gj(e,l,n,r,o+1)}))}}function Yj(e){return e.get(Nj)?e.get(Pj):0}function Kj(e){e.registerSeriesModel(ML),e.registerChartView(QL),e.registerVisual(xj),e.registerLayout(Rj),CL(e)}function Xj(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),r=e.getGraph(),o=r.data,i=n.mapArray(n.getName);o.filterSelf((function(e){var n=o.getItemModel(e),r=n.getShallow("category");if(null!=r){"number"===typeof r&&(r=i[r]);for(var a=0;a<t.length;a++)if(!t[a].isSelected(r))return!1}return!0}))}))}function Jj(e){var t={};e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),r=e.getData(),o={};n.each((function(r){var i=n.getName(r);o["ec-"+i]=r;var a=n.getItemModel(r),s=a.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e.getColorFromPalette(i,t)),n.setItemVisual(r,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var c=a.getShallow(l[u],!0);null!=c&&n.setItemVisual(r,l[u],c)}})),n.count()&&r.each((function(e){var t=r.getItemModel(e),i=t.getShallow("category");if(null!=i){"string"===typeof i&&(i=o["ec-"+i]);var a=n.getItemVisual(i,"style"),s=r.ensureUniqueItemVisual(e,"style");H(s,a);for(var l=["symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++)r.setItemVisual(e,l[u],n.getItemVisual(i,l[u]))}}))}))}function Zj(e){return e instanceof Array||(e=[e,e]),e}function Qj(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph(),n=e.getEdgeData(),r=Zj(e.get("edgeSymbol")),o=Zj(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",o&&o[0]),n.setVisual("toSymbolSize",o&&o[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each((function(e){var r=n.getItemModel(e),o=t.getEdgeByIndex(e),i=Zj(r.getShallow("symbol",!0)),a=Zj(r.getShallow("symbolSize",!0)),s=r.getModel("lineStyle").getLineStyle(),l=n.ensureUniqueItemVisual(e,"style");switch(H(l,s),l.stroke){case"source":var u=o.node1.getVisual("style");l.stroke=u&&u.fill;break;case"target":u=o.node2.getVisual("style");l.stroke=u&&u.fill;break}i[0]&&o.setVisual("fromSymbol",i[0]),i[1]&&o.setVisual("toSymbol",i[1]),a[0]&&o.setVisual("fromSymbolSize",a[0]),a[1]&&o.setVisual("toSymbolSize",a[1])}))}))}var eN="--\x3e",tN=function(e){return e.get("autoCurveness")||null},nN=function(e,t){var n=tN(e),r=20,o=[];if("number"===typeof n)r=n;else if(oe(n))return void(e.__curvenessList=n);t>r&&(r=t);var i=r%2?r+2:r+3;o=[];for(var a=0;a<i;a++)o.push((a%2?a+1:a)/10*(a%2?-1:1));e.__curvenessList=o},rN=function(e,t,n){var r=[e.id,e.dataIndex].join("."),o=[t.id,t.dataIndex].join(".");return[n.uid,r,o].join(eN)},oN=function(e){var t=e.split(eN);return[t[0],t[2],t[1]].join(eN)},iN=function(e,t){var n=rN(e.node1,e.node2,t);return t.__edgeMap[n]},aN=function(e,t){var n=sN(rN(e.node1,e.node2,t),t),r=sN(rN(e.node2,e.node1,t),t);return n+r},sN=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function lN(e){tN(e)&&(e.__curvenessList=[],e.__edgeMap={},nN(e))}function uN(e,t,n,r){if(tN(n)){var o=rN(e,t,n),i=n.__edgeMap,a=i[oN(o)];i[o]&&!a?i[o].isForward=!0:a&&i[o]&&(a.isForward=!0,i[o].isForward=!1),i[o]=i[o]||[],i[o].push(r)}}function cN(e,t,n,r){var o=tN(t),i=oe(o);if(!o)return null;var a=iN(e,t);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===n){s=l;break}var u=aN(e,t);nN(t,u),e.lineStyle=e.lineStyle||{};var c=rN(e.node1,e.node2,t),d=t.__curvenessList,f=i||u%2?0:1;if(a.isForward)return d[f+s];var p=oN(c),h=sN(p,t),m=d[s+h+f];return r?i?o&&0===o[0]?(h+f)%2?m:-m:((h%2?0:1)+f)%2?m:-m:(h+f)%2?m:-m:d[s+h+f]}function dN(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),fN(n,e)}}function fN(e,t){e.eachEdge((function(e,n){var r=be(e.getModel().get(["lineStyle","curveness"]),-cN(e,t,n,!0),0),o=Ne(e.node1.getLayout()),i=Ne(e.node2.getLayout()),a=[o,i];+r&&a.push([(o[0]+i[0])/2-(o[1]-i[1])*r,(o[1]+i[1])/2-(i[0]-o[0])*r]),e.setLayout(a)}))}function pN(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),n=e.coordinateSystem;if(n&&"view"!==n.type){var r=e.getData(),o=[];K(n.dimensions,(function(e){o=o.concat(r.mapDimensionsAll(e))}));for(var i=0;i<r.count();i++){for(var a=[],s=!1,l=0;l<o.length;l++){var u=r.get(o[l],i);isNaN(u)||(s=!0),a.push(u)}s?r.setItemLayout(i,n.dataToPoint(a)):r.setItemLayout(i,[NaN,NaN])}fN(r.graph,e)}else t&&"none"!==t||dN(e)}))}function hN(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=e.option.nodeScaleRatio,r=t.scaleX,o=t.getZoom(),i=(o-1)*n+1;return i/r}function mN(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var gN=Math.PI,vN=[];function yN(e,t){var n=e.coordinateSystem;if(!n||"view"===n.type){var r=n.getBoundingRect(),o=e.getData(),i=o.graph,a=r.width/2+r.x,s=r.height/2+r.y,l=Math.min(r.width,r.height)/2,u=o.count();o.setLayout({cx:a,cy:s}),u&&(bN[t](e,i,o,l,a,s,u),i.eachEdge((function(t,n){var r,o=be(t.getModel().get(["lineStyle","curveness"]),cN(t,e,n),0),i=Ne(t.node1.getLayout()),l=Ne(t.node2.getLayout()),u=(i[0]+l[0])/2,c=(i[1]+l[1])/2;+o&&(o*=3,r=[a*o+u*(1-o),s*o+c*(1-o)]),t.setLayout([i,l,r])})))}}var bN={value:function(e,t,n,r,o,i,a){var s=0,l=n.getSum("value"),u=2*Math.PI/(l||a);t.eachNode((function(e){var t=e.getValue("value"),n=u*(l?t:1)/2;s+=n,e.setLayout([r*Math.cos(s)+o,r*Math.sin(s)+i]),s+=n}))},symbolSize:function(e,t,n,r,o,i,a){var s=0;vN.length=a;var l=hN(e);t.eachNode((function(e){var t=mN(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=l;var n=Math.asin(t/2/r);isNaN(n)&&(n=gN/2),vN[e.dataIndex]=n,s+=2*n}));var u=(2*gN-s)/a/2,c=0;t.eachNode((function(e){var t=u+vN[e.dataIndex];c+=t,e.setLayout([r*Math.cos(c)+o,r*Math.sin(c)+i]),c+=t}))}};function xN(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&yN(e,"symbolSize")}))}var wN=Be;function _N(e,t,n){for(var r=e,o=t,i=n.rect,a=i.width,s=i.height,l=[i.x+a/2,i.y+s/2],u=null==n.gravity?.1:n.gravity,c=0;c<r.length;c++){var d=r[c];d.p||(d.p=Le(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),d.pp=Ne(d.p),d.edges=null}var f,p,h=null==n.friction?.6:n.friction,m=h;return{warmUp:function(){m=.8*h},setFixed:function(e){r[e].fixed=!0},setUnfixed:function(e){r[e].fixed=!1},beforeStep:function(e){f=e},afterStep:function(e){p=e},step:function(e){f&&f(r,o);for(var t=[],n=r.length,i=0;i<o.length;i++){var a=o[i];if(!a.ignoreForceLayout){var s=a.n1,c=a.n2;Fe(t,c.p,s.p);var d=ze(t)-a.d,h=c.w/(s.w+c.w);isNaN(h)&&(h=0),Ye(t,t),!s.fixed&&wN(s.p,s.p,t,h*d*m),!c.fixed&&wN(c.p,c.p,t,-(1-h)*d*m)}}for(i=0;i<n;i++){var g=r[i];g.fixed||(Fe(t,l,g.p),wN(g.p,g.p,t,u*m))}for(i=0;i<n;i++){s=r[i];for(var v=i+1;v<n;v++){c=r[v];Fe(t,c.p,s.p);d=ze(t);0===d&&(Pe(t,Math.random()-.5,Math.random()-.5),d=1);var y=(s.rep+c.rep)/d/d;!s.fixed&&wN(s.pp,s.pp,t,y),!c.fixed&&wN(c.pp,c.pp,t,-y)}}var b=[];for(i=0;i<n;i++){g=r[i];g.fixed||(Fe(b,g.p,g.pp),wN(g.p,g.p,b,m),je(g.pp,g.p))}m*=.992;var x=m<.01;p&&p(r,o,x),e&&e(x)}}}function CN(e){e.eachSeriesByType("graph",(function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var n=e.preservedPoints||{},r=e.getGraph(),o=r.data,i=r.edgeData,a=e.getModel("force"),s=a.get("initLayout");e.preservedPoints?o.each((function(e){var t=o.getId(e);o.setItemLayout(e,n[t]||[NaN,NaN])})):s&&"none"!==s?"circular"===s&&yN(e,"value"):dN(e);var l=o.getDataExtent("value"),u=i.getDataExtent("value"),c=a.get("repulsion"),d=a.get("edgeLength"),f=oe(c)?c:[c,c],p=oe(d)?d:[d,d];p=[p[1],p[0]];var h=o.mapArray("value",(function(e,t){var n=o.getItemLayout(t),r=ni(e,l,f);return isNaN(r)&&(r=(f[0]+f[1])/2),{w:r,rep:r,fixed:o.getItemModel(t).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),m=i.mapArray("value",(function(t,n){var o=r.getEdgeByIndex(n),i=ni(t,u,p);isNaN(i)&&(i=(p[0]+p[1])/2);var a=o.getModel(),s=be(o.getModel().get(["lineStyle","curveness"]),-cN(o,e,n,!0),0);return{n1:h[o.node1.dataIndex],n2:h[o.node2.dataIndex],d:i,curveness:s,ignoreForceLayout:a.get("ignoreForceLayout")}})),g=t.getBoundingRect(),v=_N(h,m,{rect:g,gravity:a.get("gravity"),friction:a.get("friction")});v.beforeStep((function(e,t){for(var n=0,o=e.length;n<o;n++)e[n].fixed&&je(e[n].p,r.getNodeByIndex(n).getLayout())})),v.afterStep((function(e,t,i){for(var a=0,s=e.length;a<s;a++)e[a].fixed||r.getNodeByIndex(a).setLayout(e[a].p),n[o.getId(a)]=e[a].p;for(a=0,s=t.length;a<s;a++){var l=t[a],u=r.getEdgeByIndex(a),c=l.n1.p,d=l.n2.p,f=u.getLayout();f=f?f.slice():[],f[0]=f[0]||[],f[1]=f[1]||[],je(f[0],c),je(f[1],d),+l.curveness&&(f[2]=[(c[0]+d[0])/2-(c[1]-d[1])*l.curveness,(c[1]+d[1])/2-(d[0]-c[0])*l.curveness]),u.setLayout(f)}})),e.forceLayout=v,e.preservedPoints=n,v.step()}else e.forceLayout=null}))}function SN(e,t,n){var r=H(e.getBoxLayoutParams(),{aspect:n});return kh(r,{width:t.getWidth(),height:t.getHeight()})}function kN(e,t){var n=[];return e.eachSeriesByType("graph",(function(e){var r=e.get("coordinateSystem");if(!r||"view"===r){var o=e.getData(),i=o.mapArray((function(e){var t=o.getItemModel(e);return[+t.get("x"),+t.get("y")]})),a=[],s=[];Ls(i,a,s),s[0]-a[0]===0&&(s[0]+=1,a[0]-=1),s[1]-a[1]===0&&(s[1]+=1,a[1]-=1);var l=(s[0]-a[0])/(s[1]-a[1]),u=SN(e,t,l);isNaN(l)&&(a=[u.x,u.y],s=[u.x+u.width,u.y+u.height]);var c=s[0]-a[0],d=s[1]-a[1],f=u.width,p=u.height,h=e.coordinateSystem=new PA;h.zoomLimit=e.get("scaleLimit"),h.setBoundingRect(a[0],a[1],c,d),h.setViewRect(u.x,u.y,f,p),h.setCenter(e.get("center")),h.setZoom(e.get("zoom")),n.push(h)}})),n}var ON=Sd.prototype,TN=Dd.prototype,MN=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}();(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}g(t,e)})(MN);function DN(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var IN=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-line",n}return g(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new MN},t.prototype.buildPath=function(e,t){DN(t)?ON.buildPath.call(this,e,t):TN.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return DN(this.shape)?ON.pointAt.call(this,e):TN.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,n=DN(t)?[t.x2-t.x1,t.y2-t.y1]:TN.tangentAt.call(this,e);return Ye(n,n)},t}(Al),EN=IN,AN=["fromSymbol","toSymbol"];function LN(e){return"_"+e+"Type"}function jN(e,t,n){var r=t.getItemVisual(n,e);if(r&&"none"!==r){var o=t.getItemVisual(n,e+"Size"),i=t.getItemVisual(n,e+"Rotate"),a=oe(o)?o:[o,o],s=rx(r,-a[0]/2,-a[1]/2,a[0],a[1]);return s.__specifiedRotation=null==i||isNaN(i)?void 0:+i*Math.PI/180||0,s.name=e,s}}function NN(e){var t=new EN({name:"line",subPixelOptimize:!0});return PN(t.shape,e),t}function PN(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}var RN=function(e){function t(t,n,r){var o=e.call(this)||this;return o._createLine(t,n,r),o}return g(t,e),t.prototype._createLine=function(e,t,n){var r=e.hostModel,o=e.getItemLayout(t),i=NN(o);i.shape.percent=0,mf(i,{shape:{percent:1}},r,t),this.add(i),K(AN,(function(n){var r=jN(n,e,t);this.add(r),this[LN(n)]=e.getItemVisual(t,n)}),this),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var r=e.hostModel,o=this.childOfName("line"),i=e.getItemLayout(t),a={shape:{}};PN(a.shape,i),hf(o,a,r,t),K(AN,(function(n){var r=e.getItemVisual(t,n),o=LN(n);if(this[o]!==r){this.remove(this.childOfName(n));var i=jN(n,e,t);this.add(i)}this[o]=r}),this),this._updateCommonStl(e,t,n)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,n){var r=e.hostModel,o=this.childOfName("line"),i=n&&n.emphasisLineStyle,a=n&&n.blurLineStyle,s=n&&n.selectLineStyle,l=n&&n.labelStatesModels;if(!n||e.hasItemOption){var u=e.getItemModel(t);i=u.getModel(["emphasis","lineStyle"]).getLineStyle(),a=u.getModel(["blur","lineStyle"]).getLineStyle(),s=u.getModel(["select","lineStyle"]).getLineStyle(),l=Rf(u)}var c=e.getItemVisual(t,"style"),d=c.stroke;o.useStyle(c),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=i,o.ensureState("blur").style=a,o.ensureState("select").style=s,K(AN,(function(e){var t=this.childOfName(e);if(t){t.setColor(d),t.style.opacity=c.opacity;for(var n=0;n<vu.length;n++){var r=vu[n],i=o.getState(r);if(i){var a=i.style||{},s=t.ensureState(r),l=s.style||(s.style={});null!=a.stroke&&(l[t.__isEmptyBrush?"stroke":"fill"]=a.stroke),null!=a.opacity&&(l.opacity=a.opacity)}}t.markRedraw()}}),this);var f=r.getRawValue(t);Pf(this,l,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,n){return r.getFormattedLabel(t,n,e.dataType)}},inheritColor:d||"#000",defaultOpacity:c.opacity,defaultText:(null==f?e.getName(t):isFinite(f)?oi(f):f)+""});var p=this.getTextContent();if(p){var h=l.normal;p.__align=p.style.align,p.__verticalAlign=p.style.verticalAlign,p.__position=h.get("position")||"middle";var m=h.get("distance");oe(m)||(m=[m,m]),p.__labelDistance=m}this.setTextConfig({position:null,local:!0,inside:!1}),ac(this)},t.prototype.highlight=function(){Gu(this)},t.prototype.downplay=function(){Yu(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName("line");PN(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),n=e.childOfName("toSymbol"),r=e.getTextContent();if(t||n||r&&!r.ignore){var o=1,i=this.parent;while(i)i.scaleX&&(o/=i.scaleX),i=i.parent;var a=e.childOfName("line");if(this.__dirty||a.__dirty){var s=a.shape.percent,l=a.pointAt(0),u=a.pointAt(s),c=Fe([],u,l);if(Ye(c,c),t&&(t.setPosition(l),C(t,0),t.scaleX=t.scaleY=o*s,t.markRedraw()),n&&(n.setPosition(u),C(n,1),n.scaleX=n.scaleY=o*s,n.markRedraw()),r&&!r.ignore){r.x=r.y=0,r.originX=r.originY=0;var d=void 0,f=void 0,p=r.__labelDistance,h=p[0]*o,m=p[1]*o,g=s/2,v=a.tangentAt(g),y=[v[1],-v[0]],b=a.pointAt(g);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]);var x=v[0]<0?-1:1;if("start"!==r.__position&&"end"!==r.__position){var w=-Math.atan2(v[1],v[0]);u[0]<l[0]&&(w=Math.PI+w),r.rotation=w}var _=void 0;switch(r.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":_=-m,f="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":_=m,f="top";break;default:_=0,f="middle"}switch(r.__position){case"end":r.x=c[0]*h+u[0],r.y=c[1]*m+u[1],d=c[0]>.8?"left":c[0]<-.8?"right":"center",f=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";break;case"start":r.x=-c[0]*h+l[0],r.y=-c[1]*m+l[1],d=c[0]>.8?"right":c[0]<-.8?"left":"center",f=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":r.x=h*x+l[0],r.y=l[1]+_,d=v[0]<0?"right":"left",r.originX=-h*x,r.originY=-_;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":r.x=b[0],r.y=b[1]+_,d="center",r.originY=-_;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":r.x=-h*x+u[0],r.y=u[1]+_,d=v[0]>=0?"right":"left",r.originX=h*x,r.originY=-_;break}r.scaleX=r.scaleY=o,r.setStyle({verticalAlign:r.__verticalAlign||f,align:r.__align||d})}}}function C(e,t){var n=e.__specifiedRotation;if(null==n){var r=a.tangentAt(t);e.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(r[1],r[0]))}else e.attr("rotation",n)}},t}(Vo),BN=RN,FN=function(){function e(e){this.group=new Vo,this._LineCtor=e||BN}return e.prototype.isPersistent=function(){return!0},e.prototype.updateData=function(e){var t=this,n=this,r=n.group,o=n._lineData;n._lineData=e,o||r.removeAll();var i=VN(e);e.diff(o).add((function(n){t._doAdd(e,n,i)})).update((function(n,r){t._doUpdate(o,e,r,n,i)})).remove((function(e){r.remove(o.getItemGraphicEl(e))})).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,n){t.updateLayout(e,n)}),this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=VN(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function n(e){e.isGroup||zN(e)||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}for(var r=e.start;r<e.end;r++){var o=t.getItemLayout(r);if(UN(o)){var i=new this._LineCtor(t,r,this._seriesScope);i.traverse(n),this.group.add(i),t.setItemGraphicEl(r,i)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype._doAdd=function(e,t,n){var r=e.getItemLayout(t);if(UN(r)){var o=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,o),this.group.add(o)}},e.prototype._doUpdate=function(e,t,n,r,o){var i=e.getItemGraphicEl(n);UN(t.getItemLayout(r))?(i?i.updateData(t,r,o):i=new this._LineCtor(t,r,o),t.setItemGraphicEl(r,i),this.group.add(i)):this.group.remove(i)},e}();function zN(e){return e.animators&&e.animators.length>0}function VN(e){var t=e.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["emphasis","lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),labelStatesModels:Rf(t)}}function HN(e){return isNaN(e[0])||isNaN(e[1])}function UN(e){return!HN(e[0])&&!HN(e[1])}var $N=FN,qN=[],WN=[],GN=[],YN=ys,KN=Ze,XN=Math.abs;function JN(e,t,n){for(var r,o=e[0],i=e[1],a=e[2],s=1/0,l=n*n,u=.1,c=.1;c<=.9;c+=.1){qN[0]=YN(o[0],i[0],a[0],c),qN[1]=YN(o[1],i[1],a[1],c);var d=XN(KN(qN,t)-l);d<s&&(s=d,r=c)}for(var f=0;f<32;f++){var p=r+u;WN[0]=YN(o[0],i[0],a[0],r),WN[1]=YN(o[1],i[1],a[1],r),GN[0]=YN(o[0],i[0],a[0],p),GN[1]=YN(o[1],i[1],a[1],p);d=KN(WN,t)-l;if(XN(d)<.01)break;var h=KN(GN,t)-l;u/=2,d<0?h>=0?r+=u:r-=u:h>=0?r-=u:r+=u}return r}function ZN(e,t){var n=[],r=_s,o=[[],[],[]],i=[[],[]],a=[];t/=2,e.eachEdge((function(e,s){var l=e.getLayout(),u=e.getVisual("fromSymbol"),c=e.getVisual("toSymbol");l.__original||(l.__original=[Ne(l[0]),Ne(l[1])],l[2]&&l.__original.push(Ne(l[2])));var d=l.__original;if(null!=l[2]){if(je(o[0],d[0]),je(o[1],d[2]),je(o[2],d[1]),u&&"none"!==u){var f=mN(e.node1),p=JN(o,d[0],f*t);r(o[0][0],o[1][0],o[2][0],p,n),o[0][0]=n[3],o[1][0]=n[4],r(o[0][1],o[1][1],o[2][1],p,n),o[0][1]=n[3],o[1][1]=n[4]}if(c&&"none"!==c){f=mN(e.node2),p=JN(o,d[1],f*t);r(o[0][0],o[1][0],o[2][0],p,n),o[1][0]=n[1],o[2][0]=n[2],r(o[0][1],o[1][1],o[2][1],p,n),o[1][1]=n[1],o[2][1]=n[2]}je(l[0],o[0]),je(l[1],o[2]),je(l[2],o[1])}else{if(je(i[0],d[0]),je(i[1],d[1]),Fe(a,i[1],i[0]),Ye(a,a),u&&"none"!==u){f=mN(e.node1);Be(i[0],i[0],a,f*t)}if(c&&"none"!==c){f=mN(e.node2);Be(i[1],i[1],a,-f*t)}je(l[0],i[0]),je(l[1],i[1])}}))}function QN(e){return"view"===e.type}var eP=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.init=function(e,t){var n=new AT,r=new $N,o=this.group;this._controller=new wE(t.getZr()),this._controllerHost={target:o},o.add(n.group),o.add(r.group),this._symbolDraw=n,this._lineDraw=r,this._firstRender=!0},t.prototype.render=function(e,t,n){var r=this,o=e.coordinateSystem;this._model=e;var i=this._symbolDraw,a=this._lineDraw,s=this.group;if(QN(o)){var l={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?s.attr(l):hf(s,l,e)}ZN(e.getGraph(),hN(e));var u=e.getData();i.updateData(u);var c=e.getEdgeData();a.updateData(c),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var d=e.forceLayout,f=e.get(["force","layoutAnimation"]);d&&this._startForceLayoutIteration(d,f),u.graph.eachNode((function(e){var t=e.dataIndex,n=e.getGraphicEl(),o=e.getModel();n.off("drag").off("dragend");var i=o.get("draggable");i&&n.on("drag",(function(){d&&(d.warmUp(),!r._layouting&&r._startForceLayoutIteration(d,f),d.setFixed(t),u.setItemLayout(t,[n.x,n.y]))})).on("dragend",(function(){d&&d.setUnfixed(t)})),n.setDraggable(i&&!!d);var a=o.get(["emphasis","focus"]);"adjacency"===a&&(cu(n).focus=e.getAdjacentDataIndices())})),u.graph.eachEdge((function(e){var t=e.getGraphicEl(),n=e.getModel().get(["emphasis","focus"]);"adjacency"===n&&(cu(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})}));var p="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),h=u.getLayout("cx"),m=u.getLayout("cy");u.eachItemGraphicEl((function(e,t){var n=u.getItemModel(t),r=n.get(["label","rotate"])||0,o=e.getSymbolPath();if(p){var i=u.getItemLayout(t),a=Math.atan2(i[1]-m,i[0]-h);a<0&&(a=2*Math.PI+a);var s=i[0]<h;s&&(a-=Math.PI);var l=s?"left":"right";o.setTextConfig({rotation:-a,position:l,origin:"center"});var c=o.ensureState("emphasis");H(c.textConfig||(c.textConfig={}),{position:l})}else o.setTextConfig({rotation:r*=Math.PI/180})})),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var n=this;(function r(){e.step((function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(r,16):r())}))})()},t.prototype._updateController=function(e,t,n){var r=this,o=this._controller,i=this._controllerHost,a=this.group;o.setPointerChecker((function(t,r,o){var i=a.getBoundingRect();return i.applyTransform(a.transform),i.contain(r,o)&&!kE(t,n,e)})),QN(e.coordinateSystem)?(o.enable(e.get("roam")),i.zoomLimit=e.get("scaleLimit"),i.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(t){_E(i,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){CE(i,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),r._updateNodeAndLinkScale(),ZN(e.getGraph(),hN(e)),r._lineDraw.updateLayout(),n.updateLabelLayout()}))):o.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),n=hN(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(n)}))},t.prototype.updateLayout=function(e){ZN(e.getGraph(),hN(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(oy),tP=eP;function nP(e){return"_EC_"+e}var rP=function(){function e(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(e,t){e=null==e?""+t:""+e;var n=this._nodesMap;if(!n[nP(e)]){var r=new oP(e,t);return r.hostGraph=this,this.nodes.push(r),n[nP(e)]=r,r}},e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},e.prototype.getNodeById=function(e){return this._nodesMap[nP(e)]},e.prototype.addEdge=function(e,t,n){var r=this._nodesMap,o=this._edgesMap;if("number"===typeof e&&(e=this.nodes[e]),"number"===typeof t&&(t=this.nodes[t]),e instanceof oP||(e=r[nP(e)]),t instanceof oP||(t=r[nP(t)]),e&&t){var i=e.id+"-"+t.id,a=new iP(e,t,n);return a.hostGraph=this,this._directed&&(e.outEdges.push(a),t.inEdges.push(a)),e.edges.push(a),e!==t&&t.edges.push(a),this.edges.push(a),o[i]=a,a}},e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},e.prototype.getEdge=function(e,t){e instanceof oP&&(e=e.id),t instanceof oP&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},e.prototype.eachNode=function(e,t){for(var n=this.nodes,r=n.length,o=0;o<r;o++)n[o].dataIndex>=0&&e.call(t,n[o],o)},e.prototype.eachEdge=function(e,t){for(var n=this.edges,r=n.length,o=0;o<r;o++)n[o].dataIndex>=0&&n[o].node1.dataIndex>=0&&n[o].node2.dataIndex>=0&&e.call(t,n[o],o)},e.prototype.breadthFirstTraverse=function(e,t,n,r){if(t instanceof oP||(t=this._nodesMap[nP(t)]),t){for(var o="out"===n?"outEdges":"in"===n?"inEdges":"edges",i=0;i<this.nodes.length;i++)this.nodes[i].__visited=!1;if(!e.call(r,t,null)){var a=[t];while(a.length){var s=a.shift(),l=s[o];for(i=0;i<l.length;i++){var u=l[i],c=u.node1===s?u.node2:u.node1;if(!c.__visited){if(e.call(r,c,s))return;a.push(c),c.__visited=!0}}}}}},e.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,r=this.edges,o=0,i=n.length;o<i;o++)n[o].dataIndex=-1;for(o=0,i=e.count();o<i;o++)n[e.getRawIndex(o)].dataIndex=o;t.filterSelf((function(e){var n=r[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(o=0,i=r.length;o<i;o++)r[o].dataIndex=-1;for(o=0,i=t.count();o<i;o++)r[t.getRawIndex(o)].dataIndex=o},e.prototype.clone=function(){for(var t=new e(this._directed),n=this.nodes,r=this.edges,o=0;o<n.length;o++)t.addNode(n[o].id,n[o].dataIndex);for(o=0;o<r.length;o++){var i=r[o];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},e}(),oP=function(){function e(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}},e.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},e}(),iP=function(){function e(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}return e.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.edgeData.getItemModel(this.dataIndex);return n.getModel(e)}},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e}();function aP(e,t){return{getValue:function(n){var r=this[e][t];return r.get(r.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[e][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}G(oP,aP("hostGraph","data")),G(iP,aP("hostGraph","edgeData"));var sP=rP;function lP(e,t,n,r,o){for(var i=new sP(r),a=0;a<e.length;a++)i.addNode(ve(e[a].id,e[a].name,a),a);var s=[],l=[],u=0;for(a=0;a<t.length;a++){var c=t[a],d=c.source,f=c.target;i.addEdge(d,f,u)&&(l.push(c),s.push(ve(Vi(c.id,null),d+" > "+f)),u++)}var p,h=n.get("coordinateSystem");if("cartesian2d"===h||"polar"===h)p=UC(e,n);else{var m=Im.get(h),g=m&&m.dimensions||[];q(g,"value")<0&&g.concat(["value"]);var v=AC(e,{coordDimensions:g});p=new TC(v,n),p.initData(e)}var y=new TC(["value"],n);return y.initData(l,s),o&&o(p,y),nL({mainData:p,struct:i,structAttr:"graph",datas:{node:p,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),i.update(),i}var uP=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return g(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var n=this;function r(){return n._categoriesData}this.legendVisualProvider=new gD(r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),Mi(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var n=e.edges||e.links||[],r=e.data||e.nodes||[],o=this;if(r&&n){lN(this);var i=lP(r,n,this,!0,a);return K(i.edges,(function(e){uN(e.node1,e.node2,this,e.dataIndex)}),this),i.data}function a(e,t){e.wrapMethod("getItemModel",(function(e){var t=o._categoriesModels,n=e.getShallow("category"),r=t[n];return r&&(r.parentModel=e.parentModel,e.parentModel=r),e}));var n=sp.prototype.getModel;function r(e,t){var r=n.call(this,e,t);return r.resolveParentPath=i,r}function i(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",(function(e){return e.resolveParentPath=i,e.getModel=r,e}))}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,n){if("edge"===n){var r=this.getData(),o=this.getDataParams(e,n),i=r.graph.getEdgeByIndex(e),a=r.getName(i.node1.dataIndex),s=r.getName(i.node2.dataIndex),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),bv("nameValue",{name:l.join(" > "),value:o.value,noValue:null==o.value})}var u=Lv({series:this,dataIndex:e,multipleSeries:t});return u},t.prototype._updateCategoriesData=function(){var e=X(this.option.categories||[],(function(e){return null!=e.value?e:H({value:0},e)})),t=new TC(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Wv),cP=uP,dP={type:"graphRoam",event:"graphRoam",update:"none"};function fP(e){e.registerChartView(tP),e.registerSeriesModel(cP),e.registerProcessor(Xj),e.registerVisual(Jj),e.registerVisual(Qj),e.registerLayout(pN),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,xN),e.registerLayout(CN),e.registerCoordinateSystem("graphView",{dimensions:PA.dimensions,create:kN}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},(function(){})),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},(function(){})),e.registerAction(dP,(function(e,t){t.eachComponent({mainType:"series",query:e},(function(t){var n=t.coordinateSystem,r=hL(n,e);t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom)}))}))}var pP=function(){function e(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return e}(),hP=function(e){function t(t){var n=e.call(this,t)||this;return n.type="pointer",n}return g(t,e),t.prototype.getDefaultShape=function(){return new pP},t.prototype.buildPath=function(e,t){var n=Math.cos,r=Math.sin,o=t.r,i=t.width,a=t.angle,s=t.x-n(a)*i*(i>=o/3?1:2),l=t.y-r(a)*i*(i>=o/3?1:2);a=t.angle-Math.PI/2,e.moveTo(s,l),e.lineTo(t.x+n(a)*i,t.y+r(a)*i),e.lineTo(t.x+n(t.angle)*o,t.y+r(t.angle)*o),e.lineTo(t.x-n(a)*i,t.y-r(a)*i),e.lineTo(s,l)},t}(Al),mP=hP;function gP(e,t){var n=e.get("center"),r=t.getWidth(),o=t.getHeight(),i=Math.min(r,o),a=ri(n[0],t.getWidth()),s=ri(n[1],t.getHeight()),l=ri(e.get("radius"),i/2);return{cx:a,cy:s,r:l}}function vP(e,t){var n=null==e?"":e+"";return t&&("string"===typeof t?n=t.replace("{value}",n):"function"===typeof t&&(n=t(e))),n}var yP=2*Math.PI,bP=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n){this.group.removeAll();var r=e.get(["axisLine","lineStyle","color"]),o=gP(e,n);this._renderMain(e,t,n,r,o),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,t,n,r,o){for(var i=this.group,a=e.get("clockwise"),s=-e.get("startAngle")/180*Math.PI,l=-e.get("endAngle")/180*Math.PI,u=e.getModel("axisLine"),c=u.get("roundCap"),d=c?TM:sd,f=u.get("show"),p=u.getModel("lineStyle"),h=p.get("width"),m=(l-s)%yP||l===s?(l-s)%yP:yP,g=s,v=0;f&&v<r.length;v++){var y=Math.min(Math.max(r[v][0],0),1);l=s+m*y;var b=new d({shape:{startAngle:g,endAngle:l,cx:o.cx,cy:o.cy,clockwise:a,r0:o.r-h,r:o.r},silent:!0});b.setStyle({fill:r[v][1]}),b.setStyle(p.getLineStyle(["color","width"])),i.add(b),g=l}var x=function(e){if(e<=0)return r[0][1];var t;for(t=0;t<r.length;t++)if(r[t][0]>=e&&(0===t?0:r[t-1][0])<e)return r[t][1];return r[t-1][1]};if(!a){var w=s;s=l,l=w}this._renderTicks(e,t,n,x,o,s,l,a,h),this._renderTitleAndDetail(e,t,n,x,o),this._renderAnchor(e,o),this._renderPointer(e,t,n,x,o,s,l,a,h)},t.prototype._renderTicks=function(e,t,n,r,o,i,a,s,l){for(var u,c,d=this.group,f=o.cx,p=o.cy,h=o.r,m=+e.get("min"),g=+e.get("max"),v=e.getModel("splitLine"),y=e.getModel("axisTick"),b=e.getModel("axisLabel"),x=e.get("splitNumber"),w=y.get("splitNumber"),_=ri(v.get("length"),h),C=ri(y.get("length"),h),S=i,k=(a-i)/x,O=k/w,T=v.getModel("lineStyle").getLineStyle(),M=y.getModel("lineStyle").getLineStyle(),D=v.get("distance"),I=0;I<=x;I++){if(u=Math.cos(S),c=Math.sin(S),v.get("show")){var E=D?D+l:l,A=new Sd({shape:{x1:u*(h-E)+f,y1:c*(h-E)+p,x2:u*(h-_-E)+f,y2:c*(h-_-E)+p},style:T,silent:!0});"auto"===T.stroke&&A.setStyle({stroke:r(I/x)}),d.add(A)}if(b.get("show")){E=b.get("distance")+D;var L=vP(oi(I/x*(g-m)+m),b.get("formatter")),j=r(I/x);d.add(new uu({style:Bf(b,{text:L,x:u*(h-_-E)+f,y:c*(h-_-E)+p,verticalAlign:c<-.8?"top":c>.8?"bottom":"middle",align:u<-.4?"left":u>.4?"right":"center"},{inheritColor:j}),silent:!0}))}if(y.get("show")&&I!==x){E=y.get("distance");E=E?E+l:l;for(var N=0;N<=w;N++){u=Math.cos(S),c=Math.sin(S);var P=new Sd({shape:{x1:u*(h-E)+f,y1:c*(h-E)+p,x2:u*(h-C-E)+f,y2:c*(h-C-E)+p},silent:!0,style:M});"auto"===M.stroke&&P.setStyle({stroke:r((I+N/w)/x)}),d.add(P),S+=O}S-=O}else S+=k}},t.prototype._renderPointer=function(e,t,n,r,o,i,a,s,l){var u=this.group,c=this._data,d=this._progressEls,f=[],p=e.get(["pointer","show"]),h=e.getModel("progress"),m=h.get("show"),g=e.getData(),v=g.mapDimension("value"),y=+e.get("min"),b=+e.get("max"),x=[y,b],w=[i,a];function _(t,n){var r,i=g.getItemModel(t),a=i.getModel("pointer"),s=ri(a.get("width"),o.r),l=ri(a.get("length"),o.r),u=e.get(["pointer","icon"]),c=a.get("offsetCenter"),d=ri(c[0],o.r),f=ri(c[1],o.r),p=a.get("keepAspect");return r=u?rx(u,d-s/2,f-l,s,l,null,p):new mP({shape:{angle:-Math.PI/2,width:s,r:l,x:d,y:f}}),r.rotation=-(n+Math.PI/2),r.x=o.cx,r.y=o.cy,r}function C(e,t){var n=h.get("roundCap"),r=n?TM:sd,a=h.get("overlap"),u=a?h.get("width"):l/g.count(),c=a?o.r-u:o.r-(e+1)*u,d=a?o.r:o.r-e*u,f=new r({shape:{startAngle:i,endAngle:t,cx:o.cx,cy:o.cy,clockwise:s,r0:c,r:d}});return a&&(f.z2=b-g.get(v,e)%b),f}(m||p)&&(g.diff(c).add((function(t){if(p){var n=_(t,i);mf(n,{rotation:-(ni(g.get(v,t),x,w,!0)+Math.PI/2)},e),u.add(n),g.setItemGraphicEl(t,n)}if(m){var r=C(t,i),o=h.get("clip");mf(r,{shape:{endAngle:ni(g.get(v,t),x,w,o)}},e),u.add(r),f[t]=r}})).update((function(t,n){if(p){var r=c.getItemGraphicEl(n),o=r?r.rotation:i,a=_(t,o);a.rotation=o,hf(a,{rotation:-(ni(g.get(v,t),x,w,!0)+Math.PI/2)},e),u.add(a),g.setItemGraphicEl(t,a)}if(m){var s=d[n],l=s?s.shape.endAngle:i,y=C(t,l),b=h.get("clip");hf(y,{shape:{endAngle:ni(g.get(v,t),x,w,b)}},e),u.add(y),f[t]=y}})).execute(),g.each((function(e){var t=g.getItemModel(e),n=t.getModel("emphasis");if(p){var o=g.getItemGraphicEl(e);o.useStyle(g.getItemVisual(e,"style")),o.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===o.style.fill&&o.setStyle("fill",r(ni(g.get(v,e),x,[0,1],!0))),o.z2EmphasisLift=0,cc(o,t),ac(o,n.get("focus"),n.get("blurScope"))}if(m){var i=f[e];i.useStyle(g.getItemVisual(e,"style")),i.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle()),i.z2EmphasisLift=0,cc(i,t),ac(i,n.get("focus"),n.get("blurScope"))}})),this._progressEls=f)},t.prototype._renderAnchor=function(e,t){var n=e.getModel("anchor"),r=n.get("show");if(r){var o=n.get("size"),i=n.get("icon"),a=n.get("offsetCenter"),s=n.get("keepAspect"),l=rx(i,t.cx-o/2+ri(a[0],t.r),t.cy-o/2+ri(a[1],t.r),o,o,null,s);l.z2=n.get("showAbove")?1:0,l.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(l)}},t.prototype._renderTitleAndDetail=function(e,t,n,r,o){var i=this,a=e.getData(),s=a.mapDimension("value"),l=+e.get("min"),u=+e.get("max"),c=new Vo,d=[],f=[],p=e.isAnimationEnabled();a.diff(this._data).add((function(e){d[e]=new uu({silent:!0}),f[e]=new uu({silent:!0})})).update((function(e,t){d[e]=i._titleEls[t],f[e]=i._detailEls[t]})).execute(),a.each((function(t){var n=a.getItemModel(t),i=a.get(s,t),h=new Vo,m=r(ni(i,[l,u],[0,1],!0)),g=n.getModel("title");if(g.get("show")){var v=g.get("offsetCenter"),y=o.cx+ri(v[0],o.r),b=o.cy+ri(v[1],o.r),x=d[t];x.attr({style:Bf(g,{x:y,y:b,text:a.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:m})}),h.add(x)}var w=n.getModel("detail");if(w.get("show")){var _=w.get("offsetCenter"),C=o.cx+ri(_[0],o.r),S=o.cy+ri(_[1],o.r),k=ri(w.get("width"),o.r),O=ri(w.get("height"),o.r),T=e.get(["progress","show"])?a.getItemVisual(t,"style").fill:m,M=(x=f[t],w.get("formatter"));x.attr({style:Bf(w,{x:C,y:S,text:vP(i,M),width:isNaN(k)?null:k,height:isNaN(O)?null:O,align:"center",verticalAlign:"middle"},{inheritColor:T})}),Yf(x,{normal:w},i,(function(e){return vP(e,M)})),p&&Kf(x,t,a,e,{getFormattedLabel:function(e,t,n,r,o,a){return vP(a?a.interpolatedValue:i,M)}}),h.add(x)}c.add(h)})),this.group.add(c),this._titleEls=d,this._detailEls=f},t.type="gauge",t}(oy),xP=bP,wP=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="itemStyle",n.useColorPaletteOnData=!0,n}return g(t,e),t.prototype.getInitialData=function(e,t){return hD(this,["value"])},t.type="series.gauge",t.defaultOption={zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Wv),_P=wP;function CP(e){e.registerChartView(xP),e.registerSeriesModel(_P)}var SP=["itemStyle","opacity"],kP=function(e){function t(t,n){var r=e.call(this)||this,o=r,i=new xd,a=new uu;return o.setTextContent(a),r.setTextGuideLine(i),r.updateData(t,n,!0),r}return g(t,e),t.prototype.updateData=function(e,t,n){var r=this,o=e.hostModel,i=e.getItemModel(t),a=e.getItemLayout(t),s=i.getModel("emphasis"),l=i.get(SP);l=null==l?1:l,r.useStyle(e.getItemVisual(t,"style")),r.style.lineJoin="round",n?(r.setShape({points:a.points}),r.style.opacity=0,mf(r,{style:{opacity:l}},o,t)):hf(r,{style:{opacity:l},shape:{points:a.points}},o,t),cc(r,i),this._updateLabel(e,t),ac(this,s.get("focus"),s.get("blurScope"))},t.prototype._updateLabel=function(e,t){var n=this,r=this.getTextGuideLine(),o=n.getTextContent(),i=e.hostModel,a=e.getItemModel(t),s=e.getItemLayout(t),l=s.label,u=e.getItemVisual(t,"style"),c=u.fill;Pf(o,Rf(a),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:u.opacity,defaultText:e.getName(t)},{normal:{align:l.textAlign,verticalAlign:l.verticalAlign}}),n.setTextConfig({local:!0,inside:!!l.inside,insideStroke:c,outsideFill:c});var d=l.linePoints;r.setShape({points:d}),n.textGuideLineConfig={anchor:d?new pr(d[0][0],d[0][1]):null},hf(o,{style:{x:l.x,y:l.y}},i,t),o.attr({rotation:l.rotation,originX:l.x,originY:l.y,z2:10}),Sb(n,kb(a),{stroke:c})},t}(vd),OP=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreLabelLineUpdate=!0,n}return g(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),o=this._data,i=this.group;r.diff(o).add((function(e){var t=new kP(r,e);r.setItemGraphicEl(e,t),i.add(t)})).update((function(e,t){var n=o.getItemGraphicEl(t);n.updateData(r,e),i.add(n),r.setItemGraphicEl(e,n)})).remove((function(t){var n=o.getItemGraphicEl(t);yf(n,e,t)})).execute(),this._data=r},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(oy),TP=OP,MP=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.useColorPaletteOnData=!0,n}return g(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new gD(ne(this.getData,this),ne(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.getInitialData=function(e,t){return hD(this,{coordDimensions:["value"],encodeDefaulter:re(Zh,this)})},t.prototype._defaultLabelLine=function(e){Mi(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.prototype.getDataParams=function(t){var n=this.getData(),r=e.prototype.getDataParams.call(this,t),o=n.mapDimension("value"),i=n.getSum(o);return r.percent=i?+(n.get(o,t)/i*100).toFixed(2):0,r.$vars.push("percent"),r},t.type="series.funnel",t.defaultOption={zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Wv),DP=MP;function IP(e,t){return kh(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function EP(e,t){for(var n=e.mapDimension("value"),r=e.mapArray(n,(function(e){return e})),o=[],i="ascending"===t,a=0,s=e.count();a<s;a++)o[a]=a;return"function"===typeof t?o.sort(t):"none"!==t&&o.sort((function(e,t){return i?r[e]-r[t]:r[t]-r[e]})),o}function AP(e){var t=e.hostModel,n=t.get("orient");e.each((function(t){var r,o,i,a,s=e.getItemModel(t),l=s.getModel("label"),u=l.get("position"),c=s.getModel("labelLine"),d=e.getItemLayout(t),f=d.points,p="inner"===u||"inside"===u||"center"===u||"insideLeft"===u||"insideRight"===u;if(p)"insideLeft"===u?(o=(f[0][0]+f[3][0])/2+5,i=(f[0][1]+f[3][1])/2,r="left"):"insideRight"===u?(o=(f[1][0]+f[2][0])/2-5,i=(f[1][1]+f[2][1])/2,r="right"):(o=(f[0][0]+f[1][0]+f[2][0]+f[3][0])/4,i=(f[0][1]+f[1][1]+f[2][1]+f[3][1])/4,r="center"),a=[[o,i],[o,i]];else{var h=void 0,m=void 0,g=void 0,v=void 0,y=c.get("length");0,"left"===u?(h=(f[3][0]+f[0][0])/2,m=(f[3][1]+f[0][1])/2,g=h-y,o=g-5,r="right"):"right"===u?(h=(f[1][0]+f[2][0])/2,m=(f[1][1]+f[2][1])/2,g=h+y,o=g+5,r="left"):"top"===u?(h=(f[3][0]+f[0][0])/2,m=(f[3][1]+f[0][1])/2,v=m-y,i=v-5,r="center"):"bottom"===u?(h=(f[1][0]+f[2][0])/2,m=(f[1][1]+f[2][1])/2,v=m+y,i=v+5,r="center"):"rightTop"===u?(h="horizontal"===n?f[3][0]:f[1][0],m="horizontal"===n?f[3][1]:f[1][1],"horizontal"===n?(v=m-y,i=v-5,r="center"):(g=h+y,o=g+5,r="top")):"rightBottom"===u?(h=f[2][0],m=f[2][1],"horizontal"===n?(v=m+y,i=v+5,r="center"):(g=h+y,o=g+5,r="bottom")):"leftTop"===u?(h=f[0][0],m="horizontal"===n?f[0][1]:f[1][1],"horizontal"===n?(v=m-y,i=v-5,r="center"):(g=h-y,o=g-5,r="right")):"leftBottom"===u?(h="horizontal"===n?f[1][0]:f[3][0],m="horizontal"===n?f[1][1]:f[2][1],"horizontal"===n?(v=m+y,i=v+5,r="center"):(g=h-y,o=g-5,r="right")):(h=(f[1][0]+f[2][0])/2,m=(f[1][1]+f[2][1])/2,"horizontal"===n?(v=m+y,i=v+5,r="center"):(g=h+y,o=g+5,r="left")),"horizontal"===n?(g=h,o=g):(v=m,i=v),a=[[h,m],[g,v]]}d.label={linePoints:a,x:o,y:i,verticalAlign:"middle",textAlign:r,inside:p}}))}function LP(e,t){e.eachSeriesByType("funnel",(function(e){var n=e.getData(),r=n.mapDimension("value"),o=e.get("sort"),i=IP(e,t),a=e.get("orient"),s=i.width,l=i.height,u=EP(n,o),c=i.x,d=i.y,f="horizontal"===a?[ri(e.get("minSize"),l),ri(e.get("maxSize"),l)]:[ri(e.get("minSize"),s),ri(e.get("maxSize"),s)],p=n.getDataExtent(r),h=e.get("min"),m=e.get("max");null==h&&(h=Math.min(p[0],0)),null==m&&(m=p[1]);var g=e.get("funnelAlign"),v=e.get("gap"),y="horizontal"===a?s:l,b=(y-v*(n.count()-1))/n.count(),x=function(e,t){if("horizontal"===a){var o=n.get(r,e)||0,i=ni(o,[h,m],f,!0),u=void 0;switch(g){case"top":u=d;break;case"center":u=d+(l-i)/2;break;case"bottom":u=d+(l-i);break}return[[t,u],[t,u+i]]}var p,v=n.get(r,e)||0,y=ni(v,[h,m],f,!0);switch(g){case"left":p=c;break;case"center":p=c+(s-y)/2;break;case"right":p=c+s-y;break}return[[p,t],[p+y,t]]};"ascending"===o&&(b=-b,v=-v,"horizontal"===a?c+=s:d+=l,u=u.reverse());for(var w=0;w<u.length;w++){var _=u[w],C=u[w+1],S=n.getItemModel(_);if("horizontal"===a){var k=S.get(["itemStyle","width"]);null==k?k=b:(k=ri(k,s),"ascending"===o&&(k=-k));var O=x(_,c),T=x(C,c+k);c+=k+v,n.setItemLayout(_,{points:O.concat(T.slice().reverse())})}else{var M=S.get(["itemStyle","height"]);null==M?M=b:(M=ri(M,l),"ascending"===o&&(M=-M));O=x(_,d),T=x(C,d+M);d+=M+v,n.setItemLayout(_,{points:O.concat(T.slice().reverse())})}}AP(n)}))}function jP(e){e.registerChartView(TP),e.registerSeriesModel(DP),e.registerLayout(LP),e.registerProcessor(oD("funnel"))}var NP=.3,PP=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._dataGroup=new Vo,n._initialized=!1,n}return g(t,e),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,t,n,r){var o=this._dataGroup,i=e.getData(),a=this._data,s=e.coordinateSystem,l=s.dimensions,u=zP(e);function c(e){var t=FP(i,o,e,l,s);VP(t,i,e,u)}function d(t,n){var r=a.getItemGraphicEl(n),o=BP(i,t,l,s);i.setItemGraphicEl(t,r),hf(r,{shape:{points:o}},e,t),VP(r,i,t,u)}function f(e){var t=a.getItemGraphicEl(e);o.remove(t)}if(i.diff(a).add(c).update(d).remove(f).execute(),!this._initialized){this._initialized=!0;var p=RP(s,e,(function(){setTimeout((function(){o.removeClipPath()}))}));o.setClipPath(p)}this._data=i},t.prototype.incrementalPrepareRender=function(e,t,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,t,n){for(var r=t.getData(),o=t.coordinateSystem,i=o.dimensions,a=zP(t),s=e.start;s<e.end;s++){var l=FP(r,this._dataGroup,s,i,o);l.incremental=!0,VP(l,r,s,a)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(oy);function RP(e,t,n){var r=e.model,o=e.getRect(),i=new Kl({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),a="horizontal"===r.get("layout")?"width":"height";return i.setShape(a,0),mf(i,{shape:{width:o.width,height:o.height}},t,n),i}function BP(e,t,n,r){for(var o=[],i=0;i<n.length;i++){var a=n[i],s=e.get(e.mapDimension(a),t);HP(s,r.getAxis(a).type)||o.push(r.dataToPoint(s,a))}return o}function FP(e,t,n,r,o){var i=BP(e,n,r,o),a=new xd({shape:{points:i},z2:10});return t.add(a),e.setItemGraphicEl(n,a),a}function zP(e){var t=e.get("smooth",!0);return!0===t&&(t=NP),t=xi(t),ge(t)&&(t=0),{smooth:t}}function VP(e,t,n,r){e.useStyle(t.getItemVisual(n,"style")),e.style.fill=null,e.setShape("smooth",r.smooth);var o=t.getItemModel(n),i=o.getModel("emphasis");cc(e,o,"lineStyle"),ac(e,i.get("focus"),i.get("blurScope"))}function HP(e,t){return"category"===t?null==e:null==e||isNaN(e)}var UP=PP,$P=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return g(t,e),t.prototype.getInitialData=function(e,t){return UC(this.getSource(),this,{useEncodeDefaulter:ne(qP,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,n=this.getData(),r=[];return t.eachActiveState(n,(function(t,o){e===t&&r.push(n.getRawIndex(o))})),r},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Wv);function qP(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var n={};return K(t.dimensions,(function(e){var t=WP(e);n[e]=t})),n}}function WP(e){return+e.replace("dim","")}var GP=$P,YP=["lineStyle","opacity"],KP={seriesType:"parallel",reset:function(e,t){var n=e.coordinateSystem,r={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){n.eachActiveState(t,(function(e,n){var o=r[e];if("normal"===e&&t.hasItemOption){var i=t.getItemModel(n).get(YP,!0);null!=i&&(o=i)}var a=t.ensureUniqueItemVisual(n,"style");a.opacity=o}),e.start,e.end)}}}},XP=KP;function JP(e){ZP(e),QP(e)}function ZP(e){if(!e.parallel){var t=!1;K(e.series,(function(e){e&&"parallel"===e.type&&(t=!0)})),t&&(e.parallel=[{}])}}function QP(e){var t=Ti(e.parallelAxis);K(t,(function(t){if(ue(t)){var n=t.parallelIndex||0,r=Ti(e.parallel)[n];r&&r.parallelAxisDefault&&z(t,r.parallelAxisDefault,!1)}}))}var eR=5,tR=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},K(nR,(function(e,t){n.getZr().on(t,this._handlers[t]=ne(e,this))}),this)),uy(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,t){K(this._handlers,(function(e,n){t.getZr().off(n,e)})),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(H({type:"parallelAxisExpand"},e))},t.type="parallel",t}(Yv),nR={mousedown:function(e){rR(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(rR(this,"click")&&t){var n=[e.offsetX,e.offsetY],r=Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2);if(r>eR)return;var o=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==o.behavior&&this._dispatchExpand({axisExpandWindow:o.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&rR(this,"mousemove")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),r=n.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===r?null:{duration:0}})}}};function rR(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}var oR=tR,iR=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var t=this.option;e&&z(t,e,!0),this._initDimensions()},t.prototype.contains=function(e,t){var n=e.get("parallelIndex");return null!=n&&t.getComponent("parallel",n)===this},t.prototype.setAxisExpand=function(e){K(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])}),this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[],n=Z(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(e){return(e.get("parallelIndex")||0)===this.componentIndex}),this);K(n,(function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)}))},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(Nh),aR=iR,sR=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r)||this;return a.type=o||"value",a.axisIndex=i,a}return g(t,e),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(Wk),lR=sR;function uR(e,t,n,r,o,i){e=e||0;var a=n[1]-n[0];if(null!=o&&(o=dR(o,[0,a])),null!=i&&(i=Math.max(i,null!=o?o:0)),"all"===r){var s=Math.abs(t[1]-t[0]);s=dR(s,[0,a]),o=i=dR(s,[o,i]),r=0}t[0]=dR(t[0],n),t[1]=dR(t[1],n);var l=cR(t,r);t[r]+=e;var u,c=o||0,d=n.slice();return l.sign<0?d[0]+=c:d[1]-=c,t[r]=dR(t[r],d),u=cR(t,r),null!=o&&(u.sign!==l.sign||u.span<o)&&(t[1-r]=t[r]+l.sign*o),u=cR(t,r),null!=i&&u.span>i&&(t[1-r]=t[r]+u.sign*i),t}function cR(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function dR(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}var fR=K,pR=Math.min,hR=Math.max,mR=Math.floor,gR=Math.ceil,vR=oi,yR=Math.PI,bR=function(){function e(e,t,n){this.type="parallel",this._axesMap=Me(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}return e.prototype._init=function(e,t,n){var r=e.dimensions,o=e.parallelAxisIndex;fR(r,(function(e,n){var r=o[n],i=t.getComponent("parallelAxis",r),a=this._axesMap.set(e,new lR(e,nk(i),[0,0],i.get("type"),r)),s="category"===a.type;a.onBand=s&&i.get("boundaryGap"),a.inverse=i.get("inverse"),i.axis=a,a.model=i,a.coordinateSystem=i.coordinateSystem=this}),this)},e.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},e.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),n=t.axisBase,r=t.layoutBase,o=t.pixelDimIndex,i=e[1-o],a=e[o];return i>=n&&i<=n+t.axisLength&&a>=r&&a<=r+t.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(e,t){t.eachSeries((function(n){if(e.contains(n,t)){var r=n.getData();fR(this.dimensions,(function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(r,r.mapDimension(e)),tk(t.scale,t.model)}),this)}}),this)},e.prototype.resize=function(e,t){this._rect=kh(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var e,t=this._model,n=this._rect,r=["x","y"],o=["width","height"],i=t.get("layout"),a="horizontal"===i?0:1,s=n[o[a]],l=[0,s],u=this.dimensions.length,c=xR(t.get("axisExpandWidth"),l),d=xR(t.get("axisExpandCount")||0,[0,u]),f=t.get("axisExpandable")&&u>3&&u>d&&d>1&&c>0&&s>0,p=t.get("axisExpandWindow");if(p)e=xR(p[1]-p[0],l),p[1]=p[0]+e;else{e=xR(c*(d-1),l);var h=t.get("axisExpandCenter")||mR(u/2);p=[c*h-e/2],p[1]=p[0]+e}var m=(s-e)/(u-d);m<3&&(m=0);var g=[mR(vR(p[0]/c,1))+1,gR(vR(p[1]/c,1))-1],v=m/c*p[0];return{layout:i,pixelDimIndex:a,layoutBase:n[r[a]],layoutLength:s,axisBase:n[r[1-a]],axisLength:n[o[1-a]],axisExpandable:f,axisExpandWidth:c,axisCollapseWidth:m,axisExpandWindow:p,axisCount:u,winInnerIndices:g,axisExpandWindow0Pos:v}},e.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,n=this.dimensions,r=this._makeLayoutInfo(),o=r.layout;t.each((function(e){var t=[0,r.axisLength],n=e.inverse?1:0;e.setExtent(t[n],t[1-n])})),fR(n,(function(t,n){var i=(r.axisExpandable?_R:wR)(n,r),a={horizontal:{x:i.position,y:r.axisLength},vertical:{x:0,y:i.position}},s={horizontal:yR/2,vertical:0},l=[a[o].x+e.x,a[o].y+e.y],u=s[o],c=qt();Xt(c,c,u),Kt(c,c,l),this._axesLayout[t]={position:l,rotation:u,transform:c,axisNameAvailableWidth:i.axisNameAvailableWidth,axisLabelShow:i.axisLabelShow,nameTruncateMaxWidth:i.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},e.prototype.getAxis=function(e){return this._axesMap.get(e)},e.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},e.prototype.eachActiveState=function(e,t,n,r){null==n&&(n=0),null==r&&(r=e.count());var o=this._axesMap,i=this.dimensions,a=[],s=[];K(i,(function(t){a.push(e.mapDimension(t)),s.push(o.get(t).model)}));for(var l=this.hasAxisBrushed(),u=n;u<r;u++){var c=void 0;if(l){c="active";for(var d=e.getValues(a,u),f=0,p=i.length;f<p;f++){var h=s[f].getActiveState(d[f]);if("inactive"===h){c="inactive";break}}}else c="normal";t(c,u)}},e.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,n=!1,r=0,o=e.length;r<o;r++)"normal"!==t.get(e[r]).model.getActiveState()&&(n=!0);return n},e.prototype.axisCoordToPoint=function(e,t){var n=this._axesLayout[t];return wf([e,0],n.transform)},e.prototype.getAxisLayout=function(e){return F(this._axesLayout[e])},e.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,r=t.axisExpandWindow.slice(),o=r[1]-r[0],i=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:r};var a,s=e[n]-t.layoutBase-t.axisExpandWindow0Pos,l="slide",u=t.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),d=null!=c[0];if(u)d&&u&&s<o*c[0]?(l="jump",a=s-o*c[2]):d&&u&&s>o*(1-c[0])?(l="jump",a=s-o*(1-c[2])):(a=s-o*c[1])>=0&&(a=s-o*(1-c[1]))<=0&&(a=0),a*=t.axisExpandWidth/u,a?uR(a,r,i,"all"):l="none";else{var f=r[1]-r[0],p=i[1]*s/f;r=[hR(0,p-f/2)],r[1]=pR(i[1],r[0]+f),r[0]=r[1]-f}return{axisExpandWindow:r,behavior:l}},e}();function xR(e,t){return pR(hR(e,t[0]),t[1])}function wR(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}}function _R(e,t){var n,r,o=t.layoutLength,i=t.axisExpandWidth,a=t.axisCount,s=t.axisCollapseWidth,l=t.winInnerIndices,u=s,c=!1;return e<l[0]?(n=e*s,r=s):e<=l[1]?(n=t.axisExpandWindow0Pos+e*i-t.axisExpandWindow[0],u=i,c=!0):(n=o-(a-1-e)*s,r=s),{position:n,axisNameAvailableWidth:u,axisLabelShow:c,nameTruncateMaxWidth:r}}var CR=bR;function SR(e,t){var n=[];return e.eachComponent("parallel",(function(r,o){var i=new CR(r,e,t);i.name="parallel_"+o,i.resize(r,t),r.coordinateSystem=i,i.model=r,n.push(i)})),e.eachSeries((function(e){if("parallel"===e.get("coordinateSystem")){var t=e.getReferringComponents("parallel",Zi).models[0];e.coordinateSystem=t.coordinateSystem}})),n}var kR={create:SR},OR=kR,TR=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.activeIntervals=[],n}return g(t,e),t.prototype.getAreaSelectStyle=function(){return xa([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var t=this.activeIntervals=F(e);if(t)for(var n=t.length-1;n>=0;n--)ii(t[n])},t.prototype.getActiveState=function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===t.length){var n=t[0];if(n[0]<=e&&e<=n[1])return"active"}else for(var r=0,o=t.length;r<o;r++)if(t[r][0]<=e&&e<=t[r][1])return"active";return"inactive"},t}(Nh);G(TR,fk);var MR=TR,DR=!0,IR=Math.min,ER=Math.max,AR=Math.pow,LR=1e4,jR=6,NR=6,PR="globalPan",RR={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},BR={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},FR={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},zR=0,VR=function(e){function t(t){var n=e.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=t,n.group=new Vo,n._uid="brushController_"+zR++,K(bB,(function(e,t){this._handlers[t]=ne(e,this)}),n),n}return g(t,e),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var t=this._zr;this._enableGlobalPan||pE(t,PR,this._uid),K(this._handlers,(function(e,n){t.on(n,e)})),this._brushType=e.brushType,this._brushOption=z(F(FR),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;hE(e,PR,this._uid),K(this._handlers,(function(t,n){e.off(n,t)})),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var t=this._panels={};K(e,(function(e){t[e.panelId]=F(e)}))}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=t.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=X(e,(function(e){return z(F(FR),e,!0)}));var t="\0-brush-index-",n=this._covers,r=this._covers=[],o=this,i=this._creatingCover;return new G_(n,e,s,a).add(l).update(l).remove(u).execute(),this;function a(e,n){return(null!=e.id?e.id:t+n)+"-"+e.brushType}function s(e,t){return a(e.__brushOption,t)}function l(t,a){var s=e[t];if(null!=a&&n[a]===i)r[t]=n[a];else{var l=r[t]=null!=a?(n[a].__brushOption=s,n[a]):UR(o,HR(o,s));WR(o,l)}}function u(e){n[e]!==i&&o.group.remove(n[e])}},t.prototype.unmount=function(){return this.enableBrush(!1),XR(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(lt);function HR(e,t){var n=_B[t.brushType].createCover(e,t);return n.__brushOption=t,qR(n,t),e.group.add(n),n}function UR(e,t){var n=GR(t);return n.endCreating&&(n.endCreating(e,t),qR(t,t.__brushOption)),t}function $R(e,t){var n=t.__brushOption;GR(t).updateCoverShape(e,t,n.range,n)}function qR(e,t){var n=t.z;null==n&&(n=LR),e.traverse((function(e){e.z=n,e.z2=n}))}function WR(e,t){GR(t).updateCommon(e,t),$R(e,t)}function GR(e){return _B[e.__brushOption.brushType]}function YR(e,t,n){var r,o=e._panels;if(!o)return DR;var i=e._transform;return K(o,(function(e){e.isTargetByCursor(t,n,i)&&(r=e)})),r}function KR(e,t){var n=e._panels;if(!n)return DR;var r=t.__brushOption.panelId;return null!=r?n[r]:DR}function XR(e){var t=e._covers,n=t.length;return K(t,(function(t){e.group.remove(t)}),e),t.length=0,!!n}function JR(e,t){var n=X(e._covers,(function(e){var t=e.__brushOption,n=F(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}}));e.trigger("brush",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function ZR(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],r=t[0],o=n[0]-r[0],i=n[1]-r[1],a=AR(o*o+i*i,.5);return a>jR}function QR(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function eB(e,t,n,r){var o=new Vo;return o.add(new Kl({name:"main",style:oB(n),silent:!0,draggable:!0,cursor:"move",drift:re(uB,e,t,o,["n","s","w","e"]),ondragend:re(JR,t,{isEnd:!0})})),K(r,(function(n){o.add(new Kl({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:re(uB,e,t,o,n),ondragend:re(JR,t,{isEnd:!0})}))})),o}function tB(e,t,n,r){var o=r.brushStyle.lineWidth||0,i=ER(o,NR),a=n[0][0],s=n[1][0],l=a-o/2,u=s-o/2,c=n[0][1],d=n[1][1],f=c-i+o/2,p=d-i+o/2,h=c-a,m=d-s,g=h+o,v=m+o;rB(e,t,"main",a,s,h,m),r.transformable&&(rB(e,t,"w",l,u,i,v),rB(e,t,"e",f,u,i,v),rB(e,t,"n",l,u,g,i),rB(e,t,"s",l,p,g,i),rB(e,t,"nw",l,u,i,i),rB(e,t,"ne",f,u,i,i),rB(e,t,"sw",l,p,i,i),rB(e,t,"se",f,p,i,i))}function nB(e,t){var n=t.__brushOption,r=n.transformable,o=t.childAt(0);o.useStyle(oB(n)),o.attr({silent:!r,cursor:r?"move":"default"}),K([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var o=t.childOfName(n.join("")),i=1===n.length?sB(e,n[0]):lB(e,n);o&&o.attr({silent:!r,invisible:!r,cursor:r?BR[i]+"-resize":null})}))}function rB(e,t,n,r,o,i,a){var s=t.childOfName(n);s&&s.setShape(pB(fB(e,t,[[r,o],[r+i,o+a]])))}function oB(e){return U({strokeNoScale:!0},e.brushStyle)}function iB(e,t,n,r){var o=[IR(e,n),IR(t,r)],i=[ER(e,n),ER(t,r)];return[[o[0],i[0]],[o[1],i[1]]]}function aB(e){return xf(e.group)}function sB(e,t){var n={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},o=_f(n[t],aB(e));return r[o]}function lB(e,t){var n=[sB(e,t[0]),sB(e,t[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}function uB(e,t,n,r,o,i){var a=n.__brushOption,s=e.toRectRange(a.range),l=dB(t,o,i);K(r,(function(e){var t=RR[e];s[t[0]][t[1]]+=l[t[0]]})),a.range=e.fromRectRange(iB(s[0][0],s[1][0],s[0][1],s[1][1])),WR(t,n),JR(t,{isEnd:!1})}function cB(e,t,n,r){var o=t.__brushOption.range,i=dB(e,n,r);K(o,(function(e){e[0]+=i[0],e[1]+=i[1]})),WR(e,t),JR(e,{isEnd:!1})}function dB(e,t,n){var r=e.group,o=r.transformCoordToLocal(t,n),i=r.transformCoordToLocal(0,0);return[o[0]-i[0],o[1]-i[1]]}function fB(e,t,n){var r=KR(e,t);return r&&r!==DR?r.clipPath(n,e._transform):F(n)}function pB(e){var t=IR(e[0][0],e[1][0]),n=IR(e[0][1],e[1][1]),r=ER(e[0][0],e[1][0]),o=ER(e[0][1],e[1][1]);return{x:t,y:n,width:r-t,height:o-n}}function hB(e,t,n){if(e._brushType&&!wB(e,t.offsetX,t.offsetY)){var r=e._zr,o=e._covers,i=YR(e,t,n);if(!e._dragging)for(var a=0;a<o.length;a++){var s=o[a].__brushOption;if(i&&(i===DR||s.panelId===i.panelId)&&_B[s.brushType].contain(o[a],n[0],n[1]))return}i&&r.setCursorStyle("crosshair")}}function mB(e){var t=e.event;t.preventDefault&&t.preventDefault()}function gB(e,t,n){return e.childOfName("main").contain(t,n)}function vB(e,t,n,r){var o,i=e._creatingCover,a=e._creatingPanel,s=e._brushOption;if(e._track.push(n.slice()),ZR(e)||i){if(a&&!i){"single"===s.brushMode&&XR(e);var l=F(s);l.brushType=yB(l.brushType,a),l.panelId=a===DR?null:a.panelId,i=e._creatingCover=HR(e,l),e._covers.push(i)}if(i){var u=_B[yB(e._brushType,a)],c=i.__brushOption;c.range=u.getCreatingRange(fB(e,i,e._track)),r&&(UR(e,i),u.updateCommon(e,i)),$R(e,i),o={isEnd:r}}}else r&&"single"===s.brushMode&&s.removeOnClick&&YR(e,t,n)&&XR(e)&&(o={isEnd:r,removeOnClick:!0});return o}function yB(e,t){return"auto"===e?t.defaultBrushType:e}var bB={mousedown:function(e){if(this._dragging)xB(this,e);else if(!e.target||!e.target.draggable){mB(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var n=this._creatingPanel=YR(this,e,t);n&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,n=e.offsetY,r=this.group.transformCoordToLocal(t,n);if(hB(this,e,r),this._dragging){mB(e);var o=vB(this,e,r,!1);o&&JR(this,o)}},mouseup:function(e){xB(this,e)}};function xB(e,t){if(e._dragging){mB(t);var n=t.offsetX,r=t.offsetY,o=e.group.transformCoordToLocal(n,r),i=vB(e,t,o,!0);e._dragging=!1,e._track=[],e._creatingCover=null,i&&JR(e,i)}}function wB(e,t,n){var r=e._zr;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}var _B={lineX:CB(0),lineY:CB(1),rect:{createCover:function(e,t){function n(e){return e}return eB({toRectRange:n,fromRectRange:n},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=QR(e);return iB(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,r){tB(e,t,n,r)},updateCommon:nB,contain:gB},polygon:{createCover:function(e,t){var n=new Vo;return n.add(new xd({name:"main",style:oB(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new vd({name:"main",draggable:!0,drift:re(cB,e,t),ondragend:re(JR,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,r){t.childAt(0).setShape({points:fB(e,t,n)})},updateCommon:nB,contain:gB}};function CB(e){return{createCover:function(t,n){return eB({toRectRange:function(t){var n=[t,[0,100]];return e&&n.reverse(),n},fromRectRange:function(t){return t[e]}},t,n,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var n=QR(t),r=IR(n[0][e],n[1][e]),o=ER(n[0][e],n[1][e]);return[r,o]},updateCoverShape:function(t,n,r,o){var i,a=KR(t,n);if(a!==DR&&a.getLinearBrushOtherExtent)i=a.getLinearBrushOtherExtent(e);else{var s=t._zr;i=[0,[s.getWidth(),s.getHeight()][1-e]]}var l=[r,i];e&&l.reverse(),tB(t,n,l,o)},updateCommon:nB,contain:gB}}var SB=VR;function kB(e){return e=MB(e),function(t){return Of(t,e)}}function OB(e,t){return e=MB(e),function(n){var r=null!=t?t:n,o=r?e.width:e.height,i=r?e.x:e.y;return[i,i+(o||0)]}}function TB(e,t,n){var r=MB(e);return function(e,o){return r.contain(o[0],o[1])&&!kE(e,t,n)}}function MB(e){return Cr.create(e)}var DB=["axisLine","axisTickLabel","axisName"],IB=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.init=function(t,n){e.prototype.init.apply(this,arguments),(this._brushController=new SB(n.getZr())).on("brush",ne(this._onBrush,this))},t.prototype.render=function(e,t,n,r){if(!EB(e,t,r)){this.axisModel=e,this.api=n,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Vo,this.group.add(this._axisGroup),e.get("show")){var i=LB(e,t),a=i.coordinateSystem,s=e.getAreaSelectStyle(),l=s.width,u=e.axis.dim,c=a.getAxisLayout(u),d=H({strokeContainThreshold:l},c),f=new gI(e,d);K(DB,f.add,f),this._axisGroup.add(f.getGroup()),this._refreshBrushController(d,s,e,i,l,n),kf(o,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,t,n,r,o,i){var a=n.axis.getExtent(),s=a[1]-a[0],l=Math.min(30,.1*Math.abs(s)),u=Cr.create({x:a[0],y:-o/2,width:s,height:o});u.x-=l,u.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:kB(u),isTargetByCursor:TB(u,i,r),getLinearBrushOtherExtent:OB(u,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(AB(n))},t.prototype._onBrush=function(e){var t=e.areas,n=this.axisModel,r=n.axis,o=X(t,(function(e){return[r.coordToData(e.range[0],!0),r.coordToData(e.range[1],!0)]}));(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:o})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Yv);function EB(e,t,n){return n&&"axisAreaSelect"===n.type&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}function AB(e){var t=e.axis;return X(e.activeIntervals,(function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}}))}function LB(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}var jB=IB,NB={type:"axisAreaSelect",event:"axisAreaSelected"};function PB(e){e.registerAction(NB,(function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},(function(t){t.axis.model.setActiveIntervals(e.intervals)}))})),e.registerAction("parallelAxisExpand",(function(e,t){t.eachComponent({mainType:"parallel",query:e},(function(t){t.setAxisExpand(e)}))}))}var RB={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function BB(e){e.registerComponentView(oR),e.registerComponentModel(aR),e.registerCoordinateSystem("parallel",OR),e.registerPreprocessor(JP),e.registerComponentModel(MR),e.registerComponentView(jB),FD(e,"parallel",MR,RB),PB(e)}function FB(e){U_(BB),e.registerChartView(UP),e.registerSeriesModel(GP),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,XP)}var zB=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return e}(),VB=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.getDefaultShape=function(){return new zB},t.prototype.buildPath=function(e,t){var n=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+n,t.y2),e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)):(e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)),e.closePath()},t.prototype.highlight=function(){Gu(this)},t.prototype.downplay=function(){Yu(this)},t}(Al),HB=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._focusAdjacencyDisabled=!1,n}return g(t,e),t.prototype.render=function(e,t,n){var r=this,o=e.getGraph(),i=this.group,a=e.layoutInfo,s=a.width,l=a.height,u=e.getData(),c=e.getData("edge"),d=e.get("orient");this._model=e,i.removeAll(),i.x=a.x,i.y=a.y,o.eachEdge((function(t){var n=new VB,r=cu(n);r.dataIndex=t.dataIndex,r.seriesIndex=e.seriesIndex,r.dataType="edge";var o,a,u,f,p,h,m,g,v=t.getModel(),y=v.getModel("lineStyle"),b=y.get("curveness"),x=t.node1.getLayout(),w=t.node1.getModel(),_=w.get("localX"),C=w.get("localY"),S=t.node2.getLayout(),k=t.node2.getModel(),O=k.get("localX"),T=k.get("localY"),M=t.getLayout();switch(n.shape.extent=Math.max(1,M.dy),n.shape.orient=d,"vertical"===d?(o=(null!=_?_*s:x.x)+M.sy,a=(null!=C?C*l:x.y)+x.dy,u=(null!=O?O*s:S.x)+M.ty,f=null!=T?T*l:S.y,p=o,h=a*(1-b)+f*b,m=u,g=a*b+f*(1-b)):(o=(null!=_?_*s:x.x)+x.dx,a=(null!=C?C*l:x.y)+M.sy,u=null!=O?O*s:S.x,f=(null!=T?T*l:S.y)+M.ty,p=o*(1-b)+u*b,h=a,m=o*b+u*(1-b),g=f),n.setShape({x1:o,y1:a,x2:u,y2:f,cpx1:p,cpy1:h,cpx2:m,cpy2:g}),n.useStyle(y.getItemStyle()),n.style.fill){case"source":n.style.fill=t.node1.getVisual("color"),n.style.decal=t.node1.getVisual("style").decal;break;case"target":n.style.fill=t.node2.getVisual("color"),n.style.decal=t.node2.getVisual("style").decal;break;case"gradient":var D=t.node1.getVisual("color"),I=t.node2.getVisual("color");"string"===typeof D&&"string"===typeof I&&(n.style.fill=new Bd(0,0,1,0,[{color:D,offset:0},{color:I,offset:1}]))}var E=v.getModel("emphasis");cc(n,v,"lineStyle",(function(e){return e.getItemStyle()})),i.add(n),c.setItemGraphicEl(t.dataIndex,n);var A=E.get("focus");ac(n,"adjacency"===A?t.getAdjacentDataIndices():A,E.get("blurScope")),cu(n).dataType="edge"})),o.eachNode((function(t){var n=t.getLayout(),r=t.getModel(),o=r.get("localX"),a=r.get("localY"),c=r.getModel("emphasis"),d=new Kl({shape:{x:null!=o?o*s:n.x,y:null!=a?a*l:n.y,width:n.dx,height:n.dy},style:r.getModel("itemStyle").getItemStyle()});Pf(d,Rf(r),{labelFetcher:e,labelDataIndex:t.dataIndex,defaultText:t.id}),d.disableLabelAnimation=!0,d.setStyle("fill",t.getVisual("color")),d.setStyle("decal",t.getVisual("style").decal),cc(d,r),i.add(d),u.setItemGraphicEl(t.dataIndex,d),cu(d).dataType="node";var f=c.get("focus");ac(d,"adjacency"===f?t.getAdjacentDataIndices():f,c.get("blurScope"))})),u.eachItemGraphicEl((function(t,o){var i=u.getItemModel(o);i.get("draggable")&&(t.drift=function(t,i){r._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=i,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:u.getRawIndex(o),localX:this.shape.x/s,localY:this.shape.y/l})},t.ondragend=function(){r._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")})),!this._data&&e.isAnimationEnabled()&&i.setClipPath(UB(i.getBoundingRect(),e,(function(){i.removeClipPath()}))),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(oy);function UB(e,t,n){var r=new Kl({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return mf(r,{shape:{width:e.width+20}},t,n),r}var $B=HB,qB=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.getInitialData=function(e,t){var n=e.edges||e.links,r=e.data||e.nodes,o=e.levels;this.levelModels=[];for(var i=this.levelModels,a=0;a<o.length;a++)null!=o[a].depth&&o[a].depth>=0&&(i[o[a].depth]=new sp(o[a],this,t));if(r&&n){var s=lP(r,n,this,!0,l);return s.data}function l(e,t){e.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel,r=n.getData().getItemLayout(t);if(r){var o=r.depth,i=n.levelModels[o];i&&(e.parentModel=i)}return e})),t.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel,r=n.getGraph().getEdgeByIndex(t),o=r.node1.getLayout();if(o){var i=o.depth,a=n.levelModels[i];a&&(e.parentModel=a)}return e}))}},t.prototype.setNodePosition=function(e,t){var n=this.option.data[e];n.localX=t[0],n.localY=t[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,n){function r(e){return isNaN(e)||null==e}if("edge"===n){var o=this.getDataParams(e,n),i=o.data,a=o.value,s=i.source+" -- "+i.target;return bv("nameValue",{name:s,value:a,noValue:r(a)})}var l=this.getGraph().getNodeByIndex(e),u=l.getLayout().value,c=this.getDataParams(e,n).data.name;return bv("nameValue",{name:null!=c?c+"":null,value:u,noValue:r(u)})},t.prototype.optionUpdated=function(){var e=this.option;!0===e.focusNodeAdjacency&&(e.focusNodeAdjacency="allEdges")},t.prototype.getDataParams=function(t,n){var r=e.prototype.getDataParams.call(this,t,n);if(null==r.value&&"node"===n){var o=this.getGraph().getNodeByIndex(t),i=o.getLayout().value;r.value=i}return r},t.type="series.sankey",t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Wv),WB=qB;function GB(e,t){e.eachSeriesByType("sankey",(function(e){var n=e.get("nodeWidth"),r=e.get("nodeGap"),o=YB(e,t);e.layoutInfo=o;var i=o.width,a=o.height,s=e.getGraph(),l=s.nodes,u=s.edges;XB(l);var c=Z(l,(function(e){return 0===e.getLayout().value})),d=0!==c.length?0:e.get("layoutIterations"),f=e.get("orient"),p=e.get("nodeAlign");KB(l,u,n,r,i,a,d,f,p)}))}function YB(e,t){return kh(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function KB(e,t,n,r,o,i,a,s,l){JB(e,t,n,o,i,s,l),nF(e,t,i,o,r,a,s),mF(e,s)}function XB(e){K(e,(function(e){var t=pF(e.outEdges,fF),n=pF(e.inEdges,fF),r=e.getValue()||0,o=Math.max(t,n,r);e.setLayout({value:o},!0)}))}function JB(e,t,n,r,o,i,a){for(var s=[],l=[],u=[],c=[],d=0,f=0;f<t.length;f++)s[f]=1;for(f=0;f<e.length;f++)l[f]=e[f].inEdges.length,0===l[f]&&u.push(e[f]);var p=-1;while(u.length){for(var h=0;h<u.length;h++){var m=u[h],g=m.hostGraph.data.getRawDataItem(m.dataIndex),v=null!=g.depth&&g.depth>=0;v&&g.depth>p&&(p=g.depth),m.setLayout({depth:v?g.depth:d},!0),"vertical"===i?m.setLayout({dy:n},!0):m.setLayout({dx:n},!0);for(var y=0;y<m.outEdges.length;y++){var b=m.outEdges[y],x=t.indexOf(b);s[x]=0;var w=b.node2,_=e.indexOf(w);0===--l[_]&&c.indexOf(w)<0&&c.push(w)}}++d,u=c,c=[]}for(f=0;f<s.length;f++)if(1===s[f])throw new Error("Sankey is a DAG, the original data has cycle!");var C=p>d-1?p:d-1;a&&"left"!==a&&QB(e,a,i,C);var S="vertical"===i?(o-n)/C:(r-n)/C;tF(e,S,i)}function ZB(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function QB(e,t,n,r){if("right"===t){var o=[],i=e,a=0;while(i.length){for(var s=0;s<i.length;s++){var l=i[s];l.setLayout({skNodeHeight:a},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];o.indexOf(c.node1)<0&&o.push(c.node1)}}i=o,o=[],++a}K(e,(function(e){ZB(e)||e.setLayout({depth:Math.max(0,r-e.getLayout().skNodeHeight)},!0)}))}else"justify"===t&&eF(e,r)}function eF(e,t){K(e,(function(e){ZB(e)||e.outEdges.length||e.setLayout({depth:t},!0)}))}function tF(e,t,n){K(e,(function(e){var r=e.getLayout().depth*t;"vertical"===n?e.setLayout({y:r},!0):e.setLayout({x:r},!0)}))}function nF(e,t,n,r,o,i,a){var s=rF(e,a);oF(s,t,n,r,o,a),iF(s,o,n,r,a);for(var l=1;i>0;i--)l*=.99,aF(s,l,a),iF(s,o,n,r,a),hF(s,l,a),iF(s,o,n,r,a)}function rF(e,t){var n=[],r="vertical"===t?"y":"x",o=oa(e,(function(e){return e.getLayout()[r]}));return o.keys.sort((function(e,t){return e-t})),K(o.keys,(function(e){n.push(o.buckets.get(e))})),n}function oF(e,t,n,r,o,i){var a=1/0;K(e,(function(e){var t=e.length,s=0;K(e,(function(e){s+=e.getLayout().value}));var l="vertical"===i?(r-(t-1)*o)/s:(n-(t-1)*o)/s;l<a&&(a=l)})),K(e,(function(e){K(e,(function(e,t){var n=e.getLayout().value*a;"vertical"===i?(e.setLayout({x:t},!0),e.setLayout({dx:n},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:n},!0))}))})),K(t,(function(e){var t=+e.getValue()*a;e.setLayout({dy:t},!0)}))}function iF(e,t,n,r,o){var i="vertical"===o?"x":"y";K(e,(function(e){var a,s,l;e.sort((function(e,t){return e.getLayout()[i]-t.getLayout()[i]}));for(var u=0,c=e.length,d="vertical"===o?"dx":"dy",f=0;f<c;f++)s=e[f],l=u-s.getLayout()[i],l>0&&(a=s.getLayout()[i]+l,"vertical"===o?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[i]+s.getLayout()[d]+t;var p="vertical"===o?r:n;if(l=u-t-p,l>0){a=s.getLayout()[i]-l,"vertical"===o?s.setLayout({x:a},!0):s.setLayout({y:a},!0),u=a;for(f=c-2;f>=0;--f)s=e[f],l=s.getLayout()[i]+s.getLayout()[d]+t-u,l>0&&(a=s.getLayout()[i]-l,"vertical"===o?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[i]}}))}function aF(e,t,n){K(e.slice().reverse(),(function(e){K(e,(function(e){if(e.outEdges.length){var r=pF(e.outEdges,sF,n)/pF(e.outEdges,fF);if(isNaN(r)){var o=e.outEdges.length;r=o?pF(e.outEdges,lF,n)/o:0}if("vertical"===n){var i=e.getLayout().x+(r-dF(e,n))*t;e.setLayout({x:i},!0)}else{var a=e.getLayout().y+(r-dF(e,n))*t;e.setLayout({y:a},!0)}}}))}))}function sF(e,t){return dF(e.node2,t)*e.getValue()}function lF(e,t){return dF(e.node2,t)}function uF(e,t){return dF(e.node1,t)*e.getValue()}function cF(e,t){return dF(e.node1,t)}function dF(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function fF(e){return e.getValue()}function pF(e,t,n){var r=0,o=e.length,i=-1;while(++i<o){var a=+t(e[i],n);isNaN(a)||(r+=a)}return r}function hF(e,t,n){K(e,(function(e){K(e,(function(e){if(e.inEdges.length){var r=pF(e.inEdges,uF,n)/pF(e.inEdges,fF);if(isNaN(r)){var o=e.inEdges.length;r=o?pF(e.inEdges,cF,n)/o:0}if("vertical"===n){var i=e.getLayout().x+(r-dF(e,n))*t;e.setLayout({x:i},!0)}else{var a=e.getLayout().y+(r-dF(e,n))*t;e.setLayout({y:a},!0)}}}))}))}function mF(e,t){var n="vertical"===t?"x":"y";K(e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[n]-t.node2.getLayout()[n]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[n]-t.node1.getLayout()[n]}))})),K(e,(function(e){var t=0,n=0;K(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),K(e.inEdges,(function(e){e.setLayout({ty:n},!0),n+=e.getLayout().dy}))}))}function gF(e){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph(),n=t.nodes;if(n.length){var r=1/0,o=-1/0;K(n,(function(e){var t=e.getLayout().value;t<r&&(r=t),t>o&&(o=t)})),K(n,(function(t){var n=new vj({type:"color",mappingMethod:"linear",dataExtent:[r,o],visual:e.get("color")}),i=n.mapValueToVisual(t.getLayout().value),a=t.getModel().get(["itemStyle","color"]);null!=a?(t.setVisual("color",a),t.setVisual("style",{fill:a})):(t.setVisual("color",i),t.setVisual("style",{fill:i}))}))}}))}function vF(e){e.registerChartView($B),e.registerSeriesModel(WB),e.registerLayout(GB),e.registerVisual(gF),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))}var yF=function(){function e(){}return e.prototype.getInitialData=function(e,t){var n,r,o=t.getComponent("xAxis",this.get("xAxisIndex")),i=t.getComponent("yAxis",this.get("yAxisIndex")),a=o.get("type"),s=i.get("type");"category"===a?(e.layout="horizontal",n=o.getOrdinalMeta(),r=!0):"category"===s?(e.layout="vertical",n=i.getOrdinalMeta(),r=!0):e.layout=e.layout||"horizontal";var l=["x","y"],u="horizontal"===e.layout?0:1,c=this._baseAxisDim=l[u],d=l[1-u],f=[o,i],p=f[u].get("type"),h=f[1-u].get("type"),m=e.data;if(m&&r){var g=[];K(m,(function(e,t){var n;oe(e)?(n=e.slice(),e.unshift(t)):oe(e.value)?(n=e.value.slice(),e.value.unshift(t)):n=e,g.push(n)})),e.data=g}var v=this.defaultValueDimensions,y=[{name:c,type:X_(p),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:X_(h),dimsDef:v.slice()}];return hD(this,{coordDimensions:y,dimensionsCount:v.length+1,encodeDefaulter:re(Jh,y,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},e}(),bF=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return g(t,e),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Wv);G(bF,yF,!0);var xF=bF,wF=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),o=this.group,i=this._data;this._data||o.removeAll();var a="horizontal"===e.get("layout")?1:0;r.diff(i).add((function(e){if(r.hasValue(e)){var t=r.getItemLayout(e),n=SF(t,r,e,a,!0);r.setItemGraphicEl(e,n),o.add(n)}})).update((function(e,t){var n=i.getItemGraphicEl(t);if(r.hasValue(e)){var s=r.getItemLayout(e);n?kF(s,n,r,e):n=SF(s,r,e,a),o.add(n),r.setItemGraphicEl(e,n)}else o.remove(n)})).remove((function(e){var t=i.getItemGraphicEl(e);t&&o.remove(t)})).execute(),this._data=r},t.prototype.remove=function(e){var t=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(e){e&&t.remove(e)}))},t.type="boxplot",t}(oy),_F=function(){function e(){}return e}(),CF=function(e){function t(t){var n=e.call(this,t)||this;return n.type="boxplotBoxPath",n}return g(t,e),t.prototype.getDefaultShape=function(){return new _F},t.prototype.buildPath=function(e,t){var n=t.points,r=0;for(e.moveTo(n[r][0],n[r][1]),r++;r<4;r++)e.lineTo(n[r][0],n[r][1]);for(e.closePath();r<n.length;r++)e.moveTo(n[r][0],n[r][1]),r++,e.lineTo(n[r][0],n[r][1])},t}(Al);function SF(e,t,n,r,o){var i=e.ends,a=new CF({shape:{points:o?OF(i,r,e):i}});return kF(e,a,t,n,o),a}function kF(e,t,n,r,o){var i=n.hostModel,a=l[o?"initProps":"updateProps"];a(t,{shape:{points:e.ends}},i,r),t.useStyle(n.getItemVisual(r,"style")),t.style.strokeNoScale=!0,t.z2=100;var s=n.getItemModel(r);cc(t,s),ac(t,s.get(["emphasis","focus"]),s.get(["emphasis","blurScope"]))}function OF(e,t,n){return X(e,(function(e){return e=e.slice(),e[t]=n.initBaseline,e}))}var TF=wF;function MF(e,t){e.eachRawSeriesByType("boxplot",(function(e){e.getData().setVisual("legendSymbol","roundRect")}))}var DF=K;function IF(e){var t=EF(e);DF(t,(function(e){var t=e.seriesModels;t.length&&(AF(e),DF(t,(function(t,n){LF(t,e.boxOffsetList[n],e.boxWidthList[n])})))}))}function EF(e){var t=[],n=[];return e.eachSeriesByType("boxplot",(function(e){var r=e.getBaseAxis(),o=q(n,r);o<0&&(o=n.length,n[o]=r,t[o]={axis:r,seriesModels:[]}),t[o].seriesModels.push(e)})),t}function AF(e){var t,n,r=e.axis,o=e.seriesModels,i=o.length,a=e.boxWidthList=[],s=e.boxOffsetList=[],l=[];if("category"===r.type)n=r.getBandWidth();else{var u=0;DF(o,(function(e){u=Math.max(u,e.getData().count())})),t=r.getExtent(),Math.abs(t[1]-t[0])}DF(o,(function(e){var t=e.get("boxWidth");oe(t)||(t=[t,t]),l.push([ri(t[0],n)||0,ri(t[1],n)||0])}));var c=.8*n-2,d=c/i*.3,f=(c-d*(i-1))/i,p=f/2-c/2;DF(o,(function(e,t){s.push(p),p+=d+f,a.push(Math.min(Math.max(f,l[t][0]),l[t][1]))}))}function LF(e,t,n){var r=e.coordinateSystem,o=e.getData(),i=n/2,a="horizontal"===e.get("layout")?0:1,s=1-a,l=["x","y"],u=o.mapDimension(l[a]),c=o.mapDimensionsAll(l[s]);if(!(null==u||c.length<5))for(var d=0;d<o.count();d++){var f=o.get(u,d),p=b(f,c[2],d),h=b(f,c[0],d),m=b(f,c[1],d),g=b(f,c[3],d),v=b(f,c[4],d),y=[];x(y,m,!1),x(y,g,!0),y.push(h,m,v,g),w(y,h),w(y,v),w(y,p),o.setItemLayout(d,{initBaseline:p[s],ends:y})}function b(e,n,i){var l,u=o.get(n,i),c=[];return c[a]=e,c[s]=u,isNaN(e)||isNaN(u)?l=[NaN,NaN]:(l=r.dataToPoint(c),l[a]+=t),l}function x(e,t,n){var r=t.slice(),o=t.slice();r[a]+=i,o[a]-=i,n?e.push(r,o):e.push(o,r)}function w(e,t){var n=t.slice(),r=t.slice();n[a]-=i,r[a]+=i,e.push(n,r)}}function jF(e,t){t=t||{};for(var n=[],r=[],o=t.boundIQR,i="none"===o||0===o,a=0;a<e.length;a++){var s=ii(e[a].slice()),l=yi(s,.25),u=yi(s,.5),c=yi(s,.75),d=s[0],f=s[s.length-1],p=(null==o?1.5:o)*(c-l),h=i?d:Math.max(d,l-p),m=i?f:Math.min(f,c+p),g=t.itemNameFormatter,v=ie(g)?g({value:a}):ae(g)?g.replace("{value}",a+""):a+"";n.push([v,h,l,u,c,m]);for(var y=0;y<s.length;y++){var b=s[y];if(b<h||b>m){var x=[v,b];r.push(x)}}}return{boxData:n,outliers:r}}var NF={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==Vh){var n="";0,qg(n)}var r=jF(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:r.boxData},{data:r.outliers}]}};function PF(e){e.registerSeriesModel(xF),e.registerChartView(TF),e.registerVisual(MF),e.registerLayout(IF),e.registerTransform(NF)}var RF=["color","borderColor"],BF=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n){this.group.removeClipPath(),this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,t,n){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,t,n,r){this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e){var t=e.getData(),n=this._data,r=this.group,o=t.getLayout("isSimpleBox"),i=e.get("clip",!0),a=e.coordinateSystem,s=a.getArea&&a.getArea();this._data||r.removeAll(),t.diff(n).add((function(n){if(t.hasValue(n)){var a=t.getItemLayout(n);if(i&&HF(s,a))return;var l=VF(a,n,!0);mf(l,{shape:{points:a.ends}},e,n),UF(l,t,n,o),r.add(l),t.setItemGraphicEl(n,l)}})).update((function(a,l){var u=n.getItemGraphicEl(l);if(t.hasValue(a)){var c=t.getItemLayout(a);i&&HF(s,c)?r.remove(u):(u?hf(u,{shape:{points:c.ends}},e,a):u=VF(c,a),UF(u,t,a,o),r.add(u),t.setItemGraphicEl(a,u))}else r.remove(u)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&r.remove(t)})).execute(),this._data=t},t.prototype._renderLarge=function(e){this._clear(),GF(e,this.group);var t=e.get("clip",!0)?JT(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,t){var n,r=t.getData(),o=r.getLayout("isSimpleBox");while(null!=(n=e.next())){var i=r.getItemLayout(n),a=VF(i,n);UF(a,r,n,o),a.incremental=!0,this.group.add(a)}},t.prototype._incrementalRenderLarge=function(e,t){GF(t,this.group,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(oy),FF=function(){function e(){}return e}(),zF=function(e){function t(t){var n=e.call(this,t)||this;return n.type="normalCandlestickBox",n}return g(t,e),t.prototype.getDefaultShape=function(){return new FF},t.prototype.buildPath=function(e,t){var n=t.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))},t}(Al);function VF(e,t,n){var r=e.ends;return new zF({shape:{points:n?$F(r,e):r},z2:100})}function HF(e,t){for(var n=!0,r=0;r<t.ends.length;r++)if(e.contain(t.ends[r][0],t.ends[r][1])){n=!1;break}return n}function UF(e,t,n,r){var o=t.getItemModel(n);e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.__simpleBox=r,cc(e,o)}function $F(e,t){return X(e,(function(e){return e=e.slice(),e[1]=t.initBaseline,e}))}var qF=function(){function e(){}return e}(),WF=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeCandlestickBox",n}return g(t,e),t.prototype.getDefaultShape=function(){return new qF},t.prototype.buildPath=function(e,t){for(var n=t.points,r=0;r<n.length;)if(this.__sign===n[r++]){var o=n[r++];e.moveTo(o,n[r++]),e.lineTo(o,n[r++])}else r+=3},t}(Al);function GF(e,t,n){var r=e.getData(),o=r.getLayout("largePoints"),i=new WF({shape:{points:o},__sign:1});t.add(i);var a=new WF({shape:{points:o},__sign:-1});t.add(a),YF(1,i,e,r),YF(-1,a,e,r),n&&(i.incremental=!0,a.incremental=!0)}function YF(e,t,n,r){var o=n.get(["itemStyle",e>0?"borderColor":"borderColor0"])||n.get(["itemStyle",e>0?"color":"color0"]),i=n.getModel("itemStyle").getItemStyle(RF);t.useStyle(i),t.style.fill=null,t.style.stroke=o}var KF=BF,XF=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return g(t,e),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,t,n){var r=t.getItemLayout(e);return r&&n.rect(r.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Wv);G(XF,yF,!0);var JF=XF;function ZF(e){e&&oe(e.series)&&K(e.series,(function(e){ue(e)&&"k"===e.type&&(e.type="candlestick")}))}var QF=["itemStyle","borderColor"],ez=["itemStyle","borderColor0"],tz=["itemStyle","color"],nz=["itemStyle","color0"],rz={seriesType:"candlestick",plan:Kv(),performRawSeries:!0,reset:function(e,t){function n(e,t){return t.get(e>0?tz:nz)}function r(e,t){return t.get(e>0?QF:ez)}var o=e.getData();if(o.setVisual("legendSymbol","roundRect"),!t.isSeriesFiltered(e)){var i=e.pipelineContext.large;return!i&&{progress:function(e,t){var o;while(null!=(o=e.next())){var i=t.getItemModel(o),a=t.getItemLayout(o).sign,s=i.getItemStyle();s.fill=n(a,i),s.stroke=r(a,i)||s.fill;var l=t.ensureUniqueItemVisual(o,"style");H(l,s)}}}}}},oz=rz,iz="undefined"!==typeof Float32Array?Float32Array:Array,az={seriesType:"candlestick",plan:Kv(),reset:function(e){var t=e.coordinateSystem,n=e.getData(),r=lz(e,n),o=0,i=1,a=["x","y"],s=n.mapDimension(a[o]),l=n.mapDimensionsAll(a[i]),u=l[0],c=l[1],d=l[2],f=l[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(null==s||l.length<4))return{progress:e.pipelineContext.large?h:p};function p(e,n){var a;while(null!=(a=e.next())){var l=n.get(s,a),p=n.get(u,a),h=n.get(c,a),m=n.get(d,a),g=n.get(f,a),v=Math.min(p,h),y=Math.max(p,h),b=S(v,l),x=S(y,l),w=S(m,l),_=S(g,l),C=[];k(C,x,0),k(C,b,1),C.push(T(_),T(x),T(w),T(b)),n.setItemLayout(a,{sign:sz(n,a,p,h,c),initBaseline:p>h?x[i]:b[i],ends:C,brushRect:O(m,g,l)})}function S(e,n){var r=[];return r[o]=n,r[i]=e,isNaN(n)||isNaN(e)?[NaN,NaN]:t.dataToPoint(r)}function k(e,t,n){var i=t.slice(),a=t.slice();i[o]=ff(i[o]+r/2,1,!1),a[o]=ff(a[o]-r/2,1,!0),n?e.push(i,a):e.push(a,i)}function O(e,t,n){var a=S(e,n),s=S(t,n);return a[o]-=r/2,s[o]-=r/2,{x:a[0],y:a[1],width:i?r:s[0]-a[0],height:i?s[1]-a[1]:r}}function T(e){return e[o]=ff(e[o],1),e}}function h(e,n){var r,a,l=new iz(4*e.count),p=0,h=[],m=[];while(null!=(a=e.next())){var g=n.get(s,a),v=n.get(u,a),y=n.get(c,a),b=n.get(d,a),x=n.get(f,a);isNaN(g)||isNaN(b)||isNaN(x)?(l[p++]=NaN,p+=3):(l[p++]=sz(n,a,v,y,c),h[o]=g,h[i]=b,r=t.dataToPoint(h,null,m),l[p++]=r?r[0]:NaN,l[p++]=r?r[1]:NaN,h[i]=x,r=t.dataToPoint(h,null,m),l[p++]=r?r[1]:NaN)}n.setLayout("largePoints",l)}}};function sz(e,t,n,r,o){var i;return i=n>r?-1:n<r?1:t>0?e.get(o,t-1)<=r?1:-1:1,i}function lz(e,t){var n,r=e.getBaseAxis(),o="category"===r.type?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/t.count()),i=ri(ye(e.get("barMaxWidth"),o),o),a=ri(ye(e.get("barMinWidth"),1),o),s=e.get("barWidth");return null!=s?ri(s,o):Math.max(Math.min(o/2,i),a)}var uz=az;function cz(e){e.registerChartView(KF),e.registerSeriesModel(JF),e.registerPreprocessor(ZF),e.registerVisual(oz),e.registerLayout(uz)}var dz=3;function fz(e){return oe(e)||(e=[+e,+e]),e}function pz(e,t){var n=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?n:null,fill:"fill"===t.brushType?n:null}})}))}var hz=function(e){function t(t,n){var r=e.call(this)||this,o=new TT(t,n),i=new Vo;return r.add(o),r.add(i),r.updateData(t,n),r}return g(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,r=this.childAt(1),o=0;o<dz;o++){var i=rx(t,-1,-1,2,2,n);i.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var a=-o/dz*e.period+e.effectOffset;i.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(a).start(),i.animateStyle(!0).when(e.period,{opacity:0}).delay(a).start(),r.add(i)}pz(r,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),r=["symbolType","period","rippleScale"],o=0;o<r.length;o++){var i=r[o];if(t[i]!==e[i])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}pz(n,e)},t.prototype.highlight=function(){Gu(this)},t.prototype.downplay=function(){Yu(this)},t.prototype.updateData=function(e,t){var n=this,r=e.hostModel;this.childAt(0).updateData(e,t);var o=this.childAt(1),i=e.getItemModel(t),a=e.getItemVisual(t,"symbol"),s=fz(e.getItemVisual(t,"symbolSize")),l=e.getItemVisual(t,"style"),u=l&&l.fill;o.setScale(s),o.traverse((function(e){e.setStyle("fill",u)}));var c=i.getShallow("symbolOffset");c&&(o.x=ri(c[0],s[0]),o.y=ri(c[1],s[1]));var d=e.getItemVisual(t,"symbolRotate");o.rotation=(d||0)*Math.PI/180||0;var f={};f.showEffectOn=r.get("showEffectOn"),f.rippleScale=i.get(["rippleEffect","scale"]),f.brushType=i.get(["rippleEffect","brushType"]),f.period=1e3*i.get(["rippleEffect","period"]),f.effectOffset=t/e.count(),f.z=r.getShallow("z")||0,f.zlevel=r.getShallow("zlevel")||0,f.symbolType=a,f.color=u,f.rippleEffectColor=i.get(["rippleEffect","color"]),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===f.showEffectOn?(this._effectCfg?this.updateEffectAnimation(f):this.startEffectAnimation(f),this._effectCfg=f):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==f.showEffectOn&&n.startEffectAnimation(f):"normal"===e&&"render"!==f.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=f,ac(this)},t.prototype.fadeOut=function(e){this.off("mouseover").off("mouseout"),e&&e()},t}(Vo);W(hz,Vo);var mz=hz,gz=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.init=function(){this._symbolDraw=new AT(mz)},t.prototype.render=function(e,t,n){var r=e.getData(),o=this._symbolDraw;o.updateData(r),this.group.add(o.group)},t.prototype.updateTransform=function(e,t,n){var r=e.getData();this.group.dirty();var o=gM("").reset(e,t,n);o.progress&&o.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=Qt(t.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(oy),vz=gz,yz=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return g(t,e),t.prototype.getInitialData=function(e,t){return UC(this.getSource(),this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10},t}(Wv),bz=yz;function xz(e){e.registerChartView(vz),e.registerSeriesModel(bz),e.registerLayout(gM("effectScatter"))}var wz=function(e){function t(t,n,r){var o=e.call(this)||this;return o.add(o.createLine(t,n,r)),o._updateEffectSymbol(t,n),o}return g(t,e),t.prototype.createLine=function(e,t,n){return new BN(e,t,n)},t.prototype._updateEffectSymbol=function(e,t){var n=e.getItemModel(t),r=n.getModel("effect"),o=r.get("symbolSize"),i=r.get("symbol");oe(o)||(o=[o,o]);var a=e.getItemVisual(t,"style"),s=r.get("color")||a&&a.stroke,l=this.childAt(1);this._symbolType!==i&&(this.remove(l),l=rx(i,-.5,-.5,1,1,s),l.z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",s),l.setStyle(r.getItemStyle(["color"])),l.scaleX=o[0],l.scaleY=o[1],l.setColor(s),this._symbolType=i,this._symbolScale=o,this._updateEffectAnimation(e,r,t))},t.prototype._updateEffectAnimation=function(e,t,n){var r=this.childAt(1);if(r){var o=this,i=e.getItemLayout(n),a=1e3*t.get("period"),s=t.get("loop"),l=t.get("constantSpeed"),u=ve(t.get("delay"),(function(t){return t/e.count()*a/3}));if(r.ignore=!0,this._updateAnimationPoints(r,i),l>0&&(a=this._getLineLength(r)/l*1e3),(a!==this._period||s!==this._loop)&&(r.stopAnimation(),a>0)){var c=void 0;c="function"===typeof u?u(n):u,r.__t>0&&(c=-a*r.__t),r.__t=0;var d=r.animate("",s).when(a,{__t:1}).delay(c).during((function(){o._updateSymbolPosition(r)}));s||d.done((function(){o.remove(r)})),d.start()}this._period=a,this._loop=s}},t.prototype._getLineLength=function(e){return Xe(e.__p1,e.__cp1)+Xe(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,r=e.__cp1,o=e.__t,i=[e.x,e.y],a=i.slice(),s=ys,l=bs;i[0]=s(t[0],r[0],n[0],o),i[1]=s(t[1],r[1],n[1],o);var u=l(t[0],r[0],n[0],o),c=l(t[1],r[1],n[1],o);e.rotation=-Math.atan2(c,u)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*Xe(a,i),1===o&&(i[0]=a[0]+(i[0]-a[0])/2,i[1]=a[1]+(i[1]-a[1])/2)):1===e.__lastT?e.scaleY=2*Xe(t,i):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=i[0],e.y=i[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},t}(Vo),_z=wz,Cz=function(e){function t(t,n,r){var o=e.call(this)||this;return o._createPolyline(t,n,r),o}return g(t,e),t.prototype._createPolyline=function(e,t,n){var r=e.getItemLayout(t),o=new xd({shape:{points:r}});this.add(o),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var r=e.hostModel,o=this.childAt(0),i={shape:{points:e.getItemLayout(t)}};hf(o,i,r,t),this._updateCommonStl(e,t,n)},t.prototype._updateCommonStl=function(e,t,n){var r=this.childAt(0),o=e.getItemModel(t),i=n&&n.emphasisLineStyle;n&&!e.hasItemOption||(i=o.getModel(["emphasis","lineStyle"]).getLineStyle()),r.useStyle(e.getItemVisual(t,"style")),r.style.fill=null,r.style.strokeNoScale=!0;var a=r.ensureState("emphasis");a.style=i,ac(this)},t.prototype.updateLayout=function(e,t){var n=this.childAt(0);n.setShape("points",e.getItemLayout(t))},t}(Vo),Sz=Cz,kz=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return g(t,e),t.prototype.createLine=function(e,t,n){return new Sz(e,t,n)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],r=0,o=1;o<t.length;o++){var i=t[o-1],a=t[o];r+=Xe(i,a),n.push(r)}if(0!==r){for(o=0;o<n.length;o++)n[o]/=r;this._offsets=n,this._length=r}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t=e.__t,n=this._points,r=this._offsets,o=n.length;if(r){var i,a=this._lastFrame;if(t<this._lastFramePercent){var s=Math.min(a+1,o-1);for(i=s;i>=0;i--)if(r[i]<=t)break;i=Math.min(i,o-2)}else{for(i=a;i<o;i++)if(r[i]>t)break;i=Math.min(i-1,o-2)}var l=(t-r[i])/(r[i+1]-r[i]),u=n[i],c=n[i+1];e.x=u[0]*(1-l)+l*c[0],e.y=u[1]*(1-l)+l*c[1];var d=c[0]-u[0],f=c[1]-u[1];e.rotation=-Math.atan2(f,d)-Math.PI/2,this._lastFrame=i,this._lastFramePercent=t,e.ignore=!1}},t}(_z),Oz=kz,Tz=function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e}(),Mz=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Tz},t.prototype.buildPath=function(e,t){var n=t.segs,r=t.curveness;if(t.polyline)for(var o=0;o<n.length;){var i=n[o++];if(i>0){e.moveTo(n[o++],n[o++]);for(var a=1;a<i;a++)e.lineTo(n[o++],n[o++])}}else for(o=0;o<n.length;){var s=n[o++],l=n[o++],u=n[o++],c=n[o++];if(e.moveTo(s,l),r>0){var d=(s+u)/2-(l-c)*r,f=(l+c)/2-(u-s)*r;e.quadraticCurveTo(d,f,u,c)}else e.lineTo(u,c)}},t.prototype.findDataIndex=function(e,t){var n=this.shape,r=n.segs,o=n.curveness,i=this.style.lineWidth;if(n.polyline)for(var a=0,s=0;s<r.length;){var l=r[s++];if(l>0)for(var u=r[s++],c=r[s++],d=1;d<l;d++){var f=r[s++],p=r[s++];if(sl(u,c,f,p,i,e,t))return a}a++}else for(a=0,s=0;s<r.length;){u=r[s++],c=r[s++],f=r[s++],p=r[s++];if(o>0){var h=(u+f)/2-(c-p)*o,m=(c+p)/2-(f-u)*o;if(ul(u,c,h,m,f,p,i,e,t))return a}else if(sl(u,c,f,p,i,e,t))return a;a++}return-1},t}(Al),Dz=function(){function e(){this.group=new Vo}return e.prototype.isPersistent=function(){return!this._incremental},e.prototype.updateData=function(e){this.group.removeAll();var t=new Mz({rectHover:!0,cursor:"default"});t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>5e5?(this._incremental||(this._incremental=new Kd({silent:!0})),this.group.add(this._incremental)):this._incremental=null},e.prototype.incrementalUpdate=function(e,t){var n=new Mz;n.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(n,t,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=e.start,this.group.add(n))},e.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},e.prototype._setCommon=function(e,t,n){var r=t.hostModel;e.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),e.useStyle(r.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("style");if(o&&o.stroke&&e.setStyle("stroke",o.stroke),e.setStyle("fill",null),!n){var i=cu(e);i.seriesIndex=r.seriesIndex,e.on("mousemove",(function(t){i.dataIndex=null;var n=e.findDataIndex(t.offsetX,t.offsetY);n>0&&(i.dataIndex=n+e.__startIndex)}))}},e.prototype._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},e}(),Iz=Dz,Ez={seriesType:"lines",plan:Kv(),reset:function(e){var t=e.coordinateSystem,n=e.get("polyline"),r=e.pipelineContext.large;return{progress:function(o,i){var a=[];if(r){var s=void 0,l=o.end-o.start;if(n){for(var u=0,c=o.start;c<o.end;c++)u+=e.getLineCoordsCount(c);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var d=0,f=[];for(c=o.start;c<o.end;c++){var p=e.getLineCoords(c,a);n&&(s[d++]=p);for(var h=0;h<p;h++)f=t.dataToPoint(a[h],!1,f),s[d++]=f[0],s[d++]=f[1]}i.setLayout("linesPoints",s)}else for(c=o.start;c<o.end;c++){var m=i.getItemModel(c),g=(p=e.getLineCoords(c,a),[]);if(n)for(var v=0;v<p;v++)g.push(t.dataToPoint(a[v]));else{g[0]=t.dataToPoint(a[0]),g[1]=t.dataToPoint(a[1]);var y=m.get(["lineStyle","curveness"]);+y&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*y,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*y])}i.setItemLayout(c,g)}}}}},Az=Ez,Lz=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),o=this._updateLineDraw(r,e),i=e.get("zlevel"),a=e.get(["effect","trailLength"]),s=n.getZr(),l="svg"===s.painter.getType();(l||s.painter.getLayer(i).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&a)&&(l||s.configLayer(i,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)}));o.updateData(r);var u=e.get("clip",!0)&&JT(e.coordinateSystem,!1,e);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=i,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var r=e.getData(),o=this._updateLineDraw(r,e);o.incrementalPrepareUpdate(r),this._clearLayer(n),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,n){var r=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var i=Az.reset(e,t,n);i.progress&&i.progress({start:0,end:r.count(),count:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(n)},t.prototype._updateLineDraw=function(e,t){var n=this._lineDraw,r=this._showEffect(t),o=!!t.get("polyline"),i=t.pipelineContext,a=i.large;return n&&r===this._hasEffet&&o===this._isPolyline&&a===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=a?new Iz:new $N(o?r?Oz:Sz:r?_z:BN),this._hasEffet=r,this._isPolyline=o,this._isLargeDraw=a,this.group.removeAll()),this.group.add(n.group),n},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var t=e.getZr(),n="svg"===t.painter.getType();n||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},t.type="lines",t}(oy),jz=Lz,Nz="undefined"===typeof Uint32Array?Array:Uint32Array,Pz="undefined"===typeof Float64Array?Array:Float64Array;function Rz(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=X(t,(function(e){var t=[e[0].coord,e[1].coord],n={coords:t};return e[0].name&&(n.fromName=e[0].name),e[1].name&&(n.toName=e[1].name),V([n,e[0],e[1]])})))}var Bz=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return g(t,e),t.prototype.init=function(t){t.data=t.data||[],Rz(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(t){if(Rz(t),t.data){var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=De(this._flatCoords,t.flatCoords),this._flatCoordsOffset=De(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e),n=t.option instanceof Array?t.option:t.getShallow("coords");return n},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],r=this._flatCoordsOffset[2*e+1],o=0;o<r;o++)t[o]=t[o]||[],t[o][0]=this._flatCoords[n+2*o],t[o][1]=this._flatCoords[n+2*o+1];return r}var i=this._getCoordsFromItemModel(e);for(o=0;o<i.length;o++)t[o]=t[o]||[],t[o][0]=i[o][0],t[o][1]=i[o][1];return i.length},t.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),"number"===typeof e[0]){for(var n=e.length,r=new Nz(n),o=new Pz(n),i=0,a=0,s=0,l=0;l<n;){s++;var u=e[l++];r[a++]=i+t,r[a++]=u;for(var c=0;c<u;c++){var d=e[l++],f=e[l++];o[i++]=d,o[i++]=f}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,a),flatCoords:o,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,t){var n=new TC(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,r,o){if(e instanceof Array)return NaN;n.hasItemOption=!0;var i=e.value;return null!=i?i instanceof Array?i[o]:i:void 0})),n},t.prototype.formatTooltip=function(e,t,n){var r=this.getData(),o=r.getItemModel(e),i=o.get("name");if(i)return i;var a=o.get("fromName"),s=o.get("toName"),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),bv("nameValue",{name:l.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Wv),Fz=Bz;function zz(e){return e instanceof Array||(e=[e,e]),e}var Vz={seriesType:"lines",reset:function(e){var t=zz(e.get("symbol")),n=zz(e.get("symbolSize")),r=e.getData();function o(e,t){var n=e.getItemModel(t),r=zz(n.getShallow("symbol",!0)),o=zz(n.getShallow("symbolSize",!0));r[0]&&e.setItemVisual(t,"fromSymbol",r[0]),r[1]&&e.setItemVisual(t,"toSymbol",r[1]),o[0]&&e.setItemVisual(t,"fromSymbolSize",o[0]),o[1]&&e.setItemVisual(t,"toSymbolSize",o[1])}return r.setVisual("fromSymbol",t&&t[0]),r.setVisual("toSymbol",t&&t[1]),r.setVisual("fromSymbolSize",n&&n[0]),r.setVisual("toSymbolSize",n&&n[1]),{dataEach:r.hasItemOption?o:null}}},Hz=Vz;function Uz(e){e.registerChartView(jz),e.registerSeriesModel(Fz),e.registerLayout(Az),e.registerVisual(Hz)}var $z=256,qz=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=$();this.canvas=e}return e.prototype.update=function(e,t,n,r,o,i){var a=this._getBrush(),s=this._getGradient(o,"inRange"),l=this._getGradient(o,"outOfRange"),u=this.pointSize+this.blurSize,c=this.canvas,d=c.getContext("2d"),f=e.length;c.width=t,c.height=n;for(var p=0;p<f;++p){var h=e[p],m=h[0],g=h[1],v=h[2],y=r(v);d.globalAlpha=y,d.drawImage(a,m-u,g-u)}if(!c.width||!c.height)return c;var b=d.getImageData(0,0,c.width,c.height),x=b.data,w=0,_=x.length,C=this.minOpacity,S=this.maxOpacity,k=S-C;while(w<_){y=x[w+3]/256;var O=4*Math.floor(y*($z-1));if(y>0){var T=i(y)?s:l;y>0&&(y=y*k+C),x[w++]=T[O],x[w++]=T[O+1],x[w++]=T[O+2],x[w++]=T[O+3]*y*256}else w+=4}return d.putImageData(b,0,0),c},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=$()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var r=e.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-t,t,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),e},e.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,r=n[t]||(n[t]=new Uint8ClampedArray(1024)),o=[0,0,0,0],i=0,a=0;a<256;a++)e[t](a/255,!0,o),r[i++]=o[0],r[i++]=o[1],r[i++]=o[2],r[i++]=o[3];return r},e}(),Wz=qz;function Gz(e,t,n){var r=e[1]-e[0];t=X(t,(function(t){return{interval:[(t.interval[0]-e[0])/r,(t.interval[1]-e[0])/r]}}));var o=t.length,i=0;return function(e){var r;for(r=i;r<o;r++){var a=t[r].interval;if(a[0]<=e&&e<=a[1]){i=r;break}}if(r===o)for(r=i-1;r>=0;r--){a=t[r].interval;if(a[0]<=e&&e<=a[1]){i=r;break}}return r>=0&&r<o&&n[r]}}function Yz(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}function Kz(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var Xz=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n){var r;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(n){n===e&&(r=t)}))})),this.group.removeAll(),this._incrementalDisplayable=null;var o=e.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):Kz(o)&&this._renderOnGeo(o,e,r,n)},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,n,r){var o=t.coordinateSystem;o&&(Kz(o)?this.render(t,n,r):this._renderOnCartesianAndCalendar(t,r,e.start,e.end,!0))},t.prototype._renderOnCartesianAndCalendar=function(e,t,n,r,o){var i,a,s,l,u=e.coordinateSystem;if(ZT(u,"cartesian2d")){var c=u.getAxis("x"),d=u.getAxis("y");0,i=c.getBandWidth(),a=d.getBandWidth(),s=c.scale.getExtent(),l=d.scale.getExtent()}for(var f=this.group,p=e.getData(),h=e.getModel(["emphasis","itemStyle"]).getItemStyle(),m=e.getModel(["blur","itemStyle"]).getItemStyle(),g=e.getModel(["select","itemStyle"]).getItemStyle(),v=Rf(e),y=e.get(["emphasis","focus"]),b=e.get(["emphasis","blurScope"]),x=ZT(u,"cartesian2d")?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],w=n;w<r;w++){var _=void 0,C=p.getItemVisual(w,"style");if(ZT(u,"cartesian2d")){var S=p.get(x[0],w),k=p.get(x[1],w);if(isNaN(p.get(x[2],w))||S<s[0]||S>s[1]||k<l[0]||k>l[1])continue;var O=u.dataToPoint([S,k]);_=new Kl({shape:{x:Math.floor(Math.round(O[0])-i/2),y:Math.floor(Math.round(O[1])-a/2),width:Math.ceil(i),height:Math.ceil(a)},style:C})}else{if(isNaN(p.get(x[1],w)))continue;_=new Kl({z2:1,shape:u.dataToRect([p.get(x[0],w)]).contentShape,style:C})}var T=p.getItemModel(w);if(p.hasItemOption){var M=T.getModel("emphasis");h=M.getModel("itemStyle").getItemStyle(),m=T.getModel(["blur","itemStyle"]).getItemStyle(),g=T.getModel(["select","itemStyle"]).getItemStyle(),y=M.get("focus"),b=M.get("blurScope"),v=Rf(T)}var D=e.getRawValue(w),I="-";D&&null!=D[2]&&(I=D[2]+""),Pf(_,v,{labelFetcher:e,labelDataIndex:w,defaultOpacity:C.opacity,defaultText:I}),_.ensureState("emphasis").style=h,_.ensureState("blur").style=m,_.ensureState("select").style=g,ac(_,y,b),_.incremental=o,o&&(_.states.emphasis.hoverLayer=!0),f.add(_),p.setItemGraphicEl(w,_)}},t.prototype._renderOnGeo=function(e,t,n,r){var o=n.targetVisuals.inRange,i=n.targetVisuals.outOfRange,a=t.getData(),s=this._hmLayer||this._hmLayer||new Wz;s.blurSize=t.get("blurSize"),s.pointSize=t.get("pointSize"),s.minOpacity=t.get("minOpacity"),s.maxOpacity=t.get("maxOpacity");var l=e.getViewRect().clone(),u=e.getRoamTransform();l.applyTransform(u);var c=Math.max(l.x,0),d=Math.max(l.y,0),f=Math.min(l.width+l.x,r.getWidth()),p=Math.min(l.height+l.y,r.getHeight()),h=f-c,m=p-d,g=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],v=a.mapArray(g,(function(t,n,r){var o=e.dataToPoint([t,n]);return o[0]-=c,o[1]-=d,o.push(r),o})),y=n.getExtent(),b="visualMap.continuous"===n.type?Yz(y,n.option.range):Gz(y,n.getPieceList(),n.option.selected);s.update(v,h,m,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:i.color.getColorMapper()},b);var x=new zl({style:{width:h,height:m,x:c,y:d,image:s.canvas},silent:!0});this.group.add(x)},t.type="heatmap",t}(oy),Jz=Xz,Zz=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.getInitialData=function(e,t){return UC(this.getSource(),this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=Im.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Wv),Qz=Zz;function eV(e){e.registerChartView(Jz),e.registerSeriesModel(Qz)}var tV=["itemStyle","borderWidth"],nV=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],rV=new Vc,oV=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n){var r=this.group,o=e.getData(),i=this._data,a=e.coordinateSystem,s=a.getBaseAxis(),l=s.isHorizontal(),u=a.master.getRect(),c={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:a,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:l,valueDim:nV[+l],categoryDim:nV[1-+l]};return o.diff(i).add((function(e){if(o.hasValue(e)){var t=gV(o,e),n=iV(o,e,t,c),i=bV(o,c,n);o.setItemGraphicEl(e,i),r.add(i),kV(i,c,n)}})).update((function(e,t){var n=i.getItemGraphicEl(t);if(o.hasValue(e)){var a=gV(o,e),s=iV(o,e,a,c),l=_V(o,s);n&&l!==n.__pictorialShapeStr&&(r.remove(n),o.setItemGraphicEl(e,null),n=null),n?xV(n,c,s):n=bV(o,c,s,!0),o.setItemGraphicEl(e,n),n.__pictorialSymbolMeta=s,r.add(n),kV(n,c,s)}else r.remove(n)})).remove((function(e){var t=i.getItemGraphicEl(e);t&&wV(i,e,t.__pictorialSymbolMeta.animationModel,t)})).execute(),this._data=o,this.group},t.prototype.remove=function(e,t){var n=this.group,r=this._data;e.get("animation")?r&&r.eachItemGraphicEl((function(t){wV(r,cu(t).dataIndex,e,t)})):n.removeAll()},t.type="pictorialBar",t}(oy);function iV(e,t,n,r){var o=e.getItemLayout(t),i=n.get("symbolRepeat"),a=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=n.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=n.get("symbolPatternSize")||2,d=n.isAnimationEnabled(),f={dataIndex:t,layout:o,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:a,symbolRepeat:i,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:d?n:null,hoverScale:d&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};aV(n,i,o,r,f),lV(e,t,o,i,a,f.boundingLength,f.pxSign,c,r,f),uV(n,f.symbolScale,u,r,f);var p=f.symbolSize,h=n.get("symbolOffset");return oe(h)&&(h=[ri(h[0],p[0]),ri(h[1],p[1])]),cV(n,p,o,i,a,h,s,f.valueLineWidth,f.boundingLength,f.repeatCutLength,r,f),f}function aV(e,t,n,r,o){var i,a=r.valueDim,s=e.get("symbolBoundingData"),l=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),c=1-+(n[a.wh]<=0);if(oe(s)){var d=[sV(l,s[0])-u,sV(l,s[1])-u];d[1]<d[0]&&d.reverse(),i=d[c]}else i=null!=s?sV(l,s)-u:t?r.coordSysExtent[a.index][c]-u:n[a.wh];o.boundingLength=i,t&&(o.repeatCutLength=n[a.wh]),o.pxSign=i>0?1:i<0?-1:0}function sV(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function lV(e,t,n,r,o,i,a,s,l,u){var c,d=l.valueDim,f=l.categoryDim,p=Math.abs(n[f.wh]),h=e.getItemVisual(t,"symbolSize");c=oe(h)?h.slice():null==h?["100%","100%"]:[h,h],c[f.index]=ri(c[f.index],p),c[d.index]=ri(c[d.index],r?p:Math.abs(i)),u.symbolSize=c;var m=u.symbolScale=[c[0]/s,c[1]/s];m[d.index]*=(l.isHorizontal?-1:1)*a}function uV(e,t,n,r,o){var i=e.get(tV)||0;i&&(rV.attr({scaleX:t[0],scaleY:t[1],rotation:n}),rV.updateTransform(),i/=rV.getLineScale(),i*=t[r.valueDim.index]),o.valueLineWidth=i}function cV(e,t,n,r,o,i,a,s,l,u,c,d){var f=c.categoryDim,p=c.valueDim,h=d.pxSign,m=Math.max(t[p.index]+s,0),g=m;if(r){var v=Math.abs(l),y=ve(e.get("symbolMargin"),"15%")+"",b=!1;y.lastIndexOf("!")===y.length-1&&(b=!0,y=y.slice(0,y.length-1));var x=ri(y,t[p.index]),w=Math.max(m+2*x,0),_=b?0:2*x,C=wi(r),S=C?r:OV((v+_)/w),k=v-S*m;x=k/2/(b?S:S-1),w=m+2*x,_=b?0:2*x,C||"fixed"===r||(S=u?OV((Math.abs(u)+_)/w):0),g=S*w-_,d.repeatTimes=S,d.symbolMargin=x}var O=h*(g/2),T=d.pathPosition=[];T[f.index]=n[f.wh]/2,T[p.index]="start"===a?O:"end"===a?l-O:l/2,i&&(T[0]+=i[0],T[1]+=i[1]);var M=d.bundlePosition=[];M[f.index]=n[f.xy],M[p.index]=n[p.xy];var D=d.barRectShape=H({},n);D[p.wh]=h*Math.max(Math.abs(n[p.wh]),Math.abs(T[p.index]+O)),D[f.wh]=n[f.wh];var I=d.clipShape={};I[f.xy]=-n[f.xy],I[f.wh]=c.ecSize[f.wh],I[p.xy]=0,I[p.wh]=n[p.wh]}function dV(e){var t=e.symbolPatternSize,n=rx(e.symbolType,-t/2,-t/2,t,t);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function fV(e,t,n,r){var o=e.__pictorialBundle,i=n.symbolSize,a=n.valueLineWidth,s=n.pathPosition,l=t.valueDim,u=n.repeatTimes||0,c=0,d=i[t.valueDim.index]+a+2*n.symbolMargin;for(CV(e,(function(e){e.__pictorialAnimationIndex=c,e.__pictorialRepeatTimes=u,c<u?SV(e,null,h(c),n,r):SV(e,null,{scaleX:0,scaleY:0},n,r,(function(){o.remove(e)})),c++}));c<u;c++){var f=dV(n);f.__pictorialAnimationIndex=c,f.__pictorialRepeatTimes=u,o.add(f);var p=h(c);SV(f,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},n,r)}function h(e){var t=s.slice(),r=n.pxSign,o=e;return("start"===n.symbolRepeatDirection?r>0:r<0)&&(o=u-1-e),t[l.index]=d*(o-u/2+.5)+s[l.index],{x:t[0],y:t[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function pV(e,t,n,r){var o=e.__pictorialBundle,i=e.__pictorialMainPath;i?SV(i,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,r):(i=e.__pictorialMainPath=dV(n),o.add(i),SV(i,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,r))}function hV(e,t,n){var r=H({},t.barRectShape),o=e.__pictorialBarRect;o?SV(o,null,{shape:r},t,n):(o=e.__pictorialBarRect=new Kl({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),e.add(o))}function mV(e,t,n,r){if(n.symbolClip){var o=e.__pictorialClipPath,i=H({},n.clipShape),a=t.valueDim,s=n.animationModel,u=n.dataIndex;if(o)hf(o,{shape:i},s,u);else{i[a.wh]=0,o=new Kl({shape:i}),e.__pictorialBundle.setClipPath(o),e.__pictorialClipPath=o;var c={};c[a.wh]=n.clipShape[a.wh],l[r?"updateProps":"initProps"](o,{shape:c},s,u)}}}function gV(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=vV,n.isAnimationEnabled=yV,n}function vV(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function yV(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function bV(e,t,n,r){var o=new Vo,i=new Vo;return o.add(i),o.__pictorialBundle=i,i.x=n.bundlePosition[0],i.y=n.bundlePosition[1],n.symbolRepeat?fV(o,t,n):pV(o,t,n),hV(o,n,r),mV(o,t,n,r),o.__pictorialShapeStr=_V(e,n),o.__pictorialSymbolMeta=n,o}function xV(e,t,n){var r=n.animationModel,o=n.dataIndex,i=e.__pictorialBundle;hf(i,{x:n.bundlePosition[0],y:n.bundlePosition[1]},r,o),n.symbolRepeat?fV(e,t,n,!0):pV(e,t,n,!0),hV(e,n,!0),mV(e,t,n,!0)}function wV(e,t,n,r){var o=r.__pictorialBarRect;o&&o.removeTextContent();var i=[];CV(r,(function(e){i.push(e)})),r.__pictorialMainPath&&i.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),K(i,(function(e){gf(e,{scaleX:0,scaleY:0},n,t,(function(){r.parent&&r.parent.remove(r)}))})),e.setItemGraphicEl(t,null)}function _V(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function CV(e,t,n){K(e.__pictorialBundle.children(),(function(r){r!==e.__pictorialBarRect&&t.call(n,r)}))}function SV(e,t,n,r,o,i){t&&e.attr(t),r.symbolClip&&!o?n&&e.attr(n):n&&l[o?"updateProps":"initProps"](e,n,r.animationModel,r.dataIndex,i)}function kV(e,t,n){var r=n.dataIndex,o=n.itemModel,i=o.getModel("emphasis"),a=i.getModel("itemStyle").getItemStyle(),s=o.getModel(["blur","itemStyle"]).getItemStyle(),l=o.getModel(["select","itemStyle"]).getItemStyle(),u=o.getShallow("cursor"),c=i.get("focus"),d=i.get("blurScope"),f=i.get("scale");CV(e,(function(e){if(e instanceof zl){var t=e.style;e.useStyle(H({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},n.style))}else e.useStyle(n.style);var r=e.ensureState("emphasis");r.style=a,f&&(r.scaleX=1.1*e.scaleX,r.scaleY=1.1*e.scaleY),e.ensureState("blur").style=s,e.ensureState("select").style=l,u&&(e.cursor=u),e.z2=n.z2}));var p=t.valueDim.posDesc[+(n.boundingLength>0)],h=e.__pictorialBarRect;Pf(h,Rf(o),{labelFetcher:t.seriesModel,labelDataIndex:r,defaultText:CT(t.seriesModel.getData(),r),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:p}),ac(e,c,d)}function OV(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var TV=oV,MV=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return g(t,e),t.prototype.getInitialData=function(t){return t.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=fp(_M.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(_M),DV=MV;function IV(e){e.registerChartView(TV),e.registerSeriesModel(DV),e.registerLayout(re(bS,"pictorialBar"))}var EV=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._layers=[],n}return g(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),o=this,i=this.group,a=e.getLayerSeries(),s=r.getLayout("layoutInfo"),l=s.rect,u=s.boundaryGap;function c(e){return e.name}i.x=0,i.y=l.y+u[0];var d=new G_(this._layersSeries||[],a,c,c),f=[];function p(t,n,s){var l=o._layers;if("remove"!==t){for(var u,c,d=[],p=[],h=a[n].indices,m=0;m<h.length;m++){var g=r.getItemLayout(h[m]),v=g.x,y=g.y0,b=g.y;d.push(v,y),p.push(v,y+b),u=r.getItemVisual(h[m],"style")}var x=r.getItemLayout(h[0]),w=e.getModel("label"),_=w.get("margin"),C=e.getModel("emphasis");if("add"===t){var S=f[n]=new Vo;c=new YT({shape:{points:d,stackedOnPoints:p,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),S.add(c),i.add(S),e.isAnimationEnabled()&&c.setClipPath(AV(c.getBoundingRect(),e,(function(){c.removeClipPath()})))}else{S=l[s];c=S.childAt(0),i.add(S),f[n]=S,hf(c,{shape:{points:d,stackedOnPoints:p}},e)}Pf(c,Rf(e),{labelDataIndex:h[m-1],defaultText:r.getName(h[m-1]),inheritColor:u.fill},{normal:{verticalAlign:"middle"}}),c.setTextConfig({position:null,local:!0});var k=c.getTextContent();k&&(k.x=x.x-_,k.y=x.y0+x.y/2),c.useStyle(u),r.setItemGraphicEl(n,c),cc(c,e),ac(c,C.get("focus"),C.get("blurScope"))}else i.remove(l[n])}d.add(ne(p,this,"add")).update(ne(p,this,"update")).remove(ne(p,this,"remove")).execute(),this._layersSeries=a,this._layers=f},t.type="themeRiver",t}(oy);function AV(e,t,n){var r=new Kl({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return mf(r,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,n),r}var LV=EV,jV=2,NV=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.useColorPaletteOnData=!0,n}return g(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new gD(ne(this.getData,this),ne(this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,n={},r=oa(e,(function(e){return n.hasOwnProperty(e[0]+"")||(n[e[0]+""]=-1),e[2]})),o=[];r.buckets.each((function(e,t){o.push({name:t,dataList:e})}));for(var i=o.length,a=0;a<i;++a){for(var s=o[a].name,l=0;l<o[a].dataList.length;++l){var u=o[a].dataList[l][0]+"";n[u]=a}for(var u in n)n.hasOwnProperty(u)&&n[u]!==a&&(n[u]=a,e[t]=[u,0,s],t++)}return e},t.prototype.getInitialData=function(e,t){for(var n=this.getReferringComponents("singleAxis",Zi).models[0],r=n.get("type"),o=Z(e.data,(function(e){return void 0!==e[2]})),i=this.fixData(o||[]),a=[],s=this.nameMap=Me(),l=0,u=0;u<i.length;++u)a.push(i[u][jV]),s.get(i[u][jV])||(s.set(i[u][jV],l),l++);var c=AC(i,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:X_(r)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),d=new TC(c,this);return d.initData(i),d},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),n=[],r=0;r<t;++r)n[r]=r;var o=e.mapDimension("single"),i=oa(n,(function(t){return e.get("name",t)})),a=[];return i.buckets.each((function(t,n){t.sort((function(t,n){return e.get(o,t)-e.get(o,n)})),a.push({name:n,indices:t})})),a},t.prototype.getAxisTooltipData=function(e,t,n){oe(e)||(e=e?[e]:[]);for(var r,o=this.getData(),i=this.getLayerSeries(),a=[],s=i.length,l=0;l<s;++l){for(var u=Number.MAX_VALUE,c=-1,d=i[l].indices.length,f=0;f<d;++f){var p=o.get(e[0],i[l].indices[f]),h=Math.abs(p-t);h<=u&&(r=p,u=h,c=i[l].indices[f])}a.push(c)}return{dataIndices:a,nestestValue:r}},t.prototype.formatTooltip=function(e,t,n){var r=this.getData(),o=r.getName(e),i=r.get(r.mapDimension("value"),e);return bv("nameValue",{name:o,value:i})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Wv),PV=NV;function RV(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),n=e.coordinateSystem,r={},o=n.getRect();r.rect=o;var i=e.get("boundaryGap"),a=n.getAxis();if(r.boundaryGap=i,"horizontal"===a.orient){i[0]=ri(i[0],o.height),i[1]=ri(i[1],o.height);var s=o.height-i[0]-i[1];BV(t,e,s)}else{i[0]=ri(i[0],o.width),i[1]=ri(i[1],o.width);var l=o.width-i[0]-i[1];BV(t,e,l)}t.setLayout("layoutInfo",r)}))}function BV(e,t,n){if(e.count())for(var r,o=t.coordinateSystem,i=t.getLayerSeries(),a=e.mapDimension("single"),s=e.mapDimension("value"),l=X(i,(function(t){return X(t.indices,(function(t){var n=o.dataToPoint(e.get(a,t));return n[1]=e.get(s,t),n}))})),u=FV(l),c=u.y0,d=n/u.max,f=i.length,p=i[0].indices.length,h=0;h<p;++h){r=c[h]*d,e.setItemLayout(i[0].indices[h],{layerIndex:0,x:l[0][h][0],y0:r,y:l[0][h][1]*d});for(var m=1;m<f;++m)r+=l[m-1][h][1]*d,e.setItemLayout(i[m].indices[h],{layerIndex:m,x:l[m][h][0],y0:r,y:l[m][h][1]*d})}}function FV(e){for(var t=e.length,n=e[0].length,r=[],o=[],i=0,a=0;a<n;++a){for(var s=0,l=0;l<t;++l)s+=e[l][a][1];s>i&&(i=s),r.push(s)}for(var u=0;u<n;++u)o[u]=(i-r[u])/2;i=0;for(var c=0;c<n;++c){var d=r[c]+o[c];d>i&&(i=d)}return{y0:o,max:i}}function zV(e){e.registerChartView(LV),e.registerSeriesModel(PV),e.registerLayout(RV),e.registerProcessor(oD("themeRiver"))}var VV=2,HV=4,UV=function(e){function t(t,n,r,o){var i=e.call(this)||this;i.z2=VV,i.textConfig={inside:!0},cu(i).seriesIndex=n.seriesIndex;var a=new uu({z2:HV,silent:t.getModel().get(["label","silent"])});return i.setTextContent(a),i.updateData(!0,t,n,r,o),i}return g(t,e),t.prototype.updateData=function(e,t,n,r,o){this.node=t,t.piece=this,n=n||this._seriesModel,r=r||this._ecModel;var i=this;cu(i).dataIndex=t.dataIndex;var a=t.getModel(),s=a.getModel("emphasis"),l=t.getLayout(),u=H({},l);u.label=null;var c=t.getVisual("style");c.lineJoin="bevel";var d=t.getVisual("decal");d&&(c.decal=zx(d,o));var f=cD(a.getModel("itemStyle"),u);H(u,f),K(vu,(function(e){var t=i.ensureState(e),n=a.getModel([e,"itemStyle"]);t.style=n.getItemStyle();var r=cD(n,u);r&&(t.shape=r)})),e?(i.setShape(u),i.shape.r=l.r0,hf(i,{shape:{r:l.r}},n,t.dataIndex)):hf(i,{shape:u},n),i.useStyle(c),this._updateLabel(n);var p=a.getShallow("cursor");p&&i.attr("cursor",p),this._seriesModel=n||this._seriesModel,this._ecModel=r||this._ecModel;var h=s.get("focus"),m="ancestor"===h?t.getAncestorsIndices():"descendant"===h?t.getDescendantIndices():null;ac(this,m||h,s.get("blurScope"))},t.prototype._updateLabel=function(e){var t=this,n=this.node.getModel(),r=n.getModel("label"),o=this.node.getLayout(),i=o.endAngle-o.startAngle,a=(o.startAngle+o.endAngle)/2,s=Math.cos(a),l=Math.sin(a),u=this,c=u.getTextContent(),d=this.node.dataIndex,f=r.get("minAngle")/180*Math.PI,p=r.get("show")&&!(null!=f&&Math.abs(i)<f);function h(e,t){var n=e.get(t);return null==n?r.get(t):n}c.ignore=!p,K(yu,(function(r){var i="normal"===r?n.getModel("label"):n.getModel([r,"label"]),f="normal"===r,p=f?c:c.ensureState(r),m=e.getFormattedLabel(d,r);f&&(m=m||t.node.name),p.style=Bf(i,{},null,"normal"!==r,!0),m&&(p.style.text=m);var g=i.get("show");null==g||f||(p.ignore=!g);var v,y=h(i,"position"),b=f?u:u.states[r],x=b.style.fill;b.textConfig={outsideFill:"inherit"===i.get("color")?x:null,inside:"outside"!==y};var w=h(i,"distance")||0,_=h(i,"align");"outside"===y?(v=o.r+w,_=a>Math.PI/2?"right":"left"):_&&"center"!==_?"left"===_?(v=o.r0+w,a>Math.PI/2&&(_="right")):"right"===_&&(v=o.r-w,a>Math.PI/2&&(_="left")):(v=(o.r+o.r0)/2,_="center"),p.style.align=_,p.style.verticalAlign=h(i,"verticalAlign")||"middle",p.x=v*s+o.cx,p.y=v*l+o.cy;var C=h(i,"rotate"),S=0;"radial"===C?(S=-a,S<-Math.PI/2&&(S+=Math.PI)):"tangential"===C?(S=Math.PI/2-a,S>Math.PI/2?S-=Math.PI:S<-Math.PI/2&&(S+=Math.PI)):"number"===typeof C&&(S=C*Math.PI/180),p.rotation=S})),c.dirtyStyle()},t}(sd),$V=UV,qV="sunburstRootToNode",WV="sunburstHighlight",GV="sunburstUnhighlight";function YV(e){e.registerAction({type:qV,update:"updateView"},(function(e,t){function n(t,n){var r=vL(e,[qV],t);if(r){var o=t.getViewRoot();o&&(e.direction=bL(o,r.node)?"rollUp":"drillDown"),t.resetViewRoot(r.node)}}t.eachComponent({mainType:"series",subType:"sunburst",query:e},n)})),e.registerAction({type:WV,update:"none"},(function(e,t,n){function r(t){var n=vL(e,[WV],t);n&&(e.dataIndex=n.node.dataIndex)}e=H({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},r),n.dispatchAction(H(e,{type:"highlight"}))})),e.registerAction({type:GV,update:"updateView"},(function(e,t,n){e=H({},e),n.dispatchAction(H(e,{type:"downplay"}))}))}var KV=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n,r){var o=this;this.seriesModel=e,this.api=n,this.ecModel=t;var i=e.getData(),a=i.tree.root,s=e.getViewRoot(),l=this.group,u=e.get("renderLabelForZeroData"),c=[];s.eachNode((function(e){c.push(e)}));var d=this._oldChildren||[];function f(e,t){function n(e){return e.getId()}function r(n,r){var o=null==n?null:e[n],i=null==r?null:t[r];p(o,i)}0===e.length&&0===t.length||new G_(t,e,n,n).add(r).update(r).remove(re(r,null)).execute()}function p(r,o){if(u||!r||r.getValue()||(r=null),r!==a&&o!==a)if(o&&o.piece)r?(o.piece.updateData(!1,r,e,t,n),i.setItemGraphicEl(r.dataIndex,o.piece)):h(o);else if(r){var s=new $V(r,e,t,n);l.add(s),i.setItemGraphicEl(r.dataIndex,s)}}function h(e){e&&e.piece&&(l.remove(e.piece),e.piece=null)}function m(r,i){i.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,r,e,t,n):(o.virtualPiece=new $V(r,e,t,n),l.add(o.virtualPiece)),i.piece.off("click"),o.virtualPiece.on("click",(function(e){o._rootToNode(i.parentNode)}))):o.virtualPiece&&(l.remove(o.virtualPiece),o.virtualPiece=null)}f(c,d),m(a,s),this._initEvents(),this._oldChildren=c},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",(function(t){var n=!1,r=e.seriesModel.getViewRoot();r.eachNode((function(r){if(!n&&r.piece&&r.piece===t.target){var o=r.getModel().get("nodeClick");if("rootToNode"===o)e._rootToNode(r);else if("link"===o){var i=r.getModel(),a=i.get("link");if(a){var s=i.get("target",!0)||"_blank";yh(a,s)}}n=!0}}))}))},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:qV,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var n=t.getData(),r=n.getItemLayout(0);if(r){var o=e[0]-r.cx,i=e[1]-r.cy,a=Math.sqrt(o*o+i*i);return a<=r.r&&a>=r.r0}},t.type="sunburst",t}(oy),XV=KV,JV=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreStyleOnData=!0,n}return g(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};ZV(n);var r=X(e.levels||[],(function(e){return new sp(e,this,t)}),this),o=aL.createTree(n,this,i);function i(e){e.wrapMethod("getItemModel",(function(e,t){var n=o.getNodeByDataIndex(t),i=r[n.depth];return i&&(e.parentModel=i),e}))}return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=xL(r,this),n},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){SL(this)},t.type="series.sunburst",t.defaultOption={zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],levels:[],sort:"desc"},t}(Wv);function ZV(e){var t=0;K(e.children,(function(e){ZV(e);var n=e.value;oe(n)&&(n=n[0]),t+=n}));var n=e.value;oe(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),oe(e.value)?e.value[0]=n:e.value=n}var QV=JV,eH=Math.PI/180;function tH(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.get("center"),r=e.get("radius");oe(r)||(r=[0,r]),oe(t)||(t=[t,t]);var o=n.getWidth(),i=n.getHeight(),a=Math.min(o,i),s=ri(t[0],o),l=ri(t[1],i),u=ri(r[0],a/2),c=ri(r[1],a/2),d=-e.get("startAngle")*eH,f=e.get("minAngle")*eH,p=e.getData().tree.root,h=e.getViewRoot(),m=h.depth,g=e.get("sort");null!=g&&nH(h,g);var v=0;K(h.children,(function(e){!isNaN(e.getValue())&&v++}));var y=h.getValue(),b=Math.PI/(y||v)*2,x=h.depth>0,w=h.height-(x?-1:1),_=(c-u)/(w||1),C=e.get("clockwise"),S=e.get("stillShowZeroSum"),k=C?1:-1,O=function(e,t){if(e){var n=t;if(e!==p){var r=e.getValue(),o=0===y&&S?b:r*b;o<f&&(o=f),n=t+k*o;var i=e.depth-m-(x?-1:1),c=u+_*i,d=u+_*(i+1),h=e.getModel();null!=h.get("r0")&&(c=ri(h.get("r0"),a/2)),null!=h.get("r")&&(d=ri(h.get("r"),a/2)),e.setLayout({angle:o,startAngle:t,endAngle:n,clockwise:C,cx:s,cy:l,r0:c,r:d})}if(e.children&&e.children.length){var g=0;K(e.children,(function(e){g+=O(e,t+g)}))}return n-t}};if(x){var T=u,M=u+_,D=2*Math.PI;p.setLayout({angle:D,startAngle:d,endAngle:d+D,clockwise:C,cx:s,cy:l,r0:T,r:M})}O(h,d)}))}function nH(e,t){var n=e.children||[];e.children=rH(n,t),n.length&&K(e.children,(function(e){nH(e,t)}))}function rH(e,t){if("function"===typeof t){var n=X(e,(function(e,t){var n=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return n}},index:t}}));return n.sort((function(e,n){return t(e.params,n.params)})),X(n,(function(t){return e[t.index]}))}var r="asc"===t;return e.sort((function(e,t){var n=(e.getValue()-t.getValue())*(r?1:-1);return 0===n?(e.dataIndex-t.dataIndex)*(r?-1:1):n}))}function oH(e){var t={};function n(e,n,r){var o=e;while(o&&o.depth>1)o=o.parentNode;var i=n.getColorFromPalette(o.name||o.dataIndex+"",t);return e.depth>1&&"string"===typeof i&&(i=jn(i,(e.depth-1)/(r-1)*.5)),i}e.eachSeriesByType("sunburst",(function(e){var t=e.getData(),r=t.tree;r.eachNode((function(o){var i=o.getModel(),a=i.getModel("itemStyle").getItemStyle();a.fill||(a.fill=n(o,e,r.root.height));var s=t.ensureUniqueItemVisual(o.dataIndex,"style");H(s,a)}))}))}function iH(e){e.registerChartView(XV),e.registerSeriesModel(QV),e.registerLayout(re(tH,"sunburst")),e.registerProcessor(re(oD,"sunburst")),e.registerVisual(oH),YV(e)}function aH(e,t){return t=t||[0,0],X(["x","y"],(function(n,r){var o=this.getAxis(n),i=t[r],a=e[r]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(i-a)-o.dataToCoord(i+a))}),this)}function sH(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:ne(aH,e)}}}function lH(e,t){return t=t||[0,0],X([0,1],(function(n){var r=t[n],o=e[n]/2,i=[],a=[];return i[n]=r-o,a[n]=r+o,i[1-n]=a[1-n]=t[1-n],Math.abs(this.dataToPoint(i)[n]-this.dataToPoint(a)[n])}),this)}function uH(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:ne(lH,e)}}}function cH(e,t){var n=this.getAxis(),r=t instanceof Array?t[0]:t,o=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(r-o)-n.dataToCoord(r+o))}function dH(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:ne(cH,e)}}}function fH(e,t){return t=t||[0,0],X(["Radius","Angle"],(function(n,r){var o="get"+n+"Axis",i=this[o](),a=t[r],s=e[r]/2,l="category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(a-s)-i.dataToCoord(a+s));return"Angle"===n&&(l=l*Math.PI/180),l}),this)}function pH(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),r=t.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:r[1],r0:r[0]},api:{coord:function(r){var o=t.dataToRadius(r[0]),i=n.dataToAngle(r[1]),a=e.coordToPoint([o,i]);return a.push(o,i*Math.PI/180),a},size:ne(fH,e)}}}function hH(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(t,n){return e.dataToPoint(t,n)}}}}function mH(e,t,n,r){return e&&(e.legacy||!1!==e.legacy&&!n&&!r&&"tspan"!==t&&("text"===t||Ee(e,"text")))}function gH(e,t,n){var r,o,i,a=e;if("text"===t)i=a;else{i={},Ee(a,"text")&&(i.text=a.text),Ee(a,"rich")&&(i.rich=a.rich),Ee(a,"textFill")&&(i.fill=a.textFill),Ee(a,"textStroke")&&(i.stroke=a.textStroke),o={type:"text",style:i,silent:!0},r={};var s=Ee(a,"textPosition");n?r.position=s?a.textPosition:"inside":s&&(r.position=a.textPosition),Ee(a,"textPosition")&&(r.position=a.textPosition),Ee(a,"textOffset")&&(r.offset=a.textOffset),Ee(a,"textRotation")&&(r.rotation=a.textRotation),Ee(a,"textDistance")&&(r.distance=a.textDistance)}return vH(i,e),K(i.rich,(function(e){vH(e,e)})),{textConfig:r,textContent:o}}function vH(e,t){t&&(t.font=t.textFont||t.font,Ee(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),Ee(t,"textAlign")&&(e.align=t.textAlign),Ee(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),Ee(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),Ee(t,"textWidth")&&(e.width=t.textWidth),Ee(t,"textHeight")&&(e.height=t.textHeight),Ee(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),Ee(t,"textPadding")&&(e.padding=t.textPadding),Ee(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),Ee(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),Ee(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),Ee(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),Ee(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),Ee(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),Ee(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function yH(e,t,n){var r=e;r.textPosition=r.textPosition||n.position||"inside",null!=n.offset&&(r.textOffset=n.offset),null!=n.rotation&&(r.textRotation=n.rotation),null!=n.distance&&(r.textDistance=n.distance);var o=r.textPosition.indexOf("inside")>=0,i=e.fill||"#000";bH(r,t);var a=null==r.textFill;return o?a&&(r.textFill=n.insideFill||"#fff",!r.textStroke&&n.insideStroke&&(r.textStroke=n.insideStroke),!r.textStroke&&(r.textStroke=i),null==r.textStrokeWidth&&(r.textStrokeWidth=2)):(a&&(r.textFill=n.outsideFill||i),!r.textStroke&&n.outsideStroke&&(r.textStroke=n.outsideStroke)),r.text=t.text,r.rich=t.rich,K(t.rich,(function(e){bH(e,e)})),r}function bH(e,t){t&&(Ee(t,"fill")&&(e.textFill=t.fill),Ee(t,"stroke")&&(e.textStroke=t.fill),Ee(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),Ee(t,"font")&&(e.font=t.font),Ee(t,"fontStyle")&&(e.fontStyle=t.fontStyle),Ee(t,"fontWeight")&&(e.fontWeight=t.fontWeight),Ee(t,"fontSize")&&(e.fontSize=t.fontSize),Ee(t,"fontFamily")&&(e.fontFamily=t.fontFamily),Ee(t,"align")&&(e.textAlign=t.align),Ee(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),Ee(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),Ee(t,"width")&&(e.textWidth=t.width),Ee(t,"height")&&(e.textHeight=t.height),Ee(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),Ee(t,"padding")&&(e.textPadding=t.padding),Ee(t,"borderColor")&&(e.textBorderColor=t.borderColor),Ee(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),Ee(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),Ee(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),Ee(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),Ee(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),Ee(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),Ee(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),Ee(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),Ee(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),Ee(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var xH=al.CMD,wH=2*Math.PI,_H=["x","y"],CH=["width","height"],SH=[];function kH(e,t){return Math.abs(e-t)<1e-5}function OH(e){var t,n,r,o,i,a=e.data,s=e.len(),l=[],u=0,c=0,d=0,f=0;function p(e,n){t&&t.length>2&&l.push(t),t=[e,n]}function h(e,n,r,o){kH(e,r)&&kH(n,o)||t.push(e,n,r,o,r,o)}function m(e,n,r,o,i,a){var s=Math.abs(n-e),l=4*Math.tan(s/4)/3,u=n<e?-1:1,c=Math.cos(e),d=Math.sin(e),f=Math.cos(n),p=Math.sin(n),h=c*i+r,m=d*a+o,g=f*i+r,v=p*a+o,y=i*l*u,b=a*l*u;t.push(h-y*d,m+b*c,g+y*p,v-b*f,g,v)}for(var g=0;g<s;){var v=a[g++],y=1===g;switch(y&&(u=a[g],c=a[g+1],d=u,f=c,v!==xH.L&&v!==xH.C&&v!==xH.Q||(t=[d,f])),v){case xH.M:u=d=a[g++],c=f=a[g++],p(d,f);break;case xH.L:n=a[g++],r=a[g++],h(u,c,n,r),u=n,c=r;break;case xH.C:t.push(a[g++],a[g++],a[g++],a[g++],u=a[g++],c=a[g++]);break;case xH.Q:n=a[g++],r=a[g++],o=a[g++],i=a[g++],t.push(u+2/3*(n-u),c+2/3*(r-c),o+2/3*(n-o),i+2/3*(r-i),o,i),u=o,c=i;break;case xH.A:var b=a[g++],x=a[g++],w=a[g++],_=a[g++],C=a[g++],S=a[g++]+C;g+=1;var k=!a[g++];n=Math.cos(C)*w+b,r=Math.sin(C)*_+x,y?(d=n,f=r,p(d,f)):h(u,c,n,r),u=Math.cos(S)*w+b,c=Math.sin(S)*_+x;for(var O=(k?-1:1)*Math.PI/2,T=C;k?T>S:T<S;T+=O){var M=k?Math.max(T+O,S):Math.min(T+O,S);m(T,M,b,x,w,_)}break;case xH.R:d=u=a[g++],f=c=a[g++],n=d+a[g++],r=f+a[g++],p(n,f),h(n,f,n,r),h(n,r,d,r),h(d,r,d,f),h(d,f,n,f);break;case xH.Z:t&&h(u,c,d,f),u=d,c=f;break}}return t&&t.length>2&&l.push(t),l}function TH(e,t){var n=e.length,r=t.length;if(n===r)return[e,t];for(var o=n<r?e:t,i=Math.min(n,r),a=Math.abs(r-n)/6,s=(i-2)/6,l=Math.ceil(a/s)+1,u=[o[0],o[1]],c=a,d=[],f=[],p=2;p<i;){var h=o[p-2],m=o[p-1],g=o[p++],v=o[p++],y=o[p++],b=o[p++],x=o[p++],w=o[p++];if(c<=0)u.push(g,v,y,b,x,w);else{for(var _=Math.min(c,l-1)+1,C=1;C<=_;C++){var S=C/_;ms(h,g,y,x,S,d),ms(m,v,b,w,S,f),h=d[3],m=f[3],u.push(d[1],f[1],d[2],f[2],h,m),g=d[5],v=f[5],y=d[6],b=f[6]}c-=_-1}}return o===e?[u,t]:[e,u]}function MH(e,t){for(var n=e.length,r=e[n-2],o=e[n-1],i=[],a=0;a<t.length;)i[a++]=r,i[a++]=o;return i}function DH(e,t){for(var n,r,o,i=[],a=[],s=0;s<Math.max(e.length,t.length);s++){var l=e[s],u=t[s],c=void 0,d=void 0;l?u?(n=TH(l,u),c=n[0],d=n[1],r=c,o=d):(d=MH(o||l,l),c=l):(c=MH(r||u,u),d=u),i.push(c),a.push(d)}return[i,a]}function IH(e){for(var t=0,n=0,r=0,o=e.length,i=0,a=o-2;i<o;a=i,i+=2){var s=e[a],l=e[a+1],u=e[i],c=e[i+1],d=s*c-u*l;t+=d,n+=(s+u)*d,r+=(l+c)*d}return 0===t?[e[0]||0,e[1]||0]:[n/t/3,r/t/3,t]}function EH(e,t,n,r){for(var o=(e.length-2)/6,i=1/0,a=0,s=e.length,l=s-2,u=0;u<o;u++){for(var c=6*u,d=0,f=0;f<s;f+=2){var p=0===f?c:(c+f-2)%l+2,h=e[p]-n[0],m=e[p+1]-n[1],g=t[f]-r[0],v=t[f+1]-r[1],y=g-h,b=v-m;d+=y*y+b*b}d<i&&(i=d,a=u)}return a}function AH(e){for(var t=[],n=e.length,r=0;r<n;r+=2)t[r]=e[n-r-2],t[r+1]=e[n-r-1];return t}function LH(e,t,n,r){for(var o,i=[],a=0;a<e.length;a++){var s=e[a],l=t[a],u=IH(s),c=IH(l);null==o&&(o=u[2]<0!==c[2]<0);var d=[],f=[],p=0,h=1/0,m=[],g=s.length;o&&(s=AH(s));for(var v=6*EH(s,l,u,c),y=g-2,b=0;b<y;b+=2){var x=(v+b)%y+2;d[b+2]=s[x]-u[0],d[b+3]=s[x+1]-u[1]}if(d[0]=s[v]-u[0],d[1]=s[v+1]-u[1],n>0)for(var w=r/n,_=-r/2;_<=r/2;_+=w){var C=Math.sin(_),S=Math.cos(_),k=0;for(b=0;b<s.length;b+=2){var O=d[b],T=d[b+1],M=l[b]-c[0],D=l[b+1]-c[1],I=M*S-D*C,E=M*C+D*S;m[b]=I,m[b+1]=E;var A=I-O,L=E-T;k+=A*A+L*L}if(k<h){h=k,p=_;for(var j=0;j<m.length;j++)f[j]=m[j]}}else for(var N=0;N<g;N+=2)f[N]=l[N]-c[0],f[N+1]=l[N+1]-c[1];i.push({from:d,to:f,fromCp:u,toCp:c,rotation:-p})}return i}function jH(e,t,n){var r,o;if(!e||!t)return t;!e.path&&e.createPathProxy(),r=e.path,r.beginPath(),e.buildPath(r,e.shape),!t.path&&t.createPathProxy(),o=t.path,o===r&&(o=new al(!1)),o.beginPath(),FH(t)?t.__oldBuildPath(o,t.shape):t.buildPath(o,t.shape);var i=DH(OH(r),OH(o)),a=i[0],s=i[1],l=LH(a,s,10,Math.PI);PH(t,l,0);var u=n&&n.done,c=n&&n.aborted,d=n&&n.during;return t.animateTo({__morphT:1},U({during:function(e){t.dirtyShape(),d&&d(e)},done:function(){BH(t),t.createPathProxy(),t.dirtyShape(),u&&u()},aborted:function(){c&&c()}},n)),t}function NH(e){for(var t=this.__morphingData,n=this.__morphT,r=1-n,o=[],i=0;i<t.length;i++){var a=t[i],s=a.from,l=a.to,u=a.rotation*n,c=a.fromCp,d=a.toCp,f=Math.sin(u),p=Math.cos(u);et(o,c,d,n);for(var h=0;h<s.length;h+=2){var m=s[h],g=s[h+1],v=l[h],y=l[h+1],b=m*r+v*n,x=g*r+y*n;SH[h]=b*p-x*f+o[0],SH[h+1]=b*f+x*p+o[1]}for(h=0;h<s.length;)0===h&&e.moveTo(SH[h++],SH[h++]),e.bezierCurveTo(SH[h++],SH[h++],SH[h++],SH[h++],SH[h++],SH[h++])}}function PH(e,t,n){if(FH(e))RH(e,t,n);else{var r=e;r.__oldBuildPath=r.buildPath,r.buildPath=NH,RH(r,t,n)}}function RH(e,t,n){e.__morphingData=t,e.__morphT=n}function BH(e){FH(e)&&(e.buildPath=e.__oldBuildPath,e.__oldBuildPath=e.__morphingData=null)}function FH(e){return null!=e.__oldBuildPath}function zH(e){return!!e.__combiningSubList}function VH(e){return FH(e)||zH(e)}function HH(e,t,n,r){for(var o=[],i=0,a=0;a<e.length;a++){var s=e[a];if(zH(s)){for(var l=s.__combiningSubList,u=0;u<l.length;u++)o.push(l[u]);i+=l.length}else o.push(s),i++}if(i){var c=n?n.dividingMethod:null,d=JH(t,i,c);_e(d.length===i);var f=n&&n.done,p=n&&n.aborted,h=n&&n.during,m=0,g=!1,v=U({during:function(e){h&&h(e)},done:function(){m++,m===d.length&&($H(t),f&&f())},aborted:function(){g||(g=!0,p&&p())}},n);for(a=0;a<i;a++){var y=o[a],b=d[a];r&&r(t,b,!0),jH(y,b,v)}return UH(t,d),{fromIndividuals:o,toIndividuals:d,count:i}}}function UH(e,t){if(zH(e))qH(e,t);else{var n=e;qH(n,t),n.__oldAddSelfToZr=e.addSelfToZr,n.__oldRemoveSelfFromZr=e.removeSelfFromZr,n.addSelfToZr=WH,n.removeSelfFromZr=YH,n.__oldBuildPath=n.buildPath,n.buildPath=Ae,n.childrenRef=KH}}function $H(e){if(zH(e)){var t=e;qH(t,null),t.addSelfToZr=t.__oldAddSelfToZr,t.removeSelfFromZr=t.__oldRemoveSelfFromZr,t.buildPath=t.__oldBuildPath,t.childrenRef=t.__combiningSubList=t.__oldAddSelfToZr=t.__oldRemoveSelfFromZr=t.__oldBuildPath=null}}function qH(e,t){if(e.__combiningSubList!==t){if(GH(e,"removeSelfFromZr"),e.__combiningSubList=t,t)for(var n=0;n<t.length;n++)t[n].parent=e;GH(e,"addSelfToZr")}}function WH(e){this.__oldAddSelfToZr(e),GH(this,"addSelfToZr")}function GH(e,t){var n=e.__combiningSubList,r=e.__zr;if(n&&r)for(var o=0;o<n.length;o++){var i=n[o];i[t](r)}}function YH(e){this.__oldRemoveSelfFromZr(e);for(var t=this.__combiningSubList,n=0;n<t.length;n++){var r=t[n];r.removeSelfFromZr(e)}}function KH(){return this.__combiningSubList}function XH(e,t,n,r){var o,i=t.length,a=n?n.dividingMethod:null,s=!1;if(zH(e)){var l=e.__combiningSubList;l.length===i?o=l:(o=JH(e,i,a),s=!0)}else o=JH(e,i,a),s=!0;_e(o.length===i);for(var u=0;u<i;u++)s&&r&&r(e,o[u],!1),jH(o[u],t[u],n);return{fromIndividuals:o,toIndividuals:t,count:i}}function JH(e,t,n){return"duplicate"===n?QH(e,t):ZH(e,t)}function ZH(e,t){var n=[];if(t<=0)return n;if(1===t)return QH(e,t);if(e instanceof Kl)for(var r=e.shape,o=r.height>r.width?1:0,i=CH[o],a=_H[o],s=r[i]/t,l=r[a],u=0;u<t;u++,l+=s){var c={x:r.x,y:r.y,width:r.width,height:r.height};c[a]=l,c[i]=u<t-1?s:r[a]+r[i]-l;var d=new Kl({shape:c});n.push(d)}else{if(!(e instanceof sd))return QH(e,t);r=e.shape;var f=r.clockwise,p=r.startAngle,h=r.endAngle,m=eU(p,r.endAngle,f),g=(m-p)/t,v=p;for(u=0;u<t;u++,v+=g){d=new sd({shape:{cx:r.cx,cy:r.cy,r:r.r,r0:r.r0,clockwise:f,startAngle:v,endAngle:u===t-1?h:v+g}});n.push(d)}}return n}function QH(e,t){var n=[];if(t<=0)return n;for(var r=e.constructor,o=0;o<t;o++){var i=new r({shape:F(e.shape)});n.push(i)}return n}function eU(e,t,n){return t+wH*Math[n?"ceil":"floor"]((e-t)/wH)}var tU=Ki(),nU={x:1,y:1,scaleX:1,scaleY:1,originX:1,originY:1,rotation:1},rU=(ee(nU).join(", "),{color:"fill",borderColor:"stroke"}),oU={symbol:1,symbolSize:1,symbolKeepAspect:1,legendSymbol:1,visualMeta:1,liftZ:1,decal:1},iU="emphasis",aU="normal",sU="blur",lU="select",uU=[aU,iU,sU,lU],cU={normal:["itemStyle"],emphasis:[iU,"itemStyle"],blur:[sU,"itemStyle"],select:[lU,"itemStyle"]},dU={normal:["label"],emphasis:[iU,"label"],blur:[sU,"label"],select:[lU,"label"]},fU="e\0\0",pU={normal:{},emphasis:{},blur:{},select:{}},hU={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},mU=new un,gU={cartesian2d:sH,geo:uH,singleAxis:dH,polar:pH,calendar:hH},vU=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,t){return UC(this.getSource(),this)},t.prototype.getDataParams=function(t,n,r){var o=e.prototype.getDataParams.call(this,t,n);return r&&(o.info=tU(r).info),o},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,clip:!1},t}(Wv),yU=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n,r){var o=this._data,i=e.getData(),a=this.group,s=VU(e,i,t,n),l=e.__transientTransitionOpt;if(!l||null!=l.from&&null!=l.to){var u=new s$(e,l),c=l?"multiple":"oneToOne";new G_(o?o.getIndices():[],i.getIndices(),bU(o,c,l&&l.from),bU(i,c,l&&l.to),null,c).add((function(t){UU(n,null,t,s(t,r),e,a,i,null)})).remove((function(t){n$(o.getItemGraphicEl(t),e,a)})).update((function(t,l){u.reset("oneToOne");var c=o.getItemGraphicEl(l);u.findAndAddFrom(c),u.hasFrom()&&(a$(c,a),c=null),UU(n,c,t,s(t,r),e,a,i,u),u.applyMorphing()})).updateManyToOne((function(t,l){u.reset("manyToOne");for(var c=0;c<l.length;c++){var d=o.getItemGraphicEl(l[c]);u.findAndAddFrom(d),a$(d,a)}UU(n,null,t,s(t,r),e,a,i,u),u.applyMorphing()})).updateOneToMany((function(t,l){u.reset("oneToMany");var c=t.length,d=o.getItemGraphicEl(l);u.findAndAddFrom(d),a$(d,a);for(var f=0;f<c;f++)UU(n,null,t[f],s(t[f],r),e,a,i,u);u.applyMorphing()})).execute()}else o&&o.each((function(t){n$(o.getItemGraphicEl(t),e,a)})),i.each((function(t){UU(n,null,t,s(t,r),e,a,i,null)}));var d=e.get("clip",!0)?JT(e.coordinateSystem,!1,e):null;d?a.setClipPath(d):a.removeClipPath(),this._data=i},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,t,n,r,o){var i=t.getData(),a=VU(t,i,n,r);function s(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}for(var l=e.start;l<e.end;l++){var u=UU(null,null,l,a(l,o),t,this.group,i,null);u.traverse(s)}},t.prototype.filterForExposedEvent=function(e,t,n,r){var o=t.element;if(null==o||n.name===o)return!0;while((n=n.__hostTarget||n.parent)&&n!==this.group)if(n.name===o)return!0;return!1},t.type="custom",t}(oy);function bU(e,t,n){if(e){if("oneToOne"===t)return function(t,n){return e.getId(n)};var r=e.getDimension(n),o=e.getDimensionInfo(r);if(!o){var i="";0,qg(i)}var a=o.ordinalMeta;return function(t,n){var o=e.get(r,n);return a&&(o=a.categories[o]),null==o||ge(o)?t+"":"_ec_"+o}}}function xU(e){var t,n=e.type;if("path"===n){var r=e.shape,o=null!=r.width&&null!=r.height?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,i=r$(r);t=of(i,null,o,r.layout||"center"),tU(t).customPathData=i}else if("image"===n)t=new zl({}),tU(t).customImagePath=e.style.image;else if("text"===n)t=new uu({});else if("group"===n)t=new Vo;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var a=rf(n);if(!a){var s="";0,qg(s)}t=new a}return tU(t).customGraphicType=n,t.name=e.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function wU(e,t,n,r,o,i,a,s,l,u){var c={},d={},f=t.isGroup?null:t;!n&&SU("shape",t,null,o,c,l),kU("shape",o,d),!n&&SU("extra",t,null,o,c,l),kU("extra",o,d),!n&&OU(t,null,o,c,l),TU(o,d);var p=a&&a.normal.cfg;if(p&&t.setTextConfig(p),"text"===t.type&&i){var h=i;Ee(h,"textFill")&&(h.fill=h.textFill),Ee(h,"textStroke")&&(h.stroke=h.textStroke)}if(i){var m=void 0,g=i$(t)?i.decal:null;e&&g&&(g.dirty=!0,m=zx(g,e)),i.__decalPattern=m}return!n&&MU(t,null,o,i,c,l),f&&Ee(o,"invisible")&&(f.invisible=o.invisible),n||(_U(t,d,i),CU(t,r,o,s,c,l)),Ee(o,"silent")&&(t.silent=o.silent),Ee(o,"ignore")&&(t.ignore=o.ignore),u||Ee(o,"info")&&(tU(t).info=o.info),i?t.dirty():t.markRedraw(),n?d:null}function _U(e,t,n){var r=e.isGroup?null:e;if(r&&n){var o=n.__decalPattern,i=void 0;o&&(i=n.decal,n.decal=o),r.useStyle(n),o&&(n.decal=i);for(var a=r.animators,s=0;s<a.length;s++){var l=a[s];"style"===l.targetName&&l.changeTarget(r.style)}}t&&e.attr(t)}function CU(e,t,n,r,o,i){if(o){var a=n.during;tU(e).userDuring=a;var s=a?ne(jU,{el:e,userDuring:a}):null,l={dataIndex:t,isFrom:!0,during:s};i?mf(e,o,r,l):hf(e,o,r,l)}}function SU(e,t,n,r,o,i){var a=r[e];if(a){var s,l=t[e],u=a.enterFrom;if(i&&u){!s&&(s=o[e]={});for(var c=ee(u),d=0;d<c.length;d++){var f=c[d];s[f]=u[f]}}if(!i&&l&&(null==n||"shape"!==e))if(a.transition){!s&&(s=o[e]={});var p=Ti(a.transition);for(d=0;d<p.length;d++){f=p[d];var h=l[f];0,s[f]=h}}else if(q(r.transition,e)>=0){!s&&(s=o[e]={});var m=ee(l);for(d=0;d<m.length;d++){f=m[d],h=l[f];IU(a[f],h)&&(s[f]=h)}}var g=a.leaveTo;if(g){var v=EU(t),y=v[e]||(v[e]={}),b=ee(g);for(d=0;d<b.length;d++){f=b[d];y[f]=g[f]}}}}function kU(e,t,n){var r=t[e];if(r)for(var o=n[e]={},i=ee(r),a=0;a<i.length;a++){var s=i[a];o[s]=rr(r[s])}}function OU(e,t,n,r,o){var i=n.enterFrom;if(o&&i)for(var a=ee(i),s=0;s<a.length;s++){var l=a[s];0,r[l]=i[l]}if(!o)if(t){var u=DU(t,e);zU(r,"x",u),zU(r,"y",u),zU(r,"scaleX",u),zU(r,"scaleY",u),zU(r,"originX",u),zU(r,"originY",u),zU(r,"rotation",u)}else if(n.transition){var c=Ti(n.transition);for(s=0;s<c.length;s++){l=c[s];if("style"!==l&&"shape"!==l&&"extra"!==l){var d=e[l];0,r[l]=d}}}else zU(r,"x",e),zU(r,"y",e);var f=n.leaveTo;if(f){var p=EU(e),h=ee(f);for(s=0;s<h.length;s++){l=h[s];0,p[l]=f[l]}}}function TU(e,t){BU(e,t,"position"),BU(e,t,"scale"),BU(e,t,"origin"),FU(e,t,"x"),FU(e,t,"y"),FU(e,t,"scaleX"),FU(e,t,"scaleY"),FU(e,t,"originX"),FU(e,t,"originY"),FU(e,t,"rotation")}function MU(e,t,n,r,o,i){if(r){var a,s=t||e,l=s.style,u=r.enterFrom;if(i&&u){var c=ee(u);!a&&(a=o.style={});for(var d=0;d<c.length;d++){var f=c[d];a[f]=u[f]}}if(!i&&l)if(r.transition){var p=Ti(r.transition);!a&&(a=o.style={});for(d=0;d<p.length;d++){f=p[d];var h=l[f];a[f]=h}}else if(e.getAnimationStyleProps&&q(n.transition,"style")>=0){var m=e.getAnimationStyleProps(),g=m?m.style:null;if(g){!a&&(a=o.style={});var v=ee(r);for(d=0;d<v.length;d++){f=v[d];if(g[f]){h=l[f];a[f]=h}}}}var y=r.leaveTo;if(y){var b=ee(y),x=EU(e),w=x.style||(x.style={});for(d=0;d<b.length;d++){f=b[d];w[f]=y[f]}}}}function DU(e,t){if(!e||e===t||e.parent===t.parent)return e;var n=mU.transform||(mU.transform=Wt([])),r=e.getComputedTransform();r?Gt(n,r):Wt(n);var o=t.parent;return o&&o.getComputedTransform(),mU.originX=e.originX,mU.originY=e.originY,mU.parent=o,mU.decomposeTransform(),mU}function IU(e,t){return Y(e)?e!==t:null!=e&&isFinite(e)}function EU(e){var t=tU(e);return t.leaveToProps||(t.leaveToProps={})}var AU={},LU={setTransform:function(e,t){return AU.el[e]=t,this},getTransform:function(e){return AU.el[e]},setShape:function(e,t){var n=AU.el.shape||(AU.el.shape={});return n[e]=t,AU.isShapeDirty=!0,this},getShape:function(e){var t=AU.el.shape;if(t)return t[e]},setStyle:function(e,t){var n=AU.el.style;return n&&(n[e]=t,AU.isStyleDirty=!0),this},getStyle:function(e){var t=AU.el.style;if(t)return t[e]},setExtra:function(e,t){var n=AU.el.extra||(AU.el.extra={});return n[e]=t,this},getExtra:function(e){var t=AU.el.extra;if(t)return t[e]}};function jU(){var e=this,t=e.el;if(t){var n=tU(t).userDuring,r=e.userDuring;n===r?(AU.el=t,AU.isShapeDirty=!1,AU.isStyleDirty=!1,r(LU),AU.isShapeDirty&&t.dirtyShape&&t.dirtyShape(),AU.isStyleDirty&&t.dirtyStyle&&t.dirtyStyle()):e.el=e.userDuring=null}}function NU(e,t,n,r,o,i,a){var s=t.isGroup?null:t,l=o&&o[e].cfg;if(s){var u=s.ensureState(e);if(!1===r){var c=s.getState(e);c&&(c.style=null)}else u.style=r||null;l&&(u.textConfig=l),$u(s)}}function PU(e,t,n,r){if(!e.isGroup){var o=e,i=n.currentZ,a=n.currentZLevel;o.z=i,o.zlevel=a;var s=t.z2;null!=s&&(o.z2=s||0);for(var l=0;l<uU.length;l++)RU(o,t,uU[l])}}function RU(e,t,n){var r,o=n===aU,i=o?t:KU(t,n),a=i?i.z2:null;null!=a&&(r=o?e:e.ensureState(n),r.z2=a||0)}function BU(e,t,n,r){var o=e[n],i=hU[n];o&&(r?(t[i[0]]=r[i[0]],t[i[1]]=r[i[1]]):(t[i[0]]=o[0],t[i[1]]=o[1]))}function FU(e,t,n,r){null!=e[n]&&(t[n]=r?r[n]:e[n])}function zU(e,t,n){n&&(e[t]=n[t])}function VU(e,t,n,r){var o=e.get("renderItem"),i=e.coordinateSystem,a={};i&&(a=i.prepareCustoms?i.prepareCustoms(i):gU[i.type](i));for(var s,l,u=U({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:x,style:_,ordinalRawValue:w,styleEmphasis:C,visual:O,barLayout:T,currentSeriesIndices:M,font:D},a.api||{}),c={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:a.coordSys,dataInsideLength:t.count(),encode:HU(e.getData())},d={},f={},p={},h={},m=0;m<uU.length;m++){var g=uU[m];p[g]=e.getModel(cU[g]),h[g]=e.getModel(dU[g])}function v(e){return e===s?l||(l=t.getItemModel(e)):t.getItemModel(e)}function y(e,n){return t.hasItemOption?e===s?d[n]||(d[n]=v(e).getModel(cU[n])):v(e).getModel(cU[n]):p[n]}function b(e,n){return t.hasItemOption?e===s?f[n]||(f[n]=v(e).getModel(dU[n])):v(e).getModel(dU[n]):h[n]}return function(e,n){return s=e,l=null,d={},f={},o&&o(U({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:n?n.type:null},c),u)};function x(e,n){return null==n&&(n=s),t.get(t.getDimension(e||0),n)}function w(e,n){null==n&&(n=s);var r=t.getDimensionInfo(e||0);if(r){var o=t.get(r.name,n),i=r&&r.ordinalMeta;return i?i.categories[o]:o}}function _(n,r){null==r&&(r=s);var o=t.getItemVisual(r,"style"),i=o&&o.fill,a=o&&o.opacity,l=y(r,aU).getItemStyle();null!=i&&(l.fill=i),null!=a&&(l.opacity=a);var u={inheritColor:ae(i)?i:"#000"},c=b(r,aU),d=Bf(c,null,u,!1,!0);d.text=c.getShallow("show")?ye(e.getFormattedLabel(r,aU),CT(t,r)):null;var f=Ff(c,u,!1);return k(n,l),l=yH(l,d,f),n&&S(l,n),l.legacy=!0,l}function C(n,r){null==r&&(r=s);var o=y(r,iU).getItemStyle(),i=b(r,iU),a=Bf(i,null,null,!0,!0);a.text=i.getShallow("show")?be(e.getFormattedLabel(r,iU),e.getFormattedLabel(r,aU),CT(t,r)):null;var l=Ff(i,null,!0);return k(n,o),o=yH(o,a,l),n&&S(o,n),o.legacy=!0,o}function S(e,t){for(var n in t)Ee(t,n)&&(e[n]=t[n])}function k(e,t){e&&(e.textFill&&(t.textFill=e.textFill),e.textPosition&&(t.textPosition=e.textPosition))}function O(e,n){if(null==n&&(n=s),Ee(rU,e)){var r=t.getItemVisual(n,"style");return r?r[rU[e]]:null}if(Ee(oU,e))return t.getItemVisual(n,e)}function T(e){if("cartesian2d"===i.type){var t=i.getBaseAxis();return pS(U({axis:t},e))}}function M(){return n.getCurrentSeriesIndices()}function D(e){return Wf(e,n)}}function HU(e){var t={};return K(e.dimensions,(function(n,r){var o=e.getDimensionInfo(n);if(!o.isExtraCoord){var i=o.coordDim,a=t[i]=t[i]||[];a[o.coordDimIndex]=r}})),t}function UU(e,t,n,r,o,i,a,s){if(r)return t=$U(e,t,n,r,o,i,!0,s),t&&a.setItemGraphicEl(n,t),ac(t,r.focus,r.blurScope),t;a$(t,i)}function $U(e,t,n,r,o,i,a,s){var l=-1;t&&qU(t,r)&&(l=i.childrenRef().indexOf(t),t=null);var u=!t;t?t.clearStates():t=xU(r);var c=tU(t).canMorph=r.morph&&i$(t),d=c&&s&&s.hasFrom(),f=u&&!d;pU.normal.cfg=pU.normal.conOpt=pU.emphasis.cfg=pU.emphasis.conOpt=pU.blur.cfg=pU.blur.conOpt=pU.select.cfg=pU.select.conOpt=null,pU.isLegacy=!1,GU(t,n,r,o,f,pU),WU(t,n,r,o,f);var p=wU(e,t,d,n,r,r.style,pU,o,f,!1);d&&s.addTo(t,r,n,p);for(var h=0;h<uU.length;h++){var m=uU[h];if(m!==aU){var g=KU(r,m),v=XU(r,g,m);NU(m,t,g,v,pU,a,!1)}}return PU(t,r,o,pU),"group"===r.type&&JU(e,t,n,r,o,s),l>=0?i.replaceAt(t,l):i.add(t),t}function qU(e,t){var n=tU(e),r=t.type,o=t.shape,i=t.style;return null!=r&&r!==n.customGraphicType||"path"===r&&o$(o)&&r$(o)!==n.customPathData||"image"===r&&Ee(i,"image")&&i.image!==n.customImagePath}function WU(e,t,n,r,o){var i=n.clipPath;if(!1===i)e&&e.getClipPath()&&e.removeClipPath();else if(i){var a=e.getClipPath();a&&qU(a,i)&&(a=null),a||(a=xU(i),e.setClipPath(a)),wU(null,a,null,t,i,null,null,r,o,!1)}}function GU(e,t,n,r,o,i){if(!e.isGroup){YU(n,null,i),YU(n,iU,i);var a=i.normal.conOpt,s=i.emphasis.conOpt,l=i.blur.conOpt,u=i.select.conOpt;if(null!=a||null!=s||null!=u||null!=l){var c=e.getTextContent();if(!1===a)c&&e.removeTextContent();else{a=i.normal.conOpt=a||{type:"text"},c?c.clearStates():(c=xU(a),e.setTextContent(c));var d=a&&a.style;wU(null,c,null,t,a,d,null,r,o,!0);for(var f=0;f<uU.length;f++){var p=uU[f];if(p!==aU){var h=i[p].conOpt;NU(p,c,h,XU(a,h,p),null,!1,!0)}}d?c.dirty():c.markRedraw()}}}}function YU(e,t,n){var r=t?KU(e,t):e,o=t?XU(e,r,iU):e.style,i=e.type,a=r?r.textConfig:null,s=e.textContent,l=s?t?KU(s,t):s:null;if(o&&(n.isLegacy||mH(o,i,!!a,!!l))){n.isLegacy=!0;var u=gH(o,i,!t);!a&&u.textConfig&&(a=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var c=l;!c.type&&(c.type="text")}var d=t?n[t]:n.normal;d.cfg=a,d.conOpt=l}function KU(e,t){return t?e?e[t]:null:e}function XU(e,t,n){var r=t&&t.style;return null==r&&n===iU&&e&&(r=e.styleEmphasis),r}function JU(e,t,n,r,o,i){var a=r.children,s=a?a.length:0,l=r.$mergeChildren,u="byName"===l||r.diffChildrenByName,c=!1===l;if(s||u||c)if(u)ZU({api:e,oldChildren:t.children()||[],newChildren:a||[],dataIndex:n,seriesModel:o,group:t,morphPreparation:i});else{c&&t.removeAll();for(var d=0;d<s;d++)a[d]&&$U(e,t.childAt(d),n,a[d],o,t,!1,i);for(var f=t.childCount()-1;f>=d;f--)n$(t.childAt(f),o,t)}}function ZU(e){new G_(e.oldChildren,e.newChildren,QU,QU,e).add(e$).update(e$).remove(t$).execute()}function QU(e,t){var n=e&&e.name;return null!=n?n:fU+t}function e$(e,t){var n=this.context,r=null!=e?n.newChildren[e]:null,o=null!=t?n.oldChildren[t]:null;$U(n.api,o,n.dataIndex,r,n.seriesModel,n.group,!1,n.morphPreparation)}function t$(e){var t=this.context,n=t.oldChildren[e];n$(n,t.seriesModel,t.group)}function n$(e,t,n){if(e){var r=tU(e).leaveToProps;r?hf(e,r,t,{cb:function(){n.remove(e)}}):n.remove(e)}}function r$(e){return e&&(e.pathData||e.d)}function o$(e){return e&&(Ee(e,"pathData")||Ee(e,"d"))}function i$(e){return e&&e instanceof Al}function a$(e,t){e&&t.remove(e)}var s$=function(){function e(e,t){this._fromList=[],this._toList=[],this._toElOptionList=[],this._allPropsFinalList=[],this._toDataIndices=[],this._morphConfigList=[],this._seriesModel=e,this._transOpt=t}return e.prototype.hasFrom=function(){return!!this._fromList.length},e.prototype.findAndAddFrom=function(e){if(e&&(tU(e).canMorph&&this._fromList.push(e),e.isGroup))for(var t=e.childrenRef(),n=0;n<t.length;n++)this.findAndAddFrom(t[n])},e.prototype.addTo=function(e,t,n,r){e&&(this._toList.push(e),this._toElOptionList.push(t),this._toDataIndices.push(n),this._allPropsFinalList.push(r))},e.prototype.applyMorphing=function(){var e=this._type,t=this._fromList,n=this._toList,r=n.length,o=t.length;if(o&&r)if("oneToOne"===e)for(var i=0;i<r;i++)this._oneToOneForSingleTo(i,i);else if("manyToOne"===e)for(var a=Math.max(1,Math.floor(o/r)),s=(i=0,0);i<r;i++,s+=a){var l=i+1>=r?o-s:a;this._manyToOneForSingleTo(i,s>=o?null:s,l)}else if("oneToMany"===e)for(var u=Math.max(1,Math.floor(r/o)),c=0,d=0;c<r;c+=u,d++){var f=c+u>=r?r-c:u;this._oneToManyForSingleFrom(c,f,d>=o?null:d)}},e.prototype._oneToOneForSingleTo=function(e,t){var n=this._toList[e],r=this._toElOptionList[e],o=this._toDataIndices[e],i=this._allPropsFinalList[e],a=this._fromList[t],s=this._getOrCreateMorphConfig(o),l=s.duration;if(a&&zH(a)){if(_U(n,i,r.style),l){var u=HH([a],n,s,l$);this._processResultIndividuals(u,e,null)}}else{var c=l&&a&&(a!==n||VH(a))?a:null,d={};SU("shape",n,c,r,d,!1),SU("extra",n,c,r,d,!1),OU(n,c,r,d,!1),MU(n,c,r,r.style,d,!1),_U(n,i,r.style),c&&jH(c,n,s),CU(n,o,r,this._seriesModel,d,!1)}},e.prototype._manyToOneForSingleTo=function(e,t,n){var r=this._toList[e],o=this._toElOptionList[e],i=this._allPropsFinalList[e];_U(r,i,o.style);var a=this._getOrCreateMorphConfig(this._toDataIndices[e]);if(a.duration&&null!=t){for(var s=[],l=t;l<n;l++)s.push(this._fromList[l]);var u=HH(s,r,a,l$);this._processResultIndividuals(u,e,null)}},e.prototype._oneToManyForSingleFrom=function(e,t,n){for(var r=null==n?null:this._fromList[n],o=this._toList,i=[],a=e;a<t;a++){var s=o[a];_U(s,this._allPropsFinalList[a],this._toElOptionList[a].style),i.push(s)}var l=this._getOrCreateMorphConfig(this._toDataIndices[e]);if(l.duration&&r){var u=XH(r,i,l,l$);this._processResultIndividuals(u,e,t)}},e.prototype._processResultIndividuals=function(e,t,n){for(var r=null!=n,o=0;o<e.count;o++){var i=e.fromIndividuals[o],a=e.toIndividuals[o],s=t+(r?o:0),l=this._toElOptionList[s],u=this._toDataIndices[s],c={};OU(a,i,l,c,!1),MU(a,i,l,l.style,c,!1),CU(a,u,l,this._seriesModel,c,!1)}},e.prototype._getOrCreateMorphConfig=function(e){var t,n,r,o=this._morphConfigList,i=o[e];if(i)return i;var a=this._seriesModel,s=this._transOpt;if(a.isAnimationEnabled()){var l=void 0;if(a&&a.ecModel){var u=a.ecModel.getUpdatePayload();l=u&&u.animation}if(l)t=l.duration||0,n=l.easing||"cubicOut",r=l.delay||0;else{n=a.get("animationEasingUpdate");var c=a.get("animationDelayUpdate");r=ie(c)?c(e):c;var d=a.get("animationDurationUpdate");t=ie(d)?d(e):d}}return i={duration:t||0,delay:r,easing:n,dividingMethod:s?s.dividingMethod:null},o[e]=i,i},e.prototype.reset=function(e){this._type=e,this._fromList.length=this._toList.length=this._toElOptionList.length=this._allPropsFinalList.length=this._toDataIndices.length=0},e}();function l$(e,t,n){t.style=n?F(e.style):e.style,t.zlevel=e.zlevel,t.z=e.z,t.z2=e.z2}function u$(e){e.registerChartView(yU),e.registerSeriesModel(vU)}var c$=Ki(),d$=F,f$=ne,p$=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(e,t,n,r){var o=t.get("value"),i=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,r||this._lastValue!==o||this._lastStatus!==i){this._lastValue=o,this._lastStatus=i;var a=this._group,s=this._handle;if(!i||"hide"===i)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,o,e,t,n);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var c=this._moveAnimation=this.determineAnimation(e,t);if(a){var d=re(h$,t,c);this.updatePointerEl(a,l,d),this.updateLabelEl(a,l,d,t)}else a=this._group=new Vo,this.createPointerEl(a,l,e,t),this.createLabelEl(a,l,e,t),n.getZr().add(a);y$(a,t,!0),this._renderHandle(o)}},e.prototype.remove=function(e){this.clear(e)},e.prototype.dispose=function(e){this.clear(e)},e.prototype.determineAnimation=function(e,t){var n=t.get("animation"),r=e.axis,o="category"===r.type,i=t.get("snap");if(!i&&!o)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(o&&r.getBandWidth()>a)return!0;if(i){var s=SI(e).seriesDataCount,l=r.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===n},e.prototype.makeElOption=function(e,t,n,r,o){},e.prototype.createPointerEl=function(e,t,n,r){var o=t.pointer;if(o){var i=c$(e).pointerEl=new l[o.type](d$(t.pointer));e.add(i)}},e.prototype.createLabelEl=function(e,t,n,r){if(t.label){var o=c$(e).labelEl=new uu(d$(t.label));e.add(o),g$(o,r)}},e.prototype.updatePointerEl=function(e,t,n){var r=c$(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),n(r,{shape:t.pointer.shape}))},e.prototype.updateLabelEl=function(e,t,n,r){var o=c$(e).labelEl;o&&(o.setStyle(t.label.style),n(o,{x:t.label.x,y:t.label.y}),g$(o,r))},e.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,r=this._api.getZr(),o=this._handle,i=n.getModel("handle"),a=n.get("status");if(!i.get("show")||!a||"hide"===a)return o&&r.remove(o),void(this._handle=null);this._handle||(t=!0,o=this._handle=Mf(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){Dt(e.event)},onmousedown:f$(this._onHandleDragMove,this,0,0),drift:f$(this._onHandleDragMove,this),ondragend:f$(this._onHandleDragEnd,this)}),r.add(o)),y$(o,n,!1),o.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=i.get("size");oe(s)||(s=[s,s]),o.scaleX=s[0]/2,o.scaleY=s[1]/2,uy(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},e.prototype._moveHandleToValue=function(e,t){h$(this._axisPointerModel,!t&&this._moveAnimation,this._handle,v$(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(v$(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(v$(r)),c$(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,r=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},e.prototype.doClear=function(){},e.prototype.buildLabel=function(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}},e}();function h$(e,t,n,r){m$(c$(n).lastProp,r)||(c$(n).lastProp=r,t?hf(n,r,e):(n.stopAnimation(),n.attr(r)))}function m$(e,t){if(ue(e)&&ue(t)){var n=!0;return K(t,(function(t,r){n=n&&m$(e[r],t)})),!!n}return e===t}function g$(e,t){e[t.get(["label","show"])?"show":"hide"]()}function v$(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function y$(e,t,n){var r=t.get("z"),o=t.get("zlevel");e&&e.traverse((function(e){"group"!==e.type&&(null!=r&&(e.z=r),null!=o&&(e.zlevel=o),e.silent=n)}))}var b$=p$;function x$(e){var t,n=e.get("type"),r=e.getModel(n+"Style");return"line"===n?(t=r.getLineStyle(),t.fill=null):"shadow"===n&&(t=r.getAreaStyle(),t.stroke=null),t}function w$(e,t,n,r,o){var i=n.get("value"),a=C$(i,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),s=n.getModel("label"),l=ih(s.get("padding")||0),u=s.getFont(),c=Ir(a,u),d=o.position,f=c.width+l[1]+l[3],p=c.height+l[0]+l[2],h=o.align;"right"===h&&(d[0]-=f),"center"===h&&(d[0]-=f/2);var m=o.verticalAlign;"bottom"===m&&(d[1]-=p),"middle"===m&&(d[1]-=p/2),_$(d,f,p,r);var g=s.get("backgroundColor");g&&"auto"!==g||(g=t.get(["axisLine","lineStyle","color"])),e.label={x:d[0],y:d[1],style:Bf(s,{text:a,font:u,fill:s.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function _$(e,t,n,r){var o=r.getWidth(),i=r.getHeight();e[0]=Math.min(e[0]+t,o)-t,e[1]=Math.min(e[1]+n,i)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function C$(e,t,n,r,o){e=t.scale.parse(e);var i=t.scale.getLabel({value:e},{precision:o.precision}),a=o.formatter;if(a){var s={value:ik(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};K(r,(function(e){var t=n.getSeriesByIndex(e.seriesIndex),r=e.dataIndexInside,o=t&&t.getDataParams(r);o&&s.seriesData.push(o)})),ae(a)?i=a.replace("{value}",i):ie(a)&&(i=a(s))}return i}function S$(e,t,n){var r=qt();return Xt(r,r,n.rotation),Kt(r,r,n.position),wf([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function k$(e,t,n,r,o,i){var a=gI.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get(["label","margin"]),w$(t,r,o,i,{position:S$(r.axis,e,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function O$(e,t,n){return n=n||0,{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}}function T$(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}function M$(e,t,n,r,o,i){return{cx:e,cy:t,r0:n,r:r,startAngle:o,endAngle:i,clockwise:!0}}var D$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.makeElOption=function(e,t,n,r,o){var i=n.axis,a=i.grid,s=r.get("type"),l=I$(a,i).getOtherAxis(i).getGlobalExtent(),u=i.toGlobalCoord(i.dataToCoord(t,!0));if(s&&"none"!==s){var c=x$(r),d=E$[s](i,u,l);d.style=c,e.graphicKey=d.type,e.pointer=d}var f=KD(a.model,n);k$(t,e,f,n,r,o)},t.prototype.getHandleTransform=function(e,t,n){var r=KD(t.axis.grid.model,t,{labelInside:!1});r.labelMargin=n.get(["handle","margin"]);var o=S$(t.axis,e,r);return{x:o[0],y:o[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,n,r){var o=n.axis,i=o.grid,a=o.getGlobalExtent(!0),s=I$(i,o).getOtherAxis(o).getGlobalExtent(),l="x"===o.dim?0:1,u=[e.x,e.y];u[l]+=t[l],u[l]=Math.min(a[1],u[l]),u[l]=Math.max(a[0],u[l]);var c=(s[1]+s[0])/2,d=[c,c];d[l]=u[l];var f=[{verticalAlign:"middle"},{align:"center"}];return{x:u[0],y:u[1],rotation:e.rotation,cursorPoint:d,tooltipOption:f[l]}},t}(b$);function I$(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var E$={line:function(e,t,n){var r=O$([t,n[0]],[t,n[1]],A$(e));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(e,t,n){var r=Math.max(1,e.getBandWidth()),o=n[1]-n[0];return{type:"Rect",shape:T$([t-r/2,n[0]],[r,o],A$(e))}}};function A$(e){return"x"===e.dim?0:1}var L$=D$,j$=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.type="axisPointer",t.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Nh),N$=j$,P$=Ki(),R$=K;function B$(e,t,n){if(!C.node){var r=t.getZr();P$(r).records||(P$(r).records={}),F$(r,t);var o=P$(r).records[e]||(P$(r).records[e]={});o.handler=n}}function F$(e,t){function n(n,r){e.on(n,(function(n){var o=U$(t);R$(P$(e).records,(function(e){e&&r(e,n,o.dispatchAction)})),z$(o.pendings,t)}))}P$(e).initialized||(P$(e).initialized=!0,n("click",re(H$,"click")),n("mousemove",re(H$,"mousemove")),n("globalout",V$))}function z$(e,t){var n,r=e.showTip.length,o=e.hideTip.length;r?n=e.showTip[r-1]:o&&(n=e.hideTip[o-1]),n&&(n.dispatchAction=null,t.dispatchAction(n))}function V$(e,t,n){e.handler("leave",null,n)}function H$(e,t,n,r){t.handler(e,n,r)}function U$(e){var t={showTip:[],hideTip:[]},n=function(r){var o=t[r.type];o?o.push(r):(r.dispatchAction=n,e.dispatchAction(r))};return{dispatchAction:n,pendings:t}}function $$(e,t){if(!C.node){var n=t.getZr(),r=(P$(n).records||{})[e];r&&(P$(n).records[e]=null)}}var q$=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n){var r=t.getComponent("tooltip"),o=e.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";B$("axisPointer",n,(function(e,t,n){"none"!==o&&("leave"===e||o.indexOf(e)>=0)&&n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}))},t.prototype.remove=function(e,t){$$("axisPointer",t)},t.prototype.dispose=function(e,t){$$("axisPointer",t)},t.type="axisPointer",t}(Yv),W$=q$;function G$(e,t){var n,r=[],o=e.seriesIndex;if(null==o||!(n=t.getSeriesByIndex(o)))return{point:[]};var i=n.getData(),a=Yi(i,e);if(null==a||a<0||oe(a))return{point:[]};var s=i.getItemGraphicEl(a),l=n.coordinateSystem;if(n.getTooltipPosition)r=n.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(e.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),d=c.dim,f=u.dim,p="x"===d||"radius"===d?1:0,h=i.mapDimension(f),m=[];m[p]=i.get(h,a),m[1-p]=i.get(i.getCalculationInfo("stackResultDimension"),a),r=l.dataToPoint(m)||[]}else r=l.dataToPoint(i.getValues(X(l.dimensions,(function(e){return i.mapDimension(e)})),a))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),r=[g.x+g.width/2,g.y+g.height/2]}return{point:r,el:s}}var Y$=Ki();function K$(e,t,n){var r=e.currTrigger,o=[e.x,e.y],i=e,a=e.dispatchAction||ne(n.dispatchAction,n),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){iq(o)&&(o=G$({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},t).point);var l=iq(o),u=i.axesInfo,c=s.axesInfo,d="leave"===r||iq(o),f={},p={},h={list:[],map:{}},m={showPointer:re(Z$,p),showTooltip:re(Q$,h)};K(s.coordSysMap,(function(e,t){var n=l||e.containPoint(o);K(s.coordSysAxesInfo[t],(function(e,t){var r=e.axis,i=rq(u,e);if(!d&&n&&(!u||i)){var a=i&&i.value;null!=a||l||(a=r.pointToData(o)),null!=a&&X$(e,a,m,!1,f)}}))}));var g={};return K(c,(function(e,t){var n=e.linkGroup;n&&!p[t]&&K(n.axesInfo,(function(t,r){var o=p[r];if(t!==e&&o){var i=o.value;n.mapper&&(i=e.axis.scale.parse(n.mapper(i,oq(t),oq(e)))),g[e.key]=i}}))})),K(g,(function(e,t){X$(c[t],e,m,!0,f)})),eq(p,c,f),tq(h,o,e,a),nq(c,a,n),f}}function X$(e,t,n,r,o){var i=e.axis;if(!i.scale.isBlank()&&i.containData(t))if(e.involveSeries){var a=J$(t,e),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==o.seriesIndex&&H(o,s[0]),!r&&e.snap&&i.containData(l)&&null!=l&&(t=l),n.showPointer(e,t,s),n.showTooltip(e,a,l)}else n.showPointer(e,t)}function J$(e,t){var n=t.axis,r=n.dim,o=e,i=[],a=Number.MAX_VALUE,s=-1;return K(t.seriesModels,(function(t,l){var u,c,d=t.getData().mapDimensionsAll(r);if(t.getAxisTooltipData){var f=t.getAxisTooltipData(d,e,n);c=f.dataIndices,u=f.nestestValue}else{if(c=t.getData().indicesOfNearest(d[0],e,"category"===n.type?.5:null),!c.length)return;u=t.getData().get(d[0],c[0])}if(null!=u&&isFinite(u)){var p=e-u,h=Math.abs(p);h<=a&&((h<a||p>=0&&s<0)&&(a=h,s=p,o=u,i.length=0),K(c,(function(e){i.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})))}})),{payloadBatch:i,snapToValue:o}}function Z$(e,t,n,r){e[t.key]={value:n,payloadBatch:r}}function Q$(e,t,n,r){var o=n.payloadBatch,i=t.axis,a=i.model,s=t.axisPointerModel;if(t.triggerTooltip&&o.length){var l=t.coordSys.model,u=TI(l),c=e.map[u];c||(c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:i.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:o.slice()})}}function eq(e,t,n){var r=n.axesInfo=[];K(t,(function(t,n){var o=t.axisPointerModel.option,i=e[n];i?(!t.useHandle&&(o.status="show"),o.value=i.value,o.seriesDataIndices=(i.payloadBatch||[]).slice()):!t.useHandle&&(o.status="hide"),"show"===o.status&&r.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:o.value})}))}function tq(e,t,n,r){if(!iq(t)&&e.list.length){var o=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:e.list})}else r({type:"hideTip"})}function nq(e,t,n){var r=n.getZr(),o="axisPointerLastHighlights",i=Y$(r)[o]||{},a=Y$(r)[o]={};K(e,(function(e,t){var n=e.axisPointerModel.option;"show"===n.status&&K(n.seriesDataIndices,(function(e){var t=e.seriesIndex+" | "+e.dataIndex;a[t]=e}))}));var s=[],l=[];K(i,(function(e,t){!a[t]&&l.push(e)})),K(a,(function(e,t){!i[t]&&s.push(e)})),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function rq(e,t){for(var n=0;n<(e||[]).length;n++){var r=e[n];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}function oq(e){var t=e.axis.model,n={},r=n.axisDim=e.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=t.componentIndex,n.axisName=n[r+"AxisName"]=t.name,n.axisId=n[r+"AxisId"]=t.id,n}function iq(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function aq(e){II.registerAxisPointerClass("CartesianAxisPointer",L$),e.registerComponentModel(N$),e.registerComponentView(W$),e.registerPreprocessor((function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!oe(t)&&(e.axisPointer.link=[t])}})),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,(function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=vI(e,t)})),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},K$)}function sq(e){U_(HI),U_(aq)}var lq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.makeElOption=function(e,t,n,r,o){var i=n.axis;"angle"===i.dim&&(this.animationThreshold=Math.PI/18);var a=i.polar,s=a.getOtherAxis(i),l=s.getExtent(),u=i.dataToCoord(t),c=r.get("type");if(c&&"none"!==c){var d=x$(r),f=cq[c](i,a,u,l);f.style=d,e.graphicKey=f.type,e.pointer=f}var p=r.get(["label","margin"]),h=uq(t,n,r,a,p);w$(e,n,r,o,h)},t}(b$);function uq(e,t,n,r,o){var i=t.axis,a=i.dataToCoord(e),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,u,c,d=r.getRadiusAxis().getExtent();if("radius"===i.dim){var f=qt();Xt(f,f,s),Kt(f,f,[r.cx,r.cy]),l=wf([a,-o],f);var p=t.getModel("axisLabel").get("rotate")||0,h=gI.innerTextLayout(s,p*Math.PI/180,-1);u=h.textAlign,c=h.textVerticalAlign}else{var m=d[1];l=r.coordToPoint([m+o,a]);var g=r.cx,v=r.cy;u=Math.abs(l[0]-g)/m<.3?"center":l[0]>g?"left":"right",c=Math.abs(l[1]-v)/m<.3?"middle":l[1]>v?"top":"bottom"}return{position:l,align:u,verticalAlign:c}}var cq={line:function(e,t,n,r){return"angle"===e.dim?{type:"Line",shape:O$(t.coordToPoint([r[0],n]),t.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,r){var o=Math.max(1,e.getBandWidth()),i=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:M$(t.cx,t.cy,r[0],r[1],(-n-o/2)*i,(o/2-n)*i)}:{type:"Sector",shape:M$(t.cx,t.cy,n-o/2,n+o/2,0,2*Math.PI)}}},dq=lq,fq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.findAxisModel=function(e){var t,n=this.ecModel;return n.eachComponent(e,(function(e){e.getCoordSysModel()===this&&(t=e)}),this),t},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"80%"},t}(Nh),pq=fq,hq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Zi).models[0]},t.type="polarAxis",t}(Nh);G(hq,fk);var mq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.type="angleAxis",t}(hq),gq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.type="radiusAxis",t}(hq),vq=function(e){function t(t,n){return e.call(this,"radius",t,n)||this}return g(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},t}(Wk);vq.prototype.dataToRadius=Wk.prototype.dataToCoord,vq.prototype.radiusToData=Wk.prototype.coordToData;var yq=vq,bq=Ki(),xq=function(e){function t(t,n){return e.call(this,"angle",t,n||[0,360])||this}return g(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,t=e.getLabelModel(),n=e.scale,r=n.getExtent(),o=n.count();if(r[1]-r[0]<1)return 0;var i=r[0],a=e.dataToCoord(i+1)-e.dataToCoord(i),s=Math.abs(a),l=Ir(null==i?"":i+"",t.getFont(),"center","top"),u=Math.max(l.height,7),c=u/s;isNaN(c)&&(c=1/0);var d=Math.max(0,Math.floor(c)),f=bq(e.model),p=f.lastAutoInterval,h=f.lastTickCount;return null!=p&&null!=h&&Math.abs(p-d)<=1&&Math.abs(h-o)<=1&&p>d?d=p:(f.lastTickCount=o,f.lastAutoInterval=d),d},t}(Wk);xq.prototype.dataToAngle=Wk.prototype.dataToCoord,xq.prototype.angleToData=Wk.prototype.coordToData;var wq=xq,_q=function(){function e(e){this.dimensions=["radius","angle"],this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new yq,this._angleAxis=new wq,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},e.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},e.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(e){var t=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===e&&t.push(n),r.scale.type===e&&t.push(r),t},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},e.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},e.prototype.pointToData=function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},e.prototype.pointToCoord=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,r=this.getAngleAxis(),o=r.getExtent(),i=Math.min(o[0],o[1]),a=Math.max(o[0],o[1]);r.inverse?i=a-360:a=i+360;var s=Math.sqrt(t*t+n*n);t/=s,n/=s;var l=Math.atan2(-n,t)/Math.PI*180,u=l<i?1:-1;while(l<i||l>a)l+=360*u;return[s,l]},e.prototype.coordToPoint=function(e){var t=e[0],n=e[1]/180*Math.PI,r=Math.cos(n)*t+this.cx,o=-Math.sin(n)*t+this.cy;return[r,o]},e.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),n=t.getExtent().slice();n[0]>n[1]&&n.reverse();var r=e.getExtent(),o=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-r[0]*o,endAngle:-r[1]*o,clockwise:e.inverse,contain:function(e,t){var n=e-this.cx,r=t-this.cy,o=n*n+r*r,i=this.r,a=this.r0;return o<=i*i&&o>=a*a}}},e.prototype.convertToPixel=function(e,t,n){var r=Cq(t);return r===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){var r=Cq(t);return r===this?this.pointToData(n):null},e}();function Cq(e){var t=e.seriesModel,n=e.polarModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}var Sq=_q;function kq(e,t,n){var r=t.get("center"),o=n.getWidth(),i=n.getHeight();e.cx=ri(r[0],o),e.cy=ri(r[1],i);var a=e.getRadiusAxis(),s=Math.min(o,i)/2,l=t.get("radius");null==l?l=[0,"100%"]:oe(l)||(l=[0,l]);var u=[ri(l[0],s),ri(l[1],s)];a.inverse?a.setExtent(u[1],u[0]):a.setExtent(u[0],u[1])}function Oq(e,t){var n=this,r=n.getAngleAxis(),o=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),e.eachSeries((function(e){if(e.coordinateSystem===n){var t=e.getData();K(ck(t,"radius"),(function(e){o.scale.unionExtentFromData(t,e)})),K(ck(t,"angle"),(function(e){r.scale.unionExtentFromData(t,e)}))}})),tk(r.scale,r.model),tk(o.scale,o.model),"category"===r.type&&!r.onBand){var i=r.getExtent(),a=360/r.scale.count();r.inverse?i[1]+=a:i[1]-=a,r.setExtent(i[0],i[1])}}function Tq(e){return"angleAxis"===e.mainType}function Mq(e,t){if(e.type=t.get("type"),e.scale=nk(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),Tq(t)){e.inverse=e.inverse!==t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}t.axis=e,e.model=t}var Dq={dimensions:Sq.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent("polar",(function(e,r){var o=new Sq(r+"");o.update=Oq;var i=o.getRadiusAxis(),a=o.getAngleAxis(),s=e.findAxisModel("radiusAxis"),l=e.findAxisModel("angleAxis");Mq(i,s),Mq(a,l),kq(o,e,t),n.push(o),e.coordinateSystem=o,o.model=e})),e.eachSeries((function(e){if("polar"===e.get("coordinateSystem")){var t=e.getReferringComponents("polar",Zi).models[0];0,e.coordinateSystem=t.coordinateSystem}})),n}},Iq=Dq,Eq=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Aq(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var r=e.coordToPoint([t[0],n]),o=e.coordToPoint([t[1],n]);return{x1:r[0],y1:r[1],x2:o[0],y2:o[1]}}function Lq(e){var t=e.getRadiusAxis();return t.inverse?0:1}function jq(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}var Nq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return g(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,r=n.polar,o=r.getRadiusAxis().getExtent(),i=n.getTicksCoords(),a=n.getMinorTicksCoords(),s=X(n.getViewLabels(),(function(e){e=F(e);var t=n.scale,r="ordinal"===t.type?t.getRawOrdinalNumber(e.tickValue):e.tickValue;return e.coord=n.dataToCoord(r),e}));jq(s),jq(i),K(Eq,(function(t){!e.get([t,"show"])||n.scale.isBlank()&&"axisLine"!==t||Pq[t](this.group,e,r,i,a,o,s)}),this)}},t.type="angleAxis",t}(II),Pq={axisLine:function(e,t,n,r,o,i){var a,s=t.getModel(["axisLine","lineStyle"]),l=Lq(n),u=l?0:1;a=0===i[u]?new Vc({shape:{cx:n.cx,cy:n.cy,r:i[l]},style:s.getLineStyle(),z2:1,silent:!0}):new cd({shape:{cx:n.cx,cy:n.cy,r:i[l],r0:i[u]},style:s.getLineStyle(),z2:1,silent:!0}),a.style.fill=null,e.add(a)},axisTick:function(e,t,n,r,o,i){var a=t.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=i[Lq(n)],u=X(r,(function(e){return new Sd({shape:Aq(n,[l,l+s],e.coord)})}));e.add(lf(u,{style:U(a.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,n,r,o,i){if(o.length){for(var a=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=i[Lq(n)],c=[],d=0;d<o.length;d++)for(var f=0;f<o[d].length;f++)c.push(new Sd({shape:Aq(n,[u,u+l],o[d][f].coord)}));e.add(lf(c,{style:U(s.getModel("lineStyle").getLineStyle(),U(a.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,n,r,o,i,a){var s=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),c=t.get("triggerEvent");K(a,(function(r,o){var a=l,d=r.tickValue,f=i[Lq(n)],p=n.coordToPoint([f+u,r.coord]),h=n.cx,m=n.cy,g=Math.abs(p[0]-h)/f<.3?"center":p[0]>h?"left":"right",v=Math.abs(p[1]-m)/f<.3?"middle":p[1]>m?"top":"bottom";if(s&&s[d]){var y=s[d];ue(y)&&y.textStyle&&(a=new sp(y.textStyle,l,l.ecModel))}var b=new uu({silent:gI.isLabelSilent(t),style:Bf(a,{x:p[0],y:p[1],fill:a.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:r.formattedLabel,align:g,verticalAlign:v})});if(e.add(b),c){var x=gI.makeAxisEventDataBase(t);x.targetType="axisLabel",x.value=r.rawLabel,cu(b).eventData=x}}),this)},splitLine:function(e,t,n,r,o,i){var a=t.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],d=0;d<r.length;d++){var f=u++%l.length;c[f]=c[f]||[],c[f].push(new Sd({shape:Aq(n,i,r[d].coord)}))}for(d=0;d<c.length;d++)e.add(lf(c[d],{style:U({stroke:l[d%l.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,n,r,o,i){if(o.length){for(var a=t.getModel("minorSplitLine"),s=a.getModel("lineStyle"),l=[],u=0;u<o.length;u++)for(var c=0;c<o[u].length;c++)l.push(new Sd({shape:Aq(n,i,o[u][c].coord)}));e.add(lf(l,{style:s.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,n,r,o,i){if(r.length){var a=t.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],d=Math.PI/180,f=-r[0].coord*d,p=Math.min(i[0],i[1]),h=Math.max(i[0],i[1]),m=t.get("clockwise"),g=1,v=r.length;g<=v;g++){var y=g===v?r[0].coord:r[g].coord,b=u++%l.length;c[b]=c[b]||[],c[b].push(new sd({shape:{cx:n.cx,cy:n.cy,r0:p,r:h,startAngle:f,endAngle:-y*d,clockwise:m},silent:!0})),f=-y*d}for(g=0;g<c.length;g++)e.add(lf(c[g],{style:U({fill:l[g%l.length]},s.getAreaStyle()),silent:!0}))}}},Rq=Nq,Bq=["axisLine","axisTickLabel","axisName"],Fq=["splitLine","splitArea","minorSplitLine"],zq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return g(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var n=this._axisGroup,r=this._axisGroup=new Vo;this.group.add(r);var o=e.axis,i=o.polar,a=i.getAngleAxis(),s=o.getTicksCoords(),l=o.getMinorTicksCoords(),u=a.getExtent()[0],c=o.getExtent(),d=Hq(i,e,u),f=new gI(e,d);K(Bq,f.add,f),r.add(f.getGroup()),kf(n,r,e),K(Fq,(function(t){e.get([t,"show"])&&!o.scale.isBlank()&&Vq[t](this.group,e,i,u,c,s,l)}),this)}},t.type="radiusAxis",t}(II),Vq={splitLine:function(e,t,n,r,o,i){var a=t.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],d=0;d<i.length;d++){var f=u++%l.length;c[f]=c[f]||[],c[f].push(new Vc({shape:{cx:n.cx,cy:n.cy,r:i[d].coord}}))}for(d=0;d<c.length;d++)e.add(lf(c[d],{style:U({stroke:l[d%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,n,r,o,i,a){if(a.length){for(var s=t.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],c=0;c<a.length;c++)for(var d=0;d<a[c].length;d++)u.push(new Vc({shape:{cx:n.cx,cy:n.cy,r:a[c][d].coord}}));e.add(lf(u,{style:U({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(e,t,n,r,o,i){if(i.length){var a=t.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],d=i[0].coord,f=1;f<i.length;f++){var p=u++%l.length;c[p]=c[p]||[],c[p].push(new sd({shape:{cx:n.cx,cy:n.cy,r0:d,r:i[f].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),d=i[f].coord}for(f=0;f<c.length;f++)e.add(lf(c[f],{style:U({fill:l[f%l.length]},s.getAreaStyle()),silent:!0}))}}};function Hq(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}var Uq=zq;function $q(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function qq(e,t){return t.dim+e.model.componentIndex}function Wq(e,t,n){var r={},o=Gq(Z(t.getSeriesByType(e),(function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type})));t.eachSeriesByType(e,(function(e){if("polar"===e.coordinateSystem.type){var t=e.getData(),n=e.coordinateSystem,i=n.getBaseAxis(),a=qq(n,i),s=$q(e),l=o[a][s],u=l.offset,c=l.width,d=n.getOtherAxis(i),f=e.coordinateSystem.cx,p=e.coordinateSystem.cy,h=e.get("barMinHeight")||0,m=e.get("barMinAngle")||0;r[s]=r[s]||[];for(var g=t.mapDimension(d.dim),v=t.mapDimension(i.dim),y=BC(t,g),b="radius"!==i.dim||!e.get("roundCap",!0),x=d.dataToCoord(0),w=0,_=t.count();w<_;w++){var C=t.get(g,w),S=t.get(v,w),k=C>=0?"p":"n",O=x;y&&(r[s][S]||(r[s][S]={p:x,n:x}),O=r[s][S][k]);var T=void 0,M=void 0,D=void 0,I=void 0;if("radius"===d.dim){var E=d.dataToCoord(C)-x,A=i.dataToCoord(S);Math.abs(E)<h&&(E=(E<0?-1:1)*h),T=O,M=O+E,D=A-u,I=D-c,y&&(r[s][S][k]=M)}else{var L=d.dataToCoord(C,b)-x,j=i.dataToCoord(S);Math.abs(L)<m&&(L=(L<0?-1:1)*m),T=j+u,M=T+c,D=O,I=O+L,y&&(r[s][S][k]=I)}t.setItemLayout(w,{cx:f,cy:p,r0:T,r:M,startAngle:-D*Math.PI/180,endAngle:-I*Math.PI/180})}}}))}function Gq(e){var t={};K(e,(function(e,n){var r=e.getData(),o=e.coordinateSystem,i=o.getBaseAxis(),a=qq(o,i),s=i.getExtent(),l="category"===i.type?i.getBandWidth():Math.abs(s[1]-s[0])/r.count(),u=t[a]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},c=u.stacks;t[a]=u;var d=$q(e);c[d]||u.autoWidthCount++,c[d]=c[d]||{width:0,maxWidth:0};var f=ri(e.get("barWidth"),l),p=ri(e.get("barMaxWidth"),l),h=e.get("barGap"),m=e.get("barCategoryGap");f&&!c[d].width&&(f=Math.min(u.remainedWidth,f),c[d].width=f,u.remainedWidth-=f),p&&(c[d].maxWidth=p),null!=h&&(u.gap=h),null!=m&&(u.categoryGap=m)}));var n={};return K(t,(function(e,t){n[t]={};var r=e.stacks,o=e.bandWidth,i=ri(e.categoryGap,o),a=ri(e.gap,1),s=e.remainedWidth,l=e.autoWidthCount,u=(s-i)/(l+(l-1)*a);u=Math.max(u,0),K(r,(function(e,t){var n=e.maxWidth;n&&n<u&&(n=Math.min(n,s),e.width&&(n=Math.min(n,e.width)),s-=n,e.width=n,l--)})),u=(s-i)/(l+(l-1)*a),u=Math.max(u,0);var c,d=0;K(r,(function(e,t){e.width||(e.width=u),c=e,d+=e.width*(1+a)})),c&&(d-=c.width*a);var f=-d/2;K(r,(function(e,r){n[t][r]=n[t][r]||{offset:f,width:e.width},f+=e.width*(1+a)}))})),n}var Yq=Wq,Kq={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Xq={splitNumber:5},Jq=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.type="polar",t}(Yv);function Zq(e){U_(aq),II.registerAxisPointerClass("PolarAxisPointer",dq),e.registerCoordinateSystem("polar",Iq),e.registerComponentModel(pq),e.registerComponentView(Jq),FD(e,"angle",mq,Kq),FD(e,"radius",gq,Xq),e.registerComponentView(Rq),e.registerComponentView(Uq),e.registerLayout(re(Yq,"bar"))}var Qq=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;i.dimensions=["lng","lat"],i.type="geo",i.map=n;var a=sA.load(n,r);return i._nameCoordMap=a.nameCoordMap,i._regionsMap=a.regionsMap,i._invertLongitute=null==o||o,i.regions=a.regions,i._rect=a.boundingRect,i}return g(t,e),t.prototype.containCoord=function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return!0;return!1},t.prototype.transformTo=function(e,t,n,r){var o=this.getBoundingRect(),i=this._invertLongitute;o=o.clone(),i&&(o.y=-o.y-o.height);var a=this._rawTransformable;a.transform=o.calculateTransform(new Cr(e,t,n,r)),a.decomposeTransform(),i&&(a.scaleY=-a.scaleY),a.updateTransform(),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},t.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},t.prototype.getGeoCoord=function(e){return this._nameCoordMap.get(e)},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.dataToPoint=function(e,t,n){if("string"===typeof e&&(e=this.getGeoCoord(e)),e)return PA.prototype.dataToPoint.call(this,e,t,n)},t.prototype.convertToPixel=function(e,t,n){var r=eW(t);return r===this?r.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var r=eW(t);return r===this?r.pointToData(n):null},t}(PA);function eW(e){var t=e.geoModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",Zi).models[0]||{}).coordinateSystem:null}G(Qq,PA);var tW=Qq;function nW(e,t){var n=e.get("boundingCoords");if(null!=n){var r=n[0],o=n[1];isNaN(r[0])||isNaN(r[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(r[0],r[1],o[0]-r[0],o[1]-r[1])}var i,a,s,l=this.getBoundingRect(),u=e.get("layoutCenter"),c=e.get("layoutSize"),d=t.getWidth(),f=t.getHeight(),p=l.width/l.height*this.aspectScale,h=!1;if(u&&c&&(i=[ri(u[0],d),ri(u[1],f)],a=ri(c,Math.min(d,f)),isNaN(i[0])||isNaN(i[1])||isNaN(a)||(h=!0)),h)s={},p>1?(s.width=a,s.height=a/p):(s.height=a,s.width=a*p),s.y=i[1]-s.height/2,s.x=i[0]-s.width/2;else{var m=e.getBoxLayoutParams();m.aspect=p,s=kh(m,{width:d,height:f})}this.setViewRect(s.x,s.y,s.width,s.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function rW(e,t){K(t.get("geoCoord"),(function(t,n){e.addGeoCoord(n,t)}))}var oW=function(){function e(){this.dimensions=tW.prototype.dimensions}return e.prototype.create=function(e,t){var n=[];e.eachComponent("geo",(function(e,r){var o=e.get("map"),i=e.get("aspectScale"),a=!0,s=Yy.retrieveMap(o);s&&s[0]&&"svg"===s[0].type?(null==i&&(i=1),a=!1):null==i&&(i=.75);var l=new tW(o+r,o,e.get("nameMap"),a);l.aspectScale=i,l.zoomLimit=e.get("scaleLimit"),n.push(l),e.coordinateSystem=l,l.model=e,l.resize=nW,l.resize(e,t)})),e.eachSeries((function(e){var t=e.get("coordinateSystem");if("geo"===t){var r=e.get("geoIndex")||0;e.coordinateSystem=n[r]}}));var r={};return e.eachSeriesByType("map",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();r[t]=r[t]||[],r[t].push(e)}})),K(r,(function(e,r){var o=X(e,(function(e){return e.get("nameMap")})),i=new tW(r,r,V(o));i.zoomLimit=ve.apply(null,X(e,(function(e){return e.get("scaleLimit")}))),n.push(i),i.resize=nW,i.aspectScale=e[0].get("aspectScale"),i.resize(e[0],t),K(e,(function(e){e.coordinateSystem=i,rW(i,e)}))})),n},e.prototype.getFilledRegions=function(e,t,n){for(var r=(e||[]).slice(),o=Me(),i=0;i<r.length;i++)o.set(r[i].name,r[i]);var a=sA.load(t,n);return K(a.regions,(function(e){var t=e.name;!o.get(t)&&r.push({name:t})})),r},e}(),iW=new oW,aW=iW,sW=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.init=function(t,n,r){e.prototype.init.call(this,t,n,r),Mi(t,"label",["show"])},t.prototype.optionUpdated=function(){var e=this.option,t=this;e.regions=aW.getFilledRegions(e.regions,e.map,e.nameMap);var n={};this._optionModelMap=J(e.regions||[],(function(e,r){var o=r.name;return o&&(e.set(o,new sp(r,t)),r.selected&&(n[o]=!0)),e}),Me()),e.selectedMap||(e.selectedMap=n)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new sp(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,t){var n=this.getRegionModel(e),r="normal"===t?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),o={name:e};return"function"===typeof r?(o.status=t,r(o)):"string"===typeof r?r.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var t=this.option,n=t.selectedMode;if(n){"multiple"!==n&&(t.selectedMap=null);var r=t.selectedMap||(t.selectedMap={});r[e]=!0}},t.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var t=this.option.selectedMap;return!(!t||!t[e])},t.prototype._initSelectedMapFromData=function(){},t.type="geo",t.layoutMode="box",t.defaultOption={zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(Nh),lW=sW,uW=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.init=function(e,t){var n=new dA(t);this._mapDraw=n,this.group.add(n.group),this._api=t},t.prototype.render=function(e,t,n,r){var o=this._mapDraw;e.get("show")?o.draw(e,t,n,this,r):this._mapDraw.group.removeAll(),o.group.on("click",this._handleRegionClick,this),o.group.silent=e.get("silent"),this._model=e,this.updateSelectStatus(e,t,n)},t.prototype._handleRegionClick=function(e){var t,n=e.target;while(n&&null==(t=cu(n).eventData))n=n.__hostTarget||n.parent;t&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})},t.prototype.updateSelectStatus=function(e,t,n){var r=this;this._mapDraw.group.traverse((function(e){var t=cu(e).eventData;if(t)return r._model.isSelected(t.name)?n.enterSelect(e):n.leaveSelect(e),!0}))},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Yv),cW=uW;function dW(e){function t(t,n){n.update="geo:updateSelectStatus",e.registerAction(n,(function(e,n){var r={};return n.eachComponent({mainType:"geo",query:e},(function(n){n[t](e.name);var o=n.coordinateSystem;K(o.regions,(function(e){r[e.name]=n.isSelected(e.name)||!1}))})),{selected:r,name:e.name}}))}e.registerCoordinateSystem("geo",aW),e.registerComponentModel(lW),e.registerComponentView(cW),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){var r=t.coordinateSystem;if("geo"===r.type){var o=hL(r,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(o.center),t.setZoom&&t.setZoom(o.zoom),"series"===n&&K(t.seriesGroup,(function(e){e.setCenter(o.center),e.setZoom(o.zoom)}))}}))}))}function fW(e,t){t=t||{};var n=e.coordinateSystem,r=e.axis,o={},i=r.position,a=r.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};o.position=["vertical"===a?u.vertical[i]:l[0],"horizontal"===a?u.horizontal[i]:l[3]];var c={horizontal:0,vertical:1};o.rotation=Math.PI/2*c[a];var d={top:-1,bottom:1,right:1,left:-1};o.labelDirection=o.tickDirection=o.nameDirection=d[i],e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),ve(t.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var f=t.rotate;return null==f&&(f=e.get(["axisLabel","rotate"])),o.labelRotation="top"===i?-f:f,o.z2=1,o}var pW=["axisLine","axisTickLabel","axisName"],hW=["splitArea","splitLine"],mW=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="SingleAxisPointer",n}return g(t,e),t.prototype.render=function(t,n,r,o){var i=this.group;i.removeAll();var a=this._axisGroup;this._axisGroup=new Vo;var s=fW(t),l=new gI(t,s);K(pW,l.add,l),i.add(this._axisGroup),i.add(l.getGroup()),K(hW,(function(e){t.get([e,"show"])&&gW[e](this,this.group,this._axisGroup,t)}),this),kf(a,this._axisGroup,t),e.prototype.render.call(this,t,n,r,o)},t.prototype.remove=function(){LI(this)},t.type="singleAxis",t}(II),gW={splitLine:function(e,t,n,r){var o=r.axis;if(!o.scale.isBlank()){var i=r.getModel("splitLine"),a=i.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var l=r.coordinateSystem.getRect(),u=o.isHorizontal(),c=[],d=0,f=o.getTicksCoords({tickModel:i}),p=[],h=[],m=0;m<f.length;++m){var g=o.toGlobalCoord(f[m].coord);u?(p[0]=g,p[1]=l.y,h[0]=g,h[1]=l.y+l.height):(p[0]=l.x,p[1]=g,h[0]=l.x+l.width,h[1]=g);var v=d++%s.length;c[v]=c[v]||[],c[v].push(new Sd({subPixelOptimize:!0,shape:{x1:p[0],y1:p[1],x2:h[0],y2:h[1]},silent:!0}))}var y=a.getLineStyle(["color"]);for(m=0;m<c.length;++m)t.add(lf(c[m],{style:U({stroke:s[m%s.length]},y),silent:!0}))}},splitArea:function(e,t,n,r){AI(e,n,r,r)}},vW=mW,yW=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(Nh);G(yW,fk.prototype);var bW=yW,xW=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r)||this;return a.type=o||"value",a.position=i||"bottom",a}return g(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,t){return this.coordinateSystem.pointToData(e)[0]},t}(Wk),wW=xW,_W=function(){function e(e,t,n){this.type="single",this.dimension="single",this.dimensions=["single"],this.axisPointerEnabled=!0,this.model=e,this._init(e,t,n)}return e.prototype._init=function(e,t,n){var r=this.dimension,o=new wW(r,nk(e),[0,0],e.get("type"),e.get("position")),i="category"===o.type;o.onBand=i&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),e.axis=o,o.model=e,o.coordinateSystem=this,this._axis=o},e.prototype.update=function(e,t){e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData();K(t.mapDimensionsAll(this.dimension),(function(e){this._axis.scale.unionExtentFromData(t,e)}),this),tk(this._axis.scale,this._axis.model)}}),this)},e.prototype.resize=function(e,t){this._rect=kh({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),r=n?[0,e.width]:[0,e.height],o=t.reverse?1:0;t.setExtent(r[o],r[1-o]),this._updateAxisTransform(t,n?e.x:e.y)},e.prototype._updateAxisTransform=function(e,t){var n=e.getExtent(),r=n[0]+n[1],o=e.isHorizontal();e.toGlobalCoord=o?function(e){return e+t}:function(e){return r-e+t},e.toLocalCoord=o?function(e){return e-t}:function(e){return r-e+t}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(e){var t=this.getRect(),n=this.getAxis(),r=n.orient;return"horizontal"===r?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},e.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},e.prototype.dataToPoint=function(e){var t=this.getAxis(),n=this.getRect(),r=[],o="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),r[o]=t.toGlobalCoord(t.dataToCoord(+e)),r[1-o]=0===o?n.y+n.height/2:n.x+n.width/2,r},e.prototype.convertToPixel=function(e,t,n){var r=CW(t);return r===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){var r=CW(t);return r===this?this.pointToData(n):null},e}();function CW(e){var t=e.seriesModel,n=e.singleAxisModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}var SW=_W;function kW(e,t){var n=[];return e.eachComponent("singleAxis",(function(r,o){var i=new SW(r,e,t);i.name="single_"+o,i.resize(r,t),r.coordinateSystem=i,n.push(i)})),e.eachSeries((function(e){if("singleAxis"===e.get("coordinateSystem")){var t=e.getReferringComponents("singleAxis",Zi).models[0];e.coordinateSystem=t&&t.coordinateSystem}})),n}var OW={create:kW,dimensions:SW.prototype.dimensions},TW=OW,MW=["x","y"],DW=["width","height"],IW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.makeElOption=function(e,t,n,r,o){var i=n.axis,a=i.coordinateSystem,s=LW(a,1-AW(i)),l=a.dataToPoint(t)[0],u=r.get("type");if(u&&"none"!==u){var c=x$(r),d=EW[u](i,l,s);d.style=c,e.graphicKey=d.type,e.pointer=d}var f=fW(n);k$(t,e,f,n,r,o)},t.prototype.getHandleTransform=function(e,t,n){var r=fW(t,{labelInside:!1});r.labelMargin=n.get(["handle","margin"]);var o=S$(t.axis,e,r);return{x:o[0],y:o[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,n,r){var o=n.axis,i=o.coordinateSystem,a=AW(o),s=LW(i,a),l=[e.x,e.y];l[a]+=t[a],l[a]=Math.min(s[1],l[a]),l[a]=Math.max(s[0],l[a]);var u=LW(i,1-a),c=(u[1]+u[0])/2,d=[c,c];return d[a]=l[a],{x:l[0],y:l[1],rotation:e.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},t}(b$),EW={line:function(e,t,n){var r=O$([t,n[0]],[t,n[1]],AW(e));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(e,t,n){var r=e.getBandWidth(),o=n[1]-n[0];return{type:"Rect",shape:T$([t-r/2,n[0]],[r,o],AW(e))}}};function AW(e){return e.isHorizontal()?0:1}function LW(e,t){var n=e.getRect();return[n[MW[t]],n[MW[t]]+n[DW[t]]]}var jW=IW,NW=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.type="single",t}(Yv);function PW(e){U_(aq),II.registerAxisPointerClass("SingleAxisPointer",jW),e.registerComponentView(NW),e.registerComponentView(vW),e.registerComponentModel(bW),FD(e,"single",bW,bW.defaultOption),e.registerCoordinateSystem("single",TW)}var RW=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.init=function(t,n,r){var o=Ih(t);e.prototype.init.apply(this,arguments),BW(t,o)},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),BW(this.option,t)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(Nh);function BW(e,t){var n,r=e.cellSize;n=oe(r)?r:e.cellSize=[r,r],1===n.length&&(n[1]=n[0]);var o=X([0,1],(function(e){return Th(t,e)&&(n[e]="auto"),null!=n[e]&&"auto"!==n[e]}));Dh(e,t,{type:"box",ignoreSize:o})}var FW=RW,zW={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},VW={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]},HW=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n){var r=this.group;r.removeAll();var o=e.coordinateSystem,i=o.getRangeInfo(),a=o.getOrient();this._renderDayRect(e,i,r),this._renderLines(e,i,a,r),this._renderYearText(e,i,a,r),this._renderMonthText(e,a,r),this._renderWeekText(e,i,a,r)},t.prototype._renderDayRect=function(e,t,n){for(var r=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),i=r.getCellWidth(),a=r.getCellHeight(),s=t.start.time;s<=t.end.time;s=r.getNextNDay(s,1).time){var l=r.dataToRect([s],!1).tl,u=new Kl({shape:{x:l[0],y:l[1],width:i,height:a},cursor:"default",style:o});n.add(u)}},t.prototype._renderLines=function(e,t,n,r){var o=this,i=e.coordinateSystem,a=e.getModel(["splitLine","lineStyle"]).getLineStyle(),s=e.get(["splitLine","show"]),l=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=t.start,c=0;u.time<=t.end.time;c++){f(u.formatedDate),0===c&&(u=i.getDateInfo(t.start.y+"-"+t.start.m));var d=u.date;d.setMonth(d.getMonth()+1),u=i.getDateInfo(d)}function f(t){o._firstDayOfMonth.push(i.getDateInfo(t)),o._firstDayPoints.push(i.dataToRect([t],!1).tl);var l=o._getLinePointsOfOneWeek(e,t,n);o._tlpoints.push(l[0]),o._blpoints.push(l[l.length-1]),s&&o._drawSplitline(l,a,r)}f(i.getNextNDay(t.end.time,1).formatedDate),s&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,l,n),a,r),s&&this._drawSplitline(o._getEdgesPoints(o._blpoints,l,n),a,r)},t.prototype._getEdgesPoints=function(e,t,n){var r=[e[0].slice(),e[e.length-1].slice()],o="horizontal"===n?0:1;return r[0][o]=r[0][o]-t/2,r[1][o]=r[1][o]+t/2,r},t.prototype._drawSplitline=function(e,t,n){var r=new xd({z2:20,shape:{points:e},style:t});n.add(r)},t.prototype._getLinePointsOfOneWeek=function(e,t,n){for(var r=e.coordinateSystem,o=r.getDateInfo(t),i=[],a=0;a<7;a++){var s=r.getNextNDay(o.time,a),l=r.dataToRect([s.time],!1);i[2*s.day]=l.tl,i[2*s.day+1]=l["horizontal"===n?"bl":"tr"]}return i},t.prototype._formatterLabel=function(e,t){return"string"===typeof e&&e?ph(e,t):"function"===typeof e?e(t):t.nameMap},t.prototype._yearTextPositionControl=function(e,t,n,r,o){var i=t[0],a=t[1],s=["center","bottom"];"bottom"===r?(a+=o,s=["center","top"]):"left"===r?i-=o:"right"===r?(i+=o,s=["center","top"]):a-=o;var l=0;return"left"!==r&&"right"!==r||(l=Math.PI/2),{rotation:l,x:i,y:a,style:{align:s[0],verticalAlign:s[1]}}},t.prototype._renderYearText=function(e,t,n,r){var o=e.getModel("yearLabel");if(o.get("show")){var i=o.get("margin"),a=o.get("position");a||(a="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,u=(s[0][1]+s[1][1])/2,c="horizontal"===n?0:1,d={top:[l,s[c][1]],bottom:[l,s[1-c][1]],left:[s[1-c][0],u],right:[s[c][0],u]},f=t.start.y;+t.end.y>+t.start.y&&(f=f+"-"+t.end.y);var p=o.get("formatter"),h={start:t.start.y,end:t.end.y,nameMap:f},m=this._formatterLabel(p,h),g=new uu({z2:30,style:Bf(o,{text:m})});g.attr(this._yearTextPositionControl(g,d[a],n,a,i)),r.add(g)}},t.prototype._monthTextPositionControl=function(e,t,n,r,o){var i="left",a="top",s=e[0],l=e[1];return"horizontal"===n?(l+=o,t&&(i="center"),"start"===r&&(a="bottom")):(s+=o,t&&(a="middle"),"start"===r&&(i="right")),{x:s,y:l,align:i,verticalAlign:a}},t.prototype._renderMonthText=function(e,t,n){var r=e.getModel("monthLabel");if(r.get("show")){var o=r.get("nameMap"),i=r.get("margin"),a=r.get("position"),s=r.get("align"),l=[this._tlpoints,this._blpoints];ae(o)&&(o=zW[o.toUpperCase()]||[]);var u="start"===a?0:1,c="horizontal"===t?0:1;i="start"===a?-i:i;for(var d="center"===s,f=0;f<l[u].length-1;f++){var p=l[u][f].slice(),h=this._firstDayOfMonth[f];if(d){var m=this._firstDayPoints[f];p[c]=(m[c]+l[0][f+1][c])/2}var g=r.get("formatter"),v=o[+h.m-1],y={yyyy:h.y,yy:(h.y+"").slice(2),MM:h.m,M:+h.m,nameMap:v},b=this._formatterLabel(g,y),x=new uu({z2:30,style:H(Bf(r,{text:b}),this._monthTextPositionControl(p,d,t,a,i))});n.add(x)}}},t.prototype._weekTextPositionControl=function(e,t,n,r,o){var i="center",a="middle",s=e[0],l=e[1],u="start"===n;return"horizontal"===t?(s=s+r+(u?1:-1)*o[0]/2,i=u?"right":"left"):(l=l+r+(u?1:-1)*o[1]/2,a=u?"bottom":"top"),{x:s,y:l,align:i,verticalAlign:a}},t.prototype._renderWeekText=function(e,t,n,r){var o=e.getModel("dayLabel");if(o.get("show")){var i=e.coordinateSystem,a=o.get("position"),s=o.get("nameMap"),l=o.get("margin"),u=i.getFirstDayOfWeek();ae(s)&&(s=VW[s.toUpperCase()]||[]);var c=i.getNextNDay(t.end.time,7-t.lweek).time,d=[i.getCellWidth(),i.getCellHeight()];l=ri(l,d["horizontal"===n?0:1]),"start"===a&&(c=i.getNextNDay(t.start.time,-(7+t.fweek)).time,l=-l);for(var f=0;f<7;f++){var p=i.getNextNDay(c,f),h=i.dataToRect([p.time],!1).center,m=f;m=Math.abs((f+u)%7);var g=new uu({z2:30,style:H(Bf(o,{text:s[m]}),this._weekTextPositionControl(h,n,a,l,d))});r.add(g)}}},t.type="calendar",t}(Yv),UW=HW,$W=864e5,qW=function(){function e(t,n,r){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(e){e=hi(e);var t=e.getFullYear(),n=e.getMonth()+1,r=n<10?"0"+n:""+n,o=e.getDate(),i=o<10?"0"+o:""+o,a=e.getDay();return a=Math.abs((a+7-this.getFirstDayOfWeek())%7),{y:t+"",m:r,d:i,day:a,time:e.getTime(),formatedDate:t+"-"+r+"-"+i,date:e}},e.prototype.getNextNDay=function(e,t){return t=t||0,0===t||(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t)),this.getDateInfo(e)},e.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.getCellSize().slice(),i=this._model.getBoxLayoutParams(),a="horizontal"===this._orient?[n,7]:[7,n];K([0,1],(function(e){u(o,e)&&(i[r[e]]=o[e]*a[e])}));var s={width:t.getWidth(),height:t.getHeight()},l=this._rect=kh(i,s);function u(e,t){return null!=e[t]&&"auto"!==e[t]}K([0,1],(function(e){u(o,e)||(o[e]=l[r[e]]/a[e])})),this._sw=o[0],this._sh=o[1]},e.prototype.dataToPoint=function(e,t){oe(e)&&(e=e[0]),null==t&&(t=!0);var n=this.getDateInfo(e),r=this._rangeInfo,o=n.formatedDate;if(t&&!(n.time>=r.start.time&&n.time<r.end.time+$W))return[NaN,NaN];var i=n.day,a=this._getRangeInfo([r.start.time,o]).nthWeek;return"vertical"===this._orient?[this._rect.x+i*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+i*this._sh+this._sh/2]},e.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},e.prototype.dataToRect=function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},e.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,t-1,r):this._getDateByWeeksAndDay(t,n-1,r)},e.prototype.convertToPixel=function(e,t,n){var r=WW(t);return r===this?r.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){var r=WW(t);return r===this?r.pointToData(n):null},e.prototype.containPoint=function(e){return!1},e.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(oe(t)&&1===t.length&&(t=t[0]),oe(t))e=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(e=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var r=this.getDateInfo(n),o=r.date;o.setMonth(o.getMonth()+1);var i=this.getNextNDay(o,-1);e=[r.formatedDate,i.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(e=[n,n])}if(!e)return t;var a=this._getRangeInfo(e);return a.start.time>a.end.time&&e.reverse(),e},e.prototype._getRangeInfo=function(e){var t,n=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];n[0].time>n[1].time&&(t=!0,n.reverse());var r=Math.floor(n[1].time/$W)-Math.floor(n[0].time/$W)+1,o=new Date(n[0].time),i=o.getDate(),a=n[1].date.getDate();o.setDate(i+r-1);var s=o.getDate();if(s!==a){var l=o.getTime()-n[1].time>0?1:-1;while((s=o.getDate())!==a&&(o.getTime()-n[1].time)*l>0)r-=l,o.setDate(s-l)}var u=Math.floor((r+n[0].day+6)/7),c=t?1-u:u-1;return t&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:r,weeks:u,nthWeek:c,fweek:n[0].day,lweek:n[1].day}},e.prototype._getDateByWeeksAndDay=function(e,t,n){var r=this._getRangeInfo(n);if(e>r.weeks||0===e&&t<r.fweek||e===r.weeks&&t>r.lweek)return null;var o=7*(e-1)-r.fweek+t,i=new Date(r.start.time);return i.setDate(+r.start.d+o),this.getDateInfo(i)},e.create=function(t,n){var r=[];return t.eachComponent("calendar",(function(o){var i=new e(o,t,n);r.push(i),o.coordinateSystem=i})),t.eachSeries((function(e){"calendar"===e.get("coordinateSystem")&&(e.coordinateSystem=r[e.get("calendarIndex")||0])})),r},e.dimensions=["time","value"],e}();function WW(e){var t=e.calendarModel,n=e.seriesModel,r=t?t.coordinateSystem:n?n.coordinateSystem:null;return r}var GW=qW;function YW(e){e.registerComponentModel(FW),e.registerComponentView(UW),e.registerCoordinateSystem("calendar",GW)}var KW=Ki(),XW={path:null,compoundPath:null,group:Vo,image:zl,text:uu},JW=function(e){var t=e.graphic;oe(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])},ZW=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.mergeOption=function(t,n){var r=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,t,n),this.option.elements=r},t.prototype.optionUpdated=function(e,t){var n=this.option,r=(t?n:e).elements,o=n.elements=t?[]:n.elements,i=[];this._flatten(r,i,null);var a=Ai(o,i,"normalMerge"),s=this._elOptionsToUpdate=[];K(a,(function(e,t){var n=e.newOption;n&&(s.push(n),oG(e,n),iG(o,t,n),aG(o[t],n))}),this);for(var l=o.length-1;l>=0;l--)null==o[l]?o.splice(l,1):delete o[l].$action},t.prototype._flatten=function(e,t,n){K(e,(function(e){if(e){n&&(e.parentOption=n),t.push(e);var r=e.children;"group"===e.type&&r&&this._flatten(r,t,e),delete e.children}}),this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(Nh),QW=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.init=function(){this._elMap=Me()},t.prototype.render=function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,n)},t.prototype._updateElements=function(e){var t=e.useElOptionsToUpdate();if(t){var n=this._elMap,r=this.group;K(t,(function(t){var o=Vi(t.id,null),i=null!=o?n.get(o):null,a=Vi(t.parentId,null),s=null!=a?n.get(a):r,l=t.type,u=t.style;"text"===l&&u&&t.hv&&t.hv[1]&&(u.textVerticalAlign=u.textBaseline=u.verticalAlign=u.align=null);var c=t.textContent,d=t.textConfig;if(u&&mH(u,l,!!d,!!c)){var f=gH(u,l,!0);!d&&f.textConfig&&(d=t.textConfig=f.textConfig),!c&&f.textContent&&(c=f.textContent)}var p=nG(t);var h=t.$action||"merge";"merge"===h?i?i.attr(p):eG(o,s,p,n):"replace"===h?(tG(i,n),eG(o,s,p,n)):"remove"===h&&tG(i,n);var m=n.get(o);if(m&&c)if("merge"===h){var g=m.getTextContent();g?g.attr(c):m.setTextContent(new uu(c))}else"replace"===h&&m.setTextContent(new uu(c));if(m){var v=KW(m);v.__ecGraphicWidthOption=t.width,v.__ecGraphicHeightOption=t.height,sG(m,e,t)}}))}},t.prototype._relocate=function(e,t){for(var n=e.option.elements,r=this.group,o=this._elMap,i=t.getWidth(),a=t.getHeight(),s=0;s<n.length;s++){var l=n[s],u=Vi(l.id,null),c=null!=u?o.get(u):null;if(c&&c.isGroup){var d=c.parent,f=d===r,p=KW(c),h=KW(d);p.__ecGraphicWidth=ri(p.__ecGraphicWidthOption,f?i:h.__ecGraphicWidth)||0,p.__ecGraphicHeight=ri(p.__ecGraphicHeightOption,f?a:h.__ecGraphicHeight)||0}}for(s=n.length-1;s>=0;s--){l=n[s],u=Vi(l.id,null),c=null!=u?o.get(u):null;if(c){d=c.parent,h=KW(d);var m=d===r?{width:i,height:a}:{width:h.__ecGraphicWidth,height:h.__ecGraphicHeight};Oh(c,l,m,null,{hv:l.hv,boundingMode:l.bounding})}}},t.prototype._clear=function(){var e=this._elMap;e.each((function(t){tG(t,e)})),this._elMap=Me()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Yv);function eG(e,t,n,r){var o=n.type;var i=Ee(XW,o)?XW[o]:rf(o);var a=new i(n);t.add(a),r.set(e,a),KW(a).__ecGraphicId=e}function tG(e,t){var n=e&&e.parent;n&&("group"===e.type&&e.traverse((function(e){tG(e,t)})),t.removeKey(KW(e).__ecGraphicId),n.remove(e))}function nG(e){return e=H({},e),K(["id","parentId","$action","hv","bounding","textContent"].concat(xh),(function(t){delete e[t]})),e}function rG(e,t){var n;return K(t,(function(t){null!=e[t]&&"auto"!==e[t]&&(n=!0)})),n}function oG(e,t){var n=e.existing;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),null==t.parentId){var r=t.parentOption;r?t.parentId=r.id:n&&(t.parentId=n.parentId)}t.parentOption=null}function iG(e,t,n){var r=H({},n),o=e[t],i=n.$action||"merge";"merge"===i?o?(z(o,r,!0),Dh(o,r,{ignoreSize:!0}),Eh(n,o)):e[t]=r:"replace"===i?e[t]=r:"remove"===i&&o&&(e[t]=null)}function aG(e,t){if(e&&(e.hv=t.hv=[rG(t,["left","right"]),rG(t,["top","bottom"])],"group"===e.type)){var n=e,r=t;null==n.width&&(n.width=r.width=0),null==n.height&&(n.height=r.height=0)}}function sG(e,t,n){var r=cu(e).eventData;e.silent||e.ignore||r||(r=cu(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),r&&(r.info=n.info)}function lG(e){e.registerComponentModel(ZW),e.registerComponentView(QW),e.registerPreprocessor(JW)}var uG=["x","y","radius","angle","single"],cG=["cartesian2d","polar","singleAxis"];function dG(e){var t=e.get("coordinateSystem");return q(cG,t)>=0}function fG(e){return e+"Axis"}function pG(e,t){var n,r=Me(),o=[],i=Me();e.eachComponent({mainType:"dataZoom",query:t},(function(e){i.get(e.uid)||s(e)}));do{n=!1,e.eachComponent("dataZoom",a)}while(n);function a(e){!i.get(e.uid)&&l(e)&&(s(e),n=!0)}function s(e){i.set(e.uid,!0),o.push(e),u(e)}function l(e){var t=!1;return e.eachTargetAxis((function(e,n){var o=r.get(e);o&&o[n]&&(t=!0)})),t}function u(e){e.eachTargetAxis((function(e,t){(r.get(e)||r.set(e,[]))[t]=!0}))}return o}function hG(e){var t=e.ecModel,n={infoList:[],infoMap:Me()};return e.eachTargetAxis((function(e,r){var o=t.getComponent(fG(e),r);if(o){var i=o.getCoordSysModel();if(i){var a=i.uid,s=n.infoMap.get(a);s||(s={model:i,axisModels:[]},n.infoList.push(s),n.infoMap.set(a,s)),s.axisModels.push(o)}}})),n}var mG=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},e}(),gG=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return g(t,e),t.prototype.init=function(e,t,n){var r=vG(e);this.settledOption=r,this.mergeDefaultAndTheme(e,n),this._doInit(r)},t.prototype.mergeOption=function(e){var t=vG(e);z(this.option,e,!0),z(this.settledOption,t,!0),this._doInit(t)},t.prototype._doInit=function(e){var t=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var n=this.settledOption;K([["start","startValue"],["end","endValue"]],(function(e,r){"value"===this._rangePropMode[r]&&(t[e[0]]=n[e[0]]=null)}),this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),t=this._targetAxisInfoMap=Me(),n=this._fillSpecifiedTargetAxis(t);n?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(t,this._orient)),this._noTarget=!0,t.each((function(e){e.indexList.length&&(this._noTarget=!1)}),this)},t.prototype._fillSpecifiedTargetAxis=function(e){var t=!1;return K(uG,(function(n){var r=this.getReferringComponents(fG(n),Qi);if(r.specified){t=!0;var o=new mG;K(r.models,(function(e){o.add(e.componentIndex)})),e.set(n,o)}}),this),t},t.prototype._fillAutoTargetAxisByOrient=function(e,t){var n=this.ecModel,r=!0;if(r){var o="vertical"===t?"y":"x",i=n.findComponents({mainType:o+"Axis"});a(i,o)}if(r){i=n.findComponents({mainType:"singleAxis",filter:function(e){return e.get("orient",!0)===t}});a(i,"single")}function a(t,n){var o=t[0];if(o){var i=new mG;if(i.add(o.componentIndex),e.set(n,i),r=!1,"x"===n||"y"===n){var a=o.getReferringComponents("grid",Zi).models[0];a&&K(t,(function(e){o.componentIndex!==e.componentIndex&&a===e.getReferringComponents("grid",Zi).models[0]&&i.add(e.componentIndex)}))}}}r&&K(uG,(function(t){if(r){var o=n.findComponents({mainType:fG(t),filter:function(e){return"category"===e.get("type",!0)}});if(o[0]){var i=new mG;i.add(o[0].componentIndex),e.set(t,i),r=!1}}}),this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis((function(t){!e&&(e=t)}),this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var t=this._rangePropMode,n=this.get("rangeMode");K([["start","startValue"],["end","endValue"]],(function(r,o){var i=null!=e[r[0]],a=null!=e[r[1]];i&&!a?t[o]="percent":!i&&a?t[o]="value":n?t[o]=n[o]:i&&(t[o]="percent")}))},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis((function(t,n){null==e&&(e=this.ecModel.getComponent(fG(t),n))}),this),e},t.prototype.eachTargetAxis=function(e,t){this._targetAxisInfoMap.each((function(n,r){K(n.indexList,(function(n){e.call(t,r,n)}))}))},t.prototype.getAxisProxy=function(e,t){var n=this.getAxisModel(e,t);if(n)return n.__dzAxisProxy},t.prototype.getAxisModel=function(e,t){var n=this._targetAxisInfoMap.get(e);if(n&&n.indexMap[t])return this.ecModel.getComponent(fG(e),t)},t.prototype.setRawRange=function(e){var t=this.option,n=this.settledOption;K([["start","startValue"],["end","endValue"]],(function(r){null==e[r[0]]&&null==e[r[1]]||(t[r[0]]=n[r[0]]=e[r[0]],t[r[1]]=n[r[1]]=e[r[1]])}),this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var t=this.option;K(["start","startValue","end","endValue"],(function(n){t[n]=e[n]}))},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var t,n=this._targetAxisInfoMap.keys(),r=0;r<n.length;r++)for(var o=n[r],i=this._targetAxisInfoMap.get(o),a=0;a<i.indexList.length;a++){var s=this.getAxisProxy(o,i.indexList[a]);if(s.hostedBy(this))return s;t||(t=s)}return t},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100},t}(Nh);function vG(e){var t={};return K(["start","end","startValue","endValue","throttle"],(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}var yG=gG,bG=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.type="dataZoom.select",t}(yG),xG=bG,wG=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n,r){this.dataZoomModel=e,this.ecModel=t,this.api=n},t.type="dataZoom",t}(Yv),_G=wG,CG=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.type="dataZoom.select",t}(_G),SG=CG,kG=K,OG=ii,TG=function(){function e(e,t,n,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=n}return e.prototype.hostedBy=function(e){return this._dataZoomModel===e},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries((function(t){if(dG(t)){var n=fG(this._dimName),r=t.getReferringComponents(n,Zi).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}}),this),e},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return F(this._minMaxSpan)},e.prototype.calculateDataWindow=function(e){var t,n=this._dataExtent,r=this.getAxisModel(),o=r.axis.scale,i=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[];kG(["start","end"],(function(r,u){var c=e[r],d=e[r+"Value"];"percent"===i[u]?(null==c&&(c=a[u]),d=o.parse(ni(c,a,n))):(t=!0,d=null==d?n[u]:o.parse(d),c=ni(d,n,a)),l[u]=d,s[u]=c})),OG(l),OG(s);var u=this._minMaxSpan;function c(e,t,n,r,i){var a=i?"Span":"ValueSpan";uR(0,e,n,"all",u["min"+a],u["max"+a]);for(var s=0;s<2;s++)t[s]=ni(e[s],n,r,!0),i&&(t[s]=o.parse(t[s]))}return t?c(l,s,n,a,!1):c(s,l,a,n,!0),{valueWindow:l,percentWindow:s}},e.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=MG(this,this._dimName,t),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),o=e.get("filterMode"),i=this._valueWindow;"none"!==o&&kG(r,(function(e){var t=e.getData(),r=t.mapDimensionsAll(n);r.length&&("weakFilter"===o?t.filterSelf((function(e){for(var n,o,a,s=0;s<r.length;s++){var l=t.get(r[s],e),u=!isNaN(l),c=l<i[0],d=l>i[1];if(u&&!c&&!d)return!0;u&&(a=!0),c&&(n=!0),d&&(o=!0)}return a&&n&&o})):kG(r,(function(n){if("empty"===o)e.setData(t=t.map(n,(function(e){return a(e)?e:NaN})));else{var r={};r[n]=i,t.selectRange(r)}})),kG(r,(function(e){t.setApproximateExtent(i,e)})))}))}function a(e){return e>=i[0]&&e<=i[1]}},e.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;kG(["min","max"],(function(r){var o=t.get(r+"Span"),i=t.get(r+"ValueSpan");null!=i&&(i=this.getAxisModel().axis.scale.parse(i)),null!=i?o=ni(n[0]+i,n,[0,100],!0):null!=o&&(i=ni(o,[0,100],n,!0)-n[0]),e[r+"Span"]=o,e[r+"ValueSpan"]=i}),this)},e.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){var r=li(n,[0,500]);r=Math.min(r,20);var o=e.axis.scale.rawExtentInfo;0!==t[0]&&o.setDeterminedMinMax("min",+n[0].toFixed(r)),100!==t[1]&&o.setDeterminedMinMax("max",+n[1].toFixed(r)),o.freeze()}},e}();function MG(e,t,n){var r=[1/0,-1/0];kG(n,(function(e){dk(r,e.getData(),t)}));var o=e.getAxisModel(),i=JS(o.axis.scale,o,r).calculate();return[i.min,i.max]}var DG=TG,IG={getTargetSeries:function(e){function t(t){e.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(r,o){var i=e.getComponent(fG(r),o);t(r,o,i,n)}))}))}t((function(e,t,n,r){n.__dzAxisProxy=null}));var n=[];t((function(t,r,o,i){o.__dzAxisProxy||(o.__dzAxisProxy=new DG(t,r,i,e),n.push(o.__dzAxisProxy))}));var r=Me();return K(n,(function(e){K(e.getTargetSeriesModels(),(function(e){r.set(e.uid,e)}))})),r},overallReset:function(e,t){e.eachComponent("dataZoom",(function(e){e.eachTargetAxis((function(t,n){e.getAxisProxy(t,n).reset(e)})),e.eachTargetAxis((function(n,r){e.getAxisProxy(n,r).filterData(e,t)}))})),e.eachComponent("dataZoom",(function(e){var t=e.findRepresentativeAxisProxy();if(t){var n=t.getDataPercentWindow(),r=t.getDataValueWindow();e.setCalculatedRange({start:n[0],end:n[1],startValue:r[0],endValue:r[1]})}}))}},EG=IG;function AG(e){e.registerAction("dataZoom",(function(e,t){var n=pG(t,e);K(n,(function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})}))}))}var LG=!1;function jG(e){LG||(LG=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,EG),AG(e),e.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function NG(e){e.registerComponentModel(xG),e.registerComponentView(SG),jG(e)}var PG=function(){function e(){}return e}(),RG={};function BG(e,t){RG[e]=t}function FG(e){return RG[e]}var zG=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;K(this.option.feature,(function(e,n){var r=FG(n);r&&(r.getDefaultOption&&(r.defaultOption=r.getDefaultOption(t)),z(e,r.defaultOption))}))},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}},t}(Nh),VG=zG;function HG(e,t,n){var r=t.getBoxLayoutParams(),o=t.get("padding"),i={width:n.getWidth(),height:n.getHeight()},a=kh(r,i,o);Ch(t.get("orient"),e,t.get("itemGap"),a.width,a.height),Oh(e,r,i,o)}function UG(e,t){var n=ih(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),e=new Kl({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1}),e}var $G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.render=function(e,t,n,r){var o=this.group;if(o.removeAll(),e.get("show")){var i=+e.get("itemSize"),a=e.get("feature")||{},s=this._features||(this._features={}),l=[];K(a,(function(e,t){l.push(t)})),new G_(this._featureNames||[],l).add(u).update(u).remove(re(u,null)).execute(),this._featureNames=l,HG(o,e,n),o.add(UG(o.getBoundingRect(),e)),o.eachChild((function(e){var t=e.__title,r=e.ensureState("emphasis"),a=r.textConfig||(r.textConfig={}),s=e.getTextContent(),l=s&&s.states.emphasis;if(l&&!ie(l)&&t){var u=l.style||(l.style={}),c=Ir(t,uu.makeFont(u)),d=e.x+o.x,f=e.y+o.y+i,p=!1;f+c.height>n.getHeight()&&(a.position="top",p=!0);var h=p?-5-c.height:i+8;d+c.width/2>n.getWidth()?(a.position=["100%",h],u.align="right"):d-c.width/2<0&&(a.position=[0,h],u.align="left")}}))}function u(o,i){var u,d=l[o],f=l[i],p=a[d],h=new sp(p,e,e.ecModel);if(r&&null!=r.newTitle&&r.featureName===d&&(p.title=r.newTitle),d&&!f){if(qG(d))u={onclick:h.option.onclick,featureName:d};else{var m=FG(d);if(!m)return;u=new m}s[d]=u}else if(u=s[f],!u)return;if(u.uid=up("toolbox-feature"),u.model=h,u.ecModel=t,u.api=n,u instanceof PG){if(!d&&f)return void(u.dispose&&u.dispose(t,n));if(!h.get("show")||u.unusable)return void(u.remove&&u.remove(t,n))}c(h,u,d),h.setIconStatus=function(e,t){var n=this.option,r=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[e]=t,r[e]&&("emphasis"===t?Gu:Yu)(r[e])},u instanceof PG&&u.render&&u.render(h,t,n,r)}function c(r,a,s){var l,u,c=r.getModel("iconStyle"),d=r.getModel(["emphasis","iconStyle"]),f=a instanceof PG&&a.getIcons?a.getIcons():r.get("icon"),p=r.get("title")||{};"string"===typeof f?(l={},l[s]=f):l=f,"string"===typeof p?(u={},u[s]=p):u=p;var h=r.iconPaths={};K(l,(function(s,l){var f=Mf(s,{},{x:-i/2,y:-i/2,width:i,height:i});f.setStyle(c.getItemStyle());var p=f.ensureState("emphasis");p.style=d.getItemStyle();var m=new uu({style:{text:u[l],align:d.get("textAlign"),borderRadius:d.get("textBorderRadius"),padding:d.get("textPadding"),fill:null},ignore:!0});f.setTextContent(m);var g=e.getModel("tooltip");g&&g.get("show")&&(f.tooltip=H({content:u[l],formatter:g.get("formatter",!0)||function(){return u[l]},formatterParams:{componentType:"toolbox",name:l,title:u[l],$vars:["name","title"]},position:g.get("position",!0)||"bottom"},g.option)),f.__title=u[l],f.on("mouseover",(function(){var t=d.getItemStyle(),n="vertical"===e.get("orient")?null==e.get("right")?"right":"left":null==e.get("bottom")?"bottom":"top";m.setStyle({fill:d.get("textFill")||t.fill||t.stroke||"#000",backgroundColor:d.get("textBackgroundColor")}),f.setTextConfig({position:d.get("textPosition")||n}),m.ignore=!e.get("showTitle"),Gu(this)})).on("mouseout",(function(){"emphasis"!==r.get(["iconStatus",l])&&Yu(this),m.hide()})),("emphasis"===r.get(["iconStatus",l])?Gu:Yu)(f),o.add(f),f.on("click",ne(a.onclick,a,t,n,l)),h[l]=f}))}},t.prototype.updateView=function(e,t,n,r){K(this._features,(function(e){e instanceof PG&&e.updateView&&e.updateView(e.model,t,n,r)}))},t.prototype.remove=function(e,t){K(this._features,(function(n){n instanceof PG&&n.remove&&n.remove(e,t)})),this.group.removeAll()},t.prototype.dispose=function(e,t){K(this._features,(function(n){n instanceof PG&&n.dispose&&n.dispose(e,t)}))},t.type="toolbox",t}(Yv);function qG(e){return 0===e.indexOf("my")}var WG=$G,GG=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.onclick=function(e,t){var n=this.model,r=n.get("name")||e.get("title.0.text")||"echarts",o="svg"===t.getZr().painter.getType(),i=o?"svg":n.get("type",!0)||"png",a=t.getConnectedDataURL({type:i,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if("function"!==typeof MouseEvent||!C.browser.newEdge&&(C.browser.ie||C.browser.edge))if(window.navigator.msSaveOrOpenBlob||o){var s=a.split(","),l=s[0].indexOf("base64")>-1,u=o?decodeURIComponent(s[1]):s[1];l&&(u=atob(u));var c=r+"."+i;if(window.navigator.msSaveOrOpenBlob){var d=u.length,f=new Uint8Array(d);while(d--)f[d]=u.charCodeAt(d);var p=new Blob([f]);window.navigator.msSaveOrOpenBlob(p,c)}else{var h=document.createElement("iframe");document.body.appendChild(h);var m=h.contentWindow,g=m.document;g.open("image/svg+xml","replace"),g.write(u),g.close(),m.focus(),g.execCommand("SaveAs",!0,c),document.body.removeChild(h)}}else{var v=n.get("lang"),y='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(v&&v[0]||"")+'" /></body>',b=window.open();b.document.write(y),b.document.title=r}else{var x=document.createElement("a");x.download=r+"."+i,x.target="_blank",x.href=a;var w=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});x.dispatchEvent(w)}},t.getDefaultOption=function(e){var t={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocale(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:e.getLocale(["toolbox","saveAsImage","lang"])};return t},t}(PG);GG.prototype.unusable=!C.canvasSupported;var YG=GG,KG="__ec_magicType_stack__",XG=[["line","bar"],["stack"]],JG=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return K(e.get("type"),(function(e){t[e]&&(n[e]=t[e])})),n},t.getDefaultOption=function(e){var t={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocale(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return t},t.prototype.onclick=function(e,t,n){var r=this.model,o=r.get(["seriesIndex",n]);if(ZG[n]){var i,a={series:[]},s=function(e){var t=e.subType,o=e.id,i=ZG[n](t,o,e,r);i&&(U(i,e.option),a.series.push(i));var s=e.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===n||"bar"===n)){var l=s.getAxesByScale("ordinal")[0];if(l){var u=l.dim,c=u+"Axis",d=e.getReferringComponents(c,Zi).models[0],f=d.componentIndex;a[c]=a[c]||[];for(var p=0;p<=f;p++)a[c][f]=a[c][f]||{};a[c][f].boundaryGap="bar"===n}}};K(XG,(function(e){q(e,n)>=0&&K(e,(function(e){r.setIconStatus(e,"normal")}))})),r.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},s),"stack"===n&&(i=z({stack:r.option.title.tiled,tiled:r.option.title.stack},r.option.title)),t.dispatchAction({type:"changeMagicType",currentType:n,newOption:a,newTitle:i,featureName:"magicType"})}},t}(PG),ZG={line:function(e,t,n,r){if("bar"===e)return z({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(e,t,n,r){if("line"===e)return z({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(e,t,n,r){var o=n.get("stack")===KG;if("line"===e||"bar"===e)return r.setIconStatus("stack",o?"normal":"emphasis"),z({id:t,stack:o?"":KG},r.get(["option","stack"])||{},!0)}};M_({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(e,t){t.mergeOption(e.newOption)}));var QG=JG,eY=new Array(60).join("-"),tY="\t";function nY(e){var t={},n=[],r=[];return e.eachRawSeries((function(e){var o=e.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)n.push(e);else{var i=o.getBaseAxis();if("category"===i.type){var a=i.dim+"_"+i.index;t[a]||(t[a]={categoryAxis:i,valueAxis:o.getOtherAxis(i),series:[]},r.push({axisDim:i.dim,axisIndex:i.index})),t[a].series.push(e)}else n.push(e)}})),{seriesGroupByCategoryAxis:t,other:n,meta:r}}function rY(e){var t=[];return K(e,(function(e,n){var r=e.categoryAxis,o=e.valueAxis,i=o.dim,a=[" "].concat(X(e.series,(function(e){return e.name}))),s=[r.model.getCategories()];K(e.series,(function(e){var t=e.getRawData();s.push(e.getRawData().mapArray(t.mapDimension(i),(function(e){return e})))}));for(var l=[a.join(tY)],u=0;u<s[0].length;u++){for(var c=[],d=0;d<s.length;d++)c.push(s[d][u]);l.push(c.join(tY))}t.push(l.join("\n"))})),t.join("\n\n"+eY+"\n\n")}function oY(e){return X(e,(function(e){var t=e.getRawData(),n=[e.name],r=[];return t.each(t.dimensions,(function(){for(var e=arguments.length,o=arguments[e-1],i=t.getName(o),a=0;a<e-1;a++)r[a]=arguments[a];n.push((i?i+tY:"")+r.join(tY))})),n.join("\n")})).join("\n\n"+eY+"\n\n")}function iY(e){var t=nY(e);return{value:Z([rY(t.seriesGroupByCategoryAxis),oY(t.other)],(function(e){return!!e.replace(/[\n\t\s]/g,"")})).join("\n\n"+eY+"\n\n"),meta:t.meta}}function aY(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function sY(e){var t=e.slice(0,e.indexOf("\n"));if(t.indexOf(tY)>=0)return!0}var lY=new RegExp("["+tY+"]+","g");function uY(e){for(var t=e.split(/\n+/g),n=aY(t.shift()).split(lY),r=[],o=X(n,(function(e){return{name:e,data:[]}})),i=0;i<t.length;i++){var a=aY(t[i]).split(lY);r.push(a.shift());for(var s=0;s<a.length;s++)o[s]&&(o[s].data[i]=a[s])}return{series:o,categories:r}}function cY(e){for(var t=e.split(/\n+/g),n=aY(t.shift()),r=[],o=0;o<t.length;o++){var i=aY(t[o]);if(i){var a=i.split(lY),s="",l=void 0,u=!1;isNaN(a[0])?(u=!0,s=a[0],a=a.slice(1),r[o]={name:s,value:[]},l=r[o].value):l=r[o]=[];for(var c=0;c<a.length;c++)l.push(+a[c]);1===l.length&&(u?r[o].value=l[0]:r[o]=l[0])}}return{name:n,data:r}}function dY(e,t){var n=e.split(new RegExp("\n*"+eY+"\n*","g")),r={series:[]};return K(n,(function(e,n){if(sY(e)){var o=uY(e),i=t[n],a=i.axisDim+"Axis";i&&(r[a]=r[a]||[],r[a][i.axisIndex]={data:o.categories},r.series=r.series.concat(o.series))}else{o=cY(e);r.series.push(o)}})),r}var fY=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.onclick=function(e,t){var n=t.getDom(),r=this.model;this._dom&&n.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=r.get("backgroundColor")||"#fff";var i=document.createElement("h4"),a=r.get("lang")||[];i.innerHTML=a[0]||r.get("title"),i.style.cssText="margin: 10px 20px;",i.style.color=r.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="display:block;width:100%;overflow:auto;";var u=r.get("optionToContent"),c=r.get("contentToOption"),d=iY(e);if("function"===typeof u){var f=u(t.getOption());"string"===typeof f?s.innerHTML=f:fe(f)&&s.appendChild(f)}else s.appendChild(l),l.readOnly=r.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=r.get("textColor"),l.style.borderColor=r.get("textareaBorderColor"),l.style.backgroundColor=r.get("textareaColor"),l.value=d.value;var p=d.meta,h=document.createElement("div");h.style.cssText="position:absolute;bottom:0;left:0;right:0;";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",g=document.createElement("div"),v=document.createElement("div");m+=";background-color:"+r.get("buttonColor"),m+=";color:"+r.get("buttonTextColor");var y=this;function b(){n.removeChild(o),y._dom=null}Tt(g,"click",b),Tt(v,"click",(function(){if(null==c&&null!=u||null!=c&&null==u)b();else{var e;try{e="function"===typeof c?c(s,t.getOption()):dY(l.value,p)}catch(n){throw b(),new Error("Data view format error "+n)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),b()}})),g.innerHTML=a[1],v.innerHTML=a[2],v.style.cssText=m,g.style.cssText=m,!r.get("readOnly")&&h.appendChild(v),h.appendChild(g),o.appendChild(i),o.appendChild(s),o.appendChild(h),s.style.height=n.clientHeight-80+"px",n.appendChild(o),this._dom=o},t.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.getDefaultOption=function(e){var t={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocale(["toolbox","dataView","title"]),lang:e.getLocale(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return t},t}(PG);function pY(e,t){return X(e,(function(e,n){var r=t&&t[n];if(ue(r)&&!oe(r)){var o=ue(e)&&!oe(e);o||(e={value:e});var i=null!=r.name&&null==e.name;return e=U(e,r),i&&delete e.name,e}return e}))}M_({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(e,t){var n=[];K(e.newOption.series,(function(e){var r=t.getSeriesByName(e.name)[0];if(r){var o=r.get("data");n.push({name:e.name,data:pY(e.data,o)})}else n.push(H({type:"scatter"},e))})),t.mergeOption(U({series:n},e.newOption))}));var hY=fY,mY=K,gY=Ki();function vY(e,t){var n=wY(e);mY(t,(function(t,r){for(var o=n.length-1;o>=0;o--){var i=n[o];if(i[r])break}if(o<0){var a=e.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(a){var s=a.getPercentRange();n[0][r]={dataZoomId:r,start:s[0],end:s[1]}}}})),n.push(t)}function yY(e){var t=wY(e),n=t[t.length-1];t.length>1&&t.pop();var r={};return mY(n,(function(e,n){for(var o=t.length-1;o>=0;o--)if(e=t[o][n],e){r[n]=e;break}})),r}function bY(e){gY(e).snapshots=null}function xY(e){return wY(e).length}function wY(e){var t=gY(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var _Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.onclick=function(e,t){bY(e),t.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var t={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocale(["toolbox","restore","title"])};return t},t}(PG);M_({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(e,t){t.resetOption("recreate")}));var CY=_Y,SY=["dataToPoint","pointToData"],kY=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],OY=function(){function e(e,t,n){var r=this;this._targetInfoList=[];var o=MY(t,e);K(DY,(function(e,t){(!n||!n.include||q(n.include,t)>=0)&&e(o,r._targetInfoList)}))}return e.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,(function(e,t,n){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var r=AY[e.brushType](0,n,t);e.__rangeOffset={offset:jY[e.brushType](r.values,e.range,[1,1]),xyMinMax:r.xyMinMax}}})),e},e.prototype.matchOutputRanges=function(e,t,n){K(e,(function(e){var r=this.findTargetInfo(e,t);r&&!0!==r&&K(r.coordSyses,(function(r){var o=AY[e.brushType](1,r,e.range);n(e,o.values,r,t)}))}),this)},e.prototype.setInputRanges=function(e,t){K(e,(function(e){var n=this.findTargetInfo(e,t);if(e.range=e.range||[],n&&!0!==n){e.panelId=n.panelId;var r=AY[e.brushType](0,n.coordSys,e.coordRange),o=e.__rangeOffset;e.range=o?jY[e.brushType](r.values,o.offset,PY(r.xyMinMax,o.xyMinMax)):r.values}}),this)},e.prototype.makePanelOpts=function(e,t){return X(this._targetInfoList,(function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:kB(r),isTargetByCursor:TB(r,e,n.coordSysModel),getLinearBrushOtherExtent:OB(r)}}))},e.prototype.controlSeries=function(e,t,n){var r=this.findTargetInfo(e,n);return!0===r||r&&q(r.coordSyses,t.coordinateSystem)>=0},e.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,r=MY(t,e),o=0;o<n.length;o++){var i=n[o],a=e.panelId;if(a){if(i.panelId===a)return i}else for(var s=0;s<IY.length;s++)if(IY[s](r,i))return i}return!0},e}();function TY(e){return e[0]>e[1]&&e.reverse(),e}function MY(e,t){return Ji(e,t,{includeMainTypes:kY})}var DY={grid:function(e,t){var n=e.xAxisModels,r=e.yAxisModels,o=e.gridModels,i=Me(),a={},s={};(n||r||o)&&(K(n,(function(e){var t=e.axis.grid.model;i.set(t.id,t),a[t.id]=!0})),K(r,(function(e){var t=e.axis.grid.model;i.set(t.id,t),s[t.id]=!0})),K(o,(function(e){i.set(e.id,e),a[e.id]=!0,s[e.id]=!0})),i.each((function(e){var o=e.coordinateSystem,i=[];K(o.getCartesians(),(function(e,t){(q(n,e.getAxis("x").model)>=0||q(r,e.getAxis("y").model)>=0)&&i.push(e)})),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:i[0],coordSyses:i,getPanelRect:EY.grid,xAxisDeclared:a[e.id],yAxisDeclared:s[e.id]})})))},geo:function(e,t){K(e.geoModels,(function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:EY.geo})}))}},IY=[function(e,t){var n=e.xAxisModel,r=e.yAxisModel,o=e.gridModel;return!o&&n&&(o=n.axis.grid.model),!o&&r&&(o=r.axis.grid.model),o&&o===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],EY={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(xf(e)),t}},AY={lineX:re(LY,0),lineY:re(LY,1),rect:function(e,t,n){var r=t[SY[e]]([n[0][0],n[1][0]]),o=t[SY[e]]([n[0][1],n[1][1]]),i=[TY([r[0],o[0]]),TY([r[1],o[1]])];return{values:i,xyMinMax:i}},polygon:function(e,t,n){var r=[[1/0,-1/0],[1/0,-1/0]],o=X(n,(function(n){var o=t[SY[e]](n);return r[0][0]=Math.min(r[0][0],o[0]),r[1][0]=Math.min(r[1][0],o[1]),r[0][1]=Math.max(r[0][1],o[0]),r[1][1]=Math.max(r[1][1],o[1]),o}));return{values:o,xyMinMax:r}}};function LY(e,t,n,r){var o=n.getAxis(["x","y"][e]),i=TY(X([0,1],(function(e){return t?o.coordToData(o.toLocalCoord(r[e])):o.toGlobalCoord(o.dataToCoord(r[e]))}))),a=[];return a[e]=i,a[1-e]=[NaN,NaN],{values:i,xyMinMax:a}}var jY={lineX:re(NY,0),lineY:re(NY,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return X(e,(function(e,r){return[e[0]-n[0]*t[r][0],e[1]-n[1]*t[r][1]]}))}};function NY(e,t,n,r){return[t[0]-r[e]*n[0],t[1]-r[e]*n[1]]}function PY(e,t){var n=RY(e),r=RY(t),o=[n[0]/r[0],n[1]/r[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}function RY(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var BY=OY,FY=K,zY=$i("toolbox-dataZoom_"),VY=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.render=function(e,t,n,r){this.brushController||(this.brushController=new SB(n.getZr()),this.brushController.on("brush",ne(this._onBrush,this)).mount()),qY(e,t,this,r,n),$Y(e,t)},t.prototype.onclick=function(e,t,n){HY[n].call(this)},t.prototype.remove=function(e,t){this.brushController.unmount()},t.prototype.dispose=function(e,t){this.brushController.dispose()},t.prototype._onBrush=function(e){var t=e.areas;if(e.isEnd&&t.length){var n={},r=this.ecModel;this.brushController.updateCovers([]);var o=new BY(UY(this.model),r,{include:["grid"]});o.matchOutputRanges(t,r,(function(e,t,n){if("cartesian2d"===n.type){var r=e.brushType;"rect"===r?(i("x",n,t[0]),i("y",n,t[1])):i({lineX:"x",lineY:"y"}[r],n,t)}})),vY(r,n),this._dispatchZoomAction(n)}function i(e,t,o){var i=t.getAxis(e),s=i.model,l=a(e,s,r),u=l.findRepresentativeAxisProxy(s).getMinMaxSpan();null==u.minValueSpan&&null==u.maxValueSpan||(o=uR(0,o.slice(),i.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)),l&&(n[l.id]={dataZoomId:l.id,startValue:o[0],endValue:o[1]})}function a(e,t,n){var r;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){var o=n.getAxisModel(e,t.componentIndex);o&&(r=n)})),r}},t.prototype._dispatchZoomAction=function(e){var t=[];FY(e,(function(e,n){t.push(F(e))})),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},t.getDefaultOption=function(e){var t={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocale(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return t},t}(PG),HY={zoom:function(){var e=!this.isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(yY(this.ecModel))}};function UY(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}function $Y(e,t){e.setIconStatus("back",xY(t)>1?"emphasis":"normal")}function qY(e,t,n,r,o){var i=n.isZoomActive;r&&"takeGlobalCursor"===r.type&&(i="dataZoomSelect"===r.key&&r.dataZoomSelectActive),n.isZoomActive=i,e.setIconStatus("zoom",i?"emphasis":"normal");var a=new BY(UY(e),t,{include:["grid"]}),s=a.makePanelOpts(o,(function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"}));n.brushController.setPanels(s).enableBrush(!(!i||!s.length)&&{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()})}om("dataZoom",(function(e){var t=e.getComponent("toolbox",0);if(t){var n=t.getModel(["feature","dataZoom"]),r=[],o=UY(n),i=Ji(e,o);return FY(i.xAxisModels,(function(e){return a(e,"xAxis","xAxisIndex")})),FY(i.yAxisModels,(function(e){return a(e,"yAxis","yAxisIndex")})),r}function a(e,t,o){var i=e.componentIndex,a={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:zY+t+i};a[o]=i,r.push(a)}}));var WY=VY;function GY(e){e.registerComponentModel(VG),e.registerComponentView(WG),BG("saveAsImage",YG),BG("magicType",QG),BG("dataView",hY),BG("dataZoom",WY),BG("restore",CY),U_(NG)}var YY=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Nh),KY=YY;function XY(e){var t=e.get("confine");return null!=t?!!t:"richText"===e.get("renderMode")}var JY=["-ms-","-moz-","-o-","-webkit-",""],ZY="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function QY(e){return e="left"===e?"right":"right"===e?"left":"top"===e?"bottom":"top",e}function eK(e,t,n){if(!ae(n)||"inside"===n)return"";t=vh(t);var r=QY(n),o="",i="";q(["left","right"],r)>-1?(o=r+":-6px;top:50%;",i="translateY(-50%) rotate("+("left"===r?-225:-45)+"deg)"):(o=r+":-6px;left:50%;",i="translateX(-50%) rotate("+("top"===r?225:45)+"deg)"),i=X(JY,(function(e){return e+"transform:"+i})).join(";");var a=["position:absolute;width:10px;height:10px;",""+o+i+";","border-bottom: "+t+" solid 1px;","border-right: "+t+" solid 1px;","background-color: "+e+";","box-shadow: 8px 8px 16px -3px #000;"];return'<div style="'+a.join("")+'"></div>'}function tK(e,t){var n="cubic-bezier(0.23, 1, 0.32, 1)",r="opacity "+e/2+"s "+n+",visibility "+e/2+"s "+n;return t||(r+=",left "+e+"s "+n+",top "+e+"s "+n),X(JY,(function(e){return e+"transition:"+r})).join(";")}function nK(e){var t=[],n=e.get("fontSize"),r=e.getTextColor();r&&t.push("color:"+r),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(3*n/2)+"px");var o=e.get("textShadowColor"),i=e.get("textShadowBlur")||0,a=e.get("textShadowOffsetX")||0,s=e.get("textShadowOffsetY")||0;return o&&i&&t.push("text-shadow:"+a+"px "+s+"px "+i+"px "+o),K(["decoration","align"],(function(n){var r=e.get(n);r&&t.push("text-"+n+":"+r)})),t.join(";")}function rK(e,t,n){var r=[],o=e.get("transitionDuration"),i=e.get("backgroundColor"),a=e.get("shadowBlur"),s=e.get("shadowColor"),l=e.get("shadowOffsetX"),u=e.get("shadowOffsetY"),c=e.getModel("textStyle"),d=Ev(e,"html"),f=l+"px "+u+"px "+a+"px "+s;return r.push("box-shadow:"+f),t&&o&&r.push(tK(o,n)),i&&(C.canvasSupported?r.push("background-Color:"+i):(r.push("background-Color:#"+Nn(i)),r.push("filter:alpha(opacity=70)"))),K(["width","color","radius"],(function(t){var n="border-"+t,o=oh(n),i=e.get(o);null!=i&&r.push(n+":"+i+("color"===t?"":"px"))})),r.push(nK(c)),null!=d&&r.push("padding:"+ih(d).join("px ")+"px"),r.join(";")+";"}function oK(e,t,n,r,o){var i=t&&t.painter;if(n){var a=i&&i.getViewportRoot();a&&ht(e,a,document.body,r,o)}else{e[0]=r,e[1]=o;var s=i&&i.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var iK=function(){function e(e,t,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,C.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=t.getZr(),i=this._appendToBody=n&&n.appendToBody;oK(this._styleCoord,o,i,t.getWidth()/2,t.getHeight()/2),i?document.body.appendChild(r):e.appendChild(r),this._container=e;var a=this;r.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},r.onmousemove=function(e){if(e=e||window.event,!a._enterable){var t=o.handler,n=o.painter.getViewportRoot();kt(n,e,!0),t.dispatch("mousemove",e)}},r.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return e.prototype.update=function(e){var t=this._container,n=t.currentStyle||document.defaultView.getComputedStyle(t),r=t.style;"absolute"!==r.position&&"absolute"!==n.position&&(r.position="relative");var o=e.get("alwaysShowContent");o&&this._moveIfResized(),this.el.className=e.get("className")||""},e.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,r=this._styleCoord,o=n.offsetHeight/2;t=vh(t),n.style.cssText=ZY+rK(e,!this._firstShow,this._longHide)+";left:"+r[0]+"px;top:"+(r[1]-o)+"px;border-color: "+t+";"+(e.get("extraCssText")||""),n.style.display=n.innerHTML?"block":"none",n.style.pointerEvents=this._enterable?"auto":"none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(e,t,n,r,o){if(null!=e){var i=this.el;if(ae(o)&&"item"===n.get("trigger")&&!XY(n)&&(e+=eK(n.get("backgroundColor"),r,o)),ae(e))i.innerHTML=e;else if(e){i.innerHTML="",oe(e)||(e=[e]);for(var a=0;a<e.length;a++)fe(e[a])&&e[a].parentNode!==i&&i.appendChild(e[a])}}},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el;return[e.clientWidth,e.clientHeight]},e.prototype.moveTo=function(e,t){var n=this._styleCoord;if(oK(n,this._zr,this._appendToBody,e,t),null!=n[0]&&null!=n[1]){var r=this.el.style;r.left=n[0].toFixed(0)+"px",r.top=n[1].toFixed(0)+"px"}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){var e=this;this.el.style.visibility="hidden",this.el.style.opacity="0",this._show=!1,this._longHideTimeout=setTimeout((function(){return e._longHide=!0}),500)},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ne(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},e.prototype.getOuterSize=function(){var e=this.el.clientWidth,t=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(e+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),t+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:e,height:t}},e}(),aK=iK,sK=function(){function e(e){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=e.getZr(),cK(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return e.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized()},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(e,t,n,r,o){ue(e)&&qg(""),this.el&&this._zr.remove(this.el);var i=n.getModel("textStyle");this.el=new uu({style:{rich:t.richTextStyles,text:e,lineHeight:22,backgroundColor:n.get("backgroundColor"),borderRadius:n.get("borderRadius"),borderWidth:1,borderColor:r,shadowColor:n.get("shadowColor"),shadowBlur:n.get("shadowBlur"),shadowOffsetX:n.get("shadowOffsetX"),shadowOffsetY:n.get("shadowOffsetY"),textShadowColor:i.get("textShadowColor"),textShadowBlur:i.get("textShadowBlur")||0,textShadowOffsetX:i.get("textShadowOffsetX")||0,textShadowOffsetY:i.get("textShadowOffsetY")||0,fill:n.get(["textStyle","color"]),padding:Ev(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),this._zr.add(this.el);var a=this;this.el.on("mouseover",(function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0})),this.el.on("mouseout",(function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1}))},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),n=uK(e.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},e.prototype.moveTo=function(e,t){var n=this.el;if(n){var r=this._styleCoord;cK(r,this._zr,e,t),e=r[0],t=r[1];var o=n.style,i=lK(o.borderWidth||0),a=uK(o);n.x=e+i+a.left,n.y=t+i+a.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ne(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.getOuterSize=function(){var e=this.getSize();return{width:e[0],height:e[1]}},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function lK(e){return Math.max(0,e)}function uK(e){var t=lK(e.shadowBlur||0),n=lK(e.shadowOffsetX||0),r=lK(e.shadowOffsetY||0);return{left:lK(t-n),right:lK(t+n),top:lK(t-r),bottom:lK(t+r)}}function cK(e,t,n,r){e[0]=n,e[1]=r,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var dK=sK,fK=ne,pK=K,hK=ri,mK=new Kl({shape:{x:-1,y:-1,width:2,height:2}}),gK=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.init=function(e,t){if(!C.node){var n=e.getComponent("tooltip"),r=n.get("renderMode");this._renderMode=ra(r),this._tooltipContent="richText"===this._renderMode?new dK(t):new aK(t.getDom(),t,{appendToBody:n.get("appendToBody",!0)})}},t.prototype.render=function(e,t,n){if(!C.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._alwaysShowContent=e.get("alwaysShowContent");var r=this._tooltipContent;r.update(e),r.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel,t=e.get("triggerOn");B$("itemTooltip",this._api,fK((function(e,n,r){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,r):"leave"===e&&this._hide(r))}),this))},t.prototype._keepShow=function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&r.manuallyShowTip(e,t,n,{x:r._lastX,y:r._lastY,dataByCoordSys:r._lastDataByCoordSys})}))}},t.prototype.manuallyShowTip=function(e,t,n,r){if(r.from!==this.uid&&!C.node){var o=yK(r,n);this._ticket="";var i=r.dataByCoordSys;if(r.tooltip&&null!=r.x&&null!=r.y){var a=mK;a.x=r.x,a.y=r.y,a.update(),a.tooltip=r.tooltip,this._tryShow({offsetX:r.x,offsetY:r.y,target:a},o)}else if(i)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,dataByCoordSys:i,tooltipOption:r.tooltipOption},o);else if(null!=r.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,r))return;var s=G$(r,t),l=s.point[0],u=s.point[1];null!=l&&null!=u&&this._tryShow({offsetX:l,offsetY:u,position:r.position,target:s.el},o)}else null!=r.x&&null!=r.y&&(n.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:n.getZr().findHover(r.x,r.y).target},o))}},t.prototype.manuallyHideTip=function(e,t,n,r){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,r.from!==this.uid&&this._hide(yK(r,n))},t.prototype._manuallyAxisShowTip=function(e,t,n,r){var o=r.seriesIndex,i=r.dataIndex,a=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=i&&null!=a){var s=t.getSeriesByIndex(o);if(s){var l=s.getData(),u=vK([l.getItemModel(i),s,(s.coordinateSystem||{}).model,e]);if("axis"===u.get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:i,position:r.position}),!0}}},t.prototype._tryShow=function(e,t){var n=e.target,r=this._tooltipModel;if(r){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;o&&o.length?this._showAxisTooltip(o,e):n&&$b(n,(function(e){return null!=cu(e).dataIndex}),!0)?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,n,t)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,n,t)):(this._lastDataByCoordSys=null,this._hide(t))}},t.prototype._showOrMove=function(e,t){var n=e.get("showDelay");t=ne(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},t.prototype._showAxisTooltip=function(e,t){var n=this._ecModel,r=this._tooltipModel,o=[t.offsetX,t.offsetY],i=vK([t.tooltipOption,r]),a=this._renderMode,s=[],l=bv("section",{blocks:[],noHeader:!0}),u=[],c=new Av;pK(e,(function(e){pK(e.dataByAxis,(function(e){var t=n.getComponent(e.axisDim+"Axis",e.axisIndex),r=e.value;if(t&&null!=r){var o=C$(r,t.axis,n,e.seriesDataIndices,e.valueLabelOpt),i=bv("section",{header:o,noHeader:!Ce(o),sortBlocks:!0,blocks:[]});l.blocks.push(i),K(e.seriesDataIndices,(function(l){var d=n.getSeriesByIndex(l.seriesIndex),f=l.dataIndexInside,p=d.getDataParams(f);p.axisDim=e.axisDim,p.axisIndex=e.axisIndex,p.axisType=e.axisType,p.axisId=e.axisId,p.axisValue=ik(t.axis,{value:r}),p.axisValueLabel=o,p.marker=c.makeTooltipMarker("item",vh(p.color),a);var h=zg(d.formatTooltip(f,!0,null));h.markupFragment&&i.blocks.push(h.markupFragment),h.markupText&&u.push(h.markupText),s.push(p)}))}}))})),l.blocks.reverse(),u.reverse();var d=t.position,f=i.get("order"),p=Cv(l,c,a,f,n.get("useUTC"),i.get("textStyle"));p&&u.unshift(p);var h="richText"===a?"\n\n":"<br/>",m=u.join(h);this._showOrMove(i,(function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(i,d,o[0],o[1],this._tooltipContent,s):this._showTooltipContent(i,m,s,Math.random()+"",o[0],o[1],d,null,c)}))},t.prototype._showSeriesItemTooltip=function(e,t,n){var r=$b(t,(function(e){return null!=cu(e).dataIndex}),!0),o=this._ecModel,i=cu(r),a=i.seriesIndex,s=o.getSeriesByIndex(a),l=i.dataModel||s,u=i.dataIndex,c=i.dataType,d=l.getData(c),f=this._renderMode,p=vK([d.getItemModel(u),l,s&&(s.coordinateSystem||{}).model,this._tooltipModel]),h=p.get("trigger");if(null==h||"item"===h){var m=l.getDataParams(u,c),g=new Av;m.marker=g.makeTooltipMarker("item",vh(m.color),f);var v=zg(l.formatTooltip(u,!1,c)),y=p.get("order"),b=v.markupFragment?Cv(v.markupFragment,g,f,y,o.get("useUTC"),p.get("textStyle")):v.markupText,x="item_"+l.name+"_"+u;this._showOrMove(p,(function(){this._showTooltipContent(p,b,m,x,e.offsetX,e.offsetY,e.position,e.target,g)})),n({type:"showTip",dataIndexInside:u,dataIndex:d.getRawIndex(u),seriesIndex:a,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,t,n){var r=t.tooltip;if(ae(r)){var o=r;r={content:o,formatter:o}}var i=new sp(r,this._tooltipModel,this._ecModel),a=i.get("content"),s=Math.random()+"",l=new Av;this._showOrMove(i,(function(){this._showTooltipContent(i,a,i.get("formatterParams")||{},s,e.offsetX,e.offsetY,e.position,t,l)})),n({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,t,n,r,o,i,a,s,l){if(this._ticket="",e.get("showContent")&&e.get("show")){var u=this._tooltipContent,c=e.get("formatter");a=a||e.get("position");var d=t,f=this._getNearestPoint([o,i],n,e.get("trigger"),e.get("borderColor"));if(c&&ae(c)){var p=e.ecModel.get("useUTC"),h=oe(n)?n[0]:n,m=h&&h.axisType&&h.axisType.indexOf("time")>=0;d=c,m&&(d=Fp(h.axisValue,d,p)),d=fh(d,n,!0)}else if(ie(c)){var g=fK((function(t,r){t===this._ticket&&(u.setContent(r,l,e,f.color,a),this._updatePosition(e,a,o,i,u,n,s))}),this);this._ticket=r,d=c(n,r,g)}u.setContent(d,l,e,f.color,a),u.show(e,f.color),this._updatePosition(e,a,o,i,u,n,s)}},t.prototype._getNearestPoint=function(e,t,n,r){return"axis"===n||oe(t)?{color:r||("html"===this._renderMode?"#fff":"none")}:oe(t)?void 0:{color:r||t.color||t.borderColor}},t.prototype._updatePosition=function(e,t,n,r,o,i,a){var s=this._api.getWidth(),l=this._api.getHeight();t=t||e.get("position");var u=o.getSize(),c=e.get("align"),d=e.get("verticalAlign"),f=a&&a.getBoundingRect().clone();if(a&&f.applyTransform(a.transform),ie(t)&&(t=t([n,r],i,o.el,f,{viewSize:[s,l],contentSize:u.slice()})),oe(t))n=hK(t[0],s),r=hK(t[1],l);else if(ue(t)){var p=t;p.width=u[0],p.height=u[1];var h=kh(p,{width:s,height:l});n=h.x,r=h.y,c=null,d=null}else if(ae(t)&&a){var m=wK(t,f,u);n=m[0],r=m[1]}else{m=bK(n,r,o,s,l,c?null:20,d?null:20);n=m[0],r=m[1]}if(c&&(n-=_K(c)?u[0]/2:"right"===c?u[0]:0),d&&(r-=_K(d)?u[1]/2:"bottom"===d?u[1]:0),XY(e)){m=xK(n,r,o,s,l);n=m[0],r=m[1]}o.moveTo(n,r)},t.prototype._updateContentNotChangedOnAxis=function(e){var t=this._lastDataByCoordSys,n=!!t&&t.length===e.length;return n&&pK(t,(function(t,r){var o=t.dataByAxis||[],i=e[r]||{},a=i.dataByAxis||[];n=n&&o.length===a.length,n&&pK(o,(function(e,t){var r=a[t]||{},o=e.seriesDataIndices||[],i=r.seriesDataIndices||[];n=n&&e.value===r.value&&e.axisType===r.axisType&&e.axisId===r.axisId&&o.length===i.length,n&&pK(o,(function(e,t){var r=i[t];n=n&&e.seriesIndex===r.seriesIndex&&e.dataIndex===r.dataIndex}))}))})),this._lastDataByCoordSys=e,!!n},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,t){C.node||(this._tooltipContent.dispose(),$$("itemTooltip",t))},t.type="tooltip",t}(Yv);function vK(e){var t=e.pop();while(e.length){var n=e.pop();n&&(n instanceof sp&&(n=n.get("tooltip",!0)),ae(n)&&(n={formatter:n}),t=new sp(n,t,t.ecModel))}return t}function yK(e,t){return e.dispatchAction||ne(t.dispatchAction,t)}function bK(e,t,n,r,o,i,a){var s=n.getOuterSize(),l=s.width,u=s.height;return null!=i&&(e+l+i+2>r?e-=l+i:e+=i),null!=a&&(t+u+a>o?t-=u+a:t+=a),[e,t]}function xK(e,t,n,r,o){var i=n.getOuterSize(),a=i.width,s=i.height;return e=Math.min(e+a,r)-a,t=Math.min(t+s,o)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function wK(e,t,n){var r=n[0],o=n[1],i=10,a=5,s=0,l=0,u=t.width,c=t.height;switch(e){case"inside":s=t.x+u/2-r/2,l=t.y+c/2-o/2;break;case"top":s=t.x+u/2-r/2,l=t.y-o-i;break;case"bottom":s=t.x+u/2-r/2,l=t.y+c+i;break;case"left":s=t.x-r-i-a,l=t.y+c/2-o/2;break;case"right":s=t.x+u+i+a,l=t.y+c/2-o/2}return[s,l]}function _K(e){return"center"===e||"middle"===e}var CK=gK;function SK(e){U_(aq),e.registerComponentModel(KY),e.registerComponentView(CK),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))}var kK=["rect","polygon","keep","clear"];function OK(e,t){var n=Ti(e?e.brush:[]);if(n.length){var r=[];K(n,(function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];t instanceof Array&&(r=r.concat(t))}));var o=e&&e.toolbox;oe(o)&&(o=o[0]),o||(o={feature:{}},e.toolbox=[o]);var i=o.feature||(o.feature={}),a=i.brush||(i.brush={}),s=a.type||(a.type=[]);s.push.apply(s,r),TK(s),t&&!s.length&&s.push.apply(s,kK)}}function TK(e){var t={};K(e,(function(e){t[e]=1})),e.length=0,K(t,(function(t,n){e.push(n)}))}var MK=K;function DK(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function IK(e,t,n){var r={};return MK(t,(function(t){var i=r[t]=o();MK(e[t],(function(e,r){if(vj.isValidType(r)){var o={type:r,visual:e};n&&n(o,t),i[r]=new vj(o),"opacity"===r&&(o=F(o),o.type="colorAlpha",i.__hidden.__alphaForOpacity=new vj(o))}}))})),r;function o(){var e=function(){};e.prototype.__hidden=e.prototype;var t=new e;return t}}function EK(e,t,n){var r;K(n,(function(e){t.hasOwnProperty(e)&&DK(t[e])&&(r=!0)})),r&&K(n,(function(n){t.hasOwnProperty(n)&&DK(t[n])?e[n]=F(t[n]):delete e[n]}))}function AK(e,t,n,r,o,i){var a,s={};function l(e){return Qy(n,a,e)}function u(e,t){tb(n,a,e,t)}function c(e,c){a=null==i?e:c;var d=n.getRawDataItem(a);if(!d||!1!==d.visualMap)for(var f=r.call(o,e),p=t[f],h=s[f],m=0,g=h.length;m<g;m++){var v=h[m];p[v]&&p[v].applyVisual(e,l,u)}}K(e,(function(e){var n=vj.prepareVisualTypes(t[e]);s[e]=n})),null==i?n.each(c):n.each([i],c)}function LK(e,t,n,r){var o={};return K(e,(function(e){var n=vj.prepareVisualTypes(t[e]);o[e]=n})),{progress:function(e,i){var a,s;function l(e){return Qy(i,s,e)}function u(e,t){tb(i,s,e,t)}null!=r&&(a=i.getDimension(r));while(null!=(s=e.next())){var c=i.getRawDataItem(s);if(!c||!1!==c.visualMap)for(var d=null!=r?i.get(a,s):s,f=n(d),p=t[f],h=o[f],m=0,g=h.length;m<g;m++){var v=h[m];p[v]&&p[v].applyVisual(d,l,u)}}}}}function jK(e){var t=e.brushType,n={point:function(r){return NK[t].point(r,n,e)},rect:function(r){return NK[t].rect(r,n,e)}};return n}var NK={lineX:PK(0),lineY:PK(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&xk(n.range,e[0],e[1])},rect:function(e,t,n){var r=n.range;if(!e||r.length<=1)return!1;var o=e.x,i=e.y,a=e.width,s=e.height,l=r[0];return!!(xk(r,o,i)||xk(r,o+a,i)||xk(r,o,i+s)||xk(r,o+a,i+s)||Cr.create(e).contain(l[0],l[1])||Df(o,i,o+a,i,r)||Df(o,i,o,i+s,r)||Df(o+a,i,o+a,i+s,r)||Df(o,i+s,o+a,i+s,r))||void 0}}};function PK(e){var t=["x","y"],n=["width","height"];return{point:function(t,n,r){if(t){var o=r.range,i=t[e];return RK(i,o)}},rect:function(r,o,i){if(r){var a=i.range,s=[r[t[e]],r[t[e]]+r[n[e]]];return s[1]<s[0]&&s.reverse(),RK(s[0],a)||RK(s[1],a)||RK(a[0],s)||RK(a[1],s)}}}}function RK(e,t){return t[0]<=e&&e<=t[1]}var BK=["inBrush","outOfBrush"],FK="__ecBrushSelect",zK="__ecInBrushSelectEvent";function VK(e){e.eachComponent({mainType:"brush"},(function(t){var n=t.brushTargetManager=new BY(t.option,e);n.setInputRanges(t.areas,e)}))}function HK(e,t,n){var r,o,i=[];e.eachComponent({mainType:"brush"},(function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})})),VK(e),e.eachComponent({mainType:"brush"},(function(t,n){var a={brushId:t.id,brushIndex:n,brushName:t.name,areas:F(t.areas),selected:[]};i.push(a);var s=t.option,l=s.brushLink,u=[],c=[],d=[],f=!1;n||(r=s.throttleType,o=s.throttleDelay);var p=X(t.areas,(function(e){var t=GK[e.brushType],n=U({boundingRect:t?t(e):void 0},e);return n.selectors=jK(n),n})),h=IK(t.option,BK,(function(e){e.mappingMethod="fixed"}));function m(e){return"all"===l||!!u[e]}function g(e){return!!e.length}function v(e,t){var n=e.coordinateSystem;f=f||n.hasAxisBrushed(),m(t)&&n.eachActiveState(e.getData(),(function(e,t){"active"===e&&(c[t]=1)}))}function y(n,r,o){if(n.brushSelector&&!WK(t,r)&&(K(p,(function(r){t.brushTargetManager.controlSeries(r,n,e)&&o.push(r),f=f||g(o)})),m(r)&&g(o))){var i=n.getData();i.each((function(e){qK(n,o,i,e)&&(c[e]=1)}))}}oe(l)&&K(l,(function(e){u[e]=1})),e.eachSeries((function(e,t){var n=d[t]=[];"parallel"===e.subType?v(e,t):y(e,t,n)})),e.eachSeries((function(e,t){var n={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};a.selected.push(n);var r=d[t],o=e.getData(),i=m(t)?function(e){return c[e]?(n.dataIndex.push(o.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(t){return qK(e,r,o,t)?(n.dataIndex.push(o.getRawIndex(t)),"inBrush"):"outOfBrush"};(m(t)?f:g(r))&&AK(BK,h,o,i)}))})),UK(t,r,o,i,n)}function UK(e,t,n,r,o){if(o){var i=e.getZr();if(!i[zK]){i[FK]||(i[FK]=$K);var a=uy(i,FK,n,t);a(e,r)}}}function $K(e,t){if(!e.isDisposed()){var n=e.getZr();n[zK]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[zK]=!1}}function qK(e,t,n,r){for(var o=0,i=t.length;o<i;o++){var a=t[o];if(e.brushSelector(r,n,a.selectors,a))return!0}}function WK(e,t){var n=e.option.seriesIndex;return null!=n&&"all"!==n&&(oe(n)?q(n,t)<0:t!==n)}var GK={rect:function(e){return YK(e.range)},polygon:function(e){for(var t,n=e.range,r=0,o=n.length;r<o;r++){t=t||[[1/0,-1/0],[1/0,-1/0]];var i=n[r];i[0]<t[0][0]&&(t[0][0]=i[0]),i[0]>t[0][1]&&(t[0][1]=i[0]),i[1]<t[1][0]&&(t[1][0]=i[1]),i[1]>t[1][1]&&(t[1][1]=i[1])}return t&&YK(t)}};function YK(e){return new Cr(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var KK=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t,this.model,(this._brushController=new SB(t.getZr())).on("brush",ne(this._onBrush,this)).mount()},t.prototype.render=function(e,t,n,r){this.model=e,this._updateController(e,t,n,r)},t.prototype.updateTransform=function(e,t,n,r){VK(t),this._updateController(e,t,n,r)},t.prototype.updateVisual=function(e,t,n,r){this.updateTransform(e,t,n,r)},t.prototype.updateView=function(e,t,n,r){this._updateController(e,t,n,r)},t.prototype._updateController=function(e,t,n,r){(!r||r.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var t=this.model.id,n=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:t,areas:F(n),$from:t}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:t,areas:F(n),$from:t})},t.type="brush",t}(Yv),XK=KK,JK="#ddd",ZK=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.areas=[],n.brushOption={},n}return g(t,e),t.prototype.optionUpdated=function(e,t){var n=this.option;!t&&EK(n,e,["inBrush","outOfBrush"]);var r=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:JK},r.hasOwnProperty("liftZ")||(r.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=X(e,(function(e){return QK(this.option,e)}),this))},t.prototype.setBrushOption=function(e){this.brushOption=QK(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(Nh);function QK(e,t){return z({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new sp(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var eX=ZK,tX=["rect","polygon","lineX","lineY","keep","clear"],nX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.render=function(e,t,n){var r,o,i;t.eachComponent({mainType:"brush"},(function(e){r=e.brushType,o=e.brushOption.brushMode||"single",i=i||!!e.areas.length})),this._brushType=r,this._brushMode=o,K(e.get("type",!0),(function(t){e.setIconStatus(t,("keep"===t?"multiple"===o:"clear"===t?i:t===r)?"emphasis":"normal")}))},t.prototype.updateView=function(e,t,n){this.render(e,t,n)},t.prototype.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return K(e.get("type",!0),(function(e){t[e]&&(n[e]=t[e])})),n},t.prototype.onclick=function(e,t,n){var r=this._brushType,o=this._brushMode;"clear"===n?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?r:r!==n&&n,brushMode:"keep"===n?"multiple"===o?"single":"multiple":o}})},t.getDefaultOption=function(e){var t={show:!0,type:tX.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocale(["toolbox","brush","title"])};return t},t}(PG),rX=nX;function oX(e){e.registerComponentView(XK),e.registerComponentModel(eX),e.registerPreprocessor(OK),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,HK),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(e,t){t.eachComponent({mainType:"brush",query:e},(function(t){t.setAreas(e.areas)}))})),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},(function(){})),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},(function(){})),BG("brush",rX)}var iX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return g(t,e),t.type="title",t.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Nh),aX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.render=function(e,t,n){if(this.group.removeAll(),e.get("show")){var r=this.group,o=e.getModel("textStyle"),i=e.getModel("subtextStyle"),a=e.get("textAlign"),s=ye(e.get("textBaseline"),e.get("textVerticalAlign")),l=new uu({style:Bf(o,{text:e.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),c=e.get("subtext"),d=new uu({style:Bf(i,{text:c,fill:i.getTextColor(),y:u.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),f=e.get("link"),p=e.get("sublink"),h=e.get("triggerEvent",!0);l.silent=!f&&!h,d.silent=!p&&!h,f&&l.on("click",(function(){yh(f,"_"+e.get("target"))})),p&&d.on("click",(function(){yh(p,"_"+e.get("subtarget"))})),cu(l).eventData=cu(d).eventData=h?{componentType:"title",componentIndex:e.componentIndex}:null,r.add(l),c&&r.add(d);var m=r.getBoundingRect(),g=e.getBoxLayoutParams();g.width=m.width,g.height=m.height;var v=kh(g,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));a||(a=e.get("left")||e.get("right"),"middle"===a&&(a="center"),"right"===a?v.x+=v.width:"center"===a&&(v.x+=v.width/2)),s||(s=e.get("top")||e.get("bottom"),"center"===s&&(s="middle"),"bottom"===s?v.y+=v.height:"middle"===s&&(v.y+=v.height/2),s=s||"top"),r.x=v.x,r.y=v.y,r.markRedraw();var y={align:a,verticalAlign:s};l.setStyle(y),d.setStyle(y),m=r.getBoundingRect();var b=v.margin,x=e.getItemStyle(["color","opacity"]);x.fill=e.get("backgroundColor");var w=new Kl({shape:{x:m.x-b[3],y:m.y-b[0],width:m.width+b[1]+b[3],height:m.height+b[0]+b[2],r:e.get("borderRadius")},style:x,subPixelOptimize:!0,silent:!0});r.add(w)}},t.type="title",t}(Yv);function sX(e){e.registerComponentModel(iX),e.registerComponentView(aX)}var lX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode="box",n}return g(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),this._initData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,t=this.option,n=t.data||[],r=t.axisType,o=this._names=[];"category"===r?(e=[],K(n,(function(t,n){var r,i=Vi(Ii(t),"");ue(t)?(r=F(t),r.value=n):r=n,e.push(r),o.push(i)}))):e=n;var i={category:"ordinal",time:"time",value:"number"}[r]||"number",a=this._data=new TC([{name:"value",type:i}],this);a.initData(e,o)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(Nh),uX=lX,cX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.type="timeline.slider",t.defaultOption=fp(uX.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(uX);G(cX,Fg.prototype);var dX=cX,fX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.type="timeline",t}(Yv),pX=fX,hX=function(e){function t(t,n,r,o){var i=e.call(this,t,n,r)||this;return i.type=o||"value",i}return g(t,e),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(Wk),mX=hX,gX=Math.PI,vX=Ki(),yX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.init=function(e,t){this.api=t},t.prototype.render=function(e,t,n){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var r=this._layout(e,n),o=this._createGroup("_mainGroup"),i=this._createGroup("_labelGroup"),a=this._axis=this._createAxis(r,e);e.formatTooltip=function(e){var t=a.scale.getLabel({value:e});return bv("nameValue",{noName:!0,value:t})},K(["AxisLine","AxisTick","Control","CurrentPointer"],(function(t){this["_render"+t](r,o,a,e)}),this),this._renderAxisLabel(r,i,a,e),this._position(r,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,t){var n,r=e.get(["label","position"]),o=e.get("orient"),i=xX(e,t);n=null==r||"auto"===r?"horizontal"===o?i.y+i.height/2<t.getHeight()/2?"-":"+":i.x+i.width/2<t.getWidth()/2?"+":"-":ae(r)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][r]:r;var a,s,l,u={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},c={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},d={horizontal:0,vertical:gX/2},f="vertical"===o?i.height:i.width,p=e.getModel("controlStyle"),h=p.get("show",!0),m=h?p.get("itemSize"):0,g=h?p.get("itemGap"):0,v=m+g,y=e.get(["label","rotate"])||0;y=y*gX/180;var b=p.get("position",!0),x=h&&p.get("showPlayBtn",!0),w=h&&p.get("showPrevBtn",!0),_=h&&p.get("showNextBtn",!0),C=0,S=f;"left"===b||"bottom"===b?(x&&(a=[0,0],C+=v),w&&(s=[C,0],C+=v),_&&(l=[S-m,0],S-=v)):(x&&(a=[S-m,0],S-=v),w&&(s=[0,0],C+=v),_&&(l=[S-m,0],S-=v));var k=[C,S];return e.get("inverse")&&k.reverse(),{viewRect:i,mainLength:f,orient:o,rotation:d[o],labelRotation:y,labelPosOpt:n,labelAlign:e.get(["label","align"])||u[o],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||c[o],playPosition:a,prevBtnPosition:s,nextBtnPosition:l,axisExtent:k,controlSize:m,controlGap:g}},t.prototype._position=function(e,t){var n=this._mainGroup,r=this._labelGroup,o=e.viewRect;if("vertical"===e.orient){var i=qt(),a=o.x,s=o.y+o.height;Kt(i,i,[-a,-s]),Xt(i,i,-gX/2),Kt(i,i,[a,s]),o=o.clone(),o.applyTransform(i)}var l=g(o),u=g(n.getBoundingRect()),c=g(r.getBoundingRect()),d=[n.x,n.y],f=[r.x,r.y];f[0]=d[0]=l[0][0];var p=e.labelPosOpt;if(null==p||ae(p)){var h="+"===p?0:1;v(d,u,l,1,h),v(f,c,l,1,1-h)}else{h=p>=0?0:1;v(d,u,l,1,h),f[1]=d[1]+p}function m(e){e.originX=l[0][0]-e.x,e.originY=l[1][0]-e.y}function g(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function v(e,t,n,r,o){e[r]+=n[r][o]-t[r][o]}n.setPosition(d),r.setPosition(f),n.rotation=r.rotation=e.rotation,m(n),m(r)},t.prototype._createAxis=function(e,t){var n=t.getData(),r=t.get("axisType"),o=bX(t,r);o.getTicks=function(){return n.mapArray(["value"],(function(e){return{value:e}}))};var i=n.getDataExtent("value");o.setExtent(i[0],i[1]),o.niceTicks();var a=new mX("value",o,e.axisExtent,r);return a.model=t,a},t.prototype._createGroup=function(e){var t=this[e]=new Vo;return this.group.add(t),t},t.prototype._renderAxisLine=function(e,t,n,r){var o=n.getExtent();if(r.get(["lineStyle","show"])){var i=new Sd({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:H({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});t.add(i);var a=this._progressLine=new Sd({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:U({lineCap:"round",lineWidth:i.style.lineWidth},r.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});t.add(a)}},t.prototype._renderAxisTick=function(e,t,n,r){var o=this,i=r.getData(),a=n.scale.getTicks();this._tickSymbols=[],K(a,(function(e){var a=n.dataToCoord(e.value),s=i.getItemModel(e.value),l=s.getModel("itemStyle"),u=s.getModel(["emphasis","itemStyle"]),c=s.getModel(["progress","itemStyle"]),d={x:a,y:0,onclick:ne(o._changeTimeline,o,e.value)},f=_X(s,l,t,d);f.ensureState("emphasis").style=u.getItemStyle(),f.ensureState("progress").style=c.getItemStyle(),ac(f);var p=cu(f);s.get("tooltip")?(p.dataIndex=e.value,p.dataModel=r):p.dataIndex=p.dataModel=null,o._tickSymbols.push(f)}))},t.prototype._renderAxisLabel=function(e,t,n,r){var o=this,i=n.getLabelModel();if(i.get("show")){var a=r.getData(),s=n.getViewLabels();this._tickLabels=[],K(s,(function(r){var i=r.tickValue,s=a.getItemModel(i),l=s.getModel("label"),u=s.getModel(["emphasis","label"]),c=s.getModel(["progress","label"]),d=n.dataToCoord(r.tickValue),f=new uu({x:d,y:0,rotation:e.labelRotation-e.rotation,onclick:ne(o._changeTimeline,o,i),silent:!1,style:Bf(l,{text:r.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});f.ensureState("emphasis").style=Bf(u),f.ensureState("progress").style=Bf(c),t.add(f),ac(f),vX(f).dataIndex=i,o._tickLabels.push(f)}))}},t.prototype._renderControl=function(e,t,n,r){var o=e.controlSize,i=e.rotation,a=r.getModel("controlStyle").getItemStyle(),s=r.getModel(["emphasis","controlStyle"]).getItemStyle(),l=r.getPlayState(),u=r.get("inverse",!0);function c(e,n,l,u){if(e){var c=jr(ye(r.get(["controlStyle",n+"BtnSize"]),o),o),d=[0,-c/2,c,c],f={position:e,origin:[o/2,0],rotation:u?-i:0,rectHover:!0,style:a,onclick:l},p=wX(r,n+"Icon",d,f);p.ensureState("emphasis").style=s,t.add(p),ac(p)}}c(e.nextBtnPosition,"next",ne(this._changeTimeline,this,u?"-":"+")),c(e.prevBtnPosition,"prev",ne(this._changeTimeline,this,u?"+":"-")),c(e.playPosition,l?"stop":"play",ne(this._handlePlayClick,this,!l),!0)},t.prototype._renderCurrentPointer=function(e,t,n,r){var o=r.getData(),i=r.getCurrentIndex(),a=o.getItemModel(i).getModel("checkpointStyle"),s=this,l={onCreate:function(e){e.draggable=!0,e.drift=ne(s._handlePointerDrag,s),e.ondragend=ne(s._handlePointerDragend,s),CX(e,s._progressLine,i,n,r,!0)},onUpdate:function(e){CX(e,s._progressLine,i,n,r)}};this._currentPointer=_X(a,a,this._mainGroup,{},this._currentPointer,l)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,t){var n=this._toAxisCoord(e)[0],r=this._axis,o=ii(r.getExtent().slice());n>o[1]&&(n=o[1]),n<o[0]&&(n=o[0]),this._currentPointer.x=n,this._currentPointer.markRedraw(),this._progressLine.shape.x2=n,this._progressLine.dirty();var i=this._findNearestTick(n),a=this.model;(t||i!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(i)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var t=e.model;e._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){var t=this._mainGroup.getLocalTransform();return wf(e,t,!0)},t.prototype._findNearestTick=function(e){var t,n=this.model.getData(),r=1/0,o=this._axis;return n.each(["value"],(function(n,i){var a=o.dataToCoord(n),s=Math.abs(a-e);s<r&&(r=s,t=i)})),t},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),t=this._tickSymbols,n=this._tickLabels;if(t)for(var r=0;r<t.length;r++)t&&t[r]&&t[r].toggleState("progress",r<e);if(n)for(r=0;r<n.length;r++)n&&n[r]&&n[r].toggleState("progress",vX(n[r]).dataIndex<=e)},t.type="timeline.slider",t}(pX);function bX(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new oS({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new NS({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new sS}}function xX(e,t){return kh(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function wX(e,t,n,r){var o=r.style,i=Mf(e.get(["controlStyle",t]),r||{},new Cr(n[0],n[1],n[2],n[3]));return o&&i.setStyle(o),i}function _X(e,t,n,r,o,i){var a=t.get("color");if(o)o.setColor(a),n.add(o),i&&i.onUpdate(o);else{var s=e.get("symbol");o=rx(s,-1,-1,2,2,a),o.setStyle("strokeNoScale",!0),n.add(o),i&&i.onCreate(o)}var l=t.getItemStyle(["color"]);o.setStyle(l),r=z({rectHover:!0,z2:100},r,!0);var u=e.get("symbolSize");u=u instanceof Array?u.slice():[+u,+u],r.scaleX=u[0]/2,r.scaleY=u[1]/2;var c=e.get("symbolOffset");c&&(r.x=r.x||0,r.y=r.y||0,r.x+=ri(c[0],u[0]),r.y+=ri(c[1],u[1]));var d=e.get("symbolRotate");return r.rotation=(d||0)*Math.PI/180||0,o.attr(r),o.updateTransform(),o}function CX(e,t,n,r,o,i){if(!e.dragging){var a=o.getModel("checkpointStyle"),s=r.dataToCoord(o.getData().get("value",n));if(i||!a.get("animation",!0))e.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}var SX=yX;function kX(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(e,t){var n=t.getComponent("timeline");return n&&null!=e.currentIndex&&(n.setCurrentIndex(e.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),t.resetOption("timeline",{replaceMerge:n.get("replaceMerge",!0)}),U({currentIndex:n.option.currentIndex},e)})),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(e,t){var n=t.getComponent("timeline");n&&null!=e.playState&&n.setPlayState(e.playState)}))}function OX(e){var t=e&&e.timeline;oe(t)||(t=t?[t]:[]),K(t,(function(e){e&&TX(e)}))}function TX(e){var t=e.type,n={number:"value",time:"time"};if(n[t]&&(e.axisType=n[t],delete e.type),MX(e),DX(e,"controlPosition")){var r=e.controlStyle||(e.controlStyle={});DX(r,"position")||(r.position=e.controlPosition),"none"!==r.position||DX(r,"show")||(r.show=!1,delete r.position),delete e.controlPosition}K(e.data||[],(function(e){ue(e)&&!oe(e)&&(!DX(e,"value")&&DX(e,"name")&&(e.value=e.name),MX(e))}))}function MX(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),r=e.label||e.label||{},o=r.normal||(r.normal={}),i={normal:1,emphasis:1};K(r,(function(e,t){i[t]||DX(o,t)||(o[t]=e)})),n.label&&!DX(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function DX(e,t){return e.hasOwnProperty(t)}function IX(e){e.registerComponentModel(dX),e.registerComponentView(SX),e.registerSubTypeDefaulter("timeline",(function(){return"slider"})),kX(e),e.registerPreprocessor(OX)}function EX(e){Mi(e,"label",["show"])}var AX=Ki(),LX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.createdBySelf=!1,n}return g(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),this._mergeOption(e,n,!1,!0)},t.prototype.isAnimationEnabled=function(){if(C.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,t){this._mergeOption(e,t,!1,!1)},t.prototype._mergeOption=function(e,t,n,r){var o=this.mainType;n||t.eachSeries((function(e){var n=e.get(this.mainType,!0),i=AX(e)[o];n&&n.data?(i?i._mergeOption(n,t,!0):(r&&EX(n),K(n.data,(function(e){e instanceof Array?(EX(e[0]),EX(e[1])):EX(e)})),i=this.createMarkerModelFromSeries(n,this,t),H(i,{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),i.__hostSeries=e),AX(e)[o]=i):AX(e)[o]=null}),this)},t.prototype.formatTooltip=function(e,t,n){var r=this.getData(),o=this.getRawValue(e),i=r.getName(e);return bv("section",{header:this.name,blocks:[bv("nameValue",{name:i,value:o,noName:!i,noValue:null==o})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,t){return AX(e)[t]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Nh);G(LX,Fg.prototype);var jX=LX,NX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markPoint",t.defaultOption={zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(jX),PX=NX;function RX(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function BX(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function FX(e,t,n,r,o,i){var a=[],s=BC(t,r),l=s?t.getCalculationInfo("stackResultDimension"):r,u=WX(t,l,e),c=t.indicesOfNearest(l,u)[0];a[o]=t.get(n,c),a[i]=t.get(l,c);var d=t.get(r,c),f=ai(t.get(r,c));return f=Math.min(f,20),f>=0&&(a[i]=+a[i].toFixed(f)),[a,d]}var zX={min:re(FX,"min"),max:re(FX,"max"),average:re(FX,"average"),median:re(FX,"median")};function VX(e,t){var n=e.getData(),r=e.coordinateSystem;if(t&&!BX(t)&&!oe(t.coord)&&r){var o=r.dimensions,i=HX(t,n,r,e);if(t=F(t),t.type&&zX[t.type]&&i.baseAxis&&i.valueAxis){var a=q(o,i.baseAxis.dim),s=q(o,i.valueAxis.dim),l=zX[t.type](n,i.baseDataDim,i.valueDataDim,a,s);t.coord=l[0],t.value=l[1]}else{for(var u=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],c=0;c<2;c++)zX[u[c]]&&(u[c]=WX(n,n.mapDimension(o[c]),u[c]));t.coord=u}}return t}function HX(e,t,n,r){var o={};return null!=e.valueIndex||null!=e.valueDim?(o.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,o.valueAxis=n.getAxis(UX(r,o.valueDataDim)),o.baseAxis=n.getOtherAxis(o.valueAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim)):(o.baseAxis=r.getBaseAxis(),o.valueAxis=n.getOtherAxis(o.baseAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim),o.valueDataDim=t.mapDimension(o.valueAxis.dim)),o}function UX(e,t){var n=e.getData(),r=n.dimensions;t=n.getDimension(t);for(var o=0;o<r.length;o++){var i=n.getDimensionInfo(r[o]);if(i.name===t)return i.coordDim}}function $X(e,t){return!(e&&e.containData&&t.coord&&!RX(t))||e.containData(t.coord)}function qX(e,t,n,r){return r<2?e.coord&&e.coord[r]:e.value}function WX(e,t,n){if("average"===n){var r=0,o=0;return e.each(t,(function(e,t){isNaN(e)||(r+=e,o++)})),r/o}return"median"===n?e.getMedian(t):e.getDataExtent(t)["max"===n?1:0]}var GX=Ki(),YX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.init=function(){this.markerGroupMap=Me()},t.prototype.render=function(e,t,n){var r=this,o=this.markerGroupMap;o.each((function(e){GX(e).keep=!1})),t.eachSeries((function(e){var o=jX.getMarkerModelFromSeries(e,r.type);o&&r.renderSeries(e,o,t,n)})),o.each((function(e){!GX(e).keep&&r.group.remove(e.group)}))},t.prototype.markKeep=function(e){GX(e).keep=!0},t.prototype.blurSeries=function(e){var t=this;K(e,(function(e){var n=jX.getMarkerModelFromSeries(e,t.type);if(n){var r=n.getData();r.eachItemGraphicEl((function(e){e&&Ku(e)}))}}))},t.type="marker",t}(Yv),KX=YX;function XX(e,t,n){var r=t.coordinateSystem;e.each((function(o){var i,a=e.getItemModel(o),s=ri(a.get("x"),n.getWidth()),l=ri(a.get("y"),n.getHeight());if(isNaN(s)||isNaN(l)){if(t.getMarkerPosition)i=t.getMarkerPosition(e.getValues(e.dimensions,o));else if(r){var u=e.get(r.dimensions[0],o),c=e.get(r.dimensions[1],o);i=r.dataToPoint([u,c])}}else i=[s,l];isNaN(s)||(i[0]=s),isNaN(l)||(i[1]=l),e.setItemLayout(o,i)}))}var JX=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=jX.getMarkerModelFromSeries(e,"markPoint");t&&(XX(t.getData(),e,n),this.markerGroupMap.get(e.id).updateLayout())}),this)},t.prototype.renderSeries=function(e,t,n,r){var o=e.coordinateSystem,i=e.id,a=e.getData(),s=this.markerGroupMap,l=s.get(i)||s.set(i,new AT),u=ZX(o,e,t);t.setData(u),XX(t.getData(),e,r),u.each((function(e){var n=u.getItemModel(e),r=n.getShallow("symbol"),o=n.getShallow("symbolSize"),i=n.getShallow("symbolRotate");if(ie(r)||ie(o)||ie(i)){var s=t.getRawValue(e),l=t.getDataParams(e);ie(r)&&(r=r(s,l)),ie(o)&&(o=o(s,l)),ie(i)&&(i=i(s,l))}var c=n.getModel("itemStyle").getItemStyle(),d=eb(a,"color");c.fill||(c.fill=d),u.setItemVisual(e,{symbol:r,symbolSize:o,symbolRotate:i,style:c})})),l.updateData(u),this.group.add(l.group),u.eachItemGraphicEl((function(e){e.traverse((function(e){cu(e).dataModel=t}))})),this.markKeep(l),l.group.silent=t.get("silent")||e.get("silent")},t.type="markPoint",t}(KX);function ZX(e,t,n){var r;r=e?X(e&&e.dimensions,(function(e){var n=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return U({name:e},n)})):[{name:"value",type:"float"}];var o=new TC(r,n),i=X(n.get("data"),re(VX,t));return e&&(i=Z(i,re($X,e))),o.initData(i,null,e?qX:function(e){return e.value}),o}var QX=JX;function eJ(e){e.registerComponentModel(PX),e.registerComponentView(QX),e.registerPreprocessor((function(e){e.markPoint=e.markPoint||{}}))}var tJ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markLine",t.defaultOption={zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(jX),nJ=tJ,rJ=Ki(),oJ=function(e,t,n,r){var o,i=e.getData();if(oe(r))o=r;else{var a=r.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=r.xAxis||null!=r.yAxis){var s=void 0,l=void 0;if(null!=r.yAxis||null!=r.xAxis)s=t.getAxis(null!=r.yAxis?"y":"x"),l=ve(r.yAxis,r.xAxis);else{var u=HX(r,i,t,e);s=u.valueAxis;var c=FC(i,u.valueDataDim);l=WX(i,c,a)}var d="x"===s.dim?0:1,f=1-d,p=F(r),h={coord:[]};p.type=null,p.coord=[],p.coord[f]=-1/0,h.coord[f]=1/0;var m=n.get("precision");m>=0&&"number"===typeof l&&(l=+l.toFixed(Math.min(m,20))),p.coord[d]=h.coord[d]=l,o=[p,h,{type:a,valueIndex:r.valueIndex,value:l}]}else o=[]}var g=[VX(e,o[0]),VX(e,o[1]),H({},o[2])];return g[2].type=g[2].type||null,z(g[2],g[0]),z(g[2],g[1]),g};function iJ(e){return!isNaN(e)&&!isFinite(e)}function aJ(e,t,n,r){var o=1-e,i=r.dimensions[e];return iJ(t[o])&&iJ(n[o])&&t[e]===n[e]&&r.getAxis(i).containData(t[e])}function sJ(e,t){if("cartesian2d"===e.type){var n=t[0].coord,r=t[1].coord;if(n&&r&&(aJ(1,n,r,e)||aJ(0,n,r,e)))return!0}return $X(e,t[0])&&$X(e,t[1])}function lJ(e,t,n,r,o){var i,a=r.coordinateSystem,s=e.getItemModel(t),l=ri(s.get("x"),o.getWidth()),u=ri(s.get("y"),o.getHeight());if(isNaN(l)||isNaN(u)){if(r.getMarkerPosition)i=r.getMarkerPosition(e.getValues(e.dimensions,t));else{var c=a.dimensions,d=e.get(c[0],t),f=e.get(c[1],t);i=a.dataToPoint([d,f])}if(ZT(a,"cartesian2d")){var p=a.getAxis("x"),h=a.getAxis("y");c=a.dimensions;iJ(e.get(c[0],t))?i[0]=p.toGlobalCoord(p.getExtent()[n?0:1]):iJ(e.get(c[1],t))&&(i[1]=h.toGlobalCoord(h.getExtent()[n?0:1]))}isNaN(l)||(i[0]=l),isNaN(u)||(i[1]=u)}else i=[l,u];e.setItemLayout(t,i)}var uJ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=jX.getMarkerModelFromSeries(e,"markLine");if(t){var r=t.getData(),o=rJ(t).from,i=rJ(t).to;o.each((function(t){lJ(o,t,!0,e,n),lJ(i,t,!1,e,n)})),r.each((function(e){r.setItemLayout(e,[o.getItemLayout(e),i.getItemLayout(e)])})),this.markerGroupMap.get(e.id).updateLayout()}}),this)},t.prototype.renderSeries=function(e,t,n,r){var o=e.coordinateSystem,i=e.id,a=e.getData(),s=this.markerGroupMap,l=s.get(i)||s.set(i,new $N);this.group.add(l.group);var u=cJ(o,e,t),c=u.from,d=u.to,f=u.line;rJ(t).from=c,rJ(t).to=d,t.setData(f);var p=t.get("symbol"),h=t.get("symbolSize");function m(t,n,o){var i=t.getItemModel(n);lJ(t,n,o,e,r);var s=i.getModel("itemStyle").getItemStyle();null==s.fill&&(s.fill=eb(a,"color")),t.setItemVisual(n,{symbolRotate:i.get("symbolRotate"),symbolSize:i.get("symbolSize")||h[o?0:1],symbol:i.get("symbol",!0)||p[o?0:1],style:s})}oe(p)||(p=[p,p]),oe(h)||(h=[h,h]),u.from.each((function(e){m(c,e,!0),m(d,e,!1)})),f.each((function(e){var t=f.getItemModel(e).getModel("lineStyle").getLineStyle();f.setItemLayout(e,[c.getItemLayout(e),d.getItemLayout(e)]),null==t.stroke&&(t.stroke=c.getItemVisual(e,"style").fill),f.setItemVisual(e,{fromSymbolRotate:c.getItemVisual(e,"symbolRotate"),fromSymbolSize:c.getItemVisual(e,"symbolSize"),fromSymbol:c.getItemVisual(e,"symbol"),toSymbolRotate:d.getItemVisual(e,"symbolRotate"),toSymbolSize:d.getItemVisual(e,"symbolSize"),toSymbol:d.getItemVisual(e,"symbol"),style:t})})),l.updateData(f),u.line.eachItemGraphicEl((function(e,n){e.traverse((function(e){cu(e).dataModel=t}))})),this.markKeep(l),l.group.silent=t.get("silent")||e.get("silent")},t.type="markLine",t}(KX);function cJ(e,t,n){var r;r=e?X(e&&e.dimensions,(function(e){var n=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return U({name:e},n)})):[{name:"value",type:"float"}];var o=new TC(r,n),i=new TC(r,n),a=new TC([],n),s=X(n.get("data"),re(oJ,t,e,n));e&&(s=Z(s,re(sJ,e)));var l=e?qX:function(e){return e.value};return o.initData(X(s,(function(e){return e[0]})),null,l),i.initData(X(s,(function(e){return e[1]})),null,l),a.initData(X(s,(function(e){return e[2]}))),a.hasItemOption=!0,{from:o,to:i,line:a}}var dJ=uJ;function fJ(e){e.registerComponentModel(nJ),e.registerComponentView(dJ),e.registerPreprocessor((function(e){e.markLine=e.markLine||{}}))}var pJ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,r){return new t(e,n,r)},t.type="markArea",t.defaultOption={zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(jX),hJ=pJ,mJ=Ki(),gJ=function(e,t,n,r){var o=VX(e,r[0]),i=VX(e,r[1]),a=o.coord,s=i.coord;a[0]=ve(a[0],-1/0),a[1]=ve(a[1],-1/0),s[0]=ve(s[0],1/0),s[1]=ve(s[1],1/0);var l=V([{},o,i]);return l.coord=[o.coord,i.coord],l.x0=o.x,l.y0=o.y,l.x1=i.x,l.y1=i.y,l};function vJ(e){return!isNaN(e)&&!isFinite(e)}function yJ(e,t,n,r){var o=1-e;return vJ(t[o])&&vJ(n[o])}function bJ(e,t){var n=t.coord[0],r=t.coord[1];return!!(ZT(e,"cartesian2d")&&n&&r&&(yJ(1,n,r,e)||yJ(0,n,r,e)))||($X(e,{coord:n,x:t.x0,y:t.y0})||$X(e,{coord:r,x:t.x1,y:t.y1}))}function xJ(e,t,n,r,o){var i,a=r.coordinateSystem,s=e.getItemModel(t),l=ri(s.get(n[0]),o.getWidth()),u=ri(s.get(n[1]),o.getHeight());if(isNaN(l)||isNaN(u)){if(r.getMarkerPosition)i=r.getMarkerPosition(e.getValues(n,t));else{var c=e.get(n[0],t),d=e.get(n[1],t),f=[c,d];a.clampData&&a.clampData(f,f),i=a.dataToPoint(f,!0)}if(ZT(a,"cartesian2d")){var p=a.getAxis("x"),h=a.getAxis("y");c=e.get(n[0],t),d=e.get(n[1],t);vJ(c)?i[0]=p.toGlobalCoord(p.getExtent()["x0"===n[0]?0:1]):vJ(d)&&(i[1]=h.toGlobalCoord(h.getExtent()["y0"===n[1]?0:1]))}isNaN(l)||(i[0]=l),isNaN(u)||(i[1]=u)}else i=[l,u];return i}var wJ=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],_J=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=jX.getMarkerModelFromSeries(e,"markArea");if(t){var r=t.getData();r.each((function(t){var o=X(wJ,(function(o){return xJ(r,t,o,e,n)}));r.setItemLayout(t,o);var i=r.getItemGraphicEl(t);i.setShape("points",o)}))}}),this)},t.prototype.renderSeries=function(e,t,n,r){var o=e.coordinateSystem,i=e.id,a=e.getData(),s=this.markerGroupMap,l=s.get(i)||s.set(i,{group:new Vo});this.group.add(l.group),this.markKeep(l);var u=CJ(o,e,t);t.setData(u),u.each((function(t){var n=X(wJ,(function(n){return xJ(u,t,n,e,r)})),i=!0;K(wJ,(function(e){if(i){var n=u.get(e[0],t),r=u.get(e[1],t);(vJ(n)||o.getAxis("x").containData(n))&&(vJ(r)||o.getAxis("y").containData(r))&&(i=!1)}})),u.setItemLayout(t,{points:n,allClipped:i});var s=u.getItemModel(t).getModel("itemStyle").getItemStyle(),l=eb(a,"color");s.fill||(s.fill=l,"string"===typeof s.fill&&(s.fill=Vn(s.fill,.4))),s.stroke||(s.stroke=l),u.setItemVisual(t,"style",s)})),u.diff(mJ(l).data).add((function(e){var t=u.getItemLayout(e);if(!t.allClipped){var n=new vd({shape:{points:t.points}});u.setItemGraphicEl(e,n),l.group.add(n)}})).update((function(e,n){var r=mJ(l).data.getItemGraphicEl(n),o=u.getItemLayout(e);o.allClipped?r&&l.group.remove(r):(r?hf(r,{shape:{points:o.points}},t,e):r=new vd({shape:{points:o.points}}),u.setItemGraphicEl(e,r),l.group.add(r))})).remove((function(e){var t=mJ(l).data.getItemGraphicEl(e);l.group.remove(t)})).execute(),u.eachItemGraphicEl((function(e,n){var r=u.getItemModel(n),o=u.getItemVisual(n,"style");e.useStyle(u.getItemVisual(n,"style")),Pf(e,Rf(r),{labelFetcher:t,labelDataIndex:n,defaultText:u.getName(n)||"",inheritColor:"string"===typeof o.fill?Vn(o.fill,1):"#000"}),cc(e,r),ac(e),cu(e).dataModel=t})),mJ(l).data=u,l.group.silent=t.get("silent")||e.get("silent")},t.type="markArea",t}(KX);function CJ(e,t,n){var r,o,i=["x0","y0","x1","y1"];e?(r=X(e&&e.dimensions,(function(e){var n=t.getData(),r=n.getDimensionInfo(n.mapDimension(e))||{};return U({name:e},r)})),o=new TC(X(i,(function(e,t){return{name:e,type:r[t%2].type}})),n)):(r=[{name:"value",type:"float"}],o=new TC(r,n));var a=X(n.get("data"),re(gJ,t,e,n));e&&(a=Z(a,re(bJ,e)));var s=e?function(e,t,n,r){return e.coord[Math.floor(r/2)][r%2]}:function(e){return e.value};return o.initData(a,null,s),o.hasItemOption=!0,o}var SJ=_J;function kJ(e){e.registerComponentModel(hJ),e.registerComponentView(SJ),e.registerPreprocessor((function(e){e.markArea=e.markArea||{}}))}var OJ=function(e,t){return"all"===t?{type:"all",title:e.getLocale(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:e.getLocale(["legend","selector","inverse"])}:void 0},TJ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return g(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},t.prototype._updateSelector=function(e){var t=e.selector,n=this.ecModel;!0===t&&(t=e.selector=["all","inverse"]),oe(t)&&K(t,(function(e,r){ae(e)&&(e={type:e}),t[r]=z(e,OJ(n,e.type))}))},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var r=e[n].get("name");if(this.isSelected(r)){this.select(r),t=!0;break}}!t&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var t=[],n=[];e.eachRawSeries((function(r){var o,i=r.name;if(n.push(i),r.legendVisualProvider){var a=r.legendVisualProvider,s=a.getAllNames();e.isSeriesFiltered(r)||(n=n.concat(s)),s.length?t=t.concat(s):o=!0}else o=!0;o&&Hi(r)&&t.push(r.name)})),this._availableNames=n;var r=this.get("data")||t,o=X(r,(function(e){return"string"!==typeof e&&"number"!==typeof e||(e={name:e}),new sp(e,this,this.ecModel)}),this);this._data=o},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var t=this.option.selected,n=this.get("selectedMode");if("single"===n){var r=this._data;K(r,(function(e){t[e.get("name")]=!1}))}t[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,t=this.option.selected;K(e,(function(e){t[e.get("name",!0)]=!0}))},t.prototype.inverseSelect=function(){var e=this._data,t=this.option.selected;K(e,(function(e){var n=e.get("name",!0);t.hasOwnProperty(n)||(t[n]=!0),t[n]=!t[n]}))},t.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&q(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Nh),MJ=TJ,DJ=re,IJ=K,EJ=Vo,AJ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return g(t,e),t.prototype.init=function(){this.group.add(this._contentGroup=new EJ),this.group.add(this._selectorGroup=new EJ),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,t,n){var r=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var o=e.get("align"),i=e.get("orient");o&&"auto"!==o||(o="right"===e.get("left")&&"vertical"===i?"right":"left");var a=e.get("selector",!0),s=e.get("selectorPosition",!0);!a||s&&"auto"!==s||(s="horizontal"===i?"end":"start"),this.renderInner(o,e,t,n,a,i,s);var l=e.getBoxLayoutParams(),u={width:n.getWidth(),height:n.getHeight()},c=e.get("padding"),d=kh(l,u,c),f=this.layoutInner(e,o,d,r,a,s),p=kh(U({width:f.width,height:f.height},l),u,c);this.group.x=p.x-f.x,this.group.y=p.y-f.y,this.group.markRedraw(),this.group.add(this._backgroundEl=UG(f,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,t,n,r,o,i,a){var s=this.getContentGroup(),l=Me(),u=t.get("selectedMode"),c=[];n.eachRawSeries((function(e){!e.get("legendHoverLink")&&c.push(e.id)})),IJ(t.getData(),(function(o,i){var a=o.get("name");if(!this.newlineDisabled&&(""===a||"\n"===a)){var d=new EJ;return d.newline=!0,void s.add(d)}var f=n.getSeriesByName(a)[0];if(!l.get(a)){if(f){var p=f.getData(),h=p.getVisual("style"),m=h[p.getVisual("drawType")]||h.fill,g=h.stroke,v=h.decal,y=p.getVisual("legendSymbol")||"roundRect",b=p.getVisual("symbol"),x=this._createItem(a,i,o,t,y,b,e,m,g,v,u);x.on("click",DJ(jJ,a,null,r,c)).on("mouseover",DJ(PJ,f.name,null,r,c)).on("mouseout",DJ(RJ,f.name,null,r,c)),l.set(a,!0)}else n.eachRawSeries((function(n){if(!l.get(a)&&n.legendVisualProvider){var s=n.legendVisualProvider;if(!s.containName(a))return;var d=s.indexOfName(a),f=s.getItemVisual(d,"style"),p=f.stroke,h=f.decal,m=f.fill,g=En(f.fill);g&&0===g[3]&&(g[3]=.2,m=Hn(g,"rgba"));var v="roundRect",y=this._createItem(a,i,o,t,v,null,e,m,p,h,u);y.on("click",DJ(jJ,null,a,r,c)).on("mouseover",DJ(PJ,null,a,r,c)).on("mouseout",DJ(RJ,null,a,r,c)),l.set(a,!0)}}),this);0}}),this),o&&this._createSelector(o,t,r,i,a)},t.prototype._createSelector=function(e,t,n,r,o){var i=this.getSelectorGroup();IJ(e,(function(e){var r=e.type,o=new uu({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===r?"legendAllSelect":"legendInverseSelect"})}});i.add(o);var a=t.getModel("selectorLabel"),s=t.getModel(["emphasis","selectorLabel"]);Pf(o,{normal:a,emphasis:s},{defaultText:e.title}),ac(o)}))},t.prototype._createItem=function(e,t,n,r,o,i,a,s,l,u,c){var d=r.get("itemWidth"),f=r.get("itemHeight"),p=r.get("inactiveColor"),h=r.get("inactiveBorderColor"),m=r.get("symbolKeepAspect"),g=r.getModel("itemStyle"),v=r.isSelected(e),y=new EJ,b=n.getModel("textStyle"),x=n.get("icon"),w=n.getModel("tooltip"),_=w.parentModel;o=x||o;var C=rx(o,0,0,d,f,v?s:p,null==m||m);if(y.add(LJ(C,o,g,l,h,u,v)),!x&&i&&(i!==o||"none"===i)){var S=.8*f;"none"===i&&(i="circle");var k=rx(i,(d-S)/2,(f-S)/2,S,S,v?s:p,null==m||m);y.add(LJ(k,i,g,l,h,u,v))}var O="left"===a?d+5:-5,T=a,M=r.get("formatter"),D=e;"string"===typeof M&&M?D=M.replace("{name}",null!=e?e:""):"function"===typeof M&&(D=M(e)),y.add(new uu({style:Bf(b,{text:D,x:O,y:f/2,fill:v?b.getTextColor():p,align:T,verticalAlign:"middle"})}));var I=new Kl({shape:y.getBoundingRect(),invisible:!0});if(w.get("show")){var E={componentType:"legend",legendIndex:r.componentIndex,name:e,$vars:["name"]};I.tooltip=H({content:e,formatter:_.get("formatter",!0)||function(e){return e.name},formatterParams:E},w.option)}return y.add(I),y.eachChild((function(e){e.silent=!0})),I.silent=!c,this.getContentGroup().add(y),ac(y),y.__legendDataIndex=t,y},t.prototype.layoutInner=function(e,t,n,r,o,i){var a=this.getContentGroup(),s=this.getSelectorGroup();Ch(e.get("orient"),a,e.get("itemGap"),n.width,n.height);var l=a.getBoundingRect(),u=[-l.x,-l.y];if(s.markRedraw(),a.markRedraw(),o){Ch("horizontal",s,e.get("selectorItemGap",!0));var c=s.getBoundingRect(),d=[-c.x,-c.y],f=e.get("selectorButtonGap",!0),p=e.getOrient().index,h=0===p?"width":"height",m=0===p?"height":"width",g=0===p?"y":"x";"end"===i?d[p]+=l[h]+f:u[p]+=c[h]+f,d[1-p]+=l[m]/2-c[m]/2,s.x=d[0],s.y=d[1],a.x=u[0],a.y=u[1];var v={x:0,y:0};return v[h]=l[h]+f+c[h],v[m]=Math.max(l[m],c[m]),v[g]=Math.min(0,c[g]+d[1-p]),v}return a.x=u[0],a.y=u[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Yv);function LJ(e,t,n,r,o,i,a){var s;return"line"!==t&&t.indexOf("empty")<0?(s=n.getItemStyle(),e.style.stroke=r,e.style.decal=i,a||(s.stroke=o)):s=n.getItemStyle(["borderWidth","borderColor"]),e.setStyle(s),e}function jJ(e,t,n,r){RJ(e,t,n,r),n.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),PJ(e,t,n,r)}function NJ(e){var t,n=e.getZr().storage.getDisplayList(),r=0,o=n.length;while(r<o&&!(t=n[r].states.emphasis))r++;return t&&t.hoverLayer}function PJ(e,t,n,r){NJ(n)||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:r})}function RJ(e,t,n,r){NJ(n)||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:r})}var BJ=AJ;function FJ(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0}))}function zJ(e,t,n){var r,o={},i="toggleSelected"===e;return n.eachComponent("legend",(function(n){i&&null!=r?n[r?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?n[e]():(n[e](t.name),r=n.isSelected(t.name));var a=n.getData();K(a,(function(e){var t=e.get("name");if("\n"!==t&&""!==t){var r=n.isSelected(t);o.hasOwnProperty(t)?o[t]=o[t]&&r:o[t]=r}}))})),"allSelect"===e||"inverseSelect"===e?{selected:o}:{name:t.name,selected:o}}function VJ(e){e.registerAction("legendToggleSelect","legendselectchanged",re(zJ,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",re(zJ,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",re(zJ,"inverseSelect")),e.registerAction("legendSelect","legendselected",re(zJ,"select")),e.registerAction("legendUnSelect","legendunselected",re(zJ,"unSelect"))}function HJ(e){e.registerComponentModel(MJ),e.registerComponentView(BJ),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,FJ),e.registerSubTypeDefaulter("legend",(function(){return"plain"})),VJ(e)}var UJ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(t,n,r){var o=Ih(t);e.prototype.init.call(this,t,n,r),$J(this,t,o)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),$J(this,this.option,t)},t.type="legend.scroll",t.defaultOption=fp(MJ.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(MJ);function $J(e,t,n){var r=e.getOrient(),o=[1,1];o[r.index]=0,Dh(t,n,{type:"box",ignoreSize:!!o})}var qJ=UJ,WJ=Vo,GJ=["width","height"],YJ=["x","y"],KJ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return g(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new WJ),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new WJ)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(t,n,r,o,i,a,s){var l=this;e.prototype.renderInner.call(this,t,n,r,o,i,a,s);var u=this._controllerGroup,c=n.get("pageIconSize",!0),d=oe(c)?c:[c,c];p("pagePrev",0);var f=n.getModel("pageTextStyle");function p(e,t){var r=e+"DataIndex",i=Mf(n.get("pageIcons",!0)[n.getOrient().name][t],{onclick:ne(l._pageGo,l,r,n,o)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});i.name=e,u.add(i)}u.add(new uu({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1)},t.prototype.layoutInner=function(e,t,n,r,o,i){var a=this.getSelectorGroup(),s=e.getOrient().index,l=GJ[s],u=YJ[s],c=GJ[1-s],d=YJ[1-s];o&&Ch("horizontal",a,e.get("selectorItemGap",!0));var f=e.get("selectorButtonGap",!0),p=a.getBoundingRect(),h=[-p.x,-p.y],m=F(n);o&&(m[l]=n[l]-p[l]-f);var g=this._layoutContentAndController(e,r,m,s,l,c,d,u);if(o){if("end"===i)h[s]+=g[l]+f;else{var v=p[l]+f;h[s]-=v,g[u]-=v}g[l]+=p[l]+f,h[1-s]+=g[d]+g[c]/2-p[c]/2,g[c]=Math.max(g[c],p[c]),g[d]=Math.min(g[d],p[d]+h[1-s]),a.x=h[0],a.y=h[1],a.markRedraw()}return g},t.prototype._layoutContentAndController=function(e,t,n,r,o,i,a,s){var l=this.getContentGroup(),u=this._containerGroup,c=this._controllerGroup;Ch(e.get("orient"),l,e.get("itemGap"),r?n.width:null,r?null:n.height),Ch("horizontal",c,e.get("pageButtonItemGap",!0));var d=l.getBoundingRect(),f=c.getBoundingRect(),p=this._showController=d[o]>n[o],h=[-d.x,-d.y];t||(h[r]=l[s]);var m=[0,0],g=[-f.x,-f.y],v=ye(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(p){var y=e.get("pageButtonPosition",!0);"end"===y?g[r]+=n[o]-f[o]:m[r]+=f[o]+v}g[1-r]+=d[i]/2-f[i]/2,l.setPosition(h),u.setPosition(m),c.setPosition(g);var b={x:0,y:0};if(b[o]=p?n[o]:d[o],b[i]=Math.max(d[i],f[i]),b[a]=Math.min(0,f[a]+g[1-r]),u.__rectSize=n[o],p){var x={x:0,y:0};x[o]=Math.max(n[o]-f[o]-v,0),x[i]=b[i],u.setClipPath(new Kl({shape:x})),u.__rectSize=x[o]}else c.eachChild((function(e){e.attr({invisible:!0,silent:!0})}));var w=this._getPageInfo(e);return null!=w.pageIndex&&hf(l,{x:w.contentPosition[0],y:w.contentPosition[1]},p?e:null),this._updatePageInfoView(e,w),b},t.prototype._pageGo=function(e,t,n){var r=this._getPageInfo(t)[e];null!=r&&n.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:t.id})},t.prototype._updatePageInfoView=function(e,t){var n=this._controllerGroup;K(["pagePrev","pageNext"],(function(r){var o=r+"DataIndex",i=null!=t[o],a=n.childOfName(r);a&&(a.setStyle("fill",i?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),a.cursor=i?"pointer":"default")}));var r=n.childOfName("pageText"),o=e.get("pageFormatter"),i=t.pageIndex,a=null!=i?i+1:0,s=t.pageCount;r&&o&&r.setStyle("text",ae(o)?o.replace("{current}",null==a?"":a+"").replace("{total}",null==s?"":s+""):o({current:a,total:s}))},t.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),r=this._containerGroup.__rectSize,o=e.getOrient().index,i=GJ[o],a=YJ[o],s=this._findTargetItemIndex(t),l=n.children(),u=l[s],c=l.length,d=c?1:0,f={contentPosition:[n.x,n.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return f;var p=y(u);f.contentPosition[o]=-p.s;for(var h=s+1,m=p,g=p,v=null;h<=c;++h)v=y(l[h]),(!v&&g.e>m.s+r||v&&!b(v,m.s))&&(m=g.i>m.i?g:v,m&&(null==f.pageNextDataIndex&&(f.pageNextDataIndex=m.i),++f.pageCount)),g=v;for(h=s-1,m=p,g=p,v=null;h>=-1;--h)v=y(l[h]),v&&b(g,v.s)||!(m.i<g.i)||(g=m,null==f.pagePrevDataIndex&&(f.pagePrevDataIndex=m.i),++f.pageCount,++f.pageIndex),m=v;return f;function y(e){if(e){var t=e.getBoundingRect(),n=t[a]+e[a];return{s:n,e:n+t[i],i:e.__legendDataIndex}}}function b(e,t){return e.e>=t&&e.s<=t+r}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var t,n,r=this.getContentGroup();return r.eachChild((function(r,o){var i=r.__legendDataIndex;null==n&&null!=i&&(n=o),i===e&&(t=o)})),null!=t?t:n},t.type="legend.scroll",t}(BJ),XJ=KJ;function JJ(e){e.registerAction("legendScroll","legendscroll",(function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(n)}))}))}function ZJ(e){U_(HJ),e.registerComponentModel(qJ),e.registerComponentView(XJ),JJ(e)}function QJ(e){U_(HJ),U_(ZJ)}var eZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.type="dataZoom.inside",t.defaultOption=fp(yG.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(yG),tZ=eZ,nZ=Ki();function rZ(e,t,n){nZ(e).coordSysRecordMap.each((function(e){var r=e.dataZoomInfoMap.get(t.uid);r&&(r.getRange=n)}))}function oZ(e,t){for(var n=nZ(e).coordSysRecordMap,r=n.keys(),o=0;o<r.length;o++){var i=r[o],a=n.get(i),s=a.dataZoomInfoMap;if(s){var l=t.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||iZ(n,a))}}}function iZ(e,t){if(t){e.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}function aZ(e,t){var n={model:t,containsPoint:re(lZ,t),dispatchAction:re(sZ,e),dataZoomInfoMap:null,controller:null},r=n.controller=new wE(e.getZr());return K(["pan","zoom","scrollMove"],(function(e){r.on(e,(function(t){var r=[];n.dataZoomInfoMap.each((function(o){if(t.isAvailableBehavior(o.model.option)){var i=(o.getRange||{})[e],a=i&&i(o.dzReferCoordSysInfo,n.model.mainType,n.controller,t);!o.model.get("disabled",!0)&&a&&r.push({dataZoomId:o.model.id,start:a[0],end:a[1]})}})),r.length&&n.dispatchAction(r)}))})),n}function sZ(e,t){e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function lZ(e,t,n,r){return e.coordinateSystem.containPoint([n,r])}function uZ(e){var t,n="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return e.each((function(e){var i=e.model,a=!i.get("disabled",!0)&&(!i.get("zoomLock",!0)||"move");r[n+a]>r[n+t]&&(t=a),o=o&&i.get("preventDefaultMouseMove",!0)})),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o}}}function cZ(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,(function(e,t){var n=nZ(t),r=n.coordSysRecordMap||(n.coordSysRecordMap=Me());r.each((function(e){e.dataZoomInfoMap=null})),e.eachComponent({mainType:"dataZoom",subType:"inside"},(function(e){var n=hG(e);K(n.infoList,(function(n){var o=n.model.uid,i=r.get(o)||r.set(o,aZ(t,n.model)),a=i.dataZoomInfoMap||(i.dataZoomInfoMap=Me());a.set(e.uid,{dzReferCoordSysInfo:n,model:e,getRange:null})}))})),r.each((function(e){var t,n=e.controller,o=e.dataZoomInfoMap;if(o){var i=o.keys()[0];null!=i&&(t=o.get(i))}if(t){var a=uZ(o);n.enable(a.controlType,a.opt),n.setPointerChecker(e.containsPoint),uy(e,"dispatchAction",t.model.get("throttle",!0),"fixRate")}else iZ(r,e)}))}))}var dZ=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return g(t,e),t.prototype.render=function(t,n,r){e.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),rZ(r,t,{pan:ne(fZ.pan,this),zoom:ne(fZ.zoom,this),scrollMove:ne(fZ.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){oZ(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(_G),fZ={zoom:function(e,t,n,r){var o=this.range,i=o.slice(),a=e.axisModels[0];if(a){var s=hZ[t](null,[r.originX,r.originY],a,n,e),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(i[1]-i[0])+i[0],u=Math.max(1/r.scale,0);i[0]=(i[0]-l)*u+l,i[1]=(i[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return uR(0,i,[0,100],0,c.minSpan,c.maxSpan),this.range=i,o[0]!==i[0]||o[1]!==i[1]?i:void 0}},pan:pZ((function(e,t,n,r,o,i){var a=hZ[r]([i.oldX,i.oldY],[i.newX,i.newY],t,o,n);return a.signal*(e[1]-e[0])*a.pixel/a.pixelLength})),scrollMove:pZ((function(e,t,n,r,o,i){var a=hZ[r]([0,0],[i.scrollDelta,i.scrollDelta],t,o,n);return a.signal*(e[1]-e[0])*i.scrollDelta}))};function pZ(e){return function(t,n,r,o){var i=this.range,a=i.slice(),s=t.axisModels[0];if(s){var l=e(a,s,t,n,r,o);return uR(l,a,[0,100],"all"),this.range=a,i[0]!==a[0]||i[1]!==a[1]?a:void 0}}}var hZ={grid:function(e,t,n,r,o){var i=n.axis,a={},s=o.model.coordinateSystem.getRect();return e=e||[0,0],"x"===i.dim?(a.pixel=t[0]-e[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=i.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=i.inverse?-1:1),a},polar:function(e,t,n,r,o){var i=n.axis,a={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),"radiusAxis"===n.mainType?(a.pixel=t[0]-e[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=i.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=i.inverse?-1:1),a},singleAxis:function(e,t,n,r,o){var i=n.axis,a=o.model.coordinateSystem.getRect(),s={};return e=e||[0,0],"horizontal"===i.orient?(s.pixel=t[0]-e[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=i.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=i.inverse?-1:1),s}},mZ=dZ;function gZ(e){jG(e),e.registerComponentModel(tZ),e.registerComponentView(mZ),cZ(e)}var vZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=fp(yG.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(yG),yZ=vZ,bZ=Kl,xZ=7,wZ=1,_Z=30,CZ=7,SZ="horizontal",kZ="vertical",OZ=5,TZ=["line","bar","candlestick","scatter"],MZ={easing:"cubicOut",duration:100},DZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._displayables={},n}return g(t,e),t.prototype.init=function(e,t){this.api=t,this._onBrush=ne(this._onBrush,this),this._onBrushEnd=ne(this._onBrushEnd,this)},t.prototype.render=function(t,n,r,o){if(e.prototype.render.apply(this,arguments),uy(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show")){if(t.noTarget())return this._clear(),void this.group.removeAll();o&&"dataZoom"===o.type&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){cy(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var t=this._displayables.sliderGroup=new Vo;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,t=this.api,n=e.get("brushSelect"),r=n?CZ:0,o=this._findCoordRect(),i={width:t.getWidth(),height:t.getHeight()},a=this._orient===SZ?{right:i.width-o.x-o.width,top:i.height-_Z-xZ-r,width:o.width,height:_Z}:{right:xZ,top:o.y,width:_Z,height:o.height},s=Ih(e.option);K(["right","top","width","height"],(function(e){"ph"===s[e]&&(s[e]=a[e])}));var l=kh(s,i);this._location={x:l.x,y:l.y},this._size=[l.width,l.height],this._orient===kZ&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,t=this._location,n=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),o=r&&r.get("inverse"),i=this._displayables.sliderGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;i.attr(n!==SZ||o?n===SZ&&o?{scaleY:a?1:-1,scaleX:-1}:n!==kZ||o?{scaleY:a?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:a?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:a?1:-1,scaleX:1});var s=e.getBoundingRect([i]);e.x=t.x-s.x,e.y=t.y-s.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,t=this._size,n=this._displayables.sliderGroup,r=e.get("brushSelect");n.add(new bZ({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var o=new bZ({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:ne(this._onClickPanel,this)}),i=this.api.getZr();r?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",i.on("mousemove",this._onBrush),i.on("mouseup",this._onBrushEnd)):(i.off("mousemove",this._onBrush),i.off("mouseup",this._onBrushEnd)),n.add(o)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var t=this._size,n=e.series,r=n.getRawData(),o=n.getShadowDim?n.getShadowDim():e.otherDim;if(null!=o){var i=r.getDataExtent(o),a=.3*(i[1]-i[0]);i=[i[0]-a,i[1]+a];var s,l=[0,t[1]],u=[0,t[0]],c=[[t[0],0],[0,0]],d=[],f=u[1]/(r.count()-1),p=0,h=Math.round(r.count()/t[0]);r.each([o],(function(e,t){if(h>0&&t%h)p+=f;else{var n=null==e||isNaN(e)||""===e,r=n?0:ni(e,i,l,!0);n&&!s&&t?(c.push([c[c.length-1][0],0]),d.push([d[d.length-1][0],0])):!n&&s&&(c.push([p,0]),d.push([p,0])),c.push([p,r]),d.push([p,r]),p+=f,s=n}}));for(var m=this.dataZoomModel,g=0;g<3;g++){var v=y(1===g);this._displayables.sliderGroup.add(v),this._displayables.dataShadowSegs.push(v)}}}function y(e){var t=m.getModel(e?"selectedDataBackground":"dataBackground"),n=new Vo,r=new vd({shape:{points:c},segmentIgnoreThreshold:1,style:t.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),o=new xd({shape:{points:d},segmentIgnoreThreshold:1,style:t.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(r),n.add(o),n}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var n,r=this.ecModel;return e.eachTargetAxis((function(o,i){var a=e.getAxisProxy(o,i).getTargetSeriesModels();K(a,(function(e){if(!n&&!(!0!==t&&q(TZ,e.get("type"))<0)){var a,s=r.getComponent(fG(o),i).axis,l=IZ(o),u=e.coordinateSystem;null!=l&&u.getOtherAxis&&(a=u.getOtherAxis(s).inverse),l=e.getData().mapDimension(l),n={thisAxis:s,series:e,thisDim:o,otherDim:l,otherAxisInverse:a}}}),this)}),this),n}},t.prototype._renderHandle=function(){var e=this.group,t=this._displayables,n=t.handles=[null,null],r=t.handleLabels=[null,null],o=this._displayables.sliderGroup,i=this._size,a=this.dataZoomModel,s=this.api,l=a.get("borderRadius")||0,u=a.get("brushSelect"),c=t.filler=new bZ({silent:u,style:{fill:a.get("fillerColor")},textConfig:{position:"inside"}});o.add(c),o.add(new bZ({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:i[0],height:i[1],r:l},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:wZ,fill:"rgba(0,0,0,0)"}})),K([0,1],(function(t){var i=a.get("handleIcon");!ex[i]&&i.indexOf("path://")<0&&(i="path://"+i);var s=rx(i,-1,0,2,2,null,!0);s.attr({cursor:EZ(this._orient),draggable:!0,drift:ne(this._onDragMove,this,t),ondragend:ne(this._onDragEnd,this),onmouseover:ne(this._showDataInfo,this,!0),onmouseout:ne(this._showDataInfo,this,!1),z2:5});var l=s.getBoundingRect(),u=a.get("handleSize");this._handleHeight=ri(u,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,s.setStyle(a.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),ac(s);var c=a.get("handleColor");null!=c&&(s.style.fill=c),o.add(n[t]=s);var d=a.getModel("textStyle");e.add(r[t]=new uu({silent:!0,invisible:!0,style:{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:d.getTextColor(),font:d.getFont()},z2:10}))}),this);var d=c;if(u){var f=ri(a.get("moveHandleSize"),i[1]),p=t.moveHandle=new Kl({style:a.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:i[1]-.5,height:f}}),h=.8*f,m=t.moveHandleIcon=rx(a.get("moveHandleIcon"),-h/2,-h/2,h,h,"#fff",!0);m.silent=!0,m.y=i[1]+f/2-.5,p.ensureState("emphasis").style=a.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var g=Math.min(i[1]/2,Math.max(f,10));d=t.moveZone=new Kl({invisible:!0,shape:{y:i[1]-g,height:f+g}}),d.on("mouseover",(function(){s.enterEmphasis(p)})).on("mouseout",(function(){s.leaveEmphasis(p)})),o.add(p),o.add(m),o.add(d)}d.attr({draggable:!0,cursor:EZ(this._orient),drift:ne(this._onDragMove,this,"all"),ondragstart:ne(this._showDataInfo,this,!0),ondragend:ne(this._onDragEnd,this),onmouseover:ne(this._showDataInfo,this,!0),onmouseout:ne(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[ni(e[0],[0,100],t,!0),ni(e[1],[0,100],t,!0)]},t.prototype._updateInterval=function(e,t){var n=this.dataZoomModel,r=this._handleEnds,o=this._getViewExtent(),i=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];uR(t,r,o,n.get("zoomLock")?"all":e,null!=i.minSpan?ni(i.minSpan,a,o,!0):null,null!=i.maxSpan?ni(i.maxSpan,a,o,!0):null);var s=this._range,l=this._range=ii([ni(r[0],o,a,!0),ni(r[1],o,a,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},t.prototype._updateView=function(e){var t=this._displayables,n=this._handleEnds,r=ii(n.slice()),o=this._size;K([0,1],(function(e){var r=t.handles[e],i=this._handleHeight;r.attr({scaleX:i/2,scaleY:i/2,x:n[e]+(e?-1:1),y:o[1]/2-i/2})}),this),t.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:o[1]});var i={x:r[0],width:r[1]-r[0]};t.moveHandle&&(t.moveHandle.setShape(i),t.moveZone.setShape(i),t.moveZone.getBoundingRect(),t.moveHandleIcon&&t.moveHandleIcon.attr("x",i.x+i.width/2));for(var a=t.dataShadowSegs,s=[0,r[0],r[1],o[0]],l=0;l<a.length;l++){var u=a[l],c=u.getClipPath();c||(c=new Kl,u.setClipPath(c)),c.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:o[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var t=this.dataZoomModel,n=this._displayables,r=n.handleLabels,o=this._orient,i=["",""];if(t.get("showDetail")){var a=t.findRepresentativeAxisProxy();if(a){var s=a.getAxisModel().axis,l=this._range,u=e?a.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:a.getDataValueWindow();i=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var c=ii(this._handleEnds.slice());function d(e){var t=xf(n.handles[e].parent,this.group),a=_f(0===e?"right":"left",t),s=this._handleWidth/2+OZ,l=wf([c[e]+(0===e?-s:s),this._size[1]/2],t);r[e].setStyle({x:l[0],y:l[1],verticalAlign:o===SZ?"middle":a,align:o===SZ?a:"center",text:i[e]})}d.call(this,0),d.call(this,1)},t.prototype._formatLabel=function(e,t){var n=this.dataZoomModel,r=n.get("labelFormatter"),o=n.get("labelPrecision");null!=o&&"auto"!==o||(o=t.getPixelPrecision());var i=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(o,20));return ie(r)?r(e,i):ae(r)?r.replace("{value}",i):i},t.prototype._showDataInfo=function(e){e=this._dragging||e;var t=this._displayables,n=t.handleLabels;n[0].attr("invisible",!e),n[1].attr("invisible",!e),t.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](t.moveHandle,1)},t.prototype._onDragMove=function(e,t,n,r){this._dragging=!0,Dt(r.event);var o=this._displayables.sliderGroup.getLocalTransform(),i=wf([t,n],o,!0),a=this._updateInterval(e,i[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),a&&s&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var t=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var r=this._handleEnds,o=(r[0]+r[1])/2,i=this._updateInterval("all",n[0]-o);this._updateView(),i&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var t=e.offsetX,n=e.offsetY;this._brushStart=new pr(t,n),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var t=this._displayables.brushRect;if(this._brushing=!1,t){t.attr("ignore",!0);var n=t.shape,r=+new Date;if(!(r-this._brushStartTime<200&&Math.abs(n.width)<5)){var o=this._getViewExtent(),i=[0,100];this._range=ii([ni(n.x,o,i,!0),ni(n.x+n.width,o,i,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Dt(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,t){var n=this._displayables,r=this.dataZoomModel,o=n.brushRect;o||(o=n.brushRect=new bZ({silent:!0,style:r.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(o)),o.attr("ignore",!1);var i=this._brushStart,a=this._displayables.sliderGroup,s=a.transformCoordToLocal(e,t),l=a.transformCoordToLocal(i.x,i.y),u=this._size;s[0]=Math.max(Math.min(u[0],s[0]),0),o.setShape({x:l[0],y:0,width:s[0]-l[0],height:u[1]})},t.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?MZ:null,start:t[0],end:t[1]})},t.prototype._findCoordRect=function(){var e,t=hG(this.dataZoomModel).infoList;if(!e&&t.length){var n=t[0].model.coordinateSystem;e=n.getRect&&n.getRect()}if(!e){var r=this.api.getWidth(),o=this.api.getHeight();e={x:.2*r,y:.2*o,width:.6*r,height:.6*o}}return e},t.type="dataZoom.slider",t}(_G);function IZ(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function EZ(e){return"vertical"===e?"ns-resize":"ew-resize"}var AZ=DZ;function LZ(e){e.registerComponentModel(yZ),e.registerComponentView(AZ),jG(e)}function jZ(e){U_(gZ),U_(LZ)}var NZ={get:function(e,t,n){var r=F((PZ[e]||{})[t]);return n&&oe(r)?r[r.length-1]:r}},PZ={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},RZ=NZ,BZ=vj.mapVisual,FZ=vj.eachVisual,zZ=oe,VZ=K,HZ=ii,UZ=ni,$Z=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return g(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.optionUpdated=function(e,t){var n=this.option;C.canvasSupported||(n.realtime=!1),!t&&EK(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var t=this.stateList;e=ne(e,this),this.controllerVisuals=IK(this.option.controller,t,e),this.targetVisuals=IK(this.option.target,t,e)},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,n){t.push(n)})):t=Ti(e),t},t.prototype.eachTargetSeries=function(e,t){K(this.getTargetSeriesIndices(),(function(n){var r=this.ecModel.getSeriesByIndex(n);r&&e.call(t,r)}),this)},t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries((function(n){n===e&&(t=!0)})),t},t.prototype.formatValueText=function(e,t,n){var r,o=this.option,i=o.precision,a=this.dataBound,s=o.formatter;n=n||["<",">"],oe(e)&&(e=e.slice(),r=!0);var l=t?e:r?[u(e[0]),u(e[1])]:u(e);return ae(s)?s.replace("{value}",r?l[0]:l).replace("{value2}",r?l[1]:l):ie(s)?r?s(e[0],e[1]):s(e):r?e[0]===a[0]?n[0]+" "+l[1]:e[1]===a[1]?n[1]+" "+l[0]:l[0]+" - "+l[1]:l;function u(e){return e===a[0]?"min":e===a[1]?"max":(+e).toFixed(Math.min(i,20))}},t.prototype.resetExtent=function(){var e=this.option,t=HZ([e.min,e.max]);this._dataExtent=t},t.prototype.getDataDimension=function(e){var t=this.option.dimension,n=e.dimensions;if(null!=t||n.length){if(null!=t)return e.getDimension(t);for(var r=e.dimensions,o=r.length-1;o>=0;o--){var i=r[o],a=e.getDimensionInfo(i);if(!a.isCalculationCoord)return i}}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},r=t.target||(t.target={}),o=t.controller||(t.controller={});z(r,n),z(o,n);var i=this.isCategory();function a(n){zZ(t.color)&&!n.inRange&&(n.inRange={color:t.color.slice().reverse()}),n.inRange=n.inRange||{color:e.get("gradientColor")}}function s(e,t,n){var r=e[t],o=e[n];r&&!o&&(o=e[n]={},VZ(r,(function(e,t){if(vj.isValidType(t)){var n=RZ.get(t,"inactive",i);null!=n&&(o[t]=n,"color"!==t||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}})))}function l(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,r=this.get("inactiveColor");VZ(this.stateList,(function(o){var a=this.itemSize,s=e[o];s||(s=e[o]={color:i?r:[r]}),null==s.symbol&&(s.symbol=t&&F(t)||(i?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=n&&F(n)||(i?a[0]:[a[0],a[0]])),s.symbol=BZ(s.symbol,(function(e){return"none"===e||"square"===e?"roundRect":e}));var l=s.symbolSize;if(null!=l){var u=-1/0;FZ(l,(function(e){e>u&&(u=e)})),s.symbolSize=BZ(l,(function(e){return UZ(e,[0,u],[0,a[0]],!0)}))}}),this)}a.call(this,r),a.call(this,o),s.call(this,r,"inRange","outOfRange"),l.call(this,o)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Nh),qZ=$Z,WZ=[20,140],GZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=WZ[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=WZ[1])},t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):oe(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),K(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)}),this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),t=ii((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},t.prototype.getValueState=function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries((function(n){var r=[],o=n.getData();o.each(this.getDataDimension(o),(function(t,n){e[0]<=t&&t<=e[1]&&r.push(n)}),this),t.push({seriesId:n.id,dataIndex:r})}),this),t},t.prototype.getVisualMeta=function(e){var t=YZ(this,"outOfRange",this.getExtent()),n=YZ(this,"inRange",this.option.range.slice()),r=[];function o(t,n){r.push({value:t,color:e(t,n)})}for(var i=0,a=0,s=n.length,l=t.length;a<l&&(!n.length||t[a]<=n[0]);a++)t[a]<n[i]&&o(t[a],"outOfRange");for(var u=1;i<s;i++,u=0)u&&r.length&&o(n[i],"outOfRange"),o(n[i],"inRange");for(u=1;a<l;a++)(!n.length||n[n.length-1]<t[a])&&(u&&(r.length&&o(r[r.length-1].value,"outOfRange"),u=0),o(t[a],"outOfRange"));var c=r.length;return{stops:r,outerColors:[c?r[0].color:"transparent",c?r[c-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=fp(qZ.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(qZ);function YZ(e,t,n){if(n[0]===n[1])return n.slice();for(var r=200,o=(n[1]-n[0])/r,i=n[0],a=[],s=0;s<=r&&i<n[1];s++)a.push(i),i+=o;return a.push(n[1]),a}var KZ=GZ,XZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return g(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t},t.prototype.render=function(e,t,n,r){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,t,n,r):this.group.removeAll()},t.prototype.renderBackground=function(e){var t=this.visualMapModel,n=ih(t.get("padding")||0),r=e.getBoundingRect();e.add(new Kl({z2:-1,silent:!0,shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[3]+n[1],height:r.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,t,n){n=n||{};var r=n.forceState,o=this.visualMapModel,i={};if("symbol"===t&&(i.symbol=o.get("itemSymbol")),"color"===t){var a=o.get("contentColor");i.color=a}function s(e){return i[e]}function l(e,t){i[e]=t}var u=o.controllerVisuals[r||o.getValueState(e)],c=vj.prepareVisualTypes(u);return K(c,(function(r){var o=u[r];n.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",o=u.__alphaForOpacity),vj.dependsOn(r,t)&&o&&o.applyVisual(e,s,l)})),i[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,n=this.api;Oh(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},t.prototype.doRender=function(e,t,n,r){},t.type="visualMap",t}(Yv),JZ=XZ,ZZ=[["left","right","width"],["top","bottom","height"]];function QZ(e,t,n){var r=e.option,o=r.align;if(null!=o&&"auto"!==o)return o;for(var i={width:t.getWidth(),height:t.getHeight()},a="horizontal"===r.orient?1:0,s=ZZ[a],l=[0,null,10],u={},c=0;c<3;c++)u[ZZ[1-a][c]]=l[c],u[s[c]]=2===c?n[0]:r[s[c]];var d=[["x","width",3],["y","height",0]][a],f=kh(u,i,r.padding);return s[(f.margin[d[2]]||0)+f[d[0]]+.5*f[d[1]]<.5*i[d[1]]?0:1]}function eQ(e,t){return K(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}var tQ=ni,nQ=K,rQ=Math.min,oQ=Math.max,iQ=12,aQ=6,sQ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return g(t,e),t.prototype.doRender=function(e,t,n,r){this._api=n,r&&"selectDataRange"===r.type&&r.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,n){if(t){var r=t[1-n];r=null!=r?r+"":"";var o=this.visualMapModel,i=o.get("textGap"),a=o.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([a[0]/2,0===n?-i:a[1]+i],s),u=this._applyTransform(0===n?"bottom":"top",s),c=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new uu({style:{x:l[0],y:l[1],verticalAlign:"horizontal"===c?"middle":u,align:"horizontal"===c?u:"center",text:r,font:d.getFont(),fill:d.getTextColor()}}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,n=this._shapes,r=t.itemSize,o=this._orient,i=this._useHandle,a=QZ(t,this.api,r),s=n.mainGroup=this._createBarGroup(a),l=new Vo;s.add(l),l.add(n.outOfRange=lQ()),l.add(n.inRange=lQ(null,i?dQ(this._orient):null,ne(this._dragHandle,this,"all",!1),ne(this._dragHandle,this,"all",!0))),l.setClipPath(new Kl({shape:{x:0,y:0,width:r[0],height:r[1],r:3}}));var u=t.textStyleModel.getTextRect("国"),c=oQ(u.width,u.height);i&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(t,s,0,r,c,o),this._createHandle(t,s,1,r,c,o)),this._createIndicator(t,s,r,c,o),e.add(s)},t.prototype._createHandle=function(e,t,n,r,o,i){var a=ne(this._dragHandle,this,n,!1),s=ne(this._dragHandle,this,n,!0),l=jr(e.get("handleSize"),r[0]),u=rx(e.get("handleIcon"),-l/2,-l/2,l,l,null,!0),c=dQ(this._orient);u.attr({cursor:c,draggable:!0,drift:a,ondragend:s,onmousemove:function(e){Dt(e.event)}}),u.x=r[0]/2,u.useStyle(e.getModel("handleStyle").getItemStyle()),u.setStyle({strokeNoScale:!0,strokeFirst:!0}),u.style.lineWidth*=2,u.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),dc(u,!0),t.add(u);var d=this.visualMapModel.textStyleModel,f=new uu({cursor:c,draggable:!0,drift:a,onmousemove:function(e){Dt(e.event)},ondragend:s,style:{x:0,y:0,text:"",font:d.getFont(),fill:d.getTextColor()}});f.ensureState("blur").style={opacity:.1},f.stateTransition={duration:200},this.group.add(f);var p=[l,0],h=this._shapes;h.handleThumbs[n]=u,h.handleLabelPoints[n]=p,h.handleLabels[n]=f},t.prototype._createIndicator=function(e,t,n,r,o){var i=jr(e.get("indicatorSize"),n[0]),a=rx(e.get("indicatorIcon"),-i/2,-i/2,i,i,null,!0);a.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var s=e.getModel("indicatorStyle").getItemStyle();if(a instanceof zl){var l=a.style;a.useStyle(H({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},s))}else a.useStyle(s);t.add(a);var u=this.visualMapModel.textStyleModel,c=new uu({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:u.getFont(),fill:u.getTextColor()}});this.group.add(c);var d=[("horizontal"===o?r/2:aQ)+n[0]/2,0],f=this._shapes;f.indicator=a,f.indicatorLabel=c,f.indicatorLabelPoint=d,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,n,r){if(this._useHandle){if(this._dragging=!t,!t){var o=this._applyTransform([n,r],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():cQ(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),r=[0,e.itemSize[1]];this._handleEnds=[tQ(t[0],n,r,!0),tQ(t[1],n,r,!0)]},t.prototype._updateInterval=function(e,t){t=t||0;var n=this.visualMapModel,r=this._handleEnds,o=[0,n.itemSize[1]];uR(t,r,o,e,0);var i=n.getExtent();this._dataInterval=[tQ(r[0],o,i,!0),tQ(r[1],o,i,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,n=t.getExtent(),r=this._shapes,o=[0,t.itemSize[1]],i=e?o:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,i,"inRange"),s=this._createBarVisual(n,n,o,"outOfRange");r.inRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),r.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(i,a)},t.prototype._createBarVisual=function(e,t,n,r){var o={forceState:r,convertOpacityToAlpha:!0},i=this._makeColorGradient(e,o),a=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],s=this._createBarPoints(n,a);return{barColor:new Bd(0,0,0,1,i),barPoints:s,handlesColor:[i[0].color,i[i.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var n=100,r=[],o=(e[1]-e[0])/n;r.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var i=1;i<n;i++){var a=e[0]+o*i;if(a>e[1])break;r.push({color:this.getControllerVisual(a,"color",t),offset:i/n})}return r.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),r},t.prototype._createBarPoints=function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new Vo("horizontal"!==t||n?"horizontal"===t&&n?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==t||n?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var n=this._shapes,r=this.visualMapModel,o=n.handleThumbs,i=n.handleLabels,a=r.itemSize,s=r.getExtent();nQ([0,1],(function(l){var u=o[l];u.setStyle("fill",t.handlesColor[l]),u.y=e[l];var c=tQ(e[l],[0,a[1]],s,!0),d=this.getControllerVisual(c,"symbolSize");u.scaleX=u.scaleY=d/a[0],u.x=a[0]-d/2;var f=wf(n.handleLabelPoints[l],xf(u,this.group));i[l].setStyle({x:f[0],y:f[1],text:r.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this)}},t.prototype._showIndicator=function(e,t,n,r){var o=this.visualMapModel,i=o.getExtent(),a=o.itemSize,s=[0,a[1]],l=this._shapes,u=l.indicator;if(u){u.attr("invisible",!1);var c={convertOpacityToAlpha:!0},d=this.getControllerVisual(e,"color",c),f=this.getControllerVisual(e,"symbolSize"),p=tQ(e,i,s,!0),h=a[0]-f/2,m={x:u.x,y:u.y};u.y=p,u.x=h;var g=wf(l.indicatorLabelPoint,xf(u,this.group)),v=l.indicatorLabel;v.attr("invisible",!1);var y=this._applyTransform("left",l.mainGroup),b=this._orient,x="horizontal"===b;v.setStyle({text:(n||"")+o.formatValueText(t),verticalAlign:x?y:"middle",align:x?"center":y});var w={x:h,y:p,style:{fill:d}},_={style:{x:g[0],y:g[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var C={duration:100,easing:"cubicInOut",additive:!0};u.x=m.x,u.y=m.y,u.animateTo(w,C),v.animateTo(_,C)}else u.attr(w),v.attr(_);this._firstShowIndicator=!1;var S=this._shapes.handleLabels;if(S)for(var k=0;k<S.length;k++)this._api.enterBlur(S[k])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,r=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);r[1]=rQ(oQ(0,r[1]),n[1]),e._doHoverLinkToSeries(r[1],0<=r[0]&&r[0]<=n[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var n=this.visualMapModel,r=n.itemSize;if(n.option.hoverLink){var o=[0,r[1]],i=n.getExtent();e=rQ(oQ(o[0],e),o[1]);var a=uQ(n,i,o),s=[e-a,e+a],l=tQ(e,o,i,!0),u=[tQ(s[0],o,i,!0),tQ(s[1],o,i,!0)];s[0]<o[0]&&(u[0]=-1/0),s[1]>o[1]&&(u[1]=1/0),t&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",a):u[1]===1/0?this._showIndicator(l,u[0],"> ",a):this._showIndicator(l,l,"≈ ",a));var c=this._hoverLinkDataIndices,d=[];(t||cQ(n))&&(d=this._hoverLinkDataIndices=n.findTargetDataIndices(u));var f=Gi(c,d);this._dispatchHighDown("downplay",eQ(f[0],n)),this._dispatchHighDown("highlight",eQ(f[1],n))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=cu(t).dataIndex){var r=cu(t),o=this.ecModel.getSeriesByIndex(r.seriesIndex);if(n.isTargetSeries(o)){var i=o.getData(r.dataType),a=i.get(n.getDataDimension(i),r.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var t=this._shapes.handleLabels;if(t)for(var n=0;n<t.length;n++)this._api.leaveBlur(t[n])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",eQ(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,t,n,r){var o=xf(t,r?null:this.group);return oe(e)?wf(e,o,n):_f(e,o,n)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(JZ);function lQ(e,t,n,r){return new vd({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){Dt(e.event)},ondragend:r})}function uQ(e,t,n){var r=iQ/2,o=e.get("hoverLinkDataSize");return o&&(r=tQ(o,t,n,!0)/2),r}function cQ(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function dQ(e){return"vertical"===e?"ns-resize":"ew-resize"}var fQ=sQ,pQ={type:"selectDataRange",event:"dataRangeSelected",update:"update"},hQ=function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))},mQ=[{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",(function(t){var r=e.pipelineContext;!t.isTargetSeries(e)||r&&r.large||n.push(LK(t.stateList,t.targetVisuals,ne(t.getValueState,t),t.getDataDimension(e.getData())))})),n}},{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),r=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var o=t.getVisualMeta(ne(gQ,null,e,t))||{stops:[],outerColors:[]},i=t.getDataDimension(n),a=n.getDimensionInfo(i);null!=a&&(o.dimension=a.index,r.push(o))}})),e.getData().setVisual("visualMeta",r)}}];function gQ(e,t,n,r){for(var o=t.targetVisuals[r],i=vj.prepareVisualTypes(o),a={color:eb(e.getData(),"color")},s=0,l=i.length;s<l;s++){var u=i[s],c=o["opacity"===u?"__alphaForOpacity":u];c&&c.applyVisual(n,d,f)}return a.color;function d(e){return a[e]}function f(e,t){a[e]=t}}var vQ=K;function yQ(e){var t=e&&e.visualMap;oe(t)||(t=t?[t]:[]),vQ(t,(function(e){if(e){bQ(e,"splitList")&&!bQ(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&oe(t)&&vQ(t,(function(e){ue(e)&&(bQ(e,"start")&&!bQ(e,"min")&&(e.min=e.start),bQ(e,"end")&&!bQ(e,"max")&&(e.max=e.end))}))}}))}function bQ(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var xQ=!1;function wQ(e){xQ||(xQ=!0,e.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})),e.registerAction(pQ,hQ),K(mQ,(function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)})),e.registerPreprocessor(yQ))}function _Q(e){e.registerComponentModel(KZ),e.registerComponentView(fQ),wQ(e)}var CQ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._pieceList=[],n}return g(t,e),t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],SQ[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var o=this.option.categories;this.resetVisual((function(e,t){"categories"===r?(e.mappingMethod="category",e.categories=F(o)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=X(this._pieceList,(function(e){return e=F(e),"inRange"!==t&&(e.visual=null),e})))}))},t.prototype.completeVisualOption=function(){var t=this.option,n={},r=vj.listVisualTypes(),o=this.isCategory();function i(e,t,n){return e&&e[t]&&e[t].hasOwnProperty(n)}K(t.pieces,(function(e){K(r,(function(t){e.hasOwnProperty(t)&&(n[t]=1)}))})),K(n,(function(e,n){var r=!1;K(this.stateList,(function(e){r=r||i(t,e,n)||i(t.target,e,n)}),this),!r&&K(this.stateList,(function(e){(t[e]||(t[e]={}))[n]=RZ.get(n,"inRange"===e?"active":"inactive",o)}))}),this),e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var n=this.option,r=this._pieceList,o=(t?n:e).selected||{};if(n.selected=o,K(r,(function(e,t){var n=this.getSelectedMapKey(e);o.hasOwnProperty(n)||(o[n]=!0)}),this),"single"===n.selectedMode){var i=!1;K(r,(function(e,t){var n=this.getSelectedMapKey(e);o[n]&&(i?o[n]=!1:i=!0)}),this)}},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=F(e)},t.prototype.getValueState=function(e){var t=vj.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[],n=this._pieceList;return this.eachTargetSeries((function(r){var o=[],i=r.getData();i.each(this.getDataDimension(i),(function(t,r){var i=vj.findPieceIndex(t,n);i===e&&o.push(r)}),this),t.push({seriesId:r.id,dataIndex:o})}),this),t},t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var t=[],n=["",""],r=this,o=this._pieceList.slice();if(o.length){var i=o[0].interval[0];i!==-1/0&&o.unshift({interval:[-1/0,i]}),i=o[o.length-1].interval[1],i!==1/0&&o.push({interval:[i,1/0]})}else o.push({interval:[-1/0,1/0]});var a=-1/0;return K(o,(function(e){var t=e.interval;t&&(t[0]>a&&s([a,t[0]],"outOfRange"),s(t.slice()),a=t[1])}),this),{stops:t,outerColors:n}}function s(o,i){var a=r.getRepresentValue({interval:o});i||(i=r.getValueState(a));var s=e(a,i);o[0]===-1/0?n[0]=s:o[1]===1/0?n[1]=s:t.push({value:o[0],color:s},{value:o[1],color:s})}},t.type="visualMap.piecewise",t.defaultOption=fp(qZ.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(qZ),SQ={splitNumber:function(e){var t=this.option,n=Math.min(t.precision,20),r=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;var i=(r[1]-r[0])/o;while(+i.toFixed(n)!==i&&n<5)n++;t.precision=n,i=+i.toFixed(n),t.minOpen&&e.push({interval:[-1/0,r[0]],close:[0,0]});for(var a=0,s=r[0];a<o;s+=i,a++){var l=a===o-1?r[1]:s+i;e.push({interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({interval:[r[1],1/0],close:[0,0]}),bi(e),K(e,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(e){var t=this.option;K(t.categories,(function(t){e.push({text:this.formatValueText(t,!0),value:t})}),this),kQ(t,e)},pieces:function(e){var t=this.option;K(t.pieces,(function(t,n){ue(t)||(t={value:t});var r={text:"",index:n};if(null!=t.label&&(r.text=t.label),t.hasOwnProperty("value")){var o=r.value=t.value;r.interval=[o,o],r.close=[1,1]}else{for(var i=r.interval=[],a=r.close=[0,0],s=[1,0,1],l=[-1/0,1/0],u=[],c=0;c<2;c++){for(var d=[["gte","gt","min"],["lte","lt","max"]][c],f=0;f<3&&null==i[c];f++)i[c]=t[d[f]],a[c]=s[f],u[c]=2===f;null==i[c]&&(i[c]=l[c])}u[0]&&i[1]===1/0&&(a[0]=0),u[1]&&i[0]===-1/0&&(a[1]=0),i[0]===i[1]&&a[0]&&a[1]&&(r.value=i[0])}r.visual=vj.retrieveVisuals(t),e.push(r)}),this),kQ(t,e),bi(e),K(e,(function(e){var t=e.close,n=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,n)}),this)}};function kQ(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}var OQ=CQ,TQ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return g(t,e),t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),r=t.textStyleModel,o=r.getFont(),i=r.getTextColor(),a=this._getItemAlign(),s=t.itemSize,l=this._getViewData(),u=l.endsText,c=ve(t.get("showLabel",!0),!u);u&&this._renderEndsText(e,u[0],s,c,a),K(l.viewPieceList,(function(r){var l=r.piece,u=new Vo;u.onclick=ne(this._onItemClick,this,l),this._enableHoverLink(u,r.indexInModelPieceList);var d=t.getRepresentValue(l);if(this._createItemSymbol(u,d,[0,0,s[0],s[1]]),c){var f=this.visualMapModel.getValueState(d);u.add(new uu({style:{x:"right"===a?-n:s[0]+n,y:s[1]/2,text:l.text,verticalAlign:"middle",align:a,font:o,fill:i,opacity:"outOfRange"===f?.5:1}}))}e.add(u)}),this),u&&this._renderEndsText(e,u[1],s,c,a),Ch(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var n=this;e.on("mouseover",(function(){return r("highlight")})).on("mouseout",(function(){return r("downplay")}));var r=function(e){var r=n.visualMapModel;r.option.hoverLink&&n.api.dispatchAction({type:e,batch:eQ(r.findTargetDataIndices(t),r)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return QZ(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},t.prototype._renderEndsText=function(e,t,n,r,o){if(t){var i=new Vo,a=this.visualMapModel.textStyleModel;i.add(new uu({style:{x:r?"right"===o?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:r?o:"center",text:t,font:a.getFont(),fill:a.getTextColor()}})),e.add(i)}},t.prototype._getViewData=function(){var e=this.visualMapModel,t=X(e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),n=e.get("text"),r=e.get("orient"),o=e.get("inverse");return("horizontal"===r?o:!o)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},t.prototype._createItemSymbol=function(e,t,n){e.add(rx(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},t.prototype._onItemClick=function(e){var t=this.visualMapModel,n=t.option,r=F(n.selected),o=t.getSelectedMapKey(e);"single"===n.selectedMode?(r[o]=!0,K(r,(function(e,t){r[t]=t===o}))):r[o]=!r[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})},t.type="visualMap.piecewise",t}(JZ),MQ=TQ;function DQ(e){e.registerComponentModel(OQ),e.registerComponentView(MQ),wQ(e)}function IQ(e){U_(_Q),U_(DQ)}var EQ={label:{enabled:!0},decal:{show:!1}},AQ=Ki(),LQ={};function jQ(e,t){var n=e.getModel("aria");if(n.get("enabled")){var r=F(EQ);z(r.label,e.getLocaleModel().get("aria"),!1),z(n.option,r,!1),o(),i()}function o(){var t=n.getModel("decal"),r=t.get("show");if(r){var o=Me();e.eachSeries((function(e){if(e.useColorPaletteOnData){var t=o.get(e.type);t||(t={},o.set(e.type,t)),AQ(e).scope=t}})),e.eachRawSeries((function(t){if(!e.isSeriesFiltered(t))if("function"!==typeof t.enableAriaDecal){var n=t.getData();if(t.useColorPaletteOnData){var r=t.getRawData(),o={},i=AQ(t).scope;n.each((function(e){var t=n.getRawIndex(e);o[t]=e}));var a=r.count();r.each((function(e){var s=o[e],l=r.getName(e)||e+"",c=fm(t.ecModel,l,i,a),d=n.getItemVisual(s,"decal");n.setItemVisual(s,"decal",u(d,c))}))}else{var s=fm(t.ecModel,t.name,LQ,e.getSeriesCount()),l=n.getVisual("decal");n.setVisual("decal",u(l,s))}}else t.enableAriaDecal();function u(e,t){var n=e?H(H({},t),e):t;return n.dirty=!0,n}}))}}function i(){var r=e.getLocaleModel().get("aria"),o=n.getModel("label");if(o.option=U(o.option,r),o.get("enabled")){var i=t.getZr().dom;if(o.get("description"))i.setAttribute("aria-label",o.get("description"));else{var u,c=e.getSeriesCount(),d=o.get(["data","maxCount"])||10,f=o.get(["series","maxCount"])||10,p=Math.min(c,f);if(!(c<1)){var h=s();if(h){var m=o.get(["general","withTitle"]);u=a(m,{title:h})}else u=o.get(["general","withoutTitle"]);var g=[],v=c>1?o.get(["series","multiple","prefix"]):o.get(["series","single","prefix"]);u+=a(v,{seriesCount:c}),e.eachSeries((function(e,t){if(t<p){var n=void 0,r=e.get("name"),i=r?"withName":"withoutName";n=c>1?o.get(["series","multiple",i]):o.get(["series","single",i]),n=a(n,{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:l(e.subType)});var s=e.getData();if(s.count()>d){var u=o.get(["data","partialData"]);n+=a(u,{displayCnt:d})}else n+=o.get(["data","allData"]);for(var f=[],h=0;h<s.count();h++)if(h<d){var m=s.getName(h),v=Rg(s,h),y=o.get(["data",m?"withName":"withoutName"]);f.push(a(y,{name:m,value:v}))}var b=o.get(["data","separator","middle"]),x=o.get(["data","separator","end"]);n+=f.join(b)+x,g.push(n)}}));var y=o.getModel(["series","multiple","separator"]),b=y.get("middle"),x=y.get("end");u+=g.join(b)+x,i.setAttribute("aria-label",u)}}}}function a(e,t){if("string"!==typeof e)return e;var n=e;return K(t,(function(e,t){n=n.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)})),n}function s(){var t=e.get("title");return t&&t.length&&(t=t[0]),t&&t.text}function l(t){return e.getLocaleModel().get(["series","typeNames"])[t]||"自定义图"}}function NQ(e){if(e&&e.aria){var t=e.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},K(["description","general","series","data"],(function(e){null!=t[e]&&(t.label[e]=t[e])}))}}function PQ(e){e.registerPreprocessor(NQ),e.registerVisual(e.PRIORITY.VISUAL.ARIA,jQ)}var RQ={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},BQ=function(){function e(e){var t=this._condVal=ae(e)?new RegExp(e):me(e)?e:null;if(null==t){var n="";0,qg(n)}}return e.prototype.evaluate=function(e){var t=typeof e;return"string"===t?this._condVal.test(e):"number"===t&&this._condVal.test(e+"")},e}(),FQ=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),zQ=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},e}(),VQ=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},e}(),HQ=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),UQ=function(){function e(){}return e.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,n=t(this.valueGetterParam),r=e?this.valueParser(n):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(e?r:n))return!1;return!0},e}();function $Q(e,t){if(!0===e||!1===e){var n=new FQ;return n.value=e,n}var r="";return YQ(e)||qg(r),e.and?qQ("and",e,t):e.or?qQ("or",e,t):e.not?WQ(e,t):GQ(e,t)}function qQ(e,t,n){var r=t[e],o="";oe(r)||qg(o),r.length||qg(o);var i="and"===e?new zQ:new VQ;return i.children=X(r,(function(e){return $Q(e,n)})),i.children.length||qg(o),i}function WQ(e,t){var n=e.not,r="";YQ(n)||qg(r);var o=new HQ;return o.child=$Q(n,t),o.child||qg(r),o}function GQ(e,t){for(var n="",r=t.prepareGetValue(e),o=[],i=ee(e),a=e.parser,s=a?Yg(a):null,l=0;l<i.length;l++){var u=i[l];if("parser"!==u&&!t.valueGetterAttrMap.get(u)){var c=Ee(RQ,u)?RQ[u]:u,d=e[u],f=s?s(d):d,p=Qg(c,f)||"reg"===c&&new BQ(f);p||qg(n),o.push(p)}}o.length||qg(n);var h=new UQ;return h.valueGetterParam=r,h.valueParser=s,h.getValue=t.getValue,h.subCondList=o,h}function YQ(e){return ue(e)&&!Y(e)}var KQ=function(){function e(e,t){this._cond=$Q(e,t)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();function XQ(e,t){return new KQ(e,t)}var JQ={type:"echarts:filter",transform:function(e){for(var t,n=e.upstream,r=XQ(e.config,{valueGetterAttrMap:Me({dimension:!0}),prepareGetValue:function(e){var t="",r=e.dimension;Ee(e,"dimension")||qg(t);var o=n.getDimensionInfo(r);return o||qg(t),{dimIdx:o.index}},getValue:function(e){return n.retrieveValueFromItem(t,e.dimIdx)}}),o=[],i=0,a=n.count();i<a;i++)t=n.getRawDataItem(i),r.evaluate()&&o.push(t);return{data:o}}};var ZQ={type:"echarts:sort",transform:function(e){var t=e.upstream,n=e.config,r="",o=Ti(n);o.length||qg(r);var i=[];K(o,(function(e){var n=e.dimension,o=e.order,a=e.parser,s=e.incomparable;if(null==n&&qg(r),"asc"!==o&&"desc"!==o&&qg(r),s&&"min"!==s&&"max"!==s){var l="";0,qg(l)}if("asc"!==o&&"desc"!==o){var u="";0,qg(u)}var c=t.getDimensionInfo(n);c||qg(r);var d=a?Yg(a):null;a&&!d&&qg(r),i.push({dimIdx:c.index,parser:d,comparator:new Jg(o,s)})}));var a=t.sourceFormat;a!==Vh&&a!==Hh&&qg(r);for(var s=[],l=0,u=t.count();l<u;l++)s.push(t.getRawDataItem(l));return s.sort((function(e,n){for(var r=0;r<i.length;r++){var o=i[r],a=t.retrieveValueFromItem(e,o.dimIdx),s=t.retrieveValueFromItem(n,o.dimIdx);o.parser&&(a=o.parser(a),s=o.parser(s));var l=o.comparator.evaluate(a,s);if(0!==l)return l}return 0})),{data:s}}};function QQ(e){e.registerTransform(JQ),e.registerTransform(ZQ)}var e0=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return g(t,e),t.prototype.init=function(t,n,r){e.prototype.init.call(this,t,n,r),this._sourceManager=new dv(this),fv(this)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),fv(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Wh},t}(Nh),t0=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return g(t,e),t.type="dataset",t}(Yv);function n0(e){e.registerComponentModel(e0),e.registerComponentView(t0)}U_([cO]),U_([xT]),U_([xM,QM,bD,UI,dE,bA,gL,Kj,fP,CP,jP,FB,vF,PF,cz,xz,Uz,eV,IV,zV,iH,u$]),U_(sq),U_(Zq),U_(dW),U_(PW),U_(BB),U_(YW),U_(lG),U_(GY),U_(SK),U_(aq),U_(oX),U_(sX),U_(IX),U_(eJ),U_(fJ),U_(kJ),U_(QJ),U_(jZ),U_(gZ),U_(LZ),U_(IQ),U_(_Q),U_(DQ),U_(PQ),U_(QQ),U_(n0)},cae5:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-row",{attrs:{gutter:12}},[n("a-col",{staticStyle:{"max-height":"500px","overflow-y":"scroll"},attrs:{span:6}},[n("a-card",{attrs:{bordered:!1}},[n("a-divider",[e._v("选择商品分类")]),n("a-tree",{attrs:{loadData:e.onLoadData,treeData:e.treeData},on:{select:e.selectNode}})],1)],1),n("a-col",{attrs:{span:18}},[n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"商品名称"}},[n("a-input",{attrs:{placeholder:"商品名称"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),n("a-col",{attrs:{md:8,sm:8}},[n("a-form-item",{attrs:{label:"审核状态"}},[n("a-select",{attrs:{placeholder:"订单类型"},model:{value:e.queryParam.verifyStatus,callback:function(t){e.$set(e.queryParam,"verifyStatus",t)},expression:"queryParam.verifyStatus"}},[n("a-select-option",{attrs:{value:"0"}},[e._v("待审核")]),n("a-select-option",{attrs:{value:"1"}},[e._v("审核通过")]),n("a-select-option",{attrs:{value:"2"}},[e._v("审核不通过")]),n("a-select-option",{attrs:{value:"3"}},[e._v("已保存")])],1)],1)],1),n("a-col",{attrs:{md:8,sm:8}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")])],1)],1)],1)],1),n("div",{staticClass:"table-operator"},[e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n          "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"small",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"productName",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v(e._s(r.name))])])}},{key:"price",fn:function(t,r){return n("span",{},[e._v("\n        现价："+e._s(r.price)+"\n        "),n("a-divider",{attrs:{type:"vertical"}}),e._v("\n        原价："+e._s(r.originalPrice)+"\n      ")],1)}},{key:"coinPrice",fn:function(t,r){return n("span",{},[e._v("\n        "+e._s(r.coinPrice)+"元\n        "),n("a-divider",{attrs:{type:"vertical"}}),e._v("\n        "+e._s(r.coin)+"币\n      ")],1)}},{key:"status",fn:function(t,r){return n("span",{},["0"==r.verifyStatus?n("a-tag",{attrs:{color:"orange"}},[e._v("待审核")]):e._e(),"1"==r.verifyStatus?n("a-tag",{attrs:{color:"green"}},[e._v("审核通过")]):e._e(),"2"==r.verifyStatus?n("a-tag",{attrs:{color:"red"}},[e._v("审核不通过")]):e._e(),"3"==r.verifyStatus?n("a-tag",{attrs:{color:"red"}},[e._v("已保存")]):e._e(),"0"==r.publishStatus?n("a-tag",[e._v("未上架")]):e._e(),"1"==r.publishStatus?n("a-tag",{attrs:{color:"green"}},[e._v("已上架")]):e._e()],1)}},{key:"action",fn:function(t,r){return n("span",{},[n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("pms-product-advanced",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)],1)],1)},o=[],i=n("6e41"),a=n("d4df"),s=n("b65a"),l=n("0fea");function u(e){return p(e)||f(e)||d(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function f(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function p(e){if(Array.isArray(e))return h(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m={name:"PmsProductList",mixins:[s["a"]],components:{PmsProductModal:i["default"],PmsProductAdvanced:a["default"]},data:function(){return{description:"商品管理页面",treeData:[{title:"虚拟商品",key:"G01"},{title:"实物商品",key:"G02"}],isorter:{column:"id",order:"desc"},columns:[{title:"编号",dataIndex:"",key:"rowIndex",align:"center",customRender:function(e,t,n){return e.id}},{title:"产品名称",align:"center",dataIndex:"name",scopedSlots:{customRender:"productName"}},{title:"价格",align:"center",dataIndex:"price",scopedSlots:{customRender:"price"}},{title:"公益价",align:"center",dataIndex:"coinPrice",scopedSlots:{customRender:"coinPrice"}},{title:"状态",align:"center",dataIndex:"verifyStatus",scopedSlots:{customRender:"status"}}],url:{list:"/mall/pmsProduct/list",delete:"/mall/pmsProduct/delete",deleteBatch:"/mall/pmsProduct/deleteBatch",exportXlsUrl:"mall/pmsProduct/exportXls",importExcelUrl:"mall/pmsProduct/importExcel",categoryTreeRoot:window._CONFIG["ssoPrefixUrl"]+"/sys/category/loadTreeRoot",url_children:"/sys/category/loadTreeChildren"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{selectNode:function(e,t){var n=t.node;n.isLeaf&&(this.queryParam.productCategoryCode=e[0],this.filters={},this.filters["productCategoryCode"]=e[0],this.searchQuery(this.filters))},onLoadData:function(e){var t=this;return new Promise((function(n){var r={};e.dataRef.children?n():(e&&e.dataRef&&(n(),r.pcode=e.dataRef.key,r.async=!0),Object(l["c"])(t.url.categoryTreeRoot,r).then((function(r){if(r.success){var o=r.result;if(o&&o.length>0)for(var i=0;i<o.length;i++)o[i].isLeaf=o[i].leaf,o[i].key=o[i].code;e.dataRef.children=o,t.treeData=u(t.treeData),n()}})))}))}}},g=m,v=(n("5832"),n("5d22")),y=Object(v["a"])(g,r,o,!1,null,"694d0754",null);t["default"]=y.exports},cb6e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:e.title,width:800,placement:"right",closable:!1,visible:e.visible},on:{close:e.close}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"brandId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["brandId",{}],expression:"['brandId', {}]"}],attrs:{placeholder:"请输入brandId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"productCategoryId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["productCategoryId",{}],expression:"['productCategoryId', {}]"}],attrs:{placeholder:"请输入productCategoryId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"feightTemplateId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["feightTemplateId",{}],expression:"['feightTemplateId', {}]"}],attrs:{placeholder:"请输入feightTemplateId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"productAttributeCategoryId"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["productAttributeCategoryId",{}],expression:"['productAttributeCategoryId', {}]"}],attrs:{placeholder:"请输入productAttributeCategoryId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"name"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"['name', validatorRules.name ]"}],attrs:{placeholder:"请输入name"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"pic"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["pic",{}],expression:"['pic', {}]"}],attrs:{placeholder:"请输入pic"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"货号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["productSn",e.validatorRules.productSn],expression:"['productSn', validatorRules.productSn ]"}],attrs:{placeholder:"请输入货号"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"删除状态：0->未删除；1->已删除"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["deleteStatus",{}],expression:"[ 'deleteStatus', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"上架状态：0->下架；1->上架"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["publishStatus",{}],expression:"[ 'publishStatus', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"新品状态:0->不是新品；1->新品"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["newStatus",{}],expression:"[ 'newStatus', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"推荐状态；0->不推荐；1->推荐"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["recommandStatus",{}],expression:"[ 'recommandStatus', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"审核状态：0->未审核；1->审核通过"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["verifyStatus",{}],expression:"[ 'verifyStatus', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sort",{}],expression:"[ 'sort', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"销量"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sale",{}],expression:"[ 'sale', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"price"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["price",{}],expression:"[ 'price', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"促销价格"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["promotionPrice",{}],expression:"[ 'promotionPrice', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"赠送的成长值"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["giftGrowth",{}],expression:"[ 'giftGrowth', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"赠送的积分"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["giftPoint",{}],expression:"[ 'giftPoint', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"限制使用的积分数"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["usePointLimit",{}],expression:"[ 'usePointLimit', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"副标题"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["subTitle",{}],expression:"['subTitle', {}]"}],attrs:{placeholder:"请输入副标题"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"商品描述"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["description",{}],expression:"['description', {}]"}],attrs:{placeholder:"请输入商品描述"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"市场价"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["originalPrice",{}],expression:"[ 'originalPrice', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"库存"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["stock",{}],expression:"[ 'stock', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"库存预警值"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["lowStock",{}],expression:"[ 'lowStock', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"单位"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["unit",{}],expression:"['unit', {}]"}],attrs:{placeholder:"请输入单位"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"商品重量，默认为克"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["weight",{}],expression:"[ 'weight', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否为预告商品：0->不是；1->是"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["previewStatus",{}],expression:"[ 'previewStatus', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"以逗号分割的产品服务：1->无忧退货；2->快速退款；3->免费包邮"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["serviceIds",{}],expression:"['serviceIds', {}]"}],attrs:{placeholder:"请输入以逗号分割的产品服务：1->无忧退货；2->快速退款；3->免费包邮"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"keywords"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["keywords",{}],expression:"['keywords', {}]"}],attrs:{placeholder:"请输入keywords"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"note"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["note",{}],expression:"['note', {}]"}],attrs:{placeholder:"请输入note"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"画册图片，连产品图片限制为5张，以逗号分割"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["albumPics",{}],expression:"['albumPics', {}]"}],attrs:{placeholder:"请输入画册图片，连产品图片限制为5张，以逗号分割"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"detailTitle"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["detailTitle",{}],expression:"['detailTitle', {}]"}],attrs:{placeholder:"请输入detailTitle"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"detailDesc"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["detailDesc",{}],expression:"['detailDesc', {}]"}],attrs:{placeholder:"请输入detailDesc"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"产品详情网页内容"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["detailHtml",{}],expression:"['detailHtml', {}]"}],attrs:{placeholder:"请输入产品详情网页内容"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"移动端网页详情"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["detailMobileHtml",{}],expression:"['detailMobileHtml', {}]"}],attrs:{placeholder:"请输入移动端网页详情"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"促销开始时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["promotionStartTime",{}],expression:"[ 'promotionStartTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"促销结束时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["promotionEndTime",{}],expression:"[ 'promotionEndTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"活动限购数量"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["promotionPerLimit",{}],expression:"[ 'promotionPerLimit', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"促销类型：0->没有促销使用原价;1->使用促销价；2->使用会员价；3->使用阶梯价格；4->使用满减价格；5->限时购"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["promotionType",{}],expression:"[ 'promotionType', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"品牌名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["brandName",{}],expression:"['brandName', {}]"}],attrs:{placeholder:"请输入品牌名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"商品分类名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["productCategoryName",{}],expression:"['productCategoryName', {}]"}],attrs:{placeholder:"请输入商品分类名称"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属部门"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sysOrgCode",{}],expression:"['sysOrgCode', {}]"}],attrs:{placeholder:"请输入所属部门"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属公司"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sysCompanyCode",{}],expression:"['sysCompanyCode', {}]"}],attrs:{placeholder:"请输入所属公司"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属区域"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["areaCode",{}],expression:"['areaCode', {}]"}],attrs:{placeholder:"请输入所属区域"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"产品类别码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["productCategoryCode",{}],expression:"['productCategoryCode', {}]"}],attrs:{placeholder:"请输入产品类别码"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"公益价"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["coinPrice",{}],expression:"[ 'coinPrice', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"消耗公益币数量"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["coin",{}],expression:"[ 'coin', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"自动下架时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["autoUnpublishTime",{}],expression:"[ 'autoUnpublishTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"商品好评率"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["goodReviewRatio",{}],expression:"[ 'goodReviewRatio', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"店铺经度"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["longitude",{}],expression:"[ 'longitude', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"店铺维度"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["latitude",{}],expression:"[ 'latitude', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"最低订购数量"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["minBuyQuantity",{}],expression:"[ 'minBuyQuantity', {}]"}]})],1)],1)],1),n("a-button",{attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("确定")]),n("a-button",{attrs:{type:"primary"},on:{click:e.handleCancel}},[e._v("取消")])],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=n("caaf"),u=n.n(l),c={name:"PmsProductModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{name:{rules:[{required:!0,message:"请输入name!"}]},productSn:{rules:[{required:!0,message:"请输入货号!"}]}},url:{add:"/mall/pmsProduct/add",edit:"/mall/pmsProduct/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"brandId","productCategoryId","feightTemplateId","productAttributeCategoryId","name","pic","productSn","deleteStatus","publishStatus","newStatus","recommandStatus","verifyStatus","sort","sale","price","promotionPrice","giftGrowth","giftPoint","usePointLimit","subTitle","description","originalPrice","stock","lowStock","unit","weight","previewStatus","serviceIds","keywords","note","albumPics","detailTitle","detailDesc","detailHtml","detailMobileHtml","promotionPerLimit","promotionType","brandName","productCategoryName","sysOrgCode","sysCompanyCode","areaCode","productCategoryCode","coinPrice","coin","goodReviewRatio","longitude","latitude","minBuyQuantity")),t.form.setFieldsValue({promotionStartTime:t.model.promotionStartTime?u()(t.model.promotionStartTime):null}),t.form.setFieldsValue({promotionEndTime:t.model.promotionEndTime?u()(t.model.promotionEndTime):null}),t.form.setFieldsValue({autoUnpublishTime:t.model.autoUnpublishTime?u()(t.model.autoUnpublishTime):null})}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);s.promotionStartTime=s.promotionStartTime?s.promotionStartTime.format("YYYY-MM-DD HH:mm:ss"):null,s.promotionEndTime=s.promotionEndTime?s.promotionEndTime.format("YYYY-MM-DD HH:mm:ss"):null,s.autoUnpublishTime=s.autoUnpublishTime?s.autoUnpublishTime.format("YYYY-MM-DD HH:mm:ss"):null,Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},d=c,f=(n("30c2"),n("5d22")),p=Object(f["a"])(d,r,o,!1,null,"7a02e3ab",null);t["default"]=p.exports},cb91:function(e,t,n){},cc89:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("exception-page",{attrs:{type:"404"}})},o=[],i=n("0673"),a={components:{ExceptionPage:i["default"]}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"ec864426",null);t["default"]=u.exports},cd07:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header-index-wide"},[n("a-card",{style:{height:"100%"},attrs:{bordered:!1,bodyStyle:{padding:"16px 0",height:"100%"}}},[n("div",{staticClass:"account-settings-info-main",class:e.device,style:"min-height:"+e.mainInfoHeight},[n("div",{staticClass:"account-settings-info-left"},[n("a-menu",{style:{border:"0",width:"mobile"==e.device?"560px":"auto"},attrs:{mode:"mobile"==e.device?"horizontal":"inline",defaultSelectedKeys:e.defaultSelectedKeys,type:"inner"},on:{openChange:e.onOpenChange}},[n("a-menu-item",{key:"/account/settings/base"},[n("router-link",{attrs:{to:{name:"account-settings-base"}}},[e._v("\n              基本设置\n            ")])],1),n("a-menu-item",{key:"/account/settings/security"},[n("router-link",{attrs:{to:{name:"account-settings-security"}}},[e._v("\n              安全设置\n            ")])],1),n("a-menu-item",{key:"/account/settings/custom"},[n("router-link",{attrs:{to:{name:"account-settings-custom"}}},[e._v("\n              个性化\n            ")])],1),n("a-menu-item",{key:"/account/settings/binding"},[n("router-link",{attrs:{to:{name:"account-settings-binding"}}},[e._v("\n              账户绑定\n            ")])],1),n("a-menu-item",{key:"/account/settings/notification"},[n("router-link",{attrs:{to:{name:"account-settings-notification"}}},[e._v("\n              新消息通知\n            ")])],1)],1)],1),n("div",{staticClass:"account-settings-info-right"},[n("div",{staticClass:"account-settings-info-title"},[n("span",[e._v(e._s(e.$route.meta.title))])]),n("route-view")],1)])])],1)},o=[],i=n("b445"),a=n("501f"),s=n("ac0d"),l={components:{RouteView:a["default"],PageLayout:i["default"]},mixins:[s["b"]],data:function(){return{mode:"inline",mainInfoHeight:"100%",openKeys:[],defaultSelectedKeys:[],preview:{},option:{img:"/avatar2.jpg",info:!0,size:1,outputType:"jpeg",canScale:!1,autoCrop:!0,autoCropWidth:180,autoCropHeight:180,fixedBox:!0,fixed:!0,fixedNumber:[1,1]},pageTitle:""}},created:function(){this.updateMenu()},mounted:function(){this.mainInfoHeight=window.innerHeight-285+"px"},methods:{onOpenChange:function(e){this.openKeys=e},updateMenu:function(){var e=this.$route.matched.concat();this.defaultSelectedKeys=[e.pop().path]}}},u=l,c=(n("2bcd"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"10979fbf",null);t["default"]=d.exports},cd43:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form",{staticClass:"form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:6,md:12,sm:24}},[n("a-form-item",{attrs:{label:"仓库名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.name",{rules:[{required:!0,message:"请输入仓库名称",whitespace:!0}]}],expression:"[\n            'repository.name',\n            {rules: [{ required: true, message: '请输入仓库名称', whitespace: true}]}\n          ]"}],attrs:{placeholder:"请输入仓库名称"}})],1)],1),n("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[n("a-form-item",{attrs:{label:"仓库域名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.domain",{rules:[{required:!0,message:"请输入仓库域名",whitespace:!0},{validator:e.validate}]}],expression:"[\n            'repository.domain',\n            {rules: [{ required: true, message: '请输入仓库域名', whitespace: true}, {validator: validate}]}\n          ]"}],attrs:{addonBefore:"http://",addonAfter:".com",placeholder:"请输入"}})],1)],1),n("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[n("a-form-item",{attrs:{label:"仓库管理员"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.manager",{rules:[{required:!0,message:"请选择管理员"}]}],expression:"[ 'repository.manager', {rules: [{ required: true, message: '请选择管理员'}]} ]"}],attrs:{placeholder:"请选择管理员"}},[n("a-select-option",{attrs:{value:"王同学"}},[e._v("王同学")]),n("a-select-option",{attrs:{value:"李同学"}},[e._v("李同学")]),n("a-select-option",{attrs:{value:"黄同学"}},[e._v("黄同学")])],1)],1)],1)],1),n("a-row",{staticClass:"form-row",attrs:{gutter:16}},[n("a-col",{attrs:{lg:6,md:12,sm:24}},[n("a-form-item",{attrs:{label:"审批人"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.auditor",{rules:[{required:!0,message:"请选择审批员"}]}],expression:"[ 'repository.auditor', {rules: [{ required: true, message: '请选择审批员'}]} ]"}],attrs:{placeholder:"请选择审批员"}},[n("a-select-option",{attrs:{value:"王晓丽"}},[e._v("王晓丽")]),n("a-select-option",{attrs:{value:"李军"}},[e._v("李军")])],1)],1)],1),n("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[n("a-form-item",{attrs:{label:"生效日期"}},[n("a-range-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.effectiveDate",{rules:[{required:!0,message:"请选择生效日期"}]}],expression:"[\n            'repository.effectiveDate',\n            {rules: [{ required: true, message: '请选择生效日期'}]}\n          ]"}],staticStyle:{width:"100%"}})],1)],1),n("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[n("a-form-item",{attrs:{label:"仓库类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["repository.type",{rules:[{required:!0,message:"请选择仓库类型"}]}],expression:"[\n            'repository.type',\n            {rules: [{ required: true, message: '请选择仓库类型'}]}\n          ]"}],attrs:{placeholder:"请选择仓库类型"}},[n("a-select-option",{attrs:{value:"公开"}},[e._v("公开")]),n("a-select-option",{attrs:{value:"私密"}},[e._v("私密")])],1)],1)],1)],1),e.showSubmit?n("a-form-item",[n("a-button",{attrs:{htmlType:"submit"}},[e._v("Submit")])],1):e._e()],1)},o=[],i={name:"RepositoryForm",props:{showSubmit:{type:Boolean,default:!1}},data:function(){return{form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,n){e||t.$notification["error"]({message:"Received values of form:",description:n})}))},validate:function(e,t,n){var r=/^user-(.*)$/;r.test(t)||n("需要以 user- 开头"),n()}}},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,"cba1edea",null);t["default"]=l.exports},cdf0:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:e.title,width:800,placement:"right",closable:!1,visible:e.visible},on:{close:e.close}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"提现申请编号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sn",{}],expression:"['sn', {}]"}],attrs:{placeholder:"请输入提现申请编号"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"提现金额"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["amount",{}],expression:"[ 'amount', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"银行卡号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bankAccount",{}],expression:"['bankAccount', {}]"}],attrs:{placeholder:"请输入银行卡号"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"开户名"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bankAccountName",{}],expression:"['bankAccountName', {}]"}],attrs:{placeholder:"请输入开户名"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"开户行"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bank",{}],expression:"['bank', {}]"}],attrs:{placeholder:"请输入开户行"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"操作人员"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["operateMan",{}],expression:"['operateMan', {}]"}],attrs:{placeholder:"请输入操作人员"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"操作备注"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["operateNote",{}],expression:"['operateNote', {}]"}],attrs:{placeholder:"请输入操作备注"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"状态：0->待审核；1->已驳回；2->已通过"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{}],expression:"[ 'status', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"驳回原因"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["rejectReason",{}],expression:"['rejectReason', {}]"}],attrs:{placeholder:"请输入驳回原因"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"所属公司"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sysCompanyCode",{}],expression:"['sysCompanyCode', {}]"}],attrs:{placeholder:"请输入所属公司"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"操作（通过/驳回）时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["operateTime",{}],expression:"[ 'operateTime', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1)],1)],1),n("a-button",{attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("确定")]),n("a-button",{attrs:{type:"primary"},on:{click:e.handleCancel}},[e._v("取消")])],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=n("caaf"),u=n.n(l),c={name:"ShopAccountWithdrawCashHistoryModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/mall/shopAccountWithdrawCashHistory/add",edit:"/mall/shopAccountWithdrawCashHistory/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"sn","amount","bankAccount","bankAccountName","bank","operateMan","operateNote","status","rejectReason","sysCompanyCode")),t.form.setFieldsValue({operateTime:t.model.operateTime?u()(t.model.operateTime):null})}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);s.operateTime=s.operateTime?s.operateTime.format("YYYY-MM-DD HH:mm:ss"):null,Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},d=c,f=(n("6c11"),n("5d22")),p=Object(f["a"])(d,r,o,!1,null,"6206ab1b",null);t["default"]=p.exports},ce31:function(e,t,n){"use strict";n("ca3e")},ce82:function(e,t,n){},cf74:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-upload",{attrs:{name:"file",multiple:!0,action:e.uploadAction,headers:e.headers,data:{isup:1,bizPath:e.bizPath},fileList:e.fileList,beforeUpload:e.beforeUpload},on:{change:e.handleChange}},[n("a-button",[n("a-icon",{attrs:{type:"upload"}}),e._v(e._s(e.text)+"\n  ")],1)],1)},o=[],i=n("a593"),a=n("9fb0"),s="all",l="image",u="file",c=function(){return"-"+parseInt(1e4*Math.random()+1,10)},d=function(e){if(e.lastIndexOf("\\")>=0){var t=new RegExp("\\\\","g");e=e.replace(t,"/")}return e.substring(e.lastIndexOf("/")+1)},f={name:"JUpload",data:function(){return{uploadAction:window._CONFIG["domianURL"]+"/sys/common/upload",urlDownload:window._CONFIG["domianURL"]+"/sys/common/download/",headers:{},fileList:[]}},props:{text:{type:String,required:!1,default:"点击上传"},fileType:{type:String,required:!1,default:s},bizPath:{type:String,required:!1,default:"temp"},value:{type:String,required:!1},triggerChange:{type:Boolean,required:!1,default:!1}},watch:{value:function(e){this.initFileList(e)}},created:function(){var e=i["default"].ls.get(a["a"]);this.headers={"X-Access-Token":e}},methods:{initFileList:function(e){if(e&&0!=e.length){for(var t=[],n=e.split(","),r=0;r<n.length;r++)t.push({uid:c(),name:d(n[r]),status:"done",url:this.urlDownload+n[r],response:{status:"history",message:n[r]}});this.fileList=t}else this.fileList=[]},handlePathChange:function(){var e=this.fileList,t="";e&&0!=e.length||(t="");for(var n=[],r=0;r<e.length;r++)n.push(e[r].response.message);n.length>0&&(t=n.join(",")),this.$emit("change",t)},beforeUpload:function(e){var t=e.type;if(t===l){if(t.indexOf("image")<0)return this.$message.warning("请上传图片"),!1}else if(t===u&&t.indexOf("image")>=0)return this.$message.warning("请上传文件"),!1;return!0},handleChange:function(e){var t=this,n=e.fileList;"done"===e.file.status?(e.file.response.success&&(n=n.map((function(e){return e.response&&(e.url=t.urlDownload+e.response.message),e}))),this.$message.success("".concat(e.file.name," 上传成功!"))):"error"===e.file.status?this.$message.error("".concat(e.file.name," 上传失败.")):"removed"===e.file.status&&this.handleDelete(e.file),this.fileList=n,"done"!==e.file.status&&"removed"!==e.file.status||this.handlePathChange()},handleDelete:function(e){}},model:{prop:"value",event:"change"}},p=f,h=n("5d22"),m=Object(h["a"])(p,r,o,!1,null,"5849ea14",null);t["default"]=m.exports},d039:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"content",staticClass:"card-list"},[n("a-list",{attrs:{grid:{gutter:24,lg:3,md:2,sm:1,xs:1},dataSource:e.dataSource},scopedSlots:e._u([{key:"renderItem",fn:function(t,r){return n("a-list-item",{},[null===t?[n("a-button",{staticClass:"new-btn",attrs:{type:"dashed"}},[n("a-icon",{attrs:{type:"plus"}}),e._v("\n          新增产品\n        ")],1)]:[n("a-card",{attrs:{hoverable:!0}},[n("a-card-meta",[n("div",{staticStyle:{"margin-bottom":"3px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))]),n("a-avatar",{staticClass:"card-avatar",attrs:{slot:"avatar",src:t.avatar,size:"large"},slot:"avatar"}),n("div",{staticClass:"meta-content",attrs:{slot:"description"},slot:"description"},[e._v(e._s(t.content))])],1),n("template",{staticClass:"ant-card-actions",slot:"actions"},[n("a",[e._v("操作一")]),n("a",[e._v("操作二")])])],2)]],2)}}])})],1)},o=[],i=[];i.push(null);for(var a=0;a<11;a++)i.push({title:"Alipay",avatar:"https://gw.alipayobjects.com/zos/rmsportal/WdGqmHpayyMjiEhcKoVE.png",content:"在中台产品的研发过程中，会出现不同的设计规范和实现方式，但其中往往存在很多类似的页面和组件，这些类似的组件会被抽离成一套标准规范。"});var s={name:"CardList",data:function(){return{description:"段落示意：蚂蚁金服务设计平台 ant.design，用最小的工作量，无缝接入蚂蚁金服生态， 提供跨越设计与开发的体验解决方案。",linkList:[{icon:"rocket",href:"#",title:"快速开始"},{icon:"info-circle-o",href:"#",title:"产品简介"},{icon:"file-text",href:"#",title:"产品文档"}],extraImage:"https://gw.alipayobjects.com/zos/rmsportal/RzwpdLnhmvDJToTdfDPe.png",dataSource:i}}},l=s,u=(n("f8e7"),n("5d22")),c=Object(u["a"])(l,r,o,!1,null,"022c9dfc",null);t["default"]=c.exports},d0df:function(e,t,n){},d1c1:function(e,t,n){n("e61d")},d1c8:function(e,t,n){"use strict";n("66a4")},d259:function(e,t,n){"use strict";n("9efe")},d469:function(e,t,n){(function(e){e(n("fc0f"),n("3564"),n("01d8"),n("6d5c"))})((function(e){"use strict";e.defineMode("pug",(function(t){var n="keyword",r="meta",o="builtin",i="qualifier",a={"{":"}","(":")","[":"]"},s=e.getMode(t,"javascript");function l(){this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=e.startState(s),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.scriptType="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=1/0,this.indentToken="",this.innerMode=null,this.innerState=null,this.innerModeForLine=!1}function u(e,t){if(e.sol()&&(t.javaScriptLine=!1,t.javaScriptLineExcludesColon=!1),t.javaScriptLine){if(t.javaScriptLineExcludesColon&&":"===e.peek())return t.javaScriptLine=!1,void(t.javaScriptLineExcludesColon=!1);var n=s.token(e,t.jsState);return e.eol()&&(t.javaScriptLine=!1),n||!0}}function c(e,t){if(t.javaScriptArguments){if(0===t.javaScriptArgumentsDepth&&"("!==e.peek())return void(t.javaScriptArguments=!1);if("("===e.peek()?t.javaScriptArgumentsDepth++:")"===e.peek()&&t.javaScriptArgumentsDepth--,0===t.javaScriptArgumentsDepth)return void(t.javaScriptArguments=!1);var n=s.token(e,t.jsState);return n||!0}}function d(e){if(e.match(/^yield\b/))return"keyword"}function f(e){if(e.match(/^(?:doctype) *([^\n]+)?/))return r}function p(e,t){if(e.match("#{"))return t.isInterpolating=!0,t.interpolationNesting=0,"punctuation"}function h(e,t){if(t.isInterpolating){if("}"===e.peek()){if(t.interpolationNesting--,t.interpolationNesting<0)return e.next(),t.isInterpolating=!1,"punctuation"}else"{"===e.peek()&&t.interpolationNesting++;return s.token(e,t.jsState)||!0}}function m(e,t){if(e.match(/^case\b/))return t.javaScriptLine=!0,n}function g(e,t){if(e.match(/^when\b/))return t.javaScriptLine=!0,t.javaScriptLineExcludesColon=!0,n}function v(e){if(e.match(/^default\b/))return n}function y(e,t){if(e.match(/^extends?\b/))return t.restOfLine="string",n}function b(e,t){if(e.match(/^append\b/))return t.restOfLine="variable",n}function x(e,t){if(e.match(/^prepend\b/))return t.restOfLine="variable",n}function w(e,t){if(e.match(/^block\b *(?:(prepend|append)\b)?/))return t.restOfLine="variable",n}function _(e,t){if(e.match(/^include\b/))return t.restOfLine="string",n}function C(e,t){if(e.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&e.match("include"))return t.isIncludeFiltered=!0,n}function S(e,t){if(t.isIncludeFiltered){var n=L(e,t);return t.isIncludeFiltered=!1,t.restOfLine="string",n}}function k(e,t){if(e.match(/^mixin\b/))return t.javaScriptLine=!0,n}function O(e,t){return e.match(/^\+([-\w]+)/)?(e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),"variable"):e.match("+#{",!1)?(e.next(),t.mixinCallAfter=!0,p(e,t)):void 0}function T(e,t){if(t.mixinCallAfter)return t.mixinCallAfter=!1,e.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),!0}function M(e,t){if(e.match(/^(if|unless|else if|else)\b/))return t.javaScriptLine=!0,n}function D(e,t){if(e.match(/^(- *)?(each|for)\b/))return t.isEach=!0,n}function I(e,t){if(t.isEach){if(e.match(/^ in\b/))return t.javaScriptLine=!0,t.isEach=!1,n;if(e.sol()||e.eol())t.isEach=!1;else if(e.next()){while(!e.match(/^ in\b/,!1)&&e.next());return"variable"}}}function E(e,t){if(e.match(/^while\b/))return t.javaScriptLine=!0,n}function A(e,t){var n;if(n=e.match(/^(\w(?:[-:\w]*\w)?)\/?/))return t.lastTag=n[1].toLowerCase(),"script"===t.lastTag&&(t.scriptType="application/javascript"),"tag"}function L(n,r){var o;if(n.match(/^:([\w\-]+)/))return t&&t.innerModes&&(o=t.innerModes(n.current().substring(1))),o||(o=n.current().substring(1)),"string"===typeof o&&(o=e.getMode(t,o)),W(n,r,o),"atom"}function j(e,t){if(e.match(/^(!?=|-)/))return t.javaScriptLine=!0,"punctuation"}function N(e){if(e.match(/^#([\w-]+)/))return o}function P(e){if(e.match(/^\.([\w-]+)/))return i}function R(e,t){if("("==e.peek())return e.next(),t.isAttrs=!0,t.attrsNest=[],t.inAttributeName=!0,t.attrValue="",t.attributeIsType=!1,"punctuation"}function B(t,n){if(n.isAttrs){if(a[t.peek()]&&n.attrsNest.push(a[t.peek()]),n.attrsNest[n.attrsNest.length-1]===t.peek())n.attrsNest.pop();else if(t.eat(")"))return n.isAttrs=!1,"punctuation";if(n.inAttributeName&&t.match(/^[^=,\)!]+/))return"="!==t.peek()&&"!"!==t.peek()||(n.inAttributeName=!1,n.jsState=e.startState(s),"script"===n.lastTag&&"type"===t.current().trim().toLowerCase()?n.attributeIsType=!0:n.attributeIsType=!1),"attribute";var r=s.token(t,n.jsState);if(n.attributeIsType&&"string"===r&&(n.scriptType=t.current().toString()),0===n.attrsNest.length&&("string"===r||"variable"===r||"keyword"===r))try{return Function("","var x "+n.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),n.inAttributeName=!0,n.attrValue="",t.backUp(t.current().length),B(t,n)}catch(o){}return n.attrValue+=t.current(),r||!0}}function F(e,t){if(e.match(/^&attributes\b/))return t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0,"keyword"}function z(e){if(e.sol()&&e.eatSpace())return"indent"}function V(e,t){if(e.match(/^ *\/\/(-)?([^\n]*)/))return t.indentOf=e.indentation(),t.indentToken="comment","comment"}function H(e){if(e.match(/^: */))return"colon"}function U(e,t){return e.match(/^(?:\| ?| )([^\n]+)/)?"string":e.match(/^(<[^\n]*)/,!1)?(W(e,t,"htmlmixed"),t.innerModeForLine=!0,G(e,t,!0)):void 0}function $(e,t){if(e.eat(".")){var n=null;return"script"===t.lastTag&&-1!=t.scriptType.toLowerCase().indexOf("javascript")?n=t.scriptType.toLowerCase().replace(/"|'/g,""):"style"===t.lastTag&&(n="css"),W(e,t,n),"dot"}}function q(e){return e.next(),null}function W(n,r,o){o=e.mimeModes[o]||o,o=t.innerModes&&t.innerModes(o)||o,o=e.mimeModes[o]||o,o=e.getMode(t,o),r.indentOf=n.indentation(),o&&"null"!==o.name?r.innerMode=o:r.indentToken="string"}function G(t,n,r){if(t.indentation()>n.indentOf||n.innerModeForLine&&!t.sol()||r)return n.innerMode?(n.innerState||(n.innerState=n.innerMode.startState?e.startState(n.innerMode,t.indentation()):{}),t.hideFirstChars(n.indentOf+2,(function(){return n.innerMode.token(t,n.innerState)||!0}))):(t.skipToEnd(),n.indentToken);t.sol()&&(n.indentOf=1/0,n.indentToken=null,n.innerMode=null,n.innerState=null)}function Y(e,t){if(e.sol()&&(t.restOfLine=""),t.restOfLine){e.skipToEnd();var n=t.restOfLine;return t.restOfLine="",n}}function K(){return new l}function X(e){return e.copy()}function J(e,t){var n=G(e,t)||Y(e,t)||h(e,t)||S(e,t)||I(e,t)||B(e,t)||u(e,t)||c(e,t)||T(e,t)||d(e)||f(e)||p(e,t)||m(e,t)||g(e,t)||v(e)||y(e,t)||b(e,t)||x(e,t)||w(e,t)||_(e,t)||C(e,t)||k(e,t)||O(e,t)||M(e,t)||D(e,t)||E(e,t)||A(e,t)||L(e,t)||j(e,t)||N(e)||P(e)||R(e,t)||F(e,t)||z(e)||U(e,t)||V(e,t)||H(e)||$(e,t)||q(e);return!0===n?null:n}return l.prototype.copy=function(){var t=new l;return t.javaScriptLine=this.javaScriptLine,t.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,t.javaScriptArguments=this.javaScriptArguments,t.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,t.isInterpolating=this.isInterpolating,t.interpolationNesting=this.interpolationNesting,t.jsState=e.copyState(s,this.jsState),t.innerMode=this.innerMode,this.innerMode&&this.innerState&&(t.innerState=e.copyState(this.innerMode,this.innerState)),t.restOfLine=this.restOfLine,t.isIncludeFiltered=this.isIncludeFiltered,t.isEach=this.isEach,t.lastTag=this.lastTag,t.scriptType=this.scriptType,t.isAttrs=this.isAttrs,t.attrsNest=this.attrsNest.slice(),t.inAttributeName=this.inAttributeName,t.attributeIsType=this.attributeIsType,t.attrValue=this.attrValue,t.indentOf=this.indentOf,t.indentToken=this.indentToken,t.innerModeForLine=this.innerModeForLine,t},{startState:K,copyState:X,token:J}}),"javascript","css","htmlmixed"),e.defineMIME("text/x-pug","pug"),e.defineMIME("text/x-jade","pug")}))},d4df:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"0px"},attrs:{title:"商品审核",width:e.modelWidth,visible:e.visible,bodyStyle:e.bodyStyle,confirmLoading:e.confirmLoading,maskClosable:!1,footer:null,cancelText:"关闭"},on:{cancel:e.handleCancel}},[n("page-layout",{attrs:{title:"店铺名称："+(e.depart.departName||""),logo:e.depart.logo}},[n("detail-list",{staticClass:"detail-layout",attrs:{slot:"headerContent",size:"small",col:2},slot:"headerContent"},[n("detail-list-item",{attrs:{term:"店铺地址"}},[e._v(e._s(e.depart.address))]),n("detail-list-item",{attrs:{term:"联系电话"}},[e._v(e._s(e.depart.mobile))]),n("detail-list-item",{attrs:{term:"店铺描述"}},[e._v(e._s(e.depart.memo))])],1),n("a-row",{staticClass:"status-list",attrs:{slot:"extra"},slot:"extra"},[n("a-col",{attrs:{xs:12,sm:12}}),n("a-col",{attrs:{xs:12,sm:12}},[n("div",{staticClass:"text"},[e._v("状态")]),"0"==e.product.verifyStatus?n("div",{staticClass:"heading"},[e._v("待审核")]):e._e(),"1"==e.product.verifyStatus?n("div",{staticClass:"heading",staticStyle:{color:"#108ee9"}},[e._v("审核通过")]):e._e(),"2"==e.product.verifyStatus?n("div",{staticClass:"heading",staticStyle:{color:"#f50"}},[e._v("审核未通过")]):e._e()])],1),n("template",{slot:"action"},[n("a-button",{attrs:{type:"primary"},on:{click:e.verify}},[e._v("审核商品")])],1),n("a-card",{staticStyle:{"margin-top":"24px"},attrs:{bordered:!1,title:"商品信息"}},[n("detail-list",[n("detail-list-item",{attrs:{term:"商品名称"}},[e._v(e._s(e.product.name))]),n("detail-list-item",{attrs:{term:"商品编号"}},[e._v(e._s(e.product.id))]),n("detail-list-item",{attrs:{term:"价格"}},[e._v("现价："+e._s(e.product.price)),n("a-divider",{attrs:{type:"vertical"}}),e._v("原价："+e._s(e.product.originalPrice))],1),n("detail-list-item",{attrs:{term:"公益价"}},[e._v(e._s(e.product.coinPrice)+"元"),n("a-divider",{attrs:{type:"vertical"}}),e._v(e._s(e.product.coin)+"公益币")],1),n("detail-list-item",{attrs:{term:"描述"}},[e._v(e._s(e.product.description))])],1),n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"商品图片"}},[n("a-row",{attrs:{gutter:[24,16]}},e._l(e.product.albumPicArr,(function(e){return n("a-col",{attrs:{span:4}},[n("img",{attrs:{src:e,width:"100%"}})])})),1)],1),n("a-tab-pane",{key:"2",attrs:{tab:"详细信息"}},[n("div",{staticStyle:{width:"800px"},domProps:{innerHTML:e._s(e.product.detailMobileHtml)}})]),n("a-tab-pane",{key:"3",attrs:{tab:"SKU库存",forceRender:""}},[n("a-card",{attrs:{type:"inner"}},[n("a-table",{attrs:{columns:e.pmsSkuStockColumns,dataSource:e.pmsSkuStock,pagination:!1},scopedSlots:e._u([{key:"sp1",fn:function(t,r){return n("span",{},[e._v("\n                  "+e._s(r.sp1)+"\n                  "),n("a-divider",{attrs:{type:"vertical"}}),e._v("\n                  "+e._s(r.sp2)+"\n                ")],1)}},{key:"coinPrice",fn:function(t,r){return n("span",{},[e._v("\n                  "+e._s(r.coinPrice)+"元\n                  "),n("a-divider",{attrs:{type:"vertical"}}),e._v("\n                  "+e._s(r.coin)+"公益币\n                ")],1)}}])})],1)],1)],1)],1)],2),n("product-verify-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("ac0d"),a=n("0fea"),s=n("b445"),l=n("aee5"),u=n("c16f"),c=u["default"].Item,d={name:"PmsProductAdvanced",components:{PageLayout:s["default"],ProductVerifyModal:l["default"],DetailList:u["default"],DetailListItem:c},mixins:[i["b"]],data:function(){return{visible:!1,verifyVisible:!1,bodyStyle:{padding:"0",height:window.innerHeight-100+"px"},modelWidth:window.innerWidth-80,product:{},depart:{},pmsProductVertifyRecord:{},pmsSkuStock:[],pmsSkuStockColumns:[{title:"SKU编码",dataIndex:"skuCode",key:"skuCode"},{title:"属性",dataIndex:"sp1",ky:"sp1",scopedSlots:{customRender:"sp1"}},{title:"价格",dataIndex:"price",key:"price"},{title:"公益价",dataIndex:"coinPrice",key:"coinPrice",scopedSlots:{customRender:"coinPrice"}},{title:"库存",dataIndex:"stock",ky:"stock"}],labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,url:{detail:"/mall/pmsProduct/",imgServer:window._CONFIG["imageViewURL"]+"/"}}},filters:{statusFilter:function(e){var t={agree:"成功",reject:"驳回"};return t[e]},statusTypeFilter:function(e){var t={agree:"success",reject:"error"};return t[e]}},methods:{modalFormOk:function(){this.detail({id:this.product.id}),this.$emit("ok")},detail:function(e){var t=this;Object(a["c"])(this.url.detail+e.id).then((function(e){if(e.success){if(e.result.pmsProduct&&(t.product=e.result.pmsProduct,t.product.albumPicArr=[],t.product.pic&&(t.product.pic=t.showPicture(t.product.pic),t.product.albumPicArr.push(t.product.pic)),t.product.albumPics))for(var n=t.product.albumPics.split(","),r=0;r<n.length;r++)t.product.albumPicArr.push(t.showPicture(n[r]));e.result.depart&&(t.depart=e.result.depart,t.depart.logo&&(t.depart.logo=t.showPicture(t.depart.logo))),e.result.pmsProductVertifyRecord&&(t.pmsProductVertifyRecord=e.result.pmsProductVertifyRecord),e.result.pmsSkuStock&&(t.pmsSkuStock=e.result.pmsSkuStock)}}))},verify:function(){this.$refs.modalForm.open(this.product.id)},showPicture:function(e){return this.url.imgServer+e},edit:function(e){this.visible=!0,this.detail(e)},close:function(){this.$emit("close"),this.visible=!1},handleCancel:function(){this.close()}}},f=d,p=(n("a645"),n("5d22")),h=Object(p["a"])(f,r,o,!1,null,"a4645fc8",null);t["default"]=h.exports},d544:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator",staticStyle:{margin:"-25px 0px 10px 0px"},attrs:{md:24,sm:24}},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("\n          删除\n        ")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作\n        "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v("\n            更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDetail(r)}}},[e._v("详情")])]),n("a-menu-item",[n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)],1)],1)],1)}}])})],1),n("jeecgOrderCustomer-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("39a5"),a=n("6620"),s=n("b65a"),l=n("0fea"),u={name:"JeecgOrderCustomerList",mixins:[s["a"]],components:{JeecgOrderDMainList:a["default"],JeecgOrderCustomerModal:i["default"]},data:function(){return{description:"订单客户信息",columns:[{title:"客户名",align:"center",width:100,dataIndex:"name",key:"name"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return 1==e?"男":2==e?"女":e}},{title:"身份证号码",align:"center",dataIndex:"idcard"},{title:"电话",dataIndex:"telphone",align:"center"},{title:"操作",key:"operation",align:"center",width:130,scopedSlots:{customRender:"action"}}],url:{list:"/test/order/listOrderCustomerByMainId",delete:"/test/order/deleteCustomer",deleteBatch:"/test/order/deleteBatchCustomer"}}},methods:{loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(l["c"])(this.url.list,{mainId:n.mainId}).then((function(e){e.success?t.dataSource=e.result:t.dataSource=null}))},getOrderMain:function(e){this.queryParam.mainId=e,this.loadData(1)},handleAdd:function(){this.$refs.modalForm.add(this.queryParam.mainId),this.$refs.modalForm.title="添加客户信息"}}},c=u,d=(n("019b"),n("5d22")),f=Object(d["a"])(c,r,o,!1,null,"6ae50bf6",null);t["default"]=f.exports},d579:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-tooltip",{attrs:{placement:"topLeft"}},[n("template",{slot:"title"},[n("span",[e._v(e._s(e.value))])]),e._v("\n  "+e._s(e._f("ellipsis")(e.value,e.length))+"\n")],2)},o=[],i={name:"JEllipsis",props:{value:{type:String,required:!1},length:{type:Number,required:!1,default:25}}},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,"4de15389",null);t["default"]=l.exports},d58e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{title:e.title,width:800,placement:"right",closable:!1,visible:e.visible},on:{close:e.close}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"登录平台"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["platform",e.validatorRules.platform],expression:"['platform', validatorRules.platform ]"}],attrs:{placeholder:"请输入登录平台"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"app"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["appcode",e.validatorRules.appcode],expression:"['appcode', validatorRules.appcode ]"}],attrs:{placeholder:"请输入app"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"手机号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",e.validatorRules.mobile],expression:"['mobile', validatorRules.mobile ]"}],attrs:{placeholder:"请输入手机号"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"token"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["token",{}],expression:"['token', {}]"}],attrs:{placeholder:"请输入token"}})],1)],1)],1),n("a-button",{attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("确定")]),n("a-button",{attrs:{type:"primary"},on:{click:e.handleCancel}},[e._v("取消")])],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=(n("caaf"),{name:"AppRegisterModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{platform:{rules:[{required:!0,message:"请输入登录平台!"}]},appcode:{rules:[{required:!0,message:"请输入app!"}]},mobile:{rules:[{required:!0,message:"请输入手机号!"}]}},url:{add:"/message/appRegister/add",edit:"/message/appRegister/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"platform","appcode","mobile","token"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}}),u=l,c=(n("a626"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"6c70bdcc",null);t["default"]=d.exports},d5d2:function(e,t,n){},d690:function(e,t,n){},d7f9:function(e,t,n){},d841:function(e,t,n){"use strict";n("b957")},d9b3:function(e,t,n){(function(e){e(n("fc0f"))})((function(e){"use strict";function t(e){var t;while(null!=(t=e.next()))if("`"==t&&!e.eat("`"))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function n(e){var t;while(null!=(t=e.next()))if('"'==t&&!e.eat('"'))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function r(e){return e.eat("@")&&(e.match("session."),e.match("local."),e.match("global.")),e.eat("'")?(e.match(/^.*'/),"variable-2"):e.eat('"')?(e.match(/^.*"/),"variable-2"):e.eat("`")?(e.match(/^.*`/),"variable-2"):e.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function o(e){return e.eat("N")?"atom":e.match(/^[a-zA-Z.#!?]/)?"variable-2":null}e.defineMode("sql",(function(t,n){var r=n.client||{},o=n.atoms||{false:!0,true:!0,null:!0},l=n.builtin||a(s),u=n.keywords||a(i),c=n.operatorChars||/^[*+\-%<>!=&|~^\/]/,d=n.support||{},f=n.hooks||{},p=n.dateSQL||{date:!0,time:!0,timestamp:!0},h=!1!==n.backslashStringEscapes,m=n.brackets||/^[\{}\(\)\[\]]/,g=n.punctuation||/^[;.,:]/;function v(e,t){var n=e.next();if(f[n]){var i=f[n](e,t);if(!1!==i)return i}if(d.hexNumber&&("0"==n&&e.match(/^[xX][0-9a-fA-F]+/)||("x"==n||"X"==n)&&e.match(/^'[0-9a-fA-F]+'/)))return"number";if(d.binaryNumber&&(("b"==n||"B"==n)&&e.match(/^'[01]+'/)||"0"==n&&e.match(/^b[01]+/)))return"number";if(n.charCodeAt(0)>47&&n.charCodeAt(0)<58)return e.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),d.decimallessFloat&&e.match(/^\.(?!\.)/),"number";if("?"==n&&(e.eatSpace()||e.eol()||e.eat(";")))return"variable-3";if("'"==n||'"'==n&&d.doubleQuote)return t.tokenize=y(n),t.tokenize(e,t);if((d.nCharCast&&("n"==n||"N"==n)||d.charsetCast&&"_"==n&&e.match(/[a-z][a-z0-9]*/i))&&("'"==e.peek()||'"'==e.peek()))return"keyword";if(d.escapeConstant&&("e"==n||"E"==n)&&("'"==e.peek()||'"'==e.peek()&&d.doubleQuote))return t.tokenize=function(e,t){return(t.tokenize=y(e.next(),!0))(e,t)},"keyword";if(d.commentSlashSlash&&"/"==n&&e.eat("/"))return e.skipToEnd(),"comment";if(d.commentHash&&"#"==n||"-"==n&&e.eat("-")&&(!d.commentSpaceRequired||e.eat(" ")))return e.skipToEnd(),"comment";if("/"==n&&e.eat("*"))return t.tokenize=b(1),t.tokenize(e,t);if("."!=n){if(c.test(n))return e.eatWhile(c),"operator";if(m.test(n))return"bracket";if(g.test(n))return e.eatWhile(g),"punctuation";if("{"==n&&(e.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||e.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";e.eatWhile(/^[_\w\d]/);var a=e.current().toLowerCase();return p.hasOwnProperty(a)&&(e.match(/^( )+'[^']*'/)||e.match(/^( )+"[^"]*"/))?"number":o.hasOwnProperty(a)?"atom":l.hasOwnProperty(a)?"builtin":u.hasOwnProperty(a)?"keyword":r.hasOwnProperty(a)?"string-2":null}return d.zerolessFloat&&e.match(/^(?:\d+(?:e[+-]?\d+)?)/i)?"number":e.match(/^\.+/)?null:d.ODBCdotTable&&e.match(/^[\w\d_$#]+/)?"variable-2":void 0}function y(e,t){return function(n,r){var o,i=!1;while(null!=(o=n.next())){if(o==e&&!i){r.tokenize=v;break}i=(h||t)&&!i&&"\\"==o}return"string"}}function b(e){return function(t,n){var r=t.match(/^.*?(\/\*|\*\/)/);return r?"/*"==r[1]?n.tokenize=b(e+1):n.tokenize=e>1?b(e-1):v:t.skipToEnd(),"comment"}}function x(e,t,n){t.context={prev:t.context,indent:e.indentation(),col:e.column(),type:n}}function w(e){e.indent=e.context.indent,e.context=e.context.prev}return{startState:function(){return{tokenize:v,context:null}},token:function(e,t){if(e.sol()&&t.context&&null==t.context.align&&(t.context.align=!1),t.tokenize==v&&e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==n)return n;t.context&&null==t.context.align&&(t.context.align=!0);var r=e.current();return"("==r?x(e,t,")"):"["==r?x(e,t,"]"):t.context&&t.context.type==r&&w(t),n},indent:function(n,r){var o=n.context;if(!o)return e.Pass;var i=r.charAt(0)==o.type;return o.align?o.col+(i?0:1):o.indent+(i?0:t.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:d.commentSlashSlash?"//":d.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``"}}));var i="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function a(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}var s="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";e.defineMIME("text/x-sql",{name:"sql",keywords:a(i+"begin"),builtin:a(s),atoms:a("false true null unknown"),dateSQL:a("date time timestamp"),support:a("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-mssql",{name:"sql",client:a("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:a(i+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:a("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:a("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:!1,dateSQL:a("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":r}}),e.defineMIME("text/x-mysql",{name:"sql",client:a("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:a(i+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:a("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":r,"`":t,"\\":o}}),e.defineMIME("text/x-mariadb",{name:"sql",client:a("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:a(i+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:a("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":r,"`":t,"\\":o}}),e.defineMIME("text/x-sqlite",{name:"sql",client:a("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:a(i+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:a("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:a("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:a("date time timestamp datetime"),support:a("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":r,":":r,"?":r,$:r,'"':n,"`":t}}),e.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:a("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:a("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:a("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:a("commentSlashSlash decimallessFloat"),hooks:{}}),e.defineMIME("text/x-plsql",{name:"sql",client:a("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:a("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:a("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*\/+\-%<>!=~]/,dateSQL:a("date time timestamp"),support:a("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),e.defineMIME("text/x-hive",{name:"sql",keywords:a("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),builtin:a("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:a("date timestamp"),support:a("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-pgsql",{name:"sql",client:a("source"),keywords:a(i+"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone"),builtin:a("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:a("false true null unknown"),operatorChars:/^[*\/+\-%<>!=&|^\/#@?~]/,backslashStringEscapes:!1,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast escapeConstant")}),e.defineMIME("text/x-gql",{name:"sql",keywords:a("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:a("false true"),builtin:a("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/}),e.defineMIME("text/x-gpsql",{name:"sql",client:a("source"),keywords:a("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),builtin:a("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:a("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),e.defineMIME("text/x-sparksql",{name:"sql",keywords:a("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases data dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),builtin:a("tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat"),atoms:a("false true null"),operatorChars:/^[*\/+\-%<>!=~&|^]/,dateSQL:a("date time timestamp"),support:a("ODBCdotTable doubleQuote zerolessFloat")}),e.defineMIME("text/x-esper",{name:"sql",client:a("source"),keywords:a("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),builtin:{},atoms:a("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:a("time"),support:a("decimallessFloat zerolessFloat binaryNumber hexNumber")})}))},d9fc:function(e,t,n){},da3e:function(e,t){(function(){"use strict";var e=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return{isFullscreen:function(){return null!==e.get()}}},r=function(){},o=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},i=function(e,t){return function(n){return e(t(n))}},a=function(e){return function(){return e}};function s(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}var l=a(!1),u=a(!0),c=function(){return d},d=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},o={fold:function(e,t){return e()},is:l,isSome:l,isNone:u,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(void 0),or:n,orThunk:t,map:c,each:r,bind:c,exists:l,forall:u,filter:c,equals:e,equals_:e,toArray:function(){return[]},toString:a("none()")};return o}(),f=function(e){var t=a(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:u,isNone:l,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return f(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:d},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(l,(function(t){return n(e,t)}))}};return o},p=function(e){return null===e||void 0===e?d:f(e)},h={some:f,none:c,from:p},m=function(t){var n=e(h.none()),r=function(){return n.get().each(t)},o=function(){r(),n.set(h.none())},i=function(){return n.get().isSome()},a=function(e){r(),n.set(h.some(e))};return{clear:o,isSet:i,set:a}},g=function(){return m((function(e){return e.unbind()}))},v=function(){var t=e(h.none()),n=function(){return t.set(h.none())},r=function(e){return t.set(h.some(e))},o=function(){return t.get().isSome()},i=function(e){return t.get().each(e)};return{clear:n,set:r,isSet:o,on:i}},y=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},b=function(e){return function(t){return y(t)===e}},x=function(e){return function(t){return typeof t===e}},w=b("string"),_=b("array"),C=x("boolean"),S=function(e){return null===e||void 0===e},k=function(e){return!S(e)},O=x("function"),T=x("number"),M=Array.prototype.push,D=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},I=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},E=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},A=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!_(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);M.apply(t,e[n])}return t},L=function(e,t){return A(D(e,t))},j=function(e,t){return t>=0&&t<e.length?h.some(e[t]):h.none()},N=function(e){return j(e,0)},P=Object.keys,R=function(e,t){for(var n=P(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i)}},B=function(e){return void 0!==e.style&&O(e.style.getPropertyValue)},F=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw new Error("HTML must have a single root node");return H(r.childNodes[0])},z=function(e,t){var n=t||document,r=n.createElement(e);return H(r)},V=function(e,t){var n=t||document,r=n.createTextNode(e);return H(r)},H=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},U=function(e,t,n){return h.from(e.dom.elementFromPoint(t,n)).map(H)},$={fromHtml:F,fromTag:z,fromText:V,fromDom:H,fromPoint:U},q=("undefined"!==typeof window?window:Function("return this;")(),9),W=11,G=1,Y=3,K=function(e){return e.dom.nodeType},X=function(e){return function(t){return K(t)===e}},J=X(G),Z=X(Y),Q=X(q),ee=X(W),te=function(e,t){var n=e.dom;if(n.nodeType!==G)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},ne=function(e){return e.nodeType!==G&&e.nodeType!==q&&e.nodeType!==W||0===e.childElementCount},re=function(e,t){var n=void 0===t?document:t.dom;return ne(n)?[]:D(n.querySelectorAll(e),$.fromDom)},oe=function(e,t){return e.dom===t.dom},ie=function(e){return $.fromDom(e.dom.ownerDocument)},ae=function(e){return Q(e)?e:ie(e)},se=function(e){return h.from(e.dom.parentNode).map($.fromDom)},le=function(e,t){var n=O(t)?t:l,r=e.dom,o=[];while(null!==r.parentNode&&void 0!==r.parentNode){var i=r.parentNode,a=$.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},ue=function(e){var t=function(t){return E(t,(function(t){return!oe(e,t)}))};return se(e).map(ce).map(t).getOr([])},ce=function(e){return D(e.dom.childNodes,$.fromDom)},de=function(e){return ee(e)},fe=O(Element.prototype.attachShadow)&&O(Node.prototype.getRootNode),pe=a(fe),he=fe?function(e){return $.fromDom(e.dom.getRootNode())}:ae,me=function(e){var t=he(e);return de(t)?h.some(t):h.none()},ge=function(e){return $.fromDom(e.dom.host)},ve=function(e){if(pe()&&k(e.target)){var t=$.fromDom(e.target);if(J(t)&&ye(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return N(n)}}return h.from(e.target)},ye=function(e){return k(e.dom.shadowRoot)},be=function(e){var t=Z(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;var n=t.ownerDocument;return me($.fromDom(t)).fold((function(){return n.body.contains(t)}),i(be,ge))},xe=function(e){var t=e.dom.body;if(null===t||void 0===t)throw new Error("Body is not available yet");return $.fromDom(t)},we=function(e,t,n){if(!(w(n)||C(n)||T(n)))throw new Error("Attribute value was not simple");e.setAttribute(t,n+"")},_e=function(e,t,n){we(e.dom,t,n)},Ce=function(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n},Se=function(e,t){e.dom.removeAttribute(t)},ke=function(e,t,n){if(!w(n))throw new Error("CSS value must be a string: "+n);B(e)&&e.style.setProperty(t,n)},Oe=function(e,t){var n=e.dom;R(t,(function(e,t){ke(n,t,e)}))},Te=function(e,t){var n=e.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(t);return""!==o||be(e)?o:Me(n,t)},Me=function(e,t){return B(e)?e.style.getPropertyValue(t):""},De=function(e,t,n,r,o,i,a){return{target:e,x:t,y:n,stop:r,prevent:o,kill:i,raw:a}},Ie=function(e){var t=$.fromDom(ve(e).getOr(e.target)),n=function(){return e.stopPropagation()},r=function(){return e.preventDefault()},i=o(r,n);return De(t,e.clientX,e.clientY,n,r,i,e)},Ee=function(e,t){return function(n){e(n)&&t(Ie(n))}},Ae=function(e,t,n,r,o){var i=Ee(n,r);return e.dom.addEventListener(t,i,o),{unbind:s(je,e,t,i,o)}},Le=function(e,t,n,r){return Ae(e,t,n,r,!1)},je=function(e,t,n,r){e.dom.removeEventListener(t,n,r)},Ne=u,Pe=function(e,t,n){return Le(e,t,Ne,n)},Re=function(e,t){var n=function(n,r){return Re(e+n,t+r)};return{left:e,top:t,translate:n}},Be=Re,Fe=function(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Be(n,r)},ze=function(e){var t=void 0===e?window:e;return h.from(t["visualViewport"])},Ve=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},He=function(e){var t=void 0===e?window:e,n=t.document,r=Fe($.fromDom(n));return ze(t).fold((function(){var e=t.document.documentElement,n=e.clientWidth,o=e.clientHeight;return Ve(r.left,r.top,n,o)}),(function(e){return Ve(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))},Ue=function(e,t,n){return ze(n).map((function(n){var r=function(e){return t(Ie(e))};return n.addEventListener(e,r),{unbind:function(){return n.removeEventListener(e,r)}}})).getOrThunk((function(){return{unbind:r}}))},$e=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),qe=tinymce.util.Tools.resolve("tinymce.Env"),We=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ge=function(e,t){e.fire("FullscreenStateChanged",{state:t})},Ye=function(e){return e.getParam("fullscreen_native",!1,"boolean")},Ke=function(e){var t=$.fromDom(e.getElement());return me(t).map(ge).getOrThunk((function(){return xe(ie(t))}))},Xe=function(e){return void 0!==e.fullscreenElement?e.fullscreenElement:void 0!==e.msFullscreenElement?e.msFullscreenElement:void 0!==e.webkitFullscreenElement?e.webkitFullscreenElement:null},Je=function(){return void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange"},Ze=function(e){var t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()},Qe=function(e){var t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()},et=function(e){return e.dom===Xe(ie(e).dom)},tt=function(e,t,n){return E(le(e,n),t)},nt=function(e,t){return E(ue(e),t)},rt=function(e){return re(e)},ot=function(e,t,n){return tt(e,(function(e){return te(e,t)}),n)},it=function(e,t){return nt(e,(function(e){return te(e,t)}))},at="data-ephox-mobile-fullscreen-style",st="display:none!important;",lt="position:absolute!important;",ut="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",ct="background-color:rgb(255,255,255)!important;",dt=qe.os.isAndroid(),ft=function(e){var t=Te(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":ct},pt=function(e,t,n){var r=function(e){return it(e,"*:not(.tox-silver-sink)")},o=function(t){return function(n){var r=Ce(n,"style"),o=void 0===r?"no-styles":r.trim();o!==t&&(_e(n,at,o),Oe(n,e.parseStyle(t)))}},i=ot(t,"*"),a=L(i,r),s=ft(n);I(a,o(st)),I(i,o(lt+ut+s));var l=!0===dt?"":lt;o(l+ut+s)(t)},ht=function(e){var t=rt("["+at+"]");I(t,(function(t){var n=Ce(t,at);"no-styles"!==n?Oe(t,e.parseStyle(n)):Se(t,"style"),Se(t,at)}))},mt=$e.DOM,gt=function(){var e=He(window);return{x:e.x,y:e.y}},vt=function(e){window.scrollTo(e.x,e.y)},yt=ze().fold((function(){return{bind:r,unbind:r}}),(function(e){var t=v(),n=g(),r=g(),o=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},i=function(){window.requestAnimationFrame((function(){t.on((function(t){return Oe(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})}))}))},a=We.throttle((function(){o(),i()}),50),s=function(e){t.set(e),a(),n.set(Ue("resize",a)),r.set(Ue("scroll",a))},l=function(){t.on((function(){n.clear(),r.clear()})),t.clear()};return{bind:s,unbind:l}})),bt=function(e,t){var n=document.body,r=document.documentElement,o=e.getContainer(),i=$.fromDom(o),a=Ke(e),s=t.get(),l=$.fromDom(e.getBody()),u=qe.deviceType.isTouch(),c=o.style,d=e.iframeElement,f=d.style,p=function(e){e(n,"tox-fullscreen"),e(r,"tox-fullscreen"),e(o,"tox-fullscreen"),me(i).map((function(e){return ge(e).dom})).each((function(t){e(t,"tox-fullscreen"),e(t,"tox-shadowhost")}))},m=function(){u&&ht(e.dom),p(mt.removeClass),yt.unbind(),h.from(t.get()).each((function(e){return e.fullscreenChangeHandler.unbind()}))};if(s)s.fullscreenChangeHandler.unbind(),Ye(e)&&et(a)&&Qe(ie(a)),f.width=s.iframeWidth,f.height=s.iframeHeight,c.width=s.containerWidth,c.height=s.containerHeight,c.top=s.containerTop,c.left=s.containerLeft,vt(s.scrollPos),t.set(null),Ge(e,!1),m(),e.off("remove",m);else{var g=Pe(ie(a),Je(),(function(n){Ye(e)&&(et(a)||null===t.get()||bt(e,t))})),v={scrollPos:gt(),containerWidth:c.width,containerHeight:c.height,containerTop:c.top,containerLeft:c.left,iframeWidth:f.width,iframeHeight:f.height,fullscreenChangeHandler:g};u&&pt(e.dom,i,l),f.width=f.height="100%",c.width=c.height="",p(mt.addClass),yt.bind(i),e.on("remove",m),t.set(v),Ye(e)&&Ze(a),Ge(e,!0)}},xt=function(e,t){e.addCommand("mceFullScreen",(function(){bt(e,t)}))},wt=function(e,t){return function(n){n.setActive(null!==t.get());var r=function(e){return n.setActive(e.state)};return e.on("FullscreenStateChanged",r),function(){return e.off("FullscreenStateChanged",r)}}},_t=function(e,t){e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:wt(e,t)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:wt(e,t)})};function Ct(){t.add("fullscreen",(function(t){var r=e(null);return t.inline||(xt(t,r),_t(t,r),t.addShortcut("Meta+Shift+F","","mceFullScreen")),n(r)}))}Ct()})()},da9b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("j-tree-table",{attrs:{url:e.url,columns:e.columns,tableProps:e.tableProps}})],1)},o=[],i=n("6b87"),a={name:"JeecgTreeTable",components:{JTreeTable:i["default"]},data:function(){return{url:"/api/asynTreeList",columns:[{title:"菜单名称",dataIndex:"name"},{title:"组件",dataIndex:"component"},{title:"排序",dataIndex:"orderNum"}],selectedRowKeys:[]}},computed:{tableProps:function(){var e=this;return{rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:function(t){return e.selectedRowKeys=t}}}}}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"c6f08420",null);t["default"]=u.exports},dd9d:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1e3,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单号",hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderCode",{rules:[{required:!0,message:"请输入订单号!"}]}],expression:"['orderCode', {rules: [{ required: true, message: '请输入订单号!' }]}]"}],attrs:{placeholder:"请输入订单号"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单类型"}},[n("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ctype",{}],expression:"['ctype',{}]"}],attrs:{placeholder:"请输入订单类型"}},[n("a-select-option",{attrs:{value:"1"}},[e._v("国内订单")]),n("a-select-option",{attrs:{value:"2"}},[e._v("国际订单")])],1)],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单日期"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderDate",{}],expression:"[ 'orderDate',{}]"}],attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单金额"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderMoney",{}],expression:"[ 'orderMoney', {}]"}],staticStyle:{width:"200px"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"订单备注"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{}],expression:"['content', {}]"}],attrs:{placeholder:"请输入订单备注"}})],1)],1)],1)],1)},o=[],i=n("0fea"),a=n("2dab"),s=n("85ee"),l=n.n(s),u=n("caaf"),c=n.n(u);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={name:"JeecgOrderDMainModal",components:{JDate:a["default"]},data:function(){return{title:"操作",visible:!1,orderMainModel:{jeecgOrderCustomerList:[{}],jeecgOrderTicketList:[{}]},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/test/order/add",edit:"/test/order/edit",orderCustomerList:"/test/order/listOrderCustomerByMainId",orderTicketList:"/test/order/listOrderTicketByMainId"}}},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.orderMainModel=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(l()(t.orderMainModel,"orderCode","ctype","orderMoney","content")),t.form.setFieldsValue({orderDate:t.orderMainModel.orderDate?c()(t.orderMainModel.orderDate):null})}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.orderMainModel.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.orderMainModel,r);s.orderDate=s.orderDate?s.orderDate.format("YYYY-MM-DD HH:mm:ss"):null;var l=f({},s);Object(i["g"])(o,l,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},m=h,g=(n("b046"),n("5d22")),v=Object(g["a"])(m,r,o,!1,null,"3947da84",null);t["default"]=v.exports},dda1:function(e,t,n){},ddb7:function(e,t,n){(function(e){e(n("fc0f"))})((function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",(function(r,o){var i,a,s=r.indentUnit,l={},u=o.htmlMode?t:n;for(var c in u)l[c]=u[c];for(var c in o)l[c]=o[c];function d(e,t){function n(n){return t.tokenize=n,n(e,t)}var r,o=e.next();return"<"==o?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(h("atom","]]>")):null:e.match("--")?n(h("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(m(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=h("meta","?>"),"meta"):(i=e.eat("/")?"closeTag":"openTag",t.tokenize=f,"tag bracket"):"&"==o?(r=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),r?"atom":"error"):(e.eatWhile(/[^&<]/),null)}function f(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=d,i=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return i="equals",null;if("<"==n){t.tokenize=d,t.state=b,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=p(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function p(e){var t=function(t,n){while(!t.eol())if(t.next()==e){n.tokenize=f;break}return"string"};return t.isInAttribute=!0,t}function h(e,t){return function(n,r){while(!n.eol()){if(n.match(t)){r.tokenize=d;break}n.next()}return e}}function m(e){return function(t,n){var r;while(null!=(r=t.next())){if("<"==r)return n.tokenize=m(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=d;break}return n.tokenize=m(e-1),n.tokenize(t,n)}}return"meta"}}function g(e,t,n){this.prev=e.context,this.tagName=t||"",this.indent=e.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function v(e){e.context&&(e.context=e.context.prev)}function y(e,t){var n;while(1){if(!e.context)return;if(n=e.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(t))return;v(e)}}function b(e,t,n){return"openTag"==e?(n.tagStart=t.column(),x):"closeTag"==e?w:b}function x(e,t,n){return"word"==e?(n.tagName=t.current(),a="tag",S):l.allowMissingTagName&&"endTag"==e?(a="tag bracket",S(e,t,n)):(a="error",x)}function w(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&v(n),n.context&&n.context.tagName==r||!1===l.matchClosing?(a="tag",_):(a="tag error",C)}return l.allowMissingTagName&&"endTag"==e?(a="tag bracket",_(e,t,n)):(a="error",C)}function _(e,t,n){return"endTag"!=e?(a="error",_):(v(n),b)}function C(e,t,n){return a="error",_(e,t,n)}function S(e,t,n){if("word"==e)return a="attribute",k;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,o=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(r)?y(n,r):(y(n,r),n.context=new g(n,r,o==n.indented)),b}return a="error",S}function k(e,t,n){return"equals"==e?O:(l.allowMissing||(a="error"),S(e,t,n))}function O(e,t,n){return"string"==e?T:"word"==e&&l.allowUnquoted?(a="string",S):(a="error",S(e,t,n))}function T(e,t,n){return"string"==e?T:S(e,t,n)}return d.isInText=!0,{startState:function(e){var t={tokenize:d,state:b,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;i=null;var n=t.tokenize(e,t);return(n||i)&&"comment"!=n&&(a=null,t.state=t.state(i||n,e,t),a&&(n="error"==a?n+" error":a)),n},indent:function(t,n,r){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+s;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=f&&t.tokenize!=d)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==l.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var i=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(i&&i[1])while(o){if(o.tagName==i[2]){o=o.prev;break}if(!l.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(i)while(o){var a=l.contextGrabbers[o.tagName];if(!a||!a.hasOwnProperty(i[2]))break;o=o.prev}while(o&&o.prev&&!o.startOfLine)o=o.prev;return o?o.indent+s:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==O&&(e.state=S)},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:"closeTag"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],n=e.context;n;n=n.prev)t.push(n.tagName);return t.reverse()}}})),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}))},dddd:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.comp?n(e.comp,{ref:"compModel",tag:"component",attrs:{formData:e.formData},on:{ok:e.callBackOk,close:e.callBackClose}}):e._e()},o=[],i={name:"DynamicComponent",data:function(){return{compName:this.path}},computed:{comp:function(){var e=this;return function(){return n("1a5d")("./".concat(e.compName,".vue"))}}},props:["path","formData"],methods:{add:function(){this.$refs.compModel.add()},callBackClose:function(){this.$emit("close")},handleOk:function(){this.$refs.compModel.handleOk()},callBackOk:function(){this.$emit("ok"),this.close()}}},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,null,null);t["default"]=l.exports},ddf2:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增")]),e.selectedRowKeys.length>0?n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:e.batchDel}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("div",[n("div",{staticClass:"ant-alert ant-alert-info",staticStyle:{"margin-bottom":"16px"}},[n("i",{staticClass:"anticon anticon-info-circle ant-alert-icon"}),e._v(" 已选择 "),n("a",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项\n      "),n("a",{staticStyle:{"margin-left":"24px"},on:{click:e.onClearSelected}},[e._v("清空")])]),n("a-table",e._b({ref:"table",attrs:{size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,expandedRowKeys:e.expandedRowKeys},on:{change:e.handleTableChange,expand:e.handleExpand},scopedSlots:e._u([{key:"action",fn:function(t,r){return n("span",{},[n("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定删除吗?"},on:{confirm:function(){return e.handleDelete(r.id)}}},[n("a",[e._v("删除")])])],1)}}])},"a-table",e.tableProps,!1))],1),n("sysCategory-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},o=[],i=n("ca55"),a=n.n(i),s=n("0fea"),l=n("b65a"),u=n("f1cf");function c(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function d(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,s,"next",e)}function s(e){d(i,r,o,a,s,"throw",e)}a(void 0)}))}}function p(e){return v(e)||g(e)||m(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function g(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function v(e){if(Array.isArray(e))return y(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b={name:"SysCategoryList",mixins:[l["a"]],components:{SysCategoryModal:u["default"]},data:function(){return{description:"分类字典管理页面",columns:[{title:"类型名称",align:"left",dataIndex:"name"},{title:"类型编码",align:"left",dataIndex:"code"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/sys/category/rootList",childList:"/sys/category/childList",delete:"/sys/category/delete",deleteBatch:"/sys/category/deleteBatch",exportXlsUrl:"/sys/category/exportXls",importExcelUrl:"sys/category/importExcel"},expandedRowKeys:[],hasChildrenField:"hasChild",pidField:"pid",dictOptions:{}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)},tableProps:function(){var e=this;return{rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:function(t){return e.selectedRowKeys=t}}}}},methods:{loadData:function(e){var t=this;1==e&&(this.ipagination.current=1),this.loading=!0,this.expandedRowKeys=[];var n=this.getQueryParams();return new Promise((function(e){Object(s["c"])(t.url.list,n).then((function(n){if(n.success){var r=n.result;Number(r.total)>0?(t.ipagination.total=Number(r.total),t.dataSource=t.getDataByResult(n.result.records),e()):(t.ipagination.total=0,t.dataSource=[])}else t.$message.warning(n.message);t.loading=!1}))}))},getDataByResult:function(e){var t=this;return e.map((function(e){if("1"==e[t.hasChildrenField]){var n={id:e.id+"_loadChild",name:"loading...",isLoading:!0};e.children=[n]}return e}))},handleExpand:function(e,t){var n=this;if(e){if(this.expandedRowKeys.push(t.id),t.children.length>0&&!0===t.children[0].isLoading){var r=this.getQueryParams();r[this.pidField]=t.id,Object(s["c"])(this.url.childList,r).then((function(e){e.success?e.result&&e.result.length>0?(t.children=n.getDataByResult(e.result),n.dataSource=p(n.dataSource)):(t.children="",t.hasChildrenField="0"):n.$message.warning(e.message)}))}}else{var o=this.expandedRowKeys.indexOf(t.id);o>=0&&this.expandedRowKeys.splice(o,1)}},initDictConfig:function(){},modalFormOk:function(e,t){e.id?(this.editOk(e,this.dataSource),this.dataSource=p(this.dataSource)):this.addOk(e,t)},editOk:function(e,t){if(t&&t.length>0)for(var n=0;n<t.length;n++){if(t[n].id==e.id){t[n]=e;break}this.editOk(e,t[n].children)}},addOk:function(){var e=f(a.a.mark((function e(t,n){var r,o,i;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t[this.pidField]){e.next=4;break}this.loadData(),e.next=23;break;case 4:this.expandedRowKeys=[],r=c(n),e.prev=7,r.s();case 9:if((o=r.n()).done){e.next=15;break}return i=o.value,e.next=13,this.expandTreeNode(i);case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](7),r.e(e.t0);case 20:return e.prev=20,r.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[7,17,20,23]])})));function t(t,n){return e.apply(this,arguments)}return t}(),expandTreeNode:function(e){var t=this;return new Promise((function(n,r){t.getFormDataById(e,t.dataSource);var o=t.parentFormData;t.expandedRowKeys.push(e);var i=t.getQueryParams();i[t.pidField]=e,Object(s["c"])(t.url.childList,i).then((function(e){e.success&&e.result&&e.result.length>0?(o.children=t.getDataByResult(e.result),t.dataSource=p(t.dataSource),n()):r()}))}))},getFormDataById:function(e,t){if(t&&t.length>0)for(var n=0;n<t.length;n++)t[n].id==e?this.parentFormData=t[n]:this.getFormDataById(e,t[n].children)}}},x=b,w=(n("c34c"),n("5d22")),_=Object(w["a"])(x,r,o,!1,null,"03adeaca",null);t["default"]=_.exports},ddf9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{top:"20px"},attrs:{title:"重新设定密码",width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"用户账号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{}],expression:"[ 'username', {}]"}],attrs:{placeholder:"请输入用户账号",readOnly:!0}})],1),n("a-form-item",{attrs:{label:"登陆密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",e.validatorRules.password],expression:"[ 'password', validatorRules.password]"}],attrs:{type:"password",placeholder:"请输入登陆密码"}})],1),n("a-form-item",{attrs:{label:"确认密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol,hasFeedback:""}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirmpassword",e.validatorRules.confirmpassword],expression:"[ 'confirmpassword', validatorRules.confirmpassword]"}],attrs:{type:"password",placeholder:"请重新输入登陆密码"},on:{blur:e.handleConfirmBlur}})],1)],1)],1)],1)},o=[],i=n("4ec3"),a={name:"PasswordModal",data:function(){return{visible:!1,confirmLoading:!1,confirmDirty:!1,validatorRules:{password:{rules:[{required:!0,message:"请输入登陆密码!"},{validator:this.validateToNextPassword}]},confirmpassword:{rules:[{required:!0,message:"请重新输入登陆密码!"},{validator:this.compareToFirstPassword}]}},model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},form:this.$form.createForm(this)}},created:function(){},methods:{show:function(e){var t=this;this.form.resetFields(),this.visible=!0,this.model.username=e,this.$nextTick((function(){t.form.setFieldsValue({username:e})}))},close:function(){this.$emit("close"),this.visible=!1,this.disableSubmit=!1,this.selectedRole=[]},handleSubmit:function(){var e=this;this.form.validateFields((function(t,n){if(!t){e.confirmLoading=!0;var r=Object.assign(e.model,n);Object(i["g"])(r).then((function(t){t.success?(e.$message.success(t.message),e.$emit("ok")):e.$message.warning(t.message)})).finally((function(){e.confirmLoading=!1,e.close()}))}}))},handleCancel:function(){this.close()},validateToNextPassword:function(e,t,n){var r=this.form,o=r.getFieldValue("confirmpassword");t&&o&&t!==o&&n("两次输入的密码不一样！"),t&&this.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},compareToFirstPassword:function(e,t,n){var r=this.form;t&&t!==r.getFieldValue("password")?n("两次输入的密码不一样！"):n()},handleConfirmBlur:function(e){var t=e.target.value;this.confirmDirty=this.confirmDirty||!!t}}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,null,null);t["default"]=u.exports},df17:function(e,t,n){"use strict";var r=n("7b05"),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},s="utf8=%26%2310003%3B",l="utf8=%E2%9C%93",u=function(e,t){var n,u={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,f=c.split(t.delimiter,d),p=-1,h=t.charset;if(t.charsetSentinel)for(n=0;n<f.length;++n)0===f[n].indexOf("utf8=")&&(f[n]===l?h="utf-8":f[n]===s&&(h="iso-8859-1"),p=n,n=f.length);for(n=0;n<f.length;++n)if(n!==p){var m,g,v=f[n],y=v.indexOf("]="),b=-1===y?v.indexOf("="):y+1;-1===b?(m=t.decoder(v,i.decoder,h),g=t.strictNullHandling?null:""):(m=t.decoder(v.slice(0,b),i.decoder,h),g=t.decoder(v.slice(b+1),i.decoder,h)),g&&t.interpretNumericEntities&&"iso-8859-1"===h&&(g=a(g)),g&&t.comma&&g.indexOf(",")>-1&&(g=g.split(",")),o.call(u,m)?u[m]=r.combine(u[m],g):u[m]=g}return u},c=function(e,t,n){for(var r=t,o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a&&n.parseArrays)i=[].concat(r);else{i=n.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(s,10);n.parseArrays||""!==s?!isNaN(l)&&a!==s&&String(l)===s&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(i=[],i[l]=r):i[s]=r:i={0:r}}r=i}return r},d=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,s=i.exec(r),l=s?r.slice(0,s.index):r,u=[];if(l){if(!n.plainObjects&&o.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}var d=0;while(null!==(s=a.exec(r))&&d<n.depth){if(d+=1,!n.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}return s&&u.push("["+r.slice(s.index)+"]"),c(u,t,n)}},f=function(e){if(!e)return i;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?i.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?i.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:i.allowPrototypes,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:i.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:i.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:i.comma,decoder:"function"===typeof e.decoder?e.decoder:i.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:i.delimiter,depth:"number"===typeof e.depth?e.depth:i.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:i.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:i.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling}};e.exports=function(e,t){var n=f(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var o="string"===typeof e?u(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(o),s=0;s<a.length;++s){var l=a[s],c=d(l,o[l],n);i=r.merge(i,c,n)}return r.compact(i)}},df55:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("page-layout",{attrs:{title:e.title}},[n("a-card",{attrs:{bordered:!1}},[n("detail-list",{attrs:{title:"退款申请"}},[n("detail-list-item",{attrs:{term:"取货单号"}},[e._v("1000000000")]),n("detail-list-item",{attrs:{term:"状态"}},[e._v("已取货")]),n("detail-list-item",{attrs:{term:"销售单号"}},[e._v("1234123421")]),n("detail-list-item",{attrs:{term:"子订单"}},[e._v("3214321432")])],1),n("a-divider",{staticStyle:{"margin-bottom":"32px"}}),n("detail-list",{attrs:{title:"用户信息"}},[n("detail-list-item",{attrs:{term:"用户姓名"}},[e._v("付小小")]),n("detail-list-item",{attrs:{term:"联系电话"}},[e._v("18100000000")]),n("detail-list-item",{attrs:{term:"常用快递"}},[e._v("菜鸟仓储")]),n("detail-list-item",{attrs:{term:"取货地址"}},[e._v("浙江省杭州市西湖区万塘路18号")]),n("detail-list-item",{attrs:{term:"备注"}},[e._v("\t无")])],1),n("a-divider",{staticStyle:{"margin-bottom":"32px"}}),n("div",{staticClass:"title"},[e._v("退货商品")]),n("s-table",{staticStyle:{"margin-bottom":"24px"},attrs:{columns:e.goodsColumns,data:e.loadGoodsData}}),n("div",{staticClass:"title"},[e._v("退货进度")]),n("s-table",{staticStyle:{"margin-bottom":"24px"},attrs:{columns:e.scheduleColumns,data:e.loadScheduleData},scopedSlots:e._u([{key:"status",fn:function(t){return[n("a-badge",{attrs:{status:t,text:e._f("statusFilter")(t)}})]}}])})],1)],1)},o=[],i=n("b445"),a=n("e8c4"),s=n("c16f"),l=n("d843"),u=s["default"].Item,c={components:{PageLayout:i["default"],ABadge:l["a"],DetailList:s["default"],DetailListItem:u,STable:a["a"]},data:function(){return{goodsColumns:[{title:"商品编号",dataIndex:"id",key:"id"},{title:"商品名称",dataIndex:"name",key:"name"},{title:"商品条码",dataIndex:"barcode",key:"barcode"},{title:"单价",dataIndex:"price",key:"price",align:"right"},{title:"数量（件）",dataIndex:"num",key:"num",align:"right"},{title:"金额",dataIndex:"amount",key:"amount",align:"right"}],loadGoodsData:function(){return new Promise((function(e){e({data:[{id:"1234561",name:"矿泉水 550ml",barcode:"12421432143214321",price:"2.00",num:"1",amount:"2.00"},{id:"1234562",name:"凉茶 300ml",barcode:"12421432143214322",price:"3.00",num:"2",amount:"6.00"},{id:"1234563",name:"好吃的薯片",barcode:"12421432143214323",price:"7.00",num:"4",amount:"28.00"},{id:"1234564",name:"特别好吃的蛋卷",barcode:"12421432143214324",price:"8.50",num:"3",amount:"25.50"}],pageSize:10,pageNo:1,totalPage:1,totalCount:10})})).then((function(e){return e}))},scheduleColumns:[{title:"时间",dataIndex:"time",key:"time"},{title:"当前进度",dataIndex:"rate",key:"rate"},{title:"状态",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"操作员ID",dataIndex:"operator",key:"operator"},{title:"耗时",dataIndex:"cost",key:"cost"}],loadScheduleData:function(){return new Promise((function(e){e({data:[{key:"1",time:"2017-10-01 14:10",rate:"联系客户",status:"processing",operator:"取货员 ID1234",cost:"5mins"},{key:"2",time:"2017-10-01 14:05",rate:"取货员出发",status:"success",operator:"取货员 ID1234",cost:"1h"},{key:"3",time:"2017-10-01 13:05",rate:"取货员接单",status:"success",operator:"取货员 ID1234",cost:"5mins"},{key:"4",time:"2017-10-01 13:00",rate:"申请审批通过",status:"success",operator:"系统",cost:"1h"},{key:"5",time:"2017-10-01 12:00",rate:"发起退货申请",status:"success",operator:"用户",cost:"5mins"}],pageSize:10,pageNo:1,totalPage:1,totalCount:10})})).then((function(e){return e}))}}},filters:{statusFilter:function(e){var t={processing:"进行中",success:"完成",failed:"失败"};return t[e]}},computed:{title:function(){return this.$route.meta.title}}},d=c,f=(n("57ef"),n("5d22")),p=Object(f["a"])(d,r,o,!1,null,"36a7328e",null);t["default"]=p.exports},e02b:function(e,t,n){(function(e){e(n("fc0f"))})((function(e){"use strict";e.defineMode("stylus",(function(e){var p,h,y,b,x=e.indentUnit,w="",_=g(t),C=/^(a|b|i|s|col|em)$/i,S=g(i),k=g(a),O=g(u),T=g(l),M=g(n),D=m(n),I=g(o),E=g(r),A=g(s),L=/^\s*([.]{2,3}|&&|\|\||\*\*|[?!=:]?=|[-+*\/%<>]=?|\?:|\~)/,j=m(c),N=g(d),P=new RegExp(/^\-(moz|ms|o|webkit)-/i),R=g(f),B="",F={};while(w.length<x)w+=" ";function z(e,t){if(B=e.string.match(/(^[\w-]+\s*=\s*$)|(^\s*[\w-]+\s*=\s*[\w-])|(^\s*(\.|#|@|\$|\&|\[|\d|\+|::?|\{|\>|~|\/)?\s*[\w-]*([a-z0-9-]|\*|\/\*)(\(|,)?)/),t.context.line.firstWord=B?B[0].replace(/^\s*/,""):"",t.context.line.indent=e.indentation(),p=e.peek(),e.match("//"))return e.skipToEnd(),["comment","comment"];if(e.match("/*"))return t.tokenize=V,V(e,t);if('"'==p||"'"==p)return e.next(),t.tokenize=H(p),t.tokenize(e,t);if("@"==p)return e.next(),e.eatWhile(/[\w\\-]/),["def",e.current()];if("#"==p){if(e.next(),e.match(/^[0-9a-f]{3}([0-9a-f]([0-9a-f]{2}){0,2})?\b(?!-)/i))return["atom","atom"];if(e.match(/^[a-z][\w-]*/i))return["builtin","hash"]}return e.match(P)?["meta","vendor-prefixes"]:e.match(/^-?[0-9]?\.?[0-9]/)?(e.eatWhile(/[a-z%]/i),["number","unit"]):"!"==p?(e.next(),[e.match(/^(important|optional)/i)?"keyword":"operator","important"]):"."==p&&e.match(/^\.[a-z][\w-]*/i)?["qualifier","qualifier"]:e.match(D)?("("==e.peek()&&(t.tokenize=U),["property","word"]):e.match(/^[a-z][\w-]*\(/i)?(e.backUp(1),["keyword","mixin"]):e.match(/^(\+|-)[a-z][\w-]*\(/i)?(e.backUp(1),["keyword","block-mixin"]):e.string.match(/^\s*&/)&&e.match(/^[-_]+[a-z][\w-]*/)?["qualifier","qualifier"]:e.match(/^(\/|&)(-|_|:|\.|#|[a-z])/)?(e.backUp(1),["variable-3","reference"]):e.match(/^&{1}\s*$/)?["variable-3","reference"]:e.match(j)?["operator","operator"]:e.match(/^\$?[-_]*[a-z0-9]+[\w-]*/i)?e.match(/^(\.|\[)[\w-\'\"\]]+/i,!1)&&!K(e.current())?(e.match("."),["variable-2","variable-name"]):["variable-2","word"]:e.match(L)?["operator",e.current()]:/[:;,{}\[\]\(\)]/.test(p)?(e.next(),[null,p]):(e.next(),[null,null])}function V(e,t){var n,r=!1;while(null!=(n=e.next())){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}function H(e){return function(t,n){var r,o=!1;while(null!=(r=t.next())){if(r==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==r}return(r==e||!o&&")"!=e)&&(n.tokenize=null),["string","string"]}}function U(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=H(")"),[null,"("]}function $(e,t,n,r){this.type=e,this.indent=t,this.prev=n,this.line=r||{firstWord:"",indent:0}}function q(e,t,n,r){return r=r>=0?r:x,e.context=new $(n,t.indentation()+r,e.context),n}function W(e,t){var n=e.context.indent-x;return t=t||!1,e.context=e.context.prev,t&&(e.context.indent=n),e.context.type}function G(e,t,n){return F[n.context.type](e,t,n)}function Y(e,t,n,r){for(var o=r||1;o>0;o--)n.context=n.context.prev;return G(e,t,n)}function K(e){return e.toLowerCase()in _}function X(e){return e=e.toLowerCase(),e in S||e in A}function J(e){return e.toLowerCase()in N}function Z(e){return e.toLowerCase().match(P)}function Q(e){var t=e.toLowerCase(),n="variable-2";return K(e)?n="tag":J(e)?n="block-keyword":X(e)?n="property":t in O||t in R?n="atom":"return"==t||t in T?n="keyword":e.match(/^[A-Z]/)&&(n="string"),n}function ee(e,t){return oe(t)&&("{"==e||"]"==e||"hash"==e||"qualifier"==e)||"block-mixin"==e}function te(e,t){return"{"==e&&t.match(/^\s*\$?[\w-]+/i,!1)}function ne(e,t){return":"==e&&t.match(/^[a-z-]+/,!1)}function re(e){return e.sol()||e.string.match(new RegExp("^\\s*"+v(e.current())))}function oe(e){return e.eol()||e.match(/^\s*$/,!1)}function ie(e){var t=/^\s*[-_]*[a-z0-9]+[\w-]*/i,n="string"==typeof e?e.match(t):e.string.match(t);return n?n[0].replace(/^\s*/,""):""}return F.block=function(e,t,n){if("comment"==e&&re(t)||","==e&&oe(t)||"mixin"==e)return q(n,t,"block",0);if(te(e,t))return q(n,t,"interpolation");if(oe(t)&&"]"==e&&!/^\s*(\.|#|:|\[|\*|&)/.test(t.string)&&!K(ie(t)))return q(n,t,"block",0);if(ee(e,t))return q(n,t,"block");if("}"==e&&oe(t))return q(n,t,"block",0);if("variable-name"==e)return t.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/)||J(ie(t))?q(n,t,"variableName"):q(n,t,"variableName",0);if("="==e)return oe(t)||J(ie(t))?q(n,t,"block"):q(n,t,"block",0);if("*"==e&&(oe(t)||t.match(/\s*(,|\.|#|\[|:|{)/,!1)))return b="tag",q(n,t,"block");if(ne(e,t))return q(n,t,"pseudo");if(/@(font-face|media|supports|(-moz-)?document)/.test(e))return q(n,t,oe(t)?"block":"atBlock");if(/@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return q(n,t,"keyframes");if(/@extends?/.test(e))return q(n,t,"extend",0);if(e&&"@"==e.charAt(0))return t.indentation()>0&&X(t.current().slice(1))?(b="variable-2","block"):/(@import|@require|@charset)/.test(e)?q(n,t,"block",0):q(n,t,"block");if("reference"==e&&oe(t))return q(n,t,"block");if("("==e)return q(n,t,"parens");if("vendor-prefixes"==e)return q(n,t,"vendorPrefixes");if("word"==e){var r=t.current();if(b=Q(r),"property"==b)return re(t)?q(n,t,"block",0):(b="atom","block");if("tag"==b){if(/embed|menu|pre|progress|sub|table/.test(r)&&X(ie(t)))return b="atom","block";if(t.string.match(new RegExp("\\[\\s*"+r+"|"+r+"\\s*\\]")))return b="atom","block";if(C.test(r)&&(re(t)&&t.string.match(/=/)||!re(t)&&!t.string.match(/^(\s*\.|#|\&|\[|\/|>|\*)/)&&!K(ie(t))))return b="variable-2",J(ie(t))?"block":q(n,t,"block",0);if(oe(t))return q(n,t,"block")}if("block-keyword"==b)return b="keyword",t.current(/(if|unless)/)&&!re(t)?"block":q(n,t,"block");if("return"==r)return q(n,t,"block",0);if("variable-2"==b&&t.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/))return q(n,t,"block")}return n.context.type},F.parens=function(e,t,n){if("("==e)return q(n,t,"parens");if(")"==e)return"parens"==n.context.prev.type?W(n):t.string.match(/^[a-z][\w-]*\(/i)&&oe(t)||J(ie(t))||/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(ie(t))||!t.string.match(/^-?[a-z][\w-\.\[\]\'\"]*\s*=/)&&K(ie(t))?q(n,t,"block"):t.string.match(/^[\$-]?[a-z][\w-\.\[\]\'\"]*\s*=/)||t.string.match(/^\s*(\(|\)|[0-9])/)||t.string.match(/^\s+[a-z][\w-]*\(/i)||t.string.match(/^\s+[\$-]?[a-z]/i)?q(n,t,"block",0):oe(t)?q(n,t,"block"):q(n,t,"block",0);if(e&&"@"==e.charAt(0)&&X(t.current().slice(1))&&(b="variable-2"),"word"==e){var r=t.current();b=Q(r),"tag"==b&&C.test(r)&&(b="variable-2"),"property"!=b&&"to"!=r||(b="atom")}return"variable-name"==e?q(n,t,"variableName"):ne(e,t)?q(n,t,"pseudo"):n.context.type},F.vendorPrefixes=function(e,t,n){return"word"==e?(b="property",q(n,t,"block",0)):W(n)},F.pseudo=function(e,t,n){return X(ie(t.string))?Y(e,t,n):(t.match(/^[a-z-]+/),b="variable-3",oe(t)?q(n,t,"block"):W(n))},F.atBlock=function(e,t,n){if("("==e)return q(n,t,"atBlock_parens");if(ee(e,t))return q(n,t,"block");if(te(e,t))return q(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();if(b=/^(only|not|and|or)$/.test(r)?"keyword":M.hasOwnProperty(r)?"tag":E.hasOwnProperty(r)?"attribute":I.hasOwnProperty(r)?"property":k.hasOwnProperty(r)?"string-2":Q(t.current()),"tag"==b&&oe(t))return q(n,t,"block")}return"operator"==e&&/^(not|and|or)$/.test(t.current())&&(b="keyword"),n.context.type},F.atBlock_parens=function(e,t,n){if("{"==e||"}"==e)return n.context.type;if(")"==e)return oe(t)?q(n,t,"block"):q(n,t,"atBlock");if("word"==e){var r=t.current().toLowerCase();return b=Q(r),/^(max|min)/.test(r)&&(b="property"),"tag"==b&&(b=C.test(r)?"variable-2":"atom"),n.context.type}return F.atBlock(e,t,n)},F.keyframes=function(e,t,n){return"0"==t.indentation()&&("}"==e&&re(t)||"]"==e||"hash"==e||"qualifier"==e||K(t.current()))?Y(e,t,n):"{"==e?q(n,t,"keyframes"):"}"==e?re(t)?W(n,!0):q(n,t,"keyframes"):"unit"==e&&/^[0-9]+\%$/.test(t.current())?q(n,t,"keyframes"):"word"==e&&(b=Q(t.current()),"block-keyword"==b)?(b="keyword",q(n,t,"keyframes")):/@(font-face|media|supports|(-moz-)?document)/.test(e)?q(n,t,oe(t)?"block":"atBlock"):"mixin"==e?q(n,t,"block",0):n.context.type},F.interpolation=function(e,t,n){return"{"==e&&W(n)&&q(n,t,"block"),"}"==e?t.string.match(/^\s*(\.|#|:|\[|\*|&|>|~|\+|\/)/i)||t.string.match(/^\s*[a-z]/i)&&K(ie(t))?q(n,t,"block"):!t.string.match(/^(\{|\s*\&)/)||t.match(/\s*[\w-]/,!1)?q(n,t,"block",0):q(n,t,"block"):"variable-name"==e?q(n,t,"variableName",0):("word"==e&&(b=Q(t.current()),"tag"==b&&(b="atom")),n.context.type)},F.extend=function(e,t,n){return"["==e||"="==e?"extend":"]"==e?W(n):"word"==e?(b=Q(t.current()),"extend"):W(n)},F.variableName=function(e,t,n){return"string"==e||"["==e||"]"==e||t.current().match(/^(\.|\$)/)?(t.current().match(/^\.[\w-]+/i)&&(b="variable-2"),"variableName"):Y(e,t,n)},{startState:function(e){return{tokenize:null,state:"block",context:new $("block",e||0,null)}},token:function(e,t){return!t.tokenize&&e.eatSpace()?null:(h=(t.tokenize||z)(e,t),h&&"object"==typeof h&&(y=h[1],h=h[0]),b=h,t.state=F[t.state](y,e,t),b)},indent:function(e,t,n){var r=e.context,o=t&&t.charAt(0),i=r.indent,a=ie(t),s=n.match(/^\s*/)[0].replace(/\t/g,w).length,l=e.context.prev?e.context.prev.line.firstWord:"",u=e.context.prev?e.context.prev.line.indent:s;return r.prev&&("}"==o&&("block"==r.type||"atBlock"==r.type||"keyframes"==r.type)||")"==o&&("parens"==r.type||"atBlock_parens"==r.type)||"{"==o&&"at"==r.type)?i=r.indent-x:/(\})/.test(o)||(/@|\$|\d/.test(o)||/^\{/.test(t)||/^\s*\/(\/|\*)/.test(t)||/^\s*\/\*/.test(l)||/^\s*[\w-\.\[\]\'\"]+\s*(\?|:|\+)?=/i.test(t)||/^(\+|-)?[a-z][\w-]*\(/i.test(t)||/^return/.test(t)||J(a)?i=s:/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(o)||K(a)?i=/\,\s*$/.test(l)?u:/^\s+/.test(n)&&(/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(l)||K(l))?s<=u?u:u+x:s:/,\s*$/.test(n)||!Z(a)&&!X(a)||(i=J(l)?s<=u?u:u+x:/^\{/.test(l)?s<=u?s:u+x:Z(l)||X(l)?s>=u?u:s:/^(\.|#|:|\[|\*|&|@|\+|\-|>|~|\/)/.test(l)||/=\s*$/.test(l)||K(l)||/^\$[\w-\.\[\]\'\"]/.test(l)?u+x:s)),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"indent"}}));var t=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video"],n=["domain","regexp","url-prefix","url"],r=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],i=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode","font-smoothing","osx-font-smoothing"],a=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],s=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],l=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],u=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small","bicubic","optimizespeed","grayscale","row","row-reverse","wrap","wrap-reverse","column-reverse","flex-start","flex-end","space-between","space-around","unset"],c=["in","and","or","not","is not","is a","is","isnt","defined","if unless"],d=["for","if","else","unless","from","to"],f=["null","true","false","href","title","type","not-allowed","readonly","disabled"],p=["@font-face","@keyframes","@media","@viewport","@page","@host","@supports","@block","@css"],h=t.concat(n,r,o,i,a,l,u,s,c,d,f,p);function m(e){return e=e.sort((function(e,t){return t>e})),new RegExp("^(("+e.join(")|(")+"))\\b")}function g(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function v(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}e.registerHelper("hintWords","stylus",h),e.defineMIME("text/x-styl","stylus")}))},e1ba:function(e,t,n){},e230:function(e,t,n){"use strict";n("2735")},e2e0:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s}));var o={normal:"normal",input:"input",inputNumber:"inputNumber",checkbox:"checkbox",select:"select",date:"date",datetime:"datetime",upload:"upload",slot:"slot",hidden:"hidden"},i=Symbol();function a(e,t){return new Promise((function(n){(function r(){var o=e.$refs[t];o?n(o):setTimeout((function(){r()}),10)})()}))}function s(e,t){if(!e||"function"!==typeof e.validateFields)throw"form 参数需要的是一个form对象，而传入的却是".concat(r(e));var n={};return new Promise((function(t,n){e.validateFields((function(e,r){e?n({error:i}):t(r)}))})).then((function(e){return Object.assign(n,{formValue:e}),l(t)})).then((function(e){return Object.assign(n,{tablesValue:e}),Promise.resolve(n)})).catch((function(e){return Promise.reject(e)}))}function l(e){if(!(e instanceof Array))throw"'validateTables'函数的'cases'参数需要的是一个数组，而传入的却是".concat(r(e));return new Promise((function(t,n){var r=[],o=0;(function a(){var s=e[o];s.getAll(!0).then((function(n){r[o]=n,++o===e.length?t(r):a()}),(function(e){e===i&&n({error:i,index:o}),n(e)}))})()}))}},e31a:function(e,t,n){"use strict";n("88b9")},e326:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{visible:e.visible}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构名称"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["departName",{}],expression:"['departName', {}]"}],staticStyle:{border:"0px"},attrs:{placeholder:""}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"上级部门"}},[n("a-tree-select",{staticStyle:{width:"100%",border:"none",outline:"none"},attrs:{disabled:"",dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.treeData,placeholder:"无"},model:{value:e.model.parentId,callback:function(t){e.$set(e.model,"parentId",t)},expression:"model.parentId"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机构编码"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["orgCode",{}],expression:"['orgCode', {}]"}],staticStyle:{border:"0px"},attrs:{placeholder:""}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["departOrder",{}],expression:"[ 'departOrder',{}]"}],staticStyle:{border:"0px"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"手机号"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",{}],expression:"['mobile', {}]"}],staticStyle:{border:"0px"},attrs:{placeholder:""}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"地址"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["address",{}],expression:"['address', {}]"}],staticStyle:{border:"0px"},attrs:{placeholder:""}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"备注"}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["memo",{}],expression:"['memo', {}]"}],staticStyle:{border:"0px"},attrs:{placeholder:""}})],1)],1)],1)},o=[],i=n("85ee"),a=n.n(i),s=n("4ec3"),l={name:"DeptBaseInfo",components:{},data:function(){return{departTree:[],id:"",model:{},visible:!1,disable:!0,treeData:[],form:this.$form.createForm(this),labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:16}}}},created:function(){this.loadTreeData()},methods:{loadTreeData:function(){var e=this;Object(s["y"])().then((function(t){if(t.success)for(var n=0;n<t.result.length;n++){var r=t.result[n];e.treeData.push(r)}}))},open:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(a()(e,"departName","parentId","orgCode","departOrder","mobile","fax","address","memo"))}))},clearForm:function(){this.form.resetFields(),this.treeData=[]}}},u=l,c=(n("4dbf"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"123091ad",null);t["default"]=d.exports},e3b5:function(e,t,n){"use strict";n("f8bf")},e3d4:function(e,t,n){"use strict";n("b3d5")},e409:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("exception-page",{attrs:{type:"403"}})},o=[],i=n("0673"),a={components:{ExceptionPage:i["default"]}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"e1fa96e6",null);t["default"]=u.exports},e40b:function(e,t,n){},e42e:function(e,t,n){"use strict";n("eaf4")},e530:function(e,t,n){},e61d:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return e},n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},r="\ufeff",o=function(e){return e.replace(/\uFEFF/g,"")},i=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},a="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",s={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:a},l={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},u=[new RegExp(s.aletter),new RegExp(s.midnumlet),new RegExp(s.midletter),new RegExp(s.midnum),new RegExp(s.numeric),new RegExp(s.cr),new RegExp(s.lf),new RegExp(s.newline),new RegExp(s.extend),new RegExp(s.format),new RegExp(s.katakana),new RegExp(s.extendnumlet),new RegExp("@")],c="",d=new RegExp("^"+s.punctuation+"$"),f=/^\s+$/,p=u,h=l.OTHER,m=function(e){for(var t=h,n=p.length,r=0;r<n;++r){var o=p[r];if(o&&o.test(e)){t=r;break}}return t},g=function(e){var t={};return function(n){if(t[n])return t[n];var r=e(n);return t[n]=r,r}},v=function(e){var t=g(m);return i(e,t)},y=function(e,t){var n=e[t],r=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===l.ALETTER&&r===l.ALETTER)return!1;var o=e[t+2];if(n===l.ALETTER&&(r===l.MIDLETTER||r===l.MIDNUMLET||r===l.AT)&&o===l.ALETTER)return!1;var i=e[t-1];return(n!==l.MIDLETTER&&n!==l.MIDNUMLET&&r!==l.AT||r!==l.ALETTER||i!==l.ALETTER)&&((n!==l.NUMERIC&&n!==l.ALETTER||r!==l.NUMERIC&&r!==l.ALETTER)&&((n!==l.MIDNUM&&n!==l.MIDNUMLET||r!==l.NUMERIC||i!==l.NUMERIC)&&((n!==l.NUMERIC||r!==l.MIDNUM&&r!==l.MIDNUMLET||o!==l.NUMERIC)&&(n!==l.EXTEND&&n!==l.FORMAT&&i!==l.EXTEND&&i!==l.FORMAT&&r!==l.EXTEND&&r!==l.FORMAT&&((n!==l.CR||r!==l.LF)&&(n===l.NEWLINE||n===l.CR||n===l.LF||(r===l.NEWLINE||r===l.CR||r===l.LF||(n!==l.KATAKANA||r!==l.KATAKANA)&&((r!==l.EXTENDNUMLET||n!==l.ALETTER&&n!==l.NUMERIC&&n!==l.KATAKANA&&n!==l.EXTENDNUMLET)&&((n!==l.EXTENDNUMLET||r!==l.ALETTER&&r!==l.NUMERIC&&r!==l.KATAKANA)&&n!==l.AT)))))))))},b=c,x=f,w=d,_=function(e){return"http"===e||"https"===e},C=function(e,t){var n;for(n=t;n<e.length;n++)if(x.test(e[n]))break;return n},S=function(e,t){var n=C(e,t+1),r=e.slice(t+1,n).join(b);return"://"===r.substr(0,3)?n:t},k=function(e,t,n,r){for(var o=[],i=[],a=0;a<n.length;++a)if(i.push(e[a]),y(n,a)){var s=t[a];if((r.includeWhitespace||!x.test(s))&&(r.includePunctuation||!w.test(s))){var l=a-i.length+1,u=a+1,c=t.slice(l,u).join(b);if(_(c)){var d=S(t,a),f=e.slice(u,d);Array.prototype.push.apply(i,f),a=d}o.push(i)}i=[]}return o},O=function(){return{includeWhitespace:!1,includePunctuation:!1}},T=function(e,t,o){o=n(n({},O()),o);for(var i=[],a=[],s=0;s<e.length;s++){var l=t(e[s]);l!==r&&(i.push(e[s]),a.push(l))}var u=v(a);return k(i,a,u,o)},M=T,D=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),I=function(e,t){var n=t.getBlockElements(),r=t.getShortEndedElements(),i=function(e){return n[e.nodeName]||r[e.nodeName]},a=[],s="",l=new D(e,e);while(e=l.next())3===e.nodeType?s+=o(e.data):i(e)&&s.length&&(a.push(s),s="");return s.length&&a.push(s),a},E=function(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},A=function(e,n){var r=I(e,n).join("\n");return M(r.split(""),t).length},L=function(e,t){var n=I(e,t).join("");return E(n)},j=function(e,t){var n=I(e,t).join("").replace(/\s/g,"");return E(n)},N=function(e,t){return function(){return t(e.getBody(),e.schema)}},P=function(e,t){return function(){return t(e.selection.getRng().cloneContents(),e.schema)}},R=function(e){return N(e,A)},B=function(e){return{body:{getWordCount:R(e),getCharacterCount:N(e,L),getCharacterCountWithoutSpaces:N(e,j)},selection:{getWordCount:P(e,A),getCharacterCount:P(e,L),getCharacterCountWithoutSpaces:P(e,j)},getCount:R(e)}},F=tinymce.util.Tools.resolve("tinymce.util.Delay"),z=function(e,t){e.fire("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})},V=function(e,t){z(e,t)},H=function(e,t,n){var r=F.debounce((function(){return V(e,t)}),n);e.on("init",(function(){V(e,t),F.setEditorTimeout(e,(function(){e.on("SetContent BeforeAddUndo Undo Redo keyup",r)}),0)}))},U=function(e,t){e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},$=function(e,t){e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return U(e,t)}}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return U(e,t)}})};function q(t){void 0===t&&(t=300),e.add("wordcount",(function(e){var n=B(e);return $(e,n),H(e,n,t),n}))}q()})()},e659:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.data,scale:e.scale}},[n("v-tooltip"),n("v-legend"),n("v-axis"),n("v-bar",{attrs:{position:"type*bar"}}),n("v-line",{attrs:{position:"type*line",color:"#2fc25b",size:3}})],1)],1)},o=[],i={name:"BarMultid",props:{title:{type:String,default:""},dataSource:{type:Array,default:function(){return[{type:"10:10",bar:2,line:2},{type:"10:15",bar:6,line:3},{type:"10:20",bar:2,line:5},{type:"10:25",bar:9,line:1},{type:"10:30",bar:2,line:3},{type:"10:35",bar:2,line:1},{type:"10:40",bar:1,line:2}]}},height:{type:Number,default:400}},data:function(){return{scale:[{dataKey:"bar",min:0},{dataKey:"line",min:0}]}},computed:{data:function(){return this.dataSource}}},a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,null,null);t["default"]=l.exports},e6b8:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("iframe",{attrs:{id:e.id,src:e.url,frameborder:"0",width:"100%",height:"800px",scrolling:"auto"}})},o=[],i=(n("b445"),n("501f"),{name:"IframePageContent",data:function(){return{url:"",id:""}},created:function(){this.goUrl()},updated:function(){this.goUrl()},watch:{$route:function(e,t){this.goUrl()}},methods:{goUrl:function(){var e=this.$route.meta.url,t=this.$route.path;this.id=t,null!==e&&void 0!==e&&(this.url=e)}}}),a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,null,null);t["default"]=l.exports},e6ea:function(e,t,n){"use strict";n("b128")},e784:function(e,t,n){},e8c4:function(e,t,n){"use strict";var r=n("80d3"),o=n("80a2"),i=n.n(o);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t["a"]={data:function(){return{needTotalList:[],selectedRows:[],selectedRowKeys:[],localLoading:!1,localDataSource:[],localPagination:Object.assign({},r["a"].props.pagination)}},props:Object.assign({},r["a"].props,{rowKey:{type:[String,Function],default:"id"},data:{type:Function,required:!0},pageNum:{type:Number,default:1},pageSize:{type:Number,default:10},showSizeChanger:{type:Boolean,default:!0},showAlertInfo:{type:Boolean,default:!1},showPagination:{default:"auto"}}),watch:{"localPagination.current":function(e){this.$router.push({name:this.$route.name,params:Object.assign({},this.$route.params,{pageNo:e})})},pageNum:function(e){Object.assign(this.localPagination,{current:e})},pageSize:function(e){Object.assign(this.localPagination,{pageSize:e})},showSizeChanger:function(e){Object.assign(this.localPagination,{showSizeChanger:e})}},created:function(){this.localPagination=["auto",!0].includes(this.showPagination)&&Object.assign({},this.localPagination,{current:this.pageNum,pageSize:this.pageSize,showSizeChanger:this.showSizeChanger}),this.needTotalList=this.initTotalList(this.columns),this.loadData()},methods:{refresh:function(){this.loadData()},loadData:function(e,t,n){var r=this;this.localLoading=!0;var o=this.data(Object.assign({pageNo:e&&e.current||this.localPagination.current,pageSize:e&&e.pageSize||this.localPagination.pageSize},n&&n.field&&{sortField:n.field}||{},n&&n.order&&{sortOrder:n.order}||{},s({},t)));o instanceof Promise&&o.then((function(t){r.localPagination=Object.assign({},r.localPagination,{current:t.pageNo,total:t.totalCount,showSizeChanger:r.showSizeChanger,pageSize:e&&e.pageSize||r.localPagination.pageSize}),!t.totalCount&&["auto",!1].includes(r.showPagination)&&(r.localPagination=!1),r.localDataSource=t.data,r.localLoading=!1}))},initTotalList:function(e){var t=[];return e&&e instanceof Array&&e.forEach((function(e){e.needTotal&&t.push(s(s({},e),{},{total:0}))})),t},updateSelect:function(e,t){this.selectedRowKeys=e,this.selectedRows=t;var n=this.needTotalList;this.needTotalList=n.map((function(e){return s(s({},e),{},{total:t.reduce((function(t,n){var r=t+i()(n,e.dataIndex);return isNaN(r)?0:r}),0)})}))},updateEdit:function(){this.selectedRows=[]},onClearSelected:function(){this.selectedRowKeys=[],this.updateSelect([],[])},renderMsg:function(e){var t=this,n=[];return n.push(e("span",{style:{marginRight:"12px"}},["已选择 ",e("a",{style:{fontWeight:600}},this.selectedRows.length)])),this.needTotalList.map((function(t){n.push(e("span",{style:{marginRight:"12px"}},["".concat(t.title,"总计 "),e("a",{style:{fontWeight:600}},"".concat(t.customRender?t.customRender(t.total):t.total))]))})),n.push(e("a",{style:{marginLeft:"24px"},on:{click:t.onClearSelected}},"清空")),n},renderAlert:function(e){return e("span",{slot:"message"},this.renderMsg(e))}},render:function(e){var t=this,n={},o=Object.keys(this.$data);return Object.keys(r["a"].props).forEach((function(e){var r="local".concat(e.substring(0,1).toUpperCase()).concat(e.substring(1));return o.includes(r)?n[e]=t[r]:n[e]=t[e]})),this.showAlertInfo?(n.rowSelection={selectedRowKeys:this.selectedRowKeys,onChange:function(e,n){t.updateSelect(e,n),t.$emit("onSelect",{selectedRowKeys:e,selectedRows:n})}},e("div",{},[e("a-alert",{style:{marginBottom:"16px"},props:{type:"info",showIcon:!0}},[t.renderAlert(e)]),e("a-table",{tag:"component",attrs:n,on:{change:t.loadData},scopedSlots:this.$scopedSlots},this.$slots.default)])):e("a-table",{tag:"component",attrs:n,on:{change:t.loadData},scopedSlots:this.$scopedSlots},this.$slots.default)}}},e98d:function(e,t,n){"use strict";n("fe23")},ea2d:function(e,t,n){"use strict";n("0960")},eaf4:function(e,t,n){},eb34:function(e,t,n){(function(e){e(n("fc0f"))})((function(e){"use strict";e.overlayMode=function(t,n,r){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:e.copyState(t,r.base),overlay:e.copyState(n,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(e,o){return(e!=o.streamSeen||Math.min(o.basePos,o.overlayPos)<e.start)&&(o.streamSeen=e,o.basePos=o.overlayPos=e.start),e.start==o.basePos&&(o.baseCur=t.token(e,o.base),o.basePos=e.pos),e.start==o.overlayPos&&(e.pos=e.start,o.overlayCur=n.token(e,o.overlay),o.overlayPos=e.pos),e.pos=Math.min(o.basePos,o.overlayPos),null==o.overlayCur?o.baseCur:null!=o.baseCur&&o.overlay.combineTokens||r&&null==o.overlay.combineTokens?o.baseCur+" "+o.overlayCur:o.overlayCur},indent:t.indent&&function(e,n,r){return t.indent(e.base,n,r)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){var o,i;return t.blankLine&&(o=t.blankLine(e.base)),n.blankLine&&(i=n.blankLine(e.overlay)),null==i?o:r&&null!=o?o+" "+i:i}}}}))},ebbf:function(e,t,n){},ebc6:function(e,t,n){(function(e){e(n("fc0f"))})((function(e){"use strict";e.registerHelper("wordChars","r",/[\w.]/),e.defineMode("r",(function(t){function n(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}var r=["NULL","NA","Inf","NaN","NA_integer_","NA_real_","NA_complex_","NA_character_","TRUE","FALSE"],o=["list","quote","bquote","eval","return","call","parse","deparse"],i=["if","else","repeat","while","function","for","in","next","break"],a=["if","else","repeat","while","function","for"];e.registerHelper("hintWords","r",r.concat(o,i));var s,l=n(r),u=n(o),c=n(i),d=n(a),f=/[+\-*\/^<>=!&|~$:]/;function p(e,t){s=null;var n=e.next();if("#"==n)return e.skipToEnd(),"comment";if("0"==n&&e.eat("x"))return e.eatWhile(/[\da-f]/i),"number";if("."==n&&e.eat(/\d/))return e.match(/\d*(?:e[+\-]?\d+)?/),"number";if(/\d/.test(n))return e.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/),"number";if("'"==n||'"'==n)return t.tokenize=h(n),"string";if("`"==n)return e.match(/[^`]+`/),"variable-3";if("."==n&&e.match(/.[.\d]+/))return"keyword";if(/[\w\.]/.test(n)&&"_"!=n){e.eatWhile(/[\w\.]/);var r=e.current();return l.propertyIsEnumerable(r)?"atom":c.propertyIsEnumerable(r)?(d.propertyIsEnumerable(r)&&!e.match(/\s*if(\s+|$)/,!1)&&(s="block"),"keyword"):u.propertyIsEnumerable(r)?"builtin":"variable"}return"%"==n?(e.skipTo("%")&&e.next(),"operator variable-2"):"<"==n&&e.eat("-")||"<"==n&&e.match("<-")||"-"==n&&e.match(/>>?/)?"operator arrow":"="==n&&t.ctx.argList?"arg-is":f.test(n)?"$"==n?"operator dollar":(e.eatWhile(f),"operator"):/[\(\){}\[\];]/.test(n)?(s=n,";"==n?"semi":null):null}function h(e){return function(t,n){if(t.eat("\\")){var r=t.next();return"x"==r?t.match(/^[a-f0-9]{2}/i):("u"==r||"U"==r)&&t.eat("{")&&t.skipTo("}")?t.next():"u"==r?t.match(/^[a-f0-9]{4}/i):"U"==r?t.match(/^[a-f0-9]{8}/i):/[0-7]/.test(r)&&t.match(/^[0-7]{1,2}/),"string-2"}var o;while(null!=(o=t.next())){if(o==e){n.tokenize=p;break}if("\\"==o){t.backUp(1);break}}return"string"}}var m=1,g=2,v=4;function y(e,t,n){e.ctx={type:t,indent:e.indent,flags:0,column:n.column(),prev:e.ctx}}function b(e,t){var n=e.ctx;e.ctx={type:n.type,indent:n.indent,flags:n.flags|t,column:n.column,prev:n.prev}}function x(e){e.indent=e.ctx.indent,e.ctx=e.ctx.prev}return{startState:function(){return{tokenize:p,ctx:{type:"top",indent:-t.indentUnit,flags:g},indent:0,afterIdent:!1}},token:function(e,t){if(e.sol()&&(0==(3&t.ctx.flags)&&(t.ctx.flags|=g),t.ctx.flags&v&&x(t),t.indent=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"!=n&&0==(t.ctx.flags&g)&&b(t,m),";"!=s&&"{"!=s&&"}"!=s||"block"!=t.ctx.type||x(t),"{"==s?y(t,"}",e):"("==s?(y(t,")",e),t.afterIdent&&(t.ctx.argList=!0)):"["==s?y(t,"]",e):"block"==s?y(t,"block",e):s==t.ctx.type?x(t):"block"==t.ctx.type&&"comment"!=n&&b(t,v),t.afterIdent="variable"==n||"keyword"==n,n},indent:function(e,n){if(e.tokenize!=p)return 0;var r=n&&n.charAt(0),o=e.ctx,i=r==o.type;return o.flags&v&&(o=o.prev),"block"==o.type?o.indent+("{"==r?0:t.indentUnit):o.flags&m?o.column+(i?0:1):o.indent+(i?0:t.indentUnit)},lineComment:"#"}})),e.defineMIME("text/x-rsrc","r")}))},ebd3:function(e,t,n){"use strict";n("6f97")},ebd36:function(e,t,n){"use strict";n("dda1")},ec65:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"请假人"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{}],expression:"['name', {}]"}],attrs:{placeholder:"请输入请假人"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"请假天数"}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["days",{}],expression:"[ 'days', {}]"}]})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"开始时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["beginDate",{}],expression:"[ 'beginDate', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"请假结束时间"}},[n("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["endDate",{}],expression:"[ 'endDate', {}]"}],attrs:{showTime:"",format:"YYYY-MM-DD"}})],1),n("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"请假原因"}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["reason",{}],expression:"['reason', {}]"}],attrs:{placeholder:"请输入请假原因"}})],1)],1)},o=[],i=n("0fea"),a=n("caaf"),s=n.n(a),l=n("85ee"),u=n.n(l),c=n("2dab"),d={name:"JoaDemoModal",components:{JDate:c["default"]},props:["formData"],data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{name:{},days:{},beginDate:{},endDate:{},reason:{},bpmStatus:{}},url:{queryById:"/test/joaDemo/queryById",add:"/test/joaDemo/add",edit:"/test/joaDemo/edit"}}},created:function(){var e=this;if(this.formData.dataId){var t={id:this.formData.dataId};Object(i["c"])(this.url.queryById,t).then((function(t){t.success&&e.edit(t.result)}))}},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(u()(t.model,"name","days","reason","bpmStatus")),t.form.setFieldsValue({beginDate:t.model.beginDate?s()(t.model.beginDate):null}),t.form.setFieldsValue({endDate:t.model.endDate?s()(t.model.endDate):null})}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);s.beginDate=s.beginDate?s.beginDate.format("YYYY-MM-DD HH:mm:ss"):null,s.endDate=s.endDate?s.endDate.format("YYYY-MM-DD HH:mm:ss"):null,Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},f=d,p=n("5d22"),h=Object(p["a"])(f,r,o,!1,null,"4ec04c25",null);t["default"]=h.exports},ed2a:function(e,t,n){"use strict";n.r(t);var r,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:1200,visible:e.visible,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"账号"}},[n("a-input",{attrs:{placeholder:"请输入账号查询"},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"性别"}},[n("a-select",{attrs:{placeholder:"请选择性别查询"},model:{value:e.queryParam.sex,callback:function(t){e.$set(e.queryParam,"sex",t)},expression:"queryParam.sex"}},[n("a-select-option",{attrs:{value:""}},[e._v("请选择性别查询")]),n("a-select-option",{attrs:{value:"1"}},[e._v("男性")]),n("a-select-option",{attrs:{value:"2"}},[e._v("女性")])],1)],1)],1),e.toggleSearchStatus?[n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"邮箱"}},[n("a-input",{attrs:{placeholder:"请输入邮箱查询"},model:{value:e.queryParam.email,callback:function(t){e.$set(e.queryParam,"email",t)},expression:"queryParam.email"}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"手机号码"}},[n("a-input",{attrs:{placeholder:"请输入手机号码查询"},model:{value:e.queryParam.phone,callback:function(t){e.$set(e.queryParam,"phone",t)},expression:"queryParam.phone"}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:"状态"}},[n("a-select",{attrs:{placeholder:"请选择用户状态查询"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[n("a-select-option",{attrs:{value:""}},[e._v("请选择用户状态")]),n("a-select-option",{attrs:{value:"1"}},[e._v("正常")]),n("a-select-option",{attrs:{value:"2"}},[e._v("解冻")])],1)],1)],1)]:e._e(),n("a-col",{attrs:{span:6}},[n("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchByquery}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),n("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n              "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n              "),n("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)])],2)],1)],1),n("a-table",{ref:"table",attrs:{rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange}})],1)},i=[],a=n("ca00"),s=n("4ec3");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={name:"SelectUserListModal",components:{},data:function(){return{title:"选择用户",queryParam:{},columns:[{title:"用户账号",align:"center",dataIndex:"username",fixed:"left",width:200},{title:"真实姓名",align:"center",dataIndex:"realname"},{title:"性别",align:"center",dataIndex:"sex",customRender:function(e){return 1==e?"男":2==e?"女":e}},{title:"手机号码",align:"center",dataIndex:"phone"},{title:"邮箱",align:"center",dataIndex:"email"},{title:"状态",align:"center",dataIndex:"status",customRender:function(e){return 1==e?"正常":2==e?"冻结":e}}],dataSource:[],ipagination:{current:1,pageSize:5,pageSizeOptions:["5","10","20"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},selectedRowKeys:[],selectionRows:[],visible:!1,toggleSearchStatus:!1}},created:function(){this.loadData()},methods:(r={add:function(e,t){this.visible=!0,this.edit(e,t)},edit:function(e,t){this.selectionRows=e,this.selectedRowKeys=t.split(",")},loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(s["v"])(n).then((function(e){e.success&&(t.dataSource=e.result.records,t.ipagination.total=e.result.total)}))},getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.current=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(a["b"])(e)},getQueryField:function(){for(var e="id,",t=0;t<this.columns.length;t++)e+=","+this.columns[t].dataIndex;return e},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},searchReset:function(){var e=this;Object.keys(e.queryParam).forEach((function(t){e.queryParam[t]=""})),e.loadData(1)},handleTableChange:function(e,t,n){Object.keys(n).length>0&&(this.isorter.column=n.field,this.isorter.order="ascend"==n.order?"asc":"desc"),this.ipagination=e,this.loadData()},handleCancel:function(){this.selectionRows=[],this.selectedRowKeys=[],this.visible=!1},handleOk:function(){this.$emit("choseUser",this.selectionRows),this.handleCancel()},searchByquery:function(){this.loadData(1)}},l(r,"searchReset",(function(){var e=this;Object.keys(e.queryParam).forEach((function(t){e.queryParam[t]=""})),e.loadData(1)})),l(r,"handleToggleSearch",(function(){this.toggleSearchStatus=!this.toggleSearchStatus})),r)},c=u,d=(n("ef32"),n("5d22")),f=Object(d["a"])(c,o,i,!1,null,"4430de9a",null);t["default"]=f.exports},ed31:function(e,t,n){},edd9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0 0 32px 32px"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{attrs:{forceFit:!0,height:e.height,data:e.dataSource,scale:e.scale,padding:e.padding}},[n("v-tooltip"),n("v-axis"),n("v-bar",{attrs:{position:"x*y"}})],1)],1)},o=[],i=n("ca00"),a={name:"Bar",props:{dataSource:{type:Array,required:!0},yaxisText:{type:String,default:"y"},title:{type:String,default:""},height:{type:Number,default:254}},data:function(){return{padding:["auto","auto","40","50"]}},computed:{scale:function(){return[{dataKey:"y",alias:this.yaxisText}]}},mounted:function(){Object(i["h"])()}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,null,null);t["default"]=u.exports},ee18:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{staticStyle:{height:"calc(100% - 55px)",overflow:"auto","padding-bottom":"53px"},attrs:{title:e.title,maskClosable:!0,width:"650",placement:"right",closable:!0,visible:e.visible},on:{close:e.close}},[n("a-form",[n("a-form-item",{attrs:{label:"所拥有的权限"}},[n("a-tree",{attrs:{checkable:"",checkedKeys:e.checkedKeys,treeData:e.treeData,expandedKeys:e.expandedKeysss,checkStrictly:e.checkStrictly},on:{check:e.onCheck,expand:e.onExpand,select:e.onTreeNodeSelect},scopedSlots:e._u([{key:"hasDatarule",fn:function(t){var r=t.slotTitle,o=t.ruleFlag;return n("span",{},[e._v("\n          "+e._s(r)),o?n("a-icon",{staticStyle:{"margin-left":"5px",color:"red"},attrs:{type:"align-left"}}):e._e()],1)}}])})],1)],1),n("div",{staticClass:"drawer-bootom-button"},[n("a-dropdown",{staticStyle:{float:"left"},attrs:{trigger:["click"],placement:"topCenter"}},[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:function(t){return e.switchCheckStrictly(1)}}},[e._v("父子关联")]),n("a-menu-item",{key:"2",on:{click:function(t){return e.switchCheckStrictly(2)}}},[e._v("取消关联")]),n("a-menu-item",{key:"3",on:{click:e.checkALL}},[e._v("全部勾选")]),n("a-menu-item",{key:"4",on:{click:e.cancelCheckALL}},[e._v("取消全选")]),n("a-menu-item",{key:"5",on:{click:e.expandAll}},[e._v("展开所有")]),n("a-menu-item",{key:"6",on:{click:e.closeAll}},[e._v("合并所有")])],1),n("a-button",[e._v("\n        树操作 "),n("a-icon",{attrs:{type:"up"}})],1)],1),n("a-popconfirm",{attrs:{title:"确定放弃编辑？",okText:"确定",cancelText:"取消"},on:{confirm:e.close}},[n("a-button",{staticStyle:{"margin-right":".8rem"}},[e._v("取消")])],1),n("a-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("提交")])],1),n("role-datarule-modal",{ref:"datarule"})],1)},o=[],i=n("4ec3"),a=n("2285");function s(e){return d(e)||c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function c(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function d(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={name:"RoleModal",components:{RoleDataruleModal:a["default"]},data:function(){return{roleId:"",treeData:[],defaultCheckedKeys:[],checkedKeys:[],expandedKeysss:[],allTreeKeys:[],autoExpandParent:!0,checkStrictly:!0,title:"角色权限配置",visible:!1,loading:!1}},methods:{onTreeNodeSelect:function(e){this.$refs.datarule.show(e[0],this.roleId)},onCheck:function(e){this.checkStrictly?this.checkedKeys=e.checked:this.checkedKeys=e},show:function(e){this.roleId=e,this.visible=!0},close:function(){this.reset(),this.$emit("close"),this.visible=!1},onExpand:function(e){this.expandedKeysss=e,this.autoExpandParent=!1},reset:function(){this.expandedKeysss=[],this.checkedKeys=[],this.defaultCheckedKeys=[],this.loading=!1},expandAll:function(){this.expandedKeysss=this.allTreeKeys},closeAll:function(){this.expandedKeysss=[]},checkALL:function(){this.checkedKeys=this.allTreeKeys},cancelCheckALL:function(){this.checkedKeys=[]},switchCheckStrictly:function(e){1==e?this.checkStrictly=!1:2==e&&(this.checkStrictly=!0)},handleCancel:function(){this.close()},handleSubmit:function(){var e=this,t={roleId:e.roleId,permissionIds:e.checkedKeys.join(","),lastpermissionIds:e.defaultCheckedKeys.join(",")};e.loading=!0,Object(i["J"])(t).then((function(t){t.success?(e.$message.success(t.message),e.loading=!1,e.close()):(e.$message.error(t.message),e.loading=!1,e.close())}))}},watch:{visible:function(){var e=this;this.visible&&Object(i["E"])().then((function(t){e.treeData=t.result.treeList,e.allTreeKeys=t.result.ids,Object(i["C"])({roleId:e.roleId}).then((function(t){e.checkedKeys=s(t.result),e.defaultCheckedKeys=s(t.result),e.expandedKeysss=e.allTreeKeys}))}))}}},h=p,m=(n("9204"),n("5d22")),g=Object(m["a"])(h,r,o,!1,null,"6e1f6802",null);t["default"]=g.exports},ee9a:function(e,t,n){},ef32:function(e,t,n){"use strict";n("2f60")},efeb:function(e,t,n){},f112b:function(e,t,n){(function(e){e(n("fc0f"))})((function(e){"use strict";e.defineMode("coffeescript",(function(e,t){var n="error";function r(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var o=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,i=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,a=/^[_A-Za-z$][_A-Za-z$0-9]*/,s=/^@[_A-Za-z$][_A-Za-z$0-9]*/,l=r(["and","or","not","is","isnt","in","instanceof","typeof"]),u=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],c=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],d=r(u.concat(c));u=r(u);var f=/^('{3}|\"{3}|['\"])/,p=/^(\/{3}|\/)/,h=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"],m=r(h);function g(e,t){if(e.sol()){null===t.scope.align&&(t.scope.align=!1);var r=t.scope.offset;if(e.eatSpace()){var u=e.indentation();return u>r&&"coffee"==t.scope.type?"indent":u<r?"dedent":null}r>0&&x(e,t)}if(e.eatSpace())return null;var c=e.peek();if(e.match("####"))return e.skipToEnd(),"comment";if(e.match("###"))return t.tokenize=y,t.tokenize(e,t);if("#"===c)return e.skipToEnd(),"comment";if(e.match(/^-?[0-9\.]/,!1)){var h=!1;if(e.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(h=!0),e.match(/^-?\d+\.\d*/)&&(h=!0),e.match(/^-?\.\d+/)&&(h=!0),h)return"."==e.peek()&&e.backUp(1),"number";var g=!1;if(e.match(/^-?0x[0-9a-f]+/i)&&(g=!0),e.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(g=!0),e.match(/^-?0(?![\dx])/i)&&(g=!0),g)return"number"}if(e.match(f))return t.tokenize=v(e.current(),!1,"string"),t.tokenize(e,t);if(e.match(p)){if("/"!=e.current()||e.match(/^.*\//,!1))return t.tokenize=v(e.current(),!0,"string-2"),t.tokenize(e,t);e.backUp(1)}return e.match(o)||e.match(l)?"operator":e.match(i)?"punctuation":e.match(m)?"atom":e.match(s)||t.prop&&e.match(a)?"property":e.match(d)?"keyword":e.match(a)?"variable":(e.next(),n)}function v(e,r,o){return function(i,a){while(!i.eol())if(i.eatWhile(/[^'"\/\\]/),i.eat("\\")){if(i.next(),r&&i.eol())return o}else{if(i.match(e))return a.tokenize=g,o;i.eat(/['"\/]/)}return r&&(t.singleLineStringErrors?o=n:a.tokenize=g),o}}function y(e,t){while(!e.eol()){if(e.eatWhile(/[^#]/),e.match("###")){t.tokenize=g;break}e.eatWhile("#")}return"comment"}function b(t,n,r){r=r||"coffee";for(var o=0,i=!1,a=null,s=n.scope;s;s=s.prev)if("coffee"===s.type||"}"==s.type){o=s.offset+e.indentUnit;break}"coffee"!==r?(i=null,a=t.column()+t.current().length):n.scope.align&&(n.scope.align=!1),n.scope={offset:o,type:r,prev:n.scope,align:i,alignOffset:a}}function x(e,t){if(t.scope.prev){if("coffee"===t.scope.type){for(var n=e.indentation(),r=!1,o=t.scope;o;o=o.prev)if(n===o.offset){r=!0;break}if(!r)return!0;while(t.scope.prev&&t.scope.offset!==n)t.scope=t.scope.prev;return!1}return t.scope=t.scope.prev,!1}}function w(e,t){var r=t.tokenize(e,t),o=e.current();"return"===o&&(t.dedent=!0),(("->"===o||"=>"===o)&&e.eol()||"indent"===r)&&b(e,t);var i="[({".indexOf(o);if(-1!==i&&b(e,t,"])}".slice(i,i+1)),u.exec(o)&&b(e,t),"then"==o&&x(e,t),"dedent"===r&&x(e,t))return n;if(i="])}".indexOf(o),-1!==i){while("coffee"==t.scope.type&&t.scope.prev)t.scope=t.scope.prev;t.scope.type==o&&(t.scope=t.scope.prev)}return t.dedent&&e.eol()&&("coffee"==t.scope.type&&t.scope.prev&&(t.scope=t.scope.prev),t.dedent=!1),r}var _={startState:function(e){return{tokenize:g,scope:{offset:e||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(e,t){var n=null===t.scope.align&&t.scope;n&&e.sol()&&(n.align=!1);var r=w(e,t);return r&&"comment"!=r&&(n&&(n.align=!0),t.prop="punctuation"==r&&"."==e.current()),r},indent:function(e,t){if(e.tokenize!=g)return 0;var n=e.scope,r=t&&"])}".indexOf(t.charAt(0))>-1;if(r)while("coffee"==n.type&&n.prev)n=n.prev;var o=r&&n.type===t.charAt(0);return n.align?n.alignOffset-(o?1:0):(o?n.prev:n).offset},lineComment:"#",fold:"indent"};return _})),e.defineMIME("application/vnd.coffeescript","coffeescript"),e.defineMIME("text/x-coffeescript","coffeescript"),e.defineMIME("text/coffeescript","coffeescript")}))},f1cf:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:e.width,visible:e.visible,confirmLoading:e.confirmLoading,destroyOnClose:!0,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{form:e.form}},[n("a-form-item",{attrs:{label:"父级节点",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("j-tree-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["pid",e.validatorRules.pid],expression:"['pid', validatorRules.pid]"}],ref:"treeSelect",attrs:{placeholder:"请选择父级节点",dict:"sys_category,name,id",pidField:"pid"}})],1),n("a-form-item",{attrs:{label:"类型名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",e.validatorRules.name],expression:"[ 'name', validatorRules.name]"}],attrs:{placeholder:"请输入类型名称"}})],1),n("a-form-item",{attrs:{label:"类型编码",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",e.validatorRules.code],expression:"[ 'code', validatorRules.code]"}],attrs:{placeholder:"请输入类型编码"}})],1)],1)],1)],1)},o=[],i=n("0fea"),a=n("85ee"),s=n.n(a),l=n("b098"),u={name:"SysCategoryModal",components:{JTreeSelect:l["default"]},data:function(){return{form:this.$form.createForm(this),title:"操作",width:800,visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,validatorRules:{pid:{},name:{},code:{}},url:{add:"/sys/category/add",edit:"/sys/category/edit"},expandedRowKeys:[],pidField:"pid"}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(s()(t.model,"pid","name","code"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(n,r){if(!n){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post");var s=Object.assign(e.model,r);Object(i["g"])(o,s,a).then((function(e){e.success?(t.$message.success(e.message),t.submitSuccess(s)):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},popupCallback:function(e){this.form.setFieldsValue(s()(e,"pid","name","code"))},submitSuccess:function(e){if(e.id)this.$emit("ok",e);else{var t=this.$refs.treeSelect.getCurrTreeData();this.expandedRowKeys=[],this.getExpandKeysByPid(e[this.pidField],t,t),this.$emit("ok",e,this.expandedRowKeys.reverse())}},getExpandKeysByPid:function(e,t,n){if(e&&t&&t.length>0)for(var r=0;r<t.length;r++)t[r].key==e?(this.expandedRowKeys.push(t[r].key),this.getExpandKeysByPid(t[r]["parentId"],n,n)):this.getExpandKeysByPid(e,t[r].children,n)}}},c=u,d=n("5d22"),f=Object(d["a"])(c,r,o,!1,null,null,null);t["default"]=f.exports},f2f0:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header-index-wide page-header-wrapper-grid-content-main"},[n("a-row",{attrs:{gutter:24}},[n("a-col",{attrs:{md:24,lg:7}},[n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"account-center-avatarHolder"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:e.getAvatar()}})]),n("div",{staticClass:"username"},[e._v(e._s(e.nickname()))]),n("div",{staticClass:"bio"},[e._v("海纳百川，有容乃大")])]),n("div",{staticClass:"account-center-detail"},[n("p",[n("i",{staticClass:"title"}),e._v("交互专家\n          ")]),n("p",[n("i",{staticClass:"group"}),e._v("蚂蚁金服－某某某事业群－某某平台部－某某技术部－UED\n          ")]),n("p",[n("i",{staticClass:"address"}),n("span",[e._v("浙江省")]),n("span",[e._v("杭州市")])])]),n("a-divider"),n("div",{staticClass:"account-center-tags"},[n("div",{staticClass:"tagsTitle"},[e._v("标签")]),n("div",[e._l(e.tags,(function(t,r){return[t.length>20?n("a-tooltip",{key:t,attrs:{title:t}},[n("a-tag",{key:t,attrs:{closable:0!==r,afterClose:function(){return e.handleTagClose(t)}}},[e._v("\n                  "+e._s(t.slice(0,20)+"...")+"\n                ")])],1):n("a-tag",{key:t,attrs:{closable:0!==r,afterClose:function(){return e.handleTagClose(t)}}},[e._v(e._s(t))])]})),e.tagInputVisible?n("a-input",{ref:"tagInput",style:{width:"78px"},attrs:{type:"text",size:"small",value:e.tagInputValue},on:{change:e.handleInputChange,blur:e.handleTagInputConfirm,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleTagInputConfirm(t)}}}):n("a-tag",{staticStyle:{background:"#fff",borderStyle:"dashed"},on:{click:e.showTagInput}},[n("a-icon",{attrs:{type:"plus"}}),e._v(" New Tag\n            ")],1)],2)]),n("a-divider",{attrs:{dashed:!0}}),n("div",{staticClass:"account-center-team"},[n("div",{staticClass:"teamTitle"},[e._v("团队")]),n("a-spin",{attrs:{spinning:e.teamSpinning}},[n("div",{staticClass:"members"},[n("a-row",e._l(e.teams,(function(t,r){return n("a-col",{key:r,attrs:{span:12}},[n("a",[n("a-avatar",{attrs:{size:"small",src:t.avatar}}),n("span",{staticClass:"member"},[e._v(e._s(t.name))])],1)])})),1)],1)])],1)],1)],1),n("a-col",{attrs:{md:24,lg:17}},[n("a-card",{staticStyle:{width:"100%"},attrs:{bordered:!1,tabList:e.tabListNoTitle,activeTabKey:e.noTitleKey},on:{tabChange:function(t){return e.handleTabChange(t,"noTitleKey")}}},["article"===e.noTitleKey?n("article-page"):"app"===e.noTitleKey?n("app-page"):"project"===e.noTitleKey?n("project-page"):e._e()],1)],1)],1)],1)},o=[],i=n("b445"),a=n("501f"),s=n("2f5e"),l=n("b8ea"),u=n("b8c5"),c=n("cf6b");function d(e){return m(e)||h(e)||p(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function h(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function m(e){if(Array.isArray(e))return g(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={components:{RouteView:a["default"],PageLayout:i["default"],AppPage:s["default"],ArticlePage:l["default"],ProjectPage:u["default"]},data:function(){return{tags:["很有想法的","专注设计","辣~","大长腿","川妹子","海纳百川"],tagInputVisible:!1,tagInputValue:"",teams:[],teamSpinning:!0,tabListNoTitle:[{key:"article",tab:"文章(8)"},{key:"app",tab:"应用(8)"},{key:"project",tab:"项目(8)"}],noTitleKey:"app"}},mounted:function(){this.getTeams()},methods:y(y({},Object(c["c"])(["nickname","avatar"])),{},{getAvatar:function(){return window._CONFIG["imgDomainURL"]+"/"+this.avatar()},getTeams:function(){var e=this;this.$http.get("/api/workplace/teams").then((function(t){e.teams=t.result,e.teamSpinning=!1}))},handleTabChange:function(e,t){this[t]=e},handleTagClose:function(e){var t=this.tags.filter((function(t){return t!=e}));this.tags=t},showTagInput:function(){var e=this;this.tagInputVisible=!0,this.$nextTick((function(){e.$refs.tagInput.focus()}))},handleInputChange:function(e){this.tagInputValue=e.target.value},handleTagInputConfirm:function(){var e=this.tagInputValue,t=this.tags;e&&-1===t.indexOf(e)&&(t=[].concat(d(t),[e])),Object.assign(this,{tags:t,tagInputVisible:!1,tagInputValue:""})}})},w=x,_=(n("5968"),n("5d22")),C=Object(_["a"])(w,r,o,!1,null,"7f521c8c",null);t["default"]=C.exports},f311:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-steps",{staticClass:"steps",attrs:{current:e.currentTab}},[n("a-step",{attrs:{title:"填写转账信息"}}),n("a-step",{attrs:{title:"确认转账信息"}}),n("a-step",{attrs:{title:"完成"}})],1),n("div",{staticClass:"content"},[0===e.currentTab?n("step1",{on:{nextStep:e.nextStep}}):e._e(),1===e.currentTab?n("step2",{on:{nextStep:e.nextStep,prevStep:e.prevStep}}):e._e(),2===e.currentTab?n("step3",{on:{prevStep:e.prevStep,finish:e.finish}}):e._e()],1)],1)},o=[],i=n("82ef"),a=n("f4a3"),s=n("a462"),l={name:"StepForm",components:{Step1:i["default"],Step2:a["default"],Step3:s["default"]},data:function(){return{description:"将一个冗长或用户不熟悉的表单任务分成多个步骤，指导用户完成。",currentTab:0,form:null}},methods:{nextStep:function(){this.currentTab<2&&(this.currentTab+=1)},prevStep:function(){this.currentTab>0&&(this.currentTab-=1)},finish:function(){this.currentTab=0}}},u=l,c=(n("2d96"),n("5d22")),d=Object(c["a"])(u,r,o,!1,null,"cb3a4db8",null);t["default"]=d.exports},f32b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("result",{attrs:{"is-success":!1,title:e.title,description:e.description}},[n("template",{slot:"action"},[n("a-button",{attrs:{type:"primary"}},[e._v("返回修改")])],1),n("div",[n("div",{staticStyle:{"font-size":"16px",color:"rgba(0, 0, 0, 0.85)","font-weight":"500","margin-bottom":"16px"}},[e._v("\n        您提交的内容有如下错误：\n      ")]),n("div",{staticStyle:{"margin-bottom":"16px"}},[n("a-icon",{staticStyle:{color:"#f5222d","margin-right":"8px"},attrs:{type:"close-circle-o"}}),e._v("\n        您的账户已被冻结\n        "),n("a",{staticStyle:{"margin-left":"16px"}},[e._v("立即解冻 "),n("a-icon",{attrs:{type:"right"}})],1)],1),n("div",[n("a-icon",{staticStyle:{color:"#f5222d","margin-right":"8px"},attrs:{type:"close-circle-o"}}),e._v("\n        您的账户还不具备申请资格\n        "),n("a",{staticStyle:{"margin-left":"16px"}},[e._v("立即升级 "),n("a-icon",{attrs:{type:"right"}})],1)],1)])],2)],1)},o=[],i=n("9a3d"),a={name:"Error",components:{Result:i["default"]},data:function(){return{title:"提交失败",description:"请核对并修改以下信息后，再重新提交。"}}},s=a,l=n("5d22"),u=Object(l["a"])(s,r,o,!1,null,"3b816936",null);t["default"]=u.exports},f3d0:function(module,__webpack_exports__,__webpack_require__){"use strict";for(var _components_ChartCard__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("05ed"),ant_design_vue_es_grid_Col__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("14b1"),ant_design_vue_es_tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("abc1"),_components_chart_MiniArea__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("1d43"),_components_chart_MiniBar__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("942d"),_components_chart_LineChartMultid__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("4ec6"),_components_chart_AreaChartTy__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("f552"),_components_chart_DashChartDemo__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("972f"),_components_chart_BarMultid__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("8191"),_components_chart_MiniProgress__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("bf13"),_components_chart_RankList__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("0923"),_components_chart_Bar__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("edd9"),_components_Trend__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("611e"),_api_manage__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("0fea"),_utils_util__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("ca00"),dayjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("a397"),dayjs__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_15__),rankList=[],i=0;i<7;i++)rankList.push({name:"白鹭岛 "+(i+1)+" 号店",total:1234.56-100*i});var dataCol1=[{title:"业务号",align:"center",dataIndex:"reBizCode"},{title:"权利类型",align:"center",dataIndex:"droitType"},{title:"登记类型",align:"center",dataIndex:"registeType"},{title:"座落",align:"center",dataIndex:"beLocated"},{title:"权利人",align:"center",dataIndex:"qlr"},{title:"义务人",align:"center",dataIndex:"ywr"},{title:"受理人",align:"center",dataIndex:"acceptBy"},{title:"受理时间",align:"center",dataIndex:"acceptDate"},{title:"当前节点",align:"center",dataIndex:"curNode"},{title:"办理进度",align:"center",dataIndex:"flowRate",scopedSlots:{customRender:"flowRate"}}],dataCol2=[{title:"业务号",align:"center",dataIndex:"reBizCode"},{title:"权利类型",align:"center",dataIndex:"droitType"},{title:"登记类型",align:"center",dataIndex:"registeType"},{title:"座落",align:"center",dataIndex:"beLocated"},{title:"权利人",align:"center",dataIndex:"qlr"},{title:"义务人",align:"center",dataIndex:"ywr"},{title:"受理人",align:"center",dataIndex:"acceptBy"},{title:"发起时间",align:"center",dataIndex:"acceptDate"},{title:"当前节点",align:"center",dataIndex:"curNode"},{title:"超时时间",align:"center",dataIndex:"flowRate",scopedSlots:{customRender:"flowRate"}}],jhjgData=[{type:"房管","一月":900,"二月":1120,"三月":1380,"四月":1480,"五月":1450,"六月":1100,"七月":1300,"八月":900,"九月":1e3,"十月":1200,"十一月":600,"十二月":900},{type:"税务","一月":1200,"二月":1500,"三月":1980,"四月":2e3,"五月":1e3,"六月":600,"七月":900,"八月":1100,"九月":1300,"十月":2e3,"十一月":900,"十二月":1100},{type:"不动产","一月":2e3,"二月":1430,"三月":1300,"四月":1400,"五月":900,"六月":500,"七月":600,"八月":1e3,"九月":600,"十月":1e3,"十一月":1500,"十二月":1200}],jhjgFields=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],xljgData=[{type:"一月","房管":1.12,"税务":1.55,"不动产":1.2},{type:"二月","房管":1.65,"税务":1.32,"不动产":1.42},{type:"三月","房管":1.85,"税务":1.1,"不动产":1.5},{type:"四月","房管":1.33,"税务":1.63,"不动产":1.4},{type:"五月","房管":1.63,"税务":1.8,"不动产":1.7},{type:"六月","房管":1.85,"税务":1.98,"不动产":1.8},{type:"七月","房管":1.98,"税务":1.5,"不动产":1.76},{type:"八月","房管":1.48,"税务":1.2,"不动产":1.3},{type:"九月","房管":1.41,"税务":1.9,"不动产":1.6},{type:"十月","房管":1.1,"税务":1.1,"不动产":1.4},{type:"十一月","房管":1.85,"税务":1.6,"不动产":1.5},{type:"十二月","房管":1.5,"税务":1.4,"不动产":1.3}],xljgFields=["房管","税务","不动产"];__webpack_exports__["a"]={name:"Analysis",components:{ATooltip:ant_design_vue_es_tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_2__["a"],ACol:ant_design_vue_es_grid_Col__WEBPACK_IMPORTED_MODULE_1__["b"],ChartCard:_components_ChartCard__WEBPACK_IMPORTED_MODULE_0__["default"],MiniArea:_components_chart_MiniArea__WEBPACK_IMPORTED_MODULE_3__["default"],MiniBar:_components_chart_MiniBar__WEBPACK_IMPORTED_MODULE_4__["default"],MiniProgress:_components_chart_MiniProgress__WEBPACK_IMPORTED_MODULE_9__["default"],RankList:_components_chart_RankList__WEBPACK_IMPORTED_MODULE_10__["default"],Bar:_components_chart_Bar__WEBPACK_IMPORTED_MODULE_11__["default"],Trend:_components_Trend__WEBPACK_IMPORTED_MODULE_12__["a"],LineChartMultid:_components_chart_LineChartMultid__WEBPACK_IMPORTED_MODULE_5__["default"],AreaChartTy:_components_chart_AreaChartTy__WEBPACK_IMPORTED_MODULE_6__["default"],DashChartDemo:_components_chart_DashChartDemo__WEBPACK_IMPORTED_MODULE_7__["default"],BarMultid:_components_chart_BarMultid__WEBPACK_IMPORTED_MODULE_8__["default"]},data:function(){return{xljgData:xljgData,xljgFields:xljgFields,jhjgData:jhjgData,jhjgFields:jhjgFields,loading:!0,rankList:rankList,zsll:0,zbjl:0,todaySll:0,todayBjl:0,todayISll:0,todayIBjl:0,registerTypeList:[{text:"业务受理"},{text:"业务管理"},{text:"文件管理"},{text:"信息查询"}],ipagination:{current:1,pageSize:5,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},dataSource:[],dataSource1:[],dataSource2:[],url:{analysis:"/sps/register/analysis",list:"sps/register/virtualList",countSll:"sps/register/sllTenDaysCount",countBjl:"sps/register/bjlTenDaysCount",countISll:"sps/register/ISllTenDaysCount",countIBjl:"sps/register/IBjlTenDaysCount",queryDiskInfo:"api/queryDiskInfo"},chartData:{sll:[],bjl:[],isll:[],ibjl:[]},cardCount:{sll:0,bjl:0,isll:0,ibjl:0},columns:dataCol1,columns2:dataCol2,diskInfo:[]}},methods:{goPage:function(e){0==e?this.$router.push({path:"/isps/registerStepForm",name:"isps-registerStepForm"}):1==e?this.$router.push({path:"/isps/registerList",name:"isps-registerList"}):2==e?this.$router.push({path:"/isps/fileManage",name:"isps-fileManage"}):3==e&&this.$router.push({path:"/isps/infoSearch",name:"isps-infoSearch"})},loadList:function(e){var t=this;1===e&&(this.ipagination.current=1);var n=this.getQueryParams();Object(_api_manage__WEBPACK_IMPORTED_MODULE_13__["c"])(this.url.list,n).then((function(e){t.dataSource1=e.result.data1,t.dataSource2=e.result.data2,t.ipagination.total=5}))},getQueryParams:function(){var e={flowStatus:"-3"};return e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(_utils_util__WEBPACK_IMPORTED_MODULE_14__["b"])(e)},formatRespectiveHoldCert:function formatRespectiveHoldCert(value){return"1"==value||eval(value)?"是":"否"},formatCertFormat:function(e){return"1"==e?"单一版":"2"==e?"集成版":e},getFlowRateNumber:function(e){return Number(e)},getFlowPercent:function(e){return"3"==e.flowStatus?100:"0"==e.flowStatus?0:e.flowRate},getFlowStatus:function(e){return"4"==e?"exception":"0"==e?"normal":"3"==e?"success":"active"},queryCount:function(){var e=this;Object(_api_manage__WEBPACK_IMPORTED_MODULE_13__["c"])(this.url.analysis).then((function(t){t.success&&(e.cardCount=t.result)}))},loadDiskInfo:function(){var e=this;Object(_api_manage__WEBPACK_IMPORTED_MODULE_13__["c"])(this.url.queryDiskInfo).then((function(t){if(t.success){var n=0,r="";for(var o in t.result){var i=Number(t.result[o].max);i>n&&(n=i,r=t.result[o].name)}var a=t.result.filter((function(e){return e.name==r}))[0];if(a.restPPT=a.restPPT/10,e.diskInfo.push(a),t.result.length>1){var s=0,l="";for(var u in t.result)if(t.result[u].name!=r){var c=Number(t.result[u].max);c>s&&(s=c,l=t.result[u].name)}var d=t.result.filter((function(e){return e.name==l}))[0];d.restPPT=d.restPPT/10,e.diskInfo.push(d)}}}))},loadChartData:function(){var e=this;Object(_api_manage__WEBPACK_IMPORTED_MODULE_13__["c"])(this.url.countSll).then((function(t){if(t.success){var n=t.result;for(var r in n){var o=r,i=n[r],a=dayjs__WEBPACK_IMPORTED_MODULE_15___default()(new Date).format("YYYY-MM-DD");o==a&&(e.todaySll=n[a]),e.chartData.sll.push({x:o,y:i})}}})),Object(_api_manage__WEBPACK_IMPORTED_MODULE_13__["c"])(this.url.countBjl).then((function(t){if(t.success){var n=t.result;for(var r in n){var o=r,i=n[r],a=dayjs__WEBPACK_IMPORTED_MODULE_15___default()(new Date).format("YYYY-MM-DD");o==a&&(e.todayBjl=n[a]),e.chartData.bjl.push({x:o,y:i})}}})),Object(_api_manage__WEBPACK_IMPORTED_MODULE_13__["c"])(this.url.countISll).then((function(t){if(t.success){var n=t.result;for(var r in n){var o=r,i=n[r],a=dayjs__WEBPACK_IMPORTED_MODULE_15___default()(new Date).format("YYYY-MM-DD");o==a&&(e.todayISll=n[a]),e.chartData.isll.push({x:r,y:i})}}})),Object(_api_manage__WEBPACK_IMPORTED_MODULE_13__["c"])(this.url.countIBjl).then((function(t){if(t.success){var n=t.result;for(var r in n){var o=r,i=n[r],a=dayjs__WEBPACK_IMPORTED_MODULE_15___default()(new Date).format("YYYY-MM-DD");o==a&&(e.todayIBjl=n[a]),e.chartData.ibjl.push({x:r,y:i})}}}))}},created:function(){var e=this;this.loadDiskInfo(),this.queryCount(),this.loadChartData(),this.loadList(1),setTimeout((function(){e.loading=!e.loading}),1e3)}}},f498:function(e,t,n){},f4a3:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-form",{staticStyle:{"max-width":"500px",margin:"40px auto 0"}},[n("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{closable:!0,message:"确认转账后，资金将直接打入对方账户，无法退回。"}}),n("a-form-item",{staticClass:"stepFormText",attrs:{label:"付款账户",labelCol:{span:5},wrapperCol:{span:19}}},[e._v("\n      ant-design@alipay.com\n    ")]),n("a-form-item",{staticClass:"stepFormText",attrs:{label:"收款账户",labelCol:{span:5},wrapperCol:{span:19}}},[e._v("\n      test@example.com\n    ")]),n("a-form-item",{staticClass:"stepFormText",attrs:{label:"收款人姓名",labelCol:{span:5},wrapperCol:{span:19}}},[e._v("\n      Alex\n    ")]),n("a-form-item",{staticClass:"stepFormText",attrs:{label:"转账金额",labelCol:{span:5},wrapperCol:{span:19}}},[e._v("\n      ￥ 5,000.00\n    ")]),n("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[n("a-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.nextStep}},[e._v("提交")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.prevStep}},[e._v("上一步")])],1)],1)],1)},o=[],i={name:"Step2",data:function(){return{loading:!1}},methods:{nextStep:function(){var e=this;e.loading=!0,setTimeout((function(){e.$emit("nextStep")}),1500)},prevStep:function(){this.$emit("prevStep")}}},a=i,s=(n("14db"),n("5d22")),l=Object(s["a"])(a,r,o,!1,null,"58be0970",null);t["default"]=l.exports},f534:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"高级查询构造器",width:800,visible:e.visible,confirmLoading:e.confirmLoading,mask:!1,okText:"查询",cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",[n("div",e._l(e.queryParamsModel,(function(t,r){return n("a-row",{key:r,staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",gutter:16}},[n("a-col",{attrs:{span:6}},[n("a-select",{attrs:{placeholder:"选择查询字段"},model:{value:t.field,callback:function(n){e.$set(t,"field",n)},expression:"item.field"}},[n("a-select-option",{attrs:{value:"name"}},[e._v("用户名")]),n("a-select-option",{attrs:{value:"key_word"}},[e._v("关键词")]),n("a-select-option",{attrs:{value:"birthday"}},[e._v("生日")]),n("a-select-option",{attrs:{value:"age"}},[e._v("年龄")])],1)],1),n("a-col",{attrs:{span:6}},[n("a-select",{attrs:{placeholder:"选择匹配规则"},model:{value:t.rule,callback:function(n){e.$set(t,"rule",n)},expression:"item.rule"}},[n("a-select-option",{attrs:{value:"="}},[e._v("等于")]),n("a-select-option",{attrs:{value:"!="}},[e._v("不等于")]),n("a-select-option",{attrs:{value:">"}},[e._v("大于")]),n("a-select-option",{attrs:{value:">="}},[e._v("大于等于")]),n("a-select-option",{attrs:{value:"<"}},[e._v("小于")]),n("a-select-option",{attrs:{value:"<="}},[e._v("小于等于")]),n("a-select-option",{attrs:{value:"LEFT_LIKE"}},[e._v("以..开始")]),n("a-select-option",{attrs:{value:"RIGHT_LIKE"}},[e._v("以..结尾")]),n("a-select-option",{attrs:{value:"LIKE"}},[e._v("包含")]),n("a-select-option",{attrs:{value:"IN"}},[e._v("在...中")])],1)],1),n("a-col",{attrs:{span:6}},[n("a-input",{attrs:{placeholder:"请输入值"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"item.val"}})],1),n("a-col",{attrs:{span:6}},[n("a-button",{attrs:{icon:"plus"},on:{click:e.handleAdd}}),e._v(" \n            "),n("a-button",{attrs:{icon:"minus"},on:{click:function(t){return e.handleDel(r)}}})],1)],1)})),1)])],1)],1)},o=[],i=(n("0fea"),{name:"SuperQueryModal",data:function(){return{visible:!1,queryParamsModel:[{},{}],confirmLoading:!1}},created:function(){},methods:{show:function(){this.visible=!0},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){this.$emit("handleSuperQuery",this.queryParamsModel)},handleCancel:function(){this.close()},handleAdd:function(){this.queryParamsModel.push({})},handleDel:function(e){this.queryParamsModel.splice(e,1)}}}),a=i,s=n("5d22"),l=Object(s["a"])(a,r,o,!1,null,"7800fec9",null);t["default"]=l.exports},f552:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{padding:"0"}},[n("h4",{style:{marginBottom:"20px"}},[e._v(e._s(e.title))]),n("v-chart",{ref:"chart",attrs:{forceFit:!0,height:e.height,data:e.dataSource,scale:e.scale}},[n("v-tooltip",{attrs:{shared:!1}}),n("v-axis"),n("v-line",{attrs:{position:"x*y",size:e.lineSize,color:e.lineColor}}),n("v-area",{attrs:{position:"x*y",color:e.color}})],1)],1)},o=[],i=n("ca00"),a={name:"AreaChartTy",props:{dataSource:{type:Array,required:!0},title:{type:String,default:""},x:{type:String,default:"x"},y:{type:String,default:"y"},min:{type:Number,default:0},max:{type:Number,default:null},height:{type:Number,default:254},lineSize:{type:Number,default:2},color:{type:String,default:""},lineColor:{type:String,default:""}},computed:{scale:function(){return[{dataKey:"x",title:this.x,alias:this.x},{dataKey:"y",title:this.y,alias:this.y,min:this.min,max:this.max}]}},mounted:function(){Object(i["h"])()}},s=a,l=(n("89f5"),n("5d22")),u=Object(l["a"])(s,r,o,!1,null,"190e60a4",null);t["default"]=u.exports},f563:function(e,t,n){n("da3e")},f568:function(e,t,n){(function(e){"use strict";e(n("fc0f"),n("eb34"),n("ddb7"),n("3564"),n("f112b"),n("01d8"),n("0bc3"),n("e02b"),n("d469"),n("54a1"))})((function(e){var t={script:[["lang",/coffee(script)?/,"coffeescript"],["type",/^(?:text|application)\/(?:x-)?coffee(?:script)?$/,"coffeescript"],["lang",/^babel$/,"javascript"],["type",/^text\/babel$/,"javascript"],["type",/^text\/ecmascript-\d+$/,"javascript"]],style:[["lang",/^stylus$/i,"stylus"],["lang",/^sass$/i,"sass"],["lang",/^less$/i,"text/x-less"],["lang",/^scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?styl(us)?$/i,"stylus"],["type",/^text\/sass/i,"sass"],["type",/^(text\/)?(x-)?scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?less$/i,"text/x-less"]],template:[["lang",/^vue-template$/i,"vue"],["lang",/^pug$/i,"pug"],["lang",/^handlebars$/i,"handlebars"],["type",/^(text\/)?(x-)?pug$/i,"pug"],["type",/^text\/x-handlebars-template$/i,"handlebars"],[null,null,"vue-template"]]};e.defineMode("vue-template",(function(t,n){var r={token:function(e){if(e.match(/^\{\{.*?\}\}/))return"meta mustache";while(e.next()&&!e.match("{{",!1));return null}};return e.overlayMode(e.getMode(t,n.backdrop||"text/html"),r)})),e.defineMode("vue",(function(n){return e.getMode(n,{name:"htmlmixed",tags:t})}),"htmlmixed","xml","javascript","coffeescript","css","sass","stylus","pug","handlebars"),e.defineMIME("script/x-vue","vue"),e.defineMIME("text/x-vue","vue")}))},f5eb:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("a-card",{attrs:{bordered:!1}},[r("div",{staticClass:"table-page-search-wrapper"},[r("a-form",{attrs:{layout:"inline"}},[r("a-row",{attrs:{gutter:48}},[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"规则编号"}},[r("a-input",{attrs:{placeholder:""},model:{value:t.queryParam.id,callback:function(e){t.$set(t.queryParam,"id",e)},expression:"queryParam.id"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"使用状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"},model:{value:t.queryParam.status,callback:function(e){t.$set(t.queryParam,"status",e)},expression:"queryParam.status"}},[r("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),t.advanced?[r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"调用次数"}},[r("a-input-number",{staticStyle:{width:"100%"},model:{value:t.queryParam.callNo,callback:function(e){t.$set(t.queryParam,"callNo",e)},expression:"queryParam.callNo"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"更新日期"}},[r("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入更新日期"},model:{value:t.queryParam.date,callback:function(e){t.$set(t.queryParam,"date",e)},expression:"queryParam.date"}})],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"使用状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"},model:{value:t.queryParam.useStatus,callback:function(e){t.$set(t.queryParam,"useStatus",e)},expression:"queryParam.useStatus"}},[r("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),r("a-col",{attrs:{md:8,sm:24}},[r("a-form-item",{attrs:{label:"使用状态"}},[r("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[r("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),r("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),r("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1)]:t._e(),r("a-col",{attrs:{md:t.advanced?24:8,sm:24}},[r("span",{staticClass:"table-page-search-submitButtons",style:t.advanced&&{float:"right",overflow:"hidden"}||{}},[r("a-button",{attrs:{type:"primary"}},[t._v("查询")]),r("a-button",{staticStyle:{"margin-left":"8px"},on:{click:t.resetSearchForm}},[t._v("重置")]),r("a",{staticStyle:{"margin-left":"8px"},on:{click:t.toggleAdvanced}},[t._v("\n              "+t._s(t.advanced?"收起":"展开")+"\n              "),r("a-icon",{attrs:{type:t.advanced?"up":"down"}})],1)],1)])],2)],1)],1),r("div",{staticClass:"table-operator"},[r("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(){return e.handleModalVisible(!0)}}},[t._v("新建")]),t.selectedRowKeys.length>0?r("a-dropdown",[r("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[r("a-menu-item",{key:"1"},[r("a-icon",{attrs:{type:"delete"}}),t._v("删除")],1),r("a-menu-item",{key:"2"},[r("a-icon",{attrs:{type:"lock"}}),t._v("锁定")],1)],1),r("a-button",{staticStyle:{"margin-left":"8px"}},[t._v("\n        批量操作 "),r("a-icon",{attrs:{type:"down"}})],1)],1):t._e()],1),r("s-table",{ref:"table",attrs:{size:"default",columns:t.columns,data:t.loadData,showAlertInfo:!0},on:{onSelect:t.onChange},scopedSlots:t._u([{key:"action",fn:function(e,n){return r("span",{},[r("a",{on:{click:function(e){return t.handleEdit(n)}}},[t._v("编辑")]),r("a-divider",{attrs:{type:"vertical"}}),r("a-dropdown",[r("a",{staticClass:"ant-dropdown-link"},[t._v("\n          更多 "),r("a-icon",{attrs:{type:"down"}})],1),r("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("详情")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("禁用")])]),r("a-menu-item",[r("a",{attrs:{href:"javascript:;"}},[t._v("删除")])])],1)],1)],1)}}])}),r("a-modal",{attrs:{title:"操作",width:800},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("a-form",{attrs:{autoFormCreate:function(t){e.form=t}}},[r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"规则编号",hasFeedback:"",validateStatus:"success"}},[r("a-input",{attrs:{placeholder:"规则编号",id:"no"},model:{value:t.mdl.no,callback:function(e){t.$set(t.mdl,"no",e)},expression:"mdl.no"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"服务调用次数",hasFeedback:"",validateStatus:"success"}},[r("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1,id:"callNo"},model:{value:t.mdl.callNo,callback:function(e){t.$set(t.mdl,"callNo",e)},expression:"mdl.callNo"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"状态",hasFeedback:"",validateStatus:"warning"}},[r("a-select",{attrs:{defaultValue:"1"},model:{value:t.mdl.status,callback:function(e){t.$set(t.mdl,"status",e)},expression:"mdl.status"}},[r("a-select-option",{attrs:{value:"1"}},[t._v("Option 1")]),r("a-select-option",{attrs:{value:"2"}},[t._v("Option 2")]),r("a-select-option",{attrs:{value:"3"}},[t._v("Option 3")])],1)],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"描述",hasFeedback:"",help:"请填写一段描述"}},[r("a-textarea",{attrs:{rows:5,placeholder:"...",id:"description"},model:{value:t.mdl.description,callback:function(e){t.$set(t.mdl,"description",e)},expression:"mdl.description"}})],1),r("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"更新时间",hasFeedback:"",validateStatus:"error"}},[r("a-date-picker",{staticStyle:{width:"100%"},attrs:{showTime:"",format:"YYYY-MM-DD HH:mm:ss",placeholder:"Select Time"}})],1)],1)],1),r("a-modal",{attrs:{title:"新建规则",destroyOnClose:"",visible:t.visibleCreateModal},on:{ok:t.handleCreateModalOk,cancel:t.handleCreateModalCancel}},[r("a-form",{staticStyle:{"margin-top":"8px"},attrs:{autoFormCreate:function(t){e.createForm=t}}},[r("a-form-item",{attrs:{labelCol:{span:5},wrapperCol:{span:15},label:"描述",fieldDecoratorId:"description",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入至少五个字符的规则描述！",min:5}]}}},[r("a-input",{attrs:{placeholder:"请输入"}})],1)],1)],1)],1)},o=[],i=n("e8c4"),a=n("66d4"),s=n("8288"),l=n("caaf"),u=n.n(l),c=n("f753"),d=n.n(c),f=n("0fea"),p={name:"TableList",components:{AInput:s["a"],ATextarea:a["a"],STable:i["a"]},data:function(){var e=this;return{visibleCreateModal:!1,visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}},form:null,mdl:{},advanced:!0,queryParam:{},columns:[{title:"规则编号",dataIndex:"no"},{title:"描述",dataIndex:"description"},{title:"服务调用次数",dataIndex:"callNo",sorter:!0,needTotal:!0,customRender:function(e){return e+" 次"}},{title:"状态",dataIndex:"status",needTotal:!0},{title:"更新时间",dataIndex:"updatedAt",sorter:!0},{table:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],loadData:function(t){return Object(f["f"])(Object.assign(t,e.queryParam)).then((function(e){return e.result}))},selectedRowKeys:[],selectedRows:[]}},created:function(){Object(f["e"])({t:new Date})},methods:{handleEdit:function(e){this.mdl=Object.assign({},e),this.visible=!0},handleOk:function(){},handleModalVisible:function(e){this.visibleCreateModal=e},handleCreateModalOk:function(){var e=this;this.createForm.validateFields((function(t,n){if(!t){var r=e.createForm.getFieldValue("description");d.a.post("/saveRule",{desc:r}).then((function(t){e.createForm.resetFields(),e.visibleCreateModal=!1,e.loadRuleData()}))}}))},handleCreateModalCancel:function(){this.visibleCreateModal=!1},onChange:function(e){this.selectedRowKeys=e.selectedRowKeys,this.selectedRows=e.selectedRows},toggleAdvanced:function(){this.advanced=!this.advanced},resetSearchForm:function(){this.queryParam={date:u()(new Date)}}},watch:{}},h=p,m=n("5d22"),g=Object(m["a"])(h,r,o,!1,null,null,null);t["default"]=g.exports},f635:function(e,t,n){"use strict";n("d7f9")},f680:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"checkbox"==e.tagType?n("a-checkbox-group",{attrs:{value:e.arrayValue,disabled:e.disabled},on:{change:e.onChange}},e._l(e.dictOptions,(function(t,r){return n("a-checkbox",{key:r,attrs:{value:t.value}},[e._v(e._s(t.text||t.label))])})),1):"select"==e.tagType?n("a-select",{attrs:{value:e.arrayValue,disabled:e.disabled,mode:"multiple",placeholder:e.placeholder},on:{change:e.onChange}},e._l(e.dictOptions,(function(t,r){return n("a-select-option",{key:r,attrs:{value:t.value}},[n("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.text||t.label}},[e._v("\n      "+e._s(t.text||t.label)+"\n    ")])])})),1):e._e()},o=[],i=n("4ec3");function a(e){return c(e)||u(e)||l(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function u(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={name:"JMultiSelectTag",props:{dictCode:String,placeholder:String,disabled:Boolean,value:String,type:String,options:Array},data:function(){return{dictOptions:[],tagType:"",arrayValue:this.value?this.value.split(","):[]}},created:function(){this.type&&"list_multi"!==this.type?this.tagType=this.type:this.tagType="select",this.initDictData()},watch:{options:function(e){this.setCurrentDictOptions(e)},value:function(e){this.arrayValue=e?this.value.split(","):[]}},methods:{initDictData:function(){var e=this;this.options&&this.options.length>0?this.dictOptions=a(this.options):Object(i["f"])(this.dictCode,null).then((function(t){t.success&&(e.dictOptions=t.result)}))},onChange:function(e){this.$emit("change",e.join(","))},setCurrentDictOptions:function(e){this.dictOptions=e},getCurrentDictOptions:function(){return this.dictOptions}},model:{prop:"value",event:"change"}},p=f,h=n("5d22"),m=Object(h["a"])(p,r,o,!1,null,null,null);t["default"]=m.exports},f6b9:function(e,t,n){},f6c5:function(e,t,n){},f8bf:function(e,t,n){},f8e7:function(e,t,n){"use strict";n("ed31")},f937:function(e,t,n){},fa07:function(e,t,n){},fb72:function(e,t,n){"use strict";n("23c3")},fbca:function(e,t,n){(function(e){e(n("fc0f"),n("ddb7"),n("6cc1"))})((function(e){"use strict";e.defineMode("markdown",(function(t,n){var r=e.getMode(t,"text/html"),o="null"==r.name;function i(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var o=e.getMode(t,n);return"null"==o.name?null:o}void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.emoji&&(n.emoji=!1),void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=!0),void 0===n.fencedCodeBlockDefaultMode&&(n.fencedCodeBlockDefaultMode="text/plain"),void 0===n.xml&&(n.xml=!0),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var a={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var s in a)a.hasOwnProperty(s)&&n.tokenTypeOverrides[s]&&(a[s]=n.tokenTypeOverrides[s]);var l=/^([*\-_])(?:\s*\1){2,}\s*$/,u=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,c=/^\[(x| )\](?=\s)/i,d=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,f=/^ {0,3}(?:\={1,}|-{2,})\s*$/,p=/^[^#!\[\]*_\\<>` "'(~:]+/,h=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,m=/^\s*\[[^\]]+?\]:.*$/,g=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,v="    ";function y(e,t,n){return t.f=t.inline=n,n(e,t)}function b(e,t,n){return t.f=t.block=n,n(e,t)}function x(e){return!e||!/\S/.test(e.string)}function w(t){if(t.linkTitle=!1,t.linkHref=!1,t.linkText=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,t.f==C){var n=o;if(!n){var i=e.innerMode(r,t.htmlState);n="xml"==i.mode.name&&null===i.state.tagStart&&!i.state.context&&i.state.tokenize.isInText}n&&(t.f=T,t.block=_,t.htmlState=null)}return t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine={stream:null},null}function _(t,r){var o=t.column()===r.indentation,s=x(r.prevLine.stream),p=r.indentedCode,g=r.prevLine.hr,v=!1!==r.list,b=(r.listStack[r.listStack.length-1]||0)+3;r.indentedCode=!1;var w=r.indentation;if(null===r.indentationDiff&&(r.indentationDiff=r.indentation,v)){r.list=null;while(w<r.listStack[r.listStack.length-1])r.listStack.pop(),r.listStack.length?r.indentation=r.listStack[r.listStack.length-1]:r.list=!1;!1!==r.list&&(r.indentationDiff=w-r.listStack[r.listStack.length-1])}var _=!s&&!g&&!r.prevLine.header&&(!v||!p)&&!r.prevLine.fencedCodeEnd,C=(!1===r.list||g||s)&&r.indentation<=b&&t.match(l),O=null;if(r.indentationDiff>=4&&(p||r.prevLine.fencedCodeEnd||r.prevLine.header||s))return t.skipToEnd(),r.indentedCode=!0,a.code;if(t.eatSpace())return null;if(o&&r.indentation<=b&&(O=t.match(d))&&O[1].length<=6)return r.quote=0,r.header=O[1].length,r.thisLine.header=!0,n.highlightFormatting&&(r.formatting="header"),r.f=r.inline,k(r);if(r.indentation<=b&&t.eat(">"))return r.quote=o?1:r.quote+1,n.highlightFormatting&&(r.formatting="quote"),t.eatSpace(),k(r);if(!C&&!r.setext&&o&&r.indentation<=b&&(O=t.match(u))){var T=O[1]?"ol":"ul";return r.indentation=w+t.current().length,r.list=!0,r.quote=0,r.listStack.push(r.indentation),r.em=!1,r.strong=!1,r.code=!1,r.strikethrough=!1,n.taskLists&&t.match(c,!1)&&(r.taskList=!0),r.f=r.inline,n.highlightFormatting&&(r.formatting=["list","list-"+T]),k(r)}return o&&r.indentation<=b&&(O=t.match(h,!0))?(r.quote=0,r.fencedEndRE=new RegExp(O[1]+"+ *$"),r.localMode=n.fencedCodeBlockHighlighting&&i(O[2]||n.fencedCodeBlockDefaultMode),r.localMode&&(r.localState=e.startState(r.localMode)),r.f=r.block=S,n.highlightFormatting&&(r.formatting="code-block"),r.code=-1,k(r)):r.setext||!(_&&v||r.quote||!1!==r.list||r.code||C||m.test(t.string))&&(O=t.lookAhead(1))&&(O=O.match(f))?(r.setext?(r.header=r.setext,r.setext=0,t.skipToEnd(),n.highlightFormatting&&(r.formatting="header")):(r.header="="==O[0].charAt(0)?1:2,r.setext=r.header),r.thisLine.header=!0,r.f=r.inline,k(r)):C?(t.skipToEnd(),r.hr=!0,r.thisLine.hr=!0,a.hr):"["===t.peek()?y(t,r,A):y(t,r,r.inline)}function C(t,n){var i=r.token(t,n.htmlState);if(!o){var a=e.innerMode(r,n.htmlState);("xml"==a.mode.name&&null===a.state.tagStart&&!a.state.context&&a.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=T,n.block=_,n.htmlState=null)}return i}function S(e,t){var r,o=t.listStack[t.listStack.length-1]||0,i=t.indentation<o,s=o+3;return t.fencedEndRE&&t.indentation<=s&&(i||e.match(t.fencedEndRE))?(n.highlightFormatting&&(t.formatting="code-block"),i||(r=k(t)),t.localMode=t.localState=null,t.block=_,t.f=T,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,i?b(e,t,t.block):r):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),a.code)}function k(e){var t=[];if(e.formatting){t.push(a.formatting),"string"===typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(a.formatting+"-"+e.formatting[r]),"header"===e.formatting[r]&&t.push(a.formatting+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(a.formatting+"-"+e.formatting[r]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(a.linkHref,"url"):(e.strong&&t.push(a.strong),e.em&&t.push(a.em),e.strikethrough&&t.push(a.strikethrough),e.emoji&&t.push(a.emoji),e.linkText&&t.push(a.linkText),e.code&&t.push(a.code),e.image&&t.push(a.image),e.imageAltText&&t.push(a.imageAltText,"link"),e.imageMarker&&t.push(a.imageMarker)),e.header&&t.push(a.header,a.header+"-"+e.header),e.quote&&(t.push(a.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(a.quote+"-"+e.quote):t.push(a.quote+"-"+n.maxBlockquoteDepth)),!1!==e.list){var o=(e.listStack.length-1)%3;o?1===o?t.push(a.list2):t.push(a.list3):t.push(a.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function O(e,t){if(e.match(p,!0))return k(t)}function T(t,o){var i=o.text(t,o);if("undefined"!==typeof i)return i;if(o.list)return o.list=null,k(o);if(o.taskList){var s=" "===t.match(c,!0)[1];return s?o.taskOpen=!0:o.taskClosed=!0,n.highlightFormatting&&(o.formatting="task"),o.taskList=!1,k(o)}if(o.taskOpen=!1,o.taskClosed=!1,o.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(o.formatting="header"),k(o);var l=t.next();if(o.linkTitle){o.linkTitle=!1;var u=l;"("===l&&(u=")"),u=(u+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var d="^\\s*(?:[^"+u+"\\\\]+|\\\\\\\\|\\\\.)"+u;if(t.match(new RegExp(d),!0))return a.linkHref}if("`"===l){var f=o.formatting;n.highlightFormatting&&(o.formatting="code"),t.eatWhile("`");var p=t.current().length;if(0!=o.code||o.quote&&1!=p){if(p==o.code){var h=k(o);return o.code=0,h}return o.formatting=f,k(o)}return o.code=p,k(o)}if(o.code)return k(o);if("\\"===l&&(t.next(),n.highlightFormatting)){var m=k(o),v=a.formatting+"-escape";return m?m+" "+v:v}if("!"===l&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return o.imageMarker=!0,o.image=!0,n.highlightFormatting&&(o.formatting="image"),k(o);if("["===l&&o.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return o.imageMarker=!1,o.imageAltText=!0,n.highlightFormatting&&(o.formatting="image"),k(o);if("]"===l&&o.imageAltText){n.highlightFormatting&&(o.formatting="image");m=k(o);return o.imageAltText=!1,o.image=!1,o.inline=o.f=D,m}if("["===l&&!o.image)return o.linkText&&t.match(/^.*?\]/)||(o.linkText=!0,n.highlightFormatting&&(o.formatting="link")),k(o);if("]"===l&&o.linkText){n.highlightFormatting&&(o.formatting="link");m=k(o);return o.linkText=!1,o.inline=o.f=t.match(/\(.*?\)| ?\[.*?\]/,!1)?D:T,m}if("<"===l&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){o.f=o.inline=M,n.highlightFormatting&&(o.formatting="link");m=k(o);return m?m+=" ":m="",m+a.linkInline}if("<"===l&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){o.f=o.inline=M,n.highlightFormatting&&(o.formatting="link");m=k(o);return m?m+=" ":m="",m+a.linkEmail}if(n.xml&&"<"===l&&t.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var y=t.string.indexOf(">",t.pos);if(-1!=y){var x=t.string.substring(t.start,y);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(x)&&(o.md_inside=!0)}return t.backUp(1),o.htmlState=e.startState(r),b(t,o,C)}if(n.xml&&"<"===l&&t.match(/^\/\w*?>/))return o.md_inside=!1,"tag";if("*"===l||"_"===l){var w=1,_=1==t.pos?" ":t.string.charAt(t.pos-2);while(w<3&&t.eat(l))w++;var S=t.peek()||" ",O=!/\s/.test(S)&&(!g.test(S)||/\s/.test(_)||g.test(_)),I=!/\s/.test(_)&&(!g.test(_)||/\s/.test(S)||g.test(S)),E=null,A=null;if(w%2&&(o.em||!O||"*"!==l&&I&&!g.test(_)?o.em!=l||!I||"*"!==l&&O&&!g.test(S)||(E=!1):E=!0),w>1&&(o.strong||!O||"*"!==l&&I&&!g.test(_)?o.strong!=l||!I||"*"!==l&&O&&!g.test(S)||(A=!1):A=!0),null!=A||null!=E){n.highlightFormatting&&(o.formatting=null==E?"strong":null==A?"em":"strong em"),!0===E&&(o.em=l),!0===A&&(o.strong=l);h=k(o);return!1===E&&(o.em=!1),!1===A&&(o.strong=!1),h}}else if(" "===l&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return k(o);t.backUp(1)}if(n.strikethrough)if("~"===l&&t.eatWhile(l)){if(o.strikethrough){n.highlightFormatting&&(o.formatting="strikethrough");h=k(o);return o.strikethrough=!1,h}if(t.match(/^[^\s]/,!1))return o.strikethrough=!0,n.highlightFormatting&&(o.formatting="strikethrough"),k(o)}else if(" "===l&&t.match("~~",!0)){if(" "===t.peek())return k(o);t.backUp(2)}if(n.emoji&&":"===l&&t.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){o.emoji=!0,n.highlightFormatting&&(o.formatting="emoji");var L=k(o);return o.emoji=!1,L}return" "===l&&(t.match(/^ +$/,!1)?o.trailingSpace++:o.trailingSpace&&(o.trailingSpaceNewLine=!0)),k(o)}function M(e,t){var r=e.next();if(">"===r){t.f=t.inline=T,n.highlightFormatting&&(t.formatting="link");var o=k(t);return o?o+=" ":o="",o+a.linkInline}return e.match(/^[^>]+/,!0),a.linkInline}function D(e,t){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?(t.f=t.inline=E("("===r?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,k(t)):"error"}var I={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function E(e){return function(t,r){var o=t.next();if(o===e){r.f=r.inline=T,n.highlightFormatting&&(r.formatting="link-string");var i=k(r);return r.linkHref=!1,i}return t.match(I[e]),r.linkHref=!0,k(r)}}function A(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=L,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,k(t)):y(e,t,T)}function L(e,t){if(e.match("]:",!0)){t.f=t.inline=j,n.highlightFormatting&&(t.formatting="link");var r=k(t);return t.linkText=!1,r}return e.match(/^([^\]\\]|\\.)+/,!0),a.linkText}function j(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=T,a.linkHref+" url")}var N={startState:function(){return{f:_,prevLine:{stream:null},thisLine:{stream:null},block:_,htmlState:null,indentation:0,inline:T,text:O,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(r,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,linkHref:t.linkHref,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return w(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=C)){var n=e.match(/^\s*/,!0)[0].replace(/\t/g,v).length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==C?{state:e.htmlState,mode:r}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:N}},indent:function(t,n,o){return t.block==C&&r.indent?r.indent(t.htmlState,n,o):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,n,o):e.Pass},blankLine:w,getType:k,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return N}),"xml"),e.defineMIME("text/markdown","markdown"),e.defineMIME("text/x-markdown","markdown")}))},fc0f:function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),i=/Edge\/(\d+)/.exec(e),a=r||o||i,s=a&&(r?document.documentMode||6:+(i||o)[1]),l=!i&&/WebKit\//.test(e),u=l&&/Qt\/\d+\.\d+/.test(e),c=!i&&/Chrome\//.test(e),d=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),m=f&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=m||/Mac/.test(t),b=/\bCrOS\b/.test(e),x=/win/i.test(t),w=d&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(d=!1,l=!0);var _=y&&(u||d&&(null==w||w<12.11)),C=n||a&&s>=9;function S(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var k,O=function(e,t){var n=e.className,r=S(t).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}};function T(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function M(e,t){return T(e).appendChild(t)}function D(e,t,n,r){var o=document.createElement(e);if(n&&(o.className=n),r&&(o.style.cssText=r),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var i=0;i<t.length;++i)o.appendChild(t[i]);return o}function I(e,t,n,r){var o=D(e,t,n,r);return o.setAttribute("role","presentation"),o}function E(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function A(){var e;try{e=document.activeElement}catch(t){e=document.body||null}while(e&&e.shadowRoot&&e.shadowRoot.activeElement)e=e.shadowRoot.activeElement;return e}function L(e,t){var n=e.className;S(t).test(n)||(e.className+=(n?" ":"")+t)}function j(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!S(n[r]).test(t)&&(t+=" "+n[r]);return t}k=document.createRange?function(e,t,n,r){var o=document.createRange();return o.setEnd(r||e,n),o.setStart(e,t),o}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(o){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var N=function(e){e.select()};function P(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function R(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function B(e,t,n,r,o){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var i=r||0,a=o||0;;){var s=e.indexOf("\t",i);if(s<0||s>=t)return a+(t-i);a+=s-i,a+=n-a%n,i=s+1}}m?N=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(N=function(e){try{e.select()}catch(t){}});var F=function(){this.id=null,this.f=null,this.time=0,this.handler=P(this.onTimeout,this)};function z(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}F.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},F.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var V=50,H={toString:function(){return"CodeMirror.Pass"}},U={scroll:!1},$={origin:"*mouse"},q={origin:"+move"};function W(e,t,n){for(var r=0,o=0;;){var i=e.indexOf("\t",r);-1==i&&(i=e.length);var a=i-r;if(i==e.length||o+a>=t)return r+Math.min(a,t-o);if(o+=i-r,o+=n-o%n,r=i+1,o>=t)return r}}var G=[""];function Y(e){while(G.length<=e)G.push(K(G)+" ");return G[e]}function K(e){return e[e.length-1]}function X(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function J(e,t,n){var r=0,o=n(t);while(r<e.length&&n(e[r])<=o)r++;e.splice(r,0,t)}function Z(){}function Q(e,t){var n;return Object.create?n=Object.create(e):(Z.prototype=e,n=new Z),t&&R(t,n),n}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){return t?!!(t.source.indexOf("\\w")>-1&&te(e))||t.test(e):te(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var oe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ie(e){return e.charCodeAt(0)>=768&&oe.test(e)}function ae(e,t,n){while((n<0?t>0:t<e.length)&&ie(e.charAt(t)))t+=n;return t}function se(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var o=(t+n)/2,i=r<0?Math.ceil(o):Math.floor(o);if(i==t)return e(i)?t:n;e(i)?n=i:t=i+r}}function le(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var o=!1,i=0;i<e.length;++i){var a=e[i];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",i),o=!0)}o||r(t,n,"ltr")}var ue=null;function ce(e,t,n){var r;ue=null;for(var o=0;o<e.length;++o){var i=e[o];if(i.from<t&&i.to>t)return o;i.to==t&&(i.from!=i.to&&"before"==n?r=o:ue=o),i.from==t&&(i.from!=i.to&&"before"!=n?r=o:ue=o)}return null!=r?r:ue}var de=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,i=/[LRr]/,a=/[Lb1n]/,s=/[1n]/;function l(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var u="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var c=e.length,d=[],f=0;f<c;++f)d.push(n(e.charCodeAt(f)));for(var p=0,h=u;p<c;++p){var m=d[p];"m"==m?d[p]=h:h=m}for(var g=0,v=u;g<c;++g){var y=d[g];"1"==y&&"r"==v?d[g]="n":i.test(y)&&(v=y,"r"==y&&(d[g]="R"))}for(var b=1,x=d[0];b<c-1;++b){var w=d[b];"+"==w&&"1"==x&&"1"==d[b+1]?d[b]="1":","!=w||x!=d[b+1]||"1"!=x&&"n"!=x||(d[b]=x),x=w}for(var _=0;_<c;++_){var C=d[_];if(","==C)d[_]="N";else if("%"==C){var S=void 0;for(S=_+1;S<c&&"%"==d[S];++S);for(var k=_&&"!"==d[_-1]||S<c&&"1"==d[S]?"1":"N",O=_;O<S;++O)d[O]=k;_=S-1}}for(var T=0,M=u;T<c;++T){var D=d[T];"L"==M&&"1"==D?d[T]="L":i.test(D)&&(M=D)}for(var I=0;I<c;++I)if(o.test(d[I])){var E=void 0;for(E=I+1;E<c&&o.test(d[E]);++E);for(var A="L"==(I?d[I-1]:u),L="L"==(E<c?d[E]:u),j=A==L?A?"L":"R":u,N=I;N<E;++N)d[N]=j;I=E-1}for(var P,R=[],B=0;B<c;)if(a.test(d[B])){var F=B;for(++B;B<c&&a.test(d[B]);++B);R.push(new l(0,F,B))}else{var z=B,V=R.length,H="rtl"==t?1:0;for(++B;B<c&&"L"!=d[B];++B);for(var U=z;U<B;)if(s.test(d[U])){z<U&&(R.splice(V,0,new l(1,z,U)),V+=H);var $=U;for(++U;U<B&&s.test(d[U]);++U);R.splice(V,0,new l(2,$,U)),V+=H,z=U}else++U;z<B&&R.splice(V,0,new l(1,z,B))}return"ltr"==t&&(1==R[0].level&&(P=e.match(/^\s+/))&&(R[0].from=P[0].length,R.unshift(new l(0,0,P[0].length))),1==K(R).level&&(P=e.match(/\s+$/))&&(K(R).to-=P[0].length,R.push(new l(0,c-P[0].length,c)))),"rtl"==t?R.reverse():R}}();function fe(e,t){var n=e.order;return null==n&&(n=e.order=de(e.text,t)),n}var pe=[],he=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||pe).concat(n)}};function me(e,t){return e._handlers&&e._handlers[t]||pe}function ge(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,o=r&&r[t];if(o){var i=z(o,n);i>-1&&(r[t]=o.slice(0,i).concat(o.slice(i+1)))}}}function ve(e,t){var n=me(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),o=0;o<n.length;++o)n[o].apply(null,r)}function ye(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ve(e,n||t.type,e,t),Se(t)||t.codemirrorIgnore}function be(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==z(n,t[r])&&n.push(t[r])}function xe(e,t){return me(e,t).length>0}function we(e){e.prototype.on=function(e,t){he(this,e,t)},e.prototype.off=function(e,t){ge(this,e,t)}}function _e(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ce(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Se(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ke(e){_e(e),Ce(e)}function Oe(e){return e.target||e.srcElement}function Te(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Me,De,Ie=function(){if(a&&s<9)return!1;var e=D("div");return"draggable"in e||"dragDrop"in e}();function Ee(e){if(null==Me){var t=D("span","​");M(e,D("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Me=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var n=Me?D("span","​"):D("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Ae(e){if(null!=De)return De;var t=M(e,document.createTextNode("AخA")),n=k(t,0,1).getBoundingClientRect(),r=k(t,1,2).getBoundingClientRect();return T(e),!(!n||n.left==n.right)&&(De=r.right-n.right<3)}var Le=3!="\n\nb".split(/\n/).length?function(e){var t=0,n=[],r=e.length;while(t<=r){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var i=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),a=i.indexOf("\r");-1!=a?(n.push(i.slice(0,a)),t+=a+1):(n.push(i),t=o+1)}return n}:function(e){return e.split(/\r\n?|\n/)},je=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ne=function(){var e=D("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Pe=null;function Re(e){if(null!=Pe)return Pe;var t=M(e,D("span","x")),n=t.getBoundingClientRect(),r=k(t,0,1).getBoundingClientRect();return Pe=Math.abs(n.left-r.left)>1}var Be={},Fe={};function ze(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Be[e]=t}function Ve(e,t){Fe[e]=t}function He(e){if("string"==typeof e&&Fe.hasOwnProperty(e))e=Fe[e];else if(e&&"string"==typeof e.name&&Fe.hasOwnProperty(e.name)){var t=Fe[e.name];"string"==typeof t&&(t={name:t}),e=Q(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return He("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return He("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ue(e,t){t=He(t);var n=Be[t.name];if(!n)return Ue(e,"text/plain");var r=n(e,t);if($e.hasOwnProperty(t.name)){var o=$e[t.name];for(var i in o)o.hasOwnProperty(i)&&(r.hasOwnProperty(i)&&(r["_"+i]=r[i]),r[i]=o[i])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var $e={};function qe(e,t){var n=$e.hasOwnProperty(e)?$e[e]:$e[e]={};R(t,n)}function We(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var o=t[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n}function Ge(e,t){var n;while(e.innerMode){if(n=e.innerMode(t),!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}}function Ye(e,t,n){return!e.startState||e.startState(t,n)}var Ke=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Xe(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");var n=e;while(!n.lines)for(var r=0;;++r){var o=n.children[r],i=o.chunkSize();if(t<i){n=o;break}t-=i}return n.lines[t]}function Je(e,t,n){var r=[],o=t.line;return e.iter(t.line,n.line+1,(function(e){var i=e.text;o==n.line&&(i=i.slice(0,n.ch)),o==t.line&&(i=i.slice(t.ch)),r.push(i),++o})),r}function Ze(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function Qe(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function et(e){if(null==e.parent)return null;for(var t=e.parent,n=z(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var o=0;;++o){if(r.children[o]==t)break;n+=r.children[o].chunkSize()}return n+t.first}function tt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var o=e.children[r],i=o.height;if(t<i){e=o;continue e}t-=i,n+=o.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a],l=s.height;if(t<l)break;t-=l}return n+a}function nt(e,t){return t>=e.first&&t<e.first+e.size}function rt(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ot(e,t,n){if(void 0===n&&(n=null),!(this instanceof ot))return new ot(e,t,n);this.line=e,this.ch=t,this.sticky=n}function it(e,t){return e.line-t.line||e.ch-t.ch}function at(e,t){return e.sticky==t.sticky&&0==it(e,t)}function st(e){return ot(e.line,e.ch)}function lt(e,t){return it(e,t)<0?t:e}function ut(e,t){return it(e,t)<0?e:t}function ct(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function dt(e,t){if(t.line<e.first)return ot(e.first,0);var n=e.first+e.size-1;return t.line>n?ot(n,Xe(e,n).text.length):ft(t,Xe(e,t.line).text.length)}function ft(e,t){var n=e.ch;return null==n||n>t?ot(e.line,t):n<0?ot(e.line,0):e}function pt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=dt(e,t[r]);return n}Ke.prototype.eol=function(){return this.pos>=this.string.length},Ke.prototype.sol=function(){return this.pos==this.lineStart},Ke.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ke.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ke.prototype.eat=function(e){var t,n=this.string.charAt(this.pos);if(t="string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)),t)return++this.pos,n},Ke.prototype.eatWhile=function(e){var t=this.pos;while(this.eat(e));return this.pos>t},Ke.prototype.eatSpace=function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},Ke.prototype.skipToEnd=function(){this.pos=this.string.length},Ke.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ke.prototype.backUp=function(e){this.pos-=e},Ke.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=B(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.indentation=function(){return B(this.string,null,this.tabSize)-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var o=function(e){return n?e.toLowerCase():e},i=this.string.substr(this.pos,e.length);if(o(i)==o(e))return!1!==t&&(this.pos+=e.length),!0},Ke.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ke.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ke.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ke.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ht=function(e,t){this.state=e,this.lookAhead=t},mt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function gt(e,t,n,r){var o=[e.state.modeGen],i={};kt(e,t.text,e.doc.mode,n,(function(e,t){return o.push(e,t)}),i,r);for(var a=n.state,s=function(r){n.baseTokens=o;var s=e.state.overlays[r],l=1,u=0;n.state=!0,kt(e,t.text,s.mode,n,(function(e,t){var n=l;while(u<e){var r=o[l];r>e&&o.splice(l,1,e,o[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(s.opaque)o.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var i=o[n+1];o[n+1]=(i?i+" ":"")+"overlay "+t}}),i),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:o,classes:i.bgClass||i.textClass?i:null}}function vt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=yt(e,et(t)),o=t.text.length>e.options.maxHighlightLength&&We(e.doc.mode,r.state),i=gt(e,t,r);o&&(r.state=o),t.stateAfter=r.save(!o),t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function yt(e,t,n){var r=e.doc,o=e.display;if(!r.mode.startState)return new mt(r,!0,t);var i=Ot(e,t,n),a=i>r.first&&Xe(r,i-1).stateAfter,s=a?mt.fromSaved(r,a,i):new mt(r,Ye(r.mode),i);return r.iter(i,t,(function(n){bt(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=o.viewFrom&&r<o.viewTo?s.save():null,s.nextLine()})),n&&(r.modeFrontier=s.line),s}function bt(e,t,n,r){var o=e.doc.mode,i=new Ke(t,e.options.tabSize,n);i.start=i.pos=r||0,""==t&&xt(o,n.state);while(!i.eol())wt(o,i,n.state),i.start=i.pos}function xt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ge(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function wt(e,t,n,r){for(var o=0;o<10;o++){r&&(r[0]=Ge(e,n).mode);var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}mt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},mt.prototype.baseToken=function(e){if(!this.baseTokens)return null;while(this.baseTokens[this.baseTokenPos]<=e)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},mt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},mt.fromSaved=function(e,t,n){return t instanceof ht?new mt(e,We(e.mode,t.state),n,t.lookAhead):new mt(e,We(e.mode,t),n)},mt.prototype.save=function(e){var t=!1!==e?We(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ht(t,this.maxLookAhead):t};var _t=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Ct(e,t,n,r){var o,i=e.doc,a=i.mode;t=dt(i,t);var s,l=Xe(i,t.line),u=yt(e,t.line,n),c=new Ke(l.text,e.options.tabSize,u);r&&(s=[]);while((r||c.pos<t.ch)&&!c.eol())c.start=c.pos,o=wt(a,c,u.state),r&&s.push(new _t(c,o,We(i.mode,u.state)));return r?s:new _t(c,o,u.state)}function St(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function kt(e,t,n,r,o,i,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,d=new Ke(t,e.options.tabSize,r),f=e.options.addModeClass&&[null];""==t&&St(xt(n,r.state),i);while(!d.eol()){if(d.pos>e.options.maxHighlightLength?(s=!1,a&&bt(e,t,r,d.pos),d.pos=t.length,l=null):l=St(wt(n,d,r.state,f),i),f){var p=f[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||c!=l){while(u<d.start)u=Math.min(d.start,u+5e3),o(u,c);c=l}d.start=d.pos}while(u<d.pos){var h=Math.min(d.pos,u+5e3);o(h,c),u=h}}function Ot(e,t,n){for(var r,o,i=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=i.first)return i.first;var l=Xe(i,s-1),u=l.stateAfter;if(u&&(!n||s+(u instanceof ht?u.lookAhead:0)<=i.modeFrontier))return s;var c=B(l.text,null,e.options.tabSize);(null==o||r>c)&&(o=s-1,r=c)}return o}function Tt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var o=Xe(e,r).stateAfter;if(o&&(!(o instanceof ht)||r+o.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Mt=!1,Dt=!1;function It(){Mt=!0}function Et(){Dt=!0}function At(e,t,n){this.marker=e,this.from=t,this.to=n}function Lt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function jt(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Nt(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Pt(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker,s=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);if(s||i.from==t&&"bookmark"==a.type&&(!n||!i.marker.insertLeft)){var l=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);(r||(r=[])).push(new At(a,i.from,l?null:i.to))}}return r}function Rt(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var i=e[o],a=i.marker,s=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);if(s||i.from==t&&"bookmark"==a.type&&(!n||i.marker.insertLeft)){var l=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);(r||(r=[])).push(new At(a,l?null:i.from-t,null==i.to?null:i.to-t))}}return r}function Bt(e,t){if(t.full)return null;var n=nt(e,t.from.line)&&Xe(e,t.from.line).markedSpans,r=nt(e,t.to.line)&&Xe(e,t.to.line).markedSpans;if(!n&&!r)return null;var o=t.from.ch,i=t.to.ch,a=0==it(t.from,t.to),s=Pt(n,o,a),l=Rt(r,i,a),u=1==t.text.length,c=K(t.text).length+(u?o:0);if(s)for(var d=0;d<s.length;++d){var f=s[d];if(null==f.to){var p=Lt(l,f.marker);p?u&&(f.to=null==p.to?null:p.to+c):f.to=o}}if(l)for(var h=0;h<l.length;++h){var m=l[h];if(null!=m.to&&(m.to+=c),null==m.from){var g=Lt(s,m.marker);g||(m.from=c,u&&(s||(s=[])).push(m))}else m.from+=c,u&&(s||(s=[])).push(m)}s&&(s=Ft(s)),l&&l!=s&&(l=Ft(l));var v=[s];if(!u){var y,b=t.text.length-2;if(b>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(y||(y=[])).push(new At(s[x].marker,null,null));for(var w=0;w<b;++w)v.push(y);v.push(l)}return v}function Ft(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function zt(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=z(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var o=[{from:t,to:n}],i=0;i<r.length;++i)for(var a=r[i],s=a.find(0),l=0;l<o.length;++l){var u=o[l];if(!(it(u.to,s.from)<0||it(u.from,s.to)>0)){var c=[l,1],d=it(u.from,s.from),f=it(u.to,s.to);(d<0||!a.inclusiveLeft&&!d)&&c.push({from:u.from,to:s.from}),(f>0||!a.inclusiveRight&&!f)&&c.push({from:s.to,to:u.to}),o.splice.apply(o,c),l+=c.length-3}}return o}function Vt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ht(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Ut(e){return e.inclusiveLeft?-1:0}function $t(e){return e.inclusiveRight?1:0}function qt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),o=t.find(),i=it(r.from,o.from)||Ut(e)-Ut(t);if(i)return-i;var a=it(r.to,o.to)||$t(e)-$t(t);return a||t.id-e.id}function Wt(e,t){var n,r=Dt&&e.markedSpans;if(r)for(var o=void 0,i=0;i<r.length;++i)o=r[i],o.marker.collapsed&&null==(t?o.from:o.to)&&(!n||qt(n,o.marker)<0)&&(n=o.marker);return n}function Gt(e){return Wt(e,!0)}function Yt(e){return Wt(e,!1)}function Kt(e,t){var n,r=Dt&&e.markedSpans;if(r)for(var o=0;o<r.length;++o){var i=r[o];i.marker.collapsed&&(null==i.from||i.from<t)&&(null==i.to||i.to>t)&&(!n||qt(n,i.marker)<0)&&(n=i.marker)}return n}function Xt(e,t,n,r,o){var i=Xe(e,t),a=Dt&&i.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=it(u.from,n)||Ut(l.marker)-Ut(o),d=it(u.to,r)||$t(l.marker)-$t(o);if(!(c>=0&&d<=0||c<=0&&d>=0)&&(c<=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?it(u.to,n)>=0:it(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?it(u.from,r)<=0:it(u.from,r)<0)))return!0}}}function Jt(e){var t;while(t=Gt(e))e=t.find(-1,!0).line;return e}function Zt(e){var t;while(t=Yt(e))e=t.find(1,!0).line;return e}function Qt(e){var t,n;while(t=Yt(e))e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function en(e,t){var n=Xe(e,t),r=Jt(n);return n==r?t:et(r)}function tn(e,t){if(t>e.lastLine())return t;var n,r=Xe(e,t);if(!nn(e,r))return t;while(n=Yt(r))r=n.find(1,!0).line;return et(r)+1}function nn(e,t){var n=Dt&&t.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)if(r=n[o],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&rn(e,t,r))return!0}}function rn(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return rn(e,r.line,Lt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var o=void 0,i=0;i<t.markedSpans.length;++i)if(o=t.markedSpans[i],o.marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&rn(e,t,o))return!0}function on(e){e=Jt(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var o=n.lines[r];if(o==e)break;t+=o.height}for(var i=n.parent;i;n=i,i=n.parent)for(var a=0;a<i.children.length;++a){var s=i.children[a];if(s==n)break;t+=s.height}return t}function an(e){if(0==e.height)return 0;var t,n=e.text.length,r=e;while(t=Gt(r)){var o=t.find(0,!0);r=o.from.line,n+=o.from.ch-o.to.ch}r=e;while(t=Yt(r)){var i=t.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function sn(e){var t=e.display,n=e.doc;t.maxLine=Xe(n,n.first),t.maxLineLength=an(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=an(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var ln=function(e,t,n){this.text=e,Ht(this,t),this.height=n?n(this):1};function un(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Vt(e),Ht(e,n);var o=r?r(e):1;o!=e.height&&Qe(e,o)}function cn(e){e.parent=null,Vt(e)}ln.prototype.lineNo=function(){return et(this)},we(ln);var dn={},fn={};function pn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?fn:dn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function hn(e,t){var n=I("span",null,null,l?"padding-right: .1px":null),r={pre:I("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var i=o?t.rest[o-1]:t.line,a=void 0;r.pos=0,r.addToken=gn,Ae(e.display.measure)&&(a=fe(i,e.doc.direction))&&(r.addToken=yn(r.addToken,a)),r.map=[];var s=t!=e.display.externalMeasured&&et(i);xn(i,r,vt(e,i,s)),i.styleClasses&&(i.styleClasses.bgClass&&(r.bgClass=j(i.styleClasses.bgClass,r.bgClass||"")),i.styleClasses.textClass&&(r.textClass=j(i.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ee(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var u=r.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return ve(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=j(r.pre.className,r.textClass||"")),r}function mn(e){var t=D("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function gn(e,t,n,r,o,i,l){if(t){var u,c=e.splitSpaces?vn(t,e.trailingSpace):t,d=e.cm.state.specialChars,f=!1;if(d.test(t)){u=document.createDocumentFragment();var p=0;while(1){d.lastIndex=p;var h=d.exec(t),m=h?h.index-p:t.length-p;if(m){var g=document.createTextNode(c.slice(p,p+m));a&&s<9?u.appendChild(D("span",[g])):u.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!h)break;p+=m+1;var v=void 0;if("\t"==h[0]){var y=e.cm.options.tabSize,b=y-e.col%y;v=u.appendChild(D("span",Y(b),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==h[0]||"\n"==h[0]?(v=u.appendChild(D("span","\r"==h[0]?"␍":"␤","cm-invalidchar")),v.setAttribute("cm-text",h[0]),e.col+=1):(v=e.cm.options.specialCharPlaceholder(h[0]),v.setAttribute("cm-text",h[0]),a&&s<9?u.appendChild(D("span",[v])):u.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,u=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,u),a&&s<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||r||o||f||i||l){var x=n||"";r&&(x+=r),o&&(x+=o);var w=D("span",[u],x,i);if(l)for(var _ in l)l.hasOwnProperty(_)&&"style"!=_&&"class"!=_&&w.setAttribute(_,l[_]);return e.content.appendChild(w)}e.content.appendChild(u)}}function vn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",o=0;o<e.length;o++){var i=e.charAt(o);" "!=i||!n||o!=e.length-1&&32!=e.charCodeAt(o+1)||(i=" "),r+=i,n=" "==i}return r}function yn(e,t){return function(n,r,o,i,a,s,l){o=o?o+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var d=void 0,f=0;f<t.length;f++)if(d=t[f],d.to>u&&d.from<=u)break;if(d.to>=c)return e(n,r,o,i,a,s,l);e(n,r.slice(0,d.to-u),o,i,null,s,l),i=null,r=r.slice(d.to-u),u=d.to}}}function bn(e,t,n,r){var o=!r&&n.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!r&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",n.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function xn(e,t,n){var r=e.markedSpans,o=e.text,i=0;if(r)for(var a,s,l,u,c,d,f,p=o.length,h=0,m=1,g="",v=0;;){if(v==h){l=u=c=s="",f=null,d=null,v=1/0;for(var y=[],b=void 0,x=0;x<r.length;++x){var w=r[x],_=w.marker;if("bookmark"==_.type&&w.from==h&&_.widgetNode)y.push(_);else if(w.from<=h&&(null==w.to||w.to>h||_.collapsed&&w.to==h&&w.from==h)){if(null!=w.to&&w.to!=h&&v>w.to&&(v=w.to,u=""),_.className&&(l+=" "+_.className),_.css&&(s=(s?s+";":"")+_.css),_.startStyle&&w.from==h&&(c+=" "+_.startStyle),_.endStyle&&w.to==v&&(b||(b=[])).push(_.endStyle,w.to),_.title&&((f||(f={})).title=_.title),_.attributes)for(var C in _.attributes)(f||(f={}))[C]=_.attributes[C];_.collapsed&&(!d||qt(d.marker,_)<0)&&(d=w)}else w.from>h&&v>w.from&&(v=w.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==v&&(u+=" "+b[S]);if(!d||d.from==h)for(var k=0;k<y.length;++k)bn(t,0,y[k]);if(d&&(d.from||0)==h){if(bn(t,(null==d.to?p+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=p)break;var O=Math.min(p,v);while(1){if(g){var T=h+g.length;if(!d){var M=T>O?g.slice(0,O-h):g;t.addToken(t,M,a?a+l:l,c,h+M.length==v?u:"",s,f)}if(T>=O){g=g.slice(O-h),h=O;break}h=T,c=""}g=o.slice(i,i=n[m++]),a=pn(n[m++],t.cm.options)}}else for(var D=1;D<n.length;D+=2)t.addToken(t,o.slice(i,i=n[D]),pn(n[D+1],t.cm.options))}function wn(e,t,n){this.line=t,this.rest=Qt(t),this.size=this.rest?et(K(this.rest))-n+1:1,this.node=this.text=null,this.hidden=nn(e,t)}function _n(e,t,n){for(var r,o=[],i=t;i<n;i=r){var a=new wn(e.doc,Xe(e.doc,i),i);r=i+a.size,o.push(a)}return o}var Cn=null;function Sn(e){Cn?Cn.ops.push(e):e.ownsGroup=Cn={ops:[e],delayedCallbacks:[]}}function kn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var o=e.ops[r];if(o.cursorActivityHandlers)while(o.cursorActivityCalled<o.cursorActivityHandlers.length)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(n<t.length)}function On(e,t){var n=e.ownsGroup;if(n)try{kn(n)}finally{Cn=null,t(n)}}var Tn=null;function Mn(e,t){var n=me(e,t);if(n.length){var r,o=Array.prototype.slice.call(arguments,2);Cn?r=Cn.delayedCallbacks:Tn?r=Tn:(r=Tn=[],setTimeout(Dn,0));for(var i=function(e){r.push((function(){return n[e].apply(null,o)}))},a=0;a<n.length;++a)i(a)}}function Dn(){var e=Tn;Tn=null;for(var t=0;t<e.length;++t)e[t]()}function In(e,t,n,r){for(var o=0;o<t.changes.length;o++){var i=t.changes[o];"text"==i?jn(e,t):"gutter"==i?Pn(e,t,n,r):"class"==i?Nn(e,t):"widget"==i&&Rn(e,t,r)}t.changes=null}function En(e){return e.node==e.text&&(e.node=D("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function An(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=En(t);t.background=r.insertBefore(D("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function Ln(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):hn(e,t)}function jn(e,t){var n=t.text.className,r=Ln(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Nn(e,t)):n&&(t.text.className=n)}function Nn(e,t){An(e,t),t.line.wrapClass?En(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Pn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=En(t);t.gutterBackground=D("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var a=En(t),s=t.gutter=D("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(D("div",rt(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var l=0;l<e.display.gutterSpecs.length;++l){var u=e.display.gutterSpecs[l].className,c=i.hasOwnProperty(u)&&i[u];c&&s.appendChild(D("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function Rn(e,t,n){t.alignable&&(t.alignable=null);for(var r=S("CodeMirror-linewidget"),o=t.node.firstChild,i=void 0;o;o=i)i=o.nextSibling,r.test(o.className)&&t.node.removeChild(o);Fn(e,t,n)}function Bn(e,t,n,r){var o=Ln(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),Nn(e,t),Pn(e,t,n,r),Fn(e,t,r),t.node}function Fn(e,t,n){if(zn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)zn(e,t.rest[r],t,n,!1)}function zn(e,t,n,r,o){if(t.widgets)for(var i=En(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],u=D("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),Vn(l,u,n,r),e.display.input.setUneditable(u),o&&l.above?i.insertBefore(u,n.gutter||n.text):i.appendChild(u),Mn(l,"redraw")}}function Vn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var o=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(o-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Hn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!E(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),M(t.display.measure,D("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Un(e,t){for(var n=Oe(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function $n(e){return e.lineSpace.offsetTop}function qn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Wn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=M(e.measure,D("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Gn(e){return V-e.display.nativeBarWidth}function Yn(e){return e.display.scroller.clientWidth-Gn(e)-e.display.barWidth}function Kn(e){return e.display.scroller.clientHeight-Gn(e)-e.display.barHeight}function Xn(e,t,n){var r=e.options.lineWrapping,o=r&&Yn(e);if(!t.measure.heights||r&&t.measure.width!=o){var i=t.measure.heights=[];if(r){t.measure.width=o;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&i.push((l.bottom+u.top)/2-n.top)}}i.push(n.bottom-n.top)}}function Jn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var o=0;o<e.rest.length;o++)if(et(e.rest[o])>n)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}function Zn(e,t){t=Jt(t);var n=et(t),r=e.display.externalMeasured=new wn(e.doc,t,n);r.lineN=n;var o=r.built=hn(e,r);return r.text=o.pre,M(e.display.lineMeasure,o.pre),r}function Qn(e,t,n,r){return nr(e,tr(e,t),n,r)}function er(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Nr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function tr(e,t){var n=et(t),r=er(e,n);r&&!r.text?r=null:r&&r.changes&&(In(e,r,n,Ir(e)),e.curOp.forceUpdate=!0),r||(r=Zn(e,t));var o=Jn(r,t,n);return{line:t,view:r,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function nr(e,t,n,r,o){t.before&&(n=-1);var i,a=n+(r||"");return t.cache.hasOwnProperty(a)?i=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Xn(e,t.view,t.rect),t.hasHeights=!0),i=sr(e,t,n,r),i.bogus||(t.cache[a]=i)),{left:i.left,right:i.right,top:o?i.rtop:i.top,bottom:o?i.rbottom:i.bottom}}var rr,or={left:0,right:0,top:0,bottom:0};function ir(e,t,n){for(var r,o,i,a,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(o=0,i=1,a="left"):t<l?(o=t-s,i=o+1):(u==e.length-3||t==l&&e[u+3]>t)&&(i=l-s,o=i-1,t>=l&&(a="right")),null!=o){if(r=e[u+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==o)while(u&&e[u-2]==e[u-3]&&e[u-1].insertLeft)r=e[2+(u-=3)],a="left";if("right"==n&&o==l-s)while(u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft)r=e[(u+=3)+2],a="right";break}return{node:r,start:o,end:i,collapse:a,coverStart:s,coverEnd:l}}function ar(e,t){var n=or;if("left"==t){for(var r=0;r<e.length;r++)if((n=e[r]).left!=n.right)break}else for(var o=e.length-1;o>=0;o--)if((n=e[o]).left!=n.right)break;return n}function sr(e,t,n,r){var o,i=ir(t.map,n,r),l=i.node,u=i.start,c=i.end,d=i.collapse;if(3==l.nodeType){for(var f=0;f<4;f++){while(u&&ie(t.line.text.charAt(i.coverStart+u)))--u;while(i.coverStart+c<i.coverEnd&&ie(t.line.text.charAt(i.coverStart+c)))++c;if(o=a&&s<9&&0==u&&c==i.coverEnd-i.coverStart?l.parentNode.getBoundingClientRect():ar(k(l,u,c).getClientRects(),r),o.left||o.right||0==u)break;c=u,u-=1,d="right"}a&&s<11&&(o=lr(e.display.measure,o))}else{var p;u>0&&(d=r="right"),o=e.options.lineWrapping&&(p=l.getClientRects()).length>1?p["right"==r?p.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!u&&(!o||!o.left&&!o.right)){var h=l.parentNode.getClientRects()[0];o=h?{left:h.left,right:h.left+Dr(e.display),top:h.top,bottom:h.bottom}:or}for(var m=o.top-t.rect.top,g=o.bottom-t.rect.top,v=(m+g)/2,y=t.view.measure.heights,b=0;b<y.length-1;b++)if(v<y[b])break;var x=b?y[b-1]:0,w=y[b],_={left:("right"==d?o.right:o.left)-t.rect.left,right:("left"==d?o.left:o.right)-t.rect.left,top:x,bottom:w};return o.left||o.right||(_.bogus=!0),e.options.singleCursorHeightPerLine||(_.rtop=m,_.rbottom=g),_}function lr(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Re(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function ur(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function cr(e){e.display.externalMeasure=null,T(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ur(e.display.view[t])}function dr(e){cr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function fr(){return c&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pr(){return c&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function hr(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Hn(e.widgets[n]));return t}function mr(e,t,n,r,o){if(!o){var i=hr(t);n.top+=i,n.bottom+=i}if("line"==r)return n;r||(r="local");var a=on(t);if("local"==r?a+=$n(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:pr());var l=s.left+("window"==r?0:fr());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function gr(e,t,n){if("div"==n)return t;var r=t.left,o=t.top;if("page"==n)r-=fr(),o-=pr();else if("local"==n||!n){var i=e.display.sizer.getBoundingClientRect();r+=i.left,o+=i.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:o-a.top}}function vr(e,t,n,r,o){return r||(r=Xe(e.doc,t.line)),mr(e,r,Qn(e,r,t.ch,o),n)}function yr(e,t,n,r,o,i){function a(t,a){var s=nr(e,o,t,a?"right":"left",i);return a?s.left=s.right:s.right=s.left,mr(e,r,s,n)}r=r||Xe(e.doc,t.line),o||(o=tr(e,r));var s=fe(r,e.doc.direction),l=t.ch,u=t.sticky;if(l>=r.text.length?(l=r.text.length,u="before"):l<=0&&(l=0,u="after"),!s)return a("before"==u?l-1:l,"before"==u);function c(e,t,n){var r=s[t],o=1==r.level;return a(n?e-1:e,o!=n)}var d=ce(s,l,u),f=ue,p=c(l,d,"before"==u);return null!=f&&(p.other=c(l,f,"before"!=u)),p}function br(e,t){var n=0;t=dt(e.doc,t),e.options.lineWrapping||(n=Dr(e.display)*t.ch);var r=Xe(e.doc,t.line),o=on(r)+$n(e.display);return{left:n,right:n,top:o,bottom:o+r.height}}function xr(e,t,n,r,o){var i=ot(e,t,n);return i.xRel=o,r&&(i.outside=r),i}function wr(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,n<0)return xr(r.first,0,null,-1,-1);var o=tt(r,n),i=r.first+r.size-1;if(o>i)return xr(r.first+r.size-1,Xe(r,i).text.length,null,1,1);t<0&&(t=0);for(var a=Xe(r,o);;){var s=kr(e,a,o,t,n),l=Kt(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==o)return u;a=Xe(r,o=u.line)}}function _r(e,t,n,r){r-=hr(t);var o=t.text.length,i=se((function(t){return nr(e,n,t-1).bottom<=r}),o,0);return o=se((function(t){return nr(e,n,t).top>r}),i,o),{begin:i,end:o}}function Cr(e,t,n,r){n||(n=tr(e,t));var o=mr(e,t,nr(e,n,r),"line").top;return _r(e,t,n,o)}function Sr(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function kr(e,t,n,r,o){o-=on(t);var i=tr(e,t),a=hr(t),s=0,l=t.text.length,u=!0,c=fe(t,e.doc.direction);if(c){var d=(e.options.lineWrapping?Tr:Or)(e,t,n,i,c,r,o);u=1!=d.level,s=u?d.from:d.to-1,l=u?d.to:d.from-1}var f,p,h=null,m=null,g=se((function(t){var n=nr(e,i,t);return n.top+=a,n.bottom+=a,!!Sr(n,r,o,!1)&&(n.top<=o&&n.left<=r&&(h=t,m=n),!0)}),s,l),v=!1;if(m){var y=r-m.left<m.right-r,b=y==u;g=h+(b?0:1),p=b?"after":"before",f=y?m.left:m.right}else{u||g!=l&&g!=s||g++,p=0==g?"after":g==t.text.length?"before":nr(e,i,g-(u?1:0)).bottom+a<=o==u?"after":"before";var x=yr(e,ot(n,g,p),"line",t,i);f=x.left,v=o<x.top?-1:o>=x.bottom?1:0}return g=ae(t.text,g,1),xr(n,g,p,v,r-f)}function Or(e,t,n,r,o,i,a){var s=se((function(s){var l=o[s],u=1!=l.level;return Sr(yr(e,ot(n,u?l.to:l.from,u?"before":"after"),"line",t,r),i,a,!0)}),0,o.length-1),l=o[s];if(s>0){var u=1!=l.level,c=yr(e,ot(n,u?l.from:l.to,u?"after":"before"),"line",t,r);Sr(c,i,a,!0)&&c.top>a&&(l=o[s-1])}return l}function Tr(e,t,n,r,o,i,a){var s=_r(e,t,r,a),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,d=null,f=0;f<o.length;f++){var p=o[f];if(!(p.from>=u||p.to<=l)){var h=1!=p.level,m=nr(e,r,h?Math.min(u,p.to)-1:Math.max(l,p.from)).right,g=m<i?i-m+1e9:m-i;(!c||d>g)&&(c=p,d=g)}}return c||(c=o[o.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function Mr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==rr){rr=D("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)rr.appendChild(document.createTextNode("x")),rr.appendChild(D("br"));rr.appendChild(document.createTextNode("x"))}M(e.measure,rr);var n=rr.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),T(e.measure),n||1}function Dr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=D("span","xxxxxxxxxx"),n=D("pre",[t],"CodeMirror-line-like");M(e.measure,n);var r=t.getBoundingClientRect(),o=(r.right-r.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function Ir(e){for(var t=e.display,n={},r={},o=t.gutters.clientLeft,i=t.gutters.firstChild,a=0;i;i=i.nextSibling,++a){var s=e.display.gutterSpecs[a].className;n[s]=i.offsetLeft+i.clientLeft+o,r[s]=i.clientWidth}return{fixedPos:Er(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Er(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Ar(e){var t=Mr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Dr(e.display)-3);return function(o){if(nn(e.doc,o))return 0;var i=0;if(o.widgets)for(var a=0;a<o.widgets.length;a++)o.widgets[a].height&&(i+=o.widgets[a].height);return n?i+(Math.ceil(o.text.length/r)||1)*t:i+t}}function Lr(e){var t=e.doc,n=Ar(e);t.iter((function(e){var t=n(e);t!=e.height&&Qe(e,t)}))}function jr(e,t,n,r){var o=e.display;if(!n&&"true"==Oe(t).getAttribute("cm-not-content"))return null;var i,a,s=o.lineSpace.getBoundingClientRect();try{i=t.clientX-s.left,a=t.clientY-s.top}catch(d){return null}var l,u=wr(e,i,a);if(r&&u.xRel>0&&(l=Xe(e.doc,u.line).text).length==u.ch){var c=B(l,l.length,e.options.tabSize)-l.length;u=ot(u.line,Math.max(0,Math.round((i-Wn(e.display).left)/Dr(e.display))-c))}return u}function Nr(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,t<0)return r}function Pr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var o=e.display;if(r&&n<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)Dt&&en(e.doc,t)<o.viewTo&&Br(e);else if(n<=o.viewFrom)Dt&&tn(e.doc,n+r)>o.viewFrom?Br(e):(o.viewFrom+=r,o.viewTo+=r);else if(t<=o.viewFrom&&n>=o.viewTo)Br(e);else if(t<=o.viewFrom){var i=Fr(e,n,n+r,1);i?(o.view=o.view.slice(i.index),o.viewFrom=i.lineN,o.viewTo+=r):Br(e)}else if(n>=o.viewTo){var a=Fr(e,t,t,-1);a?(o.view=o.view.slice(0,a.index),o.viewTo=a.lineN):Br(e)}else{var s=Fr(e,t,t,-1),l=Fr(e,n,n+r,1);s&&l?(o.view=o.view.slice(0,s.index).concat(_n(e,s.lineN,l.lineN)).concat(o.view.slice(l.index)),o.viewTo+=r):Br(e)}var u=o.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(o.externalMeasured=null))}function Rr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var i=r.view[Nr(e,t)];if(null!=i.node){var a=i.changes||(i.changes=[]);-1==z(a,n)&&a.push(n)}}}function Br(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Fr(e,t,n,r){var o,i=Nr(e,t),a=e.display.view;if(!Dt||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var s=e.display.viewFrom,l=0;l<i;l++)s+=a[l].size;if(s!=t){if(r>0){if(i==a.length-1)return null;o=s+a[i].size-t,i++}else o=s-t;t+=o,n+=o}while(en(e.doc,n)!=n){if(i==(r<0?0:a.length-1))return null;n+=r*a[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function zr(e,t,n){var r=e.display,o=r.view;0==o.length||t>=r.viewTo||n<=r.viewFrom?(r.view=_n(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=_n(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Nr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(_n(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Nr(e,n)))),r.viewTo=n}function Vr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var o=t[r];o.hidden||o.node&&!o.changes||++n}return n}function Hr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ur(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},o=r.cursors=document.createDocumentFragment(),i=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&$r(e,s.head,o),l||Wr(e,s,i)}}return r}function $r(e,t,n){var r=yr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(D("div"," ","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var i=n.appendChild(D("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));i.style.display="",i.style.left=r.other.left+"px",i.style.top=r.other.top+"px",i.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function qr(e,t){return e.top-t.top||e.left-t.left}function Wr(e,t,n){var r=e.display,o=e.doc,i=document.createDocumentFragment(),a=Wn(e.display),s=a.left,l=Math.max(r.sizerWidth,Yn(e)-r.sizer.offsetLeft)-a.right,u="ltr"==o.direction;function c(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),i.appendChild(D("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(r-t)+"px"))}function d(t,n,r){var i,a,d=Xe(o,t),f=d.text.length;function p(n,r){return vr(e,ot(t,n),"div",d,r)}function h(t,n,r){var o=Cr(e,d,null,t),i="ltr"==n==("after"==r)?"left":"right",a="after"==r?o.begin:o.end-(/\s/.test(d.text.charAt(o.end-1))?2:1);return p(a,i)[i]}var m=fe(d,o.direction);return le(m,n||0,null==r?f:r,(function(e,t,o,d){var g="ltr"==o,v=p(e,g?"left":"right"),y=p(t-1,g?"right":"left"),b=null==n&&0==e,x=null==r&&t==f,w=0==d,_=!m||d==m.length-1;if(y.top-v.top<=3){var C=(u?b:x)&&w,S=(u?x:b)&&_,k=C?s:(g?v:y).left,O=S?l:(g?y:v).right;c(k,v.top,O-k,v.bottom)}else{var T,M,D,I;g?(T=u&&b&&w?s:v.left,M=u?l:h(e,o,"before"),D=u?s:h(t,o,"after"),I=u&&x&&_?l:y.right):(T=u?h(e,o,"before"):s,M=!u&&b&&w?l:v.right,D=!u&&x&&_?s:y.left,I=u?h(t,o,"after"):l),c(T,v.top,M-T,v.bottom),v.bottom<y.top&&c(s,v.bottom,null,y.top),c(D,y.top,I-D,y.bottom)}(!i||qr(v,i)<0)&&(i=v),qr(y,i)<0&&(i=y),(!a||qr(v,a)<0)&&(a=v),qr(y,a)<0&&(a=y)})),{start:i,end:a}}var f=t.from(),p=t.to();if(f.line==p.line)d(f.line,f.ch,p.ch);else{var h=Xe(o,f.line),m=Xe(o,p.line),g=Jt(h)==Jt(m),v=d(f.line,f.ch,g?h.text.length+1:null).end,y=d(p.line,g?0:null,p.ch).start;g&&(v.top<y.top-2?(c(v.right,v.top,null,v.bottom),c(s,y.top,y.left,y.bottom)):c(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&c(s,v.bottom,null,y.top)}n.appendChild(i)}function Gr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||Jr(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Yr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Xr(e))}function Kr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Jr(e))}),100)}function Xr(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ve(e,"focus",e,t),e.state.focused=!0,L(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Gr(e))}function Jr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ve(e,"blur",e,t),e.state.focused=!1,O(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Zr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var o=t.view[r],i=e.options.lineWrapping,l=void 0,u=0;if(!o.hidden){if(a&&s<8){var c=o.node.offsetTop+o.node.offsetHeight;l=c-n,n=c}else{var d=o.node.getBoundingClientRect();l=d.bottom-d.top,!i&&o.text.firstChild&&(u=o.text.firstChild.getBoundingClientRect().right-d.left-1)}var f=o.line.height-l;if((f>.005||f<-.005)&&(Qe(o.line,l),Qr(o.line),o.rest))for(var p=0;p<o.rest.length;p++)Qr(o.rest[p]);if(u>e.display.sizerWidth){var h=Math.ceil(u/Dr(e.display));h>e.display.maxLineLength&&(e.display.maxLineLength=h,e.display.maxLine=o.line,e.display.maxLineChanged=!0)}}}}function Qr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function eo(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-$n(e));var o=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,i=tt(t,r),a=tt(t,o);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<i?(i=s,a=tt(t,on(Xe(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(i=tt(t,on(Xe(t,l))-e.wrapper.clientHeight),a=l)}return{from:i,to:Math.max(a,i+1)}}function to(e,t){if(!ye(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),o=null;if(t.top+r.top<0?o=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!h){var i=D("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-$n(e.display))+"px;\n                         height: "+(t.bottom-t.top+Gn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(i),i.scrollIntoView(o),e.display.lineSpace.removeChild(i)}}}function no(e,t,n,r){var o;null==r&&(r=0),e.options.lineWrapping||t!=n||(t=t.ch?ot(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,n="before"==t.sticky?ot(t.line,t.ch+1,"before"):t);for(var i=0;i<5;i++){var a=!1,s=yr(e,t),l=n&&n!=t?yr(e,n):s;o={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r};var u=oo(e,o),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=u.scrollTop&&(fo(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(ho(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return o}function ro(e,t){var n=oo(e,t);null!=n.scrollTop&&fo(e,n.scrollTop),null!=n.scrollLeft&&ho(e,n.scrollLeft)}function oo(e,t){var n=e.display,r=Mr(e.display);t.top<0&&(t.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,i=Kn(e),a={};t.bottom-t.top>i&&(t.bottom=t.top+i);var s=e.doc.height+qn(n),l=t.top<r,u=t.bottom>s-r;if(t.top<o)a.scrollTop=l?0:t.top;else if(t.bottom>o+i){var c=Math.min(t.top,(u?s:t.bottom)-i);c!=o&&(a.scrollTop=c)}var d=e.options.fixedGutter?0:n.gutters.offsetWidth,f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-d,p=Yn(e)-n.gutters.offsetWidth,h=t.right-t.left>p;return h&&(t.right=t.left+p),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left+d-(h?0:10)):t.right>p+f-3&&(a.scrollLeft=t.right+(h?0:10)-p),a}function io(e,t){null!=t&&(uo(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function ao(e){uo(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function so(e,t,n){null==t&&null==n||uo(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function lo(e,t){uo(e),e.curOp.scrollToPos=t}function uo(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=br(e,t.from),r=br(e,t.to);co(e,n,r,t.margin)}}function co(e,t,n,r){var o=oo(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});so(e,o.scrollLeft,o.scrollTop)}function fo(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||Uo(e,{top:t}),po(e,t,!0),n&&Uo(e),No(e,100))}function po(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function ho(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Go(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function mo(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+qn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Gn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var go=function(e,t,n){this.cm=n;var r=this.vert=D("div",[D("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=D("div",[D("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=o.tabIndex=-1,e(r),e(o),he(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),he(o,"scroll",(function(){o.clientWidth&&t(o.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};go.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var o=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var i=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+i)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},go.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},go.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},go.prototype.zeroWidthHack=function(){var e=y&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new F,this.disableVert=new F},go.prototype.enableZeroWidthBar=function(e,t,n){function r(){var o=e.getBoundingClientRect(),i="vert"==n?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1);i!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},go.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var vo=function(){};function yo(e,t){t||(t=mo(e));var n=e.display.barWidth,r=e.display.barHeight;bo(e,t);for(var o=0;o<4&&n!=e.display.barWidth||r!=e.display.barHeight;o++)n!=e.display.barWidth&&e.options.lineWrapping&&Zr(e),bo(e,mo(e)),n=e.display.barWidth,r=e.display.barHeight}function bo(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}vo.prototype.update=function(){return{bottom:0,right:0}},vo.prototype.setScrollLeft=function(){},vo.prototype.setScrollTop=function(){},vo.prototype.clear=function(){};var xo={native:go,null:vo};function wo(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&O(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new xo[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),he(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?ho(e,t):fo(e,t)}),e),e.display.scrollbars.addClass&&L(e.display.wrapper,e.display.scrollbars.addClass)}var _o=0;function Co(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++_o},Sn(e.curOp)}function So(e){var t=e.curOp;t&&On(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;ko(e)}))}function ko(e){for(var t=e.ops,n=0;n<t.length;n++)Oo(t[n]);for(var r=0;r<t.length;r++)To(t[r]);for(var o=0;o<t.length;o++)Mo(t[o]);for(var i=0;i<t.length;i++)Do(t[i]);for(var a=0;a<t.length;a++)Io(t[a])}function Oo(e){var t=e.cm,n=t.display;Bo(t),e.updateMaxLine&&sn(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ro(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function To(e){e.updatedDisplay=e.mustUpdate&&Vo(e.cm,e.update)}function Mo(e){var t=e.cm,n=t.display;e.updatedDisplay&&Zr(t),e.barMeasure=mo(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Qn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Gn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Yn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Do(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&ho(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==A();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&yo(t,e.barMeasure),e.updatedDisplay&&Wo(t,e.barMeasure),e.selectionChanged&&Gr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Yr(e.cm)}function Io(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&Ho(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&po(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&ho(t,e.scrollLeft,!0,!0),e.scrollToPos){var o=no(t,dt(r,e.scrollToPos.from),dt(r,e.scrollToPos.to),e.scrollToPos.margin);to(t,o)}var i=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(i)for(var s=0;s<i.length;++s)i[s].lines.length||ve(i[s],"hide");if(a)for(var l=0;l<a.length;++l)a[l].lines.length&&ve(a[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ve(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Eo(e,t){if(e.curOp)return t();Co(e);try{return t()}finally{So(e)}}function Ao(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Co(e);try{return t.apply(e,arguments)}finally{So(e)}}}function Lo(e){return function(){if(this.curOp)return e.apply(this,arguments);Co(this);try{return e.apply(this,arguments)}finally{So(this)}}}function jo(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Co(t);try{return e.apply(this,arguments)}finally{So(t)}}}function No(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,P(Po,e))}function Po(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=yt(e,t.highlightFrontier),o=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(i){if(r.line>=e.display.viewFrom){var a=i.styles,s=i.text.length>e.options.maxHighlightLength?We(t.mode,r.state):null,l=gt(e,i,r,!0);s&&(r.state=s),i.styles=l.styles;var u=i.styleClasses,c=l.classes;c?i.styleClasses=c:u&&(i.styleClasses=null);for(var d=!a||a.length!=i.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),f=0;!d&&f<a.length;++f)d=a[f]!=i.styles[f];d&&o.push(r.line),i.stateAfter=r.save(),r.nextLine()}else i.text.length<=e.options.maxHighlightLength&&bt(e,i.text,r),i.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return No(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),o.length&&Eo(e,(function(){for(var t=0;t<o.length;t++)Rr(e,o[t],"text")}))}}var Ro=function(e,t,n){var r=e.display;this.viewport=t,this.visible=eo(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Yn(e),this.force=n,this.dims=Ir(e),this.events=[]};function Bo(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Gn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Gn(e)+"px",t.scrollbarsClipped=!0)}function Fo(e){if(e.hasFocus())return null;var t=A();if(!t||!E(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&E(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function zo(e){if(e&&e.activeElt&&e.activeElt!=A()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&E(document.body,e.anchorNode)&&E(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Vo(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Br(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Vr(e))return!1;Yo(e)&&(Br(e),t.dims=Ir(e));var o=r.first+r.size,i=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(o,t.visible.to+e.options.viewportMargin);n.viewFrom<i&&i-n.viewFrom<20&&(i=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(o,n.viewTo)),Dt&&(i=en(e.doc,i),a=tn(e.doc,a));var s=i!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;zr(e,i,a),n.viewOffset=on(Xe(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Vr(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Fo(e);return l>4&&(n.lineDiv.style.display="none"),$o(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,zo(u),T(n.cursorDiv),T(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,No(e,400)),n.updateLineNumbers=null,!0}function Ho(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Yn(e))r&&(t.visible=eo(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+qn(e.display)-Kn(e),n.top)}),t.visible=eo(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Vo(e,t))break;Zr(e);var o=mo(e);Hr(e),yo(e,o),Wo(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Uo(e,t){var n=new Ro(e,t);if(Vo(e,n)){Zr(e),Ho(e,n);var r=mo(e);Hr(e),yo(e,r),Wo(e,r),n.finish()}}function $o(e,t,n){var r=e.display,o=e.options.lineNumbers,i=r.lineDiv,a=i.firstChild;function s(t){var n=t.nextSibling;return l&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var u=r.view,c=r.viewFrom,d=0;d<u.length;d++){var f=u[d];if(f.hidden);else if(f.node&&f.node.parentNode==i){while(a!=f.node)a=s(a);var p=o&&null!=t&&t<=c&&f.lineNumber;f.changes&&(z(f.changes,"gutter")>-1&&(p=!1),In(e,f,c,n)),p&&(T(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(rt(e.options,c)))),a=f.node.nextSibling}else{var h=Bn(e,f,c,n);i.insertBefore(h,a)}c+=f.size}while(a)a=s(a)}function qo(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function Wo(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Gn(e)+"px"}function Go(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Er(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,i=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=i),n[a].gutterBackground&&(n[a].gutterBackground.style.left=i));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=i}e.options.fixedGutter&&(t.gutters.style.left=r+o+"px")}}function Yo(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=rt(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(D("div",[D("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=o.firstChild.offsetWidth,a=o.offsetWidth-i;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(i,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",qo(e.display),!0}return!1}function Ko(e,t){for(var n=[],r=!1,o=0;o<e.length;o++){var i=e[o],a=null;if("string"!=typeof i&&(a=i.style,i=i.className),"CodeMirror-linenumbers"==i){if(!t)continue;r=!0}n.push({className:i,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Xo(e){var t=e.gutters,n=e.gutterSpecs;T(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var o=n[r],i=o.className,a=o.style,s=t.appendChild(D("div",null,"CodeMirror-gutter "+i));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==i&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",qo(e)}function Jo(e){Xo(e.display),Pr(e),Go(e)}function Zo(e,t,r,o){var i=this;this.input=r,i.scrollbarFiller=D("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=D("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=I("div",null,"CodeMirror-code"),i.selectionDiv=D("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=D("div",null,"CodeMirror-cursors"),i.measure=D("div",null,"CodeMirror-measure"),i.lineMeasure=D("div",null,"CodeMirror-measure"),i.lineSpace=I("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var u=I("div",[i.lineSpace],"CodeMirror-lines");i.mover=D("div",[u],null,"position: relative"),i.sizer=D("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=D("div",null,null,"position: absolute; height: "+V+"px; width: 1px;"),i.gutters=D("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=D("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=D("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),a&&s<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),l||n&&v||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=Ko(o.gutters,o.lineNumbers),Xo(i),r.init(i)}Ro.prototype.signal=function(e,t){xe(e,t)&&this.events.push(arguments)},Ro.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ve.apply(null,this.events[e])};var Qo=0,ei=null;function ti(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function ni(e){var t=ti(e);return t.x*=ei,t.y*=ei,t}function ri(e,t){var r=ti(t),o=r.x,i=r.y,a=e.display,s=a.scroller,u=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(o&&u||i&&c){if(i&&y&&l)e:for(var f=t.target,p=a.view;f!=s;f=f.parentNode)for(var h=0;h<p.length;h++)if(p[h].node==f){e.display.currentWheelTarget=f;break e}if(o&&!n&&!d&&null!=ei)return i&&c&&fo(e,Math.max(0,s.scrollTop+i*ei)),ho(e,Math.max(0,s.scrollLeft+o*ei)),(!i||i&&c)&&_e(t),void(a.wheelStartX=null);if(i&&null!=ei){var m=i*ei,g=e.doc.scrollTop,v=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),Uo(e,{top:g,bottom:v})}Qo<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=o,a.wheelDY=i,setTimeout((function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(ei=(ei*Qo+n)/(Qo+1),++Qo)}}),200)):(a.wheelDX+=o,a.wheelDY+=i))}}a?ei=-.53:n?ei=15:c?ei=-.7:f&&(ei=-1/3);var oi=function(e,t){this.ranges=e,this.primIndex=t};oi.prototype.primary=function(){return this.ranges[this.primIndex]},oi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!at(n.anchor,r.anchor)||!at(n.head,r.head))return!1}return!0},oi.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new ii(st(this.ranges[t].anchor),st(this.ranges[t].head));return new oi(e,this.primIndex)},oi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},oi.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(it(t,r.from())>=0&&it(e,r.to())<=0)return n}return-1};var ii=function(e,t){this.anchor=e,this.head=t};function ai(e,t,n){var r=e&&e.options.selectionsMayTouch,o=t[n];t.sort((function(e,t){return it(e.from(),t.from())})),n=z(t,o);for(var i=1;i<t.length;i++){var a=t[i],s=t[i-1],l=it(s.to(),a.from());if(r&&!a.empty()?l>0:l>=0){var u=ut(s.from(),a.from()),c=lt(s.to(),a.to()),d=s.empty()?a.from()==a.head:s.from()==s.head;i<=n&&--n,t.splice(--i,2,new ii(d?c:u,d?u:c))}}return new oi(t,n)}function si(e,t){return new oi([new ii(e,t||e)],0)}function li(e){return e.text?ot(e.from.line+e.text.length-1,K(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function ui(e,t){if(it(e,t.from)<0)return e;if(it(e,t.to)<=0)return li(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=li(t).ch-t.to.ch),ot(n,r)}function ci(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var o=e.sel.ranges[r];n.push(new ii(ui(o.anchor,t),ui(o.head,t)))}return ai(e.cm,n,e.sel.primIndex)}function di(e,t,n){return e.line==t.line?ot(n.line,e.ch-t.ch+n.ch):ot(n.line+(e.line-t.line),e.ch)}function fi(e,t,n){for(var r=[],o=ot(e.first,0),i=o,a=0;a<t.length;a++){var s=t[a],l=di(s.from,o,i),u=di(li(s),o,i);if(o=s.to,i=u,"around"==n){var c=e.sel.ranges[a],d=it(c.head,c.anchor)<0;r[a]=new ii(d?u:l,d?l:u)}else r[a]=new ii(l,l)}return new oi(r,e.sel.primIndex)}function pi(e){e.doc.mode=Ue(e.options,e.doc.modeOption),hi(e)}function hi(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,No(e,100),e.state.modeGen++,e.curOp&&Pr(e)}function mi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==K(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function gi(e,t,n,r){function o(e){return n?n[e]:null}function i(e,n,o){un(e,n,o,r),Mn(e,"change",e,t)}function a(e,t){for(var n=[],i=e;i<t;++i)n.push(new ln(u[i],o(i),r));return n}var s=t.from,l=t.to,u=t.text,c=Xe(e,s.line),d=Xe(e,l.line),f=K(u),p=o(u.length-1),h=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(mi(e,t)){var m=a(0,u.length-1);i(d,d.text,p),h&&e.remove(s.line,h),m.length&&e.insert(s.line,m)}else if(c==d)if(1==u.length)i(c,c.text.slice(0,s.ch)+f+c.text.slice(l.ch),p);else{var g=a(1,u.length-1);g.push(new ln(f+c.text.slice(l.ch),p,r)),i(c,c.text.slice(0,s.ch)+u[0],o(0)),e.insert(s.line+1,g)}else if(1==u.length)i(c,c.text.slice(0,s.ch)+u[0]+d.text.slice(l.ch),o(0)),e.remove(s.line+1,h);else{i(c,c.text.slice(0,s.ch)+u[0],o(0)),i(d,f+d.text.slice(l.ch),p);var v=a(1,u.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,v)}Mn(e,"change",e,t)}function vi(e,t,n){function r(e,o,i){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=o){var l=i&&s.sharedHist;n&&!l||(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function yi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Lr(e),pi(e),bi(e),e.options.lineWrapping||sn(e),e.options.mode=t.modeOption,Pr(e)}function bi(e){("rtl"==e.doc.direction?L:O)(e.display.lineDiv,"CodeMirror-rtl")}function xi(e){Eo(e,(function(){bi(e),Pr(e)}))}function wi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function _i(e,t){var n={from:st(t.from),to:li(t),text:Je(e,t.from,t.to)};return Di(e,n,t.from.line,t.to.line+1),vi(e,(function(e){return Di(e,n,t.from.line,t.to.line+1)}),!0),n}function Ci(e){while(e.length){var t=K(e);if(!t.ranges)break;e.pop()}}function Si(e,t){return t?(Ci(e.done),K(e.done)):e.done.length&&!K(e.done).ranges?K(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),K(e.done)):void 0}function ki(e,t,n,r){var o=e.history;o.undone.length=0;var i,a,s=+new Date;if((o.lastOp==r||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(i=Si(o,o.lastOp==r)))a=K(i.changes),0==it(t.from,t.to)&&0==it(t.from,a.to)?a.to=li(t):i.changes.push(_i(e,t));else{var l=K(o.done);l&&l.ranges||Mi(e.sel,o.done),i={changes:[_i(e,t)],generation:o.generation},o.done.push(i);while(o.done.length>o.undoDepth)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=s,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=t.origin,a||ve(e,"historyAdded")}function Oi(e,t,n,r){var o=t.charAt(0);return"*"==o||"+"==o&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Ti(e,t,n,r){var o=e.history,i=r&&r.origin;n==o.lastSelOp||i&&o.lastSelOrigin==i&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==i||Oi(e,i,K(o.done),t))?o.done[o.done.length-1]=t:Mi(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=i,o.lastSelOp=n,r&&!1!==r.clearRedo&&Ci(o.undone)}function Mi(e,t){var n=K(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Di(e,t,n,r){var o=t["spans_"+e.id],i=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((o||(o=t["spans_"+e.id]={}))[i]=n.markedSpans),++i}))}function Ii(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Ei(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],o=0;o<t.text.length;++o)r.push(Ii(n[o]));return r}function Ai(e,t){var n=Ei(e,t),r=Bt(e,t);if(!n)return r;if(!r)return n;for(var o=0;o<n.length;++o){var i=n[o],a=r[o];if(i&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<i.length;++u)if(i[u].marker==l.marker)continue e;i.push(l)}else a&&(n[o]=a)}return n}function Li(e,t,n){for(var r=[],o=0;o<e.length;++o){var i=e[o];if(i.ranges)r.push(n?oi.prototype.deepCopy.call(i):i);else{var a=i.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var u=a[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&z(t,Number(c[1]))>-1&&(K(s)[d]=u[d],delete u[d])}}}return r}function ji(e,t,n,r){if(r){var o=e.anchor;if(n){var i=it(t,o)<0;i!=it(n,o)<0?(o=t,t=n):i!=it(t,n)<0&&(t=n)}return new ii(o,t)}return new ii(n||t,t)}function Ni(e,t,n,r,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),Vi(e,new oi([ji(e.sel.primary(),t,n,o)],0),r)}function Pi(e,t,n){for(var r=[],o=e.cm&&(e.cm.display.shift||e.extend),i=0;i<e.sel.ranges.length;i++)r[i]=ji(e.sel.ranges[i],t[i],null,o);var a=ai(e.cm,r,e.sel.primIndex);Vi(e,a,n)}function Ri(e,t,n,r){var o=e.sel.ranges.slice(0);o[t]=n,Vi(e,ai(e.cm,o,e.sel.primIndex),r)}function Bi(e,t,n,r){Vi(e,si(t,n),r)}function Fi(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new ii(dt(e,t[n].anchor),dt(e,t[n].head))},origin:n&&n.origin};return ve(e,"beforeSelectionChange",e,r),e.cm&&ve(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?ai(e.cm,r.ranges,r.ranges.length-1):t}function zi(e,t,n){var r=e.history.done,o=K(r);o&&o.ranges?(r[r.length-1]=t,Hi(e,t,n)):Vi(e,t,n)}function Vi(e,t,n){Hi(e,t,n),Ti(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Hi(e,t,n){(xe(e,"beforeSelectionChange")||e.cm&&xe(e.cm,"beforeSelectionChange"))&&(t=Fi(e,t,n));var r=n&&n.bias||(it(t.primary().head,e.sel.primary().head)<0?-1:1);Ui(e,qi(e,t,r,!0)),n&&!1===n.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||ao(e.cm)}function Ui(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,be(e.cm)),Mn(e,"cursorActivity",e))}function $i(e){Ui(e,qi(e,e.sel,null,!1))}function qi(e,t,n,r){for(var o,i=0;i<t.ranges.length;i++){var a=t.ranges[i],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],l=Gi(e,a.anchor,s&&s.anchor,n,r),u=Gi(e,a.head,s&&s.head,n,r);(o||l!=a.anchor||u!=a.head)&&(o||(o=t.ranges.slice(0,i)),o[i]=new ii(l,u))}return o?ai(e.cm,o,t.primIndex):t}function Wi(e,t,n,r,o){var i=Xe(e,t.line);if(i.markedSpans)for(var a=0;a<i.markedSpans.length;++a){var s=i.markedSpans[a],l=s.marker,u="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,c="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(u?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(o&&(ve(l,"beforeCursorEnter"),l.explicitlyCleared)){if(i.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var d=l.find(r<0?1:-1),f=void 0;if((r<0?c:u)&&(d=Yi(e,d,-r,d&&d.line==t.line?i:null)),d&&d.line==t.line&&(f=it(d,n))&&(r<0?f<0:f>0))return Wi(e,d,t,r,o)}var p=l.find(r<0?-1:1);return(r<0?u:c)&&(p=Yi(e,p,r,p.line==t.line?i:null)),p?Wi(e,p,t,r,o):null}}return t}function Gi(e,t,n,r,o){var i=r||1,a=Wi(e,t,n,i,o)||!o&&Wi(e,t,n,i,!0)||Wi(e,t,n,-i,o)||!o&&Wi(e,t,n,-i,!0);return a||(e.cantEdit=!0,ot(e.first,0))}function Yi(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?dt(e,ot(t.line-1)):null:n>0&&t.ch==(r||Xe(e,t.line)).text.length?t.line<e.first+e.size-1?ot(t.line+1,0):null:new ot(t.line,t.ch+n)}function Ki(e){e.setSelection(ot(e.firstLine(),0),ot(e.lastLine()),U)}function Xi(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,o,i){t&&(r.from=dt(e,t)),n&&(r.to=dt(e,n)),o&&(r.text=o),void 0!==i&&(r.origin=i)}),ve(e,"beforeChange",e,r),e.cm&&ve(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Ji(e,t,n){if(e.cm){if(!e.cm.curOp)return Ao(e.cm,Ji)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(xe(e,"beforeChange")||e.cm&&xe(e.cm,"beforeChange"))||(t=Xi(e,t,!0),t)){var r=Mt&&!n&&zt(e,t.from,t.to);if(r)for(var o=r.length-1;o>=0;--o)Zi(e,{from:r[o].from,to:r[o].to,text:o?[""]:t.text,origin:t.origin});else Zi(e,t)}}function Zi(e,t){if(1!=t.text.length||""!=t.text[0]||0!=it(t.from,t.to)){var n=ci(e,t);ki(e,t,n,e.cm?e.cm.curOp.id:NaN),ta(e,t,n,Bt(e,t));var r=[];vi(e,(function(e,n){n||-1!=z(r,e.history)||(aa(e.history,t),r.push(e.history)),ta(e,t,null,Bt(e,t))}))}}function Qi(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var o,i=e.history,a=e.sel,s="undo"==t?i.done:i.undone,l="undo"==t?i.undone:i.done,u=0;u<s.length;u++)if(o=s[u],n?o.ranges&&!o.equals(e.sel):!o.ranges)break;if(u!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(o=s.pop(),!o.ranges){if(r)return void s.push(o);break}if(Mi(o,l),n&&!o.equals(e.sel))return void Vi(e,o,{clearRedo:!1});a=o}var c=[];Mi(a,l),l.push({changes:c,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var d=xe(e,"beforeChange")||e.cm&&xe(e.cm,"beforeChange"),f=function(n){var r=o.changes[n];if(r.origin=t,d&&!Xi(e,r,!1))return s.length=0,{};c.push(_i(e,r));var i=n?ci(e,r):K(s);ta(e,r,i,Ai(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:li(r)});var a=[];vi(e,(function(e,t){t||-1!=z(a,e.history)||(aa(e.history,r),a.push(e.history)),ta(e,r,null,Ai(e,r))}))},p=o.changes.length-1;p>=0;--p){var h=f(p);if(h)return h.v}}}}function ea(e,t){if(0!=t&&(e.first+=t,e.sel=new oi(X(e.sel.ranges,(function(e){return new ii(ot(e.anchor.line+t,e.anchor.ch),ot(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Pr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Rr(e.cm,r,"gutter")}}function ta(e,t,n,r){if(e.cm&&!e.cm.curOp)return Ao(e.cm,ta)(e,t,n,r);if(t.to.line<e.first)ea(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);ea(e,o),t={from:ot(e.first,0),to:ot(t.to.line+o,t.to.ch),text:[K(t.text)],origin:t.origin}}var i=e.lastLine();t.to.line>i&&(t={from:t.from,to:ot(i,Xe(e,i).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Je(e,t.from,t.to),n||(n=ci(e,t)),e.cm?na(e.cm,t,r):gi(e,t,r),Hi(e,n,U),e.cantEdit&&Gi(e,ot(e.firstLine(),0))&&(e.cantEdit=!1)}}function na(e,t,n){var r=e.doc,o=e.display,i=t.from,a=t.to,s=!1,l=i.line;e.options.lineWrapping||(l=et(Jt(Xe(r,i.line))),r.iter(l,a.line+1,(function(e){if(e==o.maxLine)return s=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&be(e),gi(r,t,n,Ar(e)),e.options.lineWrapping||(r.iter(l,i.line+t.text.length,(function(e){var t=an(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),Tt(r,i.line),No(e,400);var u=t.text.length-(a.line-i.line)-1;t.full?Pr(e):i.line!=a.line||1!=t.text.length||mi(e.doc,t)?Pr(e,i.line,a.line+1,u):Rr(e,i.line,"text");var c=xe(e,"changes"),d=xe(e,"change");if(d||c){var f={from:i,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&Mn(e,"change",e,f),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function ra(e,t,n,r,o){var i;r||(r=n),it(r,n)<0&&(i=[r,n],n=i[0],r=i[1]),"string"==typeof t&&(t=e.splitLines(t)),Ji(e,{from:n,to:r,text:t,origin:o})}function oa(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function ia(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o],a=!0;if(i.ranges){i.copied||(i=e[o]=i.deepCopy(),i.copied=!0);for(var s=0;s<i.ranges.length;s++)oa(i.ranges[s].anchor,t,n,r),oa(i.ranges[s].head,t,n,r)}else{for(var l=0;l<i.changes.length;++l){var u=i.changes[l];if(n<u.from.line)u.from=ot(u.from.line+r,u.from.ch),u.to=ot(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,o+1),o=0)}}}function aa(e,t){var n=t.from.line,r=t.to.line,o=t.text.length-(r-n)-1;ia(e.done,n,r,o),ia(e.undone,n,r,o)}function sa(e,t,n,r){var o=t,i=t;return"number"==typeof t?i=Xe(e,ct(e,t)):o=et(t),null==o?null:(r(i,o)&&e.cm&&Rr(e.cm,o,n),i)}function la(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function ua(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var o=e[r];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}ii.prototype.from=function(){return ut(this.anchor,this.head)},ii.prototype.to=function(){return lt(this.anchor,this.head)},ii.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},la.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var o=this.lines[n];this.height-=o.height,cn(o),Mn(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},ua.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var i=Math.min(t,o-e),a=r.height;if(r.removeInner(e,i),this.height-=a-r.height,o==i&&(this.children.splice(n--,1),r.parent=null),0==(t-=i))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof la))){var s=[];this.collapse(s),this.children=[new la(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<=i){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,s=a;s<o.lines.length;){var l=new la(o.lines.slice(s,s+=25));o.height-=l.height,this.children.splice(++r,0,l),l.parent=this}o.lines=o.lines.slice(0,a),this.maybeSpill()}break}e-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new ua(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=z(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var o=new ua(e.children);o.parent=e,e.children=[o,n],e=o}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(e<i){var a=Math.min(t,i-e);if(o.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=i}}};var ca=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function da(e,t,n){on(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&io(e,n)}function fa(e,t,n,r){var o=new ca(e,n,r),i=e.cm;return i&&o.noHScroll&&(i.display.alignWidgets=!0),sa(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==o.insertAt?n.push(o):n.splice(Math.min(n.length,Math.max(0,o.insertAt)),0,o),o.line=t,i&&!nn(e,t)){var r=on(t)<e.scrollTop;Qe(t,t.height+Hn(o)),r&&io(i,o.height),i.curOp.forceUpdate=!0}return!0})),i&&Mn(i,"lineWidgetAdded",i,o,"number"==typeof t?t:et(t)),o}ca.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=et(n);if(null!=r&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(n.widgets=null);var i=Hn(this);Qe(n,Math.max(0,n.height-i)),e&&(Eo(e,(function(){da(e,n,-i),Rr(e,r,"widget")})),Mn(e,"lineWidgetCleared",e,this,r))}},ca.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var o=Hn(this)-t;o&&(nn(this.doc,r)||Qe(r,r.height+o),n&&Eo(n,(function(){n.curOp.forceUpdate=!0,da(n,r,o),Mn(n,"lineWidgetChanged",n,e,et(r))})))},we(ca);var pa=0,ha=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++pa};function ma(e,t,n,r,o){if(r&&r.shared)return va(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return Ao(e.cm,ma)(e,t,n,r,o);var i=new ha(e,o),a=it(t,n);if(r&&R(r,i,!1),a>0||0==a&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=I("span",[i.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(Xt(e,t.line,t,n,i)||t.line!=n.line&&Xt(e,n.line,t,n,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");Et()}i.addToHistory&&ki(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,u=e.cm;if(e.iter(l,n.line+1,(function(e){u&&i.collapsed&&!u.options.lineWrapping&&Jt(e)==u.display.maxLine&&(s=!0),i.collapsed&&l!=t.line&&Qe(e,0),Nt(e,new At(i,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l})),i.collapsed&&e.iter(t.line,n.line+1,(function(t){nn(e,t)&&Qe(t,0)})),i.clearOnEnter&&he(i,"beforeCursorEnter",(function(){return i.clear()})),i.readOnly&&(It(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),i.collapsed&&(i.id=++pa,i.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),i.collapsed)Pr(u,t.line,n.line+1);else if(i.className||i.startStyle||i.endStyle||i.css||i.attributes||i.title)for(var c=t.line;c<=n.line;c++)Rr(u,c,"text");i.atomic&&$i(u.doc),Mn(u,"markerAdded",u,i)}return i}ha.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Co(e),xe(this,"clear")){var n=this.find();n&&Mn(this,"clear",n.from,n.to)}for(var r=null,o=null,i=0;i<this.lines.length;++i){var a=this.lines[i],s=Lt(a.markedSpans,this);e&&!this.collapsed?Rr(e,et(a),"text"):e&&(null!=s.to&&(o=et(a)),null!=s.from&&(r=et(a))),a.markedSpans=jt(a.markedSpans,s),null==s.from&&this.collapsed&&!nn(this.doc,a)&&e&&Qe(a,Mr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=Jt(this.lines[l]),c=an(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Pr(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&$i(e.doc)),e&&Mn(e,"markerCleared",e,this,r,o),t&&So(e),this.parent&&this.parent.clear()}},ha.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var o=0;o<this.lines.length;++o){var i=this.lines[o],a=Lt(i.markedSpans,this);if(null!=a.from&&(n=ot(t?i:et(i),a.from),-1==e))return n;if(null!=a.to&&(r=ot(t?i:et(i),a.to),1==e))return r}return n&&{from:n,to:r}},ha.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Eo(r,(function(){var o=t.line,i=et(t.line),a=er(r,i);if(a&&(ur(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!nn(n.doc,o)&&null!=n.height){var s=n.height;n.height=null;var l=Hn(n)-s;l&&Qe(o,o.height+l)}Mn(r,"markerChanged",r,e)}))},ha.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=z(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ha.prototype.detachLine=function(e){if(this.lines.splice(z(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},we(ha);var ga=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function va(e,t,n,r,o){r=R(r),r.shared=!1;var i=[ma(e,t,n,r,o)],a=i[0],s=r.widgetNode;return vi(e,(function(e){s&&(r.widgetNode=s.cloneNode(!0)),i.push(ma(e,dt(e,t),dt(e,n),r,o));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=K(i)})),new ga(i,a)}function ya(e){return e.findMarks(ot(e.first,0),e.clipPos(ot(e.lastLine())),(function(e){return e.parent}))}function ba(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.find(),i=e.clipPos(o.from),a=e.clipPos(o.to);if(it(i,a)){var s=ma(e,i,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function xa(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];vi(n.primary.doc,(function(e){return r.push(e)}));for(var o=0;o<n.markers.length;o++){var i=n.markers[o];-1==z(r,i.doc)&&(i.parent=null,n.markers.splice(o--,1))}},n=0;n<e.length;n++)t(n)}ga.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Mn(this,"clear")}},ga.prototype.find=function(e,t){return this.primary.find(e,t)},we(ga);var wa=0,_a=function(e,t,n,r,o){if(!(this instanceof _a))return new _a(e,t,n,r,o);null==n&&(n=0),ua.call(this,[new la([new ln("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var i=ot(n,0);this.sel=si(i),this.history=new wi(null),this.id=++wa,this.modeOption=t,this.lineSep=r,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),gi(this,{from:i,to:i,text:e}),Vi(this,si(i),U)};_a.prototype=Q(ua.prototype,{constructor:_a,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ze(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:jo((function(e){var t=ot(this.first,0),n=this.first+this.size-1;Ji(this,{from:t,to:ot(n,Xe(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&so(this.cm,0,0),Vi(this,si(t),U)})),replaceRange:function(e,t,n,r){t=dt(this,t),n=n?dt(this,n):t,ra(this,e,t,n,r)},getRange:function(e,t,n){var r=Je(this,dt(this,e),dt(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(nt(this,e))return Xe(this,e)},getLineNumber:function(e){return et(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Xe(this,e)),Jt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return dt(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||!1===e?n.to():n.from(),t},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:jo((function(e,t,n){Bi(this,dt(this,"number"==typeof e?ot(e,t||0):e),null,n)})),setSelection:jo((function(e,t,n){Bi(this,dt(this,e),dt(this,t||e),n)})),extendSelection:jo((function(e,t,n){Ni(this,dt(this,e),t&&dt(this,t),n)})),extendSelections:jo((function(e,t){Pi(this,pt(this,e),t)})),extendSelectionsBy:jo((function(e,t){var n=X(this.sel.ranges,e);Pi(this,pt(this,n),t)})),setSelections:jo((function(e,t,n){if(e.length){for(var r=[],o=0;o<e.length;o++)r[o]=new ii(dt(this,e[o].anchor),dt(this,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Vi(this,ai(this.cm,r,t),n)}})),addSelection:jo((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new ii(dt(this,e),dt(this,t||e))),Vi(this,ai(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var o=Je(this,n[r].from(),n[r].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var o=Je(this,n[r].from(),n[r].to());!1!==e&&(o=o.join(e||this.lineSeparator())),t[r]=o}return t},replaceSelection:function(e,t,n){for(var r=[],o=0;o<this.sel.ranges.length;o++)r[o]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:jo((function(e,t,n){for(var r=[],o=this.sel,i=0;i<o.ranges.length;i++){var a=o.ranges[i];r[i]={from:a.from(),to:a.to(),text:this.splitLines(e[i]),origin:n}}for(var s=t&&"end"!=t&&fi(this,r,t),l=r.length-1;l>=0;l--)Ji(this,r[l]);s?zi(this,s):this.cm&&ao(this.cm)})),undo:jo((function(){Qi(this,"undo")})),redo:jo((function(){Qi(this,"redo")})),undoSelection:jo((function(){Qi(this,"undo",!0)})),redoSelection:jo((function(){Qi(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new wi(this.history.maxGeneration),vi(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Li(this.history.done),undone:Li(this.history.undone)}},setHistory:function(e){var t=this.history=new wi(this.history.maxGeneration);t.done=Li(e.done.slice(0),null,!0),t.undone=Li(e.undone.slice(0),null,!0)},setGutterMarker:jo((function(e,t,n){return sa(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&re(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:jo((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&sa(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,re(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!nt(this,e))return null;if(t=e,e=Xe(this,e),!e)return null}else if(t=et(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:jo((function(e,t,n){return sa(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(S(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:jo((function(e,t,n){return sa(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=e[r];if(!o)return!1;if(null==n)e[r]=null;else{var i=o.match(S(n));if(!i)return!1;var a=i.index+i[0].length;e[r]=o.slice(0,i.index)+(i.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0}))})),addLineWidget:jo((function(e,t,n){return fa(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return ma(this,dt(this,e),dt(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=dt(this,e),ma(this,e,e,n,"bookmark")},findMarksAt:function(e){e=dt(this,e);var t=[],n=Xe(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,n){e=dt(this,e),t=dt(this,t);var r=[],o=e.line;return this.iter(e.line,t.line+1,(function(i){var a=i.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&o==e.line&&e.ch>=l.to||null==l.from&&o!=e.line||null!=l.from&&o==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++o})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(o){var i=o.text.length+r;if(i>e)return t=e,!0;e-=i,++n})),dt(this,ot(n,t))},indexFromPos:function(e){e=dt(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new _a(Ze(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new _a(Ze(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],ba(r,ya(this)),r},unlinkDoc:function(e){if(e instanceof Ps&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),xa(ya(this));break}}if(e.history==this.history){var r=[e.id];vi(e,(function(e){return r.push(e.id)}),!0),e.history=new wi(null),e.history.done=Li(this.history.done,r),e.history.undone=Li(this.history.undone,r)}},iterLinkedDocs:function(e){vi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Le(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:jo((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&xi(this.cm))}))}),_a.prototype.eachLine=_a.prototype.iter;var Ca=0;function Sa(e){var t=this;if(Ta(t),!ye(t,e)&&!Un(t.display,e)){_e(e),a&&(Ca=+new Date);var n=jr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,i=Array(o),s=0,l=function(){++s==o&&Ao(t,(function(){n=dt(t.doc,n);var e={from:n,to:n,text:t.doc.splitLines(i.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};Ji(t.doc,e),zi(t.doc,si(dt(t.doc,n),dt(t.doc,li(e))))}))()},u=function(e,n){if(t.options.allowDropFileTypes&&-1==z(t.options.allowDropFileTypes,e.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(i[n]=e),l()},r.readAsText(e)}},c=0;c<r.length;c++)u(r[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),Hi(t.doc,si(n,n)),f)for(var p=0;p<f.length;++p)ra(t.doc,"",f[p].anchor,f[p].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(h){}}}}function ka(e,t){if(a&&(!e.state.draggingText||+new Date-Ca<100))ke(t);else if(!ye(e,t)&&!Un(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var n=D("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}function Oa(e,t){var n=jr(e,t);if(n){var r=document.createDocumentFragment();$r(e,n,r),e.display.dragCursor||(e.display.dragCursor=D("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),M(e.display.dragCursor,r)}}function Ta(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ma(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var o=t[r].CodeMirror;o&&n.push(o)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Da=!1;function Ia(){Da||(Ea(),Da=!0)}function Ea(){var e;he(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Ma(Aa)}),100))})),he(window,"blur",(function(){return Ma(Jr)}))}function Aa(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var La={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ja=0;ja<10;ja++)La[ja+48]=La[ja+96]=String(ja);for(var Na=65;Na<=90;Na++)La[Na]=String.fromCharCode(Na);for(var Pa=1;Pa<=12;Pa++)La[Pa+111]=La[Pa+63235]="F"+Pa;var Ra={};function Ba(e){var t,n,r,o,i=e.split(/-(?!$)/);e=i[i.length-1];for(var a=0;a<i.length-1;a++){var s=i[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Fa(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var o=X(n.split(" "),Ba),i=0;i<o.length;i++){var a=void 0,s=void 0;i==o.length-1?(s=o.join(" "),a=r):(s=o.slice(0,i+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e}function za(e,t,n,r){t=$a(t);var o=t.call?t.call(e,r):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&n(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return za(e,t.fallthrough,n,r);for(var i=0;i<t.fallthrough.length;i++){var a=za(e,t.fallthrough[i],n,r);if(a)return a}}}function Va(e){var t="string"==typeof e?e:La[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ha(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(_?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(_?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Ua(e,t){if(d&&34==e.keyCode&&e["char"])return!1;var n=La[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Ha(n,e,t))}function $a(e){return"string"==typeof e?Ra[e]:e}function qa(e,t){for(var n=e.doc.sel.ranges,r=[],o=0;o<n.length;o++){var i=t(n[o]);while(r.length&&it(i.from,K(r).to)<=0){var a=r.pop();if(it(a.from,i.from)<0){i.from=a.from;break}}r.push(i)}Eo(e,(function(){for(var t=r.length-1;t>=0;t--)ra(e.doc,"",r[t].from,r[t].to,"+delete");ao(e)}))}function Wa(e,t,n){var r=ae(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Ga(e,t,n){var r=Wa(e,t.ch,n);return null==r?null:new ot(t.line,r,n<0?"after":"before")}function Ya(e,t,n,r,o){if(e){"rtl"==t.doc.direction&&(o=-o);var i=fe(n,t.doc.direction);if(i){var a,s=o<0?K(i):i[0],l=o<0==(1==s.level),u=l?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=tr(t,n);a=o<0?n.text.length-1:0;var d=nr(t,c,a).top;a=se((function(e){return nr(t,c,e).top==d}),o<0==(1==s.level)?s.from:s.to-1,a),"before"==u&&(a=Wa(n,a,1))}else a=o<0?s.to:s.from;return new ot(r,a,u)}}return new ot(r,o<0?n.text.length:0,o<0?"before":"after")}function Ka(e,t,n,r){var o=fe(t,e.doc.direction);if(!o)return Ga(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var i=ce(o,n.ch,n.sticky),a=o[i];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Ga(t,n,r);var s,l=function(e,n){return Wa(t,e instanceof ot?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(s=s||tr(e,t),Cr(e,t,s,n)):{begin:0,end:t.text.length}},c=u("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var d=1==a.level==r<0,f=l(n,d?1:-1);if(null!=f&&(d?f<=a.to&&f<=c.end:f>=a.from&&f>=c.begin)){var p=d?"before":"after";return new ot(n.line,f,p)}}var h=function(e,t,r){for(var i=function(e,t){return t?new ot(n.line,l(e,1),"before"):new ot(n.line,e,"after")};e>=0&&e<o.length;e+=t){var a=o[e],s=t>0==(1!=a.level),u=s?r.begin:l(r.end,-1);if(a.from<=u&&u<a.to)return i(u,s);if(u=s?a.from:l(a.to,-1),r.begin<=u&&u<r.end)return i(u,s)}},m=h(i+r,r,c);if(m)return m;var g=r>0?c.end:l(c.begin,-1);return null==g||r>0&&g==t.text.length||(m=h(r>0?0:o.length-1,r,u(g)),!m)?null:m}Ra.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ra.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ra.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ra.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ra["default"]=y?Ra.macDefault:Ra.pcDefault;var Xa={selectAll:Ki,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),U)},killLine:function(e){return qa(e,(function(t){if(t.empty()){var n=Xe(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ot(t.head.line+1,0)}:{from:t.head,to:ot(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return qa(e,(function(t){return{from:ot(t.from().line,0),to:dt(e.doc,ot(t.to().line+1,0))}}))},delLineLeft:function(e){return qa(e,(function(e){return{from:ot(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return qa(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}}))},delWrappedLineRight:function(e){return qa(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ot(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ot(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Ja(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return Qa(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return Za(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),q)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),q)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Qa(e,t.head):r}),q)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,o=0;o<n.length;o++){var i=n[o].from(),a=B(e.getLine(i.line),i.ch,r);t.push(Y(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Eo(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var o=t[r].head,i=Xe(e.doc,o.line).text;if(i)if(o.ch==i.length&&(o=new ot(o.line,o.ch-1)),o.ch>0)o=new ot(o.line,o.ch+1),e.replaceRange(i.charAt(o.ch-1)+i.charAt(o.ch-2),ot(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var a=Xe(e.doc,o.line-1).text;a&&(o=new ot(o.line,1),e.replaceRange(i.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),ot(o.line-1,a.length-1),o,"+transpose"))}n.push(new ii(o,o))}e.setSelections(n)}))},newlineAndIndent:function(e){return Eo(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);ao(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ja(e,t){var n=Xe(e.doc,t),r=Jt(n);return r!=n&&(t=et(r)),Ya(!0,e,r,t,1)}function Za(e,t){var n=Xe(e.doc,t),r=Zt(n);return r!=n&&(t=et(r)),Ya(!0,e,n,t,-1)}function Qa(e,t){var n=Ja(e,t.line),r=Xe(e.doc,n.line),o=fe(r,e.doc.direction);if(!o||0==o[0].level){var i=Math.max(n.ch,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=i&&t.ch;return ot(n.line,a?0:i,n.sticky)}return n}function es(e,t,n){if("string"==typeof t&&(t=Xa[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),o=t(e)!=H}finally{e.display.shift=r,e.state.suppressEdits=!1}return o}function ts(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var o=za(t,e.state.keyMaps[r],n,e);if(o)return o}return e.options.extraKeys&&za(t,e.options.extraKeys,n,e)||za(t,e.options.keyMap,n,e)}var ns=new F;function rs(e,t,n,r){var o=e.state.keySeq;if(o){if(Va(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ns.set(50,(function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())})),os(e,o+" "+t,n,r))return!0}return os(e,t,n,r)}function os(e,t,n,r){var o=ts(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Mn(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(_e(n),Gr(e)),!!o}function is(e,t){var n=Ua(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?rs(e,"Shift-"+n,t,(function(t){return es(e,t,!0)}))||rs(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return es(e,t)})):rs(e,n,t,(function(t){return es(e,t)})))}function as(e,t,n){return rs(e,"'"+n+"'",t,(function(t){return es(e,t,!0)}))}var ss=null;function ls(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=A(),!ye(t,e))){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var o=is(t,e);d&&(ss=o?r:null,o||88!=r||Ne||!(y?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!y&&!o&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||us(t)}}function us(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(O(t,"CodeMirror-crosshair"),ge(document,"keyup",n),ge(document,"mouseover",n))}L(t,"CodeMirror-crosshair"),he(document,"keyup",n),he(document,"mouseover",n)}function cs(e){16==e.keyCode&&(this.doc.sel.shift=!1),ye(this,e)}function ds(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(Un(t.display,e)||ye(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(d&&n==ss)return ss=null,void _e(e);if(!d||e.which&&!(e.which<10)||!is(t,e)){var o=String.fromCharCode(null==r?n:r);"\b"!=o&&(as(t,e,o)||t.display.input.onKeyPress(e))}}}var fs,ps,hs=400,ms=function(e,t,n){this.time=e,this.pos=t,this.button=n};function gs(e,t){var n=+new Date;return ps&&ps.compare(n,e,t)?(fs=ps=null,"triple"):fs&&fs.compare(n,e,t)?(ps=new ms(n,e,t),fs=null,"double"):(fs=new ms(n,e,t),ps=null,"single")}function vs(e){var t=this,n=t.display;if(!(ye(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Un(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Os(t,e)){var r=jr(t,e),o=Te(e),i=r?gs(r,o):"single";window.focus(),1==o&&t.state.selectingText&&t.state.selectingText(e),r&&ys(t,o,r,i,e)||(1==o?r?xs(t,r,i,e):Oe(e)==n.scroller&&_e(e):2==o?(r&&Ni(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==o&&(C?t.display.input.onContextMenu(e):Kr(t)))}}function ys(e,t,n,r,o){var i="Click";return"double"==r?i="Double"+i:"triple"==r&&(i="Triple"+i),i=(1==t?"Left":2==t?"Middle":"Right")+i,rs(e,Ha(i,o),o,(function(t){if("string"==typeof t&&(t=Xa[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=H}finally{e.state.suppressEdits=!1}return r}))}function bs(e,t,n){var r=e.getOption("configureMouse"),o=r?r(e,t,n):{};if(null==o.unit){var i=b?n.shiftKey&&n.metaKey:n.altKey;o.unit=i?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||n.shiftKey),null==o.addNew&&(o.addNew=y?n.metaKey:n.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(y?n.altKey:n.ctrlKey)),o}function xs(e,t,n,r){a?setTimeout(P(Yr,e),0):e.curOp.focus=A();var o,i=bs(e,n,r),s=e.doc.sel;e.options.dragDrop&&Ie&&!e.isReadOnly()&&"single"==n&&(o=s.contains(t))>-1&&(it((o=s.ranges[o]).from(),t)<0||t.xRel>0)&&(it(o.to(),t)>0||t.xRel<0)?ws(e,r,t,i):Cs(e,r,t,i)}function ws(e,t,n,r){var o=e.display,i=!1,u=Ao(e,(function(t){l&&(o.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Kr(e)),ge(o.wrapper.ownerDocument,"mouseup",u),ge(o.wrapper.ownerDocument,"mousemove",c),ge(o.scroller,"dragstart",d),ge(o.scroller,"drop",u),i||(_e(t),r.addNew||Ni(e.doc,n,null,null,r.extend),l&&!f||a&&9==s?setTimeout((function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()}),20):o.input.focus())})),c=function(e){i=i||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return i=!0};l&&(o.scroller.draggable=!0),e.state.draggingText=u,u.copy=!r.moveOnDrag,he(o.wrapper.ownerDocument,"mouseup",u),he(o.wrapper.ownerDocument,"mousemove",c),he(o.scroller,"dragstart",d),he(o.scroller,"drop",u),e.state.delayingBlurEvent=!0,setTimeout((function(){return o.input.focus()}),20),o.scroller.dragDrop&&o.scroller.dragDrop()}function _s(e,t,n){if("char"==n)return new ii(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new ii(ot(t.line,0),dt(e.doc,ot(t.line+1,0)));var r=n(e,t);return new ii(r.from,r.to)}function Cs(e,t,n,r){a&&Kr(e);var o=e.display,i=e.doc;_e(t);var s,l,u=i.sel,c=u.ranges;if(r.addNew&&!r.extend?(l=i.sel.contains(n),s=l>-1?c[l]:new ii(n,n)):(s=i.sel.primary(),l=i.sel.primIndex),"rectangle"==r.unit)r.addNew||(s=new ii(n,n)),n=jr(e,t,!0,!0),l=-1;else{var d=_s(e,n,r.unit);s=r.extend?ji(s,d.anchor,d.head,r.extend):d}r.addNew?-1==l?(l=c.length,Vi(i,ai(e,c.concat([s]),l),{scroll:!1,origin:"*mouse"})):c.length>1&&c[l].empty()&&"char"==r.unit&&!r.extend?(Vi(i,ai(e,c.slice(0,l).concat(c.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),u=i.sel):Ri(i,l,s,$):(l=0,Vi(i,new oi([s],0),$),u=i.sel);var f=n;function p(t){if(0!=it(f,t))if(f=t,"rectangle"==r.unit){for(var o=[],a=e.options.tabSize,c=B(Xe(i,n.line).text,n.ch,a),d=B(Xe(i,t.line).text,t.ch,a),p=Math.min(c,d),h=Math.max(c,d),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=Xe(i,m).text,y=W(v,p,a);p==h?o.push(new ii(ot(m,y),ot(m,y))):v.length>y&&o.push(new ii(ot(m,y),ot(m,W(v,h,a))))}o.length||o.push(new ii(n,n)),Vi(i,ai(e,u.ranges.slice(0,l).concat(o),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,x=s,w=_s(e,t,r.unit),_=x.anchor;it(w.anchor,_)>0?(b=w.head,_=ut(x.from(),w.anchor)):(b=w.anchor,_=lt(x.to(),w.head));var C=u.ranges.slice(0);C[l]=Ss(e,new ii(dt(i,_),b)),Vi(i,ai(e,C,l),$)}}var h=o.wrapper.getBoundingClientRect(),m=0;function g(t){var n=++m,a=jr(e,t,!0,"rectangle"==r.unit);if(a)if(0!=it(a,f)){e.curOp.focus=A(),p(a);var s=eo(o,i);(a.line>=s.to||a.line<s.from)&&setTimeout(Ao(e,(function(){m==n&&g(t)})),150)}else{var l=t.clientY<h.top?-20:t.clientY>h.bottom?20:0;l&&setTimeout(Ao(e,(function(){m==n&&(o.scroller.scrollTop+=l,g(t))})),50)}}function v(t){e.state.selectingText=!1,m=1/0,t&&(_e(t),o.input.focus()),ge(o.wrapper.ownerDocument,"mousemove",y),ge(o.wrapper.ownerDocument,"mouseup",b),i.history.lastSelOrigin=null}var y=Ao(e,(function(e){0!==e.buttons&&Te(e)?g(e):v(e)})),b=Ao(e,v);e.state.selectingText=b,he(o.wrapper.ownerDocument,"mousemove",y),he(o.wrapper.ownerDocument,"mouseup",b)}function Ss(e,t){var n=t.anchor,r=t.head,o=Xe(e.doc,n.line);if(0==it(n,r)&&n.sticky==r.sticky)return t;var i=fe(o);if(!i)return t;var a=ce(i,n.ch,n.sticky),s=i[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var l,u=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==u||u==i.length)return t;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=ce(i,r.ch,r.sticky),d=c-a||(r.ch-n.ch)*(1==s.level?-1:1);l=c==u-1||c==u?d<0:d>0}var f=i[u+(l?-1:0)],p=l==(1==f.level),h=p?f.from:f.to,m=p?"after":"before";return n.ch==h&&n.sticky==m?t:new ii(new ot(n.line,h,m),r)}function ks(e,t,n,r){var o,i;if(t.touches)o=t.touches[0].clientX,i=t.touches[0].clientY;else try{o=t.clientX,i=t.clientY}catch(f){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&_e(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(i>s.bottom||!xe(e,n))return Se(t);i-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=o){var c=tt(e.doc,i),d=e.display.gutterSpecs[l];return ve(e,n,e,c,d.className,t),Se(t)}}}function Os(e,t){return ks(e,t,"gutterClick",!0)}function Ts(e,t){Un(e.display,t)||Ms(e,t)||ye(e,t,"contextmenu")||C||e.display.input.onContextMenu(t)}function Ms(e,t){return!!xe(e,"gutterContextMenu")&&ks(e,t,"gutterContextMenu",!1)}function Ds(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),dr(e)}ms.prototype.compare=function(e,t,n){return this.time+hs>e&&0==it(t,this.pos)&&n==this.button};var Is={toString:function(){return"CodeMirror.Init"}},Es={},As={};function Ls(e){var t=e.optionHandlers;function n(n,r,o,i){e.defaults[n]=r,o&&(t[n]=i?function(e,t,n){n!=Is&&o(e,t,n)}:o)}e.defineOption=n,e.Init=Is,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,pi(e)}),!0),n("indentUnit",2,pi,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){hi(e),dr(e),Pr(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var o=0;;){var i=e.text.indexOf(t,o);if(-1==i)break;o=i+t.length,n.push(ot(r,i))}r++}));for(var o=n.length-1;o>=0;o--)ra(e.doc,t,n[o],ot(n[o].line,n[o].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Is&&e.refresh()})),n("specialCharPlaceholder",mn,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!x),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){Ds(e),Jo(e)}),!0),n("keyMap","default",(function(e,t,n){var r=$a(t),o=n!=Is&&$a(n);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ns,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=Ko(t,e.options.lineNumbers),Jo(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Er(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return yo(e)}),!0),n("scrollbarStyle","native",(function(e){wo(e),yo(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=Ko(e.options.gutters,t),Jo(e)}),!0),n("firstLineNumber",1,Jo,!0),n("lineNumberFormatter",(function(e){return e}),Jo,!0),n("showCursorWhenSelecting",!1,Hr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(Jr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,js),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Hr,!0),n("singleCursorHeightPerLine",!0,Hr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,hi,!0),n("addModeClass",!1,hi,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,hi,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}function js(e,t,n){var r=n&&n!=Is;if(!t!=!r){var o=e.display.dragFunctions,i=t?he:ge;i(e.display.scroller,"dragstart",o.start),i(e.display.scroller,"dragenter",o.enter),i(e.display.scroller,"dragover",o.over),i(e.display.scroller,"dragleave",o.leave),i(e.display.scroller,"drop",o.drop)}}function Ns(e){e.options.lineWrapping?(L(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(O(e.display.wrapper,"CodeMirror-wrap"),sn(e)),Lr(e),Pr(e),dr(e),setTimeout((function(){return yo(e)}),100)}function Ps(e,t){var n=this;if(!(this instanceof Ps))return new Ps(e,t);this.options=t=t?R(t):{},R(Es,t,!1);var r=t.value;"string"==typeof r?r=new _a(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var o=new Ps.inputStyles[t.inputStyle](this),i=this.display=new Zo(e,r,o,t);for(var u in i.wrapper.CodeMirror=this,Ds(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),wo(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new F,keySeq:null,specialChars:null},t.autofocus&&!v&&i.input.focus(),a&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Rs(this),Ia(),Co(this),this.curOp.forceUpdate=!0,yi(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Xr(n)}),20):Jr(this),As)As.hasOwnProperty(u)&&As[u](this,t[u],Is);Yo(this),t.finishInit&&t.finishInit(this);for(var c=0;c<Bs.length;++c)Bs[c](this);So(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}function Rs(e){var t=e.display;he(t.scroller,"mousedown",Ao(e,vs)),he(t.scroller,"dblclick",a&&s<11?Ao(e,(function(t){if(!ye(e,t)){var n=jr(e,t);if(n&&!Os(e,t)&&!Un(e.display,t)){_e(t);var r=e.findWordAt(n);Ni(e.doc,r.anchor,r.head)}}})):function(t){return ye(e,t)||_e(t)}),he(t.scroller,"contextmenu",(function(t){return Ts(e,t)})),he(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||Ts(e,n)}));var n,r={end:0};function o(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),r=t.activeTouch,r.end=+new Date)}function i(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}he(t.scroller,"touchstart",(function(o){if(!ye(e,o)&&!i(o)&&!Os(e,o)){t.input.ensurePolled(),clearTimeout(n);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-r.end<=300?r:null},1==o.touches.length&&(t.activeTouch.left=o.touches[0].pageX,t.activeTouch.top=o.touches[0].pageY)}})),he(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),he(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!Un(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var i,a=e.coordsChar(t.activeTouch,"page");i=!r.prev||l(r,r.prev)?new ii(a,a):!r.prev.prev||l(r,r.prev.prev)?e.findWordAt(a):new ii(ot(a.line,0),dt(e.doc,ot(a.line+1,0))),e.setSelection(i.anchor,i.head),e.focus(),_e(n)}o()})),he(t.scroller,"touchcancel",o),he(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(fo(e,t.scroller.scrollTop),ho(e,t.scroller.scrollLeft,!0),ve(e,"scroll",e))})),he(t.scroller,"mousewheel",(function(t){return ri(e,t)})),he(t.scroller,"DOMMouseScroll",(function(t){return ri(e,t)})),he(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ye(e,t)||ke(t)},over:function(t){ye(e,t)||(Oa(e,t),ke(t))},start:function(t){return ka(e,t)},drop:Ao(e,Sa),leave:function(t){ye(e,t)||Ta(e)}};var u=t.input.getField();he(u,"keyup",(function(t){return cs.call(e,t)})),he(u,"keydown",Ao(e,ls)),he(u,"keypress",Ao(e,ds)),he(u,"focus",(function(t){return Xr(e,t)})),he(u,"blur",(function(t){return Jr(e,t)}))}Ps.defaults=Es,Ps.optionHandlers=As;var Bs=[];function Fs(e,t,n,r){var o,i=e.doc;null==n&&(n="add"),"smart"==n&&(i.mode.indent?o=yt(e,t).state:n="prev");var a=e.options.tabSize,s=Xe(i,t),l=B(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&(u=i.mode.indent(o,s.text.slice(c.length),s.text),u==H||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>i.first?B(Xe(i,t-1).text,null,a):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var d="",f=0;if(e.options.indentWithTabs)for(var p=Math.floor(u/a);p;--p)f+=a,d+="\t";if(f<u&&(d+=Y(u-f)),d!=c)return ra(i,d,ot(t,0),ot(t,c.length),"+input"),s.stateAfter=null,!0;for(var h=0;h<i.sel.ranges.length;h++){var m=i.sel.ranges[h];if(m.head.line==t&&m.head.ch<c.length){var g=ot(t,c.length);Ri(i,h,new ii(g,g));break}}}Ps.defineInitHook=function(e){return Bs.push(e)};var zs=null;function Vs(e){zs=e}function Hs(e,t,n,r,o){var i=e.doc;e.display.shift=!1,r||(r=i.sel);var a=+new Date-200,s="paste"==o||e.state.pasteIncoming>a,l=Le(t),u=null;if(s&&r.ranges.length>1)if(zs&&zs.text.join("\n")==t){if(r.ranges.length%zs.text.length==0){u=[];for(var c=0;c<zs.text.length;c++)u.push(i.splitLines(zs.text[c]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=X(l,(function(e){return[e]})));for(var d=e.curOp.updateInput,f=r.ranges.length-1;f>=0;f--){var p=r.ranges[f],h=p.from(),m=p.to();p.empty()&&(n&&n>0?h=ot(h.line,h.ch-n):e.state.overwrite&&!s?m=ot(m.line,Math.min(Xe(i,m.line).text.length,m.ch+K(l).length)):s&&zs&&zs.lineWise&&zs.text.join("\n")==l.join("\n")&&(h=m=ot(h.line,0)));var g={from:h,to:m,text:u?u[f%u.length]:l,origin:o||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};Ji(e.doc,g),Mn(e,"inputRead",e,g)}t&&!s&&$s(e,t),ao(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Us(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Eo(t,(function(){return Hs(t,n,0,null,"paste")})),!0}function $s(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var o=n.ranges[r];if(!(o.head.ch>100||r&&n.ranges[r-1].head.line==o.head.line)){var i=e.getModeAt(o.head),a=!1;if(i.electricChars){for(var s=0;s<i.electricChars.length;s++)if(t.indexOf(i.electricChars.charAt(s))>-1){a=Fs(e,o.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(Xe(e.doc,o.head.line).text.slice(0,o.head.ch))&&(a=Fs(e,o.head.line,"smart"));a&&Mn(e,"electricInput",e,o.head.line)}}}function qs(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var o=e.doc.sel.ranges[r].head.line,i={anchor:ot(o,0),head:ot(o+1,0)};n.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:n}}function Ws(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Gs(){var e=D("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=D("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Ws(e),t}function Ys(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,o=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Ao(this,t[e])(this,n,o),ve(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"]($a(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Lo((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");J(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,Pr(this)})),removeOverlay:Lo((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Pr(this)}})),indentLine:Lo((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),nt(this.doc,e)&&Fs(this,e,t,n)})),indentSelection:Lo((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var o=t[r];if(o.empty())o.head.line>n&&(Fs(this,o.head.line,e,!0),n=o.head.line,r==this.doc.sel.primIndex&&ao(this));else{var i=o.from(),a=o.to(),s=Math.max(n,i.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)Fs(this,l,e);var u=this.doc.sel.ranges;0==i.ch&&t.length==u.length&&u[r].from().ch>0&&Ri(this.doc,r,new ii(i,u[r].to()),U)}}})),getTokenAt:function(e,t){return Ct(this,e,t)},getLineTokens:function(e,t){return Ct(this,ot(e),t,!0)},getTokenTypeAt:function(e){e=dt(this.doc,e);var t,n=vt(this,Xe(this.doc,e.line)),r=0,o=(n.length-1)/2,i=e.ch;if(0==i)t=n[2];else for(;;){var a=r+o>>1;if((a?n[2*a-1]:0)>=i)o=a;else{if(!(n[2*a+1]<i)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var o=n[t],i=this.getModeAt(e);if("string"==typeof i[t])o[i[t]]&&r.push(o[i[t]]);else if(i[t])for(var a=0;a<i[t].length;a++){var s=o[i[t][a]];s&&r.push(s)}else i.helperType&&o[i.helperType]?r.push(o[i.helperType]):o[i.name]&&r.push(o[i.name]);for(var l=0;l<o._global.length;l++){var u=o._global[l];u.pred(i,this)&&-1==z(r,u.val)&&r.push(u.val)}return r},getStateAfter:function(e,t){var n=this.doc;return e=ct(n,null==e?n.first+n.size-1:e),yt(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?dt(this.doc,e):e?r.from():r.to(),yr(this,n,t||"page")},charCoords:function(e,t){return vr(this,dt(this.doc,e),t||"page")},coordsChar:function(e,t){return e=gr(this,e,t||"page"),wr(this,e.left,e.top)},lineAtHeight:function(e,t){return e=gr(this,{top:e,left:0},t||"page").top,tt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,o=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,o=!0),r=Xe(this.doc,e)}else r=e;return mr(this,r,{top:0,left:0},t||"page",n||o).top+(o?this.doc.height-on(r):0)},defaultTextHeight:function(){return Mr(this.display)},defaultCharWidth:function(){return Dr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,o){var i=this.display;e=yr(this,dt(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),i.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(i.wrapper.clientHeight,this.doc.height),u=Math.max(i.sizer.clientWidth,i.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==o?(s=i.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?s=0:"middle"==o&&(s=(i.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&ro(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:Lo(ls),triggerOnKeyPress:Lo(ds),triggerOnKeyUp:cs,triggerOnMouseDown:Lo(vs),execCommand:function(e){if(Xa.hasOwnProperty(e))return Xa[e].call(null,this)},triggerElectric:Lo((function(e){$s(this,e)})),findPosH:function(e,t,n,r){var o=1;t<0&&(o=-1,t=-t);for(var i=dt(this.doc,e),a=0;a<t;++a)if(i=Ks(this.doc,i,o,n,r),i.hitSide)break;return i},moveH:Lo((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Ks(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),q)})),deleteH:Lo((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):qa(this,(function(n){var o=Ks(r,n.head,e,t,!1);return e<0?{from:o,to:n.head}:{from:n.head,to:o}}))})),findPosV:function(e,t,n,r){var o=1,i=r;t<0&&(o=-1,t=-t);for(var a=dt(this.doc,e),s=0;s<t;++s){var l=yr(this,a,"div");if(null==i?i=l.left:l.left=i,a=Xs(this,l,o,n),a.hitSide)break}return a},moveV:Lo((function(e,t){var n=this,r=this.doc,o=[],i=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(i)return e<0?a.from():a.to();var s=yr(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),o.push(s.left);var l=Xs(n,s,e,t);return"page"==t&&a==r.sel.primary()&&io(n,vr(n,l,"div").top-s.top),l}),q),o.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=o[a]})),findWordAt:function(e){var t=this.doc,n=Xe(t,e.line).text,r=e.ch,o=e.ch;if(n){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&o!=n.length||!r?++o:--r;var a=n.charAt(r),s=ne(a,i)?function(e){return ne(e,i)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};while(r>0&&s(n.charAt(r-1)))--r;while(o<n.length&&s(n.charAt(o)))++o}return new ii(ot(e.line,r),ot(e.line,o))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?L(this.display.cursorDiv,"CodeMirror-overwrite"):O(this.display.cursorDiv,"CodeMirror-overwrite"),ve(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==A()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Lo((function(e,t){so(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Gn(this)-this.display.barHeight,width:e.scrollWidth-Gn(this)-this.display.barWidth,clientHeight:Kn(this),clientWidth:Yn(this)}},scrollIntoView:Lo((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ot(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?lo(this,e):co(this,e.from,e.to,e.margin)})),setSize:Lo((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&cr(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Rr(n,o,"widget");break}++o})),this.curOp.forceUpdate=!0,ve(this,"refresh",this)})),operation:function(e){return Eo(this,e)},startOperation:function(){return Co(this)},endOperation:function(){return So(this)},refresh:Lo((function(){var e=this.display.cachedTextHeight;Pr(this),this.curOp.forceUpdate=!0,dr(this),so(this,this.doc.scrollLeft,this.doc.scrollTop),qo(this.display),(null==e||Math.abs(e-Mr(this.display))>.5||this.options.lineWrapping)&&Lr(this),ve(this,"refresh",this)})),swapDoc:Lo((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),yi(this,e),dr(this),this.display.input.reset(),so(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Mn(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},we(e),e.registerHelper=function(t,r,o){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=o},e.registerGlobalHelper=function(t,r,o,i){e.registerHelper(t,r,i),n[t]._global.push({pred:o,val:i})}}function Ks(e,t,n,r,o){var i=t,a=n,s=Xe(e,t.line),l=o&&"rtl"==e.direction?-n:n;function u(){var n=t.line+l;return!(n<e.first||n>=e.first+e.size)&&(t=new ot(n,t.ch,t.sticky),s=Xe(e,n))}function c(i){var a;if("codepoint"==r){var c=s.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(c))a=null;else{var d=n>0?c>=55296&&c<56320:c>=56320&&c<57343;a=new ot(t.line,Math.max(0,Math.min(s.text.length,t.ch+n*(d?2:1))),-n)}}else a=o?Ka(e.cm,s,t,n):Ga(s,t,n);if(null==a){if(i||!u())return!1;t=Ya(o,e.cm,s,t.line,l)}else t=a;return!0}if("char"==r||"codepoint"==r)c();else if("column"==r)c(!0);else if("word"==r||"group"==r)for(var d=null,f="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;;h=!1){if(n<0&&!c(!h))break;var m=s.text.charAt(t.ch)||"\n",g=ne(m,p)?"w":f&&"\n"==m?"n":!f||/\s/.test(m)?null:"p";if(!f||h||g||(g="s"),d&&d!=g){n<0&&(n=1,c(),t.sticky="after");break}if(g&&(d=g),n>0&&!c(!h))break}var v=Gi(e,t,i,a,!0);return at(i,v)&&(v.hitSide=!0),v}function Xs(e,t,n,r){var o,i,a=e.doc,s=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*Mr(e.display),3);o=(n>0?t.bottom:t.top)+n*u}else"line"==r&&(o=n>0?t.bottom+3:t.top-3);for(;;){if(i=wr(e,s,o),!i.outside)break;if(n<0?o<=0:o>=a.height){i.hitSide=!0;break}o+=5*n}return i}var Js=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new F,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Zs(e,t){var n=er(e,t.line);if(!n||n.hidden)return null;var r=Xe(e.doc,t.line),o=Jn(n,r,t.line),i=fe(r,e.doc.direction),a="left";if(i){var s=ce(i,t.ch);a=s%2?"right":"left"}var l=ir(o.map,t.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function Qs(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function el(e,t){return t&&(e.bad=!0),e}function tl(e,t,n,r,o){var i="",a=!1,s=e.doc.lineSeparator(),l=!1;function u(e){return function(t){return t.id==e}}function c(){a&&(i+=s,l&&(i+=s),a=l=!1)}function d(e){e&&(c(),i+=e)}function f(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void d(n);var i,p=t.getAttribute("cm-marker");if(p){var h=e.findMarks(ot(r,0),ot(o+1,0),u(+p));return void(h.length&&(i=h[0].find(0))&&d(Je(e.doc,i.from,i.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&c();for(var g=0;g<t.childNodes.length;g++)f(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),m&&(a=!0)}else 3==t.nodeType&&d(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;;){if(f(t),t==n)break;t=t.nextSibling,l=!1}return i}function nl(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return el(e.clipPos(ot(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var i=e.display.view[o];if(i.node==r)return rl(i,t,n)}}function rl(e,t,n){var r=e.text.firstChild,o=!1;if(!t||!E(r,t))return el(ot(et(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var i=e.rest?K(e.rest):e.line;return el(ot(et(i),i.text.length),o)}var a=3==t.nodeType?t:null,s=t;a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));while(s.parentNode!=r)s=s.parentNode;var l=e.measure,u=l.maps;function c(t,n,r){for(var o=-1;o<(u?u.length:0);o++)for(var i=o<0?l.map:u[o],a=0;a<i.length;a+=3){var s=i[a+2];if(s==t||s==n){var c=et(o<0?e.line:e.rest[o]),d=i[a]+r;return(r<0||s!=t)&&(d=i[a+(r?1:0)]),ot(c,d)}}}var d=c(a,s,n);if(d)return el(d,o);for(var f=s.nextSibling,p=a?a.nodeValue.length-n:0;f;f=f.nextSibling){if(d=c(f,f.firstChild,0),d)return el(ot(d.line,d.ch-p),o);p+=f.textContent.length}for(var h=s.previousSibling,m=n;h;h=h.previousSibling){if(d=c(h,h.firstChild,-1),d)return el(ot(d.line,d.ch+m),o);m+=h.textContent.length}}Js.prototype.init=function(e){var t=this,n=this,r=n.cm,o=n.div=e.lineDiv;function i(e){for(var t=e.target;t;t=t.parentNode){if(t==o)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(i(e)&&!ye(r,e)){if(r.somethingSelected())Vs({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=qs(r);Vs({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,U),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var a=zs.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var s=Gs(),l=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),l.value=zs.text.join("\n");var u=document.activeElement;N(l),setTimeout((function(){r.display.lineSpace.removeChild(s),u.focus(),u==o&&n.showPrimarySelection()}),50)}}Ws(o,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),he(o,"paste",(function(e){!i(e)||ye(r,e)||Us(e,r)||s<=11&&setTimeout(Ao(r,(function(){return t.updateFromDOM()})),20)})),he(o,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),he(o,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),he(o,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),he(o,"touchstart",(function(){return n.forceCompositionEnd()})),he(o,"input",(function(){t.composing||t.readFromDOMSoon()})),he(o,"copy",a),he(o,"cut",a)},Js.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Js.prototype.prepareSelection=function(){var e=Ur(this.cm,!1);return e.focus=document.activeElement==this.div,e},Js.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Js.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Js.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),o=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||o.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var a=nl(t,e.anchorNode,e.anchorOffset),s=nl(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=it(ut(a,s),o)||0!=it(lt(a,s),i)){var l=t.display.view,u=o.line>=t.display.viewFrom&&Zs(t,o)||{node:l[0].measure.map[2],offset:0},c=i.line<t.display.viewTo&&Zs(t,i);if(!c){var d=l[l.length-1].measure,f=d.maps?d.maps[d.maps.length-1]:d.map;c={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(u&&c){var p,h=e.rangeCount&&e.getRangeAt(0);try{p=k(u.node,u.offset,c.offset,c.node)}catch(m){}p&&(!n&&t.state.focused?(e.collapse(u.node,u.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Js.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Js.prototype.showMultipleSelections=function(e){M(this.cm.display.cursorDiv,e.cursors),M(this.cm.display.selectionDiv,e.selection)},Js.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Js.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return E(this.div,t)},Js.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Js.prototype.blur=function(){this.div.blur()},Js.prototype.getField=function(){return this.div},Js.prototype.supportsTouch=function(){return!0},Js.prototype.receivedFocus=function(){var e=this;function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.selectionInEditor()?this.pollSelection():Eo(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},Js.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Js.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&c&&this.cm.display.gutterSpecs.length&&Qs(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=nl(t,e.anchorNode,e.anchorOffset),r=nl(t,e.focusNode,e.focusOffset);n&&r&&Eo(t,(function(){Vi(t.doc,si(n,r),U),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},Js.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,o=r.display,i=r.doc.sel.primary(),a=i.from(),s=i.to();if(0==a.ch&&a.line>r.firstLine()&&(a=ot(a.line-1,Xe(r.doc,a.line-1).length)),s.ch==Xe(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=ot(s.line+1,0)),a.line<o.viewFrom||s.line>o.viewTo-1)return!1;a.line==o.viewFrom||0==(e=Nr(r,a.line))?(t=et(o.view[0].line),n=o.view[0].node):(t=et(o.view[e].line),n=o.view[e-1].node.nextSibling);var l,u,c=Nr(r,s.line);if(c==o.view.length-1?(l=o.viewTo-1,u=o.lineDiv.lastChild):(l=et(o.view[c+1].line)-1,u=o.view[c+1].node.previousSibling),!n)return!1;var d=r.doc.splitLines(tl(r,n,u,t,l)),f=Je(r.doc,ot(t,0),ot(l,Xe(r.doc,l).text.length));while(d.length>1&&f.length>1)if(K(d)==K(f))d.pop(),f.pop(),l--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),t++}var p=0,h=0,m=d[0],g=f[0],v=Math.min(m.length,g.length);while(p<v&&m.charCodeAt(p)==g.charCodeAt(p))++p;var y=K(d),b=K(f),x=Math.min(y.length-(1==d.length?p:0),b.length-(1==f.length?p:0));while(h<x&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1))++h;if(1==d.length&&1==f.length&&t==a.line)while(p&&p>a.ch&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1))p--,h++;d[d.length-1]=y.slice(0,y.length-h).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var w=ot(t,p),_=ot(l,f.length?K(f).length-h:0);return d.length>1||d[0]||it(w,_)?(ra(r.doc,d,w,_,"+input"),!0):void 0},Js.prototype.ensurePolled=function(){this.forceCompositionEnd()},Js.prototype.reset=function(){this.forceCompositionEnd()},Js.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Js.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Js.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Eo(this.cm,(function(){return Pr(e.cm)}))},Js.prototype.setUneditable=function(e){e.contentEditable="false"},Js.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Ao(this.cm,Hs)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Js.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Js.prototype.onContextMenu=function(){},Js.prototype.resetPosition=function(){},Js.prototype.needsContentAttribute=!0;var ol=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new F,this.hasSelection=!1,this.composing=null};function il(e,t){if(t=t?R(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=A();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}var o;if(e.form&&(he(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var i=e.form;o=i.submit;try{var a=i.submit=function(){r(),i.submit=o,i.submit(),i.submit=a}}catch(l){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(ge(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=o))}},e.style.display="none";var s=Ps((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s}function al(e){e.off=ge,e.on=he,e.wheelEventPixels=ni,e.Doc=_a,e.splitLines=Le,e.countColumn=B,e.findColumn=W,e.isWordChar=te,e.Pass=H,e.signal=ve,e.Line=ln,e.changeEnd=li,e.scrollbarModel=xo,e.Pos=ot,e.cmpPos=it,e.modes=Be,e.mimeModes=Fe,e.resolveMode=He,e.getMode=Ue,e.modeExtensions=$e,e.extendMode=qe,e.copyState=We,e.startState=Ye,e.innerMode=Ge,e.commands=Xa,e.keyMap=Ra,e.keyName=Ua,e.isModifierKey=Va,e.lookupKey=za,e.normalizeKeyMap=Fa,e.StringStream=Ke,e.SharedTextMarker=ga,e.TextMarker=ha,e.LineWidget=ca,e.e_preventDefault=_e,e.e_stopPropagation=Ce,e.e_stop=ke,e.addClass=L,e.contains=E,e.rmClass=O,e.keyNames=La}ol.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var o=this.textarea;function i(e){if(!ye(r,e)){if(r.somethingSelected())Vs({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=qs(r);Vs({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,U):(n.prevInput="",o.value=t.text.join("\n"),N(o))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(o.style.width="0px"),he(o,"input",(function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),he(o,"paste",(function(e){ye(r,e)||Us(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),he(o,"cut",i),he(o,"copy",i),he(e.scroller,"paste",(function(t){if(!Un(e,t)&&!ye(r,t)){if(!o.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var i=new Event("paste");i.clipboardData=t.clipboardData,o.dispatchEvent(i)}})),he(e.lineSpace,"selectstart",(function(t){Un(e,t)||_e(t)})),he(o,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),he(o,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},ol.prototype.createField=function(e){this.wrapper=Gs(),this.textarea=this.wrapper.firstChild},ol.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},ol.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Ur(e);if(e.options.moveInputWithCursor){var o=yr(e,n.sel.primary().head,"div"),i=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+a.top-i.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+a.left-i.left))}return r},ol.prototype.showSelection=function(e){var t=this.cm,n=t.display;M(n.cursorDiv,e.cursors),M(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ol.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&N(this.textarea),a&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},ol.prototype.getField=function(){return this.textarea},ol.prototype.supportsTouch=function(){return!1},ol.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||A()!=this.textarea))try{this.textarea.focus()}catch(e){}},ol.prototype.blur=function(){this.textarea.blur()},ol.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ol.prototype.receivedFocus=function(){this.slowPoll()},ol.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},ol.prototype.fastPoll=function(){var e=!1,t=this;function n(){var r=t.poll();r||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},ol.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||je(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=n.value;if(o==r&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===o||y&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=o.charCodeAt(0);if(8203!=i||r||(r="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}var l=0,u=Math.min(r.length,o.length);while(l<u&&r.charCodeAt(l)==o.charCodeAt(l))++l;return Eo(t,(function(){Hs(t,o.slice(l),r.length-l,null,e.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},ol.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ol.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},ol.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,o=t.textarea;t.contextMenuPending&&t.contextMenuPending();var i=jr(n,e),u=r.scroller.scrollTop;if(i&&!d){var c=n.options.resetSelectionOnContextMenu;c&&-1==n.doc.sel.contains(i)&&Ao(n,Vi)(n.doc,si(i),U);var f,p=o.style.cssText,h=t.wrapper.style.cssText,m=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-m.top-5)+"px; left: "+(e.clientX-m.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(f=window.scrollY),r.input.focus(),l&&window.scrollTo(null,f),r.input.reset(),n.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=y,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&v(),C){ke(e);var g=function(){ge(window,"mouseup",g),setTimeout(y,20)};he(window,"mouseup",g)}else setTimeout(y,50)}function v(){if(null!=o.selectionStart){var e=n.somethingSelected(),i="​"+(e?o.value:"");o.value="⇚",o.value=i,t.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=i.length,r.selForContextMenu=n.doc.sel}}function y(){if(t.contextMenuPending==y&&(t.contextMenuPending=!1,t.wrapper.style.cssText=h,o.style.cssText=p,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=o.selectionStart)){(!a||a&&s<9)&&v();var e=0,i=function(){r.selForContextMenu==n.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==t.prevInput?Ao(n,Ki)(n):e++<10?r.detectingSelectAll=setTimeout(i,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(i,200)}}},ol.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},ol.prototype.setUneditable=function(){},ol.prototype.needsContentAttribute=!1,Ls(Ps),Ys(Ps);var sl="iter insert remove copy getEditor constructor".split(" ");for(var ll in _a.prototype)_a.prototype.hasOwnProperty(ll)&&z(sl,ll)<0&&(Ps.prototype[ll]=function(e){return function(){return e.apply(this.doc,arguments)}}(_a.prototype[ll]));return we(_a),Ps.inputStyles={textarea:ol,contenteditable:Js},Ps.defineMode=function(e){Ps.defaults.mode||"null"==e||(Ps.defaults.mode=e),ze.apply(this,arguments)},Ps.defineMIME=Ve,Ps.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Ps.defineMIME("text/plain","null"),Ps.defineExtension=function(e,t){Ps.prototype[e]=t},Ps.defineDocExtension=function(e,t){_a.prototype[e]=t},Ps.fromTextArea=il,al(Ps),Ps.version="5.59.2",Ps}))},fcbc:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{width:e.modalWidth,visible:e.visible,footer:null,cancelText:"关闭"},on:{cancel:e.handleCancel}},[n("div",{staticClass:"marginCss"},[n("a-table",{ref:"table",attrs:{size:"small",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,rowClassName:e.setdataCss,loading:e.loading,scroll:{y:700},pagination:!1},scopedSlots:e._u([{key:"avatarslot",fn:function(t,r){return[n("div",{staticClass:"anty-img-wrap"},[n("img",{attrs:{src:e.getAvatarView(r)}})])]}}])},[n("span",{attrs:{slot:"dataVersionTitle1"},slot:"dataVersionTitle1"},[n("a-icon",{attrs:{type:"smile-o"}}),e._v(" 版本:"+e._s(e.dataVersion1Num))],1),n("span",{attrs:{slot:"dataVersionTitle2"},slot:"dataVersionTitle2"},[n("a-icon",{attrs:{type:"smile-o"}}),e._v(" 版本:"+e._s(e.dataVersion2Num))],1)])],1)])},o=[],i=n("0fea"),a={name:"DataLogCompareModal",data:function(){return{modalWidth:1e3,modaltoggleFlag:!0,confirmDirty:!1,title:"操作",visible:!1,model:{},confirmLoading:!1,headers:{},dataVersion1Num:"",dataVersion2Num:"",columns:[{title:"字段名",align:"left",dataIndex:"code",width:"30%"},{align:"left",dataIndex:"dataVersion1",width:"30%",slots:{title:"dataVersionTitle1"}},{title:"",dataIndex:"imgshow",align:"center",scopedSlots:{customRender:"avatarslot"},width:"10%"},{align:"left",dataIndex:"dataVersion2",width:"30%",slots:{title:"dataVersionTitle2"}}],dataSource:[],loading:!1,url:{queryCompareUrl:"/sys/dataLog/queryCompareList"}}},created:function(){},methods:{loadData:function(e,t){var n=this;this.dataSource=[];var r=this;Object(i["c"])(r.url.queryCompareUrl,{dataId1:e,dataId2:t}).then((function(e){if(e.success){r.dataVersion1Num=e.result[0].dataVersion,r.dataVersion2Num=e.result[1].dataVersion;var t=JSON.parse(e.result[0].dataContent),o=JSON.parse(e.result[1].dataContent);for(var i in t)for(var a in o)i==a&&n.dataSource.push({code:i,imgshow:"",dataVersion1:t[i],dataVersion2:o[a]})}}))},compareModal:function(e,t){this.visible=!0,this.loadData(e,t)},handleCancel:function(){this.close()},modalFormOk:function(){},close:function(){this.$emit("close"),this.visible=!1,this.disableSubmit=!1},setdataCss:function(e){var t="trcolor",n=e.dataVersion1,r=e.dataVersion2;if(n!=r)return t},getAvatarView:function(e){return e.dataVersion1!=e.dataVersion2?"/goright.png":""}}},s=a,l=(n("4a1c"),n("5d22")),u=Object(l["a"])(s,r,o,!1,null,"6f34d1e7",null);t["default"]=u.exports},fcde:function(e,t,n){},fe23:function(e,t,n){},fe54:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"components-input-demo-presuffix"},[n("a-input",{attrs:{placeholder:"请点击选择部门",readOnly:"",disabled:e.disabled},on:{click:e.openModal},model:{value:e.departNames,callback:function(t){e.departNames=t},expression:"departNames"}},[n("a-icon",{attrs:{slot:"prefix",type:"cluster",title:"部门选择控件"},slot:"prefix"}),e.departIds?n("a-icon",{attrs:{slot:"suffix",type:"close-circle",title:"清空"},on:{click:e.handleEmpty},slot:"suffix"}):e._e()],1),n("j-select-depart-modal",{ref:"innerDepartSelectModal",attrs:{"modal-width":e.modalWidth,multi:e.multi,rootOpened:e.rootOpened,"depart-id":e.value},on:{ok:e.handleOK,initComp:e.initComp}})],1)},o=[],i=n("b0cd");function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function s(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={name:"JSelectDepart",components:{JSelectDepartModal:i["default"]},props:{modalWidth:{type:Number,default:500,required:!1},multi:{type:Boolean,default:!1,required:!1},rootOpened:{type:Boolean,default:!0,required:!1},value:{type:String,required:!1},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{visible:!1,confirmLoading:!1,departNames:"",departIds:""}},mounted:function(){this.departIds=this.value},watch:{value:function(e){this.departIds=e}},methods:{initComp:function(e){this.departNames=e},openModal:function(){this.$refs.innerDepartSelectModal.show()},handleOK:function(e,t){if(e){var n,r="",o=a(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;r+=","+i.departName}}catch(s){o.e(s)}finally{o.f()}this.departNames=r.substring(1),this.departIds=t}else this.departNames="",this.departIds="";this.$emit("change",this.departIds)},getDepartNames:function(){return this.departNames},handleEmpty:function(){this.handleOK("")}},model:{prop:"value",event:"change"}},c=u,d=(n("ebd3"),n("5d22")),f=Object(d["a"])(c,r,o,!1,null,"fed3ad80",null);t["default"]=f.exports},fed1:function(e,t,n){"use strict";var r=n("20d0"),o=n("df17"),i=n("aaf3");e.exports={formats:i,parse:o,stringify:r}},ff0a:function(e,t,n){},ff2a:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("a-row",[n("a-col",{attrs:{md:2,sm:4}},[n("a-select",{staticStyle:{width:"90px"},attrs:{defaultValue:"POST",size:"large"},on:{change:e.handleChange}},[n("a-select-option",{attrs:{value:"POST"}},[e._v("POST")])],1)],1),n("a-col",{attrs:{md:22,sm:20}},[n("a-input-search",{attrs:{placeholder:"input send url",enterButton:"Send",size:"large"},on:{search:e.onSearch},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1)],1),n("a-tabs",{attrs:{defaultActiveKey:"2"}},[n("a-tab-pane",{key:"2",attrs:{tab:"params"}},[n("textarea",{staticStyle:{width:"100%","font-size":"16px","font-weight":"500"},attrs:{rows:13},on:{input:e.changeVal}})])],1),n("a-tabs",{attrs:{defaultActiveKey:"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"response"}},[n("textarea",{staticStyle:{width:"100%","font-size":"16px","font-weight":"500"},attrs:{rows:10,readonly:""},domProps:{innerHTML:e._s(e.resultJson)}})])],1)],1)},o=[],i=n("0fea"),a=n("9fb0"),s=n("a593"),l={name:"FlowTest",data:function(){return{url:"",paramJson:"",resultJson:{},requestMethod:"POST"}},methods:{onSearch:function(e){var t=this,n=this;this.resultJson={},"POST"===this.requestMethod.toUpperCase()?Object(i["h"])(e,this.paramJson).then((function(e){t.resultJson=e})).catch((function(e){n.$message.error("请求异常："+e)})):Object(i["c"])(e,this.paramJson).then((function(e){t.resultJson=e})).catch((function(e){n.$message.error("请求异常："+e)}))},changeVal:function(e){try{var t=e.target.value;t=t.replace(/\n/g,""),t=t.replace(/\s*/g,""),t.indexOf(",}")>0&&(t=t.replace(",}","}")),this.paramJson=JSON.parse(t)}catch(e){this.$message.error("非法的JSON字符串")}},handleChange:function(e){this.requestMethod=e},created:function(){var e=s["default"].ls.get(a["a"]);this.headers={"X-Access-Token":e}}}},u=l,c=n("5d22"),d=Object(c["a"])(u,r,o,!1,null,null,null);t["default"]=d.exports}}]);