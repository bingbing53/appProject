(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68f709be"],{"0b23":function(t,e,n){},1448:function(t,e,n){"use strict";var o=n("0b23"),a=n.n(o);a.a},"45ff":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},[n("div",{staticClass:"wrapcontent"},[n("div",{staticClass:"addProposal"},[n("van-row",[n("label",[t._v("提案编号")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.proposalNo,expression:"proposalNo"}],staticClass:"input",attrs:{disabled:t.disabled,placeholder:""},domProps:{value:t.proposalNo},on:{input:function(e){e.target.composing||(t.proposalNo=e.target.value)}}})]),n("van-row",[n("label",[t._v("提案分类")]),n("div",{staticClass:"option"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{disabled:t.disabled},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?n:n[0]},t.getValue]}},[n("option",[t._v("--请选择--")]),t._l(t.ProposalTypeList,(function(e,o){return n("option",{key:o,domProps:{value:e.value}},[t._v(t._s(e.text))])}))],2)])]),n("van-row",[n("label",[t._v("提案标题")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"input",attrs:{disabled:t.disabled,placeholder:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),n("van-row",[n("label",[t._v("提案内容")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"textarea",attrs:{disabled:t.disabled,placeholder:""},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),n("van-cell",{attrs:{center:"",title:"是否公示"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[n("van-switch",{attrs:{"active-value":1,"inactive-value":0,size:"24"},on:{change:t.changePublicity},model:{value:t.publicity,callback:function(e){t.publicity=e},expression:"publicity"}})]},proxy:!0}])}),n("van-row",[n("p",{staticClass:"hasExplain"},[t._v("说明：如公示，则该提案会被发布到社区公众号中进行公示，社区居民将会看到您的提案")])]),n("van-cell",{attrs:{center:"",title:"是否投票"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[n("van-switch",{attrs:{"active-value":1,"inactive-value":0,size:"24"},model:{value:t.canvote,callback:function(e){t.canvote=e},expression:"canvote"}})]},proxy:!0}])}),n("van-row",[n("p",{staticClass:"hasExplain"},[t._v("说明：如允许投票，则社区居民可以对该提案投赞同或反对票")])]),n("van-cell",{attrs:{center:"",title:"是否允许居民发表意见"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[n("van-switch",{attrs:{"active-value":1,"inactive-value":0,size:"24"},model:{value:t.canjudge,callback:function(e){t.canjudge=e},expression:"canjudge"}})]},proxy:!0}])}),n("van-row",[n("p",{staticClass:"hasExplain"},[t._v("说明：如允许,则居民可针对改提案提出自己的建议")])]),n("div",{staticClass:"btnSure"},[t.disabled&&void 0!=t.id?t._e():n("van-button",{attrs:{type:"info",size:"normal"},on:{click:t.send}},[t._v("提交")])],1)],1)])])},a=[],i=(n("cc57"),n("f0fe")),l={data:function(){return{id:null,disabled:!1,proposalNo:8,type:"",title:"",content:"",publicity:0,canvote:0,canjudge:0,selecttype:"",ProposalTypeList:[]}},methods:{init:function(){},changePublicity:function(t){console.log(t,"val")},getProposalTypeList:function(){var t=this;Object(i["f"])().then((function(e){console.log(e,1111111),t.ProposalTypeList=e}))},send:function(){var t=this,e={proposalNo:this.proposalNo,type:this.type,title:this.title,content:this.content,publicity:this.publicity,canvote:this.canvote,canjudge:this.canjudge};Object(i["a"])(e).then((function(e){console.log(e,"添加提案"),t.$router.push({name:"Proposal"})}))},getValue:function(){console.log(this.type)}},beforeRouteEnter:function(t,e,n){console.log(e,"form.name");var o=JSON.parse(localStorage.getItem("item"));console.log(o,"item"),e.name,n()},beforeRouteLeave:function(){localStorage.removeItem("item")},mounted:function(){console.log(this.$route.query,"this.$route.query"),this.proposalNo=null,this.type=null,this.publicity=0,this.canvote=0,this.canjudge=0,this.content=this.$route.query.content||null,this.title=this.$route.query.title||null,console.log(this.content,this.title,1111),this.getProposalTypeList()}},s=l,c=(n("1448"),n("9ca4")),r=Object(c["a"])(s,o,a,!1,null,null,null);e["default"]=r.exports},cc57:function(t,e,n){var o=n("064e").f,a=Function.prototype,i=/^\s*function ([^ (]*)/,l="name";l in a||n("149f")&&o(a,l,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})}}]);