(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f0549ed"],{3114:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bgcw2"},[r("div",{staticClass:"pd-10 bgcw2"},[e._m(0),r("van-cell-group",[r("van-field",{attrs:{size:"large",placeholder:"请输入小组名称"},model:{value:e.form.groupName,callback:function(t){e.$set(e.form,"groupName",t)},expression:"form.groupName"}})],1)],1),r("div",{staticClass:"pd-10 bgcw2"},[e._m(1),r("van-cell-group",[r("van-field",{attrs:{type:"textarea",placeholder:" 请选择责任范围",autosize:"","left-icon":"add"},on:{"click-left-icon":e.select_area},model:{value:e.form.areaDes,callback:function(t){e.$set(e.form,"areaDes",t)},expression:"form.areaDes"}})],1)],1),r("div",[r("van-popup",{style:{height:"100%",width:"100%"},attrs:{position:"bottom"},model:{value:e.indexShow,callback:function(t){e.indexShow=t},expression:"indexShow"}},[r("div",[r("div",{staticClass:"text-r pd-10 Bline"},[r("van-button",{attrs:{plain:"",hairline:"",type:"info",size:"small"},on:{click:function(t){e.indexShow=!1}}},[e._v("取消")])],1),e._l(e.treeData,(function(t,n){return r("div",{key:t.id,on:{click:function(r){return e.showChildren(t)}}},[r("van-row",{staticClass:"Bline pd-5 bgcw2"},[r("van-col",{attrs:{span:"21"}},[r("p",{staticClass:"f-16 h_name h_world ellipsis"},[e._v(e._s(t.label))])]),r("van-col",{attrs:{span:"3"}},[r("van-icon",{staticClass:"h_name c-999",attrs:{name:"arrow"}})],1)],1)],1)})),e._l(e.showpop,(function(t,n){return r("div",[r("van-popup",{style:{height:"70%",width:"100%"},attrs:{position:"bottom"},model:{value:t.show,callback:function(r){e.$set(t,"show",r)},expression:"item.show"}},[r("div",{staticClass:"content_out"},[r("div",{staticClass:"pd-10 text-r Bline"},[r("van-button",{attrs:{plain:"",hairline:"",type:"info",size:"small"},on:{click:function(r){return e.sureBtn(t)}}},[e._v("确定")])],1),r("div",{staticClass:"content_50"},[r("div",{staticClass:"content_50_2"},[r("div",{staticClass:"content_40_1"},[r("div",{staticClass:"bgcy2"},e._l(t.children,(function(a,i){return t.children.length>0?r("div",[r("p",{staticClass:"Bline pd-10 text-c",class:{blue:i==e.current},on:{click:function(t){return e.ckickSon(a,i,n)}}},[r("span",[e._v(e._s(a.label))])])]):e._e()})),0)]),r("div",{staticClass:"content_50_1"},[r("div",{staticStyle:{height:"auto","padding-bottom":"26.6vw"}},e._l(e.buildings.children,(function(t,n){return r("div",{directives:[{name:"show",rawName:"v-show",value:e.clicked,expression:"clicked"}],staticClass:"pd-10 text-c"},[r("b",{staticClass:"normal c-333",class:{checked:e.arr.includes(t.id)},on:{click:function(r){return e.changeActive(e.buildings.label,t)}}},[r("span",[e._v(e._s(t.label))])])])})),0)])])])])])],1)}))],2)])],1),r("div",{staticClass:"pd-10 fix_bottom"},[r("van-button",{staticClass:"van_button_my",attrs:{size:"large",type:"info"},on:{click:e.saveForm}},[e._v("完成")])],1)])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"mb-5 f-16"},[r("span",{staticClass:"f-red"},[e._v("*")]),e._v(" 小组名称\n    ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"mb-5 f-16"},[r("span",{staticClass:"f-red"},[e._v("*")]),e._v(" 责任范围\n    ")])}],i=(r("f548"),r("aa8d"),r("b89e")),s=(r("6a61"),r("cf7f")),c=(r("cc57"),r("ed63"),r("8cf2"),r("754d"),r("7c18")),o=(r("6d57"),r("f1da")),u={data:function(){return{code:"",edit:"",current:-1,form:{groupName:"",areaDes:"",parentCode:"",area:""},treeData:[],showpop:[],arr:[],arr2:[],indexShow:!1,selectTree:[],villages:[],buildings:""}},methods:{showChildren:function(e){if(e.children){this.showpop=[];var t={index:e.index,show:!0,id:e.id,label:e.label,orgCode:e.orgCode,children:e.children};this.showpop.push(t);var r=this;this.arr2=[],e.children.forEach((function(e,t){var n={name:e.label,index:t,items:[]};r.arr2.push(n)}))}else this.arr2=[],Object(c["a"])({message:"该社区没有小区！"})},ckickSon:function(e,t,r){this.buildings=this.showpop[0].children[t],this.current=t,this.clicked=!0},changeActive:function(e,t){this.arr.includes(t.id)?this.arr=this.arr.filter((function(e){return e!=t.id})):this.arr.push(t.id);var r=this;if(r.arr2[r.current].items.length>0){var n=!1;for(var a in r.arr2[r.current].items)if(r.arr2[r.current].items[a].id==t.id){r.arr2[r.current].items=r.arr2[this.current].items.filter((function(e){return e.id!=t.id})),n=!0;break}0==n&&r.arr2[this.current].items.push({label:t.label,id:t.id})}else r.arr2[this.current].items.push({label:t.label,id:t.id})},sureBtn:function(e){var t=this;t.form.area="",t.form.areaDes="",this.arr.forEach((function(e,r){t.form.area+=e+","})),this.arr2.forEach((function(e,r){e.items.length>0&&(t.form.areaDes+=e.name+":"),e.items.forEach((function(e,r){t.form.areaDes+=e.label+","}))})),e.show=!1,this.indexShow=!1},select_area:function(){this.showpop=[],this.buildings="",this.treeData=[],this.getdutyArea(),this.indexShow=!0},saveForm:function(){this.form.groupName?this.form.areaDes?this.submitForm():Object(c["a"])({message:"请选择责任范围"}):Object(c["a"])({message:"请填写小组名称"})},submitForm:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=this.edit){e.next=7;break}return this.form.code=this.code,e.next=4,o["a"].editGroup(this.form);case 4:e.sent,e.next=10;break;case 7:return e.next=9,o["a"].addGroup(this.form);case 9:e.sent;case 10:this.form={groupName:"",areaDes:"",parentCode:"",area:""},Object(i["a"])({message:"提交成功",position:"bottom",duration:1e3}),this.$route.query.code?this.$router.go(-1):this.$router.replace({name:"group"});case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getdutyArea:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].dutyArea();case 2:t=e.sent,t=JSON.parse(t),this.treeData=t;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.$route.query.code&&(this.form.parentCode=this.$route.query.code),this.$route.query.groupName&&(this.form.groupName=this.$route.query.groupName),this.$route.query.areaDes&&(this.form.areaDes=this.$route.query.areaDes),this.$route.query.area&&(this.form.area=this.$route.query.area),this.$route.query.groupCode&&(this.code=this.$route.query.groupCode),this.edit=this.$route.query.edit}},l=u,h=(r("6678"),r("9ca4")),p=Object(h["a"])(l,n,a,!1,null,"e6187b0c",null);t["default"]=p.exports},6678:function(e,t,r){"use strict";var n=r("cc28"),a=r.n(n);a.a},"6d57":function(e,t,r){for(var n=r("e44b"),a=r("80a9"),i=r("bf16"),s=r("e7ad"),c=r("86d4"),o=r("da6d"),u=r("cb3d"),l=u("iterator"),h=u("toStringTag"),p=o.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=a(f),v=0;v<d.length;v++){var m,g=d[v],b=f[g],w=s[g],x=w&&w.prototype;if(x&&(x[l]||c(x,l,p),x[h]||c(x,h,g),o[g]=p,b))for(m in n)x[m]||i(x,m,n[m],!0)}},"8cf2":function(e,t,r){"use strict";var n=r("e46b"),a=r("7c0a"),i="includes";n(n.P+n.F*r("bc96")(i),"String",{includes:function(e){return!!~a(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},cc28:function(e,t,r){},cc57:function(e,t,r){var n=r("064e").f,a=Function.prototype,i=/^\s*function ([^ (]*)/,s="name";s in a||r("149f")&&n(a,s,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},ed63:function(e,t,r){"use strict";var n=r("e46b"),a=r("b3a6")(!0);n(n.P,"Array",{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r("0e8b")("includes")},f1da:function(e,t,r){"use strict";r("6a61");var n=r("cf7f"),a=r("8288"),i=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/work/groupList",{code:t}).then((function(e){r=e}));case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/work/v2/group",{code:t}).then((function(e){r=e})).catch((function(e){}));case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/work/isAuth/"+t).then((function(e){r=e})).catch((function(e){}));case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/work/willrecordList/"+t,{pageNo:r}).then((function(e){n=e})).catch((function(e){}));case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),u=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/work/investigationDataList/"+t,{pageNo:r}).then((function(e){n=e})).catch((function(e){}));case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),l=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/api/work/createGroup",t).then((function(e){r=e})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/api/work/updateGroup",t).then((function(e){r=e})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/chat/list").then((function(e){r=e})).catch((function(e){}));case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/api/work/addGroupPerson",{persons:t,code:r}).then((function(e){n=e})).catch((function(e){}));case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/api/work/delGroupPerson",{person:t,code:r}).then((function(e){n=e})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/api/work/deleteGroup",{code:t}).then((function(e){r=e})).catch((function(e){}));case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/work/buildingTree").then((function(e){r=e})).catch((function(e){}));case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t["a"]={getWillCategrolyList:i,showMyGroupCount:s,isDetail:c,getpeopleDemoList:o,getpeopleInquire:u,addMemberList:p,addMember:f,delMember:d,addGroup:l,editGroup:h,delGroup:v,dutyArea:m}},f548:function(e,t,r){"use strict";var n=r("69b3"),a=r("008a"),i=r("eafa"),s=r("ee21"),c=r("e754"),o=r("7108"),u=Math.max,l=Math.min,h=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,d=function(e){return void 0===e?e:String(e)};r("0aed")("replace",2,(function(e,t,r,v){return[function(n,a){var i=e(this),s=void 0==n?void 0:n[t];return void 0!==s?s.call(n,i,a):r.call(String(i),n,a)},function(e,t){var a=v(r,e,this,t);if(a.done)return a.value;var h=n(e),p=String(this),f="function"===typeof t;f||(t=String(t));var g=h.global;if(g){var b=h.unicode;h.lastIndex=0}var w=[];while(1){var x=o(h,p);if(null===x)break;if(w.push(x),!g)break;var k=String(x[0]);""===k&&(h.lastIndex=c(p,i(h.lastIndex),b))}for(var y="",_=0,C=0;C<w.length;C++){x=w[C];for(var S=String(x[0]),L=u(l(s(x.index),p.length),0),R=[],$=1;$<x.length;$++)R.push(d(x[$]));var D=x.groups;if(f){var O=[S].concat(R,L,p);void 0!==D&&O.push(D);var j=String(t.apply(void 0,O))}else j=m(S,p,L,R,D,t);L>=_&&(y+=p.slice(_,L)+j,_=L+S.length)}return y+p.slice(_)}];function m(e,t,n,i,s,c){var o=n+e.length,u=i.length,l=f;return void 0!==s&&(s=a(s),l=p),r.call(c,l,(function(r,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(o);case"<":c=s[a.slice(1,-1)];break;default:var l=+a;if(0===l)return r;if(l>u){var p=h(l/10);return 0===p?r:p<=u?void 0===i[p-1]?a.charAt(1):i[p-1]+a.charAt(1):r}c=i[l-1]}return void 0===c?"":c}))}}))}}]);